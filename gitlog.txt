1ec87c7032 dfc limits up to 30 deg
9c46739de9 made ch 7/8 be trim tabs for dfc
21fa03037e aded dfc mode
19bf39249d start of dfc - tuning knob for motor failure added - tested looks good in sim
2cff764d12 Merge remote-tracking branch 'upstream/master' into oa_module
9dd230e284 updated sim for oa battery
0ea26b4d3a AP_Periph: fixed float16 conversions for scalars
540a56adb8 autotest: use SIM_STATE (common.xml) instead of SIMSTATE (ardupilotmega.xml)
27fcb3a100 autotest: fix simstate error message
9f5591be02 Copter: notify buzzer on every flight mode change
ca35d01baa autotest: move upload_simple_relhome_mission up
d73ce0ed57 AP_Common: tests: stop overriding non-virtual method
7f4a4a99d6 AP_AHRS: move home and origin methods to frontend
02ca6b67a2 GCS_MAVLINK: fixed macos snprintf error
68a33e996d AP_Common: fixed invalid nmea test
37935262ff AP_Periph: fixed formatting errors
751b901ed9 Tools: fixed printf format errors
cb462cac6e AP_UAVCAN: fixed printf format errors
c4d05b3f3a AP_ToshibaCAN: fixed printf format errors
3712d7eca5 AP_Relay: fixed printf format errors
68c1f0db35 AP_Parachute: fixed printf format errors
067a6547bc AP_HAL: fixed printf format errors
f8e40eef00 AP_GPS: fixed printf format errors
a49f5b92e2 AP_Common: fixed printf format errors
7cdd18924e AP_CANManager: fixed printf format errors
45f6b16dec AP_RPM: fixed formatting of pin arming check
a56db06efb AP_Relay: fixed formatting of pin arming check
fe6ac6a581 AP_Button: fixed formatting of pin arming check
5c7b05f345 Copter: Guided: Add terrain following initialization.
492967a3fc .github: remove issue notifier
e51d358552 AP_RangeFinder: use typename SIM instead of SITL as it conflicts with namespace name
62b6350af1 AP_AHRS: use typename SIM instead of SITL as it conflicts with namespace name
3033589fca SITL: change class name from SITL::SITL to SITL::SIM
0d34a78701 GCS_MAVLink: change class name from SITL::SITL to SITL::SIM
88a72cca0b AP_WheelEncoder: change class name from SITL::SITL to SITL::SIM
4312213e18 AP_RangeFinder: change class name from SITL::SITL to SITL::SIM
5653f8c08b AP_RPM: change class name from SITL::SITL to SITL::SIM
02c0ce175e AP_Proximity: change class name from SITL::SITL to SITL::SIM
392ba06f6e AP_OpticalFlow: change class name from SITL::SITL to SITL::SIM
a3c301f689 AP_Notify: change class name from SITL::SITL to SITL::SIM
7832f81a84 AP_Logger: change class name from SITL::SITL to SITL::SIM
f20b7d0f8e AP_InertialSensor: change class name from SITL::SITL to SITL::SIM
58baad9949 AP_IRLock: change class name from SITL::SITL to SITL::SIM
26e2a4a3cb AP_HAL_SITL: change class name from SITL::SITL to SITL::SIM
3d6ef2106f AP_ESC_Telem: change class name from SITL::SITL to SITL::SIM
33f9c38528 AP_Compass: change class name from SITL::SITL to SITL::SIM
56b6c669d7 AP_Beacon: change class name from SITL::SITL to SITL::SIM
90437cb894 AP_Baro: change class name from SITL::SITL to SITL::SIM
114d7b22f4 AP_AHRS: change class name from SITL::SITL to SITL::SIM
9cad93f58c AC_PrecLand: change class name from SITL::SITL to SITL::SIM
dffe5be9c9 Rover: change class name from SITL::SITL to SITL::SIM
9ed21ad4dd Blimp: change class name from SITL::SITL to SITL::SIM
6ec8919bdd Sub: change class name from SITL::SITL to SITL::SIM
c8b2f009fd Plane: change class name from SITL::SITL to SITL::SIM
7e01e10056 Copter: change class name from SITL::SITL to SITL::SIM
e1e03cf42a AntennaTracker: change class name from SITL::SITL to SITL::SIM
7f9bbc9cfd Plane: fix ADSB stall speed units. Was accidently using meter/s instead of cm/s
fe99d3e217 AP_NavEKF_Source: add vertical position to pre_arm_check() description
107e647d00 AP_AHRS: correct compilation under SITL with no EKF3
f71b951cb2 AP_HAL_ChibiOS: return correct value for tx_pending().
6f53337b88 AP_RCTelemetry: add baud rate change command frame processing.
293bb7704e AP_RCProtocol: implementation of CRSF v3
ba45d32c7e AP_Scripting: avoid a error in lua with gcc 10.2 on STM32 with -Werror
23f6f38390 Plane: soaring: No action if in landing sequence.
4564992b47 AP_Soaring: Add an override-disable flag to update_active_state to support e.g. mission landing sequence.
5dea87ae41 Copter: remove ekf check debug logging
0ad2bf15bc AC_AttitudeControl: Support thrust to weight of 10:1
162b3b70cf Autotest: use MAV_POS_TARGET_TYPE_MASK, remove POS_TYPE_MASK_FORCE
4559274755 Rover: remove POSITION_TARGET_TYPEMASK_FORCE_SET
f64ccbd2a6 Blimp: remove POSITION_TARGET_TYPEMASK_FORCE_SET
66cd413473 ArduPlane: remove POSITION_TARGET_TYPEMASK_FORCE_SET
daf73e7174 ArduCopter: remove POSITION_TARGET_TYPEMASK_FORCE_SET
7ff592d29e Plane: Quadplane: move mode functions to mode classes in-place
4a5e4f9c85 Plane: mode: add quadplane refences
a808d5c688 Plane: mode: add run and init methods
03d17437c3 Plane: mode_takeoff: call base mode constuctor
30252c1b3f AP_Motors: remove tri yaw servo from motor mask
89246739c4 AP_RCTelemetry: warn if Passthru miss-configured
54d92551d1 waf: add files from ROMFS_custom to ROMFS
76c4af6aef GCS_MAVLink: cope with MAV_CMD_ACCELCAL_VEHICLE_POS outside accelcal
eb638a5267 HAL_ChibiOS: added CubeMX files for G431 and G441
bab0c1dfc7 HAL_ChibiOS: fixed build for single FDCAN G4 boards
8df99f0d15 HAL_ChibiOS: added G431 and G441 support
8e72dc32d1 autotest: add test home is restored persistently on wdog reset
435988a300 Plane: don't reset home on GPS startup on watchdog reset
cd01069b88 Rover: use mission singleton inside AP_AdvancedFailsafe
cfe25f71e3 ArduPlane: use mission singleton inside AP_AdvancedFailsafe
f21cddcf0f ArduCopter: use mission singleton inside AP_AdvancedFailsafe
3013017369 AP_AdvancedFailsafe: use mission singleton inside AP_AdvancedFailsafe
d0969a4476 AP_Logger: added RATEMAX for mavlink and block backends
4dfe750d71 AP_Logger: handle instance types in rate limiting
575c76bdd0 AP_Logger: pack LogStructure to save some flash space
e6f15ed6c0 autotest: cope with WriteStreaming() in doc tests
8196f422cb SITL: mark SIM2 as a streaming message
e7702a4216 Plane: mark log messages as streaming
e1094bc845 Copter: mark log messages as streaming
0c60e741ed Tracker: mark log messages as streaming
b83c7f3025 AP_NavEKF: mark log messages as streaming
8681ecebfd AP_NavEKF3: mark log messages as streaming
84b1468ce6 AP_NavEKF2: mark log messages as streaming
f68ed4f0a4 AP_InertialSensor: mark log messages as streaming
9a262d19ed AP_GPS: mark log messages as streaming
b450b59acc AP_ESC_Telem: mark log messages as streaming
bbfd2e962e AP_BattMonitor: mark log messages as streaming
166d13d8c3 AP_Baro: mark log messages as streaming
5dab362286 AP_AHRS: mark log messages as streaming
f3181ae0f6 AC_PrecLand: mark log messages as streaming
5af59fb555 AC_Avoidance: mark log messages as streaming
662f7a0191 AP_Logger: added LOG_FILE_RATEMAX parameter
1e4a6c9236 ArduPlane: Correct OSD horizon for VTOL modes and TRIM_PITCH_CD in Fixed Wing
b69308858a AP_Vehicle: correct OSD horizon for VTOL modes and TRIM_PITCH_CD in FW modes
b2a100f41b AP_OSD: correct OSD horizon for VTOL modes and TRIM_PITCH_CD in FW modes
289264f1dd AP_BattMonitor: move analog parameters to subgroupvarptr
e37efa45de AP_BattMonitor: add SMBus address param and create SMBus subtree
1cb11a5ff2 Tools: autotest change smartbatt param names
27b324742e Tools: sim_vehicle: pass on slave comandline CMD
612ea70e5b SITL: add JSON Master
41c167ba89 SITL: add SIM_JSON_MASTER param
4505dce64d SITL: SIM_JSON: add no time sync to JSON format
5ff0f42372 AP_HAL_SITL: add slave JSON instances
8ee38a7171 Sub: update release notes for 4.0.3
383807e334 AP_AHRS: move AOA state to private in frontend
7e8f812909 Plane: don't allow motortest if motors not allocated
43da962d34 AC_Avoid: use proximity_avoidance_enabled function
04deabbacb AC_Avoid: confirm USE_PROXIMITY_SENSOR to check if proximity is enabled
19a9e1a416 Tools: cope with build_binaries.py being copied out
b037507c48 Plane: mark master as 4.2.0dev
a0da76243d autotest: reboot after AHRS_ORIENTATION test
47854ac4b7 APM_Control: lower the tuning trigger threshold
6dce2e89c5 ArduCopter: guided auto_yaw_angle_rate timeout
944b82a7be AP_Compass: make is_calibrating const
d131cf01d3 AP_AHRS: use compass reference rather than pointer
f3a52999d8 .github: fix issue with another actions kernel release missing modules
6e68292c62 Blimp: use AP::compass().available in place of enabled()
d40587062e AP_Periph: use AP::compass().available in place of enabled()
d5ea202c20 AP_Compass: mark COMPASS_ENABLED as @RebootRequired
ffd577f30b Rover: use AP::compass().available in place of enabled()
3e13790039 ArduSub: use AP::compass().available in place of enabled()
c348f602d9 ArduPlane: use AP::compass().available in place of enabled()
f7b877f4da ArduCopter: use AP::compass().available in place of enabled()
0189ee2a04 AntennaTracker: use AP::compass().available in place of enabled()
431c186306 GCS_MAVLink: use AP::compass().available in place of enabled()
c351150a46 AP_Compass: use AP::compass().available in place of enabled()
8c2cf123af Rover: stop using AHRS as conduit for Compass pointer
85e8b362a7 ArduPlane: stop using AHRS as conduit for Compass pointer
b2575c2b1d AntennaTracker: stop using AHRS as conduit for Compass pointer
78e63a8852 AP_NMEA_Output: stop using AHRS as conduit for Compass pointer
c34284b6eb AP_NavEKF3: stop using AHRS as conduit for Compass pointer
dec4ba86b6 AP_NavEKF2: stop using AHRS as conduit for Compass pointer
dc82487fae AP_Mount: stop using AHRS as conduit for Compass pointer
b5b4ec94c9 AP_DAL: stop using AHRS as conduit for Compass pointer
1d9bfdf8dd AP_Compass: stop using AHRS as conduit for Compass pointer
ca58aa9c5f AP_AHRS: stop using AHRS as conduit for Compass pointer
74859095a9 AP_DAL: add and use compass.available()
658c978c9d AP_Compass: add and use compass.available()
8bbed968de AP_Compass: remove unused variable
de91058b1a Tools: Add tmux support to run_in_terminal_window.sh
4f12c94346 AC_Avoidance: handle upward proximity enable and disable
2ae483cee0 autotest: stop uploading artifacts to autotest server
e4bceb2417 AP_AHRS: move AOA/SSA to AP_AHRS, don't recalc on fetch
c1e263695f Plane: remove unimplemented function declaration
69376cdb5f Tools: added mRo M10095 bootloader
4b0736ecf4 Tools: added bootloader for G491
4df62ce719 HAL_ChibiOS: added mRo-M10095 G491 peripheral
adb8e1fc7e Tools: added mRo-M10095 board type
4fce1ae092 HAL_ChibiOS: added G491 support
f507e85f10 Tools: added Nucleo-491
cfdf91e18a AP_Bootloader: fixed G4 MCU descriptions
4f7a24d4a0 ChibiOS: fixed G491 registry
0e7c2a27a6 AP_GPS: added arming checks for yaw available on ublox RTK rover
564f3dde74 Copter: version to 4.1.0-dev
bb624074dd APM_Control: remove outdated tuning guide
d2a14f4283 Tools/ardupilotwaf: make skipped summary warning red
4b28f53644 AP_Scripting: add change alt frame method to location userdata
37911a7727 Rover: #ifdef scripting specific functions
f18428b357 Plane: #ifdef scripting specific functions
c2a6377c53 Copter: #ifdef scripting specific functions
88d4ada96d AP_Vehicle: #ifdef scripting specific functions
e5d4620372 AP_Compass: update orientation param values
9cceb2d5c1 AP_AHRS: update orientation param values
22100dd37c AP_Math: move to 32 digit rotation constants
78e025af39 AP_Compass: add Calibrator index test
5ecfd3fbce AP_Math: remove unused ROTATION_MAX_AUTO_ROTATION define
36a80d46e3 AP_Compass: support auto orientation for new rotations
dbd95f8163 AP_Math: make duplicate rotations clear
080f6c295c AP_Math: examples: rotations: add test for duplicate rotations.
f8220a8adf AP_Math: tests: test quaternion rotation is the same as vector
6c5424aad6 AP_Math: add roll +- 45 rotations
4b9311d87d AP_Motors: added new MOT_PWM_TYPE=8 for PWM range
8b7b4d6796 AP_HAL_Chibios: Change RC in to RCINT to free a DMA channel
f557d41145 AP_AHRS: rotate quaternions into vehicle body frame
7929122f49 autotest: improve AHRS trim test
ad89e9777c GCS_MAVLink: send primary quat in ATTITUDE_QUATERNION
909decc5be autotest: move wait_attitude up to common.py
118d3f085f AP_Math: quaternion: add from_euler(Vector3&)
6f3e3a913a AP_Periph: fix dna wait blink
26689aabba ChibiOS: update submodule to match HEAD revision
791b043586 waf: added 10.2.1 gcc to whitelist of compilers for -Werror
0f3dc195b6 AP_InertialSensor: fixed build warning
243dc06fd4 Tools: switched development to the 10.2.1 compiler for STM32
e95abce466 Tools: use 10.2.1 compiler for latest builds of ChibiOS boards
18cbd25828 Tools: removed remnants of px4 build support
66bad7b885 waf: added --assert-cc-version configure option
aa0a77049e AP_Compass: fixed build warning on g++ 10.2
da3ff2c142 autotest: add test for live change of AHRS orientation
5160b4f6ca AP_AHRS: move AP_NMEA_Output to AHRS frontend
04ddc9de03 autotest: correct order of progress vs action in set-param
e1884bcd6e autotest: run dumpstack/dumpcore on stuck SITL process
b539a534e9 Plane: improve description of Q_TRIM_PITCH
cc53db406d Copter: treat Auto RTL the same as Auto
885b12f179 Copter: command long DO_LAND_START enters Auto RTL pseudo mode
6561669213 Copter: support Auto RTL for failsafe events
b63cc809ce Copter: add AUTO RTL pseudo mode, DO_LAND_START
7d3fa242d7 RC_Channel: add AUTO RTL option
32b3c8ea08 AP_Mission: caculate distance to do_land_start with no location correctly
cea54c48cd AP_BattMoniter: add Auto RTL option
beefd95079 Plane: QuadPlane: tailsitter param conversion, set and use new enable param
0eab3faf32 Plane: use new tailsiter class
2bc2b9533b Plane: QuadPlane: move tailsitter to class
9047b19e59 AP_Scripting: bindings for CANFrame and ScriptingCANBuffer
44276be3a1 AP_Scripting: add CANSensor and manaul bindings to load.
e29dd0e7e7 AP_Scripting: add CAN read and write examples
8c7cad8663 AP_Scripting: generator support depends keyword on AP_Object
432793a18a AP_Arming: support scripting CAN driver
bd36053abc AP_CANManager: support scripting CAN driver
bd604aba6c ChibiOS: update with bug fixes for 20.3
f20644b6cf board_types.txt: reserve ID for Argosdyne DP1000
08cd1171bf Tools: added MatekF765-SE to autobuild
2c83ab264f Tools: Add Qiotek f103 periph to build list
207de0ed4d AP_Landing: remove DeepStall from 1MB boards
8ec4b77cd7 AP_SerialManager: relabel protocol 29 to avoid confusion with CRSF RC
cbb2ba8d62 SRV_Channel: added doc of SERVOn_FUNCTION=-1 for GPIO
2cdc4f5698 AP_HAL: add basic tests for ringbuffer
90aed6f338 AP_HAL: fixed get_size() on ObjectBuffer to be consistent with set_size()
3d03979b16 GCS_MAVLink: add support for mavlink out on AP_Periph
35d94b17eb AP_Periph: add support for MAVLink for HerePro
4bf1d92e8f integration of optim library - compiles - needs to be tested
ea84f295ea Tools: updated MambaF405US-I2C bootloader
299b3ef200 AP_Periph: fixed msp gps yaw
716697f337 Plane: updated release notes for 4.1.0beta4
35beae6037 AP_HAL_ChibiOS: Make final tweaks to MambaF405US-I2C
c84a880de4 Tools: Add Diatone MambaF405US-I2C
bdcb32456e AP_HAL_ChibiOS: Add support for MambaF405US-I2C based boards
280788bfdf AP_HAL_LINUX:toggle gpio port
d95f6c8c2f AP_Arming: added button arming check
d8b8facdd0 HAL_ChibiOS: fixed off by 1 bug in GPIO check
ef93165f28 AP_Button: added arming check
45cf726a4b APM_Control: new autotune scheme
73952dfecb Plane: update ATRP logging
eb357738e0 Rover: version to 4.2.0-dev
98f5eb28db AP_RangeFinder: use separate register_driver method while contructing CAN Driver
59242739c7 AP_EFI: use separate register_driver method while contructing CAN Driver
e553acd3e3 AP_BattMonitor: use separate register_driver method while contructing CAN Driver
6e61867e7f AP_CANSensor: create a separate register driver method
f472da8e90 Plane: added ONESHOT_MASK parameter
1ae669bb01 Plane: added manual input expo for MANUAL, ACRO and TRAINING
c5ef672fb5 AP_Math: fixed expo_curve()
275f75d0cb Rover: 4.1.0-beta6 release notes
a713139d79 Copter: 4.1.0-beta6 release notes
a3e176284d AP_Scripting: add AP_InertialSensor binding
88d49effe7 AP_AHRS: move variable init into variable declaration
15e5831002 AP_AHRS: remove unused get_expected_mag_field method
5b372dae06 AP_AHRS: stop storing gyro drift rate as variable
a4d98a457b AP_AHRS: move init of dcm state into variable declarations
4f9201a160 AP_AHRS: move parameters back into AP_AHRS.h
d351b7c7dc AP_AHRS: fix includes for moved files
b7d4166b28 AP_AHRS: rename AP_AHRS_NavEKF.* to AP_AHRS.*
97b394a5ef AP_AHRS: rename AP_AHRS.* to AP_AHRS_Backend.*
17ead96250 AP_NavEKF3: Revert IMU and wind speed process noise parameter defaults
9207744152 Tools: Rework Plane.EKFlaneswitch autotest
7f3980c1f4 Tools: Rework Copter VibrationFailsafe test to use commanded land
cd0eb379fd Revert "Copter: failsafe if bad vibration"
aa6ac4a874 AP_NavEKF3: retune wind process noise for better airspeed fault detection
8fd1e98701 AP_NavEKF3: Fix bug preventing copter wind estimation at low speed
ef1dda005f Tool: Allow more time for quadplane autotest to land and disarm
0088b0f3fe AP_NavEKF3: Revert EK3_BETA_MASK parameter extension
c0d942af4c Plane: disable EKF3 default airspeed fusion by default
5dcd4834f3 Copter: failsafe if bad vibration
59d31cc7d5 AP_NavEKF3: Rework non-airspeed wind estimation
5fa3ed5755 AP_NAvEKF3: use #define value for bad IMU hold time
9654697415 Copter: rework ekf_check to use the EKF vibration_affected status
7497590363 AP_NavEKF3: Increase lower state variance limit when vibration affected
3e123c0a30 AP_NavEKF3: Use sensor variance when checking for bad IMU
e3bdbcd8ea AP_NavEKF3: Make bad IMU status more persistent
8f1b98a0cb AP_AHRS: Add accessor function for vibration affected status
ccc95d8726 AP_NavEKF3: Add accessor function for vibration affected status
ed61287410 AP_NavEKF3: Don't update accel bias states if vibration affected
62d70a628e AP_NavEKF3: Use large accel process noise when IMU data is bad
5eb7751682 AP_NavEKF3: Adjust gyro bias process noise tuning
ff1c465a17 Tools: relax navigation test accuracy
72dc998509 AP_NavEKF3: Allow smaller dvel bias state variances for improved tuning
0f2661c31c AP_NavEKF3: Retune IMU process noise
a0ae998a4d Tools: Fix AIRSPEED_AUTOCAL test failure
171eed5d85 AP_NavEKF3: Make gyro bias learning less noisy
ce4d13091a AP_NavEKF3: Fix bug preventing learning of XY IMU dvel bias in flight
6242ce19fa AP_NavEKF3: Change powf(x,2) to sq(x)
bb9eed28a9 AP_NavEKF3: Update covariance prediction equations
7b8e935880 AP_NavEKF3: Use alternate form for quaternion to rotmat equations in derivation
0048167f16 SITL: added SIM2 message
e9f6a5afdf AR_WPNav: integrate PathPlanner returning path_planner_used
83e85c7125 AC_WPNav_OA: minor formatting and comment fixes
cf797dfca9 AC_WPNav_OA: separate handlers for results from Dijkstra's and BendyRuler
dd4b3295f4 AC_Avoidance: BendyRuler returned destination are shortened
faadaafd53 AC_Avoidance: bendy ruler format fixes
6d6324a328 AC_Avoidance: OA_PathPlanner returns which planner was used
d7d41aea38 AC_Avoidance: BendyRuler returns which type was used
70c6694798 AP_Common: add Location::linear_interpolate_alt
7daacfd63e AP_Math: vector2f gets float.h include
52bb8112b3 AP_Math: control.h needs vector2/3 includes
95cbb69d3c AP_Parachute: added CHUTE_OPTIONS
f91e995e98 AP_Arming: check pin arming_checks
8660e98b57 AP_Parachute: added arming_checks()
09ad43dea3 AP_Relay: added arming_checks
d827b35e57 AP_RPM: implement arming_checks()
9b78fa7fb8 HAL_SITL: implement valid_pin()
d302d3c90a HAL_ChibiOS: implement valid_pin()
4dcff3d900 AP_HAL: added valid_pin() GPIO API
8f9929c6c2 Rover: replaced Pixhawk with more appropriate wording in docs
8e6abf5976 ArduPlane: replaced Pixhawk with more appropriate wording in docs
a0ef4f76e2 AP_RangeFinder: replaced Pixhawk with more appropriate wording in docs
6888ddc4cc AP_LeakDetector: replaced Pixhawk with more appropriate wording in docs
b6dbc618dc AP_Compass: replaced Pixhawk with more appropriate wording in docs
fdd294b0f3 AP_BoardConfig: replaced Pixhawk with more appropriate wording in docs
b0fc5c3041 AP_WindVane: replaced PixhawkAUX1 with AUX1
8b388f80c5 AP_WheelEncoder: replaced PixhawkAUX1 with AUX1
9691581c81 AP_RSSI: replaced PixhawkAUX1 with AUX1
095ab7c9d7 AP_RPM: replaced PixhawkAUX1 with AUX1
25057d26a0 AP_WindVane: default pins to -1
d0a26b6dc6 AP_WheelEncoder: default pins to -1
958843c0a9 AP_RSSI: default RSSI pin to -1
7eaab583d4 AP_RPM: stop defaulting RPM_PIN to 54
bbcce717dc HAL_ChibiOS: stop defaulting relay pins to 54 and 55
0f70b4d8e3 AP_BoardConfig: removed BRD_PWM_COUNT
54e53ed71c HAL_ChibiOS: use is_GPIO() instead of BRD_PWM_COUNT
874757a955 SRV_Channel: added k_GPIO and is_GPIO()
a6a18fe193 AP_AHRS: punt to correct parent class when no index for getCorrectedDeltaVelocityNED
b450a96698 AP_AHRS: shuffle AP_AHRS classes
5c7d5a048f Rover: rename for AHRS restructuring
106534a654 Blimp: rename for AHRS restructuring
e98af90749 ArduSub: rename for AHRS restructuring
06c2faaec5 ArduPlane: rename for AHRS restructuring
e74a8e28af ArduCopter: rename for AHRS restructuring
d74bb146f1 AntennaTracker: rename for AHRS restructuring
e1b839f739 GCS_MAVLink: rename for AHRS restructuring
1ae7d68988 AP_VisualOdom: rename for AHRS restructuring
7cca7513a1 AP_Vehicle: rename for AHRS restructuring
e1162f0a66 AP_SmartRTL: rename for AHRS restructuring
ed5303d1b8 AP_OpticalFlow: rename for AHRS restructuring
48e9fa7ebd AP_NMEA_Output: rename for AHRS restructuring
ee069a081b AP_Mount: rename for AHRS restructuring
da11b6be77 AP_Module: rename for AHRS restructuring
b1bd699a73 AP_Logger: rename for AHRS restructuring
dbc24d5cd3 AP_InertialNav: rename for AHRS restructuring
2bd8a45c58 AP_Common: rename for AHRS restructuring
8396925ece AC_WPNav: rename for AHRS restructuring
63015e9e9a AC_PrecLand: fixes
6aba6c83c6 AC_PrecLand: rename for AHRS restructuring
5046083863 AC_AttitudeControl: rename for AHRS restructuring
3b15ff0d42 Rover: remove ability to use DCM as AHRS
271519f6e2 Blimp: remove ability to use DCM as AHRS
e3b8fc6646 ArduPlane: remove ability to use DCM as AHRS
f0e660db51 ArduCopter: remove ability to use DCM as AHRS
ec17abce2e GCS_MAVLink: remove ability to use DCM as AHRS
2926ffcd2f AP_Vehicle: remove ability to use DCM as AHRS
b9c4d40c46 AP_NMEA_Output: remove ability to use DCM as AHRS
85bd9de903 AP_Mount: remove ability to use DCM as AHRS
a3ee979b9c AP_InertialNav: remove ability to use DCM as AHRS
0d391533b0 AP_AHRS: remove ability to use DCM as AHRS
a7f14efef2 AC_WPNav: remove unused variable following https://github.com/ArduPilot/ardupilot/pull/18076
f848f7d3b2 Rover: stop taking references to ahrs in APM_Control
354c1091f8 ArduPlane: stop taking references to ahrs in APM_Control
d2102ce9b7 APM_Control: stop taking references to ahrs in APM_Control
cbf549b1eb AP_Airspeed: fixed display of ARSPD_DEVID when ARSPD2_TYPE=0
795f412264 AP_NavEKF3: pass NavEKF failures back up to callers
b5f165ce2e AP_NavEKF2: pass NavEKF failures back up to callers
141e2aae91 AP_AHRS: pass NavEKF failures back up to callers
fc2118f42b AP_NavEKF3: process GPS yaw independently of GPS fix
17f93b8a94 AP_DAL: update GPS yaw API to add timestamp
e5d878eebd AP_GPS: change handling of moving baseline yaw
0b9cde5812 AP_NavEKF3: fixed indentation in readGpsData()
d181adfa75 Replay: added --accuracy option
ca477d09ed AP_BLHeli: ensure correct rotation through telemetry ESCs
48b8fdfd48 AP_HAL_ChibiOS: make linecoding objects static arrays
4b8b0f834d AP_HAL: add support for usb passthrough with baud changes
d1b0438412 AP_HAL_ChibiOS: add support for usb passthrough with baud changes
f3bc75c538 GCS_MAVLink: add support for passthrough with baud changes
d622aad592 AP_HAL_ChibiOS: add get_usb_baud - support for usb baudrate
eff4bc4cfb autotest: drain pexpects in set_parameters loop
27de0a3d23 autotest: add new Copter yaw tests
57c6f54a51 AP_LeakDetector: update leak pin for navigator r3 in metadata
c55c160f48 AC_WPNav: use get_terrain_margin instead of constant
d39581f996 Copter: replace use of TERRAIN_MARGIN with WPNAV_TER_MARGIN
fb5c458132 AC_WPNav: add TER_MARGIN param
ff1843a79c AC_AttitudeControl: AC_PosControl: Auto Terain following update
5dcfee07d9 AC_WPNav: Auto Terain following update
9d845759f8 AC_PosControl: Add MAX(bla,0) because safe_sqrt isn't safe
6d6ab89a72 Copter: Guided and Loiter mode returns Crosstrack error
ce254153c1 WP_Nav: Return Crosstrack error
f130503cc7 AC_AttitudeControl: AC_PosControl: calculate cross track
b89824b3ba AP_NavEKF: log EKF data source set in XKFS
a4410a4b2e AP_NavEKF3: log EKF data source set in XKFS
43a4ea734f autotest: add some diagnostics for missing processes
6988bf862b AP_NavEKF: fix running out of max stack limit on debug builds
f78a7adc9c .github: add stm32h7-debug build to build ci matrix
65606b4d1d Tools: add debug target in CI build script
a92fc7845c AP_AHRS: remove unused active_accel_instance
a3c31f7ba1 Copter: Fix guided yaw bug.
b185d84dc5 AP_AHRS: remove unused _gps_delay variable
ef109721fe AP_HAL_ChibiOS: hwdef: reorder CUAV-X7 IMUs
dc5656d34a AP_AHRS: remove accessors only used internally
a7366729c3 Rover: point to new motor directory
ffe91fc80e AP_BLHeli: update rover motors include
e75d3b68e6 AP_Motors: move AP_MotorsUGV to new AR_Motors directory
19213d3627 Plane: Allow yaw at zero throttle in VTOL descents
d158199a7a AP_Scripting: add bindings and example for dynamic motor mixer
6848cbc241 AP_Motors: add scripting dynamic mixer, allowing varable geometry vehicles
015b971ccb Plane: add new dynamic mixer frame class
cbf93c7dad Copter: add new dynamic mixer frame class
a6795a8e45 AP_Scripting: support depends keyword on userdata
aad459d447 AP_Scripting: support array userdata feilds
d41e400c86 Plane: added acro and training modes RC option
f969dbe411 RC_Channel: added training mode RC option
9083c97acf AP_BattMonitor: add Navigator to pins metadata
571ae46b0f Tools: split yaw-vehicle-for-mount-roi test out
84fb03cb79 AP_BattMonitor: SMBus remove unused bool returns
0d64782220 AP_BattMonitor: remove temp var for SMBus read_full_charge_capacity
8af12608df AP_BattMonitor: make NeoDesign obey SMBUS_ENABLE
d47a032a09 AP_Vehicle: explicitly number ModeReason enumeration values
618fa156c7 autotest: added --replay option to autotest
2bd04c14fd AP_OSD: move OSD_LINK_Q_* to a new param table
ca92d73f25 AP_OSD: Add RX Link Quality Panel
55af794a2f RC_Channel: add Link Quality reporting to RC protocols
983c7aba2f AP_RSSI: add Link Quality reporting to RC protocols
c5f53fc0b6 AP_RCProtocol: add Link Quality reporting to RC protocols
df0c9a42cb AP_Logger:  Add Link Quality reporting to RC protocols
d806d8a26d AP_HAL: add Link Quality reporting to RC protocols
0f2f6ccc80 AP_HAL_ChibiOS: add Link Quality reporting to RC protocols
e52b9f78c2 autotest: fixed tuning of tilthvec quadplane model
a098c80671 HAL_ChibiOS: use DNA for node allocation on Matek GPS
db1df9d3a8 HAL_ChibiOS: raise DMA contention threshold for H7
8430f48375 AP_SerialManager: document DisableFIFO bit
e517a47f9b AP_SerialManager: call set_options() before first UART use
926d4ad71c HAL_ChibiOS: implement NOFIFO option for uarts
269c4084d2 AP_HAL: added serial option for disabling FIFO on uarts
0138266fee AP_HAL: disable cast align check while casting char* read pointer to object
3c9bc52b64 modules: update uavcan
1af2453b54 AP_Bootloader: ignore cast alignment when reading from flash
0e7571c733 AP_EFI: fix casting without ensuring alignment
0b505c491c AP_CANManager: fix casting without ensuring alignment
e8e5f49640 AP_BLHeli: fix casting without ensuring alignment
7a2c460496 waf: remove cast-align disable flags from CXXFLAGS
4051b1ca0e Copter: reset land_repo_active flag in RTL mode
d5d2aa011c Tools: Force Cygwin environment install to use GCC 7.4
c5b323fcb6 iomcu: update for pulse width changes
60b0df0a25 AP_HAL_ChibiOS: only control widest pulse for dshot and oneshot
2ae6030f0c autotest: add baro i2c drivers autotest
78e0e52542 SITL: add simulated ms5611 baro
b184341424 SITL: add subclass for MS5525
aa97c5b714 SITL: adjust MS5XXX to be new base class
50d7fc353f SITL: rename SIM_MS5525 to SIM_MS5XXX
d2be5231cb ardupilotwaf: probe external baros in SITL
14d271776e autotest: break out a fly_mission method
2e18b2d162 Copter: simplify throttle-is-unlimited check
8ccb77f708 Copter: wait for motors to spool up before trying to upright vehicle
21f8ff4a4e Copter: constify some ModeThrow methods
53e980bada autotest: add test for two consecutive drops with no reboot
416c0724d2 AP_Common: use double precision for more location functions when available
bd84ed126e Copter: removed max home distance
7550368fc7 HAL_SITL: update for changed SITL API
5eaf76cdc8 SITL: separate origin and home in SITL
6b73c2151a AP_NavEKF3: implement moving origin
3ded1e6c10 AP_Common: added ftype precision offset call
ef48d706ed AP_Periph: do not wait for DNA to finish before starting AP_Periph
a9fda29d42 AP_Periph: remove return res from canard_broadcast
64c41e51ba AP_Periph: use range for loop instead of indexed for loops
67ed54bfca waf: add option to disable Watchdog
6d76990c1e AP_Bootloader: add option to disable Watchdog
3ed53c58e9 AP_Periph: provide separate instances of canard objects per iface
9fb7ef915e Tools: add support for ms5525 i2c sensor
7375d1949c SITL: add support for ms5525 i2c sensor
e3b366419b Rover: integrate AP_Torqeedo
50ce79bcf6 AP_Torqeedo: simple driver to control torqeedo 1003 motor
7e68ce5c86 AP_SerialManager: add torqeedo to list of supported protocols
6c180994cd AP_Math: add support for crc8_maxim
448ae368b1 RC_Channel: fix ELRS systems spamming CRSF mode/rate messages
ceeabb85a5 AP_RCTelemetry: fix ELRS systems spamming CRSF mode/rate messages
df9470d8af Copter: Don't reset yaw rate when disarmed or ground idle in Heli Stab and Acro
a32b5b3bb0 AC_AttitudeControl: Allow yaw rate reset to be de-selected
2ba6ae6196 ArduCopter: mark get_wp() const
da906f6b0f Sub: use BARO instead of GND prefix to set default baro parameters
5f039ba06d Copter: fix build for lack of AC_TERRAIN define
8234fd4c39 Tools: autotest: add IRLock SITL test
ddb7378bdd AP_Terrain: add setter for terrain-enabled
fc2338612e AP_Common: stop setting terrain pointer in test_location
0a068d4d4b AP_Terrain: default terrain to off in Sub
f75e258606 SITL: SIM_Ship: correct GLOBAL_POSITION_INT message altitude
93323f1f39 Plane: stop setting terrain singleton; libraries use singleton
05a0205c21 SITL: change to use terrain singleton
088120b8f3 ArduSub: use singleton to access AP_Terrain data
52f6c0e5ca ArduCopter: use singleton to access AP_Terrain data
b625596dfa AP_Common: use singleton to access AP_Terrain data
2d28c1065e AC_WPNav: use singleton to access AP_Terrain data
9ff77d8f1c Tools: remove AC_TERRAIN compilation option
ed0b0451cf ArduSub: remove AC_TERRAIN compilation option
3684741517 ArduCopter: remove AC_TERRAIN compilation option
de404b1999 AP_Terrain: allow AP_TERRAIN_AVAILABLE to be set in hwdef
98fb4fcbe7 AP_NavEKF3: convert code_gen.py to ftype
44f098c86d AP_NavEKF3: convert powF(xx,2) calls to sq(xx)
ae8dbe36bb AP_NavEKF3: convert EKF3 derivation to ftype
5f87335325 AP_Airspeed: review updates
70bb470eb0 AP_Airspeed: fixed AP_Periph build
0bdd8231cf AP_Airspeed: added ARSPD_OPTIONS bit for disabling voltage correction
d4d80f01bf Tools: added airspeed ID decoding
ca1508b02e AP_Airspeed: added DEVID parameters for airspeed
7f85b413f2 AP_Airspeed: use GCS_SEND_TEXT instead of printf for sensor probe messages
e6c7970a19 AP_Airspeed: support 3 I2C addresses for MS4525
a52e823967 AP_HAL_SITL: implement read(buf, length)
40ec8c723b AP_RCTelemetry: correct firmware string length for CRSF
7dcc5dd7ac Copter: add TERRAIN_MARGIN parameter
50d0592962 Copter: add GUID_TIMEOUT for guided mode vel, accel and angle control
1aa3ef9b67 Copter: Guided: move to zero velocity after takeoff
58497bacbd Copter: Auto Yaw variable names and comments
0f9fcb8c2e Copter: Guided Angle init Z controller on time out
59909970fa AC_WPNav: Remove unused function
feae762e64 Copter: additional yaw modes and fixes
ac0b320922 AC_AttitudeControl: Add accessor for yaw slew limit
e2b5d3d585 AC_AttitudeControl: AC_PosControl: support accel only input in the vertical
58b0853012 Copter: Guided: use default yaw mode for all gps based sub modes.
b84fc7e5e9 Copter: Guided: stop aircraft if an invalid command is sent
991cc19f85 Copter: Guided: make aircraft stop on accel time out
0132b30d27 Copter: Guided add terrain failsafe
8631c3c68f Copter: Guided: support terrain following
e0e283f13e AC_AttitudeControl: AC_PosControl: support terrain following
92099d83ca Copter: Guided: fix waypoint track reporting
8da8af973b Copter: Guided close gap between TARGET_LOCAL_NED and TARGET_GLOBAL_INT
a1ad194abd Copter: seperate kinimatic shaping from pid limit setting
7db568c85a Plane: seperate kinimatic shaping from pid limit setting
48a99df2b3 Sub: seperate kinimatic shaping from pid limit setting
7bc6c19306 AC_WPNav: seperate kinimatic shaping from pid limit setting
8a2f75d742 AC_AttitudeControl: AC_PosControl: seperate kinimatic shaping from pid limit setting
80e856af20 Copter: Guided: use common initialisation
dfbd757f82 Copter: Guided prevent takeoff without takeoff command.
6e82bff55b AC_AttitudeControl: Add terain following to guided
ba1951a372 Copter: guided accepts terrain alt position targets
430492469b AC_WPNav: get_terrain_offset and get_vector_NEU made public
620d066a2e AC_WPNav: move code to generate terrain following kinematic path
5a133dac84 Sub: adjust for AttitudeControl library changes
33ec8b965b Tools: Autotest update guided bitbask to include acceleration
de36398ebf AC_Math: Control: Support Accel only input
b3acdd49d6 AC_AttitudeControl: AC_PosControl: Support Accel only input
8e084a0879 AC_AttitudeControl: AC_PosControl: Change input_pos_xyz name
635d13a106 Copter: support for acceleration-based AttitudeControl
75411afd21 AP_Math: added test for SCurve::calculate_path
498220b9f3 AP_Math: fixed error where t4_out could be negative in SCurve::calculate_path
1e545052f4 Tools: autotest: add 2 locations in Japan
b11450c18c AP_NavEKF: review feedback
f343c8501b AP_Math: fixed double fill_nanf()
168e860f70 AP_Math: fixed a few more single precision calls
56d9134e38 AP_Common: adjust test_location values
1486a473bd AP_Math: remove unused rotation_matrix_norm()
a924f66f70 AP_Common: fixed comment
5319e3910f AP_NavEKF3: moved checkUpdateEarthField to be called less often
d91397f2f2 AP_Math: change wrap_PI to ftype
afb928081a AP_Math: use ftype for a few internal trig fns
a6a01cf432 autotest: added --ekf-single and --postype-single options to autotest
5a5018cda2 autotest: adjust test_altitude_types for small change in longitude_scale
338ab28dea AP_NavEKF: larger frame limit for --enable-math-check-indexes
31a6663797 AP_Math: fixed vel correction test build
c059f8c044 Sub: fixes for use of longitude_scale()
6a3b12956a AP_Common: make longitude_scale() a static
a8c6d742aa AP_NavEKF3: update earth field at 1Hz
4f32fa537a HAL_ChibiOS: define HAL_HAVE_HARDWARE_DOUBLE on F765, F777 and H7
885e518741 AP_NavEKF3: allow for double EKF build
6aca0bb08a AP_NavEKF2: allow for double EKF build
3235747ef8 AP_NavEKF: allow for double EKF build
32a83ef347 AP_Mount: use ZERO_FARRAY()
83158ceadb AP_Motors: fixup build for ftype conflict
b8e42be5d1 AP_Common: added double methods for SITL
01062cccd7 SITL: fixup offset calls
0f2f0d4cb2 AP_Math: allow for double EKF build
6c712c9001 HAL_ChibiOS: use SRAM1 as first ram segment on H7
f60330c4ef AP_HAL: allow for double EKF build
4f7630e29c Tools: allow for double EKF build
5f45098044 waf: added --ekf-double configure option
b8e934ccf1 autotest: added --udp option to sim_vehicle.py
9ba9352dae Tools: add remote upload script via mac systems
a5d3dade67 waf: allow overriding uploader script with custom uploader script
4ed0b03f35 HAL_ChibiOS: implement set_RTS/CTS_pin methods
162cecadec AP_HAL: added set_CTS_pin and set_RTS_pin
6ef37daaad Sub: use scheduler.get_loop_period_s() instead of MAIN_LOOP_SECONDS
0986ade905 Blimp: remove misleading NOINLINE comment
bc4ee95004 ArduSub: remove misleading NOINLINE comment
af357ee45c ArduCopter: remove misleading NOINLINE comment
56ed06a86f AntennaTracker: remove misleading NOINLINE comment
aa27479e95 autotest: show output from Replay run
914e33ac98 .github: workflows: retain corefiles and dumpstack/dumpcore out
743ed05367 autotest: detect ap-*.core as we do core.* files
fd803ddafc autotest: remove stray diagnostic files before run
2388f3a3d1 Tools: generate a core file for a given PID
7a9dd8127a AP_HAL_SITL: generate a core file for a given PID
2f7603e08e AP_HAL: generate a core file for a given PID
a5f2d12edc Tools: added MatekF765-SE bootloader
40200654af AP_HAL_ChibiOS: add MatekF765-SE hwdef as a variant of MatekF765-Wing
396a27b17e AP_AHRS: add semaphore around set_origin
c34322f6ce AP_Scripting: add set_origin and initialised bindings
0217d1c3dc AP_UAVCAN: add BatteryInfoAux dsdl message
3a7075fc65 autotest: fixed config error loop test
587ce2fd62 AP_Arming: fixed arming checks for no baro
cd3ac639fe AP_AHRS: added AHRS_GPS_USE=2 for no baro
8e4d67a7c1 AP_Baro: fixed SITL with SIM_BARO_COUNT==0
2f8dec7c9b AP_ONVIF: make onvif test empty if ONVIF not enabled
51a6d3c16a waf: only apply gsoap specific flags to gsoap sources
51b86b5acc modules: update gsoap
94a09f1426 AP_ONVIF: move to using hal util random
2c6659930a AP_ONVIF: remove dependency on C++ STL and std::string
5f82ef83ad AP_ONVIF: remove init method and move initialisation to start
d3fce3c41d AP_Vehicle: add method to enable onvif camera control using script
236eecc494 autotest: add option for running sim with ONVIF camera
027d8b4aea AP_Scripting: add support for controlling onvif camera using lua script
a81da13c13 AP_Scripting: add support for configuring ONVIF using scripting
1db1da9ee5 AP_ONVIF: add support controlling onvif cam using scripting
cd63dd1720 AntennaTracker: add support for controlling ONVIF camera using lua script
f6715cdaa0 waf: generate SOAP wsdl into cpp code
45f58367d0 AP_ONVIF: add initial wsdl2h generated header for onvif devicemgmt
7c9a17b9fb modules: add gsoap
6a0c4ec3f7 AP_HAL: add Random Number Generation test
1082046134 AP_HAL_SITL: add support for hw random number generation
f2e947589d AP_HAL_Linux: add support for hw random number generation
2b93b17fae AP_HAL: add support for hw random number generation
0ce6157900 Plane: GCS_Plane.cpp Fix chronological sequence to avoid inappropriate critical warning CRT:NoRCReceiver by ensuring the call of plane.failsafe.last_valid_rc_ms before calling millis()
5b7ec1fab4 Plane: do not run any prearm checks if we are armed or arming is not required
dd156d8da6 HAL_ChibiOS: run storage writes at 1kHz not 100Hz
5d435c762e waf: notify users that we have moved to using tool instead of tools
2750b361aa autotest: move to using tool instead of tools program group
767e394703 Tools: move to using tool instead of tools program group
f115b246df wscript: move to using tool instead of tools program group
b39b4abb12 Replay: move to using tool instead of tools program group
f4b2b3b214 AP_DAL: move to using tool instead of tools program group
f1c865bdd3 Tools: use program group "tool" instead of "tools"
70a161a583 autotest: create SITL debug binaries by default
2821e6815e Blimp: Add support for HIGH_LATENCY2 messages
7f0bd06e8b Rover: Add support for HIGH_LATENCY2 messages
2a1f6e1b31 ArduSub: Add support for HIGH_LATENCY2 messages
d6a123b58b ArduPlane: Add support for HIGH_LATENCY2 messages
6c02cd1b54 ArduCopter: Add support for HIGH_LATENCY2 messages
035f65fe03 GCS_MAVLink: Add support for HIGH_LATENCY2 messages
df02289493 autotest: add test for two consecutive drops with no reboot
afa6e30b94 AP_Frsky_Telem: added airspeed flag to frame 0x5005 enabled by a new parameter
6ec221625b Blimp: Add GPS glitch check
8017e528c8 Tools: Add Blimp to param_parse.py
0e2cb4a00c Blimp: Code cleanups
5bd3e3e330 Blimp: Add modes Velocity and Loiter
1a0f44a8ad Blimp: Add logging and MAVLink
cceb612d0c Blimp: Fix mode land, manual and fins class
3bfd577a49 RC_Channel: Add blimp param frame values
3379a1a215 Filter: Add Vector2f option to notch filter
f95cb16434 AP_Math: Add Vector2f+z initialiser for Vector3f
ad2aca4900 AP_BattMonitor: Add blimp param frame values
c7e71874c3 AP_Arming: Add blimp param frame to rudder arming
2cbcb2be87 Blimp: Code cleanups
a7ab766fda AP_Landing: enable deepstall landing to be compiled out of the code
765b71adb6 AP_OSD: rename BLH elements to ESC
61073de909 AP_MSP: fix DJI FPV temperature and RPM
26c6224b2e AP_ESC_Telem: add method to get the temperature of the motor with highest temperature
f9b149e793 AP_ESC_Telem: add method to get average motor RPM
e9f0c59e61 AP_HAL_ChibiOS: re-enable LEDs on MatekF405-bdshot
8dee32e64f Plane: Add TX FF tuning for Pitch/Roll/Yaw QuadPlane PIDs
1633afb6cd APM_Control: adjust fixed wing filter defaults
7ca0aa7c94 Plane: updated release notes for 4.1.0beta3
290174f9d9 AC_PrecLand: NFC: Refactor EKF code
4fde26aa01 AP_NavEKF3: EK3_RNG_USE_HGT param references EK3_SRCx_POSZ
31a31963c9 AP_Notify: disable DShot buzzer by default
8482f9af27 Plane: fixed motor test with DShot VTOL motors
c1a5ca6060 autotest: add test to ensure we get a log if arming is forced
85f36f957d autotest: add force option to arm_vehicle
a6eaa77ff8 AP_Notify: re-enable display on 1Mb boards
7ac895db77 HAL_ChibiOS: always send zero DShot when disarmed
455787869e Copter: Correct yaw expo range limit
28905a1e67 AP_RPM: fixed #ifdef HAL_WITH_ESC_TELEM to #if HAL_WITH_ESC_TELEM
cdc874c366 AP_RPM: added a new RPM driver based on ESC telem
b4d54cf565 AP_ESC_Telem: added methods to get average rpm data by motor mask
326b65c7ad AP_Soaring: Vario filter cleanup and convert in-line filters to LowPassFilter instances
712d812f4e Tools: install-preresq-ubuntu: add check for DO_AP_STM_ENV before adding to path
5468869eba Tools: do CI build for HerePro instead of CubeOrange-periph
9a19a86a81 GCS_MAVLink: omit code that breaks build for herepro
fcca8564a2 AP_Volz_Protocol: omit code that breaks build for herepro
a5a29fe3ec AP_Vehicle: solve for undefined vehicle object in herepro build
347872f6d6 AP_RobotisServo: omit code that breaks build for herepro
1ffc18006b AP_Rally: omit code that breaks build for herepro
503a676e44 AP_Logger: omit code that breaks build for herepro
9b2359b34c AP_HAL_ChibiOS: allow option to enable ChibiOS features in bootloader
c18652f35a AP_GPS: add option to enable configuring PPS pin in UBLOX driver
7cbb3d8a3f AP_Compass: allow compass cal option for AP_Periph if defined
8a062ab9a1 AP_Arming: place defines to omit parts that break HerePro build
637ccf13df AP_Periph: add MAVLink support for AP_Periph modules
966e8cd1be AP_Bootloader: reserve board id for HerePro
e22ca19640 AP_Notify: add support for ProfiLED over SPI
1a1dd76a4c AP_HAL_ChibiOS: add initial herepro hwdef
421faa0ada AP_Logger: fixed log creation on forced arm
cc5d368a98 waf: use abspath for EXTRA_HWDEF
d6088539b7 waf: use new syntax for chibios_hwdef.py
b4b02b4ffc HAL_ChibiOS: use nargs='+' for chibios_hwdef.py
ce1ee6334f AP_HAL_ChibiOS: addressed reviewed comments
15cd9d502d waf: added --extra-hwdef option
fb4a4e609a AP_HAL_ChibiOS: added --extra-hwdef option
245f9d21b3 AP_HAL_ChibiOS: update clock config for FDCAN and External Flash
35340bf7f2 AP_Bootloader: reserve board_type id for H757 EVAL board
babcb31c1a AP_FlashIface: remove any delay from is device busy
be28a55364 AP_FlashIface: fix comments and correct ms to us in vars
bc65bfa3f3 AP_FlashIface: add more wait_ready() and support XIP on W25Q
7156493242 AP_FlashIface: remove references to 4-4-4 mode
28dbbc2bc4 AP_HAL_ChibiOS: do not even initialise empty qspi driver
2af3864b61 AP_HAL: add support for entering XIP mode
d3e081c100 AP_HAL_ChibiOS: add support for entering XIP mode
1a66b5afd7 AP_FlashIface: panic if we haven't found a matching flash device
30eb5501ce AP_FlashIface_JEDEC: adjust for where only one mmode clock is req
dd9f3257cc AP_FlashIface_JEDEC: make delays support bootloader builds
1d3c001963 AP_FlashIface: fix build for non bootloader example
676f90c595 AP_FlashIface: support Winbond W25Q
bc1474ed52 AP_FlashIface: limit flash size to how much we can address
3797bdc4b8 AP_FlashIface: move to using 1-4-4 read mode instead of 4-4-4
6b0f6f3bc0 AP_FlashIface: add support for entering XIP mode
e09e3fe59f AP_FlashIface_JEDEC: allow for different print setting for bl and fw
17e6cab729 AP_FlashIface: setup examples and driver for use with bootloader
0120d8eeec AP_DAL: take into account for addition of QSPIDevice in AP_HAL
6a284ea59d AP_HAL_Empty: add QSPIDevice empty HAL Iface
f0cfaa17dc AP_HAL_SITL: add empty qspi mgr instance
eed706c46b AP_HAL_Linux: add empty qspi mgr instance
263fbbbdb0 AP_HAL_ChibiOS: add echo safe debug flag bouncebuffer
3b3cc0b194 AP_FlashIface: add initial files for AP_FlashIface library
c962292bae AP_HAL_ChibiOS: add support for H757I Evaluation board
a323807644 AP_HAL: add support for QSPIDevice
abc26d1993 AP_HAL_ChibiOS: add QSPI Device Driver in HAL
4cb48da984 modules: update ChibiOS
835a8c7fed CI: correct bash string eq test
5e5452cf73 Plane: mode_thermal: adjust messages to reference parameter names
0c381435cc AP_Soaring: Reduce the number of messages emmitted.
54daa94c90 CI: make macos tests more useful by compiling all target and use ccache
9bd5183d82 Tools: update install macos prereqs
3d726f3636 .github: add macos_build workflow
0d393a3cf7 AP_AccelCal: do not add accelcal if no GCS iface available
c4caf2ff54 AP_InertialSensor: add HAL_INS_ENABLED
69009568b2 AP_HAL: add HAL_INS_ENABLED
0e4fbe7c46 AP_HAL_ChibiOS: allow using internal compasses onboard
f9a50e8e47 AP_Periph: allow building InertialSensor and related libraries
447935bf4c AP_InertialSensor: remove dependence on gcs for AP_Periph builds
b3b7fec71c Rover: 4.1.0-beta5 release notes
97db237b96 Copter: 4.1.0-beta5 release notes
cb0cb38949 mavlink: move submodule reference forward to latest
8c5eecf84e Rover: call send-water-depth
3900a4f14a GCS_MAVLink: send water depth and temp
5eb1d4a5a9 Copter: improve check of far_from_EKF_origin
4c7a9146c6 Rover: remove values metadata from log bitmask
8eaf45f185 Blimp: remove values metadata from log bitmask
ac76a63931 ArduPlane: remove values metadata from log bitmask
e6c80744db ArduCopter: remove values metadata from log bitmask
106e5e0115 AntennaTracker: remove values metadata from log bitmask
4a39424d6b Copter: added comments to include libraries in copter.h and attitude.cpp
a7f31929ea AP_Common: use longitude scaling from definitions.h
978ea307b0 AP_Math: fixed the value LATLON_TO_CM
843f87d618 Tools: install geocoder
d81b758d77 autotest: support using geocoder for -L location
8310f4a718 Plane: fix bug in tilt position for QLOITER and QRTL if THR_MIN !=0
4f7da5867d Tools: Allow direct execution of firmware_version_decoder.py from command line
819c331acd AP_BattMonitor: correct static_assert call
99a0f5a86a autotest: disable quadplane ConfigErrorLoop test
67ebdc300b AP_HAL_SITL: reduce scope of loop variable
fcde1e7370 AC_WPNav: use shaping_tc_z_s for terrain following time constant.
8f493e3021 AC_AttitudeControl: Add shaping_tc_z_s accessor
5ec75578ab Tools: add copter gps_glitch_loiter_test2
290124720d Copter: RNGFND_FILT param default increased from 0.25 to 0.5
f12a7dd04b AP_Mount: fixed longitude subtraction
92197bd5a9 Plane: fixed longitude wrap in verify_nav_wp
220107b2a6 Tools: added boat circuit for Rabi
702f95d4c6 Sub: fixed longitude wrap
396094a82c Tools: added a mission around Rabi, close to -180 degrees lon
f69e2a49f6 AP_Common: add test for longitude wrapping
77d83b9c77 AP_Common: fixed Location class for wrap at 180 degrees longitude
75ae2548a7 Tools: added some locations close to the date line
5475d1153c AC_PosControl: fixup ekf reset
3204ce4bf1 Tools: added --postype-single for sim_vehicle.py
895ab6c089 waf: added --postype-single option
4895a08ab2 AP_IRLock: convert SITL backends to double precision position
f209504a12 AC_PrecLand: convert SITL backends to double precision position
aa03afafa7 AP_Math: added matrix3 tofloat and todouble
61faeb2d7f AP_Common: added double methods for SITL
fb275c9874 SITL: convert to double precision for positions
70f874e288 Sub: update for new double precision position APIs
50e6d67a66 Plane: update for new double precision position APIs
bada2670a6 Copter: update for new double precision position APIs
1d00cab9e6 AC_WPNav: convert circle, loiter and WPNav to double position
66186e5221 AC_AttitudeControl: convert poscontrol to use double position
c8079a318c AC_PID: convert AC_P_2D to double
9b91cfe4ee AP_Math: implement double versions of some position control methods
3a3a30ab22 AP_Math: define postype_t and vectors
3fc88b19b8 HAL_SITL: implement initial GPS position offsets
3315ec5acc AP_Math: added tofloat() and todouble() methods to Vector2 and Vector3
cf149a9d18 SITL: added SIM_INIT_LAT_OFS and SIM_INIT_LON_OFS
7819cc6400 AC_AttitudeControl: cleanup poscontrol comments with input from Leonard
639570505b AP_Math: cleanups from Leonards feedback
5f053bd53a AC_AttitudeControl: fixed comment
566dd8ca8b AP_Math: cleanup API comments on control code
18dd373ff5 Sub: use cleaned up APIs
61ac45dd5a Plane: use cleaned up APIs
d89388c4cc Copter: use cleaned up APIs
bf91168cd6 AC_WPNav: cleanup position control APIs
fd68233fed AC_AttitudeControl: cleanup position control APIs
86f09cad09 AP_Math: cleanup position control APIs
fe4abc521a AP_Math: make vector3 xy() method return a reference
4d7bb82f9e Plane: updated release notes for 4.1.0beta2
4c173e01ef autotest: increase number of parameter retries
4bb91d1ec1 autotest: shift where we print which attempt we are doing
43bb543aff AP_PiccoloCAN: fix missing _telem_sem
9aba85dadc AP_PiccoloCAN: Explicit initialization of AP_HAL::CANFrame instances
dade859ff9  AP_PiccoloCAN:  Remove unncessary floating point operations
06eb844ede AP_PiccoloCAN: Update code to match new esc telemetry / logging architecture
de3c4cc9da AP_PiccoloCAN: Increase number of supported channels from 12 -> 16
fb16b085c0 AP_PiccoloCAN: Record servo telemetry information to log
115c1224de AP_PiccoloCAN: Send servo commands for active channels
7b0da02a18 AP_PiccoloCAN: Framework for CAN servo outputs
43b7b4eb3b AP_PiccoloCAN: Add support for CBS servo protocol
9494a439ec AP_UAVCAN: Use HAL_ENABLE_LIBUAVCAN_DRIVERS instead of HAL_MAX_CAN_PROTOCOL_DRIVERS
69cc0b4615 SRV_Channel: Use HAL_CANMANAGER_ENABLED instead of HAL_ENABLE_LIBUAVCAN_DRIVERS
02c74a8fa1 GCS_MAVLink: Use HAL_CANMANAGER_ENABLED instead of HAL_ENABLE_LIBUAVCAN_DRIVERS
5d8a6d167f AP_ToshibaCAN: Use HAL_CANMANAGER_ENABLED instead of HAL_ENABLE_LIBUAVCAN_DRIVERS
0795225475 AP_RangeFinder: Use HAL_CANMANAGER_ENABLED instead of HAL_ENABLE_LIBUAVCAN_DRIVERS
6d8972e63b AP_PiccoloCAN: Use HAL_CANMANAGER_ENABLED instead of HAL_ENABLE_LIBUAVCAN_DRIVERS
895039cdce AP_Notify: Use HAL_CANMANAGER_ENABLED instead of HAL_ENABLE_LIBUAVCAN_DRIVERS
1a2c51d6df AP_KDECAN: Use HAL_CANMANAGER_ENABLED instead of HAL_ENABLE_LIBUAVCAN_DRIVERS
81f6e3c585 AP_HAL_SITL: Use HAL_CANMANAGER_ENABLED instead of HAL_ENABLE_LIBUAVCAN_DRIVERS
35344d1aef AP_HAL_Linux: Use HAL_CANMANAGER_ENABLED instead of HAL_ENABLE_LIBUAVCAN_DRIVERS
882b01bae3 AP_HAL_ChibiOS: Use HAL_CANMANAGER_ENABLED instead of HAL_ENABLE_LIBUAVCAN_DRIVERS
c7185a1e7f AP_HAL: split into HAL_CANMANAGER_ENABLED and HAL_ENABLE_LIBUAVCAN_DRIVERS
5acce3055f AP_HAL: Use HAL_ENABLE_CANMANAGER instead of HAL_ENABLE_LIBUAVCAN_DRIVERS
ee22747b48 AP_Filesystem: Use HAL_CANMANAGER_ENABLED instead of HAL_ENABLE_LIBUAVCAN_DRIVERS
603b302ffd AP_CANManager: Use HAL_CANMANAGER_ENABLED instead of HAL_ENABLE_LIBUAVCAN_DRIVERS
47b0ac663a AC_AttitudeControl: AC_PosControl: Init and stopping point fixes
e6eb6dea3f Tools: mark decode_watchdog.py flake8-clean
e38e026c6e Tools: mark build_examples.py flake8-clean
4ea8c32c61 Tool: uploader.py: flake8-clean
b35a586447 Tool: make_apj.py: flake8-clean
fad9b5d345 Tool: pretty_size_diff.py: flake8-clean
0940c9371d Tools: decode_ISCR.py: flake8-clean
21cb6c1cf5 Tools: build_iofirmware.py: flake8-clean
7e8f11b749 AP_HAL_ChibiOS: allow embedded bootloader to be excluded
f3c96b438b Tools: autotest of vibration failsafe
b58e7bedaa autotest: correct placement of not-alive-after-test message
d6f619fb1a autotest: emit 'attempt 1/3' when retrying set_parameter
9f4b76f0ef .github: allow to skip previous CI jobs on PR
a71007f2c7 Tools: added name to GIT_Success.txt
99c7d3aabc autotest: ensure no stray message listeners after test
6a8ca9e45b autotest: timeout in wallclock time in config error loop test
183cee3f2c AP_Motors: remove @Values from param metadata where @Bitmask exists
dd8af14e57 AP_Logger: remove @Values from param metadata where @Bitmask exists
215bc51775 AP_LandingGear: remove @Values from param metadata where @Bitmask exists
731cf038f0 AP_InertialSensor: remove @Values from param metadata where @Bitmask exists
c0c3f92c39 AP_GPS: remove @Values from param metadata where @Bitmask exists
955ea710b8 AP_BoardConfig: remove @Values from param metadata where @Bitmask exists
c95b56d8fe AP_Baro: remove @Values from param metadata where @Bitmask exists
d0dbfef2c2 AP_Arming: remove @Values from param metadata where @Bitmask exists
c129d50f4b AP_ADSB: remove @Values from param metadata where @Bitmask exists
a8b37d7064 AC_Fence: remove @Values from param metadata where @Bitmask exists
5d52053232 AC_Avoidance: remove @Values from param metadata where @Bitmask exists
092885f67f AC_AutoTune: remove @Values from param metadata where @Bitmask exists
b6d5569244 Tools: param_metadata: disallow @Values and @Bitmask at same time
7842f55a3b Tools: add rc channel option to disable all airspeed sensors
5d6b733d6d RC_Channel: add rc channel option to disable all airspeed sensors
6da68e39f8 AP_Airspeed: add rc channel option to disable all airspeed sensors
1281033931 AP_NavEKF3: Remove unused class variable rngBcnTimeout
9d85a4292e AP_NavEKF3: Ensure postion timeout flag and timer is always reset
de3c6d6e5c AP_NavEKF3: Fade each vert vel variance clip count over 1 second
ac92182153 AP_NavEKF3: Clean up initialisation of boolean array
b0763f04f1 AP_NavEKF3: Remove unwanted line
b7aad13cc8 AP_NavEKF3: Protect against collapse of velocity and position variances
36160ba9ce AP_NavEKF3: Fix bug preventing horizontal position reset if badIMUdata
5d00b7d042 AP_NavEKF3: Fix bug preventing height reset if badIMUdata
e4eb8339d0 AP_NavEKF3: Fix bug preventing velocity reset if badIMUdata
ffc64c3042 AC_AttitudeControl: AC_PosControl: change force_descend to ignore_descent_limit
3fd28bd74b Copter: Set Force Descend to true only when in the last phase of landing
001b2a825d RC_Channel: add const in member functions
fb682a61cb AP_Arming: add flight mode conflict check
5a8ebeda1d RC_Channel: add flight mode conflict check
d599052da3 AC_AttitudeControl:AC_PosControl: vibration failsafe fix
76f5db93dc AP_AHRS: add semaphore around set_home()
a617175881 AP_Scripting: add get_origin and set_home bindings
d82a229584 autotest: revert to subprocess.check_call
64dc3bbe41 AP_NavEKF3: Fix #17789 core's ekf origin altitude different if flying
0561637350 AP_NavEKF2: Fix #17789 core's EKF origin altitude different if flying
0ae3730f11 AP_NavEKF3: non_GPS modes ensure EKF origin set only once and stays in sync
d7ecd6883d AP_NavEKF2: non_GPS modes ensure EKF origin set only once and stays in sync
b3a1e6a1ce AP_RangeFinder: Rearrange parameters to reduce memory usage
0de9d3e759 AP_BattMonitor: Rearrange battery parameters to reduce memory usage
fa7a89ef83 AP_Mission: Cleanup the header to reduce flash cost
29d6900888 AP_Airspeed: Remove unneeded initilization
9e99f724e5 AP_HAL_ChibiOS: add 1Hz update_channel_masks()
c7cc53d224 SRV_Channel: call rcout->update_channel_masks() at 1Hz
2e1368d8a7 AP_Arming: remove call to rcout->prepare_for_arming()
61f1c3c9ce AP_HAL: add 1Hz update_channel_masks()
755ca37326 AP_Compass: added probe method for MMC3416 compass
ed93caadd5 HAL_ChibiOS: fixed build of VRUBrain-v51
cab8274690 AP_BattMoniter: log in Ah and Wh, add percentage to log
188cf71ee2 AP_Logger: add Wh units
8ea9803193 AP_BatteryMoniter: fix mah to wah conversion
66bc673442 Plane: fixed attitude control during QPOS_AIRBRAKE
8395bf617f autotest: disable autotesting of tri frame as it is still busted
697fbb0db0 autotest: verify roll/pitch are not adversely affected by yaw inputs
4c20bc2d9d autotest: ensure reasonable yawrate on takeoff in FlyEachFrame
983e402804 AP_Common: add more unitttests
ece3cf5241 AP_Logging: update EKF while waiting for log open
c2c013964d ArduCopter: tidy frame description strings
c28a03728d AP_Motors: tidy frame description strings
8610edb664 AC_WPNav: AC_Loiter: Remove extra accel limit
d9529e1be3 AC_AttitudeControl: AC_PosControl: Remove extra accel limit
d3f90bde7f autotest: add FlyEachFrame test for Plane
4909f6f0f1 SITL: increase servo_filter array size
09ba017b5b SITL: panic if we attempt to filter out-of-range servo index
c5c2b18a0b AP_Scripting: update 6DoF mixer example
716ceb93c5 AC_AttitudeControl: add thrust vector methods to 6DoF multi
a699b8b331 Tools: remove more CAN stuff from coverage statistics
17010054bd .github: add SITL CAN periph to coverage test
ac41bb50ee AP_Motors: correct expo parameter description and internal limits
841aa213cf mavlink: reference MAV_CMD_RUN_PREARM_CHECKS
84603e2c85 GCS_MAVLink: add support for MAV_CMD_RUN_PREARM_CHECKS
39c96f63c8 Tools: autotest.py: total flake8 compliance.
7ddb4d681d Tools: autotest: correct exception handling on unit test run.
614ebff842 AP_Common: add more unit tests
723d2dee00 autotest: improve diagnostics around touchdown/takeoff expected tests
a79a3d2051 AC_WPNav: move get_yaw lower in AC_WPNav.h
12f569dc4f mavlink: move forward to ardupilot/mavlink master
210818cd6e autotest: let arming failure messages get spit out
3ea3566477 Tools: add follow-copter.sh for SITL
3386cbb0df AP_HAL_ChibiOS: add OREO support to CubeSolo.
144bbd6acd AP_Notify: allow display and oreo leds to be disabled
1cafbe1e65 Copter: add configurable rangefinder filter
9056cd35ea AP_SmartAudio: Add pull down VTX option
49536ceecb AP_VideoTX: Add pull down VTX option
f12fffbb08 AP_SmartAudio: Remove useless variable and comment
2198893092 AP_VideoTX: Add band names to GCS
0af5a7787a AP_VideoTX: Add configuration_finished functions
4dac9baa09 AP_SmartAudio: Add configuration_finished and configuration_pending functions
6df65e694d AP_OSD_Screen: Blink the OSD VTX Power element indicating configuration in progress
1954f596b8 AP_Proximity: fix proximity status for upward facing rangefinder
430ac65123 AC_Loiter: init brake_accel and fix brake timer type
3e6d8357e9 AP_BattMonitor: zero consumption total before recalculating
333588d7d4 AR_WPNav: add WP_PIVOT_DELAY parameter
3fc58de7ce AP_HAL_ChibiOS: Restore soaring on F405-Wing board.
979b502d30 AP_Bootloader: added QioTekZealotH743 board type
151fe6facf AP_Logger: rearrange PrepForArming stuff
806fdd9389 AP_Logger: moved log file open to logger thread
8ae221eeb4 AP_Filesystem: removed the 3s grace period for file ops when armed
d36b4bfa3f AP_HAL_ChibiOS: make sure all MatekF405 bi-dir outputs get a DMA channel
9791fdeb11 AP_Compass: remove unused  setup_earth_field
47a778d033 Tools: remove HIL support
db9d41e782 Rover: remove HIL support
d66220e3fc Blimp: remove HIL support
055e82276e ArduPlane: remove HIL support
cdbf6d216e ArduCopter: remove HIL support
a23999d0f0 GCS_MAVLink: remove HIL support
52a52e1e5b AP_InertialSensor: remove HIL support
dddd0d6a14 AP_HAL: remove HIL support
9e5662e927 AP_GPS: remove HIL support
a9621ed802 AP_Compass: remove HIL support
304bc2bc13 AP_Baro: remove HIL support
00002b78a4 AP_Airspeed: remove HIL support
ee0a373b60 AP_AHRS: remove HIL support
278dc4a09b AP_BattMonitor: add cells 13 and 14 for SITL only
bf10b454d1 AP_BattMonitor: add assertion to avoid memory over-read
4a8f7d232a SITL: add accessor for battery voltage
cb8ff51b4d SITL: add maxell to i2c bus and make it 14-cells
bf9937489b AP_BattMonitor: switch to Log_Write for BCL2
61fda691f2 autotest: add trivial test for smart battery logging
85666959ea AP_BattMonitor: Increase the max. nr. of supported battery cells from 12 to 14
6eab9b9c15 plane: quadplane: skip QPOS_POSITION1 on tailsitters
85743be4f3 Revert "Plane: cope with Q pitch limit larger than fixed wing limit"
4df09360ab AP_Scripting: add SN-GCJA5 particle sensor example
c43965f32e GCS_MAVLink: correct decimation of SENSOR_STATUS message
e958306343 Plane: Add options to USE_REVERSE_THRUST to cover all flight modes
08b8a43ab5 AC_PrecLand: Use rotate_xy instead of matrix multiplication
53bd545fac AC_PrecLand: Account for vertical camera offset in alt calculations
f1e4f6dbc8 AC_PrecLand: Initialize EKF before using its output
55c07e24c0 AP_Scheduler: Change the Task Performance Notification Level to Information
566621e2ba AP_Math: SCurve check direction.length_squared is_zero
e0284bb66a mavlink: move submodule reference forward to master
9c3f99bb52 readme: change wiki discussion link from gitter to discord
602091bba6 Rover: 4.1.0-beta4 release notes
81e82f75c6 Copter: 4.1.0-beta4 release notes
f780a5c358 AP_HAL_ChibiOS: fix infinite loop for large SPI transfers
4f48233b43 ArduPlane: add QRTL always as Q_RTL_MODE option
cc0f850eb9 AP_Vehicle: add QRTL always as Q_RTL_MODE option
80afba3bd2 Plane: updated release notes for 4.1.0beta1
0c8e81964e Plane: reset yaw controller on entry to POSITION1
ce4ca0ac08 AP_InternalError: specify size for error_t
4307390820 Plane: fixed distance threshold for vtol land
f19b604a0c AP_Math: added xy() method on Vector3
f749c2c3ad Plane: fixed issue with overspeed in QPOS_POSITIION1
d9e3526bd2 AP_HAL_SITL: correct compilation for mission pread/pwrite ret check
9a1a748348 AC_Avoid: Change ALT_MIN param to be copter only
b9fbf1a661 AP_Math: Update segment_to_segment_dis test
730cf0ad9b AC_Avoid: Add deadzone param to avoidance backaway
b301bd0ca4 AC_Avoid: Use plane intersection in prox stop mode
547f0efd57 AP_Math: Add segment to plane intersection function
cb911a01e2 AP_Prox: Add plane intersection code to closest_point_from_segment_to_obstacle
206a414553 AP_Common: Location vec3 constructor zero out fields
9211f6d351 Tools: Add navigator board in common boards
d2278fb525 AP_AHRS: NavEKF: make set_origin and get_origin WARN_IF_UNUSED as base class
cea0d7c971 autotest: move autotest tlog files into buildlogs directory
1fdef751ad AP_Navigation: make crosstrack_error_integrator pure virtual as nobody use the base class
e77512ba08 autotest: add method to create simple relative-to-home mission
14b2af84ab autotest: break out a home_relative_loc_ne for getting a home-rel loc
96e14d470a autotest: retry SITL connect many times while running under GDB
0b517cfc57 autotest: start GDB in tui mode by default
ae6220aace Plane: cope with zero distance to target in QPOS_POSITION1
0f9e7001d1 Plane: limit speed in POSITION1 based on angle
74ac9964f1 Plane: improved POSITION1 speed profile
5f8e90cd6f Plane: metadata fix for Q_OPTIONS
3611b1dbf7 Plane: added check for QPOS initialisation
db34577755 Plane: use a separate bit for landing reposition in quadplanes
06cd077c36 Plane: fixed stick mixing with land reposition in quadplanes
c544f3dd01 AP_Scheduler: corrected tick counter overflow handling, fixes #17642
ba94d8839f AP_Common: Make location PANIC message more explicit
d363cbadcc AP_HAL_ChibiOS: Disable un-needed hardware drivers in SkyViper builds
8593672f4c AP_HAL_ChibiOS: fix compilation when HAL_WITH_ESC_TELEM == 0
2d5ac0009a AP_OSD: Fix compilation when HAL_WITH_ESC_TELEM == 0
ff200e9d11 AP_UAVCAN: fix compilation when HAL_WITH_ESC_TELEM == 0
9d2790049f AP_ToshibaCAN: fix compilation when HAL_WITH_ESC_TELEM == 0
d15042d7c0 AP_PiccoloCAN: fix compilation when HAL_WITH_ESC_TELEM == 0
f4409066bc AP_KDECAN: fix compilation when HAL_WITH_ESC_TELEM == 0
120081f7ab AP_BLHeli: fix compilation when HAL_WITH_ESC_TELEM == 0
13a97eecd4 AP_ESC_Telem: fix compilation when HAL_WITH_ESC_TELEM == 0
bb9a81d32e AP_ESC_Telem: dummy empty class to be used when HAL_WITH_ESC_TELEM == 0
6a914ce4be AP_VisualOdom: do not build on 1MB boards
63b8733aab AP_CANManager: add support for multiple protocols on AP_Periph using CANSensor
4d0f5a1db6 AP_Periph: add support for multiple protocols on AP_Periph
5e4efe9f57 AP_ToshibaCAN: AP::can().log_text() needs HAL_ENABLE_LIBUAVCAN_DRIVERS
96055e877b AP_PiccoloCAN: AP::can().log_text() needs HAL_ENABLE_LIBUAVCAN_DRIVERS
c833a71fff AP_KDECAN: AP::can().log_text() needs HAL_ENABLE_LIBUAVCAN_DRIVERS
4054b5e891 AP_HAL_Linux: AP::can().log_text() needs HAL_ENABLE_LIBUAVCAN_DRIVERS
c807035e02 AP_UAVCAN: use HAL_ENABLE_LIBUAVCAN_DRIVERS instead of HAL_MAX_CAN_PROTOCOL_DRIVERS
aec9d45573 AP_HAL_SITL: use HAL_ENABLE_LIBUAVCAN_DRIVERS instead of HAL_MAX_CAN_PROTOCOL_DRIVERS
7a004656a2 AP_HAL_ChibiOS: use HAL_ENABLE_LIBUAVCAN_DRIVERS instead of HAL_MAX_CAN_PROTOCOL_DRIVERS
1feec460c4 AP_HAL_ChibiOS: enable BattMon MPPT PacketDigital to CubeOrange-periph
adccc3deb7 AP_BattMonitor: add support for AP_Periph MPPT driver
8ada37edb8 AP_Periph: add support for MPPT Battery driver
0590352bef SRV_Channel: do not use AP_UAVCAN unless LIBUAVCAN is enabled
806b6a63bf AP_HAL: reorganize precompiler for HAL_ENABLE_LIBUAVCAN_DRIVERS and HAL_MAX_PROTOCOL_DRIVERS
bdf0efbbe7 AP_CANManager: reorganize precompiler for HAL_ENABLE_LIBUAVCAN_DRIVERS and HAL_MAX_PROTOCOL_DRIVERS
f764bd6547 AP_HAL_ChibiOS: disable EventSource only when CH_CFG_USE_EVENTS is false
f09abc705b HAL_ChibiOS: bring us to 18k free for MatekF405-Wing plane build
6c24a030a6 GCS_MAVLink: use HAL_EFI_ENABLED
6a1e3afe33 AP_RPM: use HAL_EFI_ENABLED
0937d903a1 Plane: use HAL_EFI_ENABLED
cc6d799e7a AP_EFI: change to use HAL_EFI_ENABLED
519b1a6913 AP_Math: correct and increase unit test coverage
88bbec01b0 AP_Common: add firmware string without git hash.
96acb46fbf AP_RCTelemetry: correct VTX power settings and pass parameter requests more quickly
4a05e65367 AP_BLHeli: ensure digital motor masks are setup correctly regardless of AUTO setting
cf257074c6 AP_Camera: support RunCam Hybrid correctly
f2b7d44772 AP_Compass: fixed build with AP_Periph compass
b23afc4a9e AP_Filesystem: disallow file operations from main thread while armed
1279772d92 AP_Logger: disallow log creation in main thread when armed
fd792bebf8 autotest: wipe SITL state after temperature cal test
79de738266 autotest: wait for a few seconds for arm-failure messages to appear
6af6d2fc2a autotest: add a progress message for looking for a message in a log
6944ef6af1 autotest: fly each working Helicopter frame
757fc1d679 AC_WPNav: ensure that wp_radius greater than min
117ca8a6ef AP_Rangefinder: make backend get_reading() pure virtual
88b5ff8c6f AP_Rangefinder: make get_temp const
14c32f556c Copter: fix build problem when log disabled
058d4299ad Tools: update SITL tri and hexa gains
3be7f1ae23 autotest: removed tri from doesn't fly list
3a6bafc6a6 SITL: fixed order of rotations in tilt vehicles
0876cb9cd6 autotest: fixed defaults for tricopter
ff048990d9 AP_OSD: correct format string issues
e06f937486 AP_OSD: add FMT_PRINT to write(...) call
45f1d03bda autotest:Copter test fix for some frames
2359de250d AP_Scripting: add example of fixed wing doublets via scripting
09e82e52e1 AP_HAL_ChibiOS: disable AP_EFI on MatekF405-Wing and omnibusf4pro
e5fba1c8cc AP_EFI: disable AP_EFI on MatekF405-Wing and omnibusf4pro
f8d39e65ec AP_VisualOdom: pre_arm check fix for camera attitude
ab5d4da776 AP_AHRS: attitudes_consistent fix for roll-pitch difference calc
b263a1d751 AP_Math: add Quaternion::roll_pitch_difference
4521334b06 Rover: THR logs X-axis accel
ac2080ff93 AP_ESC_Telem: don't send mavlink msgs if we've never data any data
4abf854c45 AP_Common: remove weird cast of location object
27089b4d2b AP_BattMonitor: Fix the comment of BATTx_OPTIONS
f150c312a6 Rover: fixed copying of filter objects
0ecc02c53a Plane: fixed constructor of accel_ef filter
7fadbba086 AP_WindVane: fixed copying of filter objects
fbbb4a1183 AP_Soaring: fixed filter constructor calls
a2d0f569c9 AP_WheelEncoder: fixed PID constructor calls
476e9fc15a AC_PID: use CLASS_NO_COPY()
cd1f5ca494 Filter: use CLASS_NO_COPY
6c0c6a1f48 AP_Common: added CLASS_NO_COPY() macro
438ca0a6c4 Plane: tailsitter: increase severity level of failed transisisons.
30029f59db AP_OSD_Screen: make BLH RPM fixed length
31c345fc4b Tools: add support for AP_Logger into AP_Periph
ef2e273ee6 AP_Scheduler: add support for AP_Logger into AP_Periph
102543684e AP_Rally: add support for AP_Logger into AP_Periph
fd4fb15e7d AP_Mission: add support for AP_Logger into AP_Periph
b681dc940a AP_Logger: add support for AP_Logger into AP_Periph
3ba57fed89 AP_HAL_ChibiOS: add support for AP_Logger into AP_Periph
15cd41ca19 AP_GPS: add support for AP_Logger into AP_Periph
c11a6bbb47 AP_Filesystem: add support for AP_Logger into AP_Periph
80a17cb97f AP_BattMonitor: get Mavlink charge state
518666b5f0 GCS_MAVLink: Add battery_charge_state to Battery_Status message
8b83b49e0b Rover: fix loiter_delay, cmd <0 sets a delay of 0 seconds
96d0e8cf3f AP_Motors: add comments to AP_MotorsUGV
9eea3f1030 AP_BLHeli: add auto support to rover
30f7284fe1 Rover: move AP_MotorsUGV to motors library
7c213a8bbf AP_Motors: move AP_MotorsUGV here
96577b47f0 GCS_MAVLink: removed perf counters
f6ec48e0e2 AP_Scheduler: removed perf counters
50e7c81f46 AP_Logger: removed perf counters
dfc4b37df1 AP_HAL_Linux: removed perf counters
7c5c805381 AP_HAL: removed perf counters
684e32068b AP_Compass: removed perf counters
d6348a0786 AP_NavEKF3: remove getBodyFrameOdomDebug
dd3ab29b2f AP_NavEKF3: remove getFilterGpsStatus
aaae7bda6b GCS_MAVLink: provide compatability with bad integer-stored radii
76408c77dd AC_Fence: provide compatability with bad integer-stored radii
e3db030d7a AC_Fence: load and store fence radii in floats
e644a9dda8 StorageManager: add read_float and write_float
67fea9f2f8 HAL_ChibiOS: fixed DMA disable on contention
3128d71aac HAL_ChibiOS: display uart even when not initialised
c34d8e80e9 HAL_ChibiOS: fixed serial info indexing for EMPTY uarts
6fab8feeae HAL_ChibiOS: implement uart_info per-uart
23cf128541 HAL_Empty: implement uart_info()
d8a6d9c5c4 AP_HAL: added uart_info() method
135a4d2c83 HAL_ChibiOS: fixed order and labelling of @SYS/uarts.txt
f970735d47 Plane: fixed handling of NAV_LOITER_TIME with Q_GUIDED_MODE=1
aa904d6bbc Plane: fixed guided mode handling with new approach code
71f207403e AP_Common: make angles in degrees end in _deg
1165fcab99 Plane: removed incorrect URL
fd19ff3bea Plane: offset guided start point when using Q_GUIDED_MODE
f15497c6a9 Plane: only do fwd thrust loss detection in SLT vehicles
0232fa7456 Plane: cope with fwd thrust loss in Q approach
fbf5083e6a Plane: avoid transition in QRTL
3bb840f794 Plane: implement slow descent in QRTL approach
eba1d499d4 AP_SpdHgtControl: added get_max_sinkrate()
a789bb372b AP_TECS: added get_max_sinkrate() API
77ee922473 Plane: fixed NAV_CONTROLLER_OUTPUT in QRTL
245ded2f2d Plane: fixed handling of loss of fwd thrust in QRTL
a895bc1846 HAL_ChibiOS: reduce flash on VRBranin-v51
c7a14a5da1 Plane: disable cross-track in Q approach modes and QRTL
46722500b0 Plane: default Q_TRANS_DECEL to 6 for tailsitters
a7b809d5d4 Plane: added approach and airbrake options
154ae64e63 AP_Math: support either polarity in linear_interpolate()
ddfc9e8300 Plane: improved quadplane auto-land into wind
b4992cc226 Plane: added accessors for poscontrol state
f1f7f01300 Plane: slave fixed wing desired rate to multicopter desired rate
d77d258442 AP_Math: add tests for the sqrt_controller
0bd9610687 autotest: add trivial test for BodyFrameOdom
584e24d613 Tools: build mRoControlZeroClassic and mRoControlZeroH7{,-bdshot} on build server
c615706971 AP_Frsky_Telem: added a parameter to set the default FRSky sensor ID for passthrough telemetry
847ce3b311 AP_HAL_ChibiOS: CUAV X7/Nora: use icm42688 instead of bmi088
e8947dfb47 Tools: reduce copter autotest rate yaw P and I gains
3f77c52720 AP_BoardConfig: minor change to BRD_IMU_TARGTEMP param desc
b14dcf1df5 Tools:autotest: updated FRSky SPort test to use new 2 byte data IDs
870c280946 AP_Frsky_Telem: upgraded SERIAL_PROTOCOL 4 telemetry to 2 bytes data IDs
a5e1a45e7a AP_Frsky_Telem: added hud throttle [-100,100] to frame 0x5001 scaled to [-63,63] on 7bits
cd5b764fd8 AP_NavEKF3: use first usable compass index to set magSelectIndex
124eaf1a38 AP_NavEKF2: use first usable compass index to set magSelectIndex
a52f04ddde AP_DAL: add interface for first usable compass
1d29619e51 Revert "AP_Arming: check for only first compass being disabled"
8590bfea63 AP_Compass: use first available compass in priority list
1794eefd33 AP_Mission: Fixes crash in copter when uploading MAV_CMD_NAV_LAND with NaN as p4
606c248e69 AP_HAL: fixed build on boards with no PWM
cf350a52e9 Tools: Autotest: add --coverage option
870eaac839 Tools: correct some coverage utilities
d1cc8d2bf3 Waf: add coverage flags
a5a25411da AP_NavEKF3: Remove unnecessary baro limiting
124f016e5b AP_NavEKF3: Use parameter to set baro ground effect dead-zone
76d0dcc25c AP_NavEKF3: Use common method for handling baro ground effect
77e566c6ed Copter: don't set takeoff expected in throw mode
dc9435a88d AP_NavEKF3: don't limit baro change when we are in fixed wing mode
ea6724aca5 AP_NavEKF2: don't limit baro change when we are in fixed wing mode
062a15ce11 Plane: set_takeoff_expected should only get set when not flying
3a1d2f1852 Replay: remove takeoff/touchdown event handling
68a1100c64 Plane: use new APIs for takeoff/touchdown expected
1371fd7e6f Copter: use new APIs for takeoff/touchdown expected
32b079911f AP_NavEKF2: use DAL APIs for takeoff/touchdown expected
c00f110f3d AP_NavEKF3: use DAL APIs for takeoff/touchdown expected
f4f713a04f AP_DAL: add takeoff and touchdown expected state
9eeec61cec AP_AHRS: new APIs for takeoff/touchdown expected
2439587c5a autotest: add tests for ground effect compensation active in EKF
0ff38e1379 HAL_ChibiOS: CUAV ICM20649 on SPI6 bus replaced by ICM20689
94b56b9eac README: Update CAN maintainer, also add Compass and Cube* maintainership
8925c2830b autotest: check fence upload/download when creating from locs
acb70abe86 Copter: adjust yaw imbalance check to only check imax rather than i
8701932670 HAL_ChibiOS: return zeros in dma.txt on first fetch
819bb2938b AP_Periph: Correctly report Temperature to UAVCAN
89e4df485a AP_BattMonitor: Record and report UAVCAN Battery Info temperature correctly
c71163680f SRV_Channel: add motor 1 - 4 to Rover function description, used on OMI frame type.
bed7d5f125 AP_OSD: add rangefinder panel
c1a20ceab4 autotest: add test to catch bug with opticalflow if no rangefinder
26ea80fc62 Tools: update default params for copter-optflow.parm
15658362b5 AP_NavEKF3: make time-horizon OF data a local variable
0dbd05505b AP_BLHeli: Remove duplicated code, use existing AP_Math CRC function
f3cc661ebd Tools: added HolybroGPS to autobuild
b8f3a0f83b Tools: added HolybroGPS bootloader
5529ba36e2 HAL_ChibiOS: added HolybroGPS AP_Periph port
b6543e7a85 AP_Bootloader: added Holybro GPS board type
23c0f257b6 HAL_ChibiOS: default off serial protocols in AP_Periph
14dca255a4 AP_Notify: fixed probe on all internal NCP5623 LEDs
ac1e03e16a HAL_ChibiOS: move heater gains on CubeOrange to hwdef.dat
244d896bfb HAL_ChibiOS: enable heater on Pix32v5
c2a13213ae AP_BoardConfig: allow for hwdef.dat setting for IMU heater gains
d5dccaa734 AP_Compass: added heater compensation to internal mag for Pix32v5
214bc4c282 Copter: make terrain-height-stable-when-no-position value stick
4335951c42 Tools: remove % as units on params that are unitless
27620322ec AC_AttitudeControl: remove % as units on params that are unitless
bf14c32109 Plane: correct description of Q_TAILSIT_MOTMX param
be3cc1b679 Docs: Change all references from dev.ardupilot.org to the appropriate documentation URLs.
3390167753 AP_Periph: use AP_Notify enum for ToneAlarm types
ea1795d6fe AP_HAL_ChibiOS: ensure ToneAlarm is not disabled when UAVCAN is available
b7de9feb56 AP_Notify: ensure ToneAlarm is not disabled when UAVCAN is available
ae80e2dd4d AP_HAL: move ToneAlarm Types to AP_Notify instead
e63918d9ba RC_Channel: refactor KILL_IMU of do_aux_function
6f81c250be ArduSub: remove optical flow pointer from AP_AHRS
3464f9b46e ArduPlane: remove optical flow pointer from AP_AHRS
61f41803b9 ArduCopter: remove optical flow pointer from AP_AHRS
e141578376 AP_AHRS: remove optical flow pointer from AP_AHRS
28bbe4b776 AP_AHRS: remove unused AP_Beacon.h include
b608ceb6ed AP_HAL_SITL: Return zero when using the help command
26d1e34c19 ArduSub: remove pointless init_optflow wrapper
b9c1633358 ArduCopter: remove pointless init_optflow wrapper
eed6753331 Blimp: remove dangling declaration
158c7c499d AC_WPNav: correct param ranges to accomodate TradHeli defaults
3f4d4e45fc AC_AttitudeControl: correct param ranges to accomodate TradHeli defaults
02f6ca51bc AP_NavEKF3: init rngOnGnd to 5cm to avoid div-by-zero
126456742a Hwdef: add Joey
09f4961a63 GCS_MAVLink: increase statustext queue size to 7 on low-mem boards
e7ca9d8e83 Tools: rebuild Pix32v5 bootloader
91dce554d1 HAL_ChibiOS: removed unnecessary USB product IDs from boards
de3a3f7edf HAL_ChibiOS: fixed case of Pix32v5 USB product string
e5a33e8efc .github: change to using pull_request_target
468838ff7f AP_OSD: do not show hgt_abvterr and fence elements by default
05d74ba50d Sub: call AC_PosControl::write_log in modes with only vertical control like AltHold
9a363e9e15 Copter: call AC_PosControl::write_log in modes with only vertical control like AltHold
d9c68031fa AC_PosControl: write_log checks xy and z controllers are active
86f39d354f Waf: Display debug config into config summary
7e389afbec Tools: allow to build examples and tests with debug
58358d9f97 Tools: correct arguments passing on autotest.py
f4e2d462f7 AP_MSP: Telem_Backend: do not round vertical speed to 1m/s
d00f75203c Tools: add omnibusf4pro-one to build_ci to check single gps/compass build
0172b867b7 AP_Compass: fix "no detected backends" error with single compass
ad9a8c8bd9 AP_HAL_ChibiOS: record error states in CANFDIface and CANIface
a6f00e4f80 Tools: increase serial timeout to 2s from 1s in uploader script
b083848ae7 AP_HAL_ChibiOS: fix comments
a148849ec3 AP_HAL_ChibiOS: RCOutput_serial: fix comment for set_reversible_mask()
643fc77323 SITL: fix labs on unsigned value subtraction
2e41077347 AP_RangeFinder: fix using labs on unsigned value subtraction
0090d8b1c0 AP_MSP: Telem_Backend: fix temperature
1b84852d79 AP_OSD: fix BLH elements
cab86b7b78 bootloaders: rebuild CubeBlack_bl and CubeOrange_bl
23757c249e AP_Bootloader: free few bytes of flash as bootloader build overflew on devices with 16k flash
017b267fee Copter: Rename set_attitude_target_to_current_attitude
359cf8ed0e AC_AttitudeControl: Rename set_attitude_target_to_current_attitude
fb83f98b77 AC_AttitudeControl: Set rates to zero during arming procedure for acro
dd0b303ec2 Copter: Fix Loiter attitude error during Pre-Takeoff
e275ec9e63 Plane: Rename set_yaw_target_to_current_heading
3b0a870504 Copter: Rename set_yaw_target_to_current_heading
34e342f658 AC_AttitudeControl: Rename set_yaw_target_to_current_heading
b489dd5fe1 AC_AttitudeControl: Set yaw rate to zero during arming procedure
8e61de37be Tools: board_types.txt: reallocate 1033 to Joey, take 1034 for SeriphGPS
e9686b77b5 AP_VisualOdom: Change the GCS message level to INFO
f2acad4099 AP_VisualOdom: use get_yaw instead of to_axis_angle
9a538ba15b ArduPlane: fix advanced param metadata
b922181f63 AP_Landing: fix advanced param metadata
faf4993436 AP_Fence: add pre-arm check for fence enabled but none selected
cd43c0ecef APM_Control: use FF to increase but not reduce tau in autotune
45d82887b3 AP_IOMCU: fixed a safety reset case for IOMCU reset
235c8a2d0c AP_BLHeli: make sure telemetry is requested when there is only one motor
f8495df0af AP_BLHeli: convert servo indexing to FMU indexing for ESC telemetry
f4c18e0f9c AP_InertialSensor_Invensense: set reset count to 1 if 10s has passed since last reset
57ee6ffdfe AP_Motors: correct H_SV_MAN metadata warning
65fe6a705e .github: add issue label notifier
fe3c0faf12 Blimp: make centideg metadata incr and range consistent
8a6c09c39a ArduSub: make centideg metadata incr and range consistent
38ed4a2dd6 ArduPlane: make centideg metadata incr and range consistent
6c06f72af3 ArduCopter: make centideg metadata incr and range consistent
0012074ef6 AP_OpticalFlow: make centideg metadata incr and range consistent
92283f2025 AP_Mount: make centideg metadata incr and range consistent
4f4389df2f APM_Control: make centideg metadata incr and range consistent
8903b8619a AC_Avoidance: make centideg metadata incr and range consistent
ff931c7490 AC_AttitudeControl: make centideg metadata incr and range consistent
60e47b56f5 AP_GPS: Nova: Remove unneeded injection override
a658c4f623 Copter: correct ACRO_RP_EXPO constraint range
47eafd384f SRV_Channel: Make _FUNCTION metadata consistent style
b2d0fb9e84 SRV_Channel: separate output functions by vehicle type
c239e71de5 AP_Scripting: add motor matrix set throttle factor binding
42538c7083 AP_Motors: add throttle factor to Matrix
fced5271af HAL_ChibiOS: expand pin map of G474 to cover 64 pin parts
16ba99149b AC_PID: Fix before squash 2
5c47c0a131 AP_Math: Fix before squash
166f059fc2 AC_WPNav: Fix before squash
9e9e139f99 AC_PID: Fix before squash
53439b19cd AC_AutoTune: Fix before squash
491350c1d6 AC_AttitudeControl: Fix before squash
4c3a5c0918 Sub: Fix before squash
8b3b6cf693 Plane: Fix before squash
e294991b08 Copter: Fix before squash
8213fc5277 AC_AttitudeControl: prevent panic on SITL when no lock-step scheduling
bf1f27af32 SITL: added is_lock_step_scheduled() API
d1f6d913d5 Plane: adjust reposition landing code
5857e750ce Plane: provide target velocity in QPOS descent
74da3c74ac Plane: cope with Q pitch limit larger than fixed wing limit
71fa52d5c6 Plane: fixed slowing descent in final phase of QLAND
53e5bef0c2 AP_Math: added rotate_xy to Vector3f
ec1cbb06fd Plane: allow reposition in auto land
6eafcdb558 Plane: added Q_OPTION bit for throttle control of landing speed
24375cf9c1 Plane: change printf calls to send_text
52b4c257ec Plane: prevent oscillation in GUIDED mode hover
5a880c74b6 Plane: use input shaping from pos_control
a6ec7d9f23 Plane: ensure xy controller is initialised
9d52333afc Plane: don't start descent till under 3m/s
caeaf7c047 Copter: Fix take off altitude
1326dbe2ee AutoTest: Sub: Add appropriate pid parameters for highly damped system
41c437b768 AutoTest: Copter: fly_poshold_takeoff increase acceptable range
c91fdcea72 Blimp:  Use PosControl fixes
4bae8f03a4 Copter: Use PosControl fixes
57952861d6 Plane: PosControl Update
266bd22df3 Sub:  Use PosControl fixes
bddf6602f0 AP_AHRS: PosControl fixes
34fa62d51c AC_AutoTune: PosControl fixes
538d8f82fb AC_WPNav: PosControl fixes
92e05e8c4f AC_AttitudeControl: PosControl fixes
c4bb8baf0c AP_Math: Control: Add XY S-Curve shapers and shaping limits
6bed10c434 AC_PID: Add error variable with accessor and clean up
eef3409d32 Rover: 4.1.0-beta3 release notes
1a4f67955d Copter: 4.1.0-beta3 release notes
174f486e2a Rover: 4.1.0-beta2 release notes
a7a9fa93f0 AP_HAL_ChibiOS: correct enabled mask for motor channel output
072a321a01 AP_Compass: Use the value of pi
cfaf9f9420 AP_CANManager: Delete unused methods
50cac76e0b AP_Camera: Fix wrong comment in libraries/AP_Camera/AP_RunCam.cpp
0d05bb9732 Revert "waf: list boards 1/line in case of board-not-found error"
02feaaffcd AP_GPS: setup ublox moving baseline at 230400 when using uart2
fc7e242bae AP_HAL_ChibiOS: Fix typo (NFC)
a2f1c6e19e AP_PrecLand: correct metatdata for YAW_ALIGN
e46969957a Tools: rename f103-periph/hwdef.dat to .inc (f303 too)
79809b60aa AP_HAL_ChibiOS: rename f103-periph/hwdef.dat to .inc (f303 too)
5a6bcef6ef CI: run and upload Coverage on Coveralls every sunday at midnight
458b6084fa Tools: don't make report test failure on coverage
fae2834341 Tools: update coverage script to python
b9f55ba864 Tools: remove update-coverage.sh script
109847c96d Tools: use getopts on run-coverage and factorize code
255cabc9db Tools: remove more path from coverage
2109fae56a Tools: reserve a board ID for SierraF9PGPS
e49dc306ec .gitattributes: mark bin, elf and hex as binary
b8296af66a Copter: update 4.1.0-beta release notes
5a33100e91 Revert "bootloaders: rebuild bootloaders"
bc90ba5486 AR_AttitudeControl: get_steering_out_rate use abs speed for G limit
f2c03a66b6 Copter: 4.1.0-beta2 release notes
c17ef36354 RC_Channel: change or to ||
002b00f69d RC_Channel: make RC PWM LIMITS variables
5bcc713985 AP_HAL_ChibiOS: add omnibusf4pro config with one compass and gps
b31a04e52b AP_Compass: allow single compass configure for autopilot boards
5865e010b0 AP_TECS: Ensure no throttle output if is_gliding flag is true when flying without airspeed.
8ca6b3e3ee AP_CANManager: add testing and debugging README
31ef6db937 AP_HAL_ChibiOS: remove redundant HAL_LOGGING_ENABLED from AP_Periph hwdefs
ebe858f762 HAL_ChibiOS: auto-set HAL_LOGGING_ENABLED for AP_Periph builds
dbf5357592 AP_HAL_ChibiOS: base use of InternalError on build type not HAL_LOGGING_ENABLED
98753ec6dc Tools: move from HAL_NO_LOGGING to HAL_LOGGING_ENABLED
42b1a0998f AP_UAVCAN: move from HAL_NO_LOGGING to HAL_LOGGING_ENABLED
00041737d2 AP_Logger: move from HAL_NO_LOGGING to HAL_LOGGING_ENABLED
c326cdb1ca AP_HAL_SITL: move from HAL_NO_LOGGING to HAL_LOGGING_ENABLED
7d8c5757d6 AP_HAL_ChibiOS: move from HAL_NO_LOGGING to HAL_LOGGING_ENABLED
a61b6ebda8 AP_GPS: move from HAL_NO_LOGGING to HAL_LOGGING_ENABLED
519a71504f AP_Compass: move from HAL_NO_LOGGING to HAL_LOGGING_ENABLED
4a1eef4565 AP_Baro: move from HAL_NO_LOGGING to HAL_LOGGING_ENABLED
21d24ebc9d Filter: add harmonic notch option to run at loop rate
9bc9873e38 AP_Vehicle: optionally run the harmonic notch update at the loop rate
8a3a609e3b Tools: add can_sitl_nodev.sh which doesn't require a (e.g.) babel to run
c0cf814d3e Copter: disable hover throttle learn in standby mode
c7a9fb3c9c autotest: retry dynamic notches 8 times before failing
444c413803 AP_TECS: add missing letter in meta data
8ab74d9462 waf: list boards 1/line in case of board-not-found error
f486d7170c GCS_MAVLink: Fix build for builds with GPS_MAX_RECEIVERS = 1
fcba2a6e69 AP_AHRS: Remove unused methods
6a21446bac AP_HAL_ChibiOS: correct KakuteF4Mini board id
25be0cf4b4 AP_HAL_ChibiOS: pull the right pin for KakuteF4 buzzer
1eb4f478da bootloaders: update KakuteF4 and KakuteF4Mini bootloaders for buzzer startup and board id
2393097417 AP_Motors: Use the same limits described in the wiki
393ac386cc AP_HAL_ChibiOS: add revo-mini-i2c alt configs
1288f4c81b AP_GPS: Support GPS_SBAS_MODE on SBF GPS units
06ef0a0993 Blimp: Remove the comment out of the process
74045ba50a SRV_Channel: add accessor for determining if there are any digital outputs
4929caa241 AP_BLHeli: if there are no digital outputs disable telemetry
dd42e45079 Plane: changes in Ardupilot Project introduction
c32676adf5 AP_Frsky_Telem: added (generic) failsafe status bit to frame 0x5001
dcf85bcf3b AP_Frsky_Telem: added healthy status bit to terrain frame 0x500A
8b0bb44cd7 fix metadata to emit RCMAP_FORWARD and _LATERAL for Rover
0a06a9e446 param_metadata: reinstance @Values/@Bitmask magic for excluding params from vehicle output
eb2b1b3231 Tools: param_meteadata: correct @Values{Plane} etc handling
19dfbb19e9 AP_Windvane: set raw wind to zero if no speed sensor
2f69281040 AP_Windvane: true wind if no windspeed fixed
3de3f57501 RC_Channel: log which RC channels are being overridden
f30ad1d2dc AP_Logger: log which RC channels are being overridden
891cc94577 AP_Bootloader: check VBUS for fast boot
3eb164fb6a autotest: move script helper functions from rover to common
3d562046da autotest: add accuracy option to guided_achieve_heading
b46f621fc6 AP_HAL_ChibiOS: add two new horizon31.com boards
45daff9f47 GCS_MAVLINK: mag health reported in SYS_STATUS should not depend on AHRS use
f8a59a4a72 AP_HAL_ChibiOS: set inbound bitrate correctly for bi-directional dshot1200
c18c4ad6ec Tools: param_metadata: remove use of dirname when creating Vehicle
3ea9307419 Tools: param_metadata: flake8 cleanliness
1123de112c Tools: param_metadata: tidy finding of Vehicle parameter file
97e57932c4 Tools: param_metadata: remove more multi-vehicle support
0f4d1cec54 Vagrant: note EOL for various versions of Ubuntu
d0b9f6ced6 Copter: minor format fix to rtl
7c7d58d2a0 HAL_SITL: fixed constructoring ordering bug in AP_ESC_Telem
60e18d4b3c CI: Update Cygwin build to Python 3.7
ab9a221f2e Tools: Update Cygwin environment install for Python 3.7
8deeae7146 SRV_Channel: consolidate digital and reversible outputs to make clear the dependency
df1086c4f3 AP_BLHeli: clean-up up digital outputs settings
db85df1051 SRV_Channel: initialize BLHeli
ef18b9f943 ArduCopter: only call init_rc_out() once to avoid losing MOT information
d70b8425f7 AP_Motors: trigger digital throttle range with digital outputs
4905b5152d AP_BLHeli: initialize separately so that overrides work
3530d9121f AP_Math: minor format fix to SCurve::advance_target_along_track
36f3fb316a Copter: Notify the fence breach at the notification level
db06de5c9c AP_VideoTX: correctly deal with unresolvable options requests
4368629fb6 Copter: rename RTLState to SubMode
84d385654a Copter: rename SmartRTLState enum to Submode
f43e42f0b6 Copter: rename AutoMode enum to SubMode
3fb73d7e93 Copter: move SmartRTLState to SmartRTL class
07632dc7ed Copter: move AutoMode to Auto class
0fe10c6c57 Copter: make SmartRTLState an enum class
c4cc3659fc Copter: make RTLState an enum class
4987e54247 Copter: make AutoMode an enum class
e1f97becab AP_Frsky_Telem: added fence status data to frame 0x5001
1700ab814e AP_Bootloader: change id to AP range
b33b07e43f AP_HAL_ChibiOS: fixes for KakuteF4Mini
387812bb01 AP_HAL_ChibiOS: avoid startup scream on KakuteF4 and variants
319a6404c4 Tools: add KakuteF4Mini to board types and scripts
43ea90f264 Tools: KakuteF4Mini bootloader
f0ff4a2cd4 AP_HAL_ChibiOS: hwdef for KakuteF4Mini
4b2552b32b bootloaders: rebuild bootloaders
3edf26dff9 Bootloader: complete GET_DEVICE commands before allowing timeout reset
ff2ae1d7d1 Plane: integrate AC_PosControl::get_roll_cd rename
74d22594db Sub: integrate AC_PosControl::get_roll_cd rename
ccf06f66f7 AC_WPNav: integrate AC_PosControl::get_roll_cd rename
b17042078a AC_Loiter: integrate AC_PosControl::get_roll_cd rename
d650df3e28 AC_Circle: integrate AC_PosControl::get_roll_cd rename
7f1f29c1ae AC_PosControl: rename get_roll_cd get_pitch_cd
1ce63bf433 Plane: minor format and comment fixes
a780759221 Copter: minor format fixes
91e32a8339 AC_Loiter: minor format fix
f24a0988f4 AC_PosControl: minor formatting fixes
772cec5101 AC_AttitudeControl: minor format fix
eb07bfee2b AC_PID: minor format fixes
c323ee4f56 AP_Logger: improve unit names in comments.
71e7f7e476 AP_BattMonitor: refector to use AP_ESC_Telem
f1078d00a3 AP_Scripting: add in ESC telemetry bindings and make optional
8df4e0f127 AP_ESC_Telem: generalise ESC telemetry to allow harmonic notch handling with other ESCs
2df7b5453e autotest: add test for ESC telemetry driven notches.
15fe14289d SITL: add SIM_ESC_TELEM
8e744a4a25 Plane: generalise ESC telemetry to allow harmonic notch handling with other ESCs
fca6925129 GCS_MAVLink: use generic send_esc_telemetry_mavlink() from AP_ESC_Telem
e19bf8149b Copter: generalise ESC telemetry to allow harmonic notch handling with other ESCs
5d154b138a AP_Vehicle: generalise ESC telemetry to allow harmonic notch handling with other ESCs
f513b1d1c2 AP_UAVCAN: add esc telemetry updates
677d863401 AP_ToshibaCAN: generalise ESC telemetry to allow harmonic notch handling with other ESCs
70fae36a89 AP_PiccoloCAN: add ESC telemetry support
45e1b56f17 AP_OSD: generalise ESC telemetry to allow data from other ESCs
fcc8853244 AP_MSP: generalise ESC telemetry to allow data from other ESCs
b63d19533d AP_KDECAN: support ESC telemetry
5b992de959 AP_HAL_SITL: update ESC telemetry in rcout
6447bd1cdd AP_HAL_ChibiOS: use AP_ESC_Telem to record erpm data and error rate
4f547d2acc AP_HAL: allow motor poles to be recorded
6d50549476 AP_BLHeli: generalise ESC telemetry to allow harmonic notch handling with other ESCs
d2f78c69be autotest: add a simple test for SMART_RTL
9965f1a31d autotest: add some helpers for local-position movement
7ab094f3a1 autotest: tidy fly_guided_move_local
7e677d1e75 SRV_Channel: Add function names for trad heli functions and tricopter
747de2c28c AP_GPS: Change to STM32's faster processing operations
0cd97ce3d8 AP_GPS: fixed GPS yaw for GPS_INPUT mavlink
4f77f7545a Rover: disable turning at low speeds when simple avoidance is active
b4fd9848df AR_AttitudeControl: add get_stop_speed accessor
1d6efbd56f autotest: fix loiter_to_ne
19c7e349f9 Tools: Add cygwin package to env install scripts for SITL binaries
9014afc9d4 AP_NavEKF3: Fix typo in comment
b9abef37c3 AP_NavEKF3: Reset to GPS yaw if fusion times out when on ground.
0d43cb4622 RC_Channel: add VTX power to docs
ef8b6efd89 AP_SerialManager: add SmartAudio to docs
072420d98e AP_RCTelemetry: Do uart's nullptr check first
bb00340171 Blimp: use MAVLink POSITION_TARGET_TYPEMASK
14d351c2fd Rover: use MAVLink POSITION_TARGET_TYPEMASK
8a0230e6d5 Plane: use MAVLink POSITION_TARGET_TYPEMASK
e0d181a793 Copter: use MAVLink POSITION_TARGET_TYPEMASK
fda07e7dc8 AP_OSD: Add fence indicator panel
0ffa83b2dd AP_ICEngine: add note about ICE_STARTCHN_MIN param
7e79999b86 AC_Avoid: reenable avoidance logging
e1a5d73504 HAL_ChibiOS: fixed DTCM comment for F732
8bad533a8e Tools: build FreeflyRTK in CI
03132c378d Tools: added FreeflyRTK bootloaders
c5182e6c16 Tools: auto-build FreeflyRTK
b7fffe35f9 HAL_ChibiOS: added FreeflyRTK GPS build
a23e821f94 AP_Periph: allow safety LED as backup main LED for DNA
5a7e870cfb AP_Notify: scale NCP5623 for for data range
0fd335af33 AP_Baro: changed health check for AP_Periph
11e4b62438 SRV_Channel: allow build with no channels
1a81b10d27 AP_Baro: hide unnecessary params on AP_Periph
60f60356b8 AP_Common: hide unnecessary params on AP_Periph
474f22c3fe AP_Baro: allow for define of BARO_MAX_INSTANCES
efe8042fbe AP_Periph: allow for reboot while in DNA
724cea2b0d AP_Periph: allow build with no PWM to allow for notify
44eadb7291 AP_Bootloader: added FreeflyRTK board type
4d661911e5 HAL_ChibiOS: allow adjustment of F7 I2C timing
6b9e4161cb HAL_ChibiOS: removed UDID_START from all MCU defs
36d5c98e96 HAL_ChibiOS: default UDID_START to UID_BASE
2dc4c50953 HAL_ChibiOS: fixed default OTP address and size
22f7218acf HAL_ChibiOS: support 512k F7 parts for flash
03cae60471 HAL_ChibiOS: added STM32F732 support
f1de0c7fe2 HAL_ChibiOS: added F732 16MHz CubeMX config
135b79d746 CI: include both log paths in fail logs
901978a9b3 AP_Baro: fixed averaging of samples for several drivers
04aed49572 autotest: adjust GyroFFT threshold to make it pass
0a235ce094 autotest: remove retry loop from within GyroFFT
765889b827 autotest: don't send statustext during exception
f78cf73726 autotest: don't fail completely if ArduPilot process dies
b305b3b074 AP_Compass: Send message to gcs for compass learn
2261f94361 ArduCopter: Mark motors un-healthy if any motors are not producing thrust
b04dfda9fb autotest: enable deca and dodeca frames in FlyEachFrame test
001c041b72 Rover: Enable RFND logging
5e8e68344e AP_Arming: fix _CHECKS param description
49bb4d38a1 AC_AutoTune:  Disable variables that are overwritten
cf4acaa2aa autotest: re-enable quadplane QAutoTune test
d38e704115 SITL: fix memory over-read detected by Valgrind
0661a27400 SITL: ensure st.size is valid when loading model json
ff02e619da Blimp: remove armed_with_switch state
94d4252a2a AP_RCTelemetry: warn if using CRSF on non-DMA channel
f6b9479542 AP_HAL_ChibiOS: add accessor for UART DMA status
4d4d3683b6 AP_HAL: add accessor for UART dma status
e26fc95352 mavlink: move forward to ardupilot/master
dbd9b3a9ae AP_HAL_ChibiOS: ESC telemetry is orthogonal to RPM telemetry
384ecd4a5b AP_HAL_ChibiOS: check command queue is empty before arming
66fadf53a1 AP_HAL_ChibiOS: remove dshot calibration step
f3f3056dba AP_HAL_ChibiOS: add support for dshot commands to rcout
38ef81e9e9 AP_Arming: call rcout arming checks
2b327af79b AP_Periph: use tone alarm types
18366a4b6d SRV_Channel: propagate ESC type into rcout
d23a0bc23d AP_HAL_SITL: allow tone alarm types
dee4ce3d35 AP_BLHeli: allow both reversed and reversible states to be set
e710799b12 AP_Notify: add support for dshot command beeps
ba96f4491d AP_HAL_Linux: allow tone alarm types
3428cbf993 AP_HAL: add dshot command codes for beeps, leds and motor control
30b9a7aeb4 AP_GPS: correct GPS_AUTO_SWITCH parameter description
bc38d8a78c AutoTest: Fix autotest from failing due to state from earlier test
0e656c1504 AutoTest: Ensure Plane uses home as Fence Return Point if one is not present and no exclusion fence is present
5253b8a3ee ArduPlane: Fix spiralling loiters when no fence return point can be found
6d8d35f272 Copter: Change the direct value to the definition name
9a13b5c9b6 autotest: add test for auxfunc triggering via script
0545c3941b Copter: mode circle: trigger param value change
e995e8873c AC_Circle: add function to check for radius param change
7cc11e6856 AP_GPS: fixed handling of loss of GPS yaw
e78c6804a0 AC_AutoTune: remove start method and always init position controller
67e15f8d07 Copter: autotune entry checks moved to init
defc81443c AP_OSD: fix disable value for terrain alt warning
00b44ff6c8 AC_WPNav: remove unused function
7b60ace18b Copter: fix takeoff drift if vehicle is not in origin
9b88823ce6 Rover: logging for direct-rotation sail mast output
8544d00c97 Tools: rename TURN_MAX_G to ATC_TURN_MAX_G in param sets
c1d4e5116d Rover: move TURN_MAX_G param to atitude control
c5503b9aed AP_WPNav: read turn G acceleration from Atitude control
980c41e273 APM_Control: G limit all turn rates
d1f0a2f42a SRV_Channel: documenting new SERVOx_FUNCTION values
cbbdf8ba74 RC_Channel: add SCRIPTING aux fun trigger source
15362484bc AP_Scripting: add do_aux_function binding and example
acfdf6a38f AP_Proximity: remove mavlink boundary clearing conditions
fd2909d53f Plane: change location refence frame correctly
1a182a52da Plane: init terrain to locaiton and wpnav sub sytems
572e401894 Plane: fix QRTl terrain following
a165a0e1bb Plane: fix loiter terrain following
aa72b7da46 Tools: autotest: Plane: add loiter terrain following test
8764d69e2c HAL_ChibiOS: default SDMMC clock to 12.5MHz max on H7
bde21ad83c ChibiOS: fixed the clock selection on H7 SDMMC
619e6cb1b7 Tools: added name to GIT_Success.txt
57abaf0dec autotest: remove retry loop from within GyroFFTHarmonic
4928ec18af autotest: remove retry loop from within fly_dynamic_notches
8fcb03350b AP_Logger: minimal fix for allowing log listing while logging
c8b8ff3380 AP_Logger: Privatize AC_Avoidance Logging
aac9771daf AC_Avoidance: Privatize Logging
8fdfdebe55 autotest: pass sitl_commandline_customised up the context stack
117a44b589 autotest: remove corefiles at start of run
ac57950575 AP_Logger: move GYR & ACC log structs to AP_InertialSensor
2b20dcf128 AP_InertialSensor: move GYR & ACC logging functions to Logging.cpp
2cd0099bbc autotest: exclude decarotor from fly-each-frame-test
76678ffaf3 autotest: fix octa-cwx in SITL
5172e767df autotest: fix octa-dji in SITL
c7c4c17c68 autotest: improve change_mode debug
63ba484087 autotest: add test which flies each frame we can
6f5626d04f AP_Vehicle: fixed SD card slowdown with early mounts
c06ed9f7f5 AP_OpticalFlow: TYPE param becomes enable flag
f9866dc27e HAL_ChibiOS: fixed LED_SAFETY attached to FMU with recent DShot updates
4a9ee19599 AP_Notify: correct parameter documentation
9e1f03c931 Vagrant: add hirsute and hirsute-desktop
21d92780d2 RC_Channel: log init_aux_function and read_aux
d8d3494b17 Blimp: Privatize AP_IntertialSensor Logging
859fc73ba3 AP_Logger: Privatize AP_InertialSensor Logging
9792202810 AP_InertialSensor: Privatize Logging
3225ca8853 Rover: Privatize AP_IntertialSensor Logging
7e5ac5b648 ArduSub: Privatize AP_IntertialSensor Logging
5c8c961399 ArduPlane: Privatize AP_IntertialSensor Logging
a5b984640e ArduCopter: Privatize AP_IntertialSensor Logging
86a75789a6 AntennaTracker: Privatize AP_IntertialSensor Logging
1fb43d63e2 autotest: shorten statustext message to avoid chunking
3b1f5f0b15 autotest: added Boquig
de5da74df1 AP_GPS: fixed spelling of GLONASS
a245100ae6 AP_GPS_UBLOX: Fix GALILEO auto configuration
40a84bc566 Replay: link AP_Avoidance
03d643a18a ArduPlane: log auxillary function invocations
cc90eddc82 ArduCopter: log auxillary function invocations
a12ed2c99f RC_Channel: log auxillary function invocations
bd76d15df4 GCS_MAVLink: log auxillary function invocations
ba970f138d AP_Mission: log auxillary function invocations
e5eedfd741 AP_Button: log auxillary function invocations
50641e8f7c Tools: add Ubuntu 21.04 to environment setup script
b62ab14791 AP_BattMonitor: prepare MPPT driver for AP_Periph
a7f81c838f AP_BattMonitor: make virtual Backend.init() optional to fix CANDriver.init(uint8, uint8) ambiguitiy
a365e18420 AP_BattMonitor: add MPPT PacketDigital driver
c756138ede AP_CANManager: add MPPT PacketDigital driver
fa14fd1cec AP_Arming: add MPPT PacketDigital driver
ba6bb21560 AP_Math: added helper for16bit float conversions
5e2dbd93fc AP_CANManager: add write_frame()  to AP_CANSensor class
a5708acaef AC_Circle: Restore radius every time
e4c405b77b autotest: add a test for Spline missions showing terrain requirement
b5ebf9022c [AP_OSD] Fix wrong comment in OSD_W_TERR param
3bea2fd89b Tools: autotest: defualts: setup direct acutated wing servo
0c3aa72158 SITL: add direct actuated wing to sailboat sim
f5491433f6 Rover: direct-rotation sail mast control
02969451da SRV_Channel: direct-rotation sail mast control
b67f2e9307 AP_HAL_SITL: Add uart specification and array
29534a7e2d AP_Windvane: set true to apparent if no speed sensor
ab1d54745d AP_WindVane: convert analog sensor to use latest value
0628aa9e29 Tools: autotest: add sailboat autotest
67edff1c7c RC_Channel: add WIND_VANE_DIR_OFSSET option
974293ca3f AP_Windvane: move RC_IN_NO to RCx_OPTION
1e6e16e468 Rover: RC_Channel: add WIND_VANE_DIR_OFSSET
bf651ea1d9 AP_WindVane: rework filtering and add logging
2af6854437 Rover: move wind logging to windvane
fc426e01c2 autotest: stop using start_test for things that aren't actually tests
a3ceb6d95b AC_WPNav: fix spline initialisation of terrain offset
361ba989bd AC_WPNav: Use Pos_Control Heading
4158c37cfa AC_PosControl: Calculate heading
e253c94f63 AC_AttitudeControl: Remove Unused Function
726074be91 Copter: Support Thrust Vector based navigation
939d8e3ed4 AC_WPNav: Support Thrust Vector Control
bb46f7a947 AC_PosControl: Thrust Vector output
1fb2a95486 AC_AttitudeController: Thrust Vector attitude control
6af0f460af autotest: add duplicate-logmessage-field sanity check
453b7403b1 ArduPlane: remove duplicate log metadata fields
52a4ac028c AP_AHRS: remove duplicate log metadata fields
cf41548ce1 AP_AHRS: expand RATE log message description
6fbf2d227c AC_Fence: Correct Rover metadata
d3dca4c17d Plane: consistantly slew all three throttles
47ab0360e7 Plane: tailsitter: do not output throttle
ed7db5b2b6 AP_Motors: tailsitter: slew outputs and output throttle directly
b6fde7ed5a Tools: added can_sitl.sh to make using SITL with real CAN devices easy
ffd8f3678c AP_HAL_SITL: understand --serial0 etc in place of --uartA etc
c42681f4f2 Copter: add exit() method to Mode class
278593a6a0 HAL_ChibiOS: added f103-QiotekPeriph
ca6102ed28 f103Qiotek_Periph
1de3135d14 HAL_ChibiOS: added f103-QiotekPeriph hwdef (#1)
4362b16f50 AP_Logger: remove un-needed forward declarations
a04e8746a4 waf: removed debug code
42ebc13e6c Revert "AP_HAL_ChibiOS: support 6 bi-directional dshot channels on the MatekH743"
4a193c5b3d CI: removed azure pipelines
4c9fc334cc CI: enable cygwin build in github actions
6235f7f8f4 AP_Periph: fix metadata error preventing emitting to wiki
6a3dc8fa89 ChibiOS: update hal_sdc to support SDHC on H7 more reliably
c88524a1ac Tools: auto-build luminousbee5
de893a2530 Tools: allocate ID 1029 for luminousbee5
928108e556 Tools: added luminousbee5 bootloader
6764f039ca HAL_ChibiOS: added support for the new H7 luminousbee version 5
9a6d4e3af1 SITL: check if we are over precland base
cec82214d8 SITL: add local_ground_variable
078a1a2b0c SILT: limit update scope for precland
f9d166edf6 AP_HAL_ChibiOS: support 6 bi-directional dshot channels on the MatekH743
9f5dbfb092 AP_BLHeli: index bi-dir dshot channels through the motor map
0726870e6f waf: add support for thread statistics
5eca0c61c4 waf: add support for --enable-stats
558631918c AP_HAL_ChibiOS: add %age of total to thread statistics
a80d0800de azure: fixed SITL builds
30e8160aa1 autotest: sort logs before moving
a3c329b182 AC_AttitudeControl: make parameter renames consistent
b43c7f4ed1 AC_AttitudeControl: Parameter rename (non-functional)
de0c57de77 AC_AttitudeControl: Use Quaternion::operator* for vector rotation
86a157ce59 AC_AttitudeControl: Seperate thrust vector correction into a separate function
5b0f107631 AC_Fence: remove alt from TYPE param desc for Rover
e20fc3d4f6 AP_Filesystem: fix build on macOS
927a875133 Tools: param_parse: fix vehicle specific parameter with multiple fields
b81930885c AC_WPNav: remove unnecessary assignment and constify local vars
bebb7e7d8f AC_WPNav: removed unused enums
961e538cc0 HAL_ChibiOS: reduced flash usage on MatekF405
08cbfa032d AP_Filesystem: review fixes
b941b8c93a AP_Filesystem: allow for parameter upload via ftp
0b948d3faf AP_Param: allow save_sync without send
5a7ee5a376 AP_Common: fixed null termination bug in ExpandingString
23785c00dc AP_Param: improved queue handling and added set_and_save_by_name_ifchanged
d8575f0607 AP_Filesystem: allow for partial mission upload
d96002942c AP_Filesystem: ensure all blocks are filled on upload
c1f491ce39 AP_Filesystem: allow mission upload
3fb280ff50 AP_Common: added return to ExpandingString append
e055165eb8 AP_Filesystem: added download of mission/fence/rally
c53c112691 GCS_MAVLink: expose functions to convert fence and rally to mavlink
0ee0228883 autotest: fix flapping fly-home-land-and-disarm
dda30c34cf waf: fixed cygwin long line issue
878bd3f0fe waf: use /usr/bin/ar not arm-none-eabi-ar on cygwin
dd86e0cc89 AP_GPS: added comment explaining the approach
8bc31ec5e9 AP_GPS: account for rotation rate in moving baseline Z test
2168633372 HAL_SITL: account for attitude rate in moving baseline data
62e0a89036 AP_Param: cleanup the eeprom parsing tools and fixed sentinal detection
eac027b5c5 AP_Param: fixed handling of group_element=255 in sentinal detection
85e3772759 RC_Channel: correct metadata for fence enable and rst mode for Plane
8643322f06 autotest: correct string we expect from MAVProxy
d9195cbc67 mavlink: reference commit for GPS2_RAW extensions
a7e0c565dc AP_GPS: populate extension fields in GPS2_RAW
9cc883a8c0 AP_Compass: fixed the IST8308 on CubeBlack
21e95a62d5 AP_VideoTX: increase stack for smart audio thread
a9f442b4c1 AP_BLHeli: make sure there is delay between MSP send and receive to avoid reading our own data
4bb4e2fb22 AP_HAL_ChibiOS: adjust GPIO settings for serial passthru
5fcd2de4fa Copter: attitude target thrust-as-thrust bit moved from DEV_OPTIONS to GUID_OPTIONS
b8b1a7270c Rover: DPTH messages logged even with no position
09718a0f11 Rover: DPTH message logs water temperature
fee30b4447 AP_RangeFinder: add get_temp and implement for NMEA driver
83c18249a4 AP_CANManager: chane KDECAN enum from 2 to 8
d2b8fce25a AP_KDECAN: map ESC id to servo channel and passthrough pwm
6c93039d84 AP_KDECAN: slightly improve pre-arm check messages
09fb9a8e58 Plane: limit speed scaling in Autotakeoff wo AS sensor option
e0cfac902d AP_Periph: populate the param meta data for the wiki
93a13bbf0e AP_Math: Implement tests for the Quaternion class
8bc02ab00b AP_Math: Implement quaternion vector rotation operator
359327c7a3 AP_Proximity: add temp boundary class
c28d103afe AC_AttitudeControl: Fix Angular velocity rotation to body frame
c12d1938c2 autotest: add a test for button change for changing modes
7d3a1739d8 AP_Proximity: Integrate the judgment
323cbe47d2 SITL: fixup SIM_BAR parameter descriptions
4118a3eb03 HAL_ChibiOS: check bus owner on all SPI transfers
6a12b612b1 AP_Periph: fixed DShot in AP_Periph
13dc5bee25 AP_Logger: fix memory leak when finding last log
ec11bf1146 AP_Vehicle: fixed segfault in replay
7a7ac0cd73 AP_Logger: raise log_io stack size
2a10d9d4f5 AP_Scirpting: add terrain warning example
3344e87639 RC_Channel: Align Relay5 and Relay6 notations with others
f64c6f9ba1 APM_Control: fixed cygwin build
767a0b2a99 APM_Control: tweak the activation detection to catch more events
bb1dc7192b APM_Control: lower default target filter frequencies
dd98f00947 APM_Control: prevent cross-axis tuning
320d3d20c2 APM_Control: log autotune at 25Hz
72b51a389c APM_Control: use ATRP log msg via structure
da2ddda0cb Plane: added in ATRP logging
f34e4be991 AP_Logger: re-enable ATRP logging msg
7b073a61f1 APM_Control: allow for gain reductions when idle
b969a43074 Filter: Slewlimiter use different filtering for external reporting
dd446433f7 Filter: Adjust SlewLimiter tuning
6e6df3df58 Filter: Increase gain modifier action
458c46353d Filter: remove unnecessary fmaxf
91856b1d8c APM_Control: prevent bad init of FF in autotune
cb4a770d38 Filter: Reduce spikes in oscillation slew rate metric
fdfdb118b9 Filter: Improve SlewLimiter oscillation detection
3fdd507157 APM_Control: log I and prevent numercial errors in autotune
24d53eade4 APM_Control: adjust filter for autotune to 0.75 Hz
9e6561e6b5 APM_Control: Ensure adequate trim speed
4622e33255 Filter: Use positive and negative direction changes for slew limiting
fa88967b6e APM_Control: adjust min value for tconst
93abd44446 Plane: added SRate to PID logging
b079da33c5 APM_Control: use slew rate to move gains more smoothly
59a805a740 Filter: expose slew rate in slew limiter
95b375dc87 AC_PID: log SRate in pid info and expose slew rate
05d5fc2ecc AP_Logger: added SRate logging to PIDs
772b1262d4 APM_Control: added proportional reduction to D and P
d561cd358f APM_Control: log RMAX and TAU
d914ce6829 APM_Control: reset filters on autotune start
6cae97446a Filter: added auto-init to LowPassFilter
be161744db autotest: adjust default plane tune
7e64875a02 APM_Control: tweak tuning settings
ccd7b15d06 APM_Control: apply pitch limiting at high roll to rate
4694820ac3 APM_Control: allow for smaller minimum tconst
96059a6387 Plane: allow for AUTOTUNE_LEVEL==0
97f88f67f6 APM_Control: allow for AUTOTUNE_LEVEL=0
316541017a APM_Control: fixed handling of clipped actuator in autotune
9997b191a8 APM_Control: log smoothed rates
20ef242280 APM_Control: fixed restore of tconst on autotune abort
8f249d5ece AP_OSD: fixed param edit for new plane PIDs
160b25c557 AP_Param: fixed KEY_DUMP option
5818d6040c SITL: convert param file for new plane PID system
0be24c4946 Tools: convert old param files to new plane PID params
239e794909 Tools: added script to convert old plane PIDs
53ee13a083 APM_Control: use instance logging and allow AUTOTUNE_LEVEL adjustments
70c194c358 APM_Control: fixed LoggerDocumentation test
0b76a8018f APM_Control: move rmax and tau more slowly
3cb32a18f0 APM_Control: fixed for cygwin build
364fa0680d APM_Control: use shorter tau for autotune higher levels
f88622def8 APM_Control: implement new autotune system
12fad55891 APM_Control: fixed pid_info for pitch controller
ead011c7c2 APM_Control: move to only ACPID
6ca9033dde APM_Control: run AC_PID in parallel with old PID for roll/pitch
d2d06af751 Plane: removed ATRP log msg
99fe194980 AP_Logger: removed old ATRP log msg
0d9d952aea autotest: added SpringValley2
a35d8e584d Plane: change param prefixes for roll/pitch controllers
7b98ab0f12 AP_Param: added get_param_by_index
5ef31a1801 Filter: moved ModeFilter to C++
6f2e592943 AC_PID: allow for slew limit scaler
62afa46924 AC_PID: added accessor for IMAX
e5308db8c2 Plane: added FLIGHT_OPTIONS bit to enable yaw control in ACRO mode
4cc92c6b3e Plane: Constrain target_airspeed_cm by min as well as max airspeed.
baf31fd825 Plane: Ensure trim airspeed is applied if in auto with no DO_SPEED command received.
7cf4195f86 Copter: 4.1.0-beta1 release notes
6a3188a8ec AC_PrecLand: use enum-class for Type, make enum private
252543978e AC_PrecLand: remove unused PrecLandBehaviour enum and accessor
1ad9542df3 AC_PrecLand: use enum-class for EstimatorType
d9144ab47c Rover: tidy setting of sensor status flags
ed4dcea57a Blimp: tidy setting of sensor status flags
cb7ac6fb54 ArduSub: tidy setting of sensor status flags
6a32afcd72 ArduPlane: tidy setting of sensor status flags
6727a6588f ArduCopter: tidy setting of sensor status flags
187549b431 SITL: Add NMEA THS message.
738d000f86 AP_GPS: Add NMEA THS message.
ff072c5215 Copter: stop sending POSITION_TARGET_LOCAL_NED in guided-angle mode
5df8dd8c50 Copter: move guided submode enumeration into ModeGuided
3e138aa98a AP_Filesystem: fixed a read past EOF bug in @PARAM
5fd46c02ad AP_ExternalAHRS: remove message when EAHRS_TYPE is None
9990404e64 HAL_ChibiOS: fixed G4 analog input build
ae986967c9 Tools: add G4-ESC to build
fa9ac072ec Copter: remove unused AP_IRLock include
1fe1e53260 AC_PrecLand: pass in time corrected LANDING_TARGET msg
5a869174e5 Copter: use handle_landing_target() for precland
8444a3310d GCS_MAVLink: added handle_command_landing_target()
cc4fe29d8f AP_OSD: add icon for terrain alt panel and font editor
9513bbe85f AC_Precland: remove unused _timestamp_us
b749756c29 Plane: setup SMAX for Q modes
b984dd4a62 Plane: added in FF component in tailsitters
ea3657e941 AP_Motors: added accessors for ff output to motors
84d5c0fea9 Blimp: remove unused Log_Write_Precland method
6fe58a807d AP_Logger: move precision landing logging up into AC_PrecLand
6d9f1f1bb4 AC_PrecLand: move precision landing logging up into AC_PrecLand
65b1868863 Copter: move precision landing logging up into AC_PrecLand
105f94f1fd Plane: tailsitter: transistion to and from inverted flight
eca8cf3414 HAL_ChibiOS: save flash on boards that are critically low
bb28a58bce AP_ExternalAHRS: added frontend/backend split
b3ed4f4b12 AP_InertialSensor: fixed handling of more than 3 accel/gyro instances
fd3bf0f639 HAL_Linux: added --defaults option to Linux HAL
ae088f792d AP_ExternalAHRS: added EAHRS_RATE for IMU rate
266b425115 HAL_SITL: use common nmea_printf()
3650c02745 AP_GPS: use common nmea_printf()
6c29f8c24f AP_Common: added common nmea_printf code
e904de3431 AP_Scripting: add position light example
10f15fbba5 AP_OSD: add kilo symbol to RPM panel
85bb3bef19 Rover: minor fix to release notes
e78d6fee0a AP_Soaring: Ensure minimum cruise times are respected when RC switch position is changed.
9a7f80789f AP_Soaring: Update vario tau calculation to use SOAR_THML_BANK.
4fd88e8ad0 AP_VideoTX: don't try to change pitmode on anything other than SA2.1
bfcefa3f34 AP_VideoTX: prioritize pitmode changes over power changes
de64467ca3 AP_RCTelemetry: prioritize pitmode changes over power changes
31c889f583 autotest: accept Copter/Plane/Sub for sim_vehicle.py
6a98ad5a29 Copter: loiter-turns fix
affff0fc84 Tools: test mission from Leonards S-curve talk
f2692ab8d9 Tools: build_parameters: generate AP_Periph parameters
27b6637c2d Tools: param_parse.py: add support for generation for AP_Periph
725e36b381 AP_Periph: correct paths to libraries
f847066596 Tools: added my name to the GIT_Success
f7fc76f8ab Tools: build_parameters.sh: generate SITL parameters
b107740542 Tools: param_parse: add --sitl to emit only SIM_ parameters
c2411698b9 Copter: point to SITL parameter metadata
27c262b037 SITL: add documentation fo rsimulated barometers
af8e7b3e22 Rover: 4.1.0-beta1 release notes
c83774a7cd add revo-mini-* to build_binaries.py
fd88e53be6 AC_WPNav: remove unassigned _track_desired
8a6453b5d2 Rover: improved vectored thrust support
0b9753b12f Tools: autotest add vehicle info for rover-vectored
d00e63d14b Tools: add default params for rover-vectored
30a08dda0a SITL: add rover with vectored thrust support
381044c2d0 SITL: add comments to SIM_Rover members
186cb6ef13 AP_Scripting: correct rotations in fault tolerant hex example
47a5d78397 HAL_ChibiOS: disable DMA on high contention UARTs
f7da853adb AP_HAL: update hardware definitions for navigator r3
397def7b9e AP_LeakDetector: update leak pin for navigator r3
5537f5564c AP_HAL: update imu hardware for navigator r3
3a433cd71e AP_HAL: update pwm hardware for navigator r3
421638453f AP_HAL: update Notify LED hardware for navigator r3
6bbfdbaf6a AP_HAL_LINUX:fix missing setting physical address
30382740d2 AP_HAL_Linux:fix code style
8767112a77 AP_HAL_LINUX:remove duplicates and fix _version
c57764e9b4 linux: RCInput_RPI RPI-4 Support
7b9826cdce SITL: change for AP::terrain as a pointer
483ed19662 AP_OSD: change for AP::terrain as a pointer
d3e3e58466 AP_Frsky_Telem: change for AP::terrain as a pointer
5e820b203b Ap_Terrain: make AP::terrain return a pointer
5a941ce02f PLane: tailsitter: instant transition when disarmed
33f9e3d4b6 plane: add tailsitter transision rates, give more info in transision complete messages
d822499155 Blimp: move handling of last-seen-SYSID_MYGCS up to GCS base class
c064e09806 Blimp: remove unused command_ack counter
051be6c160 Rover: move handling of last-seen-SYSID_MYGCS up to GCS base class
2e23822b27 ArduSub: move handling of last-seen-SYSID_MYGCS up to GCS base class
aa973c5245 ArduPlane: move handling of last-seen-SYSID_MYGCS up to GCS base class
09a9bd73a4 ArduCopter: move handling of last-seen-SYSID_MYGCS up to GCS base class
9471d8069c GCS_MAVLink: move handling of last-seen-SYSID_MYGCS up to GCS base class
5d686b9cb1 AP_AdvancedFailsafe: move handling of last-seen-SYSID_MYGCS up to GCS base class
77998fb5ba revo-mini bdshot
75dc0ced10 Plane: Quadplane: remove outdated Z controller reset
dcb90c7bdb revo-mini ext i2c
be39e1f297 AP_HAL_ChibiOS: correct current scale for BeastH7 and BeastF7
aa0ec0f091 AP_HAL_ChibiOS: optimize BeastH7 compilation
ec90ab13f4 AP_HAL_ChibiOS: RCOutput: print DMA alocation errors
15509f314c AP_HAL_ChibiOS: RCOuput: LED setup re-work
61c829d624 HAL_ChibiOS: only use SRAM4 for DMA for now
2377d33417 AP_HAL_ChibiOS: H7 set SRAM4 to no cache and allow DMA
b369e86c0c Tools: param_parse: remove references to APM in parameter generation
229b25d916 Tools: param_parse: add *args and **kwargs to emitters
5a927d84c8 Tools: param_parse: rejig selection of emitters
5ef5fc9d84 Tools: param_parse: stop generating old .wiki format
c3414a5767 Tools: param_parse: move init of variable lower
4c6b07e950 Tools: param_parse: remove support for Parameters.pde
8defcb9169 AP_Compass: add memsic MMC5883 driver
4cddb12508 HAL_ChibiOS: fixed DMA sent calculation on UART DMA timeout
3c19579988 Plane: Push the TECS to climb in all circumstances
28fbc73fb6 Copter: fix build error when landinggear disabled
b3dbc21fa7 AP_HAL_ChibiOS: KakuteF7 bdshot configuration, tested by yaapu
79a6c5d2d5 SITL: Examples: JSON: MATLAB: add legacy Simulink files for 2018b
bde695d11f AP_Notify: UAVCAN_RGB_LED: don't init if no UAVCAN backends
240bfeb6bd AP_RangeFinder: TeraRangerI2C added case of out of range measurement
afe9573900 AP_RangeFinder: TeraRangerI2C redefining the output distance logic with OutOfRange cases
c886fd7025 AP_Logger: make log file erase async
721850d00a AP_HAL_ChibiOS: fix dshot150.
f6b1e15b0e AP_HAL_ChibiOS: optimize bdshot ISRs
cb3b37d181 AP_HAL_ChibiOS: ensure that non-dshot modes get regular 1Khz updates
ea3291520c AP_HAL_ChibiOS: add fast cycle calibration step
74d4af9ac9 AP_HAL_ChibiOS: reset bdshot IC correctly don't allow dshot rates below 800Hz. set pin speed to MID1 to avoid glitching don't run receive pulses on a timer
477ff72214 AP_HAL_ChibiOS: allow dshot rate to be set so as to both regularize the output as well as allow faster rates synchronized to the loop rate synchronize 1Khz and use Betaflight definition for prescaler adjust dshot bitrates don't allocate IC DMA if already allocated cancel DMA pulses correctly try really hard to align pulses with push() by making each dshot pulse event driven
9a870e4d75 SRV_Channel: add SERVO_DSHOT_RATE and propagate to rcout
9ac8e2b705 AP_Vehicle: addlow SRV_Channels to be initialized
f29dba2ddd AP_HAL: add set_dshot_rate()
749d4c997b AP_Vehicle: ensure reboot command ACK is written out in SITL
5ebe505f2c AP_HAL_SITL: ensure reboot command ACK is written out in SITL
1bda79dd72 ArduCopter: loosen motion based landing detection when WoW is present
444b33b059 ArduCopter: add WoW to Copter landing check
d91fd8b006 AP_Notify: add driver for LED on Blue Robotics Navigator board
1a2b960b0d GCS_MAVLink: prune old statustexts from queue
4027ed6070 GCS_MAVLink: make servicing statustext more efficient
e7a9e0acb4 Copter: move brake state into a structure
c350268918 autotest: correct compilation of Replay in autotest suite
5e5ca6e02a  AP_Proximity: Check for stray faces and add new param for filter cut off freq
e31ea2f3ee AC_Avoid: Change parameter defaults
1dc67fb932 AP_Proximity: Change parameter defaults
45477f6063 HAL_ChibiOS: fixed default MSP port for f405-MatekGPS
ca948171fe HAL_ChibiOS: fixed ADC error on revXY STM32H7 boards
ea4bbcf6ee autotest: add test for copter position reset
94bdca7f6f AP_HAL_ChibiOS: tidy up beastF7 DMA channels
ab2e429f32 Tools: Copter.fly_square descends more quickly
f341429977 Tools: Copter.RTLSpeed gets increased speed tolerance
c04f686ce7 Tools: extend copter NavDelay test by 80sec
224cd5a0d3 Sub: auto-yaw-correct-xtract uses target velocity instead of position error
afa59b9a60 Sub: integrate s-curves, remove spline support
ff8b69fbad Plane: update tuning to integrate poscon changes
941cf6b293 Copter: integrate AC_WPNav::get_yaw_rate_cds rename
94d4e5912b Copter: add comments to smartRTL
96267553cf Copter: auto detects mission changes
238d102a56 Copter: auto's wp_start skips submode change on terrain failsafe
d981de1ff4 Copter: position control PID logging
a29e2d8920 Copter: fix references to position error
7c14f4de0d Copter: rtl passes speed to wpnav::init
9d91b6c3be Copter: smart-rtl fix for final point altitude
328c0655e3 Copter: support for SCurves and position controller changes
204c839ae0 Copter: mode_smart_rtl uses peek_point
193799346c AP_SmartRTL: peek_point method peeks at next point
64ae08a925 AC_Loiter: fix references to position error
d0ab74e496 AC_Circle: fix references to position error
2201450180 AC_WPNav: renames and comment fixes
85b24cf641 AC_WPNav: fix get_wp_destination_loc
32c27b32aa AC_WPNav: support for SCurve navigation
6a8ba6f329 AC_PosControl_Sub: update for new position controller changes
cb0d37586e AC_PosControl: use Vector limit_length and formatting fixes
ba00c2edd6 AC_PosControl: alt hold controller update
b73ad1a1bc AC_PosControl: remove unused sqrt_controller_3D
49da872218 AC PosControl: fix position error get functions
e24f23e076 AP_Mission: add restart_current_nav_cmd
2357568eb1 AP_Mission: Mission_Command struct gets comparison operators
83b7c496b5 AP_Logger: support for position controller logging
ae66803148 AC_AttitudeControl: minor optimisation and comment fixes
d6e3495eca AC_AttitudeControl: support for feedforward rate in angle request for yaw
1d720cc5e9 AC_PID: library update and additional functions
bc0da915c4 AP_Math: add SplineCurve library
af7403f4e9 AP_Math: add SCurve library
0e506a71a1 AP_Math: remove control's limit_vector_length
e2b46d05dc AP_Math: Vector2,3 get limit_length methods
3bb0482795 AP_Math: add update_pos_vel_accel to control
67f2c79717 AP_InternalError: added invalid_arguments failure
f0094bac40 autotest: remove copied-in duplicate of pymavlink rotmat
dfa342a79f autotest: correct rc-values-good debug
7d9daccdf7 autotest: fix mavproxy switch test
d384ba6585 autotest: increase time permitted for Copter to turn east
2c6bdd200c autotest: fix make_safe_filename for Valgrind
18ded114ae Tools: param_metadata; stop prettifying XML before emitting
018b1425ce AP_AdvancedFailsafe: remove APM from description
cee348d082 Tools: make and declare bisect-helper.py flake8-compliant
ee79895a4e Tools: make and declare examples.py flake8-compliant
79d34b3b64 Tools: make and declare build_binaries.py flake8-compliant
fff4aa8bde autotest: increase allowed time for climb_before_turn to get home
fb789a07ce AC_WP_Nav_OA: origin_loc & dest_loc  should use _terrain_alt_oabak
ef95bf088c AP_Motors: Constrain get_throttle_hover value with allowed range
f988064e48 Tools: add a tool to help determine best speedup for autotest
d2c00f7b26 autotest: ensure RC thread is killed after each run_test
500679ec5b autotest: correct creation of default parameters
a301808e7a SITL: Add parsing of airspeed to SIM_JSON
0b8cdaf392 AP_Scripting: add mission command receve function, binding and example
849ad8c6de AP_Mission: support MAV_CMD_DO_SEND_SCRIPT_MESSAGE
82228469c8 AP_Scripting: add reset_remianing battery binding
9fdceeded3 AP_BattMoniter: add reset remaining per-instance rename existing to _mask
0fe38da522 GCS_MAVLink: rename battery reset function
d343c569c2 AP_Arming: check for only first compass being disabled
64c4b6a42b AP_Compass: remove unused set_use_for_yaw
c6bf7475f2 Rover: fixing typo in comment
ba972b6b46 autotest: fix --map option
d621fe0cde autotest: correct sub gripper mission
e8f96efe72 autotest: wait for stats initialisation before rebooting
40bc087359 Blimp: correct compilation for do_aux_function sig change
46f35a6910 AP_Baro: work around bad WHOAMI read on DPS310
ded488fd9f Blimp: Remove most commented out code and other cleanups
9683647fd1 waf: added blimp target
cd18e16ffb autotest: added blimp simulator type
7d42c3c834 SITL: Added simple blimp simulator
ac893b4013 AP_Vehicle: added blimp vehicle type
8bc0f100a2 AP_Param: added blimp frame type
d06161e8ee AP_HAL_SITL: Added support for blimp simulator
b98bbcb678 Blimp: initial implementation of blimp vehicle type
30ebe6cde9 autotest: augment test DO_AUX_FUNCTIION test for FAILED AND DENIED
b245b027f7 Rover: return MAV_RESULT_FAILED from do_aux_function if invalid function
cb8ca17035 ArduPlane: return MAV_RESULT_FAILED from do_aux_function if invalid function
ce9800e597 ArduCopter: return MAV_RESULT_FAILED from do_aux_function if invalid function
e5a8acb227 RC_Channel: return MAV_RESULT_FAILED from do_aux_function if invalid function
115e895c82 GCS_MAVLink: return MAV_RESULT_FAILED from do_aux_function if invalid function
30539ac8ac RC_Channel: add method on RC_Channels to execute aux function
d4a0222f76 AP_Mission: allow an auxillary function to be triggered as a DO command
b2f47ba367 autotest: add test for auxilliary functions in missions
b55094fef4 autotest: Test triggering Auxillary Functions via mavlink
2d61ded1f3 GCS_MAVLink: add option to execute auxillary functions via mavlink
369e11c662 Tools: added name to GIT_Success.txt
7ea5bc7e3e AP_EFI: use enum class for protocol
5edfed0083 Copter: factor out a mode-change-failed method
f0d6b79e8a HAL_ChibiOS: fixed skyviper builds with BMM150
1e0f106ed4 Copter: make AutoTune object private state to ModeAutoTune
c0017abb63 AP_Notify: Remove indirection on RGBLed of init()->hw_init()
5304dfe213 waf: set NDEBUG define to avoid assert issues
f926c27470 AP_Arming: add LANDING arm/disarm method for Copter
d387ad9921 Copter: have allows_arming take a AP_Arming::Method rather than bool from_gcs
d1fabe0c3d Plane: VTOL: remove motors config error
f7b39b19f0 ArduSub: make Location(Vector3f) require ALTFRAME
f65c4df358 ArduCopter: make Location(Vector3f) require ALTFRAME
5551deab4b AC_WPNav: make Location(Vector3f) require ALTFRAME
1b584a95ba AC_Avoidance: make Location(Vector3f) require ALTFRAME
dce01fbb43 AP_Common: make Location(Vector3f) require ALTFRAME
cc46483e6c mavlink: move reference forward to master
d0b3b926c0 AP_HAL_Linux: split out a calculate_thread_priority method
cfacb5d34d AP_HAL_ChibiOS: split out a calculate_thread_priority method
8b278b52b3 AP_Scripting: add GPIO inputs and exmaple
4315a69b9d AP_HAL_Linux: add semaphore to AnalogIn::channel to make it thread safe
7c96522e44 AP_HAL_ChibiOS: add semaphore to AnalogIn::channel to make it thread safe
f2c2e8c1eb AP_Scripting: add PWM and GPIO to analog input example
e0621179ef AP_Scripting: add PWMSource bindings
590be4049c AP_Scripting: support userdata alias
9d739cfa42 AP_scripting: add bindings and example for analog inputs
e5de148ad1 AP_BattMonitor: Fix nullptr deref when resetting a battery
d1dcfd91b5 AP_CANManager: do select before sending passthrough message
cb118c6b73 AP_CANManager: improve robustness of slcan passthrough under high rate
07313ae71d HAL_ChibiOS: fixed 2nd CAN inferface on F4/F7
e81dc36ed6 Plane: add option do do a VTOL approach RTL
b65e564ec9 Rover: use deadzone in 2-paddle steering
0190a42e47 AP_Airspeed: added ASP5033 driver
b8d4dbfbb3 AP_Mission: options parameter description per vehicle
7c6f1cd590 Tools: build_autotest.sh: pass in --autotest-server to autotest.py
ef4ebbf126 autotest: add a do-nothing --autotest-server option
a17086816f AP_Scripting: proximity bindings depend upon HAL_PROXIMITY_ENABLED
8a5b5897f0 Copter: remove unused ADSB_ENABLED from Config.h
1b69cf68ec Rover: integrate HAL_PROXIMITY_ENABLED
dbecf363f3 Sub: HAL_PROXIMITY_ENABLED replaces PROXIMITY_ENABLED
91fa40aea6 Copter: HAL_PROXIMITY_ENABLED replaces PROXIMITY_ENABLED
d4f1eacbed AP_Logger: use of AP_Proximity checks HAL_PROXIMITY_ENABLED
f67cdf5a81 AC_Avoidance: use of AP_Proximity checks HAL_PROXIMITY_ENABLED
b8f9c3b9c0 GCS_MAVLink: use of AP_Proximity checks HAL_PROXIMITY_ENABLED
d53c8b1dd0 AP_Arming: skip checks if not HAL_PROXIMITY_ENABLED
1fad5d46e7 AP_Proximity: add #if HAL_PROXIMITY_ENABLED
34d6094838 ArduSub: remove Log_Write_Performance which is not called anywhere
a32d45eb04 ArduPlane: remove Log_Write_Performance which is not called anywhere
45d484c0ba ArduCopter: remove Log_Write_Performance which is not called anywhere
3af006019b Copter: mark ModeSystemID as has_manual_throttle, no-arm and no-gps
9e97c2e095 AP_Scripting: change set_target_posvel_circle example tart location calculation
22c936140e Tools: removed assert calls
1f60eb68ec AP_Math: removed assert calls
dcf6bcea6e AP_InertialSensor: removed assert calls
b9df270df6 AP_HAL_SITL: removed assert calls
0601259d20 AP_HAL_Linux: removed assert calls
ebc1f9acf6 AP_HAL: removed assert calls
2473d3f7f8 AP_HAL_Empty: removed assert calls
88e277420f AP_HAL_ChibiOS: removed assert calls
0f5dd40052 AP_Compass: removed assert calls
31b0682246 Copter: Move the variable definition
a274697776 Copter: move LAND state variables to be members rather than static
e2a350f12e autotest: reduce race condition in fly_square mission
240e2d6b28 autotest: correct pexpect handling of supplementary programs
ae7b21843e autotest: remove useless mavproxy set heartbeat directive
070ad226ce AP_Logger: OABR correct altitude logging frame and specifier
dc793e916f Copter: move implementation of get_pilot_desired_yaw_rate into mode.cpp
8bf1ac0347 autotest: fix and tidy the log download test
fdbbcaa506 autotest: bump default speedups for several vehicles
6f2de67ead autotest: augment delay_sim_time debug
afde83d2f9 AP_Baro: Fix occasional problems with SPL06
f261045a2d AP_Logger: multiply IO thread timeout according to SITL speedup
dc290a8884 AP_Scripting: set_target_posvel example script
1a3a2a0437 AP_Scripting: add set_target_posvel_NED binding
d5715292a3 Copter: implement set_target_posvel_NED method for use in scripting
858d69ca0e AP_Vehicle: add set_target_posvel_NED method
0fe65fd6d3 Copter: Added new settings for flight mode channel
7c6d5d9bf4 AP_OpticalFlow:add UPFLOW sensor
60d26723ae Plane: make TERRAIN_FOLLOW at AP_int32 bitmask, per mode option
82a28e2a58 AP_Logger: do not log soon after file transfer unless we're armed
d9501766c7 autotest: augment delay_sim_time debug
73a3b5f832 AC_Fence: remove unused declaration
3035f8dea3 Tools: fix decode_watchdog display of LR,FA and FICSR
069b7142b7 Copter: add allows_flip function to Mode class
f4eed612d7 Copter: add allows_autotune function to Mode class
2b89ac625f Copter: add allows_save_trim function to Mode class
0cce5699b2 Copter: change from control_mode to flightmode
1dccc0ceb3 Copter: add mode_number function to Mode class
543c2bf55b Copter: change description of system id delay variable (NFC)
9f15689850 autotest: wait longer for prearm failure in IE24 autotest
f4591faeed AP_NavEKF3: simplify taking of GPS measurements
8aabf7c22a Plane: Add VTOL descent rate, convert existing rate to climb rate only Co-authored-by: Reko Merio K9260@student.jamk.fi Co-authored-by: Peter Barker <pb-gh@barker.dropbear.id.au>
46fb88e5a0 AP_OSD: Fix ground and wind speed varying length
2d9c6867f4 Copter: accept MISSION_START commands when vehicle is disarmed
32fb3cb929 Copter: remove unused update_navigation and run_autopilot
1c350514ca Copter: auto mode starts or updates mission from run method
06a7086562 AP_Scripting: Add proximity status binding
2d4dfe8a2a HAL_ChibiOS: fixed (unused) FF_FS_TIMEOUT
ffb2876f58 HAL_ChibiOS: disable unused ChibiOS features
744a2fe535 HAL_ChibiOS: use uint32_t for bit timing in passthru
c3d16cf2e2 HAL_ChibiOS: use defines for G4 messageram
b4e4d48e52 HAL_ChibiOS: switch OMNIBUSF7V2 timer for RCIN
ff31e10d9e HAL_ChibiOS: ensure that RCIN DMA channel is not shared
188e3d6974 AP_Bootloader: save some flash space
5b7723d3d0 Tools: make configure_all.py smarter about AP_Periph builds
2842730868 HAL_ChibiOS: fixed F3 CAN build
4f1c43862e HAL_SITL: support arrays of CAN interfaces
3590fe36e8 AP_Bootloader: support dual CAN
ef16eb56bb AP_Periph: support CAN redundancy
2fc7ea1a8b HAL_ChibiOS: added G4-ESC hwdef
353eca79b6 HAL_ChibiOS: fixed 32/64 micros bug in CAN select()
bac9b27a3f HAL_ChibiOS: enable analogin on G4
ac9e6ba86d HAL_ChibiOS: fix label for CCM on G4
7496b8bff5 HAL_ChibiOS: fixed DMAR register offset
50d5fced54 AP_Periph: fixed ESC output
dda69bfcb0 AP_Periph: added ESC_PWM_TYPE
4f10565f82 HAL_ChibiOS: fixed CANFD build on H7
f2ac61f6ba HAL_ChibiOS: enable DShot on G4
f57b1b9c4b HAL_ChibiOS: support logical/physical CAN bus mapping
2f7ff778be HAL_ChibiOS: fixed bug in DMA resolver
ec8abf0b2f AP_FlashStorage: support STM32G4
af64b86c9e AP_Bootloader: support STM32G4
439a944801 HAL_ChibiOS: added support for STM32G474 MCU
e1d71486e4 AP_HAL_ChibiOS: build fixes for ChibiOS 20.3.x
c26f49fb0a AP_IOMCU: ChibiOS 20.3.x build fix
03205595fb ChibiOS: update to 20.3.x
5b59445471 AP_HAL_ChibiOS: fixes for build with 20.3.x ChibiOS
c2ad2d6090 Plane: tailsitter.input_type bugfix
c1f56c4b22 AP_OSD: Add cell voltage and resting voltage displays
1018801522 AP_NavEKF3: White space and comment fixes
7113387d27 AP_NavEKF3: Use better defined data type
ac87cab6bc AP_NavEKF3: constify array index variable
1498b516a3 AP_NavEKF3: Don't try to learn gyro biases that are poorly observable
44be7161c0 AP_NavEKF3: Reduce yaw drift when operating without external aiding
53c4b163ce AP_NavEKF3: Allow adjustment of on ground not moving test sensitivity
e7b08c1ffc AP_NavEKF3: Update log message format description
918606e71d AP_NavEKF3: Don't use fake measurements to learn dvel bias
c709ad9c80 AP_NavEKF3: Add missing axis specific dvel bias update inhibit
073e273732 AP_NavEKF3: Don't allow yaw alignment until tilt alignment completed
a07427fd30 AP_NavEKF3: Don't learn poorly observed IMU dvel bias states before flight
4b1c334bba AP_NavEKF3: improve stability of co-variance matrix processing
0eb5369543 Plane: allow max auto pitch in hand launch takeoffs
526065a6a4 AP_OAPathPlanner: minor format fix
fe30612bb0 AP_HAL_ChibiOS: release ICM20649 reserve sensor
073a9e3390 autotest: fix frsky passthrough test
618282e996 Copter: Remove avoidance completly from poshold
711b497cc3 AC_Loiter: Make avoidance optional while using loiter controller
bbd32844d1 HAL_ChibiOS: switch more boards to 32k FRAM
9a8a20f1d2 Tools: environment_install: support Mint 20.1 Ulyssa
e1d3494f8e Docker: move to ubuntu 20.04 and correct bash-completion support
b62c2d9518 AP_Frsky_Telem: added new capabilities param to frame 0x5007
592fba7416 AP_Frsky_Telem: frame 0x5007 refactoring
0536be1c88 AP_NavEKF: Change misnomer (NFC)
a5b6ce9220 AP_NavEKF2: Change misnomer (NFC)
9abf91c86e AP_Periph: Allow skipping the BatteryInfo model_name
d578b4d3db AP_Soaring: Fix incorrect use of aparm.loiter_radius.
936aa63135 AP_Param: remove confusing comment
e567cca230 autotest: drain mav before receiving system_time in get_sim_time
8901efd69d autotest: start and stop MAVProxy for alttype and surface tracking tests
19e5351631 autotest: start and stop mavproxy for setpoint tests
462ac255a3 autotest: start MAVProxy only as needed for testing
4269cf52a2 autotest: split application of default parameters and defaultfile parameters
37efb1cbeb autotest: Copter sim passes default file instead of setting parms
dbee2e5d71 autotest: ignore type=0 heartbeat packets on SITL start
ec15614e11 Tools:autotest: added frsky passthrough autotest for terrain message frame 0x500B
45f7cb0c82 AP_Frsky_Telem: added passthrough frame 0x500B for height above terrain
3f204d976e Tools: split coverage script for easier update
5e63ed908e AP_Logger: loosen constraint on failing to log replay block
120167f799 autotest: fix fly_square mission
42eec13f5e autotest: adjust CAN test for lack of MAVProxy
6c67e191d4 AP_Mission: Change the description(NFC)
21c124ab47 autotest: tidy set_parameters
38ea1296ca Update serial-4way-if to v20005
6956abdb45 Some fixes for AP_BLHeli
59c5bbc8b8 AP_BLHeli: added missing ack to MSP_SET_MOTOR message
f6fc6d22da autotest: Fix the climb-before-turn test
717b06d635 .semaphore: add base semaphore.yml
5912052a39 AP_RangeFinder: lightware legacy I2C retry count to 20
941c5f8179 Copter: add EKF failsafe notify tones
e134d12e32 AP_Notify: add EKF failsafe notify tones
311a4ed0c7 Tools: correct package_is_installed check
881e42c337 Tools: Give a better chance on default install to get the right package version
b02f868793 Tools: make build installation script compatible with most Linux distros
36428f5074 Tools: Handle repeated add-param-file arguments to sim_vehicle.py.
660d301f9b Plane: chan param converison
733db3de19 RC_Channel: add MODE_SWITCH_RESET option
cca5e62c89 Plane: move RST_SWITCH_CH to RCx_OPTION
2d91679ec2 RC_Channel: add FBWA_TAILDRAGGER option
7226a3a9dc Plane: move FBWA_TDRAG_CHAN to RC Options
77e1092f46 RC_Channel: do_aux_function_mission_reset to virtual
5f555e5314 Plane: move CHUTE_CHAN to RC Options
eeab196d91 Plane: move RST_MISSION_CH to RC option
ebe841ba70 Tools: param_parse: validate empty description and fields
15421c16d1 Tools: add psutil for kill_tasks_psutil in sim_vehicle.py
58860205ea AP_Scripting: add manual i2c get device bindings
166aedf1be AP_Scripting: add I2CDevice to auto bindings
1f0e36e10d AP_Scripting: add i2c scan example
7b3097972b AP_Scripting: generator: support pointer semaphore flag
c54634e86b AP_Scripting: generator: finish off refence access implmentation
8effa59d10 AP_Scripting: generator: support method alias and sanitised names
9997981702 AP_Scripting: generator: support literal singltons that do not need to be fetched
bb270014e7 AP_HAL_ChibiOS: make sure LEDs get a DMA channel on MatekH743-bdshot
961c517274 AP_VideoTX: only mark updates when the VTX is enabled
f1eee860c0 AP_RCTelemetry: don't process VTX frames when VTX support is disabled
f7e23566ac AP_VideoTX: with SmartAudio v2 set the power level rather than power in dBm
968d05a637 AP_HAL_ChibiOS: allow further LED channels to be allocated at the same length
a6800b8c47 AC_Avoidance: minor PathPlanner format fix
0d730e11cc AC_WPNav: OA stores and uses original terrain alt
da580bd1ea AC_WPNav: OA gets minor format fix
da52e5d08c autotest: set SYSID_MYGCS in tests which need it
216140b58d autotest: remove un-needed portion of reset_delay_item
ef33ed5e36 Copter: landing gear enabled on all boards
ed8384b45a Copter: add option to disable LANDING_GEAR
52cd042d69 Copter: update filtered range finder altitude to AC_WPNav
c2cdb00f85 Copter: constrain throttle before setting deadband
aa75fc2c3d AC_PosControl: use target lean angles rather than true for init
a43db51440 AC_AttitudeControl: add get_att_target_euler_rad function
35815a5130 Tools: build_binaries.py : Add FlywooF745
a74ad951de SRV_Channel: fix servo output function documentation typo
f7d8994ce1 autotest: move assert_mission_count up, use it
30c9d4bcf4 autotest: remove pointless loiter switch
8a8db85b9c HAL_ChibiOS: fixed build of f103-trigger fw
e0a8baccfd Copter: pre-arm check of EKF pos and vel variances
49486b7cea Copter: ekf failsafe may trigger while disarmed but takes no action
5babe93201 Copter: ekf failsafe only triggers if it has ever passed
0c7f3d20a4 autotest: fix attitude test
b873e7fcb0 AP_Mission: read_cmd_from_storage sets all bytes of cmd
2c95093d36 AP_InertialSensor: fix temperature sensor on LSM9DS0
be29b23195 Copter: do-mount-control ignored if no mount
29043d62e9 Add FLIGHT_OPTION to climb before RTL
4a52f945db AP_HAL_ChibiOS: Add FlywooF745
e614c9eeb2 Tools: add bootloader and board types
3a006ae226 AP_GPS: Supplementary explanation of configuration parameters (NFC)
0b35708f33 Plane: set tailsitter throttle output when disarmed
000ff90a71 autotest: remove thrust-to-actuator to armed section
4b3adb806c autotest: add test for tailsitter throttle
d15e01d390 Plane: fix DO_CHANGE_SPEED airspeed to impact only AUTO and GUIDED modes
c5b1c832ba AP_NavEKF3: Change misnomer (NFC)
24591d68bc AP_NavEKF2: Change misnomer (NFC)
e1bab7374b AP_Notify: Add calibration indications for EKF temp and compass cal to RGB LED
444db8f647 README.md: remove APM1 and APM2 as supported boards
ed48558985 ArduPlane: Correct description of KFF_THR2PTCH parameter.
211a7f85b5 ArduCopter: remove separate calls to get delta-times for vel and ang
4605870788 AP_NavEKF3: remove separate calls to get delta-times for vel and ang
5dff32422d AP_NavEKF2: remove separate calls to get delta-times for vel and ang
5c31238f28 AP_Mount: remove separate calls to get delta-times for vel and ang
2b0bf45891 AP_InertialSensor: remove separate calls to get delta-times for vel and ang
a0fcd74b52 AP_DAL: remove separate calls to get delta-times for vel and ang
ea1884f491 AP_AHRS: remove separate calls to get delta-times for vel and ang
eb702b0f82 Tools: add support for ATTITUDE_QUATERNION
5123b05b2b GCS_MAVLink: add support for ATTITUDE_QUATERNION
0414929310 autotest: fix Heli spline waypoint test
3bfa07d35a Tools:autotest, frsky passthrough fix for long status text message test
694801254f Rover: do common gps arming checks first before moving on
da7d34224d Copter: do common gps arming checks first before moving on
5074b6d336 autotest: add test case for GPS ordering
48277b43e4 Tools: add autotest for checking GPS ordering
edceb4e3a4 AP_GPS: move underscore one layer down for GPS
5657dad3e6 Replay: move underscore one layer down for GPS
a1a41bb47a AP_Periph: move underscore one layer down for GPS
6ff0ddc7cf Rover: move underscore one layer down for GPS
f95fe1d464 ArduSub: move underscore one layer down for GPS
1b8519ee53 ArduPlane: move underscore one layer down for GPS
0c42c56c36 Copter: move underscore one layer down for GPS
4cb0e76f23 AntennaTracker: move underscore one layer down for GPS
49d934eb42 AP_HAL_SITL: add support for multiple periph instances
0031fee851 AP_GPS: add support for ordering UAVCAN GPS
67be2ed4ba AP_Arming: add support for GPS_Backends to spew failure reasons
06a40da355 AP_Periph: Send ardupilot.gnss.Status
a3ddf5264d AP_GPS: Support uavcan ardupilot.gnss.Status
e47857a278 AP_UAVCAN: Add ardupilot.gnss.Status
fd9c497232 AP_OSD: Add height above terrain panel and warning
f78d7c3b25 autotest: add option to not check current wp after set_current_wp
4a251bebbd autotest: fix fly_home_land_and_disarm; wp 7 is never current wp
3ddffdab9b autotest: correct wait_current_waypoint timeout behaviour
8e8f2b93a7 AP_Motors: Add DECA frame class and type string
e727d08266 Copter: Provide downward facing rangefinder readings to proximity lib
e9c0e50185 AP_Proximity: Filter out land detected by sensors
b7c937592e Copter: send mission_item_reached in guided
29e85aa516 Rover: rename sent_notification to send_notification
78ddd0512c Tools: autotest for copter spelling fix
fe382e4d10 AP_Mission: minor format fixes
3a66b2667b AP_Mission: correct spelling of interrupted
e09e9b1e6a AP_Logger: Log raw and filtered distances from proximity lib
044e1850d4 AP_Proximity: Add a low pass filter per face for distances
4abae23306 Tools: disable QuadPlane.GyroFFT autotest
76ed53d033 .github: Disable examples tests
bdeadce95b autotest: improve deadreckoning test
425ab1358a autotest: tidy streamrate handling
f028747399 GCS_MAVLink: Remove todo since plane now supports MAV Protocol Capability Mission Fence
198ec9a678 ArduPlane: Fix use of nullptr when AC_FENCE configured as DISABLED
bcc0da9c47 AutoTest: Adds additional autotests to capture mode change while breached
43e06e9040 AC_Fence: Fix int32_t overflow with large longitude values
560943d6e0 ArduPlane: corrections to returning to the previous mode if fence was disabled while under action
26811ad46d AP_Landing: Autoenable fence if required when landing was aborted
269fa5cbe2 AutoTest: Copter remove FENCE_AUTOENABLE tests
d055d7a581 ArduCopter: Cleanup - removes autoenabling of fence with AC_Fence parameter
8ef68c8fb0 AC_Fence: Send text to gcs when fence is auto-enabled
b4bf41c6f9 AC_Fence: Adjustments to default parameters for addition to plane
5dd40afe0a ArduPlane: Retrigger fence breach if mode
2c66e164d0 ArduPlane: Improvements to parameter upgrading between versions
dac5996d93 AutoTest: Fix autotest conflicts after rebase on upstream
e16bbe6e18 AutoTest: Ensure fence state is disabled at end of test
31462418c6 AutoTest: Ensure Copter can RTL and Land even when Fence Floor has not been auto disabled
f14e1c2799 ArduCopter: Ensure fence has opportunity to auto disable for landing
cfb648e1c5 ArduRover: Remove fence_checks in AP_Arming because they are common across all vehicles now
8ab1cf869d ArduCopter: Remove fence_checks in AP_Arming because they are common across all vehicles now
fa7be629e5 AutoTest: Make fence tests flake8 compliant
af733b2f09 ArduPlane: Convert and remap old parameters
01b27bdb61 AutoTest: revert change that breaks quadplane
2353b55452 AutoTest: Address race conditions in changes to fence tests
76a2a76b54 AutotTest: Adds autotests for Plane to test RetRally flag added to AC_Fence
f774196b52 ArduPlane: Cleanup of unnecessary comments in fence logic
8545715837 AutoTest: Add Static Fence Tests for unallowed arming when breaching geofence
c316711351 ArduPlane: Add conversion from ArduPlane geofence param to AC_Fence param
6f7ba3b037 AutoTest: Ensure fence is disabled at end of throttle_failsafe_fence test
6251b6eead AutoTest: Rebase and carry across changes from autotest
254c28f142 AC_Fence: Improve auto enable documentation
a88f2721a8 ArduCopter: Use auto enable and auto disable from AC_Fence
8a99d9dd00 ArduPlane: Use auto enable and auto disable from AC_Fence
b6d29d746b AC_Fence: Add common auto enable and auto disable
2a9affe517 ArduCopter: Remove unused fence floor enable function
b2346ef6df AutoTest: Adds additional tests to ArduCopter to test autoenable and floor
e4f1e26b5c AC_Fence: Disable fence floor when disabling the rest of the fence
f228adfa75 ArduCopter: Improve auto-enable/disable of fence
dd5ede0fe0 autotest: small comment improvements
bbd606b8b5 AutoTest: Corrections to autotests
c783410494 AC_Fence: adjusted AP_GROUPINFO to contain all copters
22bdc3e54c AC_Fence: extend pre-arm checks
a3efc9ad98 AutoTest: Fix MAVlite test allowing plane fence to be enabled
47e76a1807 AutoTest: Move fence enable/disable to common location
528defd560 Autotest: activate the fence via a mavlink command
92122e5133 Copter: automatically enable and disable floor fence on automated takeoff and landing
2e422f249a AC_Fence: small comment improvements. Do not call the same function four times
15e95be7d7 AC_Fence: do not delete the FENCE_ENABLE parameter. It would confuse many users.
8d8753b14c Autotest: fix two copter tests after parameter rename
215901be30 Autotest: Correct the logic for fence based autotest functions
783a4b7965 AC_Fence: Change logic to fence enable and sys_status reporting
4f7ffc5eb1 Plane: move fence disable code to a function to enable reusability
fef8b37b11 Plane: Address Randy review comments
aae092b88f ArduPlane: Remove all unused geofence capability
a23e8d46da AP_Vehicle: Add additional fence mode change reason
8ca69c2e89 AP_Logger: Add support for fence floor events
1a3e168ced Autotest: Fence is present, but test looking for not present
c2abf27d78 GCS_MAVLink: Add reporting of fence floor breaches to GCS_MAVLink
0e73b7bce1 AP_Arming: Enable and Disable the fence when vehicle is armed/disarmed
87b66b4b49 AC_Fence: Add parameters from Geofence to AC_Fence
17fb585bf1 ArduPlane: Add support for AC_Fence
9b53d505ea AP_AHRS: Handle airspeed estimation with have_inertial_nav() == false
e3eea0a54a AP_NavEKF3: Use specialised  function for in-flight plane yaw alignment
4675aea0bf AP_NavEKF3: Update parameter description
baea2c33bd Plane: remove unnecessary call to setTakeoffExpected
246b80dc06 AP_NavEKF3: Don't return a 0,0 lat,lng unless absolutely necessary
aa49e92edc AP_AHRS: Remove unused AP_AHRS_NavEKF::yaw_alignment_complete API
1a3258a039 AP_AHRS: Fall back to DCM airspeed estimate if EKF velocity not available
a50be71b41 AP_NavEKF3: Fix inconsistency in reporting raw GPS position validity
d52594c576 Tools: Fix set_home autotest
ec401083bf AP_AHRS: Remove unused variable
af2bf6097b AP_AHRS: Add accessor function for EKF3 yaw alignment status
6a603019d5 AP_NavEKF3: Add accessor function for yaw alignment status
1dc79f0be8 Plane: Clarify calculation used to detect throw
3634a942a1 AP_NavEKF3: Fix bug causing unwanted use of default airspeed
a0faa55ef5 AP_AHRS: Fix rebase build error
912db3512e AP_NavEKF3: Fix EKF selection bug
85c0040fa3 AP_NavEKF3: Improve inFlight detection for fixed wing
4e648734fa Plane: Fix takeoff pitch for hand launch
39e1eb238d Plane: make detection of impending takeoff more likely
a1bde16abd Plane: Fix failure to disarm after landing in strong winds
6d6ec44d59 AP_AHRS: fixed build on boards without EKF2
ad582a90dd Plane: Don't set takeoff expected until vehicle is armed.
295c1e1308 AP_NavEKF3: Reset covariances when falling back to non aiding mode
adae7365e1 AP_NavEKF3: Fix LLH reporting bug
ddadc45854 AP_NavEKF3: Reset states when falling back into non aiding mode.
b92eca7b66 AP_NavEKF3: Select startup aiding mode after landing without yaw sensor
f5f13b9a47 Plane: Set default airspeed variance using airspeed range
0a052d20ea Tools: Add handling for default airspeed variance
afb31bc4f5 AP_NavEKF: Add underflow protection to yaw GSF weight normalisation
82f68464d4 Plane: Don't lower nose when hand launching
d1d790019c AP_AHRS: Improve use of estimated airspeed
9a5a264aa0 AP_NavEKF3: Improve wind estimation without airspeed sensing
ac00776184 AP_NavEKF2: DAL interface compatibility change
296fb567ca AP_DAL: Enable default airspeed variance to be specified externally
9228925bea AP_Motors: Battery voltage compensation maximum voltage
ecf928d68b AP_Proximity: change PRX_IGN_WIDx range from 45 to 127
267d19b0de SITL: SIM_Vicon fix observation interval limit
dceb76c9f1 SITL: SIM_VICON output MAVLink vision_position_delta
0a08793b7d Tools: Holybro S500 param file
f85e55a611 Plane: override mission-changing-command to reset some state
4aed767fe9 autotest: add test for MAV_CMD_DO_SET_MISSION_CURRENT
e3de88d1d4 GCS_MAVLink: handle MAV_CMD_DO_SET_MISSION_CURRENT
f0ffaa5624 AR_AttitudeControl: reset speed filter and I term when stopped
f6231db618 AC_Fence: Add breach calculation variant to use LLA
e041b647d7 AP_Mount: Change misnomer (NFC)
6e6e807223 AP_NavEKF: Change misnomer (NFC)
ae565aef1a AP_NavEKF3: Change misnomer (NFC)
af639f7812 AP_NavEKF2: Change misnomer (NFC)
ada6649be3 CI: add size test
52c5a7c417 Tools: add pretty diff size script
0dbe2e072c AP_Mount: Set relative pan to true for servo mounts
44902ef535 AP_Mount: Add parameter to control relative pan option for servo mounts
bcee4b7b82 AP_Mount: Add parameter to control relative pan option for servo mounts
a235246628 autotest: correct units in new AHRS2 test
5c8d3a87db Plane: change SRx_ docs value 1 50
0a9f319c85 Rover: change SRx_ docs value 1 50
5b684e5e2b Sub: change SRx_ docs value 1 50
38fd43ac2c Copter: change SRx_ docs value 1 50
856961a3b6 Tracker: change SRx_ docs value 1 50
ca460d8ad1 .github: use augmented bash to display everything on action
ecc89411f9 Tools: put UART_chargen in skip list
2953aa3748 AP_NMEA: fix example
77367c1376 AP_AHRS: fix example
8b1d35bc76 AP_Module: fix example
67540dc5bb AP_InertialSensor: fix example
ce34ce6def AP_Baro: fix example
aaf7504ac8 AP_Module: fix example
7a5a7b1eb5 CI: add examples test
c8a7ab1a75 AP_InertialSensor: fix example
f2570d49a1 AP_Scheduler: fix example
1082a799c2 AP_Compass: fix example
95d0c67a99 AP_Baro: fix example
fb8ec292cd AP_TECS: Clarify TECS_THR_DAMP and TECS_LAND_TDAMP descriptions.
46c5d72166 Tools: add bdshot bootloaders for CubeYellow and mRoControlZeroH7
d6575fb6ad AP_HAL_ChibiOS: bdshot configs for CubeYellow and mRoControlZeroH7
b3ee5d5f59 autotest: increase verbosity in AHRS2 test
69275582fa QuadPlane: fix loiter to RTL instant QRTL switch
5a49d98555 Tools: have decode_watchdog try to decode from .log dataflash dumps
f227d67d58 AP_GPS: Remove unused enum
b3b7f2d3d2 Copter: Remove yaw rate wrapping in guided mode.
4c8ada111b Plane: quadplane defaults Q_WP_SPEED to 500
a35a7e1523 Tools: autotest manual control test requires 12 deg
79c9b4b523 AC_WPNav: increase default speed to 10m/s and accel to 2.5m/s/s
64289d436a Copter: reduce ANGLE_MAX default to 30deg
3824277d11 AC_Fence: Add Smart RTL or LAND to the fence action
17f285b68f Copter: Add Smart RTL or LAND to the fence action
a97786c01d RC_Channel: use RC channel options 203 and 204 for throttle and yaw
7480a2a00b GCS_MAVLink: correct output of AHRS2 mavlink message
317181922c autotest: ensure we're getting vaguely sane data in AHRS2 message
cc83562add autotest: tidy fence handling
03bb3237ef SITL: set default RPM_TYPE to 10 for FlightAxis
b2d4cefa85 autotest: change heli default RPM type to 10
4d2cf8c95b AP_Frsky_SPort: correct handling of RPM sensor data
370db00096 AP_RPM: add explicit RPM_TYPE_SITL
eb499ff731 autotest: improve frsky SPort test
7b251b6fd4 autotest: add diagnostics for frsky tests
c059338386 AP_Frsky_Telem: use location from AHRS not GPS
2671a2f71f autotest: fix up FRSky tests for running under Valgrind
360512f6b0 autotest: preserve commandline customisations on reboot under valgrind
fc9a93ba67 autotest: stop using mavproxy for clearing missions
97e2596bf8 autotest: stop clearing mission at start of test
973510a4ff autotest: push context after customising cmdline
5d1e105534 autotest: allow more time for mission upload and download
10007e2e42 autotest: load missions natively rather than using MAVProxy
993d87469c autotest: move mission upload functions from rover to common
34a52e9cfe autotest: use wait_statustext in place of mavproxy.expect for autorotate test
6e2339d2d6 Tools: default parameters for Hexsoon TD-650
4fbdb59398 HAL_ChibiOS: prevent sharing the same DMA stream on TIMn_UP channels
6cb263056d AP_HAL_ChibiOS: build fix for iomcu
d0e4d510cf AP_HAL_ChibiOS: order PWM timers by DMA UP stream id to prevent deadlocks in dshot
2e9c11fbdf Copter: add FLIGHT_OPTIONS param and options bits to disable thrust loss and yaw imbalance warnings
447af29ef1 Copter: add yaw imbalance check
1d050a01ce Plane: Quadplane: add Q_OPTION to ignore forward flight angle limits in Q modes
e64a7b2884 AP_Mount: type enable flag
3306484023 AP_NavEKF2: log position offset as float in meters
8173cd442a AP_NavEKF3 log position offset as float in meters
0971ef55a4 AP_NavEKF3: Fix bug preventing EKFGSF running when needed for reset
948650dbe5 AP_NavEKF2: Fix bug preventing EKFGSF running when needed for reset
0daa1a63d3 autotest: remove pointless fetch_parameters call
3e0f9ab4e7 Tools:autotest\common.py fix text typo
61138f342a autotest: do not time out receiving of heartbeat if running gdb
1f47698076 autotest: use change_mode in place of mavproxy.send
8ebe64a274 Plane: Quadplane disable forward motor assist in Q modes if rangefinder is out of range low
97e7b48ca1 Tools: rebuild DrotekP3Pro bootloader
0528414a9c AP_Bootloader: limit the 1M flash check to the F427
44df1dd0ca Plane: fixed the pitch control in transition for tilt rotors
319368e4b7 Plane: fixed yaw on fwd transition in tilt quadplanes
e884e4c5ac AP_Math: added fixedwing_turn_rate() helper
b450740fb0 AP_Button: update BTN_FUNCx param descriptions
b137f9e319 waf: fixed embed error on python2
6d25b02508 waf: need to crc the padded bootloaders before embedding
35149ae8b2 AP_Scripting: allow scripting startup with no sdcard
d3b3c443bc autotest: reset copter completely after autotune test
9932aa99f7 GCS_MAVlink: return identical seq in MISSION_CURRENT if possible after set
14791c335b HAL_ChibiOS: fixed build of f3 boards without PWM out
98abe125ad Tools: rebuild IO firmware
9d87645c6e AP_IOMCU: fixed event handling bug in IOMCU code
9126579b77 AP_IOMCU: added memory to debug code
243cf2199d HAL_ChibiOS: disable shared DMA on IOMCU
bf999f701f AP_InertialSensor: fixed ICM-20602 y offset bug
4cddf37984 AP_InertialSensor: log unexpected register changes
c23f61b79a HAL_ChibiOS: set internal error on panic
f250c4d684 AP_InertialSensor: added an internal error for panic
7010eae9e8 AP_HAL: remember details of register check fails
85ef6b7ac6 AP_InertialSensor: added optional logging of register changes
7d7a7a365d Copter: correct metadata for do_change_speed cmd
eec05c1f48 HAL_ChibiOS: fixed a race and null ptr deref in dshot
013415eb31 autotest: make and mark arducopter.py as flake8-compliant
dee040b14a AP_Notify: Change division to multiplication
48ab08fb67 AP_ESC_Telem: Fix copy & paste typo
af759bf57e Mavlink: submodule update to 2021-02-23
b102391163 AP_HAL_ChibiOS: don't send rcout events without rcout thread
b012c472e1 waf: added crc to embedded data
f7098c1635 AP_ROMFS: added crc check in ROMFS decompression
1c74f14162 AP_ROMFS: fixed range check in tinflate
b4119aa07b AP_OSD: remove font bins from gitignore
bea8bf3afb AP_OSD: Add draw_vtx_power()
e44eb47143 AP_OSD: Update fonts to include mW char
a3dcf5a6ff AP_NavEKF: move GSF logging from EKF files into GSF files
65b780fad5 AP_NavEKF3: move GSF logging from EKF files into GSF files
d668243d1e AP_NavEKF2: move GSF logging from EKF files into GSF files
a17a8faf42 AP_Logger: move GSF logging from EKF files into GSF files
79f21ed639 autotest: add test for GSF logging
9d681eecc4 autotest: move to state outside when we leave log structure
cfe9dc32d1 GCS_MAVLink: only send distance_sensor messages if valid data seen
9a66a1564c AP_Proximity: only send distance_sensor messages if valid data seen
fcd35ba0f8 AP_Vehicle: move AP_Vehicle to AP_Vehicle
8df8898464 RC_Channel: move AP_VideoTX to AP_VideoTX
7039d67474 AP_VideoTX: move AP_VideoTX to AP_VideoTX
74318dd0dd AP_Vehicle: move AP_VideoTX to AP_VideoTX
dd310fd12f AP_RCProtocol: move AP_VideoTX to AP_VideoTX
d97079e53b AP_RCTelemetry: move AP_VideoTX to AP_VideoTX
c5e62eb6e4 GCS_MAVLink: schedule current waypoint rather than immediate send
0e76006dc5 SRV_Channel: Simplify boolean expression
300a14aaae SITL: Simplify boolean expression
ba2adac869 GCS_MAVLink: Simplify boolean expression
3b0dac3198 AP_NavEKF3: Simplify boolean expression
4f81aa82e2 AP_LeakDetector: Simplify boolean expression
d749fce378 AP_LandingGear: Simplify boolean expression
1038581bcb AP_HAL_SITL: Simplify boolean expression
9965cbb79a AP_Generator: Simplify boolean expression
a0172fd2ca AC_Fence: emit a FENCE_STATUS message if we newly-breach the fences
edc2b0c94e AP_HAL_ChibiOS: fix copy and paste typo
17031707e3 AP_Scripting: added pcall example
bbb6bbedf4 Copter: 4.0.7 release notes
ee2f7eac80 Plane: prepare for 4.0.9
20da92c8a1 Tools: revert IO firmware
342e6b35fa AP_NavEKF3: Fix use of incorrect ballistic coefficient parameter
7370cd9f00 AP_NavEKF3: Fix typo and update parameter description
4d9cfdaaa8 Vagrant: create a bionic64-desktop VM
0c9559db6d AP_Motors: fixup octaquad CW_X motor directions
fa1bed9735 Tools: rebuild iomcu firmware
44ec74030e autotest: recover from flip in althold to remove stabilise throttle problem
a4a5d52c35 autotest: extend time allowed for RTL for simplemode test
9120882e9e autotest: print name of open dataflash log when test exception caught
adf44f3b2b autotest: make and declare sim_vehicle.py flake8-clean
98451e499a autotest: make and declare balancebot flake8-clean
b5f490aff4 autotest: make fly_proximity_avoidance_test_alt_no_avoid more reliable
c913d8134d Plane: use ahrs.groundspeed() instead of gps call
1afa0a7ff2 GCS_MAVLink: remove unused member
7af20e9ea3 HAL_ChibiOS: increase H7 serial buffer sizes
3b88a3273b HAL_ChibiOS: adjust up uart tx stack size
5e0f175223 HAL_ChibiOS: adjust UART buffer sizes for new UART code
4e61ba2dc8 AP_HAL_ChibiOS: reduce stack sizes for rcout, uart_rx and storage.
94de238751 AP_HAL_ChibiOS: disable RCOUT thread on iomcu and rebuild iomcu.
f9c5f9be00 AP_HAL_ChibiOS: make dshot DMA unlock event driven in order to allow unlocking from rcout thread
c388fd9214 AP_Filesystem: add @SYS/uarts.txt
a07b238c7d AP_HAL: add PRIORITY_RCOUT
d4aef2dba8 autotest: stop using MAVProxy to change mode
05c9b79a5e autotest: make and declare quadplane.py flake8-clean
c13d229877 autotest: use self.set_current_waypoint rather than "wp set" to set current wp
148e2e751f autotest: add set_current_waypoint
bf7920f2d7 AP_Scripting: use helper for not supported error saving 1K of flash
b7044d3708 autotest: remove use of global expect_list
2d17f019b6 autotest: remove pointless manipulation of expect list
dcc04ccd09 autotest: stop using MAVProxy to change modes
2c1df16442 autotest: increase button message timeout to allow for Valgrind speed
ad06a616b8 autotest: adjust for low log transfer rate under valgrind
bcc1cb9dbb autotest: use get_parameter in place of mav's param object
b1ccf3b3f8 autotest: add test for rangefinder-based proximity avoidance enablement
f0f87be06d AC_PID: AC_PI_2D format changes
7eb4e9b370 AP_Periph: set PORT defaults for F405-MatekGPS
97c2b7228e AP_Periph: Matek F303 and F405 AP_Periph use DSP310 baro
3cf1b9444f autotest: get_sim_time_cached in NMEA output test to stop losing msgs
ce61f44505 autotest: reset SITL commandline after fetching unhidden parameters
e221e6ce45 autotest: flake8 compliance for ardusub.py
628a3843b2 autotest: flake8 compliance for arduplane.py
78aa729b90 autotest: flake8 compliance for common.py
d183d4c91b .flake8: ignore E221 multiple spaces before operator
4d33e7dc80 .flake8: ignore E203 whitespace before ':'
a45d4e93be .flake8: ignore 'W504 line break after binary operator'
4c56ac7eb3 autotest: flake8 compliance for antennatracker.py
726f54e37f autotest: flake8 compliance for rover.py
0a235cc0d1 .github: run Python cleanliness checks
360e2f49b3 Tools: git-tools: add a script suitable for use as a pre-commit hook
e3887c8d93 autotest: make and mark autotest.py flake8-clean
3c83d52e52 Tools: add script to check Python files for flake8-cleanliness
8019cc160a AP_ICEngine: make it obvious that update_idle_gov does nothing if disabled
f124cf0991 AP_Hott_Telem: use GPS single-char representation of fix type
9da9d8c94b AP_GPS: provide method for getting single char representing fix type
e788d63686 AC_AttitudeControl: clear up comment for inertial_frame_reset
4c2cbdab8d AP_HAL_ChibiOS: only setup half-duplex for receive when transmit is fully over
5c32007cdf AP_HAL_ChibiOS: ensure stop bits can be set before UART begin
bd8619a616 gitignore: add scripting repl
43763091bd AP_Scripting: add send_named_float to simple loop example
fc95664580 AP_Scripting: add GCS send_named_float binding
3371c272fb AP_Notify: make LED_NTF_LEN changes require a reboot
3a9107245c AP_HAL_ChibiOS: allocate DMA and LED buffers correctly when the length changes
a98f85502a AP_RCTelemetry: add support for SmartAudio protocol.
ea3af39773 RC_Channel: add support for 6-position switch and use it for VTX power
6f91e053d5 AP_VideoTX: new library to support the SmartAudio protocol
7aa1e2d63b waf: add AP_VideoTX module
2d0fe8b883 AP_SerialManager: add support for the SmartAudio protocol
b79ff9475d AP_Vehicle: add support for the SmartAudio protocol
33fee211a4 autotest: extend pexpect timeouts when running under Valgrind
a292fe1b8b autotest: use wait_statustext rather than mavproxy.expect
c20c4a6308 AP_HAL_SITL: set bus in read-size of rdwr transaction
c00a82868e autotest: make DLVR sole airspeed sensor in test
dbdda65956 autotest: add basic test for GPS blending
1c4e1aab05 AP_Logger: move gps logging structures into AP_GPS
c2cba52ad8 AP_GPS: move gps logging structures into AP_GPS
82a84c8f35 Tools: added name to GIT_Success.txt
94c4b2d769 mavlink: update to ardupilot master commit
1ca0998f32 Tools: take MAV_CMD_DO_SPRAYER as a mavlink command
eefcc92f24 GCS_MAVLink: take MAV_CMD_DO_SPRAYER as a mavlink command
b14dcf4bae Tools: add mission command to turn sprayer on and off
c3b005e1d9 AP_Mission: add mission command to turn sprayer on and off
98287a1b2f AC_Avoid: Use previous avoidance vel for limiting accel
cbf57af1f3 AC_Avoid: Limit acceleration while simple avoidance is active
865f3cda79 AC_Avoid: Add param to switch off proximity avoidance based on alt
fdd39ca3a8 Copter: Check for height before turning on proximity simple avoidance
be8f747b7a autotest: adjust timeout for Valgrind; disable for gdb
c1a831bbf4 GCS_MAVLink: sensor flags, only mark AHRS as enabled once initialised
2302f08f75 Copter: run the "point yaw to ROI" controller at full rate (400Hz) instead of 1/4 of full rate (100Hz)
a42bfd5df5 AP_Baro: added MS5611 baro compensation for -15 to -40C
4c4e613f6a AP_GPS: Don't send SBF config unless there is free space in the port
c0da87c066 AP_HAL_ChibiOS: Update HitecMosaic to reflect changes to GPS config
4d42996068 AP_GPS: Force the buadrate on SBF units
01eb64ce73 AP_RPM: don't present RPM2_PIN parameter if RPM_MAX_INSTANCES <=1
97c1445bce Copter: ensure send_position_target_global_int alt always absolute
ea0efd3a1a Copter: correct documentation of use of DO_CHANGE_SPEED parameter
6d1511f3eb GCS_MAVLink: added method to force save calibration
f8e0227c8c AP_Compass: added force_save_calibration()
25dd08a1fd AP_InertialSensor: added force_save_calibration()
9de1519928 HAL_ChibiOS: prevent hw flow control from hogging a DMA channel
ee8e9e3289 waf: fixed handling of vehicle dependency check for abs paths
3c3db50843 Vagrant: augment bash when working in a git repository
1b74058842 Plane: recalculate glide slope after achieving rtl.done_climb
ca49f62b6d autotest: add test for Plane's RTL_CLIMB_MIN parameter
e4d5a92721 autotest: add wait_distance_to_nav_target method
d60fa86026 autotest: use set_map_from_rc more
106162b0c5 AP_MSP: removed date/time from MSP
0cc4409845 HAL_ChibiOS: fixed handling of invalid channel for LED write
098a17fe2e HAL_ChibiOS: fixed CubeOrange ADSB param name
f107ce3951 AP_Proximity: Use 3 sectors for simple avoidance boundary
8cab737bdd AP_Proximity: Follow NED convention
74bda4952d AC_Avoid: Return early if velocity is unchanged in proximity avoidance
a5706a18af autotest: handle Py2 not having ConnectionResetError built in
50d80e9dc4 AP_Periph: Remove debug printf
840bdbba62 Sub: show frame class as part of banner
85a8536243 Copter: All men dream, but not equally. Those who dream by night in the dusty recesses of their minds, wake in the day to find that it was vanity: but the dreamers of the day are dangerous men, for they may act on their dreams with open eyes, to make them possible.
e5844b7753 Frame_params: Sub: make RNGFND1_TYPE 0 (None)
e448910ff0 Sub: don't override default RNGFND1_TYPE
5e3caefc2d Vagrant: make ptrace permissive to allow stack dumping
eafd702773 AC_WPNav: add comment clarifying get_wp_destination alt frame
4020308d40 Vagrant: add desktop to Vagrant
904b493809 Tools: autotest, common.py remove extra comma
bb15c18cc3 GCS_MAVLink: send message when MAVFTP init fails
eb78a473f6 AP_Vehicle: correct virtual specifier
8396388af9 Tools: run_examples: add FlashTest to skip list
6062e4ee81 ArduPlane: use AUX_PWM_TRIGGER_LOW and AUX_PWM_TRIGGER_HIGH
7430a415fb AP_Tuning: use AUX_PWM_TRIGGER_LOW and AUX_PWM_TRIGGER_HIGH
67bdec3325 AP_OSD: use AUX_PWM_TRIGGER_LOW and AUX_PWM_TRIGGER_HIGH
9362039feb AP_ICEngine: use AUX_PWM_TRIGGER_LOW and AUX_PWM_TRIGGER_HIGH
287645cf68 RC_Channel: use AUX_PWM_TRIGGER_LOW and AUX_PWM_TRIGGER_HIGH
a631ca4eac AP_Button: add AUX_SWITCH_PWM_TRIGGER_LOW and AUX_SWITCH_PWM_TRIGGER_HIGH
0725cbdffc RC_Channel: add AUX_SWITCH_PWM_TRIGGER_LOW and AUX_SWITCH_PWM_TRIGGER_HIGH
68a27e3b41 AP_Arming: use RC_CALIB_MIN_LIMIT_PWM and RC_CALIB_MAX_LIMIT_PWM
c0348b034f Rover: use RC_CALIB_MIN_LIMIT_PWM and RC_CALIB_MAX_LIMIT_PWM
9dcaf155a6 RC_Channel: add use RC_CALIB_MIN_LIMIT_PWM and RC_CALIB_MAX_LIMIT_PWM
1ee7f00192 AP_VisualOdom: fix T265 criteria for aligning to AHRS
f53242b323 AC_AttitudeControl: rename thrust_heading_rotation_angles args
ad6e2eeed8 AC_AttitudeControl: remove feed-forward from run_quat
20d8696a0a AP_HAL_ChibiOS: BeastH7 has DPS310 baro
8ace1bfad1 AC_PosControl: const local vars and remove todo
6d650e74f2 AP_Scripting: add fault tolerant hex MotorsMatrix example
4324d66c13 autotest: loosen time constraint on mavlink messages in magcal
bd8384b322 autotest: break out a get_altitude method
e2aaf4c216 Tools: autotest, fix for frsky not defined error (#4)
d9dd93bcdd autotest: don't run frsky tests armed for the most part
617ee37392 .github: run test in privilege container to allow PTRACE
f4e6d63a7c AP_VisualOdom: minor formatting fixes
d928b80629 AP_SmartRTL: Add option to ignore pilot yaw
1e1be590e2 Copter: Add ignore pilot yaw option bit
0703a1cf93 AC_PosControl: add PSCZ logging
9f914d9e7d AC_PosControl: add get_z_accel_cmss helper function
3ae8af6b21 AP_Logger: add PSCZ logging
8135d9e60a AP_VisualOdom: Privatize Logging
00e3bda2f5 AP_Logger: Privatize AP_VisualOdom Logging
9ace8ed216 AP_Motors: Matrix 6DoF scripting add get_frame_string
7d5e5f8dd7 AC_AttitudeControl: add SITL panic to remind us to implent the quarternion
a572820dbc Copter: system: use config_error loop don't panic
cc26a520bc AP_MotorsMatrix: init to virtual and remove duplicate set initalised
1395f9ce79 AP_Scripting: add 6DoF motors matrix bindings and example
28e8c5e56e AP_Scripting: add 6DoF attitude control bindings and example
5c3725d899 AP_Motors: add 6DoF scripting matrix mixer
791e68b4ef AC_AttitudeControl: add 6DoF support
d6fa4d97e3 Copter: add 6DoF support
f490c9d799 AC_Autorotation: Add copter vehicle type to flight log metadata
6dc100728f AP_Motors: Fix spelling of autorotation flag
030b6f2a49 Rover: Simplify boolean expression
ffe356d597 ArduCopter: Simplify boolean expression
9bc8a8c912 AP_Motors: make frame*string getters more const
236961f17f Plane: use get_frame_class/type string methods
f405454aba Copter: add nullptr checks for get_frame_string
cb687a6fff Copter: move get_frame_string to Motors class
6b2184a53a AP_Motors: add frame_class and frame_type strings
814393c9c2 HAL_ChibiOS: switch from DPS280 to DPS310 in boards that use the DPS310
dad55b496b AP_Baro: support DPS310 temperature fix
1814524fcb AP_NavEKF3: fix using_external_yaw when using external nav
86fda93781 HAL_ChibiOS: added heater correction of AK09916
a90b54ba6e AP_Compass: allow for AK09916 correction by heater duty cycle
1097d04e5d AP_BoardConfig: added get_heater_duty_cycle()
5920c52285 Scripting: simple relay example
55de28c0fd CI: added upload of failed builds
db8aaeb63a Plane: During takeoff keep limit at LEVEL_ROLL_LIMIT until rotate speed is reached.
2ab8ad0ef0 HAL_ChibiOS: added Durandal pinout details
742d5a9fa0 autotest: add body_frame_velocity
3609a1b5fd Copter:PreArm Battery low voltage failsafe message repeated two times fix
164da261f1 Tools: initvagrant: install missing cmake so we can build jsbsim
a70f9d54c0 Copter: update release notes for 4.0.7rc1
d1dda86f60 AC_AutoTune: report step in lower case
25beab4c82 AC_AutoTune: add failure to level warning
4032ac9884 AC_AutoTune: level criteria is 5deg for plane and 2.5 for all others
2e9b2fbc2b Plane: update release notes for 4.0.9beta1
623951a262 AP_HAL_ChibiOS: Add some extra GPS SBF config
5f3b1b92a4 AP_GPS: SBF don't send configuration until we've recieved a prompt
d9ffd04a96 AP_GPS: Broadcast the detect message on AP_Periph over CAN
b113fe15ab Tools: added MatekH743-periph to autobuild
a3c47e0a23 AP_OSD: add SD-card handling to font README
f20fc28a85 Tools: param files to ease SITL setup of GPS-for-yaw
3da156e358 AP_InertialSensor: prevent nullptr dereference in SITL
6144136b61 Filter: fixed reset of filters to first value
d1e6b0befb AP_HAL_ChibiOS: Add ADC1 support to STM32F3
09f04e8a5a AP_RangeFinder: Devices are enabled and disabled by type
b8e82a56f3 HAL_ChibiOS: don't start rout ticks till after full system init
a09bdcdda1 Tools: default param file to ease using copter SITL with vicon
f847758272 Filter: add gtest suite
514dfa4b71 SITL: SF45B: increase resolution to 1 degree
83417c1df7 AP_Notify: modify NTF_BUZZ_VOLUME description
ee2f615352 AP_Proximity: RPLidarA2: correct face distances are assigned to
567e9733b6 autotest: augment bisect-helper.py to help with flapping tests
c2e310d75f autotest: add test for OBSTACLE_DISTANCE_3D message
393ec5d6f7 autotest: add test for MAVProxy proximity sensor
acfe815305 AP_Scripting: make get_control_mode_reason available to lua
84953c2e39 AP_BattMonitor: fix constexpr-and-MIN don't get along bug
ba293084e3 SITL: Remove pointer check before delete
61bcbfea14 AP_TempCalibration: Remove pointer check before delete
12cd138030 AP_HAL: Remove pointer check before delete
6bdc1704f4 AP_GPS: Remove pointer check before delete
e9a299d96e AP_CANManager: Remove pointer check before delete
d244f22522 Tools: AP_Bootloader: Add AP_HW_SWBOOMBOARD_PERIPH identifier
baf8c9d70c ChibiOS: update to latest ChibiOS to include osalDbgAssert redefine
c580151d75 ChibiOS: fixed SRAM3 size for cache disable
2cdc202d19 AP_HAL_ChibiOS: use non-cachable SRAM3 for DMA on H743
cfac268f13 AP_Filesystem: add @SYS/memory.txt
0eff201016 AP_HAL: add mem_info()
de9382b0f4 AP_Mission: Reflecting the result of the process
af29f34f2c Plane: store previous_mode_reason only as a local
698f967b63 GCS_MAVLink: Notify the maximum number of missions
82edfc6237 Sub: remove unused prev_control_mode_reason
f854477efe AP_BattMonitor: Limit the scope of possible corruption if the NeoDesigns gets a bad cell count
699e61da57 Tools: auto-build new matek boards
4a178d5c44 Tools: added new Matek bootloaders
00d0fe876d AP_Compass: Added support for internal i2c bus to VRBrain-v51
e600df680e Plane: instantly switch from RTL to QRTL if within radius
553425f994 Scripts: add bi-directional dshot firmware to built binaries
49f0ba058c Bootloaders: add bi-directional dshot bootloaders
06a1500f98 AP_HAL_ChibiOS: ensure GPIO pins get undef'ed properly
07c3435f9d SITL: Add missing const in member functions
7b6f1225ba AP_WheelEncoder: Add missing const in member functions
b8360a08c7 AP_Vehicle: Add missing const in member functions
9904b397d8 AP_UAVCAN: Add missing const in member functions
6b2e4296db AP_TemperatureSensor: Add missing const in member functions
e146483e72 AP_Stats: Add missing const in member functions
705a885d82 AP_Soaring: Add missing const in member functions
0da2d9f8eb AP_SmartRTL: Add missing const in member functions
bffda55639 AP_Scripting: Add missing const in member functions
806bc4898b AP_Scheduler: Add missing const in member functions
efffed0510 AP_RangeFinder: Add missing const in member functions
2ae7edc8b2 AP_RTC: Add missing const in member functions
8f96580e9d AP_RCProtocol: Add missing const in member functions
a902c1d54b AP_OSD: Add missing const in member functions
3df3d002ff AP_Notify: Add missing const in member functions
53eb2f2bf4 AP_NavEKF2: Add missing const in member functions
cc39e36ee1 AP_Mount: Add missing const in member functions
bdc14c60fb AP_Motors: Add missing const in member functions
266ed9541b AP_Mission: Add missing const in member functions
5d7d955378 AP_Math: Add missing const in member functions
18d8f19801 AP_Logger: Add missing const in member functions
41c653f973 AP_LandingGear: Add missing const in member functions
d006012cee AP_L1_Control: Add missing const in member functions
dc6f5aec92 AP_HAL_SITL: Add missing const in member functions
6899c0b5af AP_HAL: Add missing const in member functions
98a8e6e370 AP_GyroFFT: Add missing const in member functions
2e75425a2a AP_GPS: Add missing const in member functions
aa55578008 AP_Frsky_Telem: Add missing const in member functions
be37f10d61 AP_ExternalAHRS: Add missing const in member functions
842360b5e3 AP_Compass: Add missing const in member functions
5375980aa6 AP_Camera: Add missing const in member functions
001e516fa7 AP_Button: Add missing const in member functions
3fcf430a2c AP_BoardConfig: Add missing const in member functions
d190fff887 AP_BattMonitor: Add missing const in member functions
6a824b1467 AP_Baro: Add missing const in member functions
f6937babfa AP_Avoidance: Add missing const in member functions
7e01935893 AP_ADSB: Add missing const in member functions
f9732b6c70 AC_PID: Add missing const in member functions
345fe1a9e4 AC_Fence: Add missing const in member functions
e4fb439a96 AC_Avoidance: Add missing const in member functions
7be27235f3 AC_Autorotation: Add missing const in member functions
0ecbaa867d AC_AutoTune: Add missing const in member functions
e3d018c401 AC_AttitudeControl: Add missing const in member functions
28c03ffb4e Rover: Add missing const in member functions
678cbdfb4f ArduSub: Add missing const in member functions
cdc7f891a9 ArduPlane: Add missing const in member functions
ad82e01270 ArduCopter: Add missing const in member functions
c98947fe85 AntennaTracker: Add missing const in member functions
03582ff77c AP_WindVane: Add missing const in member functions
e8e41c512e GCS_MAVLINK: Add missing const in member functions
45a819c98e StorageManager: Add missing const in member functions
7ad6dd858b ChibiOS: update SuccexF4 bootloader
41f7587637 ChibiOS: Add SWD pins to SuccexF4 bootloader
881fd4f37c AP_HAL_ChibiOS: use buffered writes for CRSF telemetry
8d38a627a9 Rover: move control_mode_reason up to AP_Vehicle
2b890eda53 ArduSub: move control_mode_reason up to AP_Vehicle
eaa6b36077 ArduPlane: move control_mode_reason up to AP_Vehicle
adc0514cf6 ArduCopter: move control_mode_reason up to AP_Vehicle
ed4a61d5d9 AntennaTracker: move control_mode_reason up to AP_Vehicle
f15a1fbd62 AP_Vehicle: move control_mode_reason up to AP_Vehicle
cdaff74948 autotest: stop trying to arm in QRTL
b6d0208287 Plane: allow arming in all auto-throttle modes
a9be4480b1 Plane: mark q modes as not having auto-throttle control
24268cc6de AP_HAL_ChibiOS: add MatekH743-periph hwdef
b91c65b4a4 AP_HAL_ChibiOS: add f405-MatekGPS & MatekF405-CAN hwdef
11bf02c2c4 AP_Logger: correct spelling in metadata
7bbc699165 Copter: make terrain failure strings human-readable
f65bee80dc autotest: use BATTERY_STATUS to detect sub reboot
e86e3333a5 Tools: updated KakuteF7 bl
9ba35580db HAL_ChibiOS: Init kakutef7 motor pins for correct initialization of some ESCs
18f56fbac5 AP_HAL:examples:Printf: Improvements in the Printf  example
e13a35abc1 Autotest: check for empty message before trying to use it
bb576a49b8 Tools: added autotest for frsky rpm telemetry
d5868e3c7d AP_Frsky_Telem: added telemetry support for RPM sensors 1 and 2 for SPort, FPort/FPort2 and passthrough over crossfire
cfe63f8657 AP_OSD: changed OSD screen switching logic
275c2849cf AP_Baro: Privatize Logging
c32dd4bb5d AP_Logger: Privatize AP_Baro Logging
15ce4fb034 AP_Periph: Use the ArmingStatus broadcast to set the soft_armed state
05b9aa2fa2 AP_UAVCAN: Broadcast ArmingStatus regularly
d6dc8864db AP_Camera: Privatize AP_Camera
d142b3ba16 AP_Logger: Privatize AP_Camera Logging
401d365491 AC_WPNav: Adapt to 3-D Avoidance changes
f3d825bebe AP_Math: Add unit tests for 3-D lines
de67e2b70c AP_Proximity: refactor changes done for 3-D Boundary
37a14a78df AC_Avoid: Refactor changes for 3-D avoidance
5092bc2f6d AC_Avoid: Simplify accessing boundary
d359c5ddf2 AC_Avoid: Let user take control if they are backing away at a greater speed than what we have calculated
91132d00d9 AC_Avoid: Add deadzone to backaway code
343ba1a693 AP_Proximity: Use only valid boundary for Simple Avoidance
71d928aab9 AP_Proximity: TeraRangerTowerEvo uses modified Boundary_3D interface
5c9a65cff6 AP_Proximity: TeraRangerTower uses modified Boundary_3D interface
d4a6ebd273 AP_Proximity: SITL backend uses modified Boundary_3D interface
518078c901 AP_Proximity: RPLidarA2 uses modified Boundary_3D interface
babba91632 AP_Proximity: RangeFinder backend uses modified Boundary_3D interface
2d77adf720 AP_Proximity: MAV backend uses modified Boundary_3D interface
a65e0affe4 AP_Proximity: LightwareSF45B uses modified Boundary_3D interface
623bd6923e AP_Proximity: LightwareSF40C_v09 uses update Boundary_3D interface
4fda6b38f7 AP_Proximity: LightwareSF40C uses modified Boundary_3D interface
ad899de78c AP_Proximity: backend uses modified Boundary_3D interface
ef9bc64bb1 AP_Proximity: AirSimSITL uses modified Boundary_3D interface
279b534f67 AP_Proximity: remove duplicate definition
5a0cc08dcc AP_Proximity: refactor Boundary_3D
bd37eab3af Copter: Support 3D Simple Avoidance
ad6e013171 AC_Avoid: Support 3D Simple Avoidance and Bacakway
43717ea55c AP_Proximity: Add OBSTACLE_DISTANCE_3D mavlink message
36bba2e02c AP_Proximity: Convert Proximity Backend drivers to use 3D Boundary methods
4fce715a9a AP_Proximity: Shift methods to Proximity_Boundary_3D class and support 3D Boundary
7569d8bf8e AP_Proximity: Add AP_Proximity_Boundary_3D class
a5fafe57d8 GCS_MAVLink: Add support for OBSTACLE_DISTANCE_3D
1262d73071 AP_Math: Add new methods to support 3D avoidance
79d5e432ee AP_Math: Add new method to extrapolate 3D vector given distance, yaw, pitch
dbae56eb3a AP_Logger: panic in SITL if we fail to log a Replay block
a5d33cacb5 AP_Soaring: add units to param SOAR_THML_BANK
d1578e5ba2 autotest: Update soaring default params in line with specified SOAR_THML_BANK.
d2c8eb8ce9 Plane: Allow AP_Soaring to specify loiter radius in THERMAL mode.
4ec1e55833 AP_Soaring: Add SOAR_THML_BANK parameter and associated logic.
4fbba17506 AP_Scripting: added bindings for frsky telemetry library
24382e25fc AP_Frsky_Telem: added support for sending frsky telemetry data from scripting
0f363809f5 AP_GPS: Fix some unit errors with the GPS blended instance
6f5d5c2bf9 AAP_HAL_ChibiOS: allow asserts to be printed on a GPIO pin
d41c92d317 AP_HAL_ChibiOS: don't overwrite fault handler data, register forced faults
20d928a86a AP_HAL_ChibiOS: don't share DMA on OmnibusNanoV6 for Flash SPI
873d35acd9 AP_HAL_ChibiOS: bi-directional dshot for MatekH743
877dde4736 AP_HAL_ChibiOS: on BeastF7 share TIM3 UP/CH and give flash SPI dedicated channel
2395018000 AP_BLHeli: don't log invalid bi-dir dshot values as they are never used
9249b73e8b AP_HAL_ChibiOS: correctly allow mixing of bidir and non-bidir channels
2823fa7245 AP_HAL_ChibiOS: never write bytes that have not been erased on H7
78735a946e AP_HAL_ChibiOS: allow STM32_FLASH_DISABLE_ISR for H7
6bc4e995a4 CI: build CubeOrange-periph
155de6d2bc HAL_ChibiOS: fixed build of AP_Periph on H7
96dc8339f1 Build.md: Updated waf configure commands for CubeBlack and fmuv3
c02dfd1214 Autotest: add EndMissionBehavior Test for rover
db1c653cc6 Rover: Add manual mode to MIS_DONE_BEHAVIOR
0535c4f592 AP_InertialSensor: default TMAX to 70
9861a02c60 HAL_ChibiOS: save INS_ACC*ID persistent parameters
bdb364d461 AP_InertialSensor: save the accelerometer ID parameters
87528f47c8 AP_IOMCU: prevent internal error on bootloader flash
bb278a1cc7 Tools: allow tempcal_IMU.py to run without existing tcal params
6163659887 AP_HAL: prevent a single bad transfer causing an IMU to be marked unhealthy
2b71bf8e99 Autotest: fix subtests completion
b20604bb59 Plane: update release notes for 4.0.8
ebfe593e38 AP_Scripting: add example script setting up a custom MotorMatrix
643966fb3e Copter: add SCRIPTING_MATRIX frame class
004f873dc7 Plane: update Quadplane FRAME_CLASS description
5c397d4674 AP_Scripting: add MotorMatrix bindings
fca6f7027b AP_Motors: allow Matrix config from scripting
d0e1e85b9e AP_Motors: add get_frame_mav_type
0a23084d43 Copter: move get_frame_mav_type to motors
5f4b5c4b94 Plane: prevent failsafe from changing mode during landing
87486739d1 Plane: disallow changing to INITIALISING mode
d487d6152e Plane: ahrs pre-arm always runs position checks
e7c2eb1705 Sub: ahrs pre-arm skips position checks
f6da769de8 Rover: ahrs only checks position in modes that require it
dc515b87df Copter: ahrs only checks position in modes that require it
f6cb0819ef AP_NavEKF3: pre_arm_check may skip position checks
8ecac27777 AP_NavEKF_Source; pre_arm_check may skip position checks
62932f884f AP_AHRS: pre_arm_check may skip position checks
49e2a0caed Tools: fixed valgrind errors with AP_Param::ParamToken
1716fcf995 GCS_MAVLink: fixed valgrind errors with AP_Param::ParamToken
ac35867c17 AP_Param: fixed valgrind errors with AP_Param::ParamToken
12b93e2922 AP_OSD: fixed valgrind errors with AP_Param::ParamToken
6c684538d3 AP_Param: greatly speed up param download with disabled parameters
d19dca37d5 Copter: 4.0.6 release notes
95bc9cca79 ArduPlane: use ground_course in preference to ground_course_cd
d426d8e1f8 AP_GPS: use ground_course in preference to ground_course_cd
358069df24 AP_AHRS: use ground_course in preference to ground_course_cd
2e2ec79992 RC_Channel: reserve AUX_FUNC for MISSION_RELATIVE
a62dc3b3e0 Rover: disable switching and arming in INITIALIZING mode
d47afb2406 autotest: added AHRSTrim test and add trim to accel cal test
2843cfa42d AP_InertialSensor: use mavlink statustext for cal info
b542f947f7 AP_InertialSensor: don't mark accels as calibrating during trim
e908a996af AP_InertialSensor: support SIM_ACC_TRIM
7292b4f260 SITL: added SIM_ACC_TRIM_{X,Y,Z} for simulating IMU trim
2ae57f8861 Rover: Change delay method to HAL scheduler's delay
d533d289da Rover: Change delay method to HAL scheduler's delay
ddc4d08e8f AP_NavEKF3: make drag fusion optional
1ccda938cb AP_NavEKF3: make external navigation optional
8da511f039 AP_NavEKF3: make body odomotry build depend on vehicle type
3c825bdffc waf: make AP_NavEKF3_core.h a vehicle dependent include
ad2ab333f9 Tools: autotest: allow autotest to connect directly to SITL
8c7d63433c autotest: clear mission ourselves rather than with MAVProxy at end of test
2ee052b36e AP_GPS: Made GPS_DISABLE prevent last_fix_time_ms updates
ade1c487d8 AP_Logger: remove default reason argument for Write_Mode
25fff17e48 AC_AttitudeControl: constify some local variables
9e7a0e6267 Copter: use iterators in parameter conversion
3582b69e9c AP_NavEKF3: remove getFilterTimeouts access methods
445a461f12 AP_NavEKF2: remove getFilterTimeouts access methods
30836535d0 autotest: retry dynamic notch test up to 3 times
ae1a667232 .gitignore: ignore tasklist.json
4e487f2598 wscript: add list_ap_periph_boards function
805493c854 ardupilotwaf: use dynamic generation for ap_periph board name
c54a597571 AP_Periph: pull out supported targets from wscript into a separate file
3ae76fa64b wscript: add generate tasklist for use by vscode extension
2e2e34d784 autotest: correct run_one_test case (vehicle.testname case)
1fec88af21 autotest: make arming test a little more verbose
401cccca19 AP_NavEKF2: correct description on NKF3.SVT
b3bacdd33c AP_NavEKF3: remove internal-only getTiltError method
dddb285209 AP_NavEKF2: remove internal-only getTiltError method
5ad0ac6727 AP_NavEKF3: remove unused getAccelNED method
6b60bae068 AP_NavEKF2: remove unused getAccelNED method
e32ca819fc GCS_MAVLink: mark results as unused
60d0b0f07c AP_AHRS: add WARN_IF_UNUSED to some getters
281296832a autotest: retry GyroFFTHarmonic test on failure
3279400e2e autotest: disarm_with_rc_input shortcuts if it sees rudder-disarm-disabled
f452c6bb51 autotest: break out a statustext_in_collections method from wait_statustext
3add045924 autotest: fixed accel/gyro threshold consistency for tempcal
fe7d933976 autotest: use delay_sim_time() in tempcal test
6c8a57c2d7 AP_InertialSensor: review fixes
af18e0c755 Tools: review fixes
3ff71c7814 AP_InertialSensor: changes from review feedback
58b9cd2c6e autotest: added assert_reach_imu_temperature() abstraction
5a5ba26468 autotest: expanded accelcal test to check values
b12a663f7a AP_InertialSensor: apply accel scaling
9febcc0f98 SITL: added accel scaling parameters
3e640eed80 autotest: changes for per-IMU biases and scaling
73ddde3629 AP_InertialSensor: changes for new SITL IMU params
b5089580a9 SITL: cleanup IMU parameters
5e60fac37e AP_InertialSensor: remove unused variable
c96e61c0e1 Tools: review fix
4c315b57ca autotest: run gyro/accel cal at non-reference temperature
5a180fa7a8 Tools: cope with offset from cal temp to reference temp
2359a5a1ea Tools: fixed stopping of capture on enable change in tempcal
285b53fe07 AP_InertialSensor: use vector polyfit
a1fb0592a9 AP_Math: specialise polyfit for vectors
c8aaceb6ac AP_LeakDetector: remove warning message on all non-sub builds
2cf7e7945c autotest: make tempcal debug output clearer
d0d480e858 AP_Compass: fixed matrix inverse for new name
8278a8a00b AP_AccelCal: rename from review feedback
2e2ccb40b2 AP_AccelCal: fixed inverse matrix call for new name
999268cbba AP_Math: fixup matrix algorithms to be in cpp file
3b3e2c01f8 AP_Math: templatize matrix_alg methods
6254787c26 Tools: fixed tempcal for when we have gyro cal but no accel cal
e87dbacee7 Tools: switch to fixed reference temperature of 35C
ffe20f7958 AP_InertialSensor: use a fixed reference temperature of 35C
a96b6336b8 Tools: changes from review feedback
dc58b0b950 AP_InertialSensor: changes from review feedback
9561f24c0e AP_Filesystem: added @SYS/persistent.parm
5ed19c764e HAL_ChibiOS: expose load_persistent_params for @SYS
1680e6e7d6 AP_HAL: expose load_persistent_params() in hal.util
c9a83c8127 AP_InertialSensor: added INS_TCAL_OPTIONS
5c823debc0 HAL_ChibiOS: support saving persistent parameters to bootloader sector
504f500fae AP_Common: added get_writeable_string to ExpandingString
1ddc21c9bb AP_InertialSensor: support saving tempcal params persistently
84dda13b42 autotest: use new learn param setup
8caea96ab1 AP_InertialSensor: start auto-learning at boot
e8ab8ed29e Tools: improve tempcal script
30385fb8cb autotest: use set_parameters() in IMU temp cal test
0c3655b01f autotest: fixed epsilon handling in set_parameters
7cb7ad3636 AP_InertialSensor: fixed build error
2e9f61fe49 AP_InertialSensor: fixed IMU index display in msgs
d5b511f4a0 AP_InertialSensor: fixed start timer for temperature in SITL
30e55d8dfc AP_InertialSensor: cope with user changing TMAX while calibrating
68526262b7 AP_Arming: don't allow arming during IMU temp cal
e2e97c67ce AP_InertialSensor: catch user attempt to change TMAX during cal
73e53369e8 AP_Notify: added notify events for temperature calibration
3fb720354d AP_InertialSensor: added notify events for temperature calibration
cc3579ea5d AP_InertialSensor: change TCAL sampling to be even in temperature
cf47c19c0d Filter: fixed low pass 2p filter to auto-init
4495414d05 Filter: added reset with value to LowPassFilter2p
327db46c15 autotest: added automatic testing of IMU Temperature calibration
fc0f8b990a AP_InertialSensor: added online learning of temp cal
64d9f43d94 AP_Math: added polygon fitting code
720f9a1de0 AP_Math: cleanup maths functions
6f6f89e5aa AP_InertialSensor: enable temperature sensor on LSM9DS0
0c156e324b AP_Compass: enable temperature on lsm303d
c0ba7c29ca SITL: use TCal class for temp adjustment in SITL
4bdf506d10 AP_InertialSensor: apply 1e-5 scale factor
0f6f6bac6b AP_InertialSensor: expose TCal class for use in SITL
7921e042f1 AP_InertialSensor: added IMU temperature calibration support
c4664d8e32 Tools: added script to calculate IMU temp compensation parameters
580cd143b8 AP_AccelCal: added active() method
f53d80374b SITL: fix build for macos systems
e58d2ecf2f GCS_MAVLink: add mavlink command option to create a 250ms long loop
c7a6047904 autotest: add option to retry tests / create and use Test definition object
d81c2ee407 HAL_ChibiOS: allow for some embedded parameters on AP_Periph builds
fd91cb03b4 SITL: Change the Kelvin value to a defined name
03b2473c61 autotest: correct get_parameter_direct attempts decrement
8b90eb23e0 AP_HAL_ChibiOS: distcc doesn't like lst generation commands
9e15b5785b ardupilotwaf: fix spec args as distcc doesn't like it
0d0ff63242 Plane: ensure wp_nav::wp_and_spline_init is called at least once
031be010ac AC_AttitudeControl: tailsitter sets target rates more efficiently
5efe94a771 Copter: use AP_Math control functions
4e2c7880c5 AC_Avoidance: use AP_Math control functions
e2308e9414 AC_Loiter: use AP_Math control tools common functions
6320338771 AC_PosControl: use AP_Math control functions
1129a3fd59 AC_AttitudeControl: use AP_Math control functions
1e38440c83 AP_Math: add control common functions
2fadcf6ba0 AP_HAL_ChibiOS: handle UP/CH channel sharing on H7 correctly
9e641a32ad AP_HAL_ChibiOS: don't share flash SPI on BeastH7 and compile with -Os
2b885cd79f AP_HAL_ChibiOS: ensure that serial LED setup goes via an intermediate buffer
ecfcd98f8a AP_RCTelemetry: apply a 5s hysteresis to RF mode changes and rate reporting
23158480c7 AP_RCTelemetry: calculate CRSF custom frame support correctly
39219451bd AP_RCTelemetry: detect CRSF tracer RX and switch to 250Hz high speed telemetry
f6a2d20579 AP_RCProtocol: add tracer 250Hz mode
79640e5d94 RC_Channel: added support for passthrough telemetry over crossfire
1c3b7d5ecd GCS_MAVLink: added support for passthrough telemetry over crossfire
6b26a64f77 AP_Frsky_Telem: added support for passthrough telemetry over crossfire
5ef20aec27 AP_RCProtocol: added support for passthrough telemetry over crossfire
4933544489 AP_RCTelemetry: added support for passthrough telemetry over crossfire
9db0862d61 HAL_Linux: use nullptr for vnav rcinput
0b83d45163 Copter: verify land and payload place record flow-of-control internal error
7e89c05204 autotest: fixed --tracker option to sim_vehicle.py
15fd8480f8 AP_EFI: Correct a bad conversion from Kelvin to Celsius
dff6a5bff9 HAL_Empty: allow return of last value in RCOutput
1ce77111e5 AP_AHRS: allow override of default EKF type
009cb8f62b HAL_Linux: setup RCIN for vnav
bd9dd7ff4c Tools: added vnav linux target
a9f8c9517c AP_HAL: added vnav linux target
103d6c54e1 AP_ExternalAHRS: added vnav linux target
c396d15890 Revert "autotest: ensure defaults files don't set already-default-values"
04a52835c0 autotest: correct Rover set-position-target-global-int test
933aba66f8 AP_HAL_SITL: avoid nullptr dereference in Replay
1cb86303b4 Tools: add test for maxbotixi2cxl
c0ea19e5c5 SITL: add test for maxbotixi2cxl
78b49a2c35 AP_RangeFinder: maxbotix: use i2c-address parameter
5e00f5ae48 Tools: ardupilotwaf: ap_library: add genrated bindings to whitle list and add support for ends with whitle listing
8d7299d052 Tools: ardupilotwaf: ap_library.py: allow vehicle in build/
9be19b0bfa AP_Scripting: add plane spesific quadplane in_vtol_mode binding
e4fbe64616 Plane: add QuadPlane singleton
7de14f2e2f AP_Scripting: desc: update AP_Terrain depends
2a75432fa2 AP_Scripting: Generator: support depends
05fb14e5d9 Plane: tailsitter start transition from initial pitch
30a4747898 GCS_MAVLink: send sim_state msg
c1f1208c89 SITL: add support for SIM_STATE msg
8eb670d685 autotest: trim default values from rover defaults files
3d431cd4f1 autotest: ensure defaults files don't set already-default-values
7d86cc08ad autotest: correct SITL commandline for no default parameter file
8f9d3909f1 autotest: model_defaults_filepath always returns a list
d9dbcb17c4 AP_Math: enable constrain value with line numbers on all boards
4dec597372 Plane: move quadplane logging to QuadPlane: update()
5def8a64ab SITL: avoid negative current and voltage in flightaxis
30eed3103b sim_vehicle fix
210b0e7c5f autotest: stop emitting port 14550 all the time
30929e7f1a autotest: add verbose option to assert_sensor_state
2c0e3751a9 autotest: reboot after moving from EKF type 10 to EKF type 2
662e86780b autotest: reduce motor vibration for landing
6becd90df0 autotest: increase timeout on DO_CHANGE_SPEED test
5848ff7512 autotest: eliminate race condition in plane fence static test
e9c6c08a97 autotest: remove 'make' compatability from sim_vehicle
6865649b9b autotest: tidy and correct ekf lane switching test
ba1973d343 autotest: parse messages when setting parameters
48a38f3ee2 autotest: wait for GPS fix before installing position validation handling
2d62fb99b1 autotest: force-disarm copter before reboot in GCS failsafe tests
53326a08ed AP_DAL: add 10k to SITL memory available
c02c546077 AP_HAL_ChibiOS: add support for inline comments in hwdef.dat
41693403e2 AP_HAL_ChibiOS: retain memory of past conflicts in dma_resolver
d9de0ef649 autotest: added copter-bfx params
9791e52073 Copter: 4.0.6-rc2 release notes
b18e5966f7 Tools: fixes from peer review as AHRS default changed to EKF3
2f51b59de4 Tools: copter test parameter validation waits 10sec before starting
bb926a2976 Tools: autotest fly_gyro_fft disables EKF2 and EKF3
f9e7d59756 Tools: Copter.ArmFeatures fixups for EKF3
9c56b406be Tools: Copter.AltEstimation fixes
1f8b48e8f7 Tools: common autotest spelling fix
f68f26e75d Tools: Copter.VisionPosition config for EKF3
d2bdc949b2 Tools: Copter.OpticalFlowLimits checks altitude
0ba696f761 Tools: Copter.OpticalFlowLimits config for EKF2/3
d00194c60a Tools: copter test_rangefinder_switchover config for EKF2/3
bd8b85d1e5 Tools: remove ekf2 enable from copter defaults
0cc9fd2b5d AP_AHRS_NavEKF: get_secondary_quat and position may return EKF3 value
1b3ad9cd8d AP_AHRS: use ekf3 by default
60633f5a7f AP_NavEKF2: disable ekf2 by default
4492e5024c AP_NavEKF3: enable ekf3 by default
ed8d86e5e6 GCS_MAVLINK: support deliberate parameter corruption
6ca68bfba3 AP_HAL: enable 32k storage on SITL
f93e2f6717 HAL_ChibiOS: enable 32k FRAM on H7 boards
9e15efcbb5 AP_InertialSensor: added params restored internal error
4d58bcb321 AP_Param: support restoring from parameter backup region
03a033c5c4 StorageManager: added support for 32k storage with param backup
cd8a393ac2 autotest: create own RC thread to handle setting of RC overrides
7b61a4d8c2 HAL_ChibiOS: support F7 with no crystal
099d6aa72e AP_NavEKF3: add filter reset when vehicle is idle for too long
cb5be4fcc1 AP_HAL_ChibiOS: don't share IMU DMA on MatekH743 to avoid SPI DMA contention
26a3a02c81 AP_NavEKF3: use posxy_source in all places
d02a61a65d Tools: default parameters for hexsoon td860
c0e4ef4219 Tools: vagrant: update path to CMAC-circuit.txt
e235c379bf Frame_params: rename bluerov2 4.0 firmware defaults files
1dad0ecb46 autotest: disarm vehicle in case vibration test excepts
47aea5f44c autotest: print stack traces for caught exceptions
fc0e2fec6b Tools: add caching for --target= completion that is long
b7f5aa7eab Copter: fix compilation when rtl option is disabled
621fa857b7 Copter: disable RTL option
d97a81bfea Plane: Re-order logic in soaring.cpp.
a8549f5e5f Plane: Use const method on modes classes to mark those that support auto switch to THERMAL mode.
40dbb316c1 AP_BattMonitor: ignore SoC option for UAVCAN devices
eeb728237f AP_Compass: removed error on BMM150
a07cbc8706 Tools: BeastF7 bootloader
e781572d53 AP_HAL_ChibiOS: support iFlight BeastF7
fdbf2d369a AP_HAL_ChibiOS: do not take bi-dir path when in serial DMA
89802ed6fc AP_MSP:Tools: use BATTERY_STATE.voltage_cv for cell voltage calculation to replicate actual DJI Goggles behaviour
b84baf06d3 AP_OpticalFlow: fix MAVLink opflow driver, only apply yaw to flowRate as body rate comes from AHRS
5b2d430a2a AP_OpticalFlow: fix CXOF opflow driver, only apply yaw to flowRate as body rate comes from AHRS
8728148db6 AP_Notify: don't do startup tone on AP_Periph devices
e85e6d3375 autotest: use new set_parameters in place of many set_parameter calls
2917c75f35 autotest: add option to timeout parameter fetching in system time
83f2f365c0 autotest: implement a more efficient set_parameters, implement set_parameter in terms of it
f478666700 autotest: correct scripting test for missing message
8497f8fc73 autotest: correct some timeout issues around Copter takeoff
0a39c49711 autotest: gpstovicon: reboot after setting new EKF type rather than before
252b166099 autotest: reboot after Copter gyrofft test
e7aefc7fe4 autotest: make polling home position quiet by default
5318538182 autotest: reboot SITL when moving from EKF10 to EKF2 in mag test
987466bc3d autotest: increase timeout on avoidance-corners test
fdb5b5e6d6 autotest: correct dataflash transfer test for long periods
174700b7ad AP_Mount: Implement roll control on Solo gimbal
9020c79677 Tools: Frame_params: Sub: fix parameter types
985642af32 AP_Avoidance: update the description of AVD_F_ALT_MIN to specify MSL
e73d28fe19 AP_NavEKF3: remove redundant extnav code
3a264e0a76 autotest: use LOG_STRUCTURE_FROM as key string (don't need library name)
8e705a5eed AP_Logger: move BAT & BCL logging functions to AP_BattMonitor
e91953fa3b AP_BattMonitor: move log BAT & BCL into AP_BattMonitor
dfa8e55622 AP_BattMonitor: add has_temperature method to Backend
b92b343d4e SITL: add simulator for ICM40609
239b09fb34 AP_InertialSensor: add simulator for ICM40609
5001978704 Rover: add do_disarm_checks boolean to disarm call
f6f19eeeb2 ArduSub: add do_disarm_checks boolean to disarm call
b698546b70 ArduPlane: add do_disarm_checks boolean to disarm call
65adf5b4a9 ArduCopter: add do_disarm_checks boolean to disarm call
3d577d94e8 GCS_MAVLink: add do_disarm_checks boolean to disarm call
b229c552e6 AP_Arming: add do_disarm_checks boolean to disarm call
c9b906de17 AntennaTracker: split out a handle_command_component_arm_disarm
0052500d67 GCS_MAVLink: split out a handle_command_component_arm_disarm
a2192eda5e GCS_MAVLink: use RADIO_STATUS message txbuf field
4346264113 AP_HAL_ChibiOS: ensure UP and CH timer channels share DMA for H7
fc7a617b74 .azure: reduce copter test to coptertest1 to pass time limit (60m)
df0eb4ea8a Azure: fix autotest
96981baadf AP_CanManager: use milliseconds for timeout
9099a9b622 AP_AHRS: correct names for active EKF type
409177d22a Tools: remove duplicate kg/m.m
742cfc543f Plane: fix parameter unit
0ebbf0f74e AP_Logger: move AP_AHRS functions out
62ff9a4d4b AP_AHRS: move logging functions to AHRS
0052e4d528 Tools: auotest add LOG_STRUCTURE_FROM_AHRS
cc1e395854 ArduPlane: privatize AHRS logging
9daa3bbdaa ArudCopter: privatize AHRS logging
8ce5113c74 AC_AutoTune: privatize AHRS logging
a54736430d Rover: privatize AHRS logging
aaa1341b75 ArduSub: privatize AHRS logging
d605f3aea0 AntennaTracker: privatize AHRS logging
e9ea360a99 AP_HAL_ChibiOS: don't timeout after 11 bits on serial irqs
d08487b8ae  AP_Periph: fix command to build bootloader
957842f7eb AP_InertialSensor: added support for v3 Invensense sensors
faae0a8609 Tools: added support for v3 Invensense sensors
14433c3ae3 HAL_ChibiOS: enable ICM-40609 on mRoNexus
0f49058fbd AP_MSP: fix for missing ACK on unsupported MSP messages
6baaf03c8c Plane: move auto_throttle_mode to being a method on each mode
f6cb1b5ad6 Plane: use a method on Mode for auto-navigation-mode
a1ea1306a1 Plane: use pure-virtual method for allows_throttle_nudging
882d9c4e23 GCS_MAVLink: adjust stack sizes
dc57454ac5 AP_Logger: adjust stack sizes
afbdd69165 AP_HAL_ChibiOS: adjust stack sizes
8fb403c569 AP_HAL_ChibiOS: make sure BDMA channels are not adjacent
4d19ff6b26 autotest: prompt ArduPilot for SYSTEM_TIME message during reboot
8e6d144d72 autotest: re-raise KeyboardInterrupt after closing pexpects
f53892a1fa Copter: don't report initial mode switch as failsafe mode change
186c28c275 AP_BLHeli: correct bi-dir mask enablement
5120ebf2f6 autotest: add a set_parameters method
416dd98140 AP_Logger: check HAL_LOGGING_DATAFLASH only for definition
7d42f473fc AP_Logger: allow each backend to be compiled out
480c9f10df AP_OpticalFlow: fix for msp opflow sensor alignement
c5ec0cfdee Frame_params: (BlueRov2/Sub-3.5.1) revert to 19086e34
4c13a5ae4f Frame_params: (BlueRov2 Heavy/Sub-3.5.2) revert to 9897ff60
567c6d4991 Frame_params: (BlueRov2/Sub-3.5.2) revert to 83bb1e7f
367e7b35de Frame_params: add defaults for bluerov2 on Sub 3.5.4 firmware
3ce9d9eb44 Frame_params: add defaults for bluerov2 on Sub 4.0.2 firmware
eab913646e Copter: fix ignore pilot yaw option for guided
ad29be14c6 autotest: added ARACE_hand location
4fb4beab67 Tools: adjust decode_watchdog.py for new message format
d2720da4a2 AP_GPS: support yaw for UAVCAN GPS
5ef3e1bec3 UAVCAN: add dsdl for gps heading
b6b39673d4 Copter: remove PHLD_BRAKE_* params when PosHold is disabled
e8d24a1f68 AP_Logger: initialise logger instance variables in header
80e8688888 AP_Logger: remove perf counters
b3946a667c AP_Logger: omnibusF4pro needs more stack for logging and logging needs to take precedence over ftp
b0fa5fadcd AP_Logger: fix BCN multiplier
c590aa061f RC_Channel: return uint32_t for number of ms overrides should live
ef0b860a48 AP_Logger: remove Prep and NeedPrep functions
1c49a0b44d AP_Logger: only log Battery Status for active monitors
a564d58dda .github: migrate to ardupilot image
496267115c AP_RangeFinder: MAVLink: use larger of min ranges / smaller of max ranges
81ab322daa SITL: correct max_distance in simulated mavlink rangefinder
cba5f142a7 AP_RangeFinder: correct MAVLink backend's out-of-range checks
7474948971 autotest: add test for mavlink rangefinder out-of-range-low
223e775a3c AP_RangeFinder_MAVLink: only set sensor type if we accept a reading
fdd0297f12 autotest: add more tests for MAVLink rangefinder
40eb9a8b99 AP_RangeFinder: do not start the mavlink rangefinder as healthy
c96ca2483e AP_Generator: Make sensor unhealthy msg consistent with other sensors
6a804c3a09 Plane: update release notes for 4.0.8beta1
ae6569ab67 AP_Periph: updated release notes for 1.2.0
7672f0a2ce autotest: added NDRCC field
59fa794818 AP_NavEKF3: constrain vertical error
1e75bb971e AP_NavEKF2: constrain vertical error
b5476c6e5c autotest: added ExternalAHRS test
53e56d2933 Tools: added SERIAL for decode_devid
ce561ab249 AP_Logger: log active EKF type as ATT.AEKF
b73131cdbc AP_AHRS: review fixes
4e33b74d69 AP_AHRS: call external AHRS update
b5b9b57c9e AP_AHRS: added external AHRS mavlink status
75ad1a7d31 AP_AHRS: send a text msg when active EKF changes
9dbd2d3eba AP_AHRS: expose active EKF type for logging
7cc71dc573 HAL_SITL: support VectorNav simulation
f57971eafe SITL: added VectorNav simulator
e284c5694d AP_AHRS: added AHRS_EKF_TYPE=11 for external AHRS
b74e5c0e2f AP_InertialSensor: added ExternalAHRS backend
4f176c25de AP_InertialSensor: relax IMU wait time for low loop rates
bf51478dd1 AP_GPS: added ExternalAHRS backend
a068e95a48 AP_Compass: added ExternalAHRS driver
75c789fc57 AP_Baro: added ExternalAHRS backend
66297bd061 AP_Vehicle: added ExternalAHRS param tree and object
0f08236e7c AP_SerialManager: added serial AHRS type
ae4d152d51 AP_SerialManager: added find_portnum() API
5840d24ed9 Tools: build AP_ExternalAHRS
1b60be96d1 AP_ExternalAHRS: added support for external AHRS systems
3d5addeee0 AP_HAL:examples:AnalogIn: Added comments in the AnalogIn example
3a075850f6 AC_Autorotation: minor comment fix
5ca7e03eeb Copter: tidy handling of DO_FLIGHT_TERMINATION
b6833eee9b SITL: correct SMBus block reads
487f36146d Tools: add support for simulated TSYS01 temperature sensor
8be50910e4 SITL: add support for simulated TSYS01 temperature sensor
ecd21fbc4c AP_TemperatureSensor: add support for simulated TSYS01 temperature sensor
6433647d9e autotest: add trivial autotest for TSYS01 temperature
44a622ea7f Copter: Set the gravitational acceleration value to the defined value
d7533843d5 AC_AttitudeControl: Set the gravitational acceleration value to the defined value
219dc2e7da AP_InertialSensor: Set the gravitational acceleration value to the defined value
2eee8e389d AP_L1_Control: Set the gravitational acceleration value to the defined value
441be7e04b AP_Scripting: add rangefinder status_orient
647c568ab9 AP_NavEKF3: out-of-date comments removed
27c998ad94 AP_NavEKF3: rename source and yawFusionMethod from EXTERNAL to GPS
77af6df730 AP_NavEKF: rename EXTERNAL to GPS
c14b4a8b6c AP_NavEKF3: add support for GSF as yaw source
0fb168d6ab AP_NavEKF: source supports GSF yaw
66b2b988c4 Tools: update gps-vicon switching test params
5891c6ace8 AP_NavEKF3: separate GPS yaw from ExtNav yaw
6850b48ea1 AP_NavEKF3: add comments for yaw sensor variables
fca8eb0778 AP_NavEKF_Source: add ExtNav yaw source
1f7d796845 AP_Scripting: add fast param bindings and example
9dae370356 AP_Scripting: add param accesss helper
16753a51f4 HAL_Linux: use ExpandingString
42bc9adfb7 HAL_ChibiOS: use ExpandingString for @SYS buffers
6da0212ce4 AP_Scheduler: use ExpandingString class
c21b6b4a16 AP_HAL_SITL: use ExpandingString class
96cbde0ee6 AP_HAL: use ExpandingString class
c924a9917e AP_Filesystem: use ExpandingString class
0c6b4a1045 AP_CANManager: use ExpandingString class
6c1891fcb3 AP_Common: added ExpandingString class
0c68ec7b5c Plane: add limit to pid log metadata
1a14c8a05b AC_PID: populate pid_info limit feild
b2e1d88da8 AP_Logger: add limit flag to PID logs
69d3264e55 StorageManager: allow for CANDNA storage on F405 boards
8f8283e0f0 AP_Motors: rc_map_mask -> motor_mask_to_srv_channel_mask
90b8893b4a Tools: removed dependency on genromfs and cmake
0273d92887 Rover: reindent all of the new GCS_MAVLink handling methods (NFC)
2240a60e20 autotest: add trivial test for set-position-target-local-ned
53336595e1 autotest: add simple test for Rover set_attitude_target handling
1362abba2e Rover: tidy GCS_MAVLink handleMessage function
d24e569b20 GCS_MAVLink: add option to panic the autopilot
ca6c133042 AP_HAL_ChibiOS: do not reuse va_list after it has been ended
96c2a5c77c Plane: added scaling for Q_TAILSIT_VFGAIN
a0fcef6ceb Plane: added tilt vectoring in fixed wing modes
a74d087fd8 SRV_Channel: prevent FPE with SERVOn_MIN==SERVOn_MAX
4a7f663cad AP_Logger: README add multiplier descriptions
27d7c73c8e AP_RCProtocol: rc_protocols_mask must be set before bootstrap occurs
ceb2c87970 SITL: align default i2c device bus for BattMonitor
1c4873cece Tools: build_autotest.sh update email address
c81df7b5ad AP_Math: add tests for circle-segment-intersection
f534963413 AP_Math: consolidate error checking
4ffc559ccc AP_Math: judge isnan judgment before operation
8977f3a859 SITL: correct I2C message handling
23d393e108 SITL: add I2C 8Bit-register methods
3c16f164df AP_HAL_SITL: correct I2C callback interval
324ff178d8 HAL_ChibiOS: fixed CUAV_GPS defaults.parm
ee573a0275 AP_Periph: add NTF (Notify) full library and it's params
113f792ad1 AP_HAL_ChibiOS: update periph targets who have buzzer/LEDs with notify
7dde981de6 AP_Notify: add public accessor and param defaults
6f4bfed82d HAL_ChibiOS: fixed build with alarm and no PWM channels
8e34388a20 SITL: move simulated maxsonari2c to bus 0
e5fd661caf SITL: correct I2C multi-bus support
21ffa4d259 SITL: add sanity check for duplicate bus/addr I2C devices
ac69cfe2b3 Update README.md
995f5d1dad SITL: increase quad scanner range to 18m
2f5f55f680 SITL: Added quadcopter morse example with laser scanner
b1239dcd06 SITL: correct OBSTACLE_DISTANCE message output from SIM_Morse
2909623057 Plane: Ensure that only one form of throttle nudging is active at once
61d1f747ba Tools: completion: bash better completion for binaries
d52c69af81 Tools: completion: bash better completions for sim_vehicle.py
bee767a9aa Tools: completion: better completion for waf
60f2e119a5 Tools: completion: bash complete subtest on autotest.py
5f033a551a Tools: completion: add --target completion
7f999ef64a Tools: Change Cygwin default install location to Cygwin64
40090dcce9 AP_UAVCAN: compile fix for debug/assertions
176c648156 AP_Terrain: compile fix for gcc 9
f1067eee81 Tools: build_ci.sh: re-add KakuteF7Mini for bidir d-shot testing
f702288ad2 autotest: correct number of logs
779c2a9e5f AP_Logger: move logger IO to a separate thread
529bc6b77c autotest: fixed compatibility with python on wiki server
f0954f35a7 Tools: change KakuteF7Mini build to KakuteF7 to get biggest flash
09603e29ce AP_Compass: fixed external handling for BMM150
3d4a8829f3 AP_Compass: added BMM150 as available external mag
e747edbcf2 AP_NavEKF3: fixed init order for scheduler
b36bfe4206 AP_NavEKF2: fixed init order for scheduler
913d1b81b2 Plane: correct bug that prevents QACRO rudder disarm
ce361e51bf HAL_ChibiOS: Reinstate HAL_MINIMIZE_FEATURES for 1MB F7 boards
6ed4eca57f AP_CANManager: fixed use of CANSensor on multiple ports
3b7207a5e4 Tools: Update board_types.txt
418367c266 HAL_SITL: allow --home to specify a location from locations.txt
eaf7e7354a Tools: added locations.txt to ROMFS for SITL
a4517032c5 AP_UAVCAN: log all UAVCAN devices in CAND log message
0ae9b28198 AP_Logger: added get_log_start_count()
4fdf315760 AP_Logger: use null terminated strings
66c05bef76 AP_RangeFinder: added USD1 CAN driver
943918d511 AP_Arming: added USD1 CAN
b7fa1a4b98 AP_CANManager: added USD1 CAN driver type
60af6633cf AP_EFI: Add NWPMU CAN driver
fb84baf8a5 AP_Arming: added EFI_NWPMU
db798ace05 AP_CANManager: added EFI_NWPMU
32c3a2feef AP_CANManager: added CANSensor class
19e597ec3f AP_Periph: check for null uart in msp
e260c7ad59 HAL_ChibiOS: update f303-MatekGPS to allow disable of MSP
37506c2f3a AP_Periph: added MSP_PORT parameter
8b2e69162d AP_Periph: add support for Toshiba LED
8dbe0a71ba AP_HAL_ChibiOS: add support for Toshiba LED
65cffdad5a autotest: print stack traces when exceptions caught
38ea62c5d7 autotest: send mode change messages directly rather than via MAVProxy
d31f676c33 autotest: don't use MAVProxy for uploading using fencepoint protocol
2b06ae9aa0 autotest: create and use a wait_sensor_state method
7c7fb67829 autotest: fixes for AFS test
7f79ddf3ff autotest: CRSF: remove pointless wait-ready-to-arm
6c48a38497 autotest: avoid zero-byte-read on log download
6908a776fa autotest.py: timeout after 5400 seconds
8abf9a82f3 autotest: reliability improvements for EKF failover tests
8e6278f269 AP_ADSB: add Sagetech XP driver
ffd3d1da1d AP_SerialManager: add support for ADSB protocol
afaca30075 AP_HAL: add helpers le24toh_ptr(), be24toh_ptr(), put_le24_ptr(), put_be24_ptr()
939d8509b2 autotest: added ARACE flight locations
e11677807b Plane: Unify tilt servo names
8be9b44923 .github: add manual control on action run
401e5c2073 AP_HAL_ChibiOS: add support for bidir DShot support in RCOutput
b5688c023c Tools: add KakuteFMini to CI f7 build to test bi-directional dshot
5436784d38 AP_Logger: add ESC error rate
1c79f22ba2 AP_HAL: make erpm accessible from RCOutput
c8b2f11ab6 AP_InternalError: add dma_fail
f60fdde492 AP_BLHeli: return motor frequencies from bi-dir dshot if available
654aea1cd1 SITL: delete unused parameter 'Vector3f &body_accel' in Plane::calculate_forces()
282590668d AP_RangeFinder: Make measurement time and call back time static constant
69fab70582 Tools: use lxml for xml generation fix caracters fix indentation validate xml
253ce18184 AP_HAL_SITL: rename system_initialized() and add is_system_initialized()
526ae5d2f4 AP_HAL_Empty: rename system_initialized() and add is_system_initialized()
74633e55cc AP_HAL_Linux: rename system_initialized() and add is_system_initialized()
07f199ea1a AP_HAL_ChibiOS: rename system_initialized() and add is_system_initialized()
9e7c60178d AP_HAL: rename system_initialized() and add is_system_initialized()
048deeb43e AP_Logger: check is_system_initialized() when determining liveness
c8e464ebea AP_HAL: add HAL_ENABLE_THREAD_STATISTICS to boards
83c8807b39 AP_HAL_ChibiOS: when HAL_ENABLE_THREAD_STATISTICS is defined add ChibiOS thread stats to threads.txt
b6a008c73d AP_Filesystem: increase ftp thread buffer size when HAL_ENABLE_THREAD_STATISTICS is defined
a4b2930223 AP_HAL_ChibiOS: iFlight Beast H7 AIO hwdef
efb2e9f81a Tools: bootloader for iFlight Beast H7 AIO
1810786881 Azure: force symlink for python3
ebb0b4c265 Azure: fix python3 usage
917230fe28 Azure: fix deprecated image usage
6bb2bec4f3 AP_Bootloader: add boardIDs for CubeORange/Black-periph, pixracer-periph
bf34041211 AP_HAL_ChibiOS: add support for Pixracer-periph
44ce2b225c Tools/bootloaders: add Pixracer-periph bootloader image
eef9c83788 Rover: extend Stream rates param count to match MAVLINK_COMM_NUM_BUFFER
d45ff51bd1 Sub: extend Stream rates param count to match MAVLINK_COMM_NUM_BUFFER
b80f003c98 Copter: extend Stream rates param count to match MAVLINK_COMM_NUM_BUFFER
558fe34945 Tracker: extend Stream rates param count to match MAVLINK_COMM_NUM_BUFFER
c653ff880a Plane: extend Stream rates param count to match MAVLINK_COMM_NUM_BUFFER
12505c4c28 autotest: add tests for new higher-channel override semantics
b53b30ea51 autotest: split out a get_rc_channel_value()
a3138e48f9 mavlink: reference change for RC channel overrides
b8827e6486 GCS_MAVLink: allow control to be return to radio for higher-numbered RC_CHANNELS_OVERRIDE
6f4bbd3f57 GCS_MAVLink: for high RC_CHANNELS_OVERRIDE channels zero means ignore the field
9b2ef4f6f1 Plane: move rudder-arming arm checks into Plane's AP_Arming
9728dee344 AP_Button: expand info in metadata
5b471c4c0e Plane: move loiter,thermal out of auto fs group
e6c5382a28 GCS_MAVLINK: fixed FPE in DO_SET_ROI
3df1bd84e1 AP_NavEKF_Source:Fixed some style issues
5432c9957a AP_HAL_ChibiOS: rename AP_PERIPH_<feature>_DEFAULT to HAL_PERIPH_<feature>_DEFAULT
71859c9893 AP_Periph: rename AP_PERIPH_<feature>_DEFAULT to HAL_PERIPH_<feature>_DEFAULT
80b3c2491f Tools: rebuild IO firmware
9fcf36bad9 AP_RCProtocol: save memory in IO firmware
c73158ebe7 Update functions for rear tilt servos and unity names
e3e876d4ed AP_SerialManager: clear default protocols for AP_Periph
7af731fbda AP_Periph: change GPS and Rangefinder to use port stored in param
083088bfff AP_HAL_ChibiOS: adjust defaults to use param instead of hardcoded defaults
4c484c8577 AP_Periph: compile-error fix for for hwdef with HAL_NO_ROMFS_SUPPORT
b02f0ee51f autotest: make Sub's setting of FS_GCS_ENABLE persist across wipes
26bbedd777 autotest: remove un-needed parameter wipe after soaring test
0a5eedb05a autotest: wipe and reinitialise parameters when resetting SITL commandline
0788b46374 autotest: add trivial test for Callisto
792eeca863 modules: mavlink: support MAV_MOUNT_MODE_HOME_LOCATION to point at HOME
7b9fbe3b30 AP_Mount: support MAV_MOUNT_MODE_HOME_LOCATION to point at HOME
cfb1213f43 AP_HAL: standard spelling of variant
79e1f5e8bd AP_HAL_ChibiOS: standard spelling of variant
1d288316cc AP_GPS: standard spelling of variant
69c97c1565 SITL: add support for multiple i2c buses
bddea9e046 AP_HAL_SITL: add support for multiple i2c buses
230ca049c1 Copter: Update 4.0.6-rc1 release notes
5d23dc2314 autotest: avoid replicating enumeration value names from pymavlink
06d6526ba6 Autotest: correct wait_distance_to_home comment
824b9c1dc9 Autotest: add setpoint_target test for copter
67533c3284 Autotest: add setpoint_target tests on rover
6565309325 Autotest: add test_set_velocity_global_int tests
10673122c0 Autotest: add test_set_position_global_int tests
62a1fa1052 Autotest: add wait_speed_vector and wait yaw_speed functions
0ca8e817d5 Autotest: wait_and_maintain add support of Vector3
dbaeb668f1 Autotest: add MAV_FRAME dictionary
0bf7bd7f68 Autotest: add set_position mask to common.py
60c6666941 Tools: ardupilotwaf: fix scripting inclusion on build_binaries.py
bbb73902be Readme: remove travis banner and add github action results
2eb5114688 AP_Scripting: ahrs-source.lua plays tune when source set changes
69cb8e6bc6 AP_Scripting: ahrs-soruce.lua uses RCx_OPTION 300
3db6203fb6 AP_InertialSensor: reduce FIFO buffer size to avoid DMA contention
062c6cef41 HAL_ChibiOS: Fix typo relating to pin PB7:I2C4_SDA
662814d6bd autotest: reboot after running Copter vibe tests
69ef0937f4 autotest: add trivial test just to cover the Airspeed_DLVR code
b5316c3b52 SITL: stash pressure in sitl_fdm structure
a8b93881d3 AP_HAL_SITL: stash pressure in sitl_fdm structure
e0aa3c78e5 AP_HAL_SITL: remove unimplemented methods
0bb6f8897e SITL: add simulated DLVR airspeed sensor
c75848435e Copter: fix heli land detector and incoporate reset_I_smoothly
09b9ad83dc AP_Motors: tradheli - add support to determine below mid collective
a845623dfb Copter: Tradheli - make new integrator scheme selectable
6c8a85ee04 AP_Motors: updates to new integrator and make selectable
c565536afa AC_PID: add support to smoothly reset the integrator
84fb3afbcb AP_Motors: Tradheli support for integrator management and hover collective learning
42b4fd6e0a Copter: change heli integrator management and add hover coll learning
04e2cceaff AC_AttitudeControl: Tradheli support for integrator management and hover collective learning
eb3da385dd AP_Periph: gracefully handle PWM and Params during reboot and bot up as PWM safety on
4d91071e7e AP_Periph: ignore unused-function error for helper fix_float16()
07aeab5c44 AP_Periph: add Servo OUT support
c01726b07d SRV_Channel: reduce dependencies for AP_Periph builds
5b58163c35 AP_HAL_ChibiOS: add HAL_PERIPH_ENABLE_RCOUT_TRANSLATOR to CubeBlack-periph and CubeOrange-periph
da74d755d0 AP_HAL_ChibiOS: add new HAL_PWM_COUNT define
6f92e6298a Tools: add Kg/m.m to param units
33e397c524 Plane: tailsitter: output 0 tilt with 0 vector gain
c62c19c798 Plane: tailsitter: apply gain scailing to Tilts in motors only Qassist
54ee2c35fb Plane: rename tailsitter scailing max param to match min and update descriptions
0976979045 Plane: tailsitter: set motor limit flags
69bec46fa8 AP_Motors: Tailsitter: don't apply roll and pitch compsation gain
c8b3c91ae5 Plane: Tailsitter add disk theory and altitude gain scailing
c8d874676f AP_Periph: MSP fix last baro ms
3c83eecf78 Copter: AP_Arming: Added check for EKF origin altitude
d964fa2307 Tools: fixup EKF source pre-arm test
20f1603b73 AP_NavEKF: source skips compass pre-arm check
4998b536b4 AP_NavEKF: source returns YawSource None if COMPASS_USE all zero
dfd1c23cd3 AP_NavEKF: source format fix
39be85cef4 AP_NavEKF3: integrate Source loss of init
218c0e4385 AP_NavEKF: Source's active_source_set becomes index
89f9b9e9b0 AP_NavEKF3: use AP_Enum to make code clearer
9bf89e5635 Plane: add check for vectored tailsitter in tailsitter_transition_vtol_complete
7446a9c33c AC_AttitudeControl: make relax_attitude_controllers() non-virtual
dd7a860f23 Plane: always instantiate AC_AttitudeControl_TS
24508f08dc Plane: don't relax pitch attitude controller for vectored tailsitters in throttle_wait
cc2c631d23 AC_AttitudeControl: add AC_AttitudeControl_TS
ba78fecaaa autotest: added Kris location
8e3c6124eb Plane: added support for rear motor tilt
7f3a851dd3 SRV_Channel: added support for rear motor tilt
e94cf561d0 Plane: use rull euler control for fwd transition of tilt vectored planes
abd5f8351d Plane: don't reset yaw target in TRANSITION_TIMER for tilt-vectored quadplanes
4dc5162d0a AP_RangeFinder: change i2c reading frequency to 50Hz
54708d916b AP_RangeFinder: TFminiPlus driver outputs init failure to ground station
b0ee6393ae AP_RangeFinder: TFminiPlus: set frame rate to 250hz
95bab71431 Mavlink: common.xml: Update to latest mavlink
d76825feeb GCS_MAVLink: adapt to upstream changes in the distance_sensor mavlink message
0bf0fbe687 AP_Periph: prepare for 1.2beta2
f670f7a9b6 AP_HAL_ChibiOS: change ADSB to use param ADSB_PORT instead of define
2a4fef73dd AP_Periph: change ADSB to use param ADSB_PORT instead of define
84e578b3df AP_Bootloader: respect HAL_BOOTLOADER_TIMEOUT when CAN and SERIAL/USB is enabled
5238f85091 AP_Periph: add BRD_SERIAL_NUM and append CAN_APP_NODE_NAME
4efcf16005 autotest: correct number of bytes we expect to download
8e71e2505a autotest: correct lookup for most recent log file
50f9eee54c Tools: relax fly_guided_stop climb rate tolerance to 1cm/s
8567b829a6 Tools: add name to GIT_Test.txt
81745b0e64 Tools: Add Goretovka (RF, Moscow region) location
76b0b0429f autotest: add another example on bisect helper
0f54506397 .github: just skip the sitltest for ap_periph when using 5.4.0-1032 kernel
6ea2f42f8e Revert ".github: workaround for missing kernel modules for 5.4.0-1032-azure"
a285a741df AP_Periph: implement HAL_PERIPH_ALLOW_MAVLINK_UART_OR_USB_REBOOT_CMD
5c98e18236 AP_HAL_CubeORange-periph: enable HAL_PERIPH_ALLOW_MAVLINK_UART_OR_USB_REBOOT_CMD on USB
6dfd2f2ff9 AP_NavEKF3: use use_EKFGSFYaw to reduce code duplication
a31ea88ff5 SITL: use async SOAP requests for flightaxis
8d6d5c6b49 SITL: removed flightaxis threading
b4201436dd HAL_ChibiOS: fixed flash space on 16k bl boards
62758ffd99 AP_Motors: Dual-heli-keep intermeshing from using DCP to yaw mixer
3f405590c7 AP_Motors: Dual Heli-add support for intermeshing rotor
ebd83b756b AP_Motors: add DCP trim feature for Dual Heli
2763ce027e Tools: adding my name to GIT_Success
1c2e0a887f .github: workaround for missing kernel modules for 5.4.0-1032-azure
f12191b4b1 AP_Param: fix typo
840c386a33 AP_Param: add _FLAG to AP_PARAM_NO_SHIFT
7a2a60e65c Tools: rover: correct test_setting_modes_via_mavproxy_switch for RTL and AUTO
871b9fc12d Tools: plane : initial_mode_switch_mode
e4707c20ea Tools: rover: add initial_mode_switch_mode
9550721ae4 Tools: add initial_mode testing
1e5d9fb299 Copter: set initial mode on startup
be2e243916 Copter: add initial mode parameter
a2cca60beb AP_NavEKF3: constify EKFGSF_getYaw
754002525e AP_NavEKF: constify EKFGSF_yaw members
0c3fcfd9d6 AP_NavEKF3: add missing break to case statements
9cb529cfd6 AP_NavEKF3: minor formatting fix
6cfaae4e7d AP_HAL_ChibiOS: Support for Diatone MambaF405 MK2
fe8ccca9a9 Tools: Add Diatone MambaF405 MK2
e6d0e38129 AP_RCProtocol: allow handshake to initiate RC connection. Support listen-only SRXL2 devices.
aae2d0082d AP_BattMonitor_UAVCAN: Fix issue with multiple batteries not working
ad14e153e8 Plane: fixed tilt vectoring to cope with large tilt angles
c504e2db04 AP_Motors: added disable_yaw_torque() method
f10f7d971d Tools: added --vehicle-binary to sim_vehicle.py
7d88d104b8 Tools: put Rover SlewRate test on disable list for now
087eb8eeea Tools: rebuild CAN bootloaders for AP_Periph
e0e4198358 AP_Bootloader: fixed can bootloader with old UAVCAN GUI tool
908b348c31 AP_NavEKF3: Fix typo in enum label
e819dbdd64 AP_NavEKF3: add EKFGSF_getYaw to reduce duplicate code
c2edae905f AP_NavEKF3: simplify logic when updating yawAngDataStatic
843ddb4fdc AP_NavEKF3: minor format fix
a9e76d44af AP_NavEKF3: Clean up yaw fusion logic
ccfd89240b AP_NavEKF3: Fix error in calculation of static 312 order yaw reference
1307a2fea8 ArduPlane: add auxillary function to change to FBWA
44cafa0dcc RC_Channel: add auxillary function to change to FBWA
fb8e1f4b9d Tools: Added support for 1/s and kg/m/m parameter units
f77ab30f7a Revert "AP_NavEKF3: Remove unsupported parameter unit descriptions"
ffa057d61e Copter: prepare 4.0.6-rc1 release notes
2e18334165 HAL_SITL: fixed baudrate 0 set in SITL
7b6392fcb5 HAL_Empty: fixed build
d6c5fc36d8 HAL_Linux: only init serial(0)
19723e6e75 AP_HAL: make uart pointers private
195ec0316a AP_HAL: fixed example fw for SERIAL naming
6249abaf8f RC_Channel: fixed example firmware
5406699ec8 AP_SerialManager: removed unnecessary uart pointer in state structure
348dfeff6e HAL_Linux: use a loop for serial tick
bf546f363d HAL_ChibiOS: don't init serial 1 and 3
23a9a14d64 Tools: convert to using hal.serial() instead of hal.uartX
6df118e7b4 GCS_MAVLink: convert to using hal.serial() instead of hal.uartX
23e629715e AP_SerialManager: convert to using hal.serial() instead of hal.uartX
cf187ff837 AP_HAL_SITL: convert to using hal.serial() instead of hal.uartX
db76eebd85 AP_HAL_Linux: convert to using hal.serial() instead of hal.uartX
95c0852b13 AP_HAL: convert to using hal.serial() instead of hal.uartX
e54fc4b0de AP_HAL_ChibiOS: convert to using hal.serial() instead of hal.uartX
e02047861a AP_GPS: convert to using hal.serial() instead of hal.uartX
0f5a75f5b9 AP_BoardConfig: convert to using hal.serial() instead of hal.uartX
8678759da4 AP_HAL: added hal.serial() access to uarts
4ec1c2ea67 AP_IOMCU: Remove duplicate includes from AP_IOMCU.cpp
8b8029fdfe AP_Param: cope better with flooding the save queue with one param
5a8acea0dd AP_Param: fixed lockup in scripting due to save queue
bab1bff2b9 Tools: added f303-M10070 bootloader
739fec001f Plane: Fix typos in Parameters.cpp
3cf71d11a9 AP_Periph: mark version as 1.3dev
52f66f3654 AP_Periph: updated release notes for 1.2.0beta1
4b47ddf556 AP_Periph: add battery monitor to AP_Periph README
ce87b62dcc AP_Periph: Add alternate ordering of NCP5623 LED colors
7449b3eea4 AP_HAL_SITL: fix help output
4ae51c5aa5 README: fixes some grammatical errors
a2d6ec4bec Rover: simple mode handles two paddle input
04f6b2e26e Plane: remove unnecessary ::cork() in init
8f32430294 AP_NavEKF3: Fix white spaces
bdc202378a AP_NavEKF3: fix white space
ed17d8e48f AP_NavEKF3: Improve parameter display names
4cf78c34e7 Tools: Add autotest for copter wind estimation and baro correction
171f0b399f AP_NavEKF3: Remove commented code
b86c014400 AP_NavEKF3: rename drag parameters to start with EK3_DRAG_
3e2ff71750 AP_Baro: rename params to suit new BARO param naming
a3b5901218 autotest: Fix failing copter fly_square test
47d4506e68 AP_NavEKF3: Add drag and sideslip innovation logging
b258cb0539 SITL: Add momentum drag to Z axis to work around thrust model deficiencies
e835da41fa Tools: Define momentum drag
a907c10733 SITL: Add momentum drag to multicopter model
abd3ae8f3b Copter: added mavlink reporting of airspeed and wind
b7f68e87b4 SITL: added barometer wind coefficients
567de3047b AP_Baro: added modelling of baro wind effects in SITL
5fc68a1ce5 autotest: adjust for new baro SITL param names
e552fd7e5a AP_Baro: adjust for new baro params in SITL
3456bdb4eb SITL: added a separate param class for SITL baro params
9563c1ed33 AP_Baro: rename wind coefficient params to be clearer
4884476c09 AP_NavEKF3: Formatting and comment fixes
be4d10a95e AP_NavEKF3: rework parameter handling
1c1c067dee AP_Baro: rework to separate out wind coefficient params
5da62aeaa2 AP_NavEKF3: Fix CI build errors
0d2c235027 AP_NavEKF3: Fix #define typo
ab05e8ed4a AP_NavEKF3: Update param descriptions
4f4a2f446d AP_NavEKF3: Remove unsupported parameter unit descriptions
0be0498801 AP_Baro: Add static pressure positoin error correction
3a0105fcc3 AP_AHRS: Add accessor function for body frame airspeed vector
b372d62f35 AP_NavEKF2: Add accessor function for body frame airspeed vector
c9ab4b18b0 AP_NavEKF3: Add multicopter wind estimation
ab444e1d26 RC_Channel: correct function initialisation
ac4a05ffbf AP_NavEKF3: fixed null dereference of airspeed
2071a19a40 AP_NavEKF3: only fuse airspeed if healthy
5e72907730 AP_NavEKF2: only fuse airspeed if healthy
d16af5448b AP_DAL: added healthy() method for airspeed
ca41a19072 AP_AHRS: AHRS itself must also be healthy to arm, not just the "backend"
813723d0b7 autotest: add test for needing AHRS to be healthy to arm
9ad2961664 autotest: allow regex for matching wait_statustext
50957fff89 Tools: autotest: bisect-helper.py can run autotest by name
ccd4c0b93f Mavlink: update to 2020-12-09
1d0e7d2974 GCS_MAVLink: Added cells 11...14 voltage information (13 and 14 are 0 for now)
89f0ed2f8f AP_Scripting: added bindings and example for waypoint info
2e69ba1091 ArduSub: added virtual getters for waypoint info
8ea896e138 Rover: added virtual getters for waypoint info
141010ac39 ArduPlane: added virtual getters for waypoint info
497dbd1414 ArduCopter: added virtual getters for waypopint info
edf2291fb0 AP_Vehicle: added getters for waypoint info, refactored osd publish_nav_info()
68b2982cc6 AP_HAL_ChibiOS: CubeBlack/Orange-periph to use default HAL_SUPPORT_RCOUT_SERIAL
6630645915 AP_HAL: ap_periph should disable HAL_SUPPORT_RCOUT_SERIAL by default
0c5cc16d7b AP_Periph: populate more fields in batteryinfo
449b0fb145 SITL: add simulated SF45B
c1202e4878 AP_HAL_SITL: add simulated SF45B
dc3ded234b Copter: FS_GCS_ENABLE param desc replaces deprecated with removed
9803a70d3f Tools: copter autotest spelling and format fixes
665e6ccdcb Tools: copter GCS fs tests explicitly set FS_GCS_ENABLE and FS_OPTIONS
98a41ab005 Copter: FS_OPTIONS defaults to continue pilot controlled modes on GCS failsafe
e1aaea0834 Copter: pre-arm check of FS_GCS_ENABLE=2
42b85c88ed AP_MSP: fix for multiple backends initialization
e044cdfde7 AP_Frsky_Telem: fix for conditional compilation of bidir support
6dfa42c958 RC_Channel: added FPORT2 to RC_PROTOCOLS parameter
502dafed04 Update README.md
4a35159cba Plane: reset baro_takeoff_alt while disarmed
0406b28abd autotest: print exception if caught in test_alt_estimate_prearm
2203bf2400 AP_HAL_ChibiOS: Add f303-periph default RANGEFINDER_MAX_INSTANCES 1
cecdc798ca autotest: present strings for unexpected results in run_cmd_get_ack
ea57b1982f AP_Airspeed: cope with no temperature on MSP airspeed
39c21e662d AP_Periph: check compass and baro health before using
74813e7761 AP_Periph: stop sending airspeed when unhealthy
2d75ef4f60 AP_Airspeed: handle INT16_MIN temperature for UAVCAN sensor
73fda4e6a7 AP_Airspeed: cope with zero ratio in SDP3X driver
857d905d9f AP_Airspeed: added MSP backend
ae2a310b9c AP_MSP: added airspeed support
75333dcd2f AP_Periph: support output of MSP airspeed sensor
19f3fda31b AP_Volz_Protocol scaling bugfix
f62a27ca8a Tools/AP_Bootloader: differentiate FAIL_REASON_BAD_LENGTH errors
d0c1fd701f AP_Periph: prevent loop stuck internal error in AP_Periph bootloader flash
0c440d5675 HAL_ChibiOS: cope with flash erase in expected delay
445759295d SITL: fixed use of GND prefix
c6548cc1b9 autotest: fixed use of GND prefix
3f6fd49507 Replay: rename baro params to BARO*
dde940380f Tools: update param files to not reference GND parameters
cd2f2f96eb rename barometer parameters to BARO prefix
5e3bf0a703 GCS_MAVLink: implement BRD_OPTIONS bit for setting of internal parameters
12acc0724e AP_Frsky_Telem: implement BRD_OPTIONS bit for setting of internal parameters
d099af87b2 AP_Baro: renamed parameters and mark pressure and temperature readonly
f543c483fc AP_BoardConfig: added BRD_OPTIONS flag for setting of internal parameters
c731e77607 AP_Scripting: added mission clear and offset_bearing bindings
719ca3f95f Plane: be consistent about strings in fence auto-enable/disable
f4cbc50ba4 Copter: use an enumeration for pre-throw motor state
bd0dff1b0e Copter: use enum-class and AP_Enum for ThrowType
de2802e322 AP_Airspeed: populate airspeed_raw for sensors returning airspeed reading
59445674e7 scripts: Support for decacopters
690d64d664 LogAnalyzer: Support for decacopters
2d55c2c42f pysim: Support for decacopters
13c7980f0b SITL: Support for decacopters
159a6c7ed6 AP_Motors: Support for decacopters
a43064bb4e AP_HAL_SITL: Support for decacopters
dcda0c48ca Copter: Support for decacopters
a46333eff5 Tools: Support for decacopters
0e569e5566 AP_Mission: Fix comments for DO_CHANGE_SPEED
f84cb66bc6 AP_Logger: move log ids from EKF2 and EKF3 to the 'below 128' section'
f6d3983e1b AP_NavEKF2: move EKF2 message ids into AP_NavEKF2
7ba03fe32d AP_Logger: move EKF2 message ids into AP_NavEKF2
00ac8391c0 AP_NavEKF2: move EKF2 logging structures into EKF2 LogStructure.h
346572c390 AP_Logger: move EKF2 logging structures into EKF2 LogStructure.h
58f6570755 AP_NavEKF3: stop using QUAT_* defines from AP_Logger/LogStructure.h
a2fe846a5f AR_WPNav: apply_speed_min used for overshoot limits
62a02f7c87 Rover: calc_speed_nudge uses larger of pilot input and wpnav speed target
a977abac2d Rover: fix pivot turns
e75c572209 AR_WPNav: remove redundant private specifier
b4de6fb56a HAL_ChibiOS: added new option DEFAULTGPIO for hwdef.dat
19104b5c20 Rover: moved init_safety to AP_Vehicle
aca46c177d ArduSub: moved init_safety to AP_Vehicle
2d0201855e ArduPlane: moved init_safety to AP_Vehicle
0329a46b4a ArduCopter: moved init_safety to AP_Vehicle
e953bdb6e0 AntennaTracker: moved init_safety to AP_Vehicle
a1c05e74b5 AP_Vehicle: call init_safety after first loop has run
5fae2652ab ArduPlane: let AHRS get the airspeed sensor from the singleton
7bf7402561 AP_RCTelemetry: get airspeed sensor from singleton not AHRS object
47f0ab7f90 AP_LTM_Telem: get airspeed sensor from singleton not AHRS object
ee43663c7a AP_Frsky_Telem: get airspeed sensor from singleton not AHRS object
55cb3e8ef0 AP_AHRS: get airspeed sensor from singleton not AHRS object
f44e4aaefb HAL_ChibiOS: always set STM32_DMA_REQUIRED for non-bootloader
e5423a3cf6 SITL: add terarangertower simulator
5e2bd6d9ec AP_HAL_SITL: add terarangertower simulator
bd5c34f626 SITL: improve instructions for using simulated RPLidarA2 sensor
7d232b24d6 SITL: improve simulated serial proximity sensor
b21fdb7743 AP_Generator: use enum class For Battery Failsafe
00a8a8fe8e AP_BattMonitor: use enum class For Battery Failsafe
0fca126d06 AP_AHRS: mark get_hagl as WARN_IF_UNUSED
8658023dad Plane: Add lower CHECK_SCALE defaults for QuadPlane
768e3e7931 autotest: adjust Vicon test for new PREARM-checking code
9207bd8a8a autotest: remove armability check from compass calibration test
087300749c autotest: ensure we have position without being armable for compass cal check
38e324f141 autotest: do not check prearm bit in dataflash-over-mavlink
5707d8ecc0 autotest: check new MAV_SYS_STATUS_PREARM_CHECK in wait_ready_to_arm
013b39d2a6 AP_NavEKF3: fix ext nav vel timestamp cal
1c57eed66c AP_RangeFinder: remove unused voltage_mv_orient method
97cbf17d01 Tools: added HitecMosaic to autobuild
cb34025fef Tools: added HitecMosaic bootloader
b1e7b508db HAL_ChibiOS: added HitecMosaic
9fa60be1ba AP_Periph: break out node status send
1a4f094025 AP_GPS: allow hwdef override of default for GPS_COM_PORT
92bcc7667c AP_GPS: allow for SBF GPS on F3 AP_Periph
6ce9207394 AP_Periph: set HitecMosaic as AP_Periph target
b4e8985109 mavlink: reference new master commit
1723cf8efb HAL_ChibiOS: reduce SPI clock on MatekH743 mpu6k to 2MHz
dac5aca40e ArduCopter: move logging of LandingGear event into LandingGear
bacbe21011 AP_LandingGear: move logging of LandingGear event into LandingGear
b8c58bd900 Copter: payload place fixups
000a2b17c3 AP_NavEKF_Source: remove unused setVelZSource
6bc8ff2ee8 SITL: factor out an I2C command/response class from simulated MaxSonar sensor
1c19a228ac Sub: nail GND_EXT_BUS down to bus 1 on Pixhawk1
6e5e73ef2c Sub: initialise celsius library on configured (barometer) external bus
6f7fbece49 AP_Baro: add accessor for external bus parameter
771666ee52 AP_Baro: correct i2c transfer invocation in KellerLD
64e1784cb7 Sub: use set_default_by_name for GND_EXT_BUS
8b5ff1a6de GCS_MAVLink: enable GCS_SEND_TEXT() to send as CAN LogMessage messages
e235fd311e AP_HAL_ChibiOS: fixed comment in script file
6765265a3b AP_Periph: switched to 1kHz clock for f303-periph
287e9350a5 AP_NavEKF3: move log message IDs in from AP_Logger LogStructure
ea36a84b53 AP_Logger: move EK3 log message IDs into AP_NavEKF3 log structure
79109458c2 AP_NavEKF3: move EKF3 logging structures into EKF3 LogStructure.h
f2b2998f29 AP_Logger: move EKF3 logging structures into EKF3 LogStructure.h
64f4b078a6 AP_Logger: remove unused log_EKF* structures
be52e642f7 autotest: adjust Replay gps bit to make final logfile replayable
d0236ceac9 Replay: check_replay_branch.py: inspect all logs for replayability
b289701d20 HAL_ChibiOS: removed SPI devices on f103-periph
cd6ddf7d4f Plane: fixed disable of geofence on quadplane landing
52f61c7ac1 Plane: make FENCE_AUTOENABLE an AP_Enum
084b589f3a AP_Param: added template class AP_Enum for enum AP_Int8 values
32edb6d0cd AP_Filesystem: add support for @SYS/dma.txt for DMA contention
cf2602f91d AP_HAL_ChibiOS: add support for @SYS/dma.txt for DMA contention
d2e01005ee AP_HAL: add support for @SYS/dma.txt for DMA contention
c5c810b724 AP_NavEKF2: use structures for logging GSF data
f94f51d9d3 AP_NavEKF2: move log message metadata to be above the structure
c4a644100d AP_OSD: refactor current panel and add 2nd instance
54bae68e02 AP_DAL: correct rangefinder get_backend range check
1bef41b42e AP_OSD: fixed param metadata for several OSD settings
42b1d2135a AP_OSD: fixed enable of OSD on boards with no built-in OSD
28e769a79e Tools: link AP_WheelEncoder for all vehicles
7f15b7b126 AP_NavEKF_Source: prearm check of wheelencoders
7d319f8059 AP_DAL: add wheelencoder_enabled
3984cdd823 AP_WheelEncoder: add singleton
38dd3b9209 hwdef: add mRo Control Zero Classic
c530df7e31 AP_RCProtocol: added fport2 24ch test
7e9458b53a AP_RCProtocol: fport2 fixes
bef522387a hwdef: add mRo Control Zero H7
d600b87454 AP_NavEKF2: make logging a core concern
02ba500d67 AP_Scripting: add ahrs-source-gps-wheelencoders.lua
d984ddc163 Plane: apply circular limits to QLOITER pilot angles
eb88e6a37c AP_OSD: Fix vertical speed varying length
88b5523d47 AP_UAVCAN: added logging of UAVCAN LogMessage messages
b2885e3e32 AP_CANManager: exposed can log level
cf22caa7ef HAL_ChibiOS: raise stack limits in f303 peripherals
3ba46d5bd9 HAL_ChibiOS: enable reporting of watchdog reset on AP_Periph
0c2770a8d4 AP_Periph: added DEBUG parameter for displaying stack usage
ba69cd72c9 HAL_ChibiOS: improved stack checking and stack display
84eac7642b HAL_ChibiOS: improved stack checking
2d459dccc3 HAL_ChibiOS: reduced stack usage in CAN RX handler
c778d14fd3 HAL_ChibiOS: enable stack checking on f303 boards
573cd6db6d HAL_ChibiOS: adjust MAIN_STACK for more ISR stack
52a90e7a33 HAL_ChibiOS: fixed monitor thread with no logging
2a29b0fcf5 HAL_ChibiOS: fixed AP_Periph build with --enable-asserts
d586a2d853 AP_Periph: added magic FLASH_BOOTLOADER=42/43 values
5e81fadf13 AP_DAL: ensure RRNH is written before RRNI
172854c894 AP_DAL: fixed build on navio
bdba430e55 AP_NavEKF3: save memory on beacon debug structure
7b08053ef2 AP_DAL: guarantee that the beacon count cannot change after startup
bb32f1a397 AP_NavEKF3: avoid initialising unused ring buffers
4fdbbd8984 AP_NavEKF: added functions to see if a nav source is enabled
ab917ed92e AP_NavEKF: add more protections on ring buffer code
0c05e9a2e7 AP_RangeFinder: fixed handling of instance numbers
73755e2d1f AP_DAL: only allocate rangefinder backends that we need
893e9ea7fd AP_DAL: don't allocate sensor backends unless needed
ba0367fa9f Replay: add check_replay_branch.py to check for EKF output changes
8d756d8758 Replay: check_replay.py: default to print for progress function
e972fb31b1 AP_NavEKF3: remove unused variables
fc7e7dcee4 AP_NavEKF2: remove unused variables
0529ddcd67 AP_NavEKF3: move badMagYaw onto stack
addd57dcab AP_NavEKF2: move badMagYaw onto stack
2885026bba AP_NavEKF3: move tasHealth to be a stack variable
0aa10d8281 AP_NavEKF2: move tasHealth to be a stack variable
b79a26135c AP_NavEKF3: move posvel fusion health booleans to be on the stack
3a98d51427 AP_NavEKF2: move posvel fusion health booleans to be on the stack
2d25149e2e AP_NavEKF3: move global state to be on the stack
400ba7a9df AP_NavEKF2: move global state to be on the stack
e241433c89 AP_Rangefinder: change lightware lost signal timer to 20
d242339f2e AP_NavEKF3: added have_vz flag to GPS buffer data
4e4a044d5d Tools: removed inhibitGps and inhibitGpsVertVel options
80f7906744 AP_NavEKF3: removed inhibitGps and inhibitGpsVertVel options
7313e9eb0f AP_NavEKF2: removed inhibitGps and inhibitGpsVertVel options
281e2cb693 AP_DAL: removed inhibitGps and inhibitGpsVertVel options
0a80fce8b8 AP_AHRS: removed inhibitGps and inhibitGpsVertVel options
603e0c090d AP_NavEKF3: don't reset EKx_GPS_TYPE when GPS has no vertical velocity
79148498d3 AP_NavEKF2: don't reset EKx_GPS_TYPE when GPS has no vertical velocity
4d30b52744 RC_Channel: add string for motor eSTOP
4b6e4e10ed AP_Button: allow RC Channel function to be specified for a button
164bd95538 AP_Button: allow PWM to be used for button input
7ea78791c2 RC_Channel: make string_for_aux public
0f597e0919 RC_Channel: expose do_aux_function for button to call
3264fd750b SRV_Channel: add k_min, m_trim and k_max to output min/trim/max values
17f806cdb9 autotest: add test for execution of button-bound functions
12f001066b autotest: split out a wait_armed function
862ae59e28 AP_GPS: support $PHD message for AllyStay NMEA GPS
211cd5255d autotest: tweak beacon test to be replay-friendly
498b0b79a3 autotest: Replay tests OpticalFlow and Beacons
035e798b23 AP_HAL_SITL: use a separate eeprom.bin for SITL build
d780e66cc4 AP_ADSB: remove deinit()
e94697cb4c AP_ADSB: Allow for multiple backends in the future drivers
58c7f8279d Tools/autotest: fix CI by updating new ADSB_ENABLE->ADSB_TYPE param name
20d21fe175 SITL/examples: remove ADSB param that is already default
2218f8292a Tools: remove ADSB param that is already default
88895f9b13 GCS_MAVLink: stop using one backend's signing structure for all backends
8914bb45f8 AP_DAL: fix for uartI support
895b9a34f9 Tools: support uartI, allowing a total of 9 uarts
af0ee82ff1 AP_SerialManager: support uartI, allowing a total of 9 uarts
a7a5879c0c AP_HAL_SITL: support uartI, allowing a total of 9 uarts
78711e05b7 AP_HAL_Linux: support uartI, allowing a total of 9 uarts
68fdf033ee AP_HAL: support uartI, allowing a total of 9 uarts
217433ee16 AP_HAL_Empty: support uartI, allowing a total of 9 uarts
4d171ec19a AP_HAL_ChibiOS: support uartI, allowing a total of 9 uarts
52b8b95a72 AP_NavEKF3: rearrange readGPSData to remove some nesting
31ebcdff75 Tools: added name to GIT_Success.txt
c9182b39d5 hwdef: mRo Control Zero H7 OEM - update and improve uniformity
b55920165a hwdef: mRo Pixracer Pro - update and improve uniformity
72acc8bfc8 AP_InertialSensor: use primary gyro (not accel) for get_delta_angle_dt
a379bb8fc5 hwdef: mRo Control Zero F7 update and improve uniformity
cd98129022 Autotest: fix css loading for autotest.ardupilot.org
602388224b AP_Bootloader: Repurpose unused mRo board ID
a587195912 HAL_ChibiOS: change f303-MatekGPS to 5Hz by default
bce3c551e7 Tools: sub set-position-target-global-int sends target once
d63fe1eb6c Tools: sub set-position-target uses negative altitude
a8f4ab3d43 Sub: guided pos hold init loses redundant set-auto-yaw-mode
4cd1c3cfde AP_NavEKF3: param conversion loses config_error
8c959c4e13 AP_BoardConfig: added an EXPECT_DELAY_MS to config_error
7a82898e92 AP_GPS: expand gps rate description
cef0c87c4c AP_Scripting: fix method name for ahrs-source.lua
3cdcce2123 ArduPlane: add inflight airspeed cal rc switch
f37d8e5865 RC_Channel: add inflight airspeed cal rc switch
615b8add8c AP_Airspeed: add inflight airspeed cal rc switch
8c2688605e AP_AHRS: active_EKF_type fallback to DCM checks if GPS configured for use
adfc92523b AP_NavEKF3: add configuredToUseGPSForPosXY
4087d7b792 AP_NavEKF2: add configuredToUseGPSForPosXY
07ffac429b Tools: rover: add test for slew rate
fe3d6b9744 Rover: Fix application of MOT_SLEWRATE to achieve full range
ab95a1f8fd Tools: create a heading function to remove duplication
8be13ac5db Tools: update instrall-prereqs-ubuntu for groovy
78d3a6f7ac Vagrantfile: add definition for groovy
a6436851b4 AP_Logger: account for expected delays and boot time delays in block logger.
fdbffd19c6 AP_NavEKF_Source: remove defaults for baro and compass
8124c3fea8 AP_NavEKF_Source: set compass_required if we require a compass
9e20f4a68d autotest: add a test for compass yaw sources
cf2b3d9bc6 AP_Periph: add AP_BattMonitor support
67405cedb2 AP_HAL_ChibiOS: add AP_BattMonitor support to CubeBlack&Orange-periph
87813b9401 AP_Generator: AP_Periph should not include Generator by default
171a10e117 AP_BattMonitor: Add support for multiple UAVCAN batteries from a single node
48e2b78cab AP_BattMonitor: fix compile for AP_Periph
089f3aa349 AP_HAL: allow hwdef to define HAL_SUPPORT_RCOUT_SERIAL - must be disabled for AP_Periph
e2a6d13213 .github: add linux sbc testing
2e5a5cd43f Tools: correct comment on SITLtest-can
a592d76866 AP_Scripting: fix compile on clang 10
c2a7e3be58 .github: migrate all chibios build to Github Actions
7eea13f86f AP_NavEKF3: fixed build of standalone replay link test
3366ee9496 Tools: fixed replay CI build
52f85e70a8 .github: add test for replay
e015956b6e Copter: move RETRACT_MOUNT option to common for all vehicles
ae8fe818c8 RC_Channel: move RETRACT_MOUNT option to common for all vehicles
3f6b398a01 autotest: include EK2,EK3 and DAL LogStructures in code-defined messages
42d9727f49 AP_Logger: correct documentation on ARSP message
04f817020f Copter: use glitch-protected range from rangefinder for precision landing
5edae526fd AP_Math: Add conversion Ams to mAh
b788a172c8 autotest: add simple test for IE24 generator
c52298352a AP_HAL_SITL: add simulator for IntelligentEnergy 2.4kWh
f7b2856af0 SITL: add simulator for IntelligentEnergy 2.4kWh
a2d2e85ba1 AP_Logger: Reinstate Watt unit
434af4a4d4 Copter: Move AP_Generator to AP_Vehicle
70246059ed Plane: Move AP_Generator to AP_Vehicle
d25f9d5d3a AP_Vehicle: Move AP_Generator to all vehicles
2dc684622e AP_Arming: Add support for AP_Generator frontend
66285b65ce RC_Channel: Add support for AP_Generator frontend
caf1ad28d5 GCS_Common: AP_Generator_Richenpower is now AP_Generator
836717c0af AP_BattMonitor: Add support for AP_Generator frontend-backend
8cfe4fc9f7 AP_Generator: Split into frontend-backend and add IE fuel cells
6c136862b8 AP_DAL: Add stdio include
9d90d16c2b AP_ADSB: Access snprintf from hal
4990048efb HAL_ChibiOS: Correct a typo and Update product link url for PH4-mini
786fd8a2f8 AP_Logger: add and use instance number to ARSP message
8647dda8a9 AP_Airspeed: add and use instance number to ARSP message
c291107f50 Filter: correct grammar on HNTCH docs
726307cb31 Filter: correct harmonic notch docs and provide better defaults.
3baaa84de1 AP_OSD: remove duplicate parameter definition
6c3948f417 AP_NavEKF_Source: optimise configured_in_storage
bce4fd43a3 SITL: fixed GPS POS parameters
05194ed8b6 AP_GPS: don't accept infinite accuracies for blending
83c479bcc2 AP_GPS: prevent UAVCAN GPS from giving infinite accuracy values
a762926526 AP_GPS: fixed constrained NaN in EKF3 caused by bad GPS blending
6534557832 Tools: fix replay build on build_ci.sh
935d39322c autotest: correct test for mode-change-reason change
f0c22244a5 GCS_MAVLink: correct response codes when mode change fails
f128d8c549 gitignore: ignore .pydevproject from Eclipse Python plugin
c2e3520add Sub: update release notes for 4.0.2
4415d4ed56 Sub: update release notes for 4.0.1
200b085eea AP_NavEKF3: move XKY0 and XKY1 to be normal log structures (from Log_Write)
e1a033b296 AP_NavEKF3: make logging a core concern
914629351f AP_NavEKF3: use scalar rather than array for state-prediction-allowed
e4f4868d9b HAL_ChibiOS: add QMC5883L on QioTekZealotF427
35c2d13e2f HAL_Linux_Class: specify per board external clock frequency for RCOutput_PCA9685 drivers
e64d9816ce RCOutput_PCA9685: allow different external clock frequencies
8561f5239d AP_NavEKF3: Fix bug preventing yaw alignment to EKF-GSF estimate
fe81387433 AP_NavEKF: allow init twice
1e4b1d7563 AP_NavEKF3: convert to using common buffer classes
39ba8a8c83 AP_NavEKF2: convert to using common buffer classes
e4a9497942 AP_NavEKF: added common EKF buffer classes
b1594f96c0 .github: move periph test out of copter file
f40a5b978e .github: reduce duplicate for GCC and Clang build
d1983b0b77 AP_NavEKF3: fixup source param conversion
0119c48e1e AP_NavEKF_Source: add mark_configured_in_storage
50b2cf136f AP_NavEKF_Source: default OPTIONS to 1 (fuse all velocities)
04e3623620 AP_NavEKF3: improve MAG_CAL vs EK3_SRCn_YAW checks
36c946113d AP_NavEKF3: handle compass fallback in yaw source reset
f257dc20d0 Tools: add test.Copter.GPSViconSwitching to CopterTests1d
bf5c74dbdb AP_Scripting: ahrs-source example script
2b9fb79d72 AP_Scripting: add bindings for set_posvelyaw_source and get_vel_innovations
b6fe039a9f Tools: autotest for beacon sets EK3_SRC params
9dbfb99cc3 AP_VisualOdom: add align_position_to_ahrs
04655d9698 RC_Channel: add aux switch to change the EKF's sensor sources
4b542aa714 AP_AHRS: add get_vel_innovations_and_variances_for_source
dc5d1d099b AP_AHRS: add set_posvelyaw_source_set
8895d20c45 AP_NavEKF3: rename setPosVelYawSourceSet
5eb3875ebb AP_NavEKF3: rename posxy_source_last and posxy_source_reset
f88364d653 AP_NavEKF3: use_compass minor order fixup
b475f01b25 AP_NavEKF3: update comments
0f8d0ef11b AP_NavEKF3: move sources to 2nd bank of parameters
33b6212cce AP_NavEKF3: rename _sources to sources
9716b09cad AP_NavEKF3: minor indenting fix
6daaa06317 AP_NavEKF3: integrate AP_NavEKF_Source::useVelXYSource
72ee7d15e1 AP_NavEKF3: fixup for AP_DAL
73835f0c11 AP_NavEKF3: pre_arm_check includes sources
6c0bb6a198 AP_NavEKF3: add convert_params for source
849e94cc24 AP_NavEKF3: call sources align inactive sources
ba9f60abc7 AP_NavEKF3: add getVelInnovationsAndVariancesForSource
58aa6086df AP_NavEKF3: always calculate GPS innovations and variances
e7e91b1c3b AP_NavEKF3: always calculate extNav innovations and variances
6b2b5c4ca0 AP_NavEKF3: add CalculateVelInnovationsAndVariances
2505fd5c1c AP_NavEKF3: body and wheel odometry check source
1263648d88 AP_NavEKF3: beacon fusion checks source
8a56ce49be AP_NavEKF3: optical flow fusion checks source
4cadaa5194 AP_NavEKF3: readyToUseOptFlow, Beacon, ExtNav check source
faed58a027 AP_NavEKF3: integrate Source for yaw
8931e50166 AP_NavEKF3: integrate Source for alt
c21d58ebea AP_NavEKF3: integrate Source for position
9b84abecaa AP_NavEKF_Source: enables dynamically changing sensor sources
9e5e49cd13 AP_DAL: added methods to support EKF sources selection
d50e4d03f4 AP_Logger: remove time_us parameter to several sensor logging methods
e257dd9fee AP_GPS: correct logging for GPS blending
58f0c34612 AP_GPS: fix dataflash logging of blended GPS instance
a12c2a6b87 AP_Logger: use instance numbers for logging GPS data
f57082a2e0 AR_WPNav: Add note to WP_PIVOT_ANGLE
f9b4e81702 Copter: Add ignore pilot yaw to guided, auto and RTL options
58c23e618e AP_Logger: remove unused IMUDT code
888967fb14 mavlink: Add OBSTACLE_AVOIDANCE_3D mavlink message
c1d67705ce AP_Proximity: Remove Morse backend
0e50023593 Plane: tailsitter: use true hover throttle in VTOL transision.
681f45c4e0 AP_MotorsMulticopter: make thrust to actuator public
dd3ac893b3 Plane: dont use VTOL throttle percentage in tailsitter vtol transisiton
470c00b6b2 AP_Arming: Fix compilation with OSD_PARAM_ENABLED not defined
64f208cbec HAL_ChibiOS: Add af_parse for CubeMX pinout csv
ef80935173 Bootloader: Add bootloader for Pixracer Pro and Control Zero OEM H7
701ab83f01 HAL_ChibiOS: Added support for mRo ControlZero OEM H7 flight controller
408f8b3940 HAL_ChibiOS: added check for overwrite of nullptr on H7
8f682c0782 HAL_ChibiOS: check all memory at 10Hz
95a823a702 HAL_ChibiOS: added link list of all memory allocations
9a026b8068 HAL_SITL: fixed warning building with gcc 9.x
3f775205e6 HAL_ChibiOS: fixed use of chHeapFree
ce3e1a69ec HAL_ChibiOS: added memory guard system
cc61e05d90 AP_InternalError: added mem_guard internal error
ce95b7e81a waf: added --enable-memory-guard option
70a8853e6a Replay: adjust lost message threshold
e830494f0f AP_OSD_Screen: move vspeed decimal switch to 10 m/s
6bf7f9e864 AP_Logger: use load_file()
3a0e494085 AP_OSD: fallback to font 0 on load failure
a2d86eac6d AP_OSD: allow for loading fonts from sdcard
773517a473 AP_Filesystem: added load_file() API
cf2b89c4f1 AP_HAL_ChibiOS:add mazzy star drone hwdef
079e11275a AP_Filesystem: allow for replay on any file in local filesystem
32bead6013 Replay: use common events and structures
4c606a30bb AP_NavEKF3: use common structure names
3a4095fc7f AP_NavEKF2: use common structure names
636fe783f4 AP_DAL: use common events and structures for EKF2 and EKF3
08291a15fb HAL_SITL: avoid sitl command line processing for replay
019544ceb1 AP_Logger: allow for replay with both EKF enabled
bbc673c668 AP_RangeFinder: Change rangefinder number 10 to A
5e2093b105 Copter: Allow the user to specify the GCS failsafe timeout
5e8e088978 ArduPlane:Add safety limit on tailsitter VTOL transition throttle
6eca18c08b GCS_MAVLink: add Board option to disable MAVftp in low mem bds/apps
6fe5ed36ce AP_BoardConfig: add Board option to disable MAVftp in low mem bds/apps
9c74474196 GCS_MAVLink: setup baudrates for passthru serial ports
d0db3eef58 AP_SerialManager: added baudrates to get_passthru()
53cbd86cbe AP_Scripting: Fix the lua scheduling rate to be referenced from the start of the update
42887891be Plane: tailsitter: make sure alt target is abover current alt
f480f4e946 Plane: tailsitter: fix Qassist back - transision
c03de6bdbe Plane: log Qassist state
5385f25868 AP_RSSI: handle init ordering with MSP
248ef92ed7 AP_NavEKF2: Add velocity innovation check to use of EKF-GSF yaw
aaf558f593 AP_NavEKF3: Add velocity innovation check to use of EKF-GSF yaw
78e10e99f5 AP_NavEKF: Add accessor for yaw estimator velocity innovation length
db86a5acc8 AP_NavEKF3: Don't update yaw estimator with bad GPS
e5e8d0ba3c AP_NavEKF2: Don't update yaw estimator with bad GPS
1250f62c88 Replay: fix for WriteV usage and cleanup unused code
e143257f8a Replay: added GSF msgs to check_replay.py
5686dafeef AP_NavEKF3: fixed logged core for GSF messages
a2f4b16cdc AP_NavEKF2: fixed logged core for GSF messages
04f60001ff AP_Logger: allow WriteV() to work within Replay
e122d8ae8e Replay: allow build with "./waf replay"
03f2e853ce AP_NavEKF3: fixed memory corruption on push before init
01cd678244 AP_NavEKF2: fixed memory corruption on push before init
026ddfa679 AP_OSD: fix for sim_vehcile --osdmsp
3b6513b932 Tools: add CubeBlack to list of AP_Periph supported boards
32ba55e756 AP_DAL: move structure used for location references into cpp
8c2c6141f7 AP_DAL: remove unused antenna_offset state
f0b0e36dc6 .github: add chibios test with GCC 9
3cf537deed AP_BoardConfig: reorder the fixed-index enum
e0e3c23a87 AP_HAL_ChibiOS/hwdef: fix misprint in comment
960437d446 Tools: Add the SFML configuration flags as needed for joysticks
350fe3ed8d wscript: Add configure option for SFML joystick
58ee8f62e2 AP_HAL_SITL: Support SFML joystick input
892fb74c96 SITL: Add parameters for SFML_Joystick
c8e604a730 AP_Scripting: fixed gcc 9.x build
c14d19be68 AP_NavEKF3: fixed gcc 9.3 build error
7099bb6096 AP_NavEKF2: fixed gcc 9.3 build error
19c42ca0ed AP_RCTelemetry: fixed build for gcc 9.x
c1dded0483 AP_DAL: fixed distance in rangefinder data
8c59575646 AP_OSD: support callsign display on OSD
c423bcca65 AP_OLC: fixed build of OSD on SITL
a9a2c8c392 AP_HAL_SITL: only disown a sempahore once we're done with it
545a086865 SITL: make ToshibaLED an 8-bit register device
e21e55ba51 SITL: add I2CRegister::8Bit for 8-bit-quantity devices
29b913cd41 autotest: avoid using undefined fmt variable
a00243dc5a SITL: fix copter sitl build on macos
3f4c605361 AP_Beacon: added const
8813057b4c AP_HAL_ChibiOS: Tweak sorting to be py2/py3 compatible
bf4f482f5e AP_FileSystem: do listing for SYS without slash as well
02e9519ab0 AP_Filesystem: fixed stat call for @SYS files
c787231435 AC_Fence: remove timeout for waiting on fence semaphore, make nonblocking
d0cf3365ee AP_HAL_Linux: handle uninitialised soCAN file descriptor
eea6b4c9b9 AP_HAL_SITL: handle uninitialised file descriptor
f502af99b2 AP_Periph: fix uninitialised buffer arrays
48385b82dc AP_Logger: use instance number for Mag logging
12f0e9dd43 AP_Logger: use instance number for Baro logging
2437cf8a24 AP_Logger: use instance number for IMU logging
55697a8f8e Tools: correct decoding of hex values in watchdog decoder
d436e5b5d1 SITL: add simulator for Rotoye battery monitor
4be9b4171b AP_RangeFinder: TFMiniPlus: respect max configured via param
0e63a833e9 AP_RangeFinder: TFMiniPlus: fix out-of-range returned a no-data
36eb605de5 AP_Arming: fix aux auth arming check
d6a1af4690 AP_Scripting: example: arming auth: removed unused millis call
41943f5fda GCS_MAVLink: correct use of uninitialised value in Rally upload
58bdae1b52 autotest: get Valgrind closer-to-working
0db8745320 AP_Filesystem: fixed flushing with posix compat layer
bd6b28e5d9 AP_Camera: if the RunCam supports both 2-key and 5-key control, use 2-key
8cd9af5ddd AP_OSD: refactor to enable a TX-only set of parameter screens
4d1c660ebc GCS_MAVLink: enable OSD parameters on parameter enablement
bfd24ea789 Rover: allow OSD for TX-only screens
fa454da315 Plane: allow OSD for TX-only screens
304d05f918 Copter: allow OSD for TX-only screens
06feecfaf2 AP_RCTelemetry: support CRSF parameter ping requests
7f3f135dc5 AP_RCProtocol: add debug for further CRSF messages
dbe5b90398 AP_BattMonitor: Adding driver for Rotoye Batmon equipped smart batteries
eb132d1c93 AP_DAL: fill in visualodom structures
428c9ef0e1 AP_GPS: correct logging in dual-ublox setups
00cfc1932f autotest: fixed arm delay in replay test
2a210549f9 AP_DAL: minor review cleanups
790a5ffa38 AP_Vehicle: added bootloader vehicle type
280e9d1c41 HAL_ChibiOS: fixed bootloader build
2e60fbc6d3 waf: fixed headers check
17b4198921 HAL_ChibiOS: add WITH_FATFS to environment
7308384cdc Replay: require a filesystem for replay
20ecac5e9f Replay: fixed build on boards with OSD
147df12eb8 GCS_MAVLink: allow replay to use GCS_Dummy
ac566763fe HAL_ChibiOS: disable loop delay on replay
5f669e22ff autotest: adjust optical flow speed test
4edc784dc4 Replay: allow replay on ChibiOS
5e8380ff41 AP_HAL: allow replay on ChibiOS
f4bf2ec3fe AP_DAL: allow replay on ChibiOS
f121c250ae AP_BoardConfig: allow replay on ChibiOS
db86b95761 HAL_SITL: fixed AP_Periph sitl build
1a1ca7cca7 autotest: fly a bit higher in optical flow test
7568639af7 Replay: don't build on chibios
025cf8f72b autotest: cleanup load_local_module
0ca54016bb Replay: cleanup use of globals
806852c9c3 AP_Math: speedup fill nanf
c321025725 HAL_SITL: run nanf fill every 10 loops
690af580c9 autotest: abstract out load_local_module()
f674d124d6 autotest: use SITL replay
3152da98e1 AP_Logger: skip structure validation in replay
d380447cd5 HAL_SITL: support command line args for replay
f966e92d99 HAL_SITL: default model for replay
85aa64780c Replay: allow replay to run on SITL instead of linux HAL
0bc77a3baf AP_NavEKF3: fixed whitespace
7b50780c5e autotest: fixed rmtree error in autotest
8cb3013217 AP_DAL: setup low pass IMU filter for 20Hz
9e73922fd9 AC_PID: use calc_lowpass_alpha_dt()
b0f0c8d842 Filter: use calc_lowpass_alpha_dt()
cdcf32d22c AP_Math: added calc_lowpass_alpha_dt()
6ee1b23d28 AP_NavEKF3: removed use of another lanes gyro in optflow takeoff detection
5b41d5541f AP_NavEKF2: removed use of another lanes gyro in optflow takeoff detection
0506af113e AP_DAL: tidyup
a37cae5dae autotest: added test.Copter.Replay test
f1f547f723 Replay: allow check_replay to be called as library
0d8a36d0c0 Replay: fixed linux build warning
3dff0b3d58 autotest: removed dcm yaw test
fabac94952 AP_DAL: avoid logging unused IMU data
7d7031d3d7 AP_NavEKF2: added const (review request)
7a34ec4458 AP_DAL: updated comment
0e7611cebe AP_DAL: fixed handling of AHRS trim
f145afabf3 AP_DAL: pack RFRN more efficiently
a08a1a4247 AP_Logger: allow for larger LOG_FILE_BUFSIZE
71e4d72fe3 AP_Logger: removed 64k limitation on log buffer
2945de4796 AP_Logger: use WITH_SEMAPHORE in _WritePrioritisedBlock
7a8e8b8b51 AP_DAL: removed use of BUILD macros in headers
5be818f8a1 AP_DAL: re-pack GPS replay data
cb830dcc11 AP_AHRS: added comment from review
905ffed7fd AP_DAL: cleanups from review
541d11ee05 Replay: cleanup unused code
509b9f5e63 AP_DAL: only enable standalone build with --no-gcs and --disable-scripting
fb4b149a73 travis: fixed for tools group for DAL standalone
4f17edc67d AP_DAL: moved standalone example to tools
70abf799c3 AP_DAL: check for zero time in accel/gyro filtering
367c993673 Replay: fixed cast of REY3
e7fa722290 Replay: support overriding parameters
18e3c478f3 travis: added replay to travis build tests
dd96d7c205 AP_DAL: fixed standalone linking
6fe05a9ab6 AP_NavEKF3: restore XKTV message
f5275fd0ad AP_NavEKF3: fixed use of pointers in ringbuffers
16f7e51ea5 AP_NavEKF2: fixed use of pointers in ringbuffers
eaa8474563 AP_NavEKF3: cope with INS_MAX_INSTANCES below 3
246a441883 AP_NavEKF2: cope with INS_MAX_INSTANCES below 3
021e305340 AP_Mount: cope with INS_MAX_INSTANCES below 3
dab091a801 AP_AHRS: cope with INS_MAX_INSTANCES below 3
f6c45c3bcd AP_InertialSensor: cope with INS_MAX_INSTANCES < 3
bb3b59966f HAL_ChibiOS: define INS_MAX_INSTANCES if less than 3
4ef7d5b468 AP_DAL: make more APIs const
9b81c5a1e0 AP_NavEKF3: use dal reference in EKF backends
5f0e943f0f AP_NavEKF2: use dal reference in EKF backends
e273f73cb4 AP_DAL: fixed shadowed variable
1bdf6173ec AP_NavEKF3: removed have_ekf_logging
21dfdc2192 AP_NavEKF3: use DAL for body frame odometry
8591b31665 AP_NavEKF2: cleanup unused code
9635231088 AP_DAL: added body frame odomotry
6c4e552a0b AP_GPS: removed have_ekf_logging()
353ec29ab6 AP_Compass: removed have_ekf_logging()
b0ec4f8b93 AP_Baro: removed have_ekf_logging()
1bc82d3118 AP_AHRS: removed have_ekf_logging()
403275beea autotest: added RBOH message
3d2f07e757 Replay: support body frame odometry
851cb30e0d AP_Logger: speed up startup with replay if LOG_DISARMED=0
29ab747982 AP_DAL: fixed navio build
c7cc26d9bc AP_DAL: rename xxprintf() to rprintf()
9542f365f6 AP_DAL: fixed range beacon handling
d01534c7c6 AP_DAL: remove unnecessary variables
a0de6c620f AP_NavEKF3: use selected GPS for gps_yaw_deg()
f4c3d7286c AP_NavEKF3: support replay with wheel odomotry
b8a3413f5e AP_DAL: support wheel odomotry
4a06641048 autotest: added RWOH message
afb11cf29b Replay: support wheel odomotry
e87f98066f AP_NavEKF3: support replay with external navigation data
bec095d661 AP_NavEKF2: support replay with external navigation data
c068da154a AP_DAL: support external pos and velocity data
7f0113b82d autotest: added REPH and REVH
0ee8b415f2 Replay: support external position and velocity data
5260d677ef AP_DAL: fixed optical flow replay
7bbbbd314c AP_NavEKF3: added optflow support for AP_DAL
224792b8b8 AP_NavEKF2: added optflow support for AP_DAL
dab9d824fd AP_DAL: added optflow support
a56f07b74d AP_Math: allow build without other headers for vector2.h
ef5baaf482 autotest: added ROFH msg
1fb421ae6a Replay: handle optical flow
614a77d2c9 Replay: allow for early log end in check_replay.py
4cd5ac5164 Replay: add call to RFRF handler
31091d6307 AP_NavEKF3: use ekf_low_time_remaining for core scheduling
90a8c5cb1a AP_NavEKF2: use ekf_low_time_remaining for core scheduling
47c3fadc17 AP_DAL: added ekf_low_time_remaining()
1848491ac2 AP_DAL: fixed GPS backend for multiple sensors
bf61910c7c AP_DAL: fixed shadowed variable
50d03571da AP_DAL: fixed build without VisualOdometry
b7d60b1d97 AP_Logger: added C field to EKF msgs
8ba067608b autotest: cope with LogStructure.h in multiple places
09265a8a9b Replay: improved failure reporting in check_replay.py
f3c3778169 prevent duplicate EKF logging
fa75824948 AP_DAL: added standalone link test
42d62e138b Tools: updated test helpers to assist in replay testing
3ae237b652 autotest: started work on replay testing
161f2a8d2f autotest: improved error msg for missing doc fields
0c1d665818 waf: support no-gcs and DAL builds
603146c5ca waf: added --no-gcs build option
32bda36908 SITL: fixed build with no GCS
0700ca4882 AP_Vehicle: added DAL standalone vehicle type
ae56f554b9 AP_Vehicle: send watchdog reset msg at startup
77687a9639 AP_UAVCAN: fixed build with no GCS
9b35bfba55 AP_AHRS: use enum class for takeoff/touchdown states
31fbb59384 AP_AHRS: delay EKF start until logging ready
096aab9388 AP_NavEKF3: convert to use AP_DAL for new replay structure
6be3d19e82 AP_NavEKF2: convert to use AP_DAL for new replay structure
97a2c5a576 AP_NavEKF: removed Log_EKF_Timing
c0b20881d6 AP_Math: allow vector3.h to be included earlier in include chain
09aff03edc AP_Logger: support new replay system
daa0abeb13 AP_Logger: make structure check errors clearer
bd7ed003c2 AP_Logger: split out EKF messages and prepare for new replay
81f96aedd2 Replay: new replay implemention
e116b1ff0a AP_DAL: added data access layer library
1587d88f58 AP_Scripting: example saving serial data to SD card
eea62bf733 Plane: added optional ground effect compensation for quadplanes
60951a7891 AP_GPS: add use primary if 3D fix GPS_AUTO_SWITCH option
347723dbaf AP_GPS: add primary param
0c2037438b AP_Motors: output mask: do not apply copter sin params and epxo
814aa4e5ec AP_AHRS: take secondary attitude from EKF3 if it is configured
0f234583d6 Copter: poshold clears wind est when disarmed or landed
9b4441011c ArduPlane: Fix throttle nudge reset due to wrong radio timing
f7daa4a93a AP_Compass: raise max scale factor and make symmetric
87564f145b AP_Periph: add docs for CAN SITL
68b6ecc59c AC_Avoid: Mark OA_OPTIONS as a Rover-Only param
cb034c50a7 HAL_ChibiOS: fixed orientation of compass on M10070B
3b7b2b89a5 HAL_ChibiOS: added baro for mRo Location-one GPS
c786e3560c Tools: decode_watchdog.py: tool to decode watchdog information
b55838f7ff Tools: make decode-ICSR script an object
ed7580e83c Copter: takeoff relaxes wpnav and pos control during spool up
83e1fe94d1 Copter: fix metadata in FS_GCS_ENABLE param
df90e28b89 AP_ADSB: move code to new uAvionix backend
f784fc7c5c AP_ADSB: create frontend/backend split
fd9068de8a AP_L1_Control: correct zeroing of cross-track integrator
d6869b9234 AC_PosControl: fix typo in posxy_p param desc
5f8b4968ec AP_Vehicle: add instructions for config_error loop
30a9bb4ff4 AP_BoardConfig: change message interval to 5 seconds to match scheduler_delay_callback
c054218568 Plane: report quadplane setup errors in config_error loop
9acaa84b8f AP_Param: disable cmdline parameters for AP_Periph
7253e5e394 .github: add test for CANBus
c1dc6465cf Tools: add CANGPSCopterMission mission file
c72c96fa9c Tools: setup CI test for CANBus
60e8d747c6 AP_Periph: fix build type for SITL builds to use "sitl_*"
0d41db5520 AP_HAL_SITL: flush data from select call as we don't wait select in AP_Periph
ed3683fce3 AP_Periph: use native_millis for use in SITL
09a0d8d0c0 HAL_SITL: add support for AP_Periph SITL build
9f4457f1d2 HAL_Empty: add empty protocol method in RCInput
48b59973b5 waf: add sitl_gps support to simulate AP_Periph GPS
e4c5d7b697 AP_Periph: get AP_Periph ready for SITL build
2d80dcd937 Plane: remove tailsitter VTOL transition race condition
5f67f8130b Plane: tailsitters use  Z stopping point on transition
dce2f78d6f Update GIT_Success.txt
7a09f88e83 AP_ADSB: refactor and renamed things and general cleanup for pre-backend split
8bcc32db78 RC_Channel: added adsb health check
37c6622b96 AP_Arming: add arming check for ADSB
f18585c584 Copter: Matches the minimum value of failsafe_throttle_value to the operation
e95376fbef AP_Scripting: add notify LED get RGB binding and example
0f2c06d798 AP_Notify: RGBLed: rename OFF define
2e4b61d96e AP_Notify: add scripting LED type
cf599952f5 AP_Notify: RGB LED remove unused varables
0668c5c584 AP_Scripting: support pass by refence on none bool return
b30c55b3f3 AP_GPS: Support yaw from moving base station on SBF drivers
4161e2eb28 AP_GPS: Factor out moving base offset helper
230798546e RC_Channel: correct metadata for RC_OPTION param
0f5179d204 AP_Scheduler: Emit last internal error line
25ca2a0828 AP_Logger: Reserve space in PM for last internal error line
051640e2b2 AP_Math: Log line numbers on constrain_nan's for constrain float
2681d3afe2 AP_NavEKF3: simplify alignYawAngle
024d2b7435 Plane: always output flaperons and dspoilers
fc49b55b85 AP_NavEKF3: make coreBetterScore const
84c92b717f AP_NavEKF2: make coreBetterScore const
b225ae43ab Plane: always log tailsitter scalefactor
840f129153 Plane: remove unused tailsitter scailing option
48336e4eff Rover: Change abbreviations
e5d580412e Plane: fixed usage of rangefinder in landing with RNGFND_LANDING=0
c192efea0a hwdef:PixracerPro - Fix analog volt pin assignments
e5ffc834e9 AP_Arming: Parameter check is not unused
5d3dd5a8b8 Rover: add ReportOnly option to FS_EKF_ACTION
a730e47563 Rover: EKF failsafe message is displayed only when action triggered
379506b718 ArduCopter: Don't request EKF yaw reset unless innovations are large
fd0e822074 Tools: fix sqlite database creation
46976c4358 HAL_ChibiOS: fixed remapping of ioline_t with BRD_ALT_CONFIG
2dd58c8ed1 AP_RCProtocol: send null pkts for FPort2
97b44dfe71 AP_Scripting: add DIR_DISABLE param
2bdcadd785 AP_Scripting: examples to load and save missions to the SD card
b726630ef4 AP_NavEKF3: pos timeout or glitch does not reset vel if fusing successfully
3b38aa6d7b AP_NavEKF3: GPS change pos reset uses ResetPositonNE and ResetPositionD
73dea6d29c AP_CANManager: return max number of drivers for get_num_drivers
917f7d8797 AP_PiccoloCAN: Update timeout values to use 64-bit calls
491499ad16 AP_PiccoloCAN: Fixed license text in auto-generated files
479df2e20b AP_PiccoloCAN: Prevent thread from getting stuck in an infinite loop
6786e832a1 AP_PiccoloCAN: Provide compatibility for "Gen 2" Velociy ESC ICD
3e3da61396 Tools: fixes from review feedback
16bede2d74 Tools: allow for -f Callisto as frame type
d8337cf9e5 SITL: allow loading of model from ROMFS
39f25fc0f4 Tools: added models to ROMFS in SITL
31e3fd0771 Tools: added battery capacity to Callisto model
e07cecb264 SITL: added support for simulated battery discharge
1286c5f64e Tools: adjust quadplane tuning and QAssist test
47bf3e2249 Tools: use max_err for alt wait in flip test
7820b402d6 Tools: tweak Qassist test to be more reliable
72d0730194 Tools: fixed flow speed test to be much more robust
eacebb619a Tools: lower ALT_HOLD_RTL for quadplanes
1ea0daa95f Tools: adjust quadplane tuning
da86dc8814 Tools: fixed FFT test thresholds for new tune
d221756e2d Tools: fixed copter MOT params
c7a60f57ad Tools: improved quadplane tuning
e8f21d3458 AP_InertialSensor: fixed rpm indexing for vtol motors
a0bc9d3148 SITL: fixed quadplane mass and rpm indexing
a95c2e9db3 Tools: fixed optical flow speed limit
86c558e735 Tools: fixed fast climb in SuperSimpleCircle test
ca6da722a9 Tools: adjust StabilityPatch test
4e553bcbde Tools: fixed Qassist test
98dacd5ee4 Tools: fixed wait_for_alt
10a07bf4f9 Tools: added Callisto model from Leonard
767773da5e SITL: improved multicopter simulation
c2661a0f09 SITL: added picojson.h header
7b898ee001 AP_NavEKF3: minor comment and format fixes
fccc1fcb72 AP_NavEKF2: minor comment fix
20c4f1950b AP_RCProtocol: added FPort protocol test
df5105e20b AP_RCProtocol: added FPort2 protocol test
a8770a5a82 AP_RCProtocol: added FPort2 protocol support
747b48d0a8 AP_Math: added crc_sum8
66596dcf25 AP_Logger: allow for retry of log open with LOG_DISARMED=1
ce839cfef9 Frame_params: updated Disco startup location
6e19eac9aa ArduCopter: remove nomination of system ids
cd8404f80c AP_BattMonitor: Update @value field in param to be increasing order
36204e5dae AP_HAL_Linux: Fix PWM FS to follow the Kernel's 4.X instead 3.9
eb880a2657 AP_Scripting: copter-wall-climber fix for climb rate limiting
eab7c9520c AP_Scripting: copter-wall-climber accel limiting
2ab860b8b7 AP_Scripting: copter-wall-climber format and comment fixes
640990a7c7 AP_Compass: Fix TYPEMASK bitmask
e1126d4fd6 GCS_MAVLink: use micro64 instead of micros for time_usec
7aad83ccca AP_Airspeed: add MATLAB based NMEA sensor example
d197ec4072 Sub: add airspeed sensors
0e41b821e8 AP_Airspeed: defualt to type none on sub
73594cb19b GCS_MAVLink: send airspeed temp in scaled_pressure
2aff8787c1 AP_Airspeed: add NMEA water speed backend
9884c2c2ce AP_SerialManager: add airspeed type
8996c4cee0 AP_Scripting: NMEA example updated decoding
662d4640ef AP_Airspeed: add dedicated MAX_WIND param
d7e8ad1c13 AP_AHRS: add ARSPD_OPTION note to WIND_MAX
50d9dcce9b Copter: 4.0.5 release notes
e6ba53856a Plane: tailsitter: ask for FW state don't check
22b8ed5adf AP_Baro: Delete unnecessary return processing
cf055fd1e0 Plane: add midposition to flare RC option sw
6f92abea63 AP_Filesystem: fixed build on gcc 9.3
45af37298b AP_BoardConfig: use AP_Filesystem for sdcard mount
ee50eaf3c9 HAL_ChibiOS: go via AP_Filesystem for mount/unmount operations
2596875ceb AP_HAL: removed fs_init()
e429d578fa AP_Filesystem: added interface for mount/unmount
1a1a5e69dd AP_Scripting: Add setmetatable back to the lua sandbox
85480c8865 Plane: update frame_type parameter description
9aec1e48af AP_Frsky_Telem: tidy mavlite message handling
e0f8e003ec AP_Frsky_Telem: move mavlite message handling to own object
b4e12da2c8 AP_Frsky_Telem: rework SPort-to-MAVlite conversion
18330d16de autotest: add test for MAVlite
4dec72a230 AP_RCProtocol: added support for frsky fport bidirectional telemetry
0012b83d86 AP_vehicle: added support for frsky bidirectional telemetry
988af83fce AP_Frsky_Telem: added support for frsky sport/fport bidirectional telemetry
a4297bcdd7 AP_Frsky_SPort: reduce acceptable response delay to 6500us
33f19eec27 AP_Frsky_Telem: tidy parsers and splitting of statustexts
6abf4ec2b5 AP_Frsky_Telem: tidy creation of frsky data
602a9592ce SITL: add Maxell SMBus battery support
f2af2b3458 AP_NavEKF3: Initialise tiltErrorVariance class variable
43386a8eea AP_NAvEKF3: Use a const reference
64a3d8fe4e AP_NavEKF3: Update documentation
6c7820dd8d AP_NavEKF3: Add verification of tiltErrorVariance() method in SITL
90e928c32a AP_NavEKF3: Re-tune tilt alignment check
16ae75a681 AP_NavEKF3: Consolidate and log tilt error variance calculation
8a88dd23a2 AP_NavEKF3: Add missing generated code file for yaw fusion
69632336e1 AP_NavEKF3: Remove singularity in yaw fusion at +-90deg yaw
4e41e9f5f1 AP_NavEKF3: Ensure consistent use of 312 or 321 rotation order
fa10d114e4 AP_NavEKF3: Fix yaw drift after yaw reset at +-90 deg pitch
73d5ca5ad3 AP_NavEKF3: Fix yaw drift after yaw reset at +-90 deg pitch
a97d030e4b AP_NavEKF3: Reset earth field variances when starting mag field estimation
9168d0cd19 AP_NavEKF3: Initialise mag field variances to non zero values
0b96f046c2 AP_NavEKF3: Unblock initial yaw alignment message
f81abd73d6 AP_NavEKF3: Update covariance prediction to yse SymPy generated equations
a61444cec0 AP_GPS: Don't reset the entire buffer when handling RTCM data
acdc939946 AP_WheelEncoder: added SMAX param docs
999c7e0dc4 AntennaTracker: added SMAX param docs
9a244eef29 APM_Control: added SMAX param docs
0a7c628355 AC_AttitudeControl: added SMAX param docs
739410953b AC_PID: added slew limiter AC_PID
709e1f8f93 Filter: added slew rate filter
d2a4505184 APM_Control: fixed bug in slew filter
a4716fb9bf AP_NavEKF3: fixed multi-core yaw reset
dc32f7a12f AP_NavEKF2: fixed multi-core yaw reset
fcccdcc936 AP_NavEKF3: fixed bug in external yaw for fixed wing
c3fd82b6d7 AP_NavEKF3: minor spelling fix
2f1ae29a9c AP_NavEKF3: extnav data gets corrected boolean
a16de76f57 AP_NavEKF3: correct extnav position as it is recalled from the buffer
225de23950 Copter: cope with race conditioning popping points on SmartRTL return
71487e9c10 AP_NavEKF3: gps_elements gets corrected flag
3d4e1cd5c5 AP_NavEKF3: CorrectGPSForAntennaOffset always corrects vel
e25579cc00 AP_NavEKF3: correct GPS for position as it is recalled from buffer
87d9beab4f Autotest: firmware page: fix html
45a35f9470 Autotest: fix html and use class on CSS
60805fdfa3 Autotest: anonimize IP on ga on autotest page
05d365f1a6 Autotest: remove jdrone logo from firmware server
4ca8f6bf1e Autotest: fix githash on python 3 for firmware html page
de927691f2 Tools: remove empty fields in autotest.ardupilot.org
c86dcf91d6 AP_InertialSensor: Run vibration monitoring on all instances
284fb53f75 autotest: integrate buildlog and BIN artifact uploads
d31d57484a travis: remove autotest and reorder compilation tests
96f7397099 HAL_ChibiOS: make PowerC primary power on CUAV-X7
b383db15c7 ChibiOS: fix cubeblack+ name and usbid
0496ecc4f6 AP_NavEKF2: remove unused state variables
a1e7c91f8e AP_NaveEKF3: reduce code duplication in setup_core
74f75dcd31 GCS_MAVLink: fill AUTOPILOT_VERSION.uid2 from get_system_id_unformatted
9714d8dde9 AP_MAth: Move the CRC24 to the AP_Math class
4c835a0df9 AP_GPS: Move the CRC24 to the AP_Math class
7c8df47ac9 GCS_MAVLink: process messages sent to broadcast system
d3ba7a8409 GCS_MAVLink: don't learn a route to the broadcast component
308bc64f35 AP_Filesystem: add support for listing @SYS files
586e9f80d5 AutoTest: break copter autotests into smaller "under 10 minute" chunks to speedup github actions CI
e4056086e0 AP_NavEKF3: minor format and spelling fixes
231a958e51 AP_NavEKF3: minor comment fix
8aba1655a2 AP_Scripting: add ahrs-print-variances example
5eae007d49 AP_Scripting: add binding for ahrs get_variances
bb25e4f6a3 AP_RCTelemetry: integrate ahrs::get_variances change
4bf4872504 Sub: integrate ahrs::get_variances change
b83ade2b07 Rover: integrate ahrs::get_variances change
0362895720 Plane: integrate ahrs::get_variances change
248d80eb37 Copter: integrate ahrs::get_variances change
6a72805f07 AP_AHRS: get_variances does not return offset
375fe22dff AP_Mount: Improve instance validation check
ea7f850738 Copter: guide mode fix for takeoff in attitude control submode
7a90ed4bb5 Copter: auto allows arming casts param to uint32_t
9104b4800f Copter: correct GuidedOptions enum after peer review
29fedff826 Copter: guided implementations moved to match declarations
5adf1d9596 Copter: guided mode angle controller sets auto-armed from run method
c1c9d87efe Copter: move auto allows_arming in mode_auto.cpp
ab42bbc43f Copter: guided mode velocity control can trigger takeoff
eb3aca7acf Copter: add GUIDED_OPTIONS to allow arming from transmitter
b0363a01b0 AP_Scripting: add copter-wall-climber example script
6d0a0ac564 Tools: added name to GIT_Success.txt
e4ccd21dd7 AP_NavEKF3: consolidate extNav height source timeouts
6989a28bfc AP_NavEKF3: allow alt from other sources when using ExtNav
0cebde0632 AP_NavEKF3: minor restructure of how fusePosData and fuseVelData are set
2e85ba6f51 AP_Periph: Restore setting node_id from CAN_NODE parameter
ef505df78a AP_NavEKF3: remove unused quat2Tbn method
53305ba2a4 AP_NavEKF2: remove unused quat2Tbn method
0eafe4b662 AP_NavEKF3: remove dangling method declarations
312cf725aa AP_NavEKF2: remove dangling method declarations
83d784c22d AP_NavEKF3: fix includes
c90265f94d AP_NavEKF2: fix includes
d4cb14b262 AP_AHRS: remove magic resetting of EKF type 1 to 2
565b29a72c AP_AHRS: remove FLAG_NONE; it's not a flag, it's a bitmask value
1ef92bb691 AP_AHRS: remove un-needed initialisations
3dc67f09fd AP_NavEKF3: remove unused innovationIncrement and lastInnovation
80f9ef7ed1 AP_NavEKF2: remove unused innovationIncrement and lastInnovation
02c9aa2ae2 AP_InertialSensor: remove unused define
9d45669a58 AP_AHRS: reuse ins object for multiple calls, simplify delta_t variable
e529d475d4 AP_GPS: use mktime for NMEA and MTK time conversion
7562eef4c1 AP_Filesystem: use mktime from AP_RTC
43af5893fb AP_RTC: added mktime(), used by AP_Filesystem and AP_GPS
01155cc5d4 AP_Param: Ignore FORMAT_VERSION param when loading SITL defaults
258083a6f2 AP_Logger: AP_Logger_File: Set custom log directory in init
cbc3384187 default_params: Sub: Add camera mount parameters
37cf09a8f9 Tracker: add auto opts param
c9362fbb70 SITL: Calculate current in SIM_Plane.
99e95666e8 AP_AHRS: remove unused AP_AHRS_TYPE define
6ee401cb00 AP_Math: Remove isnan check for non-float type
937d7bf335 autotest: add quiet option to drain_mav
c5e289efc3 AP_Beacon: Nooploop driver
49fd762f26 autotest: fix and re-enable button test
f2c63e13be AP_Bootloader: Add 3 new mRo board IDs
d865c8553c autotest: loosen takeoff check in heli takeoff to 1m
c40b5490f4 AP_HAL_SITL: stop setting of pull-up resistors affecting SIM_PIN_MASK
8885aa255d Plane: correct logger Message spelling error
4a2e5ea68c .github: remove useless testing workflow.
c2744396cc AP_BoardConfig: Update BRD_TYPE parameter description for recent boards.
52898cfdbd AP_Airspeed: remove size warning on SDP3X crc function.
7e92bbc7bd AP_HAL_Empty: remove un-needed constructor
3cce6197a1 AP_HAL: delete copy constructors
b7f0015a69 AP_HAL_SITL: add bus ownership check for simulated i2c transfers
5822d7510c Tools: update bootloaders
fb1dcdb059 HAL_ChibiOS: added BL suffix to bootloader USB IDs for two boards
418bd33c43 HAL_ChibiOS: fix CUAV-X7 power bits
25bc128248 HAL_ChibiOS: fixed periph overpower ifdef
916b35eec8 Plane: add EAS2TAS to CTUN
6304ade668 GCS_MAVLink: Change to leave the lower 16 bits.
c591e45e59 AP_OSD: get wind speed from wind vane on rover
ecd25d35f7 .github: add first github action
b61ee34b6b ArduPlane: add RC option for landing flare
a7a780ec6e RC_Channel: add RC option for landing flare
de664ae6a8 AP_Scripting: bindings: add units and multipliers to logging
5cbbe656ba AP_Scripting: add units and multipliers to logging example
a09e15137e AP_Scripting: add logging to plane-wind-fs example
420c9c9d36 AP_Param: use hal.util->set_cmdline_parameters() on SITL on reload_defaults_file()
5b356953ff AP_HAL_SITL: implement and use set_cmdline_parameters()
1c80b04544 AP_HAL: add virtual set_cmdline_parameters()
dc8d42b12d Tools: expose option --sysid into sim_vehicle.py
466a430c4f AP_HAL_SITL: add --sysid option to set SYSID_THISMAV
9eef30294f Plane: Separate soaring update in mode_thermal to avoid loop rate issues.
31c681c1cf Plane: Move soaring functions to mode_thermal.
2820228ad6 Plane: only do_change_speed within FBW min and max
2acbef5579 Plane: tailsitters in VTOL transition use FW rates
175d55a0aa AP_LeakDetector: Add navigator support
4c7af1d99f AP_LeakDetector: Add subtype check and warning message
e346cd3c80 GCS_MAVLink: fixed use of incorrect millis16() values
45f7322af6 GCS_MAVLink: avoid catching up on sending messages when sending disrupted
8f1e9ebc7f autotest: reset camera feedback rate if exception is raised
989f8c5d41 HAL_ChibiOS: fixed a race condition in UART DMA transmit
9bde294112 AP_HAL: add chargen UARTDriver example
f9324d38c9 autotest: loosen groundspeed tolerance in guided-stop function
b630aeeddf autotest: comment suspicious-looking latitude/longitude parameters
750f1d4032 autotest: send position targets once
d13f6acc66 autotest: quieten mav draining
3ebfe502d3 Copter: 4.0.5-rc2 release notes
967aa44fbe AP_Baro: Change message from AP_Baro to Baro for unification accross the file
5880628b01 hwdef: add support for CubeBlack-periph
a348e342fa Tools: AP_Periph: add support for CubeBlack-periph
e16cab0437 AP_HAL_ChibiOS: ensure we timeout while checking FDCAN register sets
5f0c553982 AP_HAL_SITL: configure filter only if in FilteredMode
ba576247f0 AP_HAL_Linux: configure filter only if in filtered mode
49915ed06f AP_UAVCAN: save some stack space
ca957519dc AP_HAL_ChibiOS: redo filter configuration to make it work with STM32H7
d1eb9e8aea AP_HAL: add FilteredCAN mode to tell driver to init as such
46827f0c91 AP_CANManager: redo filter configuration to make it work with STM32H7
e49891d605 Tools: waf: remove extraneous frame-larger-than warning
774c8583b1 Tools: make apm.pdef.xml more readable.
16469e703e Tools: Add firmware_version_decoder script
8701e3626d GCS_MAVLink: Update GCS_Dummy to use new AP_FWVersionDefine header
adda695630 AP_Common: Update AP_FWVersion struct to be used with binary parsers
75e9550bce AP_Vehicle: Define APM_BUILD_DIRECTORY as UNKNOWN if not defined
af8542b5d6 AP_ADSB: conditionally compile based on HAL_ADSB_ENABLED
150b8653a4 Revert "AP_Param: add set_and_save_and_notify()"
787d7f5254 Revert "AP_Math: add function to convert any base to any base"
a0f25640a2 Revert "AP_Math: add bitwise fetch/load 16, 24, 32bit operations"
899cc9ef5d Revert "AP_SerialManager: add support for Sagetech protocol"
8e1f5ec6cd Revert "AP_ADSB: create backend and add Sagetech driver"
f2e65ea3cd Revert "AP_ADSB: Sagetech for 2MB only"
b2eb3eb881 Revert "AP_ADSB: conditionally compile based on HAL_ADSB_ENABLED"
90b4056aa4 Revert "AP_ADSB: remove annoying debug"
ee8f50e6a5 Revert "AP_Math: fix LoadUint() to allow 32bit values"
0201692eeb Plane: Q_OPTION to disable synthetic airspeed assist
af8d6c5fc9 AP_Scheduler: add the fast loop to task statistics
530eb6d236 AC_WPNav: remove unused reached_spline_destination
99170c3954 Tools: update IO firmware
1b5551206a AP_IOMCU: fixed bug in SBUS output when scanning for FPort input
e347618210 Rover: support speed control of DO_REPOSITION
1d0735f206 autotest: add a poll_message method
d31a00a6a1 AP_Scripting: replace prearm_healthy binding with healthy
facc0ea8bb Sub: integrate ahrs.pre_arm_check
161d235c8b Rover: integrate ahrs.pre_arm_check
60b4953751 Plane: integrate ahrs.pre_arm_check
49e1e8cc16 Copter: integrate ahrs.pre_arm_check
eeaf135cca AP_Arming: integrate ahrs.pre_arm_check
eeb1a1846c AP_NavEKF3: replace prearm_healthy with pre_arm_check
b2d4622320 AP_NavEKF2: replace prearm_healthy with pre_arm_check
1d97416a51 AP_AHRS: replace prearm_healthy with pre_arm_check
02daa4c3ec AP_InertialSensor: update L3G4200D driver
1200d0e2f8 AP_HAL: add PROBE_IMU_I2C2 to linux.h
d9de6e8de9 AP_Common: UINT16_VALUE, UINT32_VALUE get parentheses around arguments
4381eff482 AP_Proximity: simplify get_horizontal_distances
e081d83185 AP_Proximity: Lightware SF45B driver
f3b193d6f8 AP_Common: add UINT32_VALUE
1858fbe951 AP_Arming: correct proximity pre-arm check msg
63a21c6c12 AP_Proximity: add correct_angle_for_orientation to backend
cf020e1d84 AP_Proximity: minor spelling fix for SF40c assert
5d31a443b6 Copter: update 4.0.5-rc1 release notes
8753d3cf8d Copter: 4.0.5-rc1 release notes
e995a198bd AP_GPS: always send GPS2_RAW if 2nd GPS configured
92f34a19d3 Plane: integrate parachute check_sink_rate
e2d41a3e04 Copter: integrate parachute check_sink_rate
4b7709f11d AP_Parachute: move sink rate check to new method
17d4e797fb AP_Parachute: formatting fixes
dbf6f6f4b1 Copter: fixed parachute checks for sink rate
b04844ca13 AP_Logger: Log all vibration instances
04633d7e1c autotest: if MODE_AUTO is disabled then we also need to disabled AFS
c86ee44264 Copter: correct compilation when AFS enabled
4136397810 Copter: correct compilation when CIRCLE mode is disabled
af53f9ce64 Copter: correct compilation when AUTO/RTL are disabled
2783257aa4 Plane: correct compilation when logging disabled
1ea3ca768c Sub: correct compilation when logging disabled
835e6fc764 AP_VisualOdom: T265 ignores position and speed for 1sec after reset
d9b90bf19f AP_Logger: VISP and VISV get ignored field
8e8b396afe Tools: improve decode-ICSR formatting
8e08d93026 AP_GPS: fixed pre-arm check on ublox M9 GPS
60b37f395e AP_OSD_Screen.cpp: add decimal precision to vspd
5e2450c4ea AP_Math: fix LoadUint() to allow 32bit values
e4f8d47423 AP_LeakDetector: AP_LeakDetector_Digital: Improve status logic
ea0d869a9c RC_Channels: redefine surface tracking auxiliary function
ad41098beb Tools: added bootloader for QuiTekZealot
86100d6316 Tools: add auto build for QioTekZealotF427
f04de7d610 HAL_ChibiOS: Add  QioTekZealotF427 build target
11b3c622dd AP_BoardConfig: allow more serial ports to have flow control
702a3926f8 HAL_ChibiOS: setup defines for more flow control pins
5e80b10396 HAL_ChibiOS: enable telem3 on Durandal
29775f310e Tools: flesh out decode-ICSR tool
6711c479de SITL: fix RPLidarA2 instructions and diagnostic output
9f3afe5434 Plane: update release notes for 4.0.7beta1
e471b23f58 HAL_ChibiOS: add a max quota of GPIO interrupts
965af98f4a AP_InternalError: added an internal error for GPIO ISR overload
c62b86e3c1 AP_HAL: added timer_tick() on GPIO
56790625b8 Copter: stop passing unused inav into autorotate library
4bbf623cac AP_Soaring: remove unused variables
914316a529 AP_RangeFinder: remove unused variables
460bb7291e AP_Proximity: remove unused variables
b024ff8ea4 AP_Notify: remove unused variables
3a8751d8a7 AP_NavEKF: remove unused variables
10e0646251 AP_Generator: remove unused variables
0eb34912cf AP_ADSB: remove unused variables
12af51e356 AC_Autorotation: remove unused variables
57373180d1 AP_LeakDetector: Remove not used LeakDetector_Type enum
8c32392d73 Rover: fix speed nudge
8b3cc0b255 Copter: fixup auto options
50dfe3f197 Copter: Add AUTO_OPTIONS and support arming and throttle bypass
2b13ad35ec AP_OLC: remove use of algorithm header
8465588467 AP_OLC: clean namespace and use constexpr instead of init method
4eeccb61cd WAF: Add AP_OLC to build
b00d3e00bc AP_OSD: Add OLC (pluscode) element
481d72255f AP_OLC: Open Location Code support
0a4ea250ad AP_HAL_ChibiOS: disable CANFilter on H7 boards temporarily
a5a13f37c9 SITL: adjust for START_STOP_D now not polluting global namespace
6cbb553adc AP_Frsky_Telem: reformat new filed using astyle.sh; no history to lose
9c211d9847 AP_Frsky_Telem: move #defines to be static const members of AP_Frsky_Backend
0bb7a31850 AP_Frsky_Telem: move all method implementations into correct files
05d7950261 AP_Frsky_Telem: frontend/backend split
fb467da473 Plane: use Plane target yaw for ATT log
6621b69836 Plane: log quadplane transision state
f972d3dc2f Plane: Quadplane: tailsitter only change view once transision is complete
b61cf72b8c Plane: tailsitters in Qassist inherit motor state
d0e885764d Tools: build_binaries_history.py: make size printing more pretty
abacfc93cc .gitignore: ignore build.tmp directory on docker
ae29697504 Tools: build_summary: make binary path a string
4e064ef812 AC_Circle: add Circle options
ac8dc26d41 AP_Filesystem: increase tasks buffer size
958c19543f AP_Scheduler: print task total time as a percentage of all tasks time
608e1dcdc4 AP_WindVane: report apparent wind with named float
84f3e70b10 AP_Compass: add set_dev_id when initialising HIL
13e5e03a0d ArduSub: move orderly rebooting code from GCS into AP_Vehicle
7cb8cde417 GCS_MAVLink: move orderly rebooting code from GCS into AP_Vehicle
3aabb45059 AP_Vehicle: move orderly rebooting code from GCS into AP_Vehicle
e7a49dd624 GCS_Mavlink: refactor zero_rc_outputs() out of GCS_Mavlink
bc7c5a0c8e SRV_Channels: refactor zero_rc_outputs() out of GCS_Mavlink
d37624ccd6 Sub: remove stale MAGNETOMETER config option from config files
b03b3041e0 Copter: remove stale MAGNETOMETER config option from config files
cfcd17f0d1 Plane: fixed bug in RC_Channel::has_valid_input
f5a04fd1a3 AP_NavEKF3: shorten buffer size send_text message length
ff80be19c1 AP_GPS: fix type and update reserved bytes in ublox PVT
de1dec819c Rover: calc_steering_from_turn_rate remove args
f33d197b16 AP_RCProtocol: fix fport rssi
7398529f6b AP_NavEKF3: minor format fix
abab203b32 SITL: remove zero initialisations, move more into class definitions
da5da6b14e Tools: added Qiotek ZealotF427 board ID
27720f2235 Tools: Replay: Move from uint to uint32_t in MsgHandler
174dc3b032 AP_BoardConfig: disable watchdog in examples
5a535b25e3 AP_ADSB: remove annoying debug
589382cbb4 Plane: Add THERMAL mode to Parameters.cpp metadata.
bd28a62155 autotest: Update soaring test for THERMAL mode.
eb8c4561f5 mavlink: update submodule.
8c856b3ed2 Plane: Add missing  Q_OPTIONS metadata for all options
0c88af99da GCS_MAVLink: revert removal of private channel check when forwarding
8e6cde25dc AP_Logger: keep pointer to link rather than using its ->chan
1ee03a0d2e AP_Common: Add missing const in AP_FWVersion variables
9c42c0f176 AP_Baro: remove unnecessary debug on DPS280
e22f7ed353 Copter: remove duplicate include
d16872cca5 Plane: compile out ADSB mode if required
38c52acf9b AP_Filesystem: add simple File I/O example
4b747430e1 HAL_ChibiOS: save 2k in f103 bootloader
6fb973081b AP_HAL_ChibiOS: enable all I2C compasses by default for f103 boards
0e8c8c29a8 HAL_ChibiOS: fixed f303-MatekGPS build
246e790484 AP_Bootloader: use new hal CAN interface for CAN support
a79efaeb1d AP_HAL_ChibiOS: hwdef: add support for HAL CANIface based bootloader
4bfd3c0782 AP_Bootloader: add support for HAL CANIface based bootloader
882c86c394 AP_HAL_ChibiOS: add app start offset to leave space for params
22ab426cf2 AP_HAL: make bools to use single bit in CANTxItem
72cf040f81 AP_Compass: add option to selectively disable Compass I2C backend
0ca2f56b71 AP_HAL: add support for external buffer to be used in ByteBuffer
5ab6916a41 AP_Periph: use HAL CAN Drivers instead of ChibiOS's
9aa0970eed AP_HAL: disable protocol drivers for bootloader builds
b8e3d9c6e8 AP_Bootloader: add fail reason bad length
2edcd852eb AP_Bootloader: add support for app start offset
1f16aa8360 HAL_ChibiOS: add hwdef for CubeOrange-periph
eab0507d37 Tools: waf: add build for CubeOrange-periph
d8852615ed AP_UAVCAN: disable UAVCAN library when libuavcan drivers are disabled
62df67a4b8 HAL_ChibiOS: hwdef: modify to use HAL CAN driver instead of ChibiOS's
36ffcdae30 HAL_ChibiOS: modify hal can drivers for use by AP_Periph
c7d69e4d13 AP_HAL: disable CAN Protocol Drivers for AP_Periph
b27092c651 Tools: waf: don't do uavcan build config for AP_Periph
b6f92989a7 AP_Soaring: Only compile if HAL_SOARING_ENABLED.
10111f92d5 Plane: Rename SOARING_ENABLED to HAL_SOARING_ENABLED and don't compare to ENABLED.
fe6c4d9290 autotest: Update for THERMAL mode.
0a738395fa Plane: Add THERMAL mode for thermal soaring.
2d898c8fea ArduRover: Use new AP_FWVersionDefine header
6a63eb65cc ArduSub: Use new AP_FWVersionDefine header
c19801d420 ArduPlane: Use new AP_FWVersionDefine header
ec153f59a2 ArduCopter: Use new AP_FWVersionDefine header
1528d937fc AntennaTracker: Use new AP_FWVersionDefine header
be4f2f0c79 AP_Periph: Use new AP_FWVersionDefine header
e81f9fccd9 AP_Common: Add new AP_FWVersionDefine header
536e2db947 Tools: sim_vehicle.py: add --disable-breakpoints commandline option
a62a7e0bd1 SITL: correct Webots README.md
64461dba5e autotest: fix Copter motortest test
d5722b15e9 AP_ChibiOS: fix configuration number in OmnibusF7V2 hwdef
6b0d146d92 Sub: Version to 4.2.0 DEV
669622c614 autotest: improve use of SITL-is-running
41ab59dcdb AP_Motors: eliminate flags structure
798c3fd0b7 AP_Baro: examples: BARO_generic: instantiate sitl to fix nullptr panic
15372e9213 ArduPlane: replace '@User: User' with '@User: Standard'
d26b2a6f9a AP_TECS: replace '@User: User' with '@User: Standard'
d20c6ceb3b APM_Control: replace '@User: User' with '@User: Standard'
ffb87e68c5 AP_Landing: replace '@User: User' with '@User: Standard'
3569c4d979 AC_PrecLand: correct @User field in ACC_P_NSE documentation
fdb31a6419 autotest: param_parse.py: validate @User field to be Standard or Avanced
7c64f1f685 mavlink: use instance markup
b48d2d9631 Tools: remove empy from configure-ci.py
0b247a6e1a Travis: remove useless packages
37691c751c Tools: replace message indicating that initialisation has completed
0fb33f8196 Rover: replace message indicating that initialisation has completed
f9b7020ac3 Sub: replace message indicating that initialisation has completed
c67a924801 Plane: replace message indicating that initialisation has completed
813bc2e08a Copter: replace message indicating that initialisation has completed
27822aede3 Tracker: replace message indicating that initialisation has completed
fb27dbbd4f AP_Vehicle: replace message indicating that initialisation has completed
de8002ab5e AP_HAL_ChbiOS: ALT config to enable UART3 in place of I2C
9fef5b1e94 AP_Scripting: remove compile errors and warnings
5d487be242 GCS_MAVLink: squash enum type error
ad895c2654 AP_HAL: ringbuffer get_size cannot be const because of semaphore
940d708438 AP_UAVCAN: conditionally compile in ADSB support
93ac301b19 RC_Channel: conditionlly compile in ADSB support
32cd6b487e AP_Avoidance: conditionally compile based on ADSB support
465357e715 AP_ADSB: conditionally compile based on HAL_ADSB_ENABLED
2f985c77d8 Tracker: conditionally compile ADSB support
aa64ab0501 Rover: conditionally compile ADSB support
ebef358922 Sub: conditionally compile ADSB support
c057be8ed1 Plane: conditionally compile ADSB support
b8f613c965 Copter: rename ADSB_ENABLED to HAL_ADSB_ENABLED and remove from config
fc67c2c13b Plane: check AP_Motors has init correcly for Quadplanes
152e2366f0 AP_Motors: Tri: dont check yaw servo on plane
7726848a50 waf: lock in zero errors for gcc9
0ba256f625 HAL_ChibiOS: fixed warning on gcc9
1000371d8a AP_SmartRTL: fixed build warning on gcc9
90cd2a38b6 HAL_ChibiOS: fixed gcc9 warnings
fabbbea0b4 AP_Fileystem: fixed gcc9 warning
dc0084a2b2 AP_Logger: only write final log out a page at a time to avoid lock contention
4f7047797e AP_GyroFFT: reduce locking to avoid contention and match thread priority to IO
f25a1e7a0d AP_Logger: fix description of BAT.Res
8a4b0f858a AP_NavEKF3: reset body mag variances at key points
e9185f526b AP_NavEKF3: add comments on state indexes
35e95d3328 AP_NavEKF2: reset body mag variances at key points
8920362212 AP_Compass: default SITL compass to having scale factor set
1f21d72c79 AP_NavEKF3: fixed init of earth state mag variances
534e63e2fa AP_NavEKF2: fixed init of earth state mag variances
d6dcbda0d3 AP_NavEKF2: removed duplicate compass switch check
1fce38c62a AP_ADSB: Sagetech for 2MB only
4ac6a647d7 Tools: add boogie-board-boat frame params
399c7eda16 Tools: added name to GIT_Success.txt
db10ad2e54 Plane: update USE_REV_THR param description to include landing pattern
c4ab7caa33 Plane: add reverse_thrust option when in landing pattern
043a3ba06e AP_Mission: add accessor for in_landing_flag()
f364dc933d AP_Mount: remove unused GPS.h include
c64f286333 AP_ChibOS: add UART7_RX to OMNIBUSF7V2
d036b57de3 AP_Logger: stop logs safely in the block logger and asynchronously where possible
46d4d9a97e AP_OSD: use cleaner conditional compilation for the various OSD options
460293d6a8 Tools: update CubeOrange_bl
575a56a6b6 hwdef: CubeOrange: do power reset on peripherals and sensor at boot
a2ee82d8d9 hwdef: use inv2 sensor checks in CubeOrange
b390f402b7 AP_BoardConfig: do bank selection when checking Invensensev2 Sensors
ab1d0d53f3 AP_Camera: keep trying to initialize RunCam after boot
2db57dffac AR_AttitudeControl: update param desc increment and range
5a0e8daf61 Copter: fix 4.0.4-rc1 release notes
2c14463368 Copter: 4.0.4 release notes
5b71726c73 Copter: poshold wind effect comp limited to 2/3rds of angle max
3cc985332d AP_ADSB: create backend and add Sagetech driver
b74c22864d AP_SerialManager: add support for Sagetech protocol
bd445bafc4 SITL: update ADSB sim to use squawk=1200 and set all valid flags
6efaa29577 AP_Math: add bitwise fetch/load 16, 24, 32bit operations
935cb39dff AP_Math: add function to convert any base to any base
b502582d14 AP_UAVCAN: replace old hardcoded value with new mavlink enum
96a2aa485a AP_Param: add set_and_save_and_notify()
1075e13352 autotest: stop set_parameter from using get_parameter
3e708b9b29 Tools: build_parameters.sh: compress parameter xml files
9e148f245b autotest: param_parse.py: correct parsing of Values fields
4ebde78bbf AP_HAL_Linux: throw warning if we ever stop-clock backwards
0d396f4235 AP_Vehicle: don't do any GCS stuff in delay callback if we're Replay
29d042dbc7 AP_Vehicle: Replay now creates vehicle singleton reference
1cefd2943b Replay: correct various atrophications in Replay tool
6cc6daa150 Rover: add support for MAV_CMD_DO_REPOSITION
3da00b482e waf: enable -Werror for whitelisted compilers on ChibiOS builds
4bfdd973a4 AP_MSP: fixed build warnings for MSP with AP_Periph
8c1bc94053 AP_GPS: fixed build warnings for MSP with AP_Periph
bfa2feb8d8 AP_Compass: fixed build warnings for MSP with AP_Periph
7daf8d3cd4 AP_Baro: fixed build warnings for MSP with AP_Periph
ae2e84b3df AP_Periph: fixed mavlink build warnings
27a85ef51c AP_CANManager: fixed build warning for stack size
cd1502ab72 SITL: fixed string warnings
6803408453 AP_UAVCAN: fixed string warnings
930726ca9a AP_Logger: fixed string warnings
8b95fac214 Tools: added --Werror option to autotest.py
ab54f8805a Copter: guided mode checks dest before changing submode
ca95e7865a AP_OSD_Param_Setting: fix copter FS_OPTIONS mnemonics
45b42e290c travis: name the test jobs
3f2c06f8c0 build_ci.sh: correct cron job check against 'linux'
f350bfba78 SITL: JSON: don't warn for none required sections
2bc7d17e7a AP_NavEKF3: improved core comparison to check alignment
067001bd61 AP_NavEKF2: take into account alignment when comparing cores
0bb44ba933 waf: print compiler version as part of configure
466d61a881 Tools: build_log_message_documentation.sh: compress log message documentation files
5ea1fde6ee RC_Channel: update RCx_OPTION's Values order
96dd354131 AP_ICEngine: check for valid RC input for ICE
890fc96d20 AP_ICEngine: added ICE_STARTCHN_MIN
54c827a792 AP_ICEngine: Initialize start_chan_last_value and catch RC values less than 800
23da0ea8b6 AP_ICEngine: add debounce to RC input for ICE_START_CHAN
5c22e9e105 Revert "Tools: make non DEBUG SITL use -march=native"
f235c620b2 AP_CANManager: Remove Param keyword identifier
f5172cdecf AC_Avoid: hide params with enable flag
f78a09ba2a AP_OSD: fix white space error preventing emit to Wiki
3bbac765f0 AP_Logger: correct units on raw accel data
94d2f4ea0e SITL_AirSim: moved NED position initialization out of always false if -statement
4ed486bb92 AC_AttitudeControl: revert Add PosControl PID logging
36dee8791a AP_Logger: revert adding PSCP log structure
3e882fcad8 autotest: loosen mag-percent-complete threshold to 95%
f0c237d88e autotest: bug fixes for ekf lane switch test
c109df3dd5 AC_AttitudeControl: Add PosControl PID logging
9753a20404 AP_Logger: add PSCP log structure
e955b431ef AC_PosControl: move to structure logging for PSC
02c225ee93 AP_Logger: add structure for PSC message
1565c69943 AC_HELI_PID: spelling in comment, leaded -> leaked
796cc72344 autotest: remove parameters with default values from copter.parm
f926dc62ed AP_Soaring: Reduce default value for minimum cruise time.
e0f524d425 Plane: Soaring: Use circling time as timeout if less than 20s.
6de4967a3d autotest: Fix typos and unclear comments in soaring test.
ad48394b50 Plane: Add comment to clarify additional 10m in soaring altitude target.
87530c1b2b Plane: Soaring: Remove exit_mode argument from soaring_restore_mode.
f6017d60bf autotest: Update for new soaring behaviour.
59f4c7a3c0 Plane: Allow auto climb back to SOAR_ALT_CUTOFF when soaring in FBWB or CRUISE modes.
440d17e0de AP_Soaring: Add accessor for SOAR_ALT_CUTOFF.
dd8361ba33 AP_RangeFinder: remove default case from Rangefinder init switch
04b3b1f4c2 AP_OSD: re-enable OSD parameters on 1Mb boards since it wasn't doing anything Make sure OSD parameters can be disabled in hwdef.dat
570fd59c39 AP_HAL_ChibiOS: disable OSD parameters on F7 1Mb boards with SD cards
85b599b2d7 Tools: make non DEBUG SITL use -march=native
866405c7df AP_HAL_SITL: fix segv in examples
995cda6363 autotest: stop taking off when we're already in the air
e261a612b1 autotest: move navigator and unit-tests as out-of-time on embedded/sitl job
9665421a9c AP_Scripting: Walking robot naming fix and height control
e21e720b12 SITL: walking robot script direction fix
9248272baa Rover: walking_height input sent to motors
c1ff69794c Rover: rc_channel inits height input channel
9968b2f52c RC_Channel: add height input channel
6b242bf1db waf: add flash_total to apj file
1ffbbb2896 HAL_ChibiOS: added FLASH_TOTAL to environment
0f5f040380 autotest: send all progress messages to autopilot
d997ca8779 autotest: pass calibration test even if 98% complete before success
eab127ffa3 AP_OSD: disable OSD parameter support on 1Mb boards
bbaaf7d66f AP_HAL_ChibiOS: disable features on KakuteF7 and OmnibusF7v2 to mirror KakuteF7Mini
c483c04d4b AP_OSD: separate parameter screen
13676f9784 AP_SerialManager: add number of serial protocols to enum
0fa62acd7f mavlink: update to OSD messages
8b766efb0a GCS_MAVLink: add support for updating OSD parameters over mavlink
7aa98d55eb AP_Param: expose the stable key for use by AP_OSD add support for finding parameters by name and returning the token
88d8cdadb7 AP_Camera: make runcam check for osd menu before entering osd menu
2c19152644 AP_Arming: arming check for osd menu
8aeee4bc83 SITL: SIM_JSON:: add support for apparent wind sensor
917358e4a5 AP_WindVane: add apparent wind SITL types
2764126a1c SITL: add apparent wind sensor support
51b54d3740 autotest: avoid leaving message hooks around
32de8d78ab AP_Scripting: Add Heli_IM_COL_TUNE applet and readme
39788aa4f7 AP_Scripting: Add rc norm_input_ignore_trim binding
5b5b9d57a1 AP_Scheduler: add per-task performance information accesible from @SYS/tasks.txt
f70f13e620 AP_Filesystem: add support for @SYS/tasks.txt
d53045db10 AP_Soaring: minor spelling fix
29a2be2d63 Copter: minor comment fix
8aeec6c4d1 AP_PiccoloCAN: Constrain ESC command message rate
21ffc0f663 AP_PiccoloCAN: Change #ifdef guard to prevent compiler error
fc29e40463 AP_PicolloCAN: Load PiccoloCAN parameters from EEPROM
09d38f8729 AP_PiccoloCAN: Fix logic to improve readability
818e7f2cdf AP_PiccoloCAN: ESC message rate is now in Hz
5c53c17076 Remove parameters related to CAN servo operation
66812c72da AP_PiccoloCAN: Specify which ESC channels are used
17932e3d1d AP_PiccoloCAN: ESC command rate now configurable
a98babc02c AP_PiccoloCAN: Add user configurable operations to adjust Piccolo CAN ESC behaviour
c78dcb15a1 AC_PID: remove dead get_ff(float target) method as per TODO comment
1c1caa9374 AP_Winch: correct Daiwa line lengtha and speed scaling
90e488d29d HAL_ChibiOS: set airspeed type in f303-MatekGPS fw
9f5b068d9e Plane: Handle EXIT_COMMANDED return status in soaring.
861b57cb09 AP_Soaring: Add EXIT_COMMANDED status used when pilot changes switch position when thermalling.
666314216d travis: move forward from xenial to focal
0f7f9a22fd Tools: added Matek GPS and airspeed builds
bc21e505e3 AP_RangeFinder: aligned msp message data struct name to gps,baro and mag
efca0c04eb AP_OpticalFlow: aligned msp message data struct name to gps,baro and mag
747bf73fec AP_MSP: aligned opflow and rangefinder struct names to gps, baro and mag
e95a44e73c HAL_ChibiOS: run f303-MatekGPS at 10Hz
bea9769b82 AP_Logger: log unhealthy barometers
7ae64d20aa AP_Vehicle: init MSP earlier
a9ca78532e Tools: added MSP bus type to decode
4b1552eebe AP_HAL: added BUS_TYPE_MSP
c7b03dc936 AP_OSD: added missing OSD types to param docs
5e88a856e9 AP_Compass: support for MSP compass
ea53ce2a3f AP_Baro: support for MSP barometer
94670879f8 AP_GPS: allow hwdef.dat override of GPS rate
85b61d6bf3 AP_GPS: added support for MSP GPS sensors
266b747ffc AP_MSP: added support for MSP sensors
844db20db0 HAL_ChibiOS: use a default node ID for f303-MatekGPS
9c24415f86 AP_Periph: support output of MSP sensor data
5647aadbcf AP_GPS: added API for getting last iTOW
5f5c7735a3 AP_MSP: support AP_Periph MSP send
9c7568eb5f HAL_ChibiOS: enable MSP output for f303-MatekGPS
f4320c935c AP_HAL_ChibiOS: fix kakutef7/mini motor glitch when using dshot
4d59939db6 AP_BattMonitor: create and use new AP_HAL::PWMSource object
abfd995fff AP_RSSI: create and use new AP_HAL::PWMSource object
72b49efc78 AP_RangeFinder: create and use new AP_HAL::PWMSource object
55f72c1534 AP_HAL: create and use new AP_HAL::PWMSource object
9228f47dc9 autotest: create collections-on-context to record selected messages
f3866e5f39 autotest: disable button test
e9b8a20312 Plane: fixed hover learn in quadplanes for THR_MIN>0
7c5a0a6a43 Tools: disable LOG_REPLAY by default in autotest
c03c43e52c AP_NavEKF3: use same mag switch pattern as EKF2
da7bb44a61 AP_NavEKF2: Consolidate magnetometer timeout checks
37866ec3cf AP_Compass: fixed compass logging when first compass unhealthy
80ef6fa7f2 Tools: added a MagFail test
3836b59041 AP_NavEKF3: fixed handling of failed compass
6b9e595602 AP_NavEKF2: fixed handling of failed compass
c2feebea13 AP_Compass: allow simulation of compass sensor failure
bf9c76a5c3 SITL: added SIM_MAGn_FAIL parameters
5c2b478feb SRV_Channel: remove unused set_output_pwm_first method
629f2153e0 Plane: move arming delay logic into AP_Arming_Plane
2b4772269d Plane: tiltrotors: allow vectored yaw motor tilt when disarmed
bcdd16025b Plane: replace AP_MotorsMatrixTS with AP_MotorsMatrix
d3c1838fbe AP_Motors: remove AP_MotorsMatrixTS
dba3158446 Copter: correct mode change for GCS failsafe in SmartRTL mode
d508ba97c5 autotest: add test for SmartRTL getting another GCS failsafe
397b95154c Copter: remove superfluous RETURN_TARGET_ALTTYPE_ from enum class names
74686f8dc4 GCS_MAVLink: fixed locking of mavlink in serial control
a547af97c6 AP_OSD_Screen.cpp: fix aviation unit vspd sym
fbc0b9e599 AP_UAVCAN: silence function cast warning/error for Registry template
3c0d4b6d5a autotest: Add start time argument and parsing.
21a8471d2d SITL: Add start time argument.
63fdac0048 AP_HAL_ChibiOS: add USART3 as alt config on OmnibusNanoV6
e81b6e1f17 travis: shift tests around to avoid 50m limit on travis
d6e3b5834a AP_MSP: change font to fix arrows and added --font and --list-fonts
ad6a1af2fc AP_MSP: cleanup after control-C
c83fd8edf2 AP_MSP: fixed use of float in pygame for py3
a9ecac4fff Tools: added --osdmsp option to sim_vehicle.py
65b70dddb2 AP_MSP:msposd.py added a DJI look and feel to some items
51cec414cb AP_MSP: fix capacity in battery state message
52599a4aaf AP_MSP: converted more messages to PACKED structs
ed21f9a8c7 AP_MSP: fix separate enable of MSP opticalflow
67ed957bf0 AP_MSP: removed unused parameters (using OSD_* instead)
815f813d34 AP_SerialManager: allow for other baudrates for MSP
7159283e33 AP_MSP: fixed valgrind warning with RTC msg
240c34ecde AP_Math: add missing ; on benchmark test
2e60f361fa Tools: ardupilotwaf: remove '-Werror=suggest-override' from benchmark to prevent failure
9d9cf2501a Tools: disable Gtest and testing on Gbenchmark build
37475e2b90 module: update gbenchmark to lastest release to prevent some warning
65268ee3d4 autotest: more button-test fixes
6203e0685e autotest: disable MAG orientation test
0b9d9fc284 autotest: use StringIO correctly
5c554221c7 AP_Logger: address review commenst from #14299
76ee7bec77 AP_CANManager: fix skipping driver init for disabled slcan iface
f823848697 Dockerfile: use DEBIAN_FRONTEND=noninteractive as ARG ie just on build
31338f955b Tools: allow to skip completion installation
6ebc7622fe autotest: comprehensive dataflash test
ccb583d092 AP_Logger: make block logger conform to mavlink expectations of numbering
11417ac3a7 Tools: build-ci: use python -m pip for easier pip version management
7648413f8c Tools: configure-ci: use python -m pip for easier pip version management
4e9848ab3a HAL_ChibiOS: fix sdcard param init
96f5e2a20a Plane: Update THR_FAILSAFE param metadata
bfc35db8ff travis: Remove global compiler variable
050334273e Tools: Remove trailing spaces of build_ci
670e7272e2 travis: Add navigator target
30e2aad6b9 Tools: Add arm-linux-musleabihf toolchain
ee4f267743 Tools: Add navigator test in build_ci
2ea41b7997 autotest: spit out actual simulated mag orientations as part of debug
a44defc49e SITL: Disabling debugging cyclic messages
27b1ce572e AP_CANManager: fix comms between SLCAN and second CAN Iface
689902cb69 waf: moved include of ap_config.h into configure step
d905282c1e AP_HAL: Don't redefine allowing double math in SITL/Linux if already defined
56b743dfca AP_GPS: build SBF driver with double precision
24425b4155 waf: allow setup of double precision for some cpp files
6a8680d31d AP_GPS: Send RTK baseline data from SBF
93bcfc4c3e Plane: Assign flap channel in set_control_channels() to avoid expensive call in set_servos_flaps().
590ebb180c Plane: Update airbrake channel assignment in set_control_channels() to avoid expensive call in airbrake_update()
f1290a2e17 Plane: Add use of airbrakes, used when throttle is negative OR via RC channel option.
e9b3c54e6d AP_Rangefinder: Add SITL option in param description
0f66936353 SITL: Airsim: Add support for rangefinder sensor data
6085614364 SITL: Airsim: Resend servo output after timeout
829cd29d7c SITL: fix when speedup is specified as a startup parameter
1f3c24d436 AP_RCProtocol: put back DSM VTX control and logging, add tests
c6e45dd536 AP_Param: add set_and_save_ifchanged for Vector3f params
de6b48f922 AP_Compass: set only if changed to save space in param storage
5a8b1639d0 autotest: fix nmea output test
3a252a042b HAL_ChibiOS: fixed fast sampling on F32Lightning
cfc59497f6 AP_InertialSensor: trigger internal error on persistent IMU reset
b20279e452 AP_InternalError: added imu_reset error
1488142d88 AP_MSP: fixed system ID
f330d5aa77 AP_MSP: run new MSP code through code style script
d8ed210b98 AP_MSP: cleanup namespace handling
3517ab9c45 AP_OpticalFlow: allow separate enable of MSP opticalflow
34430e9d6c AP_RangeFinder: allow separate enable of MSP rangefinder
87cf7b58ae AP_MSP: added sample OSD enable params
5358c1e476 AP_MSP: handle utf-8 in string display
8ca9af72e0 AP_OSD: prevent startup segfault
844d2bf7ff waf: enable MSP when we enable OSD
8319b7b6b7 AP_MSP: check for MSP rangefinder enable
84f7589f2d AP_RangeFinder: allow separate enable of MSP rangefinder
4a8290508d AP_MSP:Tools: added more OSD items and messages
cfc7823af8 AP_MSP: fix missing memset for battery_state struct
0e55a63be2 AP_OSD: skip backend drawing for boards without font backends
25746ef27e AP_OSD: avoid building MAX7456 driver without an SPI device for it
6f04b4a5ec waf: added --osd-fonts configure option
491e82159c HAL_ChibiOS: add HAL_WITH_SPI_xx defines for SPI devices
17173871a4 AP_RangeFinder: fixed non-MSP build
f3a0ba0138 AP_OpticalFlow: fixed non-MSP build
27acdf1800 AP_MSP: fixed values for MSP_OSD_NCELLS param docs
d9da06b9e4 AP_MSP: fixed constrains in analog and battery MSP msgs
5dba8ab9c8 AP_MSP: convert more MSP msg parsing to new system
c31bab2a85 AP_MSP: don't send zero length MSP packets
f033aaf5bd AP_MSP: fixed ESC telem data send
952a3956a9 AP_BLHeli: added have_telem_data() API
05f4bf0b32 AP_MSP: fixed viewer for py2 and py3
5a7f81b5c3 AP_MSP: use more compact message format for most messages
24a6cfe36c AP_MSP: fill in millis for RTC
c4092ca57a AP_MSP: don't send ESC_SENSOR_DATA when not enabled in build
449883c7f1 AP_MSP: added python MSP FPV viewer
7c579c4814 waf: added --osd configure option
cea2eadd16 AP_MSP: make MSP packing smaller and more efficient
b658edfa20 Tools: added MSP
6a0531c08a AP_Common: added missing bit set/clear functions
9efc4602af AP_BLHeli: integrate MSP protocol with existing blheli inplementation
144f7df02f AP_Math: added CRCs needed by AP_MSP
7170adf50e AP_OpticalFlow: added support for MSP based flow sensors
699ffcbcd2 AP_RangeFinder: added support for MSP based range finders
b8b285b359 AP_OSD: added support for an MSP based OSD
234ed303fe AP_SerialManager: added support for the MSP protocol
7f789fb443 AP_Vehicle: added support for the MSP protocol
80eca32604 AP_MSP: added Multiwii Serial protocol (MSP) v1 and v2 support
522c3e6281 autotest: make LogUpload the last test again
d25908a1c9 AP_HAL_ChibiOS: keep a backup of storage for last 100 boots
23ba2002e8 autotest: dump final mag cal report verbosely
6027553b85 AP_SerialManager: Add missing baud rate documentation
9e86355734 AP_Scripting: quadruped.lau fix after review
f344363404 AP_Scripting: quadruped.lua logic test fix
a4c7aa6386 AP_Scripting: quadruped.lua fixups after peer review
28026176f6 AP_Scripting: quadruped example formatting fixes
1a6a623295 AP_Scripting: quadruped example script
9ea390e24b SITL: pybullet script for walking robots
485eb3fa88 Rover: roll and pitch input sent to motors
2d4deb505d Rover: rc_channel inits roll and pitch input channels
d5316edde7 RC_Channel: add roll and pitch input channels
b0f9f9993f Rover: guided consumes set-pos-target-local-ned as offset from origin
2398b5dec4 Copter: guided consumes set-pos-target-local-ned Z-axis as offset from origin
80e2dbc9f2 GCS_Common: send_local_position uses offset from origin
56e44c46ca AP_HAL_ChibiOS: disable IMU fast sampling on F35 / WingFC10
abee62abc4 Plane: use throttle in for transition max comparison
74c47827d9 autotest: drain stdout of SITL binary
e8fa4e1351 autotest: disable autotest for altitude prearm check
397e134106 autotest: quieten RTL
065d03dd30 autotest: add a timeout in the button test
c01b26ca62 autotest: fix race condition in EKF type 10
cafc5b01f4 autotest: fix race condition in Rover RTL test
43cdceba8f autotest: tweak wait_ready_to_arm
b7641345e1 autotest: set and get parameters directly using mavlink message
ba91cbb270 autotest: correct sub parameter name PSC_VELZ_P, fix test to match
75aa8b7e6e Plane: log speed scaler into AETR
084ec2bb5a Autotest: copter: fix wait_for_alt for descending wait
ebd13ac84e Tools: copter: wait_landed_and_disarmed: use wait_for_alt
7fbf11061f Tools: copter: add wait_rtl_complete function
3080899b43 Tools: copter: add wait land and disarm functions
3b5bd9956d Sub: remove dangling method declaration
9cdda81e9c RC_Channel: correct case in AvoidAPRoximity function string
936511a720 Autotest: common: correct some text format
5b72de25e0 Autotest: update wait_distance_to_home
30f9fd9d2a GCS_MAVLink: fixed overrun of text passed to other libraries
b18928e28e SITL: fixed SIM_IMU_COUNT conflict
afa810041b Copter: 4.0.4-rc4 release notes
458ade86f5 AP_NavEKF3: fixed segfault when IMU mask covers more IMUs than GSF mask
6ee527d3e0 AP_NavEKF2: fixed segfault when IMU mask covers more IMUs than GSF mask
d5c0522651 AP_InertialSensor: instantiate SIM_IMU_COUNT sensors in SITL
c16467a47f SITL: added SIM_IMU_COUNT
8373862f39 AP_CANManager: constant slcan via serial manager protocol param
119462aeb1 build_binaries.py: Python3 fix
a4e7c72635 AP_AHRS: removed duplicate implementation of airspeed_estimate()
b5b3298f0a AP_AHRS: get airspeed estimate from non-primary instances too
d7c569c085 AP_Baro: able to freeze baro using SITL parameter
952c14ed33 AP_HAL_SITL: add GPS Velocity Error through a SITL parameter
464c90a03c Tools: add an EKF3 lane switching test to plane
8507c7d3b9 SITL: add some airspeed, baro, gps noise simulation parameters
09620ee1e7 AP_HAL_SITL: use airspeed noise as pressure noise
505953bdb2 AP_Airspeed: added get_num_sensors()
326ab0d7b8 AP_Baro: added get_primary() method
edc3709653 AP_NavEKF3: implement sensor affinity using EK3_AFFINITY parameter
9588a68e1b AP_Logger: added logging of baro, gps, airspeed to XKFS
d7edc946b6 AP_NavEKF3: Relative Error based Lane-Switching
56cbcb42ee AP_NavEKF2: Add core relative error and errorscore logging in NKF3 packet
775a40e4cc AP_Logger: Add RErr and ErSc fields to NKF3 log
16b499d0f6 Autotest: allow to select which GPS flags we want to wait for
c265a38344 Copter: add gripper release FS_Option
af1bdcfdfc AP_Scipting: fix memleak on generator
caf5bfed59 AC_Avoid: Added new OA type (Dijkstra + BendyRuler fusion)
80bee19bc9 autotest: correct race condition in button test
3ae83d70b1 autotest: ensure df log is present for rangefinder tests
6e24880f87 AP_Common: missing: Add definition for strndupa
5746943f50 AP_HAL_Linux: Use pthread_self in place of _ctx
248daa85a1 AP_HAL_Linux: Scheduler: Use pthread_* over sched_* calls for setschedparam
11c19a2dde AP_HAL: RCOutput_Tap_Linux: Include arm/ioctls.h
420587fb68 Tools: logger_metadata fix relative dir search
a181fcf8a2 Autotest: common: put generated parameter and LogMessage files into buildlogs directory
f6f418605f .gitignore: add LogMessages output to ignore list
a523868b33 autotest: fix Beacon test
155b39bab3 autotest: added loiter-to-alt test mission
bf0f359445 Plane: fixed LOITER_TO_ALT with terrain target
46a7e96c48 AP_NavEKF3: readRngBcnData avoids array overflow from beacon count
660579f2f4 Tools: fix copter beacon test params
b314195f6e AP_NavEKF3: minor spelling fix
b86e16e927 AP_NavEKF3: readRngBcnData gets minor formatting fix
384029d278 AP_NavEKF3: rngBcnDataNew made local
8c877f02af AP_NavEKF3: shrink beacon arrays and add assert
d292ba028a AP_NavEKF3: increase beacon buffer to imu + 1
ce55af4d95 AP_Beacon: fix sitl position to be NED
276e56e618 AP_Beacon: update comments to clarify frame
716e7622be AP_Logger: log RCIN channels 14 and 15 in RCI2
e5e092d077 AP_AHRS: check EKF status for having horizontal position estimate
87c7781be2 AP_GPS: show GPS as unhealthy if it is lagged too much
3f630d3d43 HAL_SITL: use GPS accuracy params
91b4830801 SITL: added SIM_GPS_ACC parameters
36442dc9b0 HAL_ChibiOS: added Matek CAN GPS
4c4c3d467b HAL_ChibiOS: added f103-Airspeed sensor
a1b5953927 Tools: added bootloader for f103-Airspeed
61f06f089e Tools: added bootloader for f303-MatekGPS
a20d3fed94 AP_Airspeed: allow hwdef override of airspeed default type
fdff355a8a AP_IOMCU: fixed handling of RC ignore failsafe option
5cd6175d94 AP_Compass: fix reordering compass devid by priority at boot
69d246d63e autotest: add test for priority-based compass reordering
bb697dd4b9 autotest: avoid using mavproxy for testing message intervals
886a7d44a7 AP_NavEKF3: allow switch to ExtNav from optflow
10eeea31e8 Tools: rebuild IO firmware
2bac4b1d97 AP_RCProtocol: fixed up DSM decoder test suite
78c4e27259 AP_RCProtocol: reverted DSM protocol decoder
6e1aeb905f AP_RCProtocol: added another DSM satellite protocol
1560c33418 AP_RCProtocol: fixed support for spektrum satellite receivers
2779b26e6e AP_RCProtocol: fixed the "3 good frames" test
380e9d3075 AP_RCProtocol: greatly increase robustness of DSM decoding
017f005737 AP_IOMCU: pass supported RC protocols to IOMCU
959e3da406 RC_Channel: added RC_PROTOCOLS mask
e0ec46f06d AP_RCProtocol: support a mask of enabled RC protocols
a190490b64 autotest: do not rely on MAVProxy for sending banner request
00bfe04539 autotest: remove duplicate recovery code from set-message-interval test
03d0eda7f1 autotest: use a passthrough progress function for Telem objects
db57e0831b AC_WPNav: Navigation based on type of BendyRuler
ad3a7e4d49 AP_Logger: Update logs based on new BendyRuler type
b62455fd3f AC_Avoid: Extend BendyRuler to search for paths up and down
55923d8b7b AP_Common: Add new method to extrapolate location from bearing and pitch
79a4b8fa32 AC_Avoid: Add feature to reject obstacles near home loc
245e0230b5 Tools: revert unintented change to f303 GPS bootloader
5eb0e0a718 AP_HAL_ChibiOS: fix name for RX Queue size define
4bd0e2f394 AP_CANManager: fix name for RX Queue size define
afa153fb6f Copter: remove wrapper for get_avoidance_adjusted_climbrate
67c152cef2 Plane: Move cruise state into cruise flight mode.
be2d03b02a AP_HAL_SITL: periodically warn about failure to open real UART device
67b71e2b94 autotest: add test for Plane dead-reckoning support
6bf2057712 AP_NavEKF3: minor formatting fixes
4c40d2ac3f AP_NavEKF3: readyToUseBodyOdm uses delayed imu and wheel encoder timestamps
056a2de260 AP_NavEKF3: wheelOdmDataNew member made local
3d5161f364 AP_NavEKF3: remove unused usingWheelSensors variable
c4b7a1c41a AP_NavEKF3: flowDataToFuse moved to local variable
41acf555bf AP_NavEKF3: fix skipping of optflow fusion if mag fusion performed
8b92af732a Autotest: common: add wait_heartbeat to change_mode to clean up msg and give time to status to update
f73e4c0071 Autotest: copter: add test for mandatory alt estimation for Alt_hold
cddb5fb1cc autotest: use message hook when waiting for statustext
b7f46462f8 Autotest: common: reduce timeout on ArmFeature test
83e5639225 AP_NavEKF2: apply min GPS accuracy at measurement point
44d5a923cc AP_NavEKF3: apply min GPS accuracy at measurement point
c6ea39eb66 Docker: use /tmp/buildlogs directory for autotests
8dcb973dad HAL_ChibiOS: fix SWD config in f3 boards
eddbf7a755 AP_Scripting: fix get_control_output binding
3638602d38 AP_Scripting: add rover-motor-driver example script
39d2079c06 AP_Scripting: add set_angle and set_range bindings
94b2381399 AP_Scripting: add set_output_norm binding
a3b435e912 AP_Scripting: add get_control_output binding
4a21dbf785 SRV_Channel: default scripting1 to 16 to angle of 4500
9f197db93c SRV_Channel: add set_output_norm
00757fb77f SRV_Channel: fix get_output_norm comment
c93313107b Rover: implement get_control_outputs
0694660094 Rover: add get_lateral accessor
df42618e0e AP_Vehicle: add get_control_outputs() for lua motor drivers
315d9da138 Copter: add ekf alt pre-arm and mode init checks
334fd4afbc Plane: Remove update_navigation() method.
836be4b4b4 Plane: Remove _navigate indirection in Mode.
6a27866df4 Plane: Call plane.update_loiter() rather than plane.mode_loiter.navigate().
06eea6ed9f Plane: Move navigation functions into flight mode classes.
f14c9db568 autotest: improve debug around heli poshold takeoff test
c8c913e203 AP_UAVCAN: fix UAVCAN sniffer example
9b11ae0d2a AP_KDECAN: remove KDECAN example KDECAN test is moved to CANTester
8a0d98967f AP_CANManager: panic if can manager is used before allocation
23d9be3499 AP_UAVCAN: disable build for UAVCAN test
dc708dc3bd AP_KDECAN: remove build for KDECAN test
c02c500ac5 param_metadata: add microseconds under known param type
8b74f94a7a SRV_Channels: use AP_CANManager library
42f5f986d8 GCS_MAVLink: use AP_CANManager library
e473eed368 AP_UAVCAN: ignore first alloc messages while waiting for followup
bb460647a5 AP_Vehicle: use new CANIface drivers and CANManager
07b4708a36 AP_UAVCAN: move all uavcan related methods to AP_UAVCAN
65ea8e1f13 AP_ToshibaCAN: use new CANIface drivers and CANManager
6ef85dd7eb AP_RangeFinder: use AP_CANManager library
0fcf0b4564 AP_PiccoloCAN: modify to use uavcan agnostic CAN drivers and manager
8a31448709 AP_OpticalFlow: move to using CANManager library
81c7099848 AP_Notify: move to using CANManager library
e1203a1d52 AP_KDECAN: move to using uavcan agnostic drivers
f0e6a8c535 HAL_SITL: add methods to fetch native system clock info
c17aec07a2 HAL_SITL: add SocketCAN Iface driver over virtual CAN
0e923fe061 HAL_Linux: add methods for native clock info methods
7de444ec53 HAL_Linux: add uavcan agnostic CANSocket Iface Driver
7929efec0d HAL_ChibiOS: add EventSource HAL
265e9b8cc6 HAL_ChibiOS: add native time info methods
a7d641c705 AP_HAL_ChibiOS: add available method for locked state
cdf8e369f1 AP_HAL_ChibiOS: create UAVCAN agnostic CANIface driver
15abca8ba4 AP_HAL: add native clock info methods used inside other than main thread
aa893b3983 AP_HAL: add available method for locked state
fa0f1e4c71 AP_HAL: add CANIface HAL, replace uavcan dependent one
697e4141cb AP_HAL: add common Event interface
0690b7bd68 AP_GPS: move to using CANManager library
20edecc340 AP_Filesystem: publish can info over FS Sys iface
e9430d7f80 AP_ESC_Telem: move to using CANManager library
bf1a7799f8 AP_Compass: move to using CANManager library
ad2a63e173 AP_BoardConfig: remove CAN management from BoardConfig
9820ea9023 AP_BattMonitor: move to using CANManager library
dc02322017 AP_Baro: move to using CANManager library
0fa6e2bbcc AP_Arming: move to using CANManager library
d65b43795a AP_Airspeed: move to using CANManager library
4e17f8a23e waf: add CANManager library and use uavcan agnostic names CAN vars
6fad42b6fd Rover: move to using CANManager library
5318175f70 Sub: move to using CANManager library
fb180fa431 Plane:  move to using CANManager library
9b9954aa46 Copter:  move to using CANManager library
ddfd186618 Tracker: move to using CANManager library
979b0b82d0 AP_CANManager: add CANManager library
904981a0c3 waf: build with -Werror=undef
18b33a439d AP_Soaring: Allow continued thermalling in manual mode changes RC switch position.
306eaf4d03 ArduPlane: use an enumeration for the AP_Avoidance recovery action
38122eb35e ArduCopter: use an enumeration for the AP_Avoidance recovery action
36e6ce6e5e AP_Avoidance: use an enumeration for the AP_Avoidance recovery action
ebc28d817f travis: build mRoX21-777 with -Werror
8484e8271f Copter: fix init of RC option 52
a5aa963a77 autotest: fixes --tracker and --tracker-location sim_vehicle.py options
08e89b0b96 Copter: Add RC option for ACRO mode in Copter
a37b5c2c6b autotest: add rudder disarm checks for airmode
0c3e9bbd4b Autotest: fix mavlink_time_boot format: should be int
acc4a1db3f Autotest: remove special case for vicon and default vicon for copter to false
945d19a9c5 AP_Proximity: resolve ambiguity about which distance is in which sector
c69908e7ea autotest: add proximity sensor readinds as if from depth camera
574f3a30f9 AP_Proximity: correct output of DISTANCE_SENSOR message
ea5aa594a3 autotest: add test for AP_Proximity_MAV
822d3b2a3a AP_Scripting: added get_accel AHRS method
3f69f97d60 AP_AHRS: added get_accel() for lua access
adf40ae606 BUILD_MD: Add instruction to clone repository as first step
e55057ad5d AP_AHRS_DCM: limit measured airspeed according to WIND_MAX
1b481b6e6a Tools: uploader.py squelch warning when not able to find hwdefs
82dd7ece6c autotest: fix frsky bitop on float issue
52ae087fb5 Autotest: rover: remove some raw mavproxy cmd for rc
388fef23d9 Autotest: common: remove use of some raw mavproxy cmd for rc
30fa433faa Tools: don't add duplicate param to context
7d33017c8a Tools: scripts: uploader.py: update --identify option
fa4a01e8f9 autotest: copter: don't use raw reboot on fly_battery_failsafe()
08d4e1c062 AP_GPS: Support configuring the SBF com port
3c6d1a359a autotest: copter: catch exception on test_battery_failsafe to reset parameters
5fe81706bb autotest: copter: catch exception on test_gcs_failsafe to reset parameters
9c41462bf6 Tools: copter: correct flip test
d0ff26e782 autotest: expand quadplane AirMode autotest
ee65940dfa Plane: enable yaw in qstabilize:air_mode at zero throttle
4630e9af30 Plane: add Mode::is_vtol_man_mode
b9830f657a autotest: add quadplane airmode test
7d67151c87 RC_Channel: update Plane RC_Option metadata
e22d9398d3 Plane: add AirMode RC option for quadplanes
c722367c6c AP_NavEKF3: move extNavVelNew to local variable
eb4b5fb720 AP_Airspeed: Add additional DLVR support 20inH2O 30inH2O 60inH2O
0e284b95b0 GCS_MAVLink: move battery type enumeration out of parameters object
26666b4b3d AP_HAL: move battery type enumeration out of parameters object
2e3ba2a4d2 AP_BattMonitor: move battery type enumeration out of parameters object
76e5ae9b41 Copter: move mavlink set-position defines into mavlink library
65834234af AP_HAL_SITL: correct use of uninitialised value in tcp UARTDriver
6dc77c97ce GCS_MAVLink: Remove redundant check for private channels
99ad126986 Plane: Fix redundant call to SpdHgt_Controller->get_land_airspeed()
b3d755d018 AP_HAL_SITL: correct loop counter type
4009f1583f AP_Param: show_all compiler error fix
a66893a295 AP_Param: minor spelling fix
918dfc13f7 Tools: Add  Horizon31 PixC4 to board_types.txt
7ad9e3548f AP_NavEKF3: make reset source variable local
9e06b78fda Copter: minor formatting fix
8629923783 AP_Motors: minor whitespace fix
de9e9b90e5 Copter: Tradheli servo_test fix
e77bc1ce9d AP_Motors: Tradheli servo_test fix
e74acba4ec AP_HAL_Linux: Allow for parameters to be passed with -G, -H
9cd5fdacfc Tools: autotest: add a test for motor test
66e0afedb2 Copter: correct motor test order parameter description
f0482935cc autotest: slow down simulation to avoid receiving re-request of item
7baafcd63d AP_Notify: set led_off instead 0
376494027b Copter: Support higher resolution percent based motor tests
997ffcf30d AP_GPS: NMEA: only decode each measage once
e1b6ef3e14 AP_BARO: Fix zero as nullptr in KellerLD
e137698a4a AP_HAL_Linux: Fix RCInput_RPI Segmentation Fault
67ad05609f AP_Scripting: add proximity bindings
e2eed88ca3 AP_Scripting: add rangefinder bindings
b66eaa0d53 AP_Winch: fix type parameter description
6bc2bea329 AP_Winch: rename Servo to PWM
48d27e1016 Copter: fixup winch comment
b84423c110 AP_Winch_Daiwa: fixes from peer review
a6c8bb06ff AP_Winch: fixes from peer review
09bf76d9a4 RC_Channel: correct winch switch comment
a2224f066a Copter: winch enabled with hal-minimize-features
54b714a24e Copter: implement send_winch_status
f607ff28b3 Copter: integrate winch arming checks
925f76c048 Copter: integrate winch changes
f7ec08ff18 AP_Logger: add Write_Winch
5d99ce9a84 AP_Logger: remove winch events
1fbc7b99da AP_Mission: add CMD_DO_WINCH string
b0eb375920 AP_Winch: add daiwa driver
738480884d AP_Winch: rewrite driver
feb852a9fc AP_Winch: minor formatting fix
36b25973d9 AP_SerialManager: add winch protocol to enum and param desc
615d3e6205 SRV_Channel: add winch_clutch function
1a3ef62b84 GCS_MAVLink: add virtual send_winch_status
6ea3c2a091 Copter: compile fix for winch
6961f42685 AP_SerialManager: document new don't-forward-mavlink bit
6b701ae3b3 AP_NavEKF3: correct includes
032b7c81e5 AP_NavEKF2: correct includes
37340b846d AP_AHRS: correct includes
749b678e14 autotest: add scan-build autotest steps
e51427a2bc autotest: add a test to ensure we get voltage from generator in battery_status message
3c705d1c60 Plane: added THR_FAILSAFE=2 option
5c4c7b5fd4 AP_Terrain: fix snprintf-overflow compilation error
4527321035 AP_InternalError: remove leading comma in descriptive string
653714ce29 Rover: manual mode avoids saturation on skid-steer vehicles
89a4f83527 AR_WPNav: minor param description typo fix
551f7d66c1 AR_WPNav: update crosstrack error during pivot turns
da746d6e8c AR_WPNav: pivot only when destination set
98b953eb80 Rover: MOT_STR_THR_MIX adjusts steering vs throttle priority
77df7c7a39 autotest: autotest the MaxBotixI2CXL i2c rangefinder code
aac416deb1 Tools: completion: simplify bash completion for sim_vehicle.py
25c42b0ea9 Tools: completion: autotest subtest completion for ZSH
1fa6138ca1 Tools: Autotest.py: Allow autotest subtests completion
4535e749e1 AP_RCTelemetry: move CRSF link statistics definition to AP_RCProtocol
ce970dcf75 AP_RCProtocol: process CRSF link statistics frames to get RSSI
53553c7c71 AC_Fence: remove dead and misleading assignment
2a2a78d15d tools: fix a couple of minor issues in decode-ISCR
aafc011692 modules: update mavlink
1a08252504 GCS_MAVLink: add support for bank selection on SPI DEVICE_OPs
3ddd1d484a AP_HAL_ChibiOS: add support for bank selection call outside SPI driver
4cdb4b74f3 AP_InertialSensor: add support for checked register in Invensensev2 Drvr
57dd0ca9ea AP_HAL: add support for Bank based addressing
fe7e243b01 AP_UAVCAN: sending UAVCAN MAVlink ESC messages
9b3a574775 GCS_MAVLink: sending UAVCAN MAVlink ESC messages
5ffae82a90 .gitignore: ignore Mission Planner parameter files
f2e6a79276 Tools: script: add a script to generate Mission Planner full parameters file
4930142b6e Tools: add generator for MP parameter xml
a1eb284349 AP_HAL_SITL: populate first rangefinder distance if unused
123d7e4683 SITL: examples: update JSON readme
bdec15f708 SITL: JSON add rangefinder support
537eec9091 SITL: add rangefinder support
16a9506cf2 SITL: SIM_Aircraft: add rangefinder array
e18c195df4 AP_RangeFinder: add SITL backend
d508ca1bbb SRV_Channel: rename k_richenpower_control to k_generator_control
38f4de9aac AP_Vehicle: move generator to before scheduler and parameter objects
2f36336627 AP_SerialManager: add CrossFire and Generator to serial protocol descriptions
07abb3ab6a autotest: extend RichenPower test
34be953085 AP_Vehicle: add is_crashed method to AP_Vehicle
6ab9089fff AP_Arming: add accessor to retrieve last disarm method
68b6b77a22 SITL: correct simulation of RichenPower generator
c8a368d896 AP_Generator: update prearm checks, fill new GENERATOR_STATUS fields
d545f392fb AP_HAL: set base type of FrequencyPeak to uint8_t
9013432d27 AP_GyroFFT: slew FFT frequency output
bac3660fca Tools: Push autotune switch test to run after avoidance tests
cf04a01389 Tools: Increase timeout for avoidance autotest
0b112981f9 AC_Avoid: Back away if vehicle breaches margin to obstacle/fence
85692312ac AC_Fence: Add Pre-Arm check for margin < radius
251ebf9286 AP_Logger: Log Simple Avoidance
b9dc7118d4 autotest: add do_timesync_roundtrip to do a timesync against SITL
aa776b06a4 Plane: Use sq() rather than powf() in soaring.cpp.
b2d63c5049 Plane: Refactor soaring.cpp.
d87986ecdd Copter: move set_throttle_takeoff implementation into Mode
4e12f16608 AP_AHRS: provide accessor for synthetic airspeed
ac85ec9924 Plane: log AHRS synthetic airspeed
b5050c1e11 SITL: add simulated MaxSonarI2CXL i2c sensor
80d7a4ee5e SITL: simulated i2c support
2319638dd2 AP_HAL_SITL: simulated i2c support
0303c5c4a8 SITL: move calculation of simulated rangefinder range to inside SIM_Aircraft
2b69b7ba6a AP_HAL_SITL: move calculation of simulated rangefinder range to inside SIM_Aircraft
5325f789e1 Mavlink: Update to HEAD from master branch and add upstream updates from up-to 20200401
4b8be2e535 AP_NavEKF3: fix comments
4640c24872 autotest: correct checking for no-logs string
b2748f19f6 autotest: correct validator for Distance wait-and-maintain
0f992ac6a3 Autotest: add test for Sub position hold
385f440d90 Sub: update control_poshold to use AC_PosControlSub
7fa8a455d7 Sub: refactor depth control of control_althold to a function
8325de0845 Copter: default RC_OPTIONS to 0 for tradheli
0d5de343d2 autotest: default throttle to 1000 for quadplane
1c60a3eb4c RC_Channel: default throttle pre-arm check to enabled
58463e67c5 AP_Arming: default throttle pre-arm check to enabled
ad435dcdbb AP_AHRS: remove unused base-class airspeed_estimate method
676c36bad4 RC_Channel: fixed use of radio_in out of range for angle inputs
6466912ac0 Plane: don't crosstrack after AUTO VTOL takeoff
e53a43461b AP_InertialSensor: remove ICM gyro pre-filter
baf92a17f9 AP_HAL_ChibiOS: disable AP_Mount on "mini" boards
cd60238e3d AP_Camera: make solo gimbal inclusion configurable per-board
07df203d19 Sub: make mount/gimbal inclusion configurable per-board
6d87d61c7b Rover: make mount/gimbal inclusion configurable per-board
b649afe9e5 Plane: make mount/gimbal inclusion configurable per-board
e91ae19544 GCS_MAVLink: make mount/gimbal configurable on a per-board basis
54c3d07547 Copter: make make/gimbal configurable on a per-board basis
f7f5880179 AP_Mount: make mount/gimbal inclusion configurable per-board and disable Solo gimbal on all 1MB boards
5fad6ddddb Copter: fix typos in PL dataflash logs field description text
be963bbdf9 Copter: fix units and multipliers in PL dataflash logs message
13188b5e7e AP_OSD: ensure that we use environment Python interpreter
a8d36a37c4 AP_Math: ensure that we use environment Python interpreter
43c16cd417 AP_InertialSensor: ensure that we use environment Python interpreter
d489100a70 Tools: ensure that we use environment Python interpreter
2a662793c2 AP_Compass: support probing RM3100 on all 4 addresses
849cb960e5 SITL: enable battery monitoring for flight axis by default
30c8d7bf40 Copter: dev option so set-attitude-target thrust field used as thrust
8ae34a1977 AP_TECS: Don't fetch the land slewrate if it's not needed
bbe01adc7e AP_TECS: Use LAND_THR_SLEW if appropriate.
4726e670d5 AP_Soaring: Fix description of SOAR_MAX_DRIFT.
8f77536c08 AP_RCProtocol: fix segfault in example due to lack of VideoTX singleton
913c00dd96 AP_Scripting: add default case to fix uninitialised use situation
8d5c51748f AP_RangeFinder: fixed legacy parsing of 65436 for lightware i2c
3c9a16d8a7 Copter: 4.0.4-rc3 release notes
653e5524f6 Rover: arming revert to single &
89217a3804 AP_WindVane_NMEA: decode each sentence once
2adbaf1a1d AP_RangeFinder_NMEA: decode each sentence once
d122f00c14 AP_GPS: redetection not necessary for UAVCAN GPS
664b181d16 ArduSub: Adapt to upstream mavlink changes to the SCALED_PRESSURE* messages
7067cbdafd GCS_Mavlink: Adapt to upstream mavlink changes to the SCALED_PRESSURE message
47bf016a62 AP_Generator: adapt to upstream mavlink changes
939d96f195 Mavlink: Update to HEAD from master branch and add upstream updates from 20200129
47caf886b1 Rover: add arming check for windvane if sailing enabled
1c789c66c3 AP_Scripting: Fix generator for nullable types with multiple return values
c7c9461fc0 Plane: update ModeReasons to not use UNKNOWN reason
88d28460f5 AP_Vehicles: add more ModeReasons
d4ba821297 AP_InertialSensor: make the backend fast gyro rate configurable and independent from the accel rate
5cebf91c3f Tools: added name to GIT_Success.txt
ec4bc71222 AP_Scripting: Setup of applets directory and first applet entry
2ad81fb425 AP_Scripting: generator: static cast all basic return types
4ad7eeb7a9 AP_Scripting: add RC Channel object bindings
a95981d022 RC_Channel: add scripting functions
0d9d593f05 AP_Scripting: add RC channel objects to example
227609eef0 AP_Terrain: allow download of terrain data when no GPS lock
73526c0256 Copter: pass reason through in set_mode AP_Vehicle override
9cc8b2f21a AP_VisualOdom: Shorten the distinguished name.
dbb19dd402 AP_Arming: Shorten the distinguished name.
e3d538e676 AP_Scripting: add ahrs-print-angle-and-rates example
5f3837f434 AP_Scripting: Modify the extension.
cce2532901 Plane: fixed use of VTOL control for missions
cd46c5006a ArduPlane: remove duplicate fail-safe time check
62354527d4 Plane: zero throttle nudge in RC failsafe
d31b44fa79 AP_HAL: add methods to extract devid details
f55ee264a7 AP_Compass: reset compass ids not present after compass cal
f9e129e617 SITL: read 12 flightaxis input channels
7a3e2d11db AP_HAL_SITL: make it clear the panic message is a panic message
c8bbbd2720 AP_NavEKF3: Fix bug preventing setting of mag field states
39f16c4679 autotest: reboot SITL after running autotune switch test
760e86ff4d AP_Proximity: remove unused definition
f5a928ae26 autotest: remove debug to reduce CI log sizes
ac6cf1132c Copter: add documentation for DU16 message
66ffb4a17b autotest: retry parameter fetch in MIS_TOTAL test
ccff006517 autotest: correct time-spent-waiting-to-arm for zero case
d298980969 SITL: correct AP_Terrain cast-align compilation failure on SITL_arm_linux_gnueabihf
38e3d63fac AP_HAL_SITL: correct AP_Terrain cast-align compilation failure on SITL_arm_linux_gnueabihf
f1fc61cb41 autotest: improve compass test diagnostics
b69130d352 autotest: require uptime of 5s before declaring GPS definitely not present
db081459d8 RC_Channel: Fix missing soaring entry.
d9085e34d8 autotest: default throttle to 1000 for quadplane
7880120921 autotest: upload logs after quadplane tests
c539698528 AP_Logger: add documentation for GRAW, GRXH and GRXS messages
2b96b7915b AP_Logger: align PID(RPYAS) description to message names
6773821b3b GCS_MAVLink: Don't forward MAVLink data on channels marked private, make private channels more private
2cdaf421d8 AP_SerialManager: Add a helper to report if a serial link should have it's MAVLink data forwarded
1fef30eef1 AP_HAL: Extend UART options to include forwarding MAVLink telemetry
b298477266 Tools: uploader.py: correct silently dropped exception in failure case
3a0329822a AP_OSD: apply aspect ratio correction to horizon
9d01fc6ff6 AC_Autorotation: add documentation for AROT message
babb3fef54 autotest: remove incorrect use of get_sim_time_cached
3b0524a7e1 autotest: add diagnostics to frsky passthrough test
2e69317c2c Tools: Change the unit of barometric pressure from mbar to hPa.
2d2f2c4360 AP_AdvancedFailsafe: Change the unit of barometric pressure from mbar to hPa.
3617e0c729 ArduPlane: fix airspeed messages for consistency
21940cea09 AP_Airspeed: fix airspeed messages for consistency
d57b7cad63 autotest: Update soaring test to use RCX_OPTION.
419f7c9998 Plane: Convert SOAR_ENABLE_CH to RCX_OPTION.
611217f63e AP_Soaring: Use RC aux function rather than read RC directly.
455ebaadf2 RC_Channel: Add soaring aux function.
d8f2d0cf8d AP_NavEKF3: max delay includes visual odometry
2a3238b7de Tools: added baro decode
978a7d2859 AP_Baro: added device IDs for barometers
3f4a14c610 AP_ToshibaCAN: correct checking of payload space in telem send
721d94a23b AP_Logger: log accumulated power status flags; all flags ever set
bd8c4017bc AP_HAL: log accumulated power status flags; all flags ever set
b5d0480bed AP_HAL_ChibiOS: log accumulated power status flags; all flags ever set
4b047625fc AP_BoardConfig: use polarity for 3.3/5v selection
d283dd7d00 HAL_ChibiOS: define polarity of 3.3/5v selection for PWM
99ac8e2fbe HAL_ChibiOS: enable BRD_PWM_VOLT_SEL parameter for mRoPixracerPro
683df64d86 AP_Frsky_Telem: fix frsky serial 10 parameters
1c772b94cd Tools: build-binaries and generate-manifest py3 fixes
de8439dc3a Copter: crash check reqs 15deg lean and under 10m/s
4acb66cd13 autotest: correct check of frsky home-relative altitude
ac827cf45b autotest: allow much more time for frsky test to finish
a49580e0af autotest: improve debug on frsky tests
d9aa334489 autotest: ensure cached sim time moves forward in frsky test
efb576292f AP_HAL_ChibiOS: handle queue push and pop failing
2ace0f0a1f AP_UAVCAN: handle pop from rx_queue failing
4e3c23c969 SITL: ignore failure to pop servo sample from buffer
85b1264ff4 AP_HAL: add WARN_IF_UNUSED to several methods
8bfda973db AP_Scripting: Add user accessable script parameters
a00b5cb770 autotest: db's are negative so check dynamic notches the right way
c8f1b44ee6 SITL: JSON: examples: update readme
6a2966c31b SITL: JSON: support quaternion and euler attitude
564244ce9a AP_NavEKF3: fix extnav vel reset
3f581d7a20 Rover: remove unused defines
2eeac9e6fd Tools: LogAnalyzer: Python3 fixes
08f8a41ecb Copter: Support DO_LAND_START as an adhoc MAVLink command
6c6e4eff67 Plane: adhoc MAVLink DO_LAND_START changing mode to auto is known to be a GCS reason
9aeb456a1d AP_Mission: NFC Correct some comments
16a15f5450 ArduPlane: add CROW flaps mode select switch
966e9ddf2b RC_Channel: add CROW flaps mode select switch
229036b4ae autotest: run dynamic notch twice to avoid statistical anomolies
da4ef6c519 autotest: added EliField
88d4aa34db AP_TECS: Move the throttle rate limit code to ensure rate limit is respected when exiting takeoff stage.
0b8f722dbd AC_Avoid: Remove extra margin used in stop behaviour in circular fences
6e693596d6 AC_Avoid: Do not show unused param in Rover
1db0feea59 ArduSub: update_trigger() is now called in AP_Camera update()
89d423556c ArduCopter: update_trigger() is now called in AP_Camera update()
10a85892cf ArduPlane: update_trigger() is now called in AP_Camera update()
6f0782abbf Rover: update_trigger() is now called in AP_Camera update()
2dfc7c4108 AP_Camera: call update in update_trigger
12c9578a66 Copter: add in additional acro options
b697a44aed AP_RCProtocol: configure VTX when a SRXL2 VTX packet is received
111a4a735b AP_RCTelemetry: add setters for vtx configuration
2ba458a75d RC_Channel: adds Generator to metadata
2d8c5a7bc4 AP_Motors: remove names from cpp files
adb9f70bc9 AP_GyroFFT: correctly count the number of active harmonics
05366e9aa9 AP_InertialSensor: delegate active harmonic calculation to the filter
a93821110e Filter: return active harmonics based on dynamic harmonic enablement
eb4c69ed88 Tools: iofirmware with DSM changes
80e1c0ebb0 AP_RCProtocol: decode DSM frame markers to avoid timing related jitters especially in SITL
907ad5e25c BUILD.md: remove fmuv4
682fd8b1ba Tools: remove fmuv4 and update Pixracer
d78c5371db AP_HAL_ChibiOS: remove fmuv4 and update Pixracer
c8641bd246 autotest: fixed qassist test
585a6a6967 Plane: Log D gain limit cycle gain scaler
0cf70fe961 AP_Logger: Log D gain limit cycle gain scaler
548bab5d24 APM_Control: Add gyro feedback limit cycle protection
7292ee8ec6 Tools: completion bash: fix and simplify frames completion
ad7f62b23d Tools: completion zsh: fix and simplify frames completion
be36ac836e Tools: sim_vehicle.py: add some helpers to retreive vehicles list and associated frames
aca70ffd34 ArduPlane: Update Log_Write_Fast comment for accuracy
a783763f5a Copter: Crash origin to crash message
c9990cdecc Copter: Change Need 3D Fix message.
8e586bc67d AP_Proximity: Check for valid reading before pushing to OA DB
05416daef3 GCS_Mavlink: output fast sampling startup messages
faf9bbbf3a AP_InertialSensor: make the backend fast gyro rate configurable
e35458cedf AP_NavEKF3: INS get_sample_rate() renamed to get_loop_rate_hz()
e39e24bd18 AP_NavEKF2: INS get_sample_rate() renamed to get_loop_rate_hz()
5a6be9e0a2 AP_Mount: INS get_sample_rate() renamed to get_loop_rate_hz()
9f1e641637 HAL_ChibiOS: added new STM32Cube configs
84bd59a7bb HAL_ChibiOS: support H7 with no crystal
cfbfb27004 HAL_ChibiOS: support no-crystal F3 setups
5a18b16f69 GCS_MAVLink: use strncpy_noterm
7e41874d8f AP_RCTelemetry: use strncpy_noterm
f80ca85428 AP_Logger: use strncpy_noterm
369861e4c0 AP_InternalError: use strncpy_noterm
18deb1c0bd AP_Common: added strncpy_noterm
7e14f62fcd SITL: suppress cast-align warnings in SIM_XPlane
e9a4a74e7b AP_Scripting: suppress cast-align warnings in Lua interpreter
71732d07f0 Replay: disable case-align for Replay build
b2dc0c8344 AP_FlashStorage: fixed alignment errors
5fdc400aab waf: added -Werror=cast-align
ac604cac54 HAL_SITL: update for GPS param changes
a6df0745a6 SITL: make all GPS params available for both GPS
2c1d77bf8f autotest: test simulated ship takeoff
fb5a06b8da AP_Terrain: added AP namespace access to terrain
9466e7e71e GCS_MAVLink: make correct_offboard_timestamp_usec_to_ms protected
f9f8822e47 SITL: added ship takeoff/landing simulation
91aaa7876d GCS_MAVLink: reserve another mavlink channel
925b44dee5 SITL: split out GPS and MAG parameters into their own tables
d0d7a46492 AP_AHRS: fixed SITL origin handling
39de1cf000 Tools: added name to GIT_Success.txt
be3a2cc294 AP_RCTelemetry: disable CRSF debug
5b7918030f AP_ToshibaCAN: correct unused portion of motor reply data1 packet
0850b0acae AP_ToshibaCAN: handle negative RPM
08a710235d Plane: add tailsitter assist with motors only option
6710bab006 Plane: add Q_OPTIONS to defaut to Qassist force enabled
33ac9efe17 SITL: add parameters for 2nd baro
27fc7dcf0a AP_Baro: get SITL to work with multiple baros
4115603f13 ArduPlane: add terrain follow disable switch for CRUISE/FBWB
b84b6b52b3 RC_Channel: add terrain follow disable switch for CRUISE/FBWB
9c7f382392 AP_RangeFinder: remove unused set_rfnd_bit
98562cc523 SITL: build fix on macos
7e913b965c iomcu: rebuild to include rcin stack size change
5bc1b11a80 AP_RCTelemetry: CRSF support
4e88adf86e AP_RCProtocol: TBS CRSF implementation
6eb1d289b8 autotest: add trivial test for CRSF in copter
2bae080be4 AP_HAL_ChibiOS: increase RCIN stack size
34a28cce00 SITL: add CRSF simulation driver
a9ded9d870 AP_HAL_SITL: add CRSF simulation driver
820d6654af AP_Vehicle: add VideoTX
ac5a7275bf AP_Camera: move crc8_dvb_s2 to AP_Math
d4c5b945b3 AP_Math: move crc8_dvb_s2 here and add additional crc8 functions
d9f11c1a0a AP_SerialManager: add CRSF support and CRSF protcol
24fccd5d87 AP_NavEKF3: Don't delay GPS use unnecessarily
9a4108f55e AP_NavEKF3: Simplify setting EK3_MAG_CAL
0dc598a6e1 AP_NavEKF3: Fix param description and comment
25cba50f10 AP_NavEKF3: Fix EK2_MAG_CAL parameter description
21ea5d5039 AP_NavEKF3: Require GSF yaw history for reset when not using a yaw sensor
f86c2e1db6 AP_NavEKF3: Don't fuse EKF-GSF yaw for FW flight
354b551ef0 AP_NavEKF3: Handle repeated FW flight without magnetometer
8ff6780323 AP_NavEKF3: Clarify distinct use cases for 'takeoff expected'
e5bd99a66f ArduPlane: Signal EKF to expect takeoff start to improve GSF yaw estimate
d1a0c2eb30 AP_NavEKF3: Start EKF-GSF yaw estimator before fixed wing takeoff
b469a80633 AP_NavEKF3: Reset all co-variances when performing a yaw reset
d8c2096ad8 AP_NavEKF3: improve angle accuracy during no mag launch
f7c8ee807c AP_NavEKF3: Reset yaw estimator bias states at start of flight
ea4589ea94 AP_NavEKF2: Reset yaw estimator bias states at start of flight
5ad5498b07 AP_NavEKF: Enable external setting of yaw estimator bias states
709a42cb7f AP_NavEKF: remove unnecessary memcopy
4a743a3827 AP_NavEKF: Remove unnecessary reset operations and class variables
b6d9b6f3c7 AP_NavEKF2: Update documentation for non-compass use case
bcd23e1063 AP_NavEKF3: Fix one frame delay in processing yaw estimator velocity data
ccaa4d6aa9 AP_NavEKF2: Fix one frame delay in processing yaw estimator velocity data
0ce4dd457d AP_NavEKF: Fix one frame delay in processing yaw estimator velocity data
ed14ab84ce autotest: Add test for terrain following mission.
c3f039a739 autotest: Add timeout to fly_mission.
bde9ce10e3 autotest: Add wipe as argument.
90acff647c AP_BLHeli: log telemetry at 10Hz
2e55584417 AP_NavEKF3: correct comments on getFilterFaults and getFilterTimeouts methods
081c0bbfe0 AP_NavEKF2: correct comments on getFilterFaults and getFilterTimeouts methods
741520d598 GCS_MAVLink: find next bucket to send when sending-ids emptied on msg removal
fad8ee8384 AP_Relay: Added support to Relay pins on BBBMini
955a05c4d5 Plane: Refactor mav_cmd_do_reposition to be consistent with copter
c971fe0ca4 Copter: Support MAV_CMD_DO_REPOSITION on COMMAND_INT
0c87b2d885 AP_Generator: fixed misaligned access in RicenPower
90232fa6c0 GCS_MAVLink: fixed alignment errors in FTP server
21937a7830 AP_RCProtocol: fixed alignment errors in SRXL2
c5a60c31a7 HAL_Linux: fixed build warnings in RC input methods
7138811a57 AP_Common: fixed cast warnings for ExpandingArray
19093e25be AP_HAL: added ptr accessors to sparse-endian.h
6162605388 AP_RCProtocol: ignore SRXL2 dbm rssi value like BF does
285f16e829 AP_Arming: add pre-arm check for VTOL manual forward throttle
2af6e255d1 RC_Channel: add RC option for VTOL manual forward throttle
d5b1b20274 Plane: implement manual forward throttle for QACRO, QSTABILIZE and QHOVER
6bab6d94bf AP_Scripting: fixed equality test for uint32_t
613d2c2e0a AP_RangeFinder: LightWareSerial gets small comment
2ca0d400a6 AP_Proximity: remove incorrect comment from SF40c
b6a5509409 AP_Math: added test for vector2f rotate
259cf10373 AP_Scripting: added rotate binding to Vector2f
24d0804249 AP_Math: added rotate() method to Vector2f
6c9d756f11 autotest: validate context nesting
98feb06183 AP_RangeFinder: Add GYUS42v2 to the TYPE item
b12fcff89a AC_Fence: Matching Message Style
977ec1a7d6 autotest: SuperSimpleCircle: increase throttle while rolling in stab
b8c2b16394 autotest: autotest gyus42v2 rangefinder
9d7fd47267 SITL: add simulated GY-US42-v2 rangefinder
0b431f3ecd AP_HAL_SITL: add simulated GY-US42-v2 rangefinder
6ec497229b AP_RangeFinder: add serial support for GY-US42v2 rangefinder
443d4186a4 SITL: default vicon to send position and speed
6557f3c258 AP_Scripting: fixup serial_test.lua
e1e16bde6d autotest: remove doubled up disable-anti-alias-hud
a0258f351d autotest: disable gdb pagination
560b4a9847 autotest: fix race condition between switch message and rc output
8bb74a12d0 AP_Motors: Remove double underscore header guard
96e500fe49 autotest: correct heli rebase issue
b64a34fc38 Copter: add GENERATOR_STATUS to STREAM3
7b9f75ddbf mavlink: reference new GENERATOR_STATUS message
4b2851a9b2 RC_Channel: add text for Generator AUX_FUNC
717dabfe69 autotest: remove heat model for generator
1639bd7d09 AP_Generator: remove heat model for generator
c5ac42d985 AP_Generator_RichenPower: allow operation with no generator present
df8d8cefd6 AP_Generator: use new mavlink generator status flags
bac60e0d3a autotest: add simple tests for richenpower generator
88c8dd8465 SITL: add RichenPower generator simulator
6056cc9d54 AP_HAL_SITL: add support for simulated RichenPower generator
8e708a0a32 AP_BattMonitor: add backend for generator supply
fce9046dcf AP_Arming: add generator checks
b2bd8d5759 RC_Channel: add support for RichenPower generator control
007a85e873 SRV_Channel: grab a servo function to control the RichenPower generators
ee2118f93a Plane: add support for AP_Generator
a679cd9b92 Copter: add support for AP_Generator
e2056f56e3 GCS_MAVLink: support for sending generator message
4296f6ed4b AP_Vehicle: add instance for RichenPower generator
3001812630 AP_SerialManager: add support for RichenPower generator
b955be50af waf: build in AP_Generator directory
e5367232b3 AP_Generator: add serial driver to read from RichenPower hybrid generators
0cbff6ac66 Tools: autotest FRSkyPassThrough increased timeout to let the test complete
75b621a09f Tools: autotest added frsky serial_protocol 4 and 10 testing against mavlink telemetry
1191a5e1ea Tools: Tradheli add rotor_runup_complete_checks
332c73d168 autotest: reboot before running Copter ModeCircle test
cadb1012df AP_HAL_ChibiOS: reenable full features on KakuteF7Mini
ce8591ddbc HAL_ChibiOS: re-enable full features on KakuteF7 and OMNIBUSF7V2
de226c69ab Tools: add simulated LightWare serial lidar talking new binary protocol
ff46541604 SITL: add simulated LightWare serial lidar talking new binary protocol
c3246d61f4 AP_HAL_SITL: add simulated LightWare serial lidar talking new binary protocol
db0a0beb1b git: add discord details to contributing page
3644939246 BeagleBone : comments corrected in RcAioPRU.p
e5395069f4 autotest: add test for angle q-assist
d47569ccef Plane: correct ASSIST_ANGLE description
3a0538449c Plane: added Q_ASSIST_DELAY parameter
147ff6863a Tools: Remove some parametes from Hexsoon EDU450 Frame
53b6d1a639 autotest: wait for heartbeat when opening connection
429e70fb94 AP_RangeFinder: LightwareSerial uses nullptr for strtof
85c4db6896 AP_RangeFinder: LightwareSerial driver loses unnecessary initialisation
cdbc0c782b AP_RangeFinder: add sf30d binary protocol support
a0687c156f git: update contributing page with discourse and gitter
992d84ac22 SILT: MATLAB add Simulink instuctions to readme
019482075d SITL: add Simulink heli example
63280111c9 SITL: add Simulnk Rover example
a63275ca39 SITL: examples: add Simulink libary and functions
c466274046 SILT: SIM_JSON: update logging and report airspeed
74c04271fa autotest: fix breakages for defaulting to mavlink2
4147f0cce3 autotest: test gains are saved by autotune
fd96cdf6e0 AC_AutoTune: set FLTT to zero while twitching
c707303336 AP_HAL_ChibiOS: hold buzzer ping low in bootloader for omnibusf4pro
523a97d161 Tools: update KakuteF7 bootloaders
48e0da8444 AP_HAL_ChibiOS: pull buzzer pin low in Kakute F7 bootloader to prevent startup scream
49be9d1626 SRV_Channel: fix  parameters appearing in wiki param list erroneously
a3f0ce0a87 AP_BattMonitor: fix  parameters appearing in wiki param list erroneously
9d86a3e2ef AP_Arming: fix  parameters appearing in wiki param list erroneously
20b2396646 HAL_ChibiOS: fixed bug in undef of pins
8e6028ec1a AP_Terrain: Update spacing param description in line with firmware useage
f9a866d09a AP_HAL_ChibiOS: luminousbee4 serial5 to mavlink2
3e0bb4110a AP_HAL_ChibiOS: fmuv4 serial5 to mavlink2
ced448b706 AP_HAL_ChibiOS: DrotekP3Pro serial5 to mavlink2
211c20da38 AP_SerialManager: default serial 1 and 2 protocols to MAVLink2
91101aac01 AP_BoardConfig: Define a method class
d9358b4ac2 Plane: don't allow a zero speed_scaler
edba1cca4a AP_GyroFFT: cast to unsigned to avoid signed/unsigned comparison
7da5f7c9b5 autotest: disable Spline waypoint test
29e6f058a9 autotest: add test for scripting guided-steering-throttle example
30bcf4d13b AP_Logger: VISP and VISV reset counter becomes uint8
8f6e9caf93 AP_GPS: change GPS_AUTO_SWITCH #define list to enum class
ff007dd017 AP_Scripting: Allow generator to cope with windows line endings
dfbb357aaf Copter: minor formatting fix
0f6e2b6960 Copter: fix GUID message scaling for pos and velocity
9507a2e157 AP_NavEKF2: Fix parameter description
ac21becb6a Copter: simplified update of ekf terrain height stable setting
ec5f84c926 AP_NavEKF3: remove unused terrainHgtStableSet_ms
a8c2be26ba AP_NavEKF2: remove unused terrainHgtStableSet_ms
dccc3e22d9 AP_NavEKF3: minor comment fix re RNG_USE_HGT
980c1f5020 Copter: update ekf terrain height stable setting
d0a2198e00 AP_AHRS: expose EKF setTerrainHgtStable accessor
ed5b695c94 AP_NavEKF3: Clarify intended use of setTerrainHgtStable accessor
502b96f49c AP_NavEKF2: Clarify intended use of setTerrainHgtStable accessor
fca8d33c50 AP_NavEKF3: fix vertical flyaways when rangefinder stops providing data
83dc46d539 AP_NavEKF2: fix vertical flyaways when rangefinder stops providing data
a3d140b949 AP_NavEKF3: reduce duplicated code.
280d33d030 AP_NavEKF2: reduce duplicated code.
b4efb78315 autotest: rangefinder transition test
11a0fef3d0 AP_NavEKF2: Fix indent
fc18ee91df AP_NavEKF2: Add missing fallback to baro for range beacon use case
344d621a08 AP_NavEKF3: Add missing fallback to baro for range beacon use case
d118c8fc38 AP_NavEKF2: Fix range aid switching logic
906731222d AP_NavEKF3: Fix range aid switching logic
3737c13784 autotest: allow message rates to be set by message name, not just ID
cd1198bf49 autotest: drain mav before attempting to run a command
d0b97b89e7 autotest: add an assert_receive_message method
4fa2c3f5ba AP_Logger: Log if BendyRuler has avoided changing directions
7dd7565d14 AC_Avoid: Improve BendyRuler hesitancy by avoiding significant bearing change
03ea646e50 GCS_MAVLink: send_battery_status uses memcpy for cell voltages
77d6b19d86 AP_BattMonitor: Generic driver timeout definition in seconds
3e519b25a4 AP_BattMonitor: fix comments re voltage scaling
912e089c18 AP_Logger: fix BCL voltage scaling
65aea0e9c1 GCS_MAVLink: send_battery_status sends min of cell 10 11 and 12
82423384bf AP_Logger: BCL msg logs up to 12 battery cell voltages
cc6298e7ac AP_BattMonitor: SMBus Generic reads up to 12 cell voltages
b1c3ea467b AC_Circle: constantly update velocity from params
bb14746517 autotest: re-enable Rover BendyRuler test
473b027e03 AP_Vehicle: minor formatting fix
5b90c98e02 AP_Scripting: add rover-set-steering-and-throttle example script
d665a0a440 AP_Scripting: add binding for set_desired_steering_and_throttle
35f0402b47 Rover: Guided mode supports direct steering and throttle control
73508564f7 AP_Vehicle: add set_steering_and_throttle
88cda25d62 AP_Compass: enable LIS3MDL and friends
c27bdafea4 AC_PosControl: correct VELXY_D_FILT Description
c53d42e665 AP_Scripting: Remove send_text if directory is created
e4d0484b75 RC_Channel: Cope with selective overrides and no RC reciever in a healthier way
e02145efa0 AP_Arming: Use control_in rather then in_trim_dz() to cope with override only vehicles
edadbae240 AC_AttitudeControl: Handle zero accel value correctly in angle correction.
7fae084793 GCS_MAVLink: Only send a single battery status per call
f8acc211cf Tools: AP_Bootloader: remove unused BL_WAIT_MAGIC define
fe2a468b14 RC_Channel: fix metadata order on _OPTIONS
903b44da7d HAL_ChibiOS: Add DPS310 for MatekF405-WING,F765-WING and H743
07ad4798dc AP_BLHeli: allow all motor frequencies to be returned
cb524b7d3d AP_Vehicle: add function to log dynamic notch frequencies
5bedf44734 Sub: log harmonic notch even if FFT is disabled
9077d41df1 Plane: add support for tracking fft peaks and individual motor rpms with harmonic notches
25dcc1a623 Copter: add support for individually tracking fft peaks and motor rpms with harmonic notches
d402761a4b AP_GyroFFT: allow all three peaks to be returned so that we can have three independent harmonic notches
c6415136ed autotest: add a test for dynamic harmonics
71f99542a8 Filter: allow harmonic notch center frequencies to be updated individually
61bb42cc0c AP_InertialSensor: allow up to four distinct notch center frequencies to be updated
bd7190767e AP_Scripting: Create scripts folder automatically
653a6bd0a4 Tools: remove xmlpretty, xmlint do a better job
77b461fee4 Tools: add --debug-ekf to debug the EKF
431468452c AP_NavEKF3: add --debug-ekf to debug the EKF
9bbd2b19c2 AP_NavEKF2: add --debug-ekf to debug the EKF
90d24042cf Tools: Added my name to GIT_Success.txt
43526e718e Plane: Remove the use of RTL_RADIUS from LOITER_UNLIM mission items
645ebe21e9 Tools: remove unmaintained uncrustify scripts
ca0ae57b56 AP_NavEKF3: protect against position-delta sensor data being NaN
331f2f5fe7 AP_NavEKF3: writeExtNavData stores pos to buffer first
578800dfbb AP_NavEKF3: protect against ExtNav being NaN
989ffb79cd AP_NavEKF2: minor format fix
966d59a26d AP_NavEKF2: protect against ExtNav being NaN
349c11d631 RC_Channel: comment some of our range conventions on RC channel options
47e4e9f7c9 AC_Avoid: Store 3D data in OA_DB and use 3D distance in BendyRuler
9b5922786e AP_Proximity: Push 3D data into OA_DB
0779cf436e AP_Math: Added function to calculate shortest distance betwwen point and line segment in 3D
a23934fe93 AP_Scripting: add set angle demo
dc34dfb003 AP_Scripting: add guided mode set angle
98d5aa91a8 AP_Vehicle: add scripting guided mode set angle
e797685771 Copter: add set guided mode angle for scripting
4aa10a6c30 AP_GPS: added force_disable_yaw() API
7d430ae0ca RC_Channel: added rc option 105 to disable GPS yaw
c4a92fb0fe Update board_types.txt
9f0967eb94 AP_Terrain: added verbose option to terrain tester
ed14518634 AP_RangeFinder: TYPE param becomes enable flag
15f25aa2a5 AC_Avoid: Skip unnecessary retries to build inner fences
4ec8602de2 AC_Avoid: Remove unnecessary sanity checks
0efae38af0 Tools: updated PR instructions for board_types PRs
17e8e422db AP_Bootloader: added board_types.txt
e4621e6921 GCS_MAVLink: do not process commands after we have decided to reboot
34b17d0993 AC_Avoid: Check if origin is set before any obstacle avoidance algorithm is run
8d2f2443a2 Copter: add air mode aux function
1280eff6ef RC_Channel: add AIRMODE for copter
0eb03ba7d5 Copter: make SuperSimple type-safe
d35643a372 Copter: 4.0.4-rc2 release notes
040f78f515 RC_Channel: announce RC switch changes via statustext
0c5d31f40f AP_Logger: ensure log directory exists before opening log
66f8359c6b AP_Logger: factor out an ensure_log_directory_exists method
ab2eb6185f Plane: also limit throttle during quadplane transitions
839e03f3e4 AP_AHRS: attitudes_consistent obeys always_use_EKF
d1170db4bf Tools: allow parameters to be specified on a per-vehicle basis
799c538c3e AC_Fence: ALT_MAX is Copter-and-Sub only
30c65e57be SITL: remove use of Vector3 as function
2f8c0dd65b AP_Math: remove use of Vector3 as function
0f2bcea647 AP_Compass: remove use of Vector3 as function
8c0aed9c6c AP_AHRS: remove use of Vector3 as function
1206df6f0c ArduPlane: remove use of Vector2 as function
dad5b4e903 AP_Math: remove use of Vector2 as function
97d7d563c4 ArduPlane: Improve parameter description for FWD_BAT_VOLT_MAX/MIN
fdb4f908bb ArduPlane: Fix bug in forward throttle voltage compensation
f25d20f549 AP_Compass: Only send a single MAG_CAL_* message per poll
ab2dea5b86 AP_Common: Add % operator to TSIndex
b3a2b360e6 AC_Fence: clear breach if breached fence is not enabled
7f429302ed HAL_ChibiOS: increase monitor thread stack to 768 bytes
ba5e4b8e37 autotest: python3 fix for fly_guided_move_to
82480f0a3d AP_Compass: return id of max empty compass state when prio id is 0
243cfb5ffa Tools: added Pix32v5 bootloader
ef8b09fa8b Tools: added Holybro Pix32v5 to build
6fa623d074 HAL_ChibiOS: added Holybro Pix32v5
042ca7861f AP_Scripting: get_output_scaled method
300e7ac2eb autotest: increase timeout on receiving mission-related messages
147ebb74f4 Plane Parameters: fix THR_MAX param description
dbb9656ca7 Rover: rename 'enum aux_switch_pos_t' to 'enum class AuxSwitchPos'
6c4812e408 ArduPlane: rename 'enum aux_switch_pos_t' to 'enum class AuxSwitchPos'
a629e91f30 ArduCopter: rename 'enum aux_switch_pos_t' to 'enum class AuxSwitchPos'
ea03504af2 AP_Camera: rename 'enum aux_switch_pos_t' to 'enum class AuxSwitchPos'
8fd50dd66e AP_Arming: rename 'enum aux_switch_pos_t' to 'enum class AuxSwitchPos'
88f4232e46 RC_Channel: rename 'enum aux_switch_pos_t' to 'enum class AuxSwitchPos'
77e5236278 autotest: drain mavlink queue to avoid failing on slow MISSION_COUNT
14e01e21b7 HAL_ChibiOS: MatekH743: move baro to I2C2 bus
dc19dfaed8 autotest: fix several race conditions in RCOverride test
e207bbdf2a autotest: fix SYSTEM_TIME stream detection function
c1403a2e2b HAL_ChibiOS: fixed default CubeOrange pin for 2nd current sensor
9ddc7ea763 SITL: rebuilt linux tcp connector for matlab
2f99326db8 SITL: MATLAB: fix conector auto reconect
10000ed8ee SITL: recompile MATLAB pnet function
8867457c4f AP_OSD: fix pointless multiple/divide
0e964a4654 AP_Logger: use config error loop rather than abort
f5f403947c AP_NavEKF2: clarify POSNE_M_NSE desc
4477e2c617 AP_VisualOdom: fix desc typo
01e6b316a6 AP_VisualOdom: clarify POS_M_NSE and YAW_M_NSE description
255c685a8a AP_Logger: fix missing unit description in VISP
6714aa4e83 AP_Logger: shorten VISP and VISV log field names
9b448b83c0 AP_NavEKF3: use err info from ext nav interface
5e5a0d2111 AP_Logger: log ext nav pos err and ang err
5d271d1e04 AP_VisualOdom: support covariance from msg and add pos, ang err parameters
991387dbfb GCS_MAVLink: support covariance field in vis pose msg
e64c92b322 AP_NavEKF2: use err info from ext nav interface
f92d539b41 RC_Channel: Aux switches to respect 'reverse' option
f04acbd7de RC_Channel: stop writing events when fence enabled or disabled
973b103a4a AC_Fence: write log event when fence enabled or disabled
f158533fe9 GCS_MAVLink: allow private channels to also be active
db6fef7ebd Tools: uploader: translate board IDs into board type in incompat output
06012cbc56 GCS_MAVLink: cope with RingBuffer rename if empty() to is_empty()
e15abd3320 AP_RCTelemetry: cope with RingBuffer rename if empty() to is_empty()
fd3dd77489 AP_HAL: rename ringbuffer empty() to is_empty()
f59d2fdbf4 ArduPlane: add and use accessor for last-RADIO_STATUS.remrssi-ms
b428f12913 GCS_MAVLink: add and use accessor for last-RADIO_STATUS.remrssi-ms
07e3f1d48f GCS_MAVLink: add RADIO_STATUS.rssi as an AP_RSSI telemetry source
547b641c91 AP_RSSI: add RADIO_STATUS.rssi as an AP_RSSI telemetry source
345029ec67 AP_NavEKF3: print extNav buff size
c4440a81f4 SITL: SIM_Vicon supports sending at 50hz
6c10655059 AP_NavEKF2: accept extnav at up to 50hz
0f212ca727 AP_NavEKF3: accept extnav at up to 50hz
579227d27a Tools: param.py add MB
fee5b998bf AP_Logger: add min MB free param
2121ddf736 Plane: drop unneeded call to calc_pwm
0d53ce4cd7 SRV_Channel: re-work timeout
66cbed78f5 SITL: JSON examples: update readme
5d9e0cb58d SITL: added robot.py pybullet example code
86d53c96d1 AP_Scripting: added opendog lua demo
ac5594566e SITL: rebuild matlab pnet for x86_64 linux
5b58b91626 SITL: allow connect back to originating port for matlab
f5e98a6d69 SITL: update MATLAB example
fbb4df97a3 SITL: SIM_JSON: update
44f727cfd2 SITL: removed use of extra port for JSON
c6603be64a SITL: MATLAB regenerate pnet.c for windows
99465b718f SITL: allow MATLAB pnet.c UDP no connect
843485ba5c SITL: fixed formatting of pnet.c
d9fc96f971 AP_Terrain: shortcut ocean tile creation
078de3205c AP_Terrain: added test option to terrain creation script
15f9f7009c AP_Terrain: fixed filling of all lattitudes in terrain generation script
0528daecd8 autotest: increase timeout for compass calibration
83d5df257e Tools: fix sitl_calibration stopping at calibration report
6a1f43d5df HAL_ChibiOS: fixed build with our old compiler
71ae9426c5 SITL: Fix hand launch behaviour
c1de346150 GCS_MAVLink: avoid copying data twice in ftp transfers
cdcdd5ce27 AP_HAL_ChibiOS: Added support for Bitcraze Crazyflie 2.1
0d96c7f7a5 AP_HAL_ChibiOS: Added support for Bitcraze Crazyflie 2.1
9f26bd0a67 AP_BattMonitor: TYPE param swap for SMBus-Maxell and SMBus-Generic
ff0460342b AP_Proximity: minor comment fix
2396a8176c AP_BattMonitor: comment fix
268c67d12d AP_BattMonitor: correct Maxell capacity
3de2dff6e3 AP_BattMonitor: simplify SMBus driver includes
4ea565e4ed AP_BattMonitor: Maxell driver inherits from SMBus_Generic
f869cd9aa6 AP_BattMonitor: complete rename of SMBus_Maxell to Generic
c13c037f7b AP_BattMonitor: rename SMBus_Maxell to Generic
2e7dc380c4 SITL: revert default physics step to 1200
5349113104 SITL: improved the speedup code
750b220a5f SITL: simulations optimisations
bdda78d0bb Tools: move removal of modemmanager down
5866c865c0 Vagrantfile: add focal
7390846851 autotest: we need more than 1500 throttle for SimpleMode test
fbd774fde9 Plane: set pressure alt for vtol motors
7c2d13c571 SITL: added simulation of pressure altitude for multicopter
a5e9da337a Tools: autotest: fix FixedYawCalibration
2c3bd61eb4 autotest: remove older compass calibration test
c0eb27cc35 AP_Compass: pull compass calibrator out into a separate thread
bd53796ed4 Tools: copter: add compass calibration testing
2c7fc65fbd Tools: common.py: add generic compass calibration test
b72a17533c Tools: common: add a method to try arming and wait a result
59de90d97f Tools: common.py: make max_delta a paramter for verify_parameter_values
c914a91be9 AP_Compass: add support for per mag calibration
95493e4569 SITL: add support for per mag calibration
4b7d45e549 Plane: label and sort plane.h functions
86687d240d AP_NavEKF3: avoid compiler warnings from -Wclass-memaccess
b02d9abd32 AP_NavEKF2: avoid compiler warnings from -Wclass-memaccess
6490a57179 autotest: move check_logs to be an AutoTest-class function
2c43efc7b4 Tools: vagrant: remove duplicate from install script
6b596184cf Tools: install-prereqs-ubuntu : use variable for pip version selection
b238d081ac Tools: install-prereqs-ubuntu : prevent crash when link already exist
e40480a0ed Tools: install-prereqs-ubuntu : fix package_is_installed
d08e9b3363 autotest: --list-subtests works for QuadPlane, Heli and BalanceBot
8a87322d93 AP_HAL_Chibios: Adjust MatekF765-Wing voltage and current scales
d73043fc2f SITL: get_wall_time_us() to use a monotonic clock on non-Windows systems
0d5a0f392c hwdef.dat update x2.1-777
571fbf8f71 HAL_ChibiOS: update power VALID pins
863807c9fb HAL_ChibiOS: use more consistent naming for power VALID pins
f896213770 AP_AHRS: drop rotate prefix on 2D rotates
2cd5519d5d Copter: rename 2D rotation functions
d7b20c6e48 AP_Scripting: added micros()
1bc9001267 AP_Scripting: added ahrs:get_EAS2TAS()
f8be087c7e AP_Scripting: added new lua bindings
7d520c8307 AP_AHRS: added body/earth frame ops for Lua
a56a7f7da4 AP_Math: added more vector3f ops for lua
6c67ddacf4 autotest: rename set_heartbeat_interval to set_heartbeat_rate
cab3630009 AP_InertialSensor: switched to supplying timestamps for SITL
e4596efe9b SITL: added SIM_RATE_HZ
43bef1ac9e AP_Proximity: fix proximity ignored zone calulation
f842c27070 AP_HAL_SITL: correct clearing of UART drivers
f3bee7fa03 AP_HAL_Linux: correct clearing of UART drivers
931c77fa77 AP_HAL_ChibiOS: correct clearing of UART drivers
c936307ecf RC_Channel: minor format fix to option param desc
cde7ae246e Copter: add ZIGZ_AUTO_ENABLE parameter
78fd5fac04 Copter: allow to resume in ZigZag Auto
cee7e94ebc Copter: add zigzag_line_num parameter
7bc528097d Copter: support zigzag auto feature
ea3c11030c RC_Channel: add ZIGZAG_Auto Aux switch
60fb275501 Copter: rename zigzag_auto_pump to zigzag_sprayer
63002111eb Copter: add ZIGZAG_WP_DELAY parameter
923237ffd3 Copter: Enumerate A and B points of ZigZag
9b64ca040d Copter: do not adjust trims while landed
d2b94bd45d Copter: verify_circle removes redundant setting of circle center
b21f9030b7 AP_Soaring: Update parameter ranges.
4e216f976f autotest: assert that Plane doesn't support fence-via-mission-item-protocol
b07fb05dde autotest: Use ==/!= to compare constant literals (str, bytes, int, float, tuple)
a13ddc1096 AP_Scripting: add binding for get_output_pwm
78858bbcdd AP_GPS: switch ublox over to 230400 baud
568e13fbb9 Plane: allow for continue after land for quadplanes
d9d53d380d AP_Landing: implement continue after land for fixed wing landings
e673bd8909 Copter: implement disarm on land based on MIS_OPTIONS
7c49723f19 AP_Mission: added continue after land mission option
f9b02a6814 AP_RangeFinder: HC-SR04: Add glitch filter
fc1ea612b1 AP_RangeFinder: add support for HC-SR04 rangefinder
400220e210 AP_BattMonitor: Rearrange arming check order
2dcf8a3b08 AP_RangeFinder: cope with beyond max range with LightwareI2C
22d052b711 AP_Arming: check for duplicate auxswitch options
c0d7739929 Copter: move check for duplicate auxswitch options up
911570e9f3 Plane: Protect against a divide by 0 when calculating the forward throttle compensation
ffaa60b9ed autotest: stop emitting duplicate rangefinder headings
93d8458d2a AP_NavEKF3: FuseVelPosNED uses ext nav vel err in obs data check
d37eec5fd8 AP_NavEKF3: ext nav vel corrected for sensor position when recalled from buffer
79901ffc1b AP_VisualOdom: pass velocity error to logger
08f6b2128e AP_Logger: add VISV field descriptions
714975662d AP_Logger: VISP message gets velocity error field
31763424a3 SITL: speed up vicon messages to avoid EKF timeouts during resets
630bc01101 AP_HAL_SITL: send vehicle velocity to sitl vicon class
c8f6cb233b SITL: vicon supports sending vision-speed-estimate
3a209d5d84 SITL: SIM_Vicon loses unused obs_elements structure
cad9889656 AP_AHRS: send vision-speed-estimates to EKF3
c7817eaca1 AP_NavEKF3: support VISION_SPEED_ESTIMATE
bdb67532b0 AP_Math: clarify get_vel_correction_for_sensor_offset comment
4639e8a698 AP_Math: add get_vel_correction_for_sensor_offset
9b480ca755 AP_Logger: support VISION_SPEED_ESTIMATE
66a5f645d7 AP_VisualOdom: support VISION_SPEED_ESTIMATE
ff6e4c4f9a GCS_MAVLink: support VISION_SPEED_ESTIMATE
dee095b4a4 AP_NavEKF2: support VISION_SPEED_ESTIMATE
c9e363d529 AP_AHRS: support VISION_SPEED_ESTIMATE
baa33d99a9 Copter: version to 4.1.0-dev
ce17844a72 Copter: release notes update for 4.0.4-rc1
fb2ac2db93 Copter: release notes for 4.0.4-rc1
969a66fa01 Tools: autotest: Add Max RC input test for Rover
c474edbfbc autotest: attempt to make parameter download more reliable
e7d98648e6 AR_WPNav: Reset WP origin if recovering from OA
44f0aef5e9 AP_OAPathPlanner: Add param to reset WP origin while recovering from Bendy
7bd32338ef travis: run tradheli tests
adeb37581f autotest: fix heli for setpoint change
aaef44858f autotest: add test for Heli stabilize-mode takeoff
1b7672a84f AP_Motors: Correctly adjust heli run up timer in bailout
141ab622a3 SITL: examples: JSON: MATLAB: add pnet linux compiled
13965133b0 SITL: examples: JSON: add MATLAB example
fa712082d7 SITL: examples: add JSON readme
ce0cb9660f SITL: examples: add MATLAB TCP/UDP/IP Toolbox
0c6efa5f26 SITL: add JSON backend
c31a4f4b14 AP_HAL_SITL: add JSON backend
ae0fbdfa07 Tools: updated CUAV-Nora bootloader
220e6999c7 HAL_ChibiOS:Adapt to CUAV Nora V1.2 hardware
1ebfc79eb0 AP_HAL_Linux: enable console for examples
c44b760f3c autotest: explicitly run hello-world test and check for string
67e79638d4 build_binaries: add mRoPixracerPro
7809dc849c HAL_ChibiOS: Added support for mRo Pixracer Pro flight controller
ebcbc6d449 Plane: update release notes for 4.0.6beta1
529bfe8fcd AP_GPS: fixed issue with GPS selection for moving baseline
b0916231b2 autotest: add tests for log download
41245acf14 AP_Logger: Added units to CurrTot message
59a472e41e Tools: Added name to GIT_Success.txt
6cdee8c830 AP_BLHeli: read more efficiently from telemetry UART
6d9e563ede AP_HAL_ChibiOS: override read(buffer,count) method to be more efficient
d259c03079 AP_HAL: BetterStream add a read(uint8_t*buffer, uint16_t count method
539e73e49c Tools: uploader.py: print board name as well as board id
1d9c2b1726 AP_Logger: add documentation for SBPH and SBRH
9c72525bbf AP_HAL_ChibiOS: Add unused LED output as GPIO in OmnibusF4Pro def
19dc07250d AP_NavEKF2: clarify yaw reset error message
bf3cb977fd AP_NavEKF3: clarify yaw reset error message
6fa7dca68b AP-Baro: fix init without baro
13592cef91 AP_Frsky_Telem: removed time constraint to allow SITL regression testing
6303c700d4 AP_Frsky_Telem: prevent SPort frame fragmentation by writing whole 8byte frames vs writing single bytes
af80c4a29f AP_RangeFinder: remove move-to-error-state for LeddarOne driver
3bf1ac5918 AP_BLHeli: trim annoying LF from debug "Bad CRC" line
67e4756f19 AP_Hott_Telem: use new UARTDriver discard_input method
de2055b57f Tools: use new UARTDriver discard_input method
90038339dc AP_UAVCAN: use new UARTDriver discard_input method
95f9769041 AP_RangeFinder: use new UARTDriver discard_input method
f1182637a6 AP_IOMCU: use new UARTDriver discard_input method
71f6262294 AP_EFI: use new UARTDriver discard_input method
d012cf8d47 AP_Camera: use new UARTDriver discard_input method
a073469423 AP_BLHeli: use new UARTDriver discard_input method
80615c44ff AP_HAL_SITL: add discard_input method on UARTDriver
9a9743e6ba AP_HAL_Linux: add discard_input method on UARTDriver
b16c1ea647 AP_HAL_Empty: add discard_input method on UARTDriver
8f54de4184 AP_HAL_ChibiOS: add discard_input method on UARTDriver
a8d03990ec AP_HAL: add discard_input method on UARTDriver
f199ca54bd Tools: fix install-prereqs-ubuntu make a function to return 1 if a dpkg find that a package is installed, O otherwise
a8c8f192b4 dockerignore: fix removing of test directory on context
7688430029 Plane: allow Qassit for fw to vtol transision
87cd9a4791 Plane: allow Qassist for tailsitters
2467d7b5c7 Plane: add Qassist switch
bfd71fdae1 RC_Channel: add Qassist switch
5bfcb0ed4a SRV_Channel: Add servo chan override w/ timeout
5e74152444 AP_Scripting: Add servo chan override w/ timeout
cf0f95f81e AP_BLHeli: allow for negative temperatures from BLHeli32 ESCs
300a118852 Rover: astyle, reformatted few files in Rover Dir
a0cf4e158a AP_Compass: revert change to RM3100 scale factor and increase scale limit
49918d070e AP_Logger: add documentation for ESC LoggerMessage
cc60faa58e AP_Logger: use single message number for all ESCs by using instance #
c8fdf9305b autotest: add test for quadplane stickmixing
0a5021fdcf Plane: bugfix: never reset auto_state.sink_rate
63b5711a4d AP_Compass: use a separate slot for the custom compass rotation
acff7daba5 AP_RCProtocol: scale SRXL2 using published conversion values. switch SRXL2 channels to match ArduPilot
6da1f3bf2e AP_GyroFFT: filter energy, harmonic and amplitude fit. Make a better guess at harmonic matching
fab8168f5c AP_Arming: allow FFT to report failure reason. allow FFT check to be disabled.
8ac79da643 AP_InertialSensor: FFT gyro window would overflow on windows >= 256
94235c5739 Sub: make sure AP_Vehicle::fast_loop() gets called
3515dc9322 Copter: make sure AP_Vehicle::fast_loop() gets called
1358e39ffd autotest: test 256 FT windows and fix calculation of log-based FFT
d873ec4533 AP_Vehicle: separate gyrofft gyro sampling from fft initiation
13e40a3002 AP_HAL_Empty: add harmonics to DSP
33c1523905 AP_HAL_ChibiOS: add harmonics to DSP
ee87ef7013 AP_HAL_SITL: make harmonics part of DSP
e2ef0bd36e AP_HAL: collect data for three largest peaks
605672b631 autotest: round frsky altitude rather than truncate
c9fb988a57 Tools: Added check for validating input arguments in ardupilot-astyle.sh
26c2555c3c Plane: increased allowed time for mavlink send to 750us
5bbb02e03b SITL: add support for simulated proximity sensors
be9fc57e8f AP_HAL_SITL: add support for simulated RPLidarA2
f5320e8816 AP_Compass: make sure SITL rotation gets initialized like all the others
7b9f0f3fd7 HAL_ChibiOS: use FIFO mode instead of Queue mode in FDCAN driver
9269ee50ed Copter: Allow manual autorotations without enabling arot flight mode
b2d2bf61da AP_Motors: Support autorotation windows on external governors
23e7e2d193 AP_RangeFinder: rename Benewake types for easier identification
5775d09914 Tracker: add AP_Logger parameter tree
a7768aabae Tools: Expose more options to SCRIMMAGE
1f1383ab64 autotest: add quadplane test for qassist
af19fea268 AP_NavEKF2: Fix 3-axis mag fusion per axis error handling
cca1a5d9d2 mavlink: update for new guided commands
0f5177b291 Plane: Support a set of offboard MAVLink guided controls with rates
d4df145b4b ArduPlane: option to keep landing throttle at thr_min during flare and touchdown, not zero.
dc3db0476b AP_Landing: option to keep landing throttle at thr_min during flare and touchdown, not zero.
9f02b1b1a8 AP_NavEKF2: fix typo in comment
f9c86bbfd0 autotest: ensure cached timestamp is up-to-date for run_cmd_get_ack
b857002158 autotest: drain mav before checking EKF values
d51d6752e5 autotest: drain mav before delay
97f335396b AP_Scripting: fixed memory leak
b368188b01 AP_Scripting: add AP_Logger binding
be37a8a2b6 AP_Scripting: add example logging serial to dataflash
11dc3e05e3 AP_Scripting: add SD file and dataflash logging example
19ba9abc89 AP_Logger: add function and make public for scripting use
f9ff8e5f11 Plane: align GCS PID with logged
96f75093fe Rover: align GCS PID with logged
13d6a887fd Copter: align GCS PID with logged
aa657626f2 AP_Scripting: examples: plane-wind-fs: read in CRT_MAH
520782d7f2 Copter: Correction of spelling errors (NFC)
8b21f5117a Plane: implement RTL_CLIMB_MIN parameter
939331ae8d AP_NavEKF3: Fix double iteration of axes in SelectMagFusion
4b726b716b Tools: environment_install: add xterm to Cygwin packages
05fe49a51f AP_Math: disable INEXACT flag from Float exception
07907ac81d HAL_SITL: fix gcc build on macosx
183e50b31f autotest: fix autotest on mac os x
a54f286c1b SITL: fixed running of example programs
a349a2f956 Tools: fixed SITL build
c5c171b359 Tools: fixed scripting build with --out on configure line
c0fae0b1fb autotest: disable GyroFFT test; underlying issue being actively worked on
dec615bfb5 autotest: drain SITL pexpect when waiting for parameter
115751833b AP_Logger: process pending rotate on arming
f6b121ad87 autotest: add tests for logging
6c20264d9c AP_NavEKF3: minor comment fix
5ad3611142 AP_NavEKF3: improve ext nav glitch handling
b2dd6446c8 SITL: add comment to SIM_VICON
b71403c11a AP_VisualOdom: provide delay to ahrs:writeBodyFrameOdom
b2ad1caf75 AP_AHRS: writeBodyFrameOdom accepts delay
ef02942459 AP_NavEKF3: writeBodyFrameOdom accepts delay
69560ec147 AP_VisualOdom: provide delay to ahrs::writeExtNavData
762e82d49d AP_AHRS: writeExtNavData accepts delay
c28fd27b02 AP_NavEKF3: writeExtNavData accepts delay
f26a2a47b4 AP_NavEKF2: writeExtNavData accepts delay
366d03a533 SITL: add VICON_YAWERR
bf9ee4ada8 SITL: remove unused MAG_ERROR and VICON_HSTLEN params
fd32dff45a AP_IOMCU: force safety off on IOMCU reset
9f56b656e0 SITL: Revamp Examples to support multiple drones
5a64156862 SITL: SITL-Webots timing is received from Webots only
5437f1e6ee AP_Periph: prepare for 1.1.0
0c9433873c ArduPlane: Modify ekf failsafe checks
85e53d53e1 ArduPlane: Don't use optical flow health when assessing EKF nav health
3a10838c65 ArduPlane: Don't check variances if not available
70a02f31ab ArduPlane: More efficient type use
5b312e9f09 ArduPlane: Fix logic error
cd5714d059 ArduPlane: Allow EKF dead reckoning to continue after loss of GPS
40cc5a5006 ArduPlane: Improve EKF failsafe in VTOL modes
318811210f AP_NavEKF3: Don't perform emergency yaw reset unless commanded externally
c94de61e29 AP_NavEKF2: Don't perform emergency yaw reset unless commanded externally
fc28cd4fa2 GCS_MAVLink: fixed a ftp duplicate reply
64360f263c Copter: land detector allows larger lean angle request in land mode
a7aa43f5d5 AP_NavEKF2: ext nav will not reset yaw if compass is used
45e6896d95 AP_NavEKF3: ensure extnav angle error is at least 5deg
e9b939ccb5 AP_Scripting: build fix for macOS
36869f668b AP_Scripting: fixed build on cygwin with deep directories
50db7f1648 AP_Scripting: update README.md
4311385cb9 waf: recurse into AP_Scripting for build
be812f490f waf: added AP_LIB_EXTRA_SOURCES
9cf464e570 AP_Scripting: removed the old Makefile
2c6fd13899 AP_Scripting: auto-build the bindings
5c8e4a4d7b AP_Scripting: removed old generated bindings
9d9fdd1cb0 AP_Scripting: add big demo script for editing and updating mission item/s from lua.
2ce5f0f566 removed stray file
816474b6e8 AP_Scripting: rebuild bindings
963b25059d AP_Scripting: allow to get/set/create arbitrary mission items
59a2667870 Plane: quadplane's throttle mix uses filtered accelerations
d16f31711e AP_RangeFinder: fixed mixing UAVCAN and non-UAVCAN rangefinders
70f445e7f1 Bone : Faulty PWM output after few flight controller restarts due to wrong IEP Timer configuration
582de68ea7 AP_Periph: updated release notes
50d2b51f3d AP_Periph: added release notes
67b7c21f87 AP_Periph: prepare for 1.1.0 beta release
4c1418f325 AP_Periph: added LED blinking while waiting for DNA
d789c618a2 AP_Periph: use rangefinder get_address()
603e5c4b55 AP_RangeFinder: added get_address()
5100c9fb8c GCS_Common: whitelist AUTOPILOT_VERSION for in_delay_callback sending
ca4af94833 AP_Logger: prevent potential infinite recursion in log-open codepath
12d5602926 AP_HAL_ChibiOS: Add ability to use UART3 and UART4 in bd alt config 4
8ce27afba0 Copter: fix mode and fence gps check fail message
ebd2e15a6e Tools: added name to GIT_Success.txt
50523ed0fa AP_HAL_ChibiOS: remove pointless initialisations
67903a29e2 AP_NavEKF3: fix getLLH when no GPS
b95bc9076b AP_NavEKF2: fix getLLH when no GPS
1bfc34f5f9 README: Add soaring maintainer.
2200dfefdb HAL_ChibiOS: during setup() we expect delays
ebc6272865 tests: avoid warning
04e29d58e3 RC_Channel: avoid invalid misaligned access in example
5350ea5c58 AP_NavEKF3: avoid build warnings with g++ 9
3e853344f3 AP_Math: avoid build warnings
27686aed47 mavlink: update module
87c2858bde GCS_MAVLink: give banner on param download with ftp
259cb0aafd HAL_ChibiOS: removed EKF2 define, not needed any more
8868ac2d6f AP_AHRS: disable EKF2 by default on 1M boards
61d036acf3 HAL_ChibiOS: added build time check for right system clock
69676cd614 HAL_ChibiOS: support 24MHz f3 MCUs
3f735e7e54 HAL_ChibiOS: Make full UART4 available as bd config option
225a305cb9 AP_HAL_ChibiOS:Remove alt config since its not useful (no TX available)
8b3f07416c AP_NAVEKF3: change plane check_scaler value to match EKF2 value
8c59eb58bb Tools: added generic copter CMAC mission
cd5aae20c1 AP_NavEKF3: fixed scary message for non-compass planes
4a80313fdd AP_Compass: added get_num_enabled()
9eaf7f5528 Plane: Fix VTOL yaw for STICK_MIXING 0
9d6a138680 Tools: Require edn_format again
ceb0a9c827 AP_Airspeed: Rearrange state to save memory
64e300a00c AP_Soaring: add documentation for VAR dataflash log message
446dc61979 AP_InternalError: add warning on the internal error_t type
70a9abfaff AP_InternalError: emit stringification of internal errors
75514dfdfe AP_Arming: emit stringification of internal errors
8f864f02fb autotest: 256 windows don't currently work
db4a612c13 autotest: test 256 FT windows and fix calculation of log-based FFT
1c7354c321 autotest: improve mount debug
8222b5db62 Plane: AP_Soaring no longer takes AHRS in constructor
69093aa7b1 AP_Soaring: stop taking AHRS as constructor argument
f1f30a2fee AP_UAVCAN: regularise CAN pre-arm failure messages
245b962d92 AP_PiccoloCAN: regularise CAN pre-arm failure messages
a6246a6afa AP_KDECAN: regularise CAN pre-arm failure messages
b38d2c6194 AP_Arming: regularise CAN pre-arm failure messages
8ea433ac21 AP_Terrain: added script for creating terrain *.dat files
7b7bf3ef86 AP_Terrain: fixed bug in disk offset calculation
b312260be3 autotest: add timestamp to progress message
f23e592057 AP_Camera: move get_channel_pos function to RC_Channels
806bd38c7f RC_Channel: add get_channel_pos function
de854a2ffe AP_Arming: pre-arm check for disarm aux switch
4fdd24ecd3 RC_Channel: add disarm aux switch RCn_OPTION=81
875fa36018 Copter: remove an unnecessary condition
9c3a0b863f Copter: use check_failed function for ESTOP arming check
87c75332e7 Plane: ignore guided cmds from mavlink if we're in avoidADSB.
f17ea78a6c Plane: move sending of WIND message to GCS namespace
e75fa6fb15 Plane: move sending of AOA_SSA message to GCS namespace
3ded030fa8 Plane: compensate forward throttle for battery voltage drop
b7b2d9a6ce AP_Compass: add support for custom compass rotation via COMPASS_CUS_{ROLL,PIT,YAW}
167e1d12d7 AP_RCProtocol: disable flow-control and buffered-writes for SRXL2 uart
44e5171f2b AP_Frsky_Telem: refactor common code into AP_RCTelemetry
e3a88f686d AP_RCTelemetry: Spektrum telemetry library and telemetry abstraction
da166b256d GCS_MAVLink: add messages to Spektrum telemetry if it is enabled
d0cd494178 waf: add AP_RCTelemetry to build
68c6a3b03d AP_RCProtocol: SRXL2 support
967f8bf726 AP_HAL_ChibiOS: correct description of where stdout goes
f8b6d4b0ac AP_Parachute: Fix singleton panic message
bd0ebb5778 autotest: accept statustext and ack in any order for mission errors
e126b6d346 HAL_ChibiOS: fixed race condition in storage write
0c1ba48212 AP_NavEKF3: fixed external yaw EK3_MAG_CAL=5 or 6
f43e48a6f1 AP_Filesystem: correct comparison of signed/unsigned
ebc781ba3a autotest: switch to looking for barometer update string for passthrough test
d197fd4acf autotest: fix rare, random failure in GCSRally test
29d8586ea4 AP_HAL_Linux: RCInput_UDP: accept up to 16 channels
944939fde3 Copter: remove unused heli definitions
e889f6091e Copter: fix Throw param desc
d1eb03df30 Copter: Report MAV_SYS_STATUS_SENSOR_Z_ALTITUDE_CONTROL and MAV_SYS_STATUS_SENSOR_XY_POSITION_CONTROL as healthy if the flight mode says so.
f0fb64005d AP_Filesystem: document extra restrictions in param.pck
685d0666e9 AP_Filesystem: added README on VFS interface
d83b9575da Tools: vagrant: check for $HOME/.local/bin on init for local python package
05f8d7647a Docker: update the docker file and add .dockerignore
ced185b59b Tools: Completion: fix vehicle type competion
64b7e8fb9e Tools: prereqs-ubuntu: cleanup and improvements
2b2dcbb6d8 Tools: Configure-ci: correct some mistakes
183ce50138 AP_NavEKF3: check GPS used before resetting pos due to GPS receiver change
f79d5d2d2c AP_NavEKF3: handle external nav position reset
cbb25311bb AP_NavEKF3: setAidingMode uses lastExtNavPassTime_ms
d763597065 AP_NavEKF3: compensate for visual odometry sensor position
c5e465aec9 AP_NavEKF3: add external nav system support
471372cc7f AP_AHRS: Write external nav data to EKF3
610d43556c Rover: create and use INTERNAL_ERROR macro so we get line numbers
2c16810493 ArduSub: create and use INTERNAL_ERROR macro so we get line numbers
86c765d8c9 ArduPlane: create and use INTERNAL_ERROR macro so we get line numbers
ba5bbcdea7 ArduCopter: create and use INTERNAL_ERROR macro so we get line numbers
19f298e04c AntennaTracker: create and use INTERNAL_ERROR macro so we get line numbers
81454c7a40 GCS_MAVLink: create and use INTERNAL_ERROR macro so we get line numbers
58a8e54d83 AP_Math: create and use INTERNAL_ERROR macro so we get line numbers
7befe84f0c AP_Logger: create and use INTERNAL_ERROR macro so we get line numbers
f0b38fa11c AP_IOMCU: create and use INTERNAL_ERROR macro so we get line numbers
a30cdabb34 AP_InternalError: create and use INTERNAL_ERROR macro so we get line numbers
5f8a9d1e15 AP_HAL_SITL: create and use INTERNAL_ERROR macro so we get line numbers
141d7fed48 AP_HAL: create and use INTERNAL_ERROR macro so we get line numbers
48da4e523c AP_HAL_ChibiOS: create and use INTERNAL_ERROR macro so we get line numbers
37cddbeea6 AP_FlashStorage: create and use INTERNAL_ERROR macro so we get line numbers
8e82ea2540 AP_Common: create and use INTERNAL_ERROR macro so we get line numbers
119eef9954 AP_Arming: create and use INTERNAL_ERROR macro so we get line numbers
36fd632a49 AP_AHRS: create and use INTERNAL_ERROR macro so we get line numbers
069bd04bdc AC_Fence: create and use INTERNAL_ERROR macro so we get line numbers
75b5e20c6a build_binaries.py: add mRo MN10070 Location One CAN GPS
defb7dc43f hwdef: add mRo M10070 Location One CAN GPS
3268c234d8 AP_HAL_Linux: Add PAGE_SIZE in RCInput_RPI
32c0e37512 AP_HAL_Linux: Organize and document GPIO_RPI class
ec73cb0e88 Tools: don't fail CI if we can't install edn_format
66655212b1 AP_Compass: fixed compass ordering bug with AP_Periph
3ec2ef787d HAL_ChibiOS: fixed build warning
f00392d567 AP_GPS: don't accept a zero GNSS timestamp from UAVCAN GPS
01e77d6f5b AP_Periph: don't send a zero timestamp marked as UTC time
ce68e0fbb5 HAL_ChibiOS: fixed bootloader build
0ef66659ce HAL_ChibiOS: log WDOG message once a second
7d6e5fa8a5 AP_InternalError: implement AP_stack_overflow() C binding
18e88e0ea3 HAL_ChibiOS: implement stack overflow hook
77b8f88289 AP_Vehicle: report thread name in watchdog mavlink msg
c61cecdbc7 HAL_ChibiOS: report thread name in watchdog
09477b2dfe HAL_ChibiOS: shorted thread names
a25ea5addc AP_HAL: added thread name to persistent data
ca16701823 ChibiOS: added hook for stack overflow
b519ebf512 AP_Filesystem: check for valid range for start and count
7571e616de GCS_MAVLink: handle session timeout due to lost packets
db0d3c5e89 AP_Param: fixed race in param count handling
65e790a48c GCS_MAVLink: invalidate param count on set of ENABLE param
d0a509eef1 ArduPlane: invalidate param count when changing param tree structure
265b9a42fb ArduCopter: invalidate param count when changing param tree structure
ffe9fa22a1 AP_RangeFinder: invalidate param count when changing param tree structure
d7555b4b86 AP_BoardConfig: invalidate param count when changing param tree structure
766fb32292 AP_Param: added set_enable() API
7e010ef50a AP_NavEKF3: use set_enable() to set enable flag
c9ffe8dcea AP_NavEKF2: use set_enable() to set enable flag
300cfa4380 Tools: added param_unpack.py
f6d83069d3 AP_Filesystem: guarantee padding and added URI options
3608bfe272 AP_Filesystem: added magic header for param.pck
65749706c2 AP_Filesystem: fixed SITL build
518ff84ff6 AP_Periph: fixed ADSB build
a5965d5a9e HAL_Chibios: removed unnecessary debug defines
9b14fa7ed9 AP_Filesystem: enable @PARAM, @ROMFS and @SYS with no microSD
7cd901fa5b GCS_MAVLink: enable ftp without filesystem
2c26807736 HAL_ChibiOS: embed hwdef.dat in ROMFS for all boards
bd07e8516f Filter: use GCS_SEND_TEXT()
3397ea24cc AP_RTC: use GCS_SEND_TEXT()
b102fd6b59 AP_RangeFinder: use GCS_SEND_TEXT()
9350c78023 AP_HAL_ChibiOS: use GCS_SEND_TEXT()
4f591a338f AP_GPS: use GCS_SEND_TEXT()
660f65e6b8 AP_Compass: use GCS_SEND_TEXT()
40f1b5f9ae AP_Airspeed: use GCS_SEND_TEXT()
5b063731b6 AP_Periph: avoid building GCS_MAVLink
6811d79b6f GCS_MAVLink: define GCS_SEND_TEXT() globally
6bacf021c8 HAL_ChibiOS: disable thread_info in AP_Periph and bootloader
d82cd1363b HAL_ChibiOS: fixed bootloader build
cd3b4dcc7d AP_Filesystem: added @SYS filesystem backend
f0c9f4003e HAL_ChibiOS: implement thread_info()
164022ca12 AP_HAL: added thread_info() API
67fc23d01b AP_Filesystem: support downloading parameters via ftp
456b685779 AP_Param: make type_size() public
ea71b72c87 HAL_ChibiOS: fixed issue with I2C4 on H743
475027e03a Tools: autotest.py: add --enable-math-check-indexes
cb3c1742e8 Tools: sim_vehicle.py: add --enable-math-check-indexes
d8bc197d35 SITL: add VICON_GLIT_XYZ, FAIL and YAW
ad5ae1813d AP_NavEKF3: Don't use geomag data when user specifies declination
e1f27054d5 AP_NavEKF2: Don't use geomag data when user specifies declination
8e9dc1c393 AP_Compass: Add accessor function for COMPASS_AUTODEC
b1977ca43d AP_Scripting: removed old servo output binding
d214e379a2 AP_Scripting: rebuild bindings
ea9316c2b5 AP_Scripting: added servo movement example script
ca584943a5 AP_Scripting: added bindings for servo output
7de136121b Tools: Exit cleanly based on the environment
908b63573e Tools: Implement better Scrimmage support
98dfc69887 SITL: Don't start scrimmage from ArduPilot
e75ac4ae57 Tools: Allow multiple ArduPilot instances to be spawned
570aa929ca AP_Compass: handle ROTATION_CUSTOM in SITL
db1c7d9bdd SITL: add support for AHRS_ORIENTATION=ROTATION_CUSTOM
7d3d664ddf AP_Math: generate internalError on call to Vector3<T>::rotate and Quaternion::from_rotation with bad rotation value
b658a84124 AP_InternalError: add error type bad_rotation
ce171107a3 SITL: update tradheli dynamics model for SITL
bf86059229 Tools: update tradheli sitl default param file
2cb54bb11d AP_BattMonitor: NeoDesign battery driver
137077c47b Sub: remove unnecessary EKF includes
36b551b75b Sub: use ahrs set-alt-measurement-noise instead of direct calls to EKF
8caf7d5811 AP_AHRS: add set_alt_measurement_noise
9b404669c8 AP_Compass: Skip rotating the mag data when the board orientation is none
10d990a43b AP_Bootloader: refer to SERIAL_ORDER
32cdfddf12 HAL_ChibiOS: convert all hwdef from UART_ORDER to SERIAL_ORDER
a52070d226 HAL_ChibiOS: use SERIAL_ORDER instead of UART_ORDER
a950d7f503 Tools: rebuilt bootloaders
a2da360ecc Tools: added --Werror to bootloader builds
0994655f5b HAL_ChibiOS: fixed build warnings for bootloader builds
9557a5c22c HAL_ChibiOS: added more STM32CubeMX configs
a9df9fe0c0 HAL_ChibiOS: removed clock tree settings in most hwdef.dat
a638196334 HAL_ChibiOS: skyviper-f412-rev1 uses a custom clock tree
13e11d6a19 Tools: omit f103-periph and f303-periph from configure_all.py
e8b2b52bae HAL_ChibiOS: removed STM32_VDD from hwdef.dat
d9efac2993 HAL_ChibiOS: only allow PLL override in clock selection part of header
fe765b8845 HAL_ChibiOS: switched CUAV_GPS to use same clocks as other F4
82c45f6cdb HAL_ChibiOS: default STM32_VDD to 3.3V
29f538dec9 HAL_ChibiOS: use common header for STM32 clock config
3d5475a1d9 HAL_ChibiOS: fixed skyviper-journey build
faffcb304a Tools: allow continue of configure_all.py script
bceee69a6c AP_Filesystem: avoid some warnings in AP_Scripting
911d643c35 Tools: added -Werror option to configure_all.py
f352b6d107 waf: added -Werror configure option
6222649e37 AP_Scripting: avoid build warnings
764117c336 AP_BoardConfig: fixed build warning
bb87da628e AP_Param: fixed build warning
2ae31f9d76 AP_AHRS: get_position obeys always_use_EKF
0f92cb9168 AP_Landing: Description of APP_EXT and unit of L1 fixed
9142f877e7 AP_Mount: use logger Write method for logging Solo gimbal
ad9493caca AP_Logger: use logger Write method for logging Solo gimbal
3618607746 AP_Proximity: AirSimSITL: fix left right swap
8407648316 Filter: make sure the center frequency can never be zero
dd987c9a19 autotest: new harmonic notch test
d0a241597a AP_InertialSensor: add support for double harmonic notches to more effectively target wider noise peaks
1dbde3af09 Filter: add support for double harmonic notches to more effectively target wider noise peaks
cf6f5502a4 SITL: Make Sub buoyancy a parameter
90db3d6317 AP_NavEKF2: minor comment fix
830176f2f4 AP_Logger: remove unused SBFE
26b88823f4 GCS_MAVLink: correct out-of-space-to-send call in HAVE_PAYLOAD_SPACE
8b0b644c11 GCS_MAVLink: correct check for payload space for COMMAND_ACK
668e0d0e65 GCS_MAVLink: check for empty replies queue first thing in send_ftp_replies
7320cd3174 HAL_ChibiOS: fixed assert in wait_pin()
1498e4c037 AC_AttitudeControl: remove unused macro
d9ecf51457 Copter: auto mode loiter-turns accepts pilot yaw input
46ad31ad01 AC_Circle: add is_active
a8af4b2937 AP_Beacon: Change the tab code to whitespace
c713a984da AP_WheelEncoder: Change the tab code to whitespace
1a346e5b19 AP_VisualOdom: Change the tab code to whitespace
1fdcab2b5a AP_Parachute: Change the tab code to whitespace
dec231348e AP_OpticalFlow: Change the tab code to whitespace
509d376c29 AP_Motors: Change the tab code to whitespace
cd981695a6 AP_Mission: Change the tab code to whitespace
28ccc167f7 AP_LandingGear: Change the tab code to whitespace
03e658772a AP_IRLock: Change the tab code to whitespace
3967c46c1a AP_Gripper: Change the tab code to whitespace
a3278c73e3 AC_Sprayer: Change the tab code to whitespace
e1df6933f0 Copter: Set the minimum value to zero.
3ab1b29397 AP_HAL_ChibiOS: error if system clock not 1mhz on 16 CH_CFG_ST_RESOLUTION. prevent variable overflow
f882bd0c3e AP_Logger: remove unused UBY1/UBY2 messages
7e3c9c209e AP_Logger: document GPSB and GPAB
6b232ee515 AP_Baro: add documentation for ICBM message (ICM20789 diagnostics)
91a79543c9 AP_NavEKF3: getLLH fix when no GPS available
2919491298 AP_NavEKF2: getLLH fix when no GPS available
70ef6cf02c Tools: updated Durandal bootloader
d9e2a644ea HAL_ChibiOS: fixed Durandal buzzer in bootloader
b94f089984 HAL_ChibiOS: improve throughput of slcan router
77ff169757 Copter: minor comment fix
680e417c2c Copter: remove unnecessary includes
6c48a9c305 Copter: use AHRS::get_primary_core_index instead of EKF2 equivalent
585c806618 AP_AHRS: add get_primary_core_index
6e93f54cff AP_NavEKF2: handle external nav position resets
990313371d AP_NavEKF2: minor comment fixes
43c9e13372 AP_NavEKF2: rename HGT_SOURCE_EV to HGT_SOURCE_EXTNAV
014c889ceb AP_NavEKF2: setAidingMode uses lastExtNavPassTime_ms
3b20623a31 AP_NavEKF2: remove unused ext nav elements
3440a64b66 AP_NavEKF3: correct description on XKY0
aa3165b71c AP_NavEKF3: remove incorrect units from yaw esimtator LoggerMessage
7dfc285f2a AP_NavEKF2: remove incorrect units from yaw esimtator LoggerMessage
43ac58c63b HAL_ChibiOS: added STM32CubeMX configs for H7 processor crystal varients
db642717be HAL_ChibiOS: fixed clock for FDCAN to be below 80MHz
2c68ce1986 HAL_ChibiOS: fixed clock source for FDCAN
864717310d autotest: allow specification of EKF type to use on commandline
c4fe6fce1c AP_Arming: make RC check message clearer
43ef8a192b AP_NavEKF3: added missing log documentation for field C
d8c533e7ab AP_NavEKF2: added missing log documentation for field C
8f1b732d79 AP_NavEKF2: Add documentation for GSF logging
1720c8de0f AP_NavEKF3: Add documentation for GSF logging
9bdb89474a AP_NavEKF3: Use unique names for EKF2 logging
49e4c799d3 AP_NavEKF2: Use unique names for EKF2 logging
080f555b16 AP_NavEKF3: remove unused isDeltaYaw param from resetQuatStateYawOnly
197d31e9cc AP_NavEKF3: fixed in-flight yaw reset
86d221708c AP_NavEKF3: more white space fixes
4d7e7a960a AP_NavEKF2: more white space fixes
a43beaaa23 AP_NavEKF: GSF white space fixes
ddaa5dee86 Copter: use static assert to simplify use of EKF_CHECK_ITERATIONS_MAX
0fb233ed4b AP_NavEKF2: minor comment fixes
c1ef894a30 AP_NavEKF3: getDataEKFGSF and getYawData pass by reference
a9cbd5aa29 AP_NavEKF2: getDataEKFGSF and getYawData pass by reference
1ee9f3a6de AP_NavEKF: GSF getLogData and getYawData pass by reference
8a8271c2c7 AP_NavEKF3: minor format fixes
d61c517e76 AP_NavEKF2: minor format fix
ed3d072318 AP_NavEKF3: rename GSF_RUN_MASK, GSF_USE_MASK, GSF_RST_MAX
91ef87064a AP_NavEKF2: rename GSF_RUN_MASK, GSF_USE_MASK, GSF_RST_MAX
7ba39c844c AP_NavEKF3: Split GSF yaw estimator processing
abc821ad36 AP_NavEKF2: Split GSF yaw estimator processing
216935c1f2 AP_NavEKF3: fixed loss of GPS fusion
c83e2d7c0e AP_NavEKF2: fixed loss of GPS fusion
6c3889b04f AP_NavEKF2: fixed typos
3edbe81b1e AP_NavEKF2: removed 2nd set of imuSampleTime_ms
9f5e037015 AP_NavEKF3: Restore bug fix lost during rebase
6952d83f00 AP_NavEKF2: Fix casting build error
53df8a0238 AP_NavEKF3: Fix timer wrapping bug
0d965d2a1c AP_NavEKF2: Fix timer wrapping bugs
12d639fc17 AP_NavEKF3: Misc changes arising from review
8ce97af40e ArduCopter: Preserve original check criteria
51b62a34b9 AP_NavEKF: Use better type for array index
4b3952bd15 AP_NavEKF3: Eliminate unnecessary function call
6ec69e6ed1 AP_NavEKF3: Update EK3_MAG_CAL parameter advice
a66479104d AP_AHRS: fix failure to arm when not using compass for yaw
6b6f083bf2 RC_Channel: added lane switch RCn_OPTION=103
36031c01a9 ArduCopter: rework ekf check to use separate yaw reset request
0efdb2b66b ArduPlane: Send default airspeed to estimators
22c2ea7cbf AP_AHRS: Add accessor function for EKF yaw reset request
9cf75bf22e AP_AHRS: Enable EKF3 default airspeed to be set
de0040ad69 AP_NavEKF2: Enable use of EKF-GSF yaw estimate
863f989130 AP_NavEKF3: Fix integration of GPS yaw options
410b5825fb AP_NavEKF3: Enable use of EKF-GSF yaw estimate
6bb7c55bba AP_NavEKF: Add yaw estimator class using Gaussian Sum Filter
c1d5f0441c Sub: LogMessage Documentation
dcbbd047b4 Copter: simplify guided mode takeoff using rangefinder
29dcbd1398 Copter: use rangefinder to takeoff altitude in guided mode
c4b5d47e1f Copter: white space fixes
eee0f028ba AP_Logger: fix examples
4ec1717361 HAL_ChibiOS: enable IMU temp control on CUAV-X7
2a74f8a687 Azure: fix build with uavcan support
9de3a24011 Rover: Logger documentation
6887252ad3 Tools: added mRoNexus to build
56b0dddb7c HAL_ChibiOS: set IMU temp on CUAV-X7
50ec9b59af Tools: added CUAV-X7 bootloader
5892e6421e HAL_ChibiOS: enable DRDY on ADIS16470 on CUAV-X7
ffe773ff6f HAL_ChibiOS: use DRDY pin for ADIS16470 on mRoNexus
5c6749ee54 AP_InertialSensor: use wait_pin() to wait for DRDY pin if available
450871cde1 HAL_ChibiOS: added wait_pin() implementation
34df438560 AP_HAL: added wait_pin() API
d8e208167d Tools: added mRoNexus bootloader
8e977183fe HAL_ChibiOS: added mRoNexus
c6cf809041 autotest: correct some parsing-out-of-logging-message
6d244ac1ff CI: Update Azure Pipeline builds to use Python 3
cd6024741c Rover: do not send ahrs3 mavlink message
b73d8b32de Sub: do not send ahrs3 mavlink message
9a43a31f24 Plane: do not send ahrs3 mavlink message
b32c5a840b Copter: do not send ahrs3 mavlink message
9d3427ec86 Tracker: do not send ahrs3 mavlink message
6f8176c71e GCS_MAVLink: remove ahrs3
dbfbe50737 SITL: update flightaxis defaults
47c7c8fb53 RC_Channel: rover option param desc gets Viso Align
f3989cae4c Copter: remove unused Ch6 EKF tuning options
913e5a23fe autotest: Add method to get default params for model.
49843fc3e7 script: add special decoding for CAN devid
1edf1d265c Copter: Set correct yaw for circle in Mode Auto
39032459d1 autotest: add explicit test for mavlink rangefinder
653b554a31 SITL: add simulated mavlink-attached rangefinder
185bc68476 AP_HAL_SITL: add simulated mavlink-attached rangefinder
6be519fb0d HAL_ChibiOS: added alt-config for UART4 on omnibusf4pro
6347d0adb0 AP_GPS: leave uart2 config enabled when using uart2 MB setup
f3a5d915f3 AP_GPS: allow for larger average delta on MB rover than normal
36098c3221 AP_GPS: improved delay health threshold
3397ed766d AP_GPS: enable ublox moving baseline compilation option
ae2132d861 AP_GPS: added check for Z error in moving baseline ublox
7027eecd34 AP_GPS: added GPS_DRV_OPTIONS
9a6de209ab AP_GPS: ensure that PVT and RELPOSNED msgs time align
3fbeae613b AP_GPS: fixed moving baseline yaw calculation
3195a7cccd AC_Circle: z-axis target only updated during terrain following
2af70f5e60 AP_Arming: Display mag field value
35dcb0d752 AP_NavEKF2: CorrectExtNavForSensorOffset made const
7470bc9994 AP_NavEKF3: CorrectGPSForAntennaOffset made const
85704e4989 AP_NavEKF2: CorrectGPSForAntennaOffset made const
3397bce235 Plane: Quadplane tailsit transition to FW throttle level change
6c730ccfec Plane: start tailsitter forward transition from current pitch angle
87108b86c8 AP_NavEKF3: add documentation for XKFM message
a83c25cfa7 AP_Logger: add documentation for EKF messages
cda0d14f57 SITL: add documentation for SITL and SMOO message
0c5d68dfeb Plane: Replace update_vel_controller_xy() with update_xy_controller()
6a98ab569e AC_PosControl: Replace update_vel_controller_xy() with update_xy_controller()
7e835d1037 AP_RCProtocol: fixed buffer overflow in st24 parser
59c02816b8 AP_HAL_SITL: find dumpstack when run from vehicle subdirectory
bd688ef412 AP_ToshibaCAN: Using the maximum number of ESCs definition
0e6ae6c5b4 Tools:autotest: add AAMWestField location
4c2cf2139e Copter: fixed use of timestamps in autorotate
02aebfcd6f AP_Baro: fixed build warning
ffd601aca4 Copter: fixed build warnings in autorotate
6dafa82c7c AP_FlashStorage: fixed build warning
e63e5ba130 autotest: correct path to defaults file when customising SITL cmdline
e30f0a9173 autotest: Move soaring test into plane.
52227872d2 autotest: rover: skidsteer: fix defaults file path
b490f20f3d AP_Param: panic if defaults file load fails
f3b240533f AP_HAL_ChibiOS: eliminate EKF2 from fmuv2 build
bada075daa Plane: expand description of CTUN.Aspd to indicate when estimate or measurement is reported
874c293911 AP_Logger: expand description of GPS.spd
33d29feab9 AP_VisualOdom: T265 supports vision-position-delta
870159c14f AP_Logger: add times-full to MAV log structure
8b9281eaa1 GCS_MAVLink: log number of times message not sent due to no space
908dfa58f3 AP_Logger: remove unused FORMATS stage in DFLogStart messagewriter
db8fdeebeb HAL_ChibiOS: fixed Hott telem half duplex handling
6672155e24 AP_FlashStorage: Fix test for AP_FLASHSTORAGE_MULTI_WRITE
c83ce93165 AP_HAL_Linux: Add missing wscript for GPIOTest
4018a79f83 AP_Baro: Fix scope of HAL_INS_MPU60x0_NAME
cac455ff2d HAL_ChibiOS: added another uart to omnibusf4v6
f721fb1743 AP_Hott_Telem: fixed GPS display for mz-32
05cbdcde42 Tools: Update Cygwin install to use Python3
49d19e1aac Tools: Python3 and kill_tasks fixes for sim_vehicle under Cygwin
41ada7f8f4 GCS_MAVLink: document the payload-space macros
6d05ed1eb3 Sub: loiter-turn obeys wpnav-rfnd-use
c0ac4bb51c Copter: loiter-turn obeys wpnav-rfnd-use
03441f2250 AC_Circle: remove _rangefinder_use parameter
f3e2b182a1 AC_WPNav: add rangefinder_used accessor
0ab4a184d4 Sub: support circle with terrain altitude
71cbedb178 Copter: support circle with terrain altitude
658bb646ca AC_Circle: support terrain altitudes
33f00c0051 ArduSub: remove comment for already-removed in-delay-callback function
f5f4576835 ArduPlane: remove comment for already-removed in-delay-callback function
bf79c49c23 ArduCopter: remove comment for already-removed in-delay-callback function
9b459a1e6c AntennaTracker: remove comment for already-removed in-delay-callback function
7c7b199bbd AP_HAL_ChibiOS: add I2C / USART3 ALT_CONFIG for omnibusf4pro
e1e4e6c3c1 build_binaries: add compatability code for git tags
22c9081c83 AP_NavEKF3: minor comment fix
7c20a1ee05 autotest: rename apmrover2.py to rover.py
156fe0846f Plane: fixed plane landing gear to obey LGR_OPTIONS bits
efb5ad2f1c autotest: correct checking of downloaded file
899b98b2f9 Plane: add test for loading/restoring large missions
678d6f43c5 AP_Logger: use existing LoggerMessageWriter to log uploaded missions
856b635e89 AP_Mount: convert Solo gimbal messages to TimeUS from TimeMS
d8582d864a AP_Logger: convert Solo gimbal messages to TimeUS from TimeMS
7ad8ea017c autotest: make column ordering in rst gen stable
6245197204 waf: add support for the macOS clang address sanitizer
0e40d1cb6b autotest: correct key for Rover -> APMrover2 in skidsteer test
10e8f3f3d7 autotest: canonicalise on defaults_filepath rather than defaults_file
c4e255fa5f autotest: Fix key error
1f3f04e5b8 Tools: added MatekH743 to build
acba2a78f6 AP_Logger: add message validation check against duplicate labels
04b0a8a62a Copter: Add expected value to message
2822fa68fc Copter: Adding flight mode to flight mode unchangeable messages
f6ab998924 Tracker: rename APMrover2 to Rover
698e9cb224 gitignore: rename APMrover2 to Rover
332a19d9dc autotest: sim_vehicle.py: add backwards-compatible APMrover2 option
2088446ebf Tools: rename APMrover2 to Rover
780456806a docs: rename APMrover2 to Rover
ec7bde2be4 SITL: rename APMrover2 to Rover
4245ee6543 RC_Channel: rename APMrover2 to Rover
1b99cfb10a AP_Vehicle: rename APMrover2 to Rover
b7a03ae5ad AP_RangeFinder: rename APMrover2 to Rover
d390126b93 AP_Rally: rename APMrover2 to Rover
d19f8db06f AP_NavEKF3: rename APMrover2 to Rover
f1fc05d357 AP_NavEKF2: rename APMrover2 to Rover
efbf929bc0 AP_InertialSensor: rename APMrover2 to Rover
e67347f011 AP_HAL_SITL: rename APMrover2 to Rover
7d7a7d126c AP_Follow: rename APMrover2 to Rover
e1f8af1653 AP_BattMonitor: rename APMrover2 to Rover
6046aa3625 AP_Airspeed: rename APMrover2 to Rover
e545a429a0 AC_Fence: rename APMrover2 to Rover
002d47447e AC_Avoidance: rename APMrover2 to Rover
4579ed1b15 README.md: rename APMrover2 to Rover
691ae58a79 Tools: rename APMrover2 to Rover
680b6bb9a2 Rover: rename APMrover2 to Rover
d31700c310 Rover: rename directory from APMrover2
3ccb3c69a6 SITL: add vicon position offsets
2164293cc0 AP_VisualOdom: remove sensor position from call to ahrs writeExtNavData
79afc70cdb AP_AHRS: remove writeExtNavData sensOffset argument
8749f30c64 AP_NavEKF2: external nav pos offsets from AP_VisualOdom library
c39fef6c56 GCS_MAVLink: pass vision-position-estimate reset_counter to AP_VisualOdom handler
3557104787 AP_VisualOdom: log corrected position instead of raw position
6622927a23 AP_VisualOdom: support position resets
83e48b575e AP_VisualOdom: add SCALE parameter
852325c8e4 AP_VisualOdom: remove unused method declarations
ccf96cf0a5 AP_VisualOdom: rename MAV to MAVLink in TYPE param desc
4f639481c1 AP_Logger: VISP msg adds reset_counter
fb7e68c53a AP_NavEKF2: writeExtNavData reset handles system time wrap
74f33d57c5 HAL_ChibiOS: avoid unnecessary H7 flash writes
8dabd6cefc HAL_ChibiOS: expect a long delay on flash page erase
b5ef6d0b11 Tools: added MatekH743 bootloader
4b236e52b2 HAL_ChibiOS: added MatekH743 port
b354f68cee ChibiOS: enable TIM16 and TIM17 on H743
2165fd66f1 HAL_ChibiOS: define FLASH_RESERVE_END_KB
a74f2428f2 AP_Bootloader: fixed use of FLASH_RESERVE_END_KB
8e83783b18 AP_FlashStorage: support H7 flash storage
5125fc1a64 HAL_SITL: added checks for flash storage
efe78fe3e1 AP_HAL: allow SITL to emulate 3 different types of flash storage
e1792f89db AP_HAL: fixed default HAL_STORAGE_SIZE for flash storage
c0039c85e0 HAL_SITL: emulate sector size for flash storage properly
2988c70627 AP_FlashStorage: clarify space-available-for-write check
c4217f329b AP_RPM: allow harmonic notch driver to appear as RPM values.
e5319397b4 AP_HAL_ChibiOS: eliminate EKF2 from F4 builds not using HAL_MINIMIZE_FEATURES
5c399fce41 AP_AHRS: auto-switch to EK3/EK2 if selected option disabled
685d26c808 Tools: added --disable-ekf2 and --disable-ekf3 in sim_vehicle.py
823d666bc2 waf: added --disable-ekf2 and --disable-ekf3 build options
c36e06e7fa AP_Compass: add documentation for COFS, compass-learning message
54292c5443 AP_Tuning: add documentation for PRTN message
061c3ecb7f AP_RCProtocol: add documentation for RCDA message
767c010332 AP_Logger: add documentation for WENC, CESC, PRX, ADSB, BCN, BCL, OABR, OADF
124d8c7fdf AP_HAL_ChibiOS: Changing the timeout detection
10b7988092 AP_Baro: Fix timestamp wrapping
9f81da1bf9 AP_NavEKF2: minor comment fix
db4f1a1473 HAL_ChibiOS: enable ADIS16470 on SPI1
b97d20acba Tools: added CUAV-X7 to autobuild
942b2fd29f HAL_ChibiOS: Added support for CUAV X7 flight controller
d772289b0d AP_InertialSensor: added driver for ADIS16470
d43fc591c3 autotest: add skidsteer test
9511fa59ec autotest: permit specification of frame as part of customing cmdline
ede87d49f6 AP_InternalError: add a bit for infinite recursion in switch_full_sector
a2b4713008 AP_FlashStorage: protect against infinite recursion in switch_full_sector
e0380fc9be autotest: improve debug information for missing fields
851d9ae1ef AP_Compass: log message information for MMC3416
c3b8db95b8 AP_Logger: add DSTL log message documentation
d23d4768f1 AP_Landing: add LAND log message documentation
e5b634cdd0 AP_IOMCU: add IOMC log message documentation
88d61b9d3c AP_Follow: add FOLL log message documentation
194d3c280f AP_EFI: add EFI log message documentation
f9c4976f93 AP_BoardConfig: add HEAT log message documentation
1a148afe1b AC_AutoTune: add ATDE log message documentation
afc0fbc516 AC_AttitudeControl: add CTRL log message documentation
1f8cd830ea AP_NavEKF3: fixed use of tabs
f68f355852 AP_NavEKF3: Fix timestamp wrapping
33ab1a7b15 AP_NavEKF3: Ensure yaw fusion commences when starting from rest
a3725e2581 AP_NavEKF3: Fix bug in calculation of rotation order
eeac0a05b9 AP_NavEKF3: Improvements to on ground movement check
ebb8bb4f6f AP_NavEKF3: Enable use of yaw fusion before external yaw sensor starts
83ad1c17a8 AP_AHRS: disable DCM yaw consistency check when using external yaw
3ae0b0d446 AP_NavEKF3: added using_external_yaw() method
6f04fae4a0 AP_NavEKF3: added fallback to mag option with external yaw
a3100251a8 AP_NavEKF3: use enum class for EK3_MAG_CAL values
e8fb082a9a HAL_SITL: fixed simulation of roll/pitch of moving baseline ublox
845755dd3d Tools: removed GPS_POS vars from defaults
b90b4f9157 HAL_SITL: implement moving baseline for ublox
778532d556 SITL: added SIM_GPS2_HDG and rationalise the GPS position variables
5e09553449 Tools: remove trailing white spaces from output of generate_manifest
a1dcb8e3c1 Tools: use html.escape instead of cgi.escape
b3678fdf02 Tools: correct incorrect gservo6 alias name in mavinit.scr
6989cb0131 Plane: Use AHRS for heading in mode loiter
ff112a726b AP_Battery: fixed bug in SUI driver
d96c7049ca APMrover2: remove unused parameter in PIVOT_TURN_ANGLE description
1f421edaf2 waf: chibios remove quotes from the default param filename
a31f2e5d90 hwdef: add validation checks for CubeOrange
ef91f1634b HAL_ChibiOS: add support for adding board validation test
8a77ddf8c6 AP_BoardConfig: run validation test if declared under hwdef
1ba036169f AP_VisualOdom: align sensor displays yaw shift in 0 to 360 range
9fd39f3768 AP_Math: alternative quaternion rotation test
26e4dd6fef AP_Math: correct quaternion::from_rotation for pitch-180
dc2e0f328b AP_VisualOdom: fix handle_vision_position_delta_msg
c18fce6714 AP_Math: add quaternion rotation test
f78d8b009a Tools: enable visual odometry for fly_vision_position test
ac3f99d8dd Sub: add support for visual odometry
d1aa3858f0 AP_Vehicle: add visual odometry
1b1687f43d AP_Arming: integrate visual odometry pre_arm_check
9a32e8208f Rover: visual odometry moved to AP_Vehicle
ea14775793 Rover: remove call to visual_odom.update
04c3f040a8 Copter: visual odometry moved to AP_Vehicle
05a37db07c Copter: remove call to visual_odom.update
2f5a8fd6b9 RC_Channel: add aux function for visodom-calibrate
9769f08fd9 GCS_MAVLink: visual odometry build fixes
a9c1eb5af4 GCS_MAVLink: fill in sys_status vision position bits
a1ddd55ea5 GCS_MAVlink: AP_integrate of rename to handle_vision_position_delta_msg
728e8b45a9 GCS_MAVLink: use AP_VisualOdom to handle vision-position-estimate messages
aa720b0ae6 AP_VisualOdom: pre-arm failure string prefix moved to AP_Arming
3d75dc7815 AP_VisualOdom: add HAL_VISUALODOM_ENABLED
8f94a0cfb0 AP_VisualOdom: integrate IntelT265 backend
f0e11d9a5c AP_VisualOdom: add IntelT265 backend
a41b169635 AP_VisualOdom: front-end implements handle_vision_position_estimate with eulers
3530d5b348 AP_VisualOdom: MAV driver implements handle_vision_position_estimate
c78b1ab3bf AP_VisualOdom: rename handle_vision_position_delta_msg
b519d285a6 AP_VisualOdom: get_orientation made public
c36dfc448d AP_VisualOdom: handle_msg directly updates EKF
0eb1ef1f08 AP_VisualOdom: add handle_vision_position_estimate
1cf9655b4a AP_VisualOdom: TYPE param becomes enable flag and reboot required
61a06bbb04 AP_Math: add quaternion rotate, from_rotation and invert
338548c5eb AP_Math: move HALF_SQRT_2 def to rotation.h
b0b78e974b AP_AHRS: add get_quaternion
e1c623183e AP_AHRS: minor comment fix and move var_info lower
24bb4876a8 AP_AHRS: move is_ext_nav_used_for_yaw to parent
c0187fe05f AP_Logger: add log message description for VISO
f18be824ea AP_Logger: add VISP message
63320f140a AP_Logger: constraints time spend in header writing, more complete
b829384fdf AP_Logger: constraints time spended in header writing
07435cc541 Tools: correct path for soaring mission
d5aec30a7d Tools: update path for antenna tracker test missions files
77ee15bfa1 Tools: finish clean up path
81274018c3 Tools: update path for sub test missions files
4eceef1cef Tools: update path for rover test missions files
bcd15bc6e4 Tools: update path for plane test missions files
24a2bc3b0e Tools: update path for copter test missions files
5b26df5780 Tools: put Mission files into right directories
04d760d54c Tools: added new RM3100 ID
dd4cf6ccdd AP_Compass: change RM3100 device ID
18c3efc377 AP_Compass: fixed scaling of RM3100
5e4cbb0a3f AP_EFI: correct duplicate-label problem in EFI2 log message
2d171d0cb4 autotest: add sanity check for duplicate labels in LogWrite calls
c29aa4077d Copter: Acro expo typo fix
f70ab73a1f Copter: Change arming messages
a4c5e12fac Tools: Make soaring test a subclass of plane test.
4a39a43c10 AP_Soaring: Add log documentation.
b9daae062c AP_Soaring: Use enum class rather than typedef enum for states and hide details of these.
d7ce3ff72e AP_Soaring: Don't check throttle status on entry to loiter, because it is automatically set on first pass in update_soaring.
3228cc3309 AP_TECS: Update descriptions of pitch feed-forward parameters.
36a90cf443 Plane: Remove unused isHeadingLinedUp function, and rename functions to avoid confusion.
0df6d74d77 AP_Soaring: Update autotest to use delay_sim_time not wait_seconds.
6e75890bd9 AP_Soaring: Add a low pass of target position from EKF before using it.
f23efdd13b AP_Soaring: Make vario time constant public.
7168a65155 Autotest: Simplify soaring.py.
d04c6cb02e TECS: Don't override the speedweight to 0 if synthetic airspeed is in use.
170b599469 Plane: Required changes for conditional soaring compilation (fmuv2).
56649fa8eb AP_Soaring: Fix too-long status message.
d54c7f1b7a AP_Soaring: Fix bug when no soaring activation RC channel set.
fbd0df81a7 AP_Soaring: Report changes in active status.
e1f7122566 AP_Soaring: Improve tracking of enabled/disabled status.
5ac801b2ac AP_Soaring: Use 64 bit variable for time to avoid overflow.
528dcc3f6b Autotest: Add test for soaring.
e7418637ee Plane: In FBWB make target alt track current if soaring is enabled and suppressing throttle.
ed7e359f4d Plane: Make target altitude track current altitude when gliding.
2260fda4ec AP_Soaring: Detect changes in active parameter/switch position.
fdf7eae01c AP_Soaring: Adjust initial EKF values and limit R to 40.0m.
ff1725b549 AP_Soaring: Make enable channel 3 position. PWM above 1400us allows most soaring features, but above 1700us is required before any automatic switch to LOITER mode.
1160c59a89 AP_Soaring: Remove dsp bias and log this.
c28c573da1 AP_Soaring: Also log acceleration.
7555f5abf8 AP_Soaring: Fix incorrect trig function and log the expected sink.
17f1fa9600 AP_Soaring: Fix use of double precision sqrt.
7d3ff28974 AP_Soaring: Correct bug with reversed arguments.
16b7de4029 AP_Soaring: Cleanup variometer.
62a34e0f8d AP_Soaring: Calculate filter time constant based on airspeed and loiter radius, using 3x circline rate.
2b40182b34 AP_Soaring: Reduce drift feed-forward by ratio of climb rate to thermal core strength. This is consistent with assumption that each packet of air, rising at core strength, is convected with the ambient wind speed.
15cef55e97 SITL: Make thermal drift relative to 100m alt to avoid so much change with wind speed and direction."
8072f6b858 AP_Soaring: Make the trigger VSPEED take account of thermalling sink.
650b464831 AP_Soaring: Move drift check to separate function and check drift with reference to mission segment, allowing drift in right direction. LOITER target, not current position, is now used.
45cb663d73 AP_Math: Add template for Vector2f::projected.
fab74f8927 AP_Soaring: Calculate expected thermalling sink live and avoid divide by zero by limiting airspeed to that corresponding to CL max (generously assumed 1.5 for glider).
5963164a22 Plane: Soaring, make zero SOAR_MAX_RADIUS always RTL, and -1 never.
75f772b269 AP_Soaring: Add SOAR_MAX_RADIUS parameter, that defines when a RTL will be used when exiting LOITER.
298088268a Plane: Soaring, don't wait for heading if too low, and add timeout otherwise.
684ee11fc3 AP_TECS: Add flags to indicate gliding flight, and use these with AP_Soaring.
dc8c062fbe AP_TECS: Correct an error in the SEBdot FF term.
247738518e AP_TECS: Add a feed-forward term from adjusted demanded airspeed to nav pitch.
a27c99fab9 AP_TECS: Return the adjusted demanded airspeed. The aspd_error mavlink message now shows the rate-limited airspeed.
ae27f96361 SITL: Make soaring thermals slanted.
a18d6e925d AP_Soaring: Improved default sim parameters.
013628bd1d Plane: Soaring - better reporting of exit due to drift.
e1b2360781 AP_Soaring: Add a maximum allowable drift distance when thermalling.
96bc0e1e03 Plane: Soaring: Reset loiter.sum_cd when good to continue thermalling, so that exit heading acceptance criteria does not grow.
e7736fb5e7 AP_Soaring: Line up on current, not next, nav command.
936d4232c9 AP_Soaring: Add a 60s first order filter on climb rate. If this becomes negative exit thermalling.
a56b1dadb9 Plane: fix bug with headingLinedUp when loiter.sum_cd was negative.
30249e8006 AP_Soaring: Add a check of whether altitude has been lost overall when thermalling.
5082c9be8b SITL: Add plane-soaring type, including parameters, mission, simulated thermals and glider sim settings.
394fbb1a50 Plane: unified soaring exit behavior: auto heads to next wp, cruise continues cruise heading, FBW to home
f24095e9ed AP_Soaring: inhibit msg spam when lingering in loiter waiting for heading to line up
3211c03f58 AP_Soaring: Remove unused methods, clean up and log position in N/E rather than Lat/Lng.
152c1507e0 AP_Soaring: Make the EKF states the actual NE position of the thermal, rather than the position relative to aircraft.
d7abd296ef AP_Soaring: Avoid calculations in lat/lng.
0cccc8dc29 AP_Soaring: Fix issue with loiter radius being saved as zero due to initialisation order. This caused incorrect calculation of thermal climb potential and cases of staying in thermals that should have been abandoned.
c135b00b7b AP_Soaring: Remove redundant check for new vario data.
64460be0d0 AP_Soaring: Implement vario based on acceleration rather than differentiated airspeed.
ce9450846b Plane: fix soaring typo
ec8f82422a Plane: move loiter heading init for auto into auto helper, and properly reset it in loiter mode enter
fd4b7c823e Plane: improved soaring exit options
f397c168e8 Plane: refactor loiter heading exit logic
f6396d7a6d Plane: add reason to exit Thermal loiter and adjust LOW alt reaon to cause RTL
52ae093a97 AP_Soaring: add reason to exit Thermal loiter
73c5c2e1bb AP_Arming: Check that sticks are neutral
5104e4bd13 Rover: Report what channel is used for rudder arming
132fe82ad2 Copter: Report what channel is used for rudder arming
9600eea394 Plane: Report what channel is used for rudder arming
2b9aa9bc21 RC_Channel: Add option bit for arming checking the throttle input (opt-in)
7ec0cb47a5 AP_Compass: const extern hal reference
f83f6c71e4 AP_Logger: const extern hal reference
264a90bb45 AP_Logger: Change to coding style (NFC)
de6aaeaf76 Rover: Logger documentation TimeUS fix
a9cacc8756 Plane: Logger documentation TimeUS fix
7c4b195488 Copter:Logger documentation TimeUS fix
b1cb3b10ca Tracker: Logger documentation TimeUS and typo fix
08d9553a0f Sub: Logger documentation TimeUS and typo fix
76b4e42bca AP_Logger: Logger documentation TimeUS and typo fix
fe4d1f9316 AC_AutoTune: Logger documentation TimeUS fix
b0134460e5 AP_NavEKF:Logger documentation TimeUS fix
eeb55f8b16 TECS: Logger documentation TimeUS fix
59dfaad749 SITL: provide method to retrieve desired speedup
5881692e4f autotest: sub: fix altitude-hold for being below target altitude
78e432af0c AP_HAL_SITL: do not let outbound queue length to grow too far
7028eb8d24 AP_HAL_SITL: provide method to get amount of data still pending in outbound system queues
2b18b0f480 Sub: add D16, D32, DFLT, DU16 and DU32 LogMessage documentation
2670192c41 Copter: add D16, D32, DFLT and DU32 LogMessage documentation
9d7022514e HAL_SITL: ensure that unique id string end in null char
c4fa6fee9a Tools: completion: add completion for autotest.py
6dce7a88d4 Tools: completion: small correction to zsh
5736e28693 Tools: completion bash: correct word reuse skipping
3262175f86 Tools: completion: add bash completion for autotest.py
62ec6540ec Copter: Added logger documentation
3b077ec612 Copter: Added FlowHold logger documentation
41590916d5 Copter: Added Throw Mode logger documentation
4995a9b274 Copter: Added Toy Mode logger documentation
b8878380d6 AP_Camera: add RunCam device type 2 documentation
e3d22b9d27 AP_Camera: if exiting a RunCam submenu reset the submenu index to the top
1222aa2c43 Copter: make EKF mag variance check use max
be674fc36c AP_NavEKF3: make mag variance reporting consistent
c9755cf9e6 AP_NavEKF2: make mag variance reporting consistent
2ed550966d AP_Logger: correct units for velocity on OF log message
64c973b592 SITL: add documentation for AirSim ASM1,ASM2 log messages
e477f6c840 AC_PosControl: add documentation for PSC log message
33f17d7739 AP_Logger: document ARSP,ASP2,CAM,TRIG,POWR,TERR,CSV,CMD,OF,AHR2
1a4e96b4ba Copter: Fix Rate expo calculation
52bb7760bc autotest: add debug for COMMAND_LONG commands
3fb61c4cf0 AP_Logger: add documentation for more log messages
09152cd254 AP_Logger: correct time field name on DMS
50c60aa8f2 AP_Logger: add documentation for ACC1,ACC2,ACC3,DMS,GPA,GPA2,GPS2,GYR1,GYR2,GYR3,MAVC,PM
a92206d090 AP_Logger: log dataflash-over-mavlink timestamp in micros rather than millis
376116c99b HAL_ChibiOS: fixed skyviper-journey build
37be15b3cd Plane: When stick mixing is disabled do not apply stick mixing to quadplane modes
7919bafc86 Tools: added name to GIT_Success.txt
e41ea5a273 AP_Logger: add docco for BAR2,BAR3,MSG,RAD,RALY,RFND,RPM,RSSI
d966f5718d autotest: add option to list subtests
45ccced4df autotest: add examples to help output
442fa60651 APM_Control: validate parameter ARSPD_FBW_MIN
9c8a5a7392 AP_Math: add comments above some quaternion methods
cbce94005b Plane: expand description of QTUN.Sscl log message field
47e03d4e62 autotest: loosen epsilon on arriving at boundary
e2d6e70895 AP_Periph: fixed HWESC temperature decoding
4bab3c083e autotest: sort messages in logger documentation output files
cbe1dba781 autotest: loosen slowdown constraint on zigzag test
3a39e9cfc1 .gitignore: ignore param json file
5d299eb584 Tools: add error keyword on param parse for newcomers
f450df18b0 autotest: allow more time to loiter to ne in precision test
72c46a7fc8 Tools: added name to GIT_Success.txt
ff784aee67 Tools: Add name to GIT_Success
b2ad4dabb8 AP_Hott_Telem: correct GPS fix character
93fb5354da AP_Beacon: pozyx: remove dead and pointless code
a76d0e3002 Plane: Remove SONR messages logging
a3a3abbf23 SRV_Channels:  fix unannotated fall-through between switch labels
b0cbbb4bea GCS_Common: fix unannotated fall-through between switch labels
afc0cf8f3b AP_ToshibaCAN: fix unused variable error
575ac9224e AP_Arming: fix error unannotated fall-through between switch labels
8e3aba5dc5 AP_RAMTRON: fixed build with gcc 9.x
077ab22767 AP_GPS: fixed AP_Periph build with gcc 9.x
4456732911 AP_GPS: fixed rotation of moving baseline GPS
46582944e2 AP_RAMTRON: Add FM25V02A Extended Temperature
2fb31e69ea autotest: correct test class map for Helicopter
1770199c41 AP_Logger: add documentation for MAV and PARM
6f685b8ac5 AP_HAL_SITL: send statustext at regular intervals after watchdog reset
ec460b4244 AP_Vehicle: send statustext at regular intervals after watchdog reset
73e43d8da5 AP_HAL: send statustext at regular intervals after watchdog reset
9ba2aecbb8 AP_HAL_ChibiOS: send statustext at regular intervals after watchdog reset
fed8ecc3b0 AP_Frsky_Telem: fix for protocol=4 GAlt=0 and GSPd=0
a3e2e156e7 AP_HAL_Linux: do not create ConsoleDevices for Replay or examples
21e93dae34 GCS_MAVLink: send only old value for readonly param set
55d37e5d0e GCS_MAVLink: correct slowing down of waypoint re-requests
ca7fcc093c GCS_MAVLink: correct return type on get_stream_slowdown_ms
0b756547be GCS_MAVLink: add stream_slowdown to MAV message
be6ed0be9f AP_Logger: add stream_slowdown to MAV message
46a014b399 AP_Notify: remove recursive call to play in next_action
7028f1adba GCS_MAVLink: GCS_FTP: remove redundant more_pending variable
a09ac895e9 GCS_MAVLink: remove dead assignment
2b08af69bc AP_GPS: fix dereference-of-nullptr warning from scan-build
18baf18041 GCS_MAVLink: Remove redundant assignment to the command
609b66a053 AP_NavEKF3: rename struct log_NKF2a to log_XKF2
8a28fa2244 AP_Logger: rename struct log_NKF2a to log_XKF2
7c15effcd5 Rover: remove redundant check for arming-required-is-no
ac6b04c21b Plane: Spelling fix in logger documentation
aea2cdb0c9 Plane: added logger documentation
d41275298b Tools: added name to GIT_Success.txt
c97cc71382 AP_Camera: Correct trigger behaviour when cmd is switched off then on again
d813ee27de AP_Mission: Added immediate trigger for DO_SET_CAM_TRIGG_DIST
824816ddcb Sub: send messages to GCS when toggling roll/pitch control
ba415c99fe Sub: send Roll/Pitch Toggle flag
544df71fd2 Tools: added name to GIT_Success.txt
cca361a942 AP_VisualOdom: minor format and comment fixes
ecf5abc1f2 GCS_MAVLink: minor format fix
7a48a3f354 AP_Math: minor comment fix
9da91b2005 autotest: execute check-logs step for Tracker
a637073dad AP_HAL_Chibios: add tenth PWM output to MatekF405-Wing
53ced35f9d autotest: correct bytes decoding for Python3 in Logger documentation
b8dba9886f autotest: Python3 fixes for LTM tests
aeb45bf146 AP_Logger: fix extremely unlikely nullptr dereference in SITL sanity checks
75b133926f AP_Scripting: Cleanups to remove false posive warnings
d50e9865bd AP_Scripting: Delete the lua object if we failed to allocate the required memory
6753e99604 AP_Scripting: Add a return around luaL_error
e7fdf8fad1 GCS_MAVLink: reduced delay between ftp packets
5c9ae33151 GCS_MAVLink: support variable sized packets in burst read
8a84dbc19e GCS_MAVLink: slow down telemetry during ftp
5047eb88e2 AP_Scripting: use @ROMFS
10c709a5a1 AP_Filesystem: use @ROMFS
9f2c689ec8 waf: fixed build to produce consistent binary
a8f7212d79 AP_Filesystem: fixed open for write in ROMFS
e0957c2bcc HAL_ChibiOS: include hwdef.dat in ROMFS
c1d4a5bd35 GCS_MAVLINK: prevent closedir() with nullptr
8d1bf46dab AP_Param: use smaller param area for all 1M flash boards
ebec738b88 AP_Scripting: enable lua scripts in ROMFS
ea57b7b3cd HAL_ChibiOS: embed ROMFS files from hwdef directory
28082774b6 GCS_MAVLink: use new DirHandle for directory listings
a91c587ef3 AP_Scripting: use new DirHandle for directory listings
b5cc1f236a AP_Logger: use new DirHandle for directory listings
6583f7c13e AP_Filesystem: added VFS system for multiple backends
4ca11224ba waf: embed files from ROMFS directory in SITL
98542d0c0b AP_ROMFS: added directory listing interface
6360c67858 AP_OSD: avoid build when OSD disabled
822460ce7d HAL_ChibiOS: fixed strdup() on ChibiOS
1b5e5de0d1 waf: prevent warnings about OSD_ENABLED in build
64b54fd92a Tracker: add information on onboard log messages
aec5ae91fa Tools: adjust zigzag timing to pass test
3f441e61cd Tools: copter : make zigzag more verbose
f24f97e51b Tools: sub: update to new wait functions
aba594fe2d Tools: copter: update exception for rangefinder test
1689714a5c Tools: copter: add more verbose on fly_guided_change_submode
56298aabda Tools: update arduplane.py wait function parameters
e4eebce5a6 Tools: update arducopter.py to use new wait functions
2d65cbd884 Tools: Common : create generic wait_and_maintain function, upgrade all wait functions to use it
87d363c3f4 Tools: use renamed autotest step names
2d29cc3eda Tools: build_ci.sh: use canonicalised autotest names
be49396d32 autotest: canonicalise step names (e.g. drive.APMrover2 -> test.Rover)
051a7dc298 AP_NavEKF: add onboard LogMessage documentation
7f0e722a33 AP_Logger: add onboard LogMessage documentation
cdbc5f1655 Tools/GIT_Test: Added a dev name
6d42e9502b AP_Compass: fixed unreg compass check for AP_Periph
735498e160 Copter: move zigzag exit into mode_zigzag.cpp
ab557662cc Plane: check channel space before sending servo output raw in SITL CPU failsafe
b3ff81648b Nav_EKF3: varInnovBodyVel assigned the innovation covariance, rather than inverse
318d467ecc AP_Periph: fixed airspeed to use corrected pressure
0f6f684bab AP_Airspeed: expose get_corrected_pressure()
bfc4802b37 autotest: fix sitl reboot
4d2c5ebbaa ArduPlane: update logger meta-data, add to gitignore
c34c857123 AP_Logger: update logger meta-data, add to gitignore
53caf516f9 SRV_Channel: add missing ProfiLED description values
6ffc35fbf3 Tools: added name to GIT_Success.txt
bdc615e4cc Tools: added rcda_decode script
f299a4af33 RC_Channel: added RC_OPTION bit for protocol logging
087da57858 AP_RCProtocol: added logging of RC prototol input bytes
edaf9fa086 AP_Scripting: remove unused user of realloc from lua
8215537f99 HAL_ChibiOS: deprecate realloc for ChibiOS build, so as to return error when used
afea703aaf AP_HAL: ensure libc realloc is available for all platforms except ChibiOS
21a6a5d061 waf: disable use of libc realloc for chibios
51fa1773b4 waf: enable heap methods for everything but bootloader
89d03f0243 AP_HAL_ChibiOS: implement standard realloc method
c615bd9874 AP_HAL: implement standard realloc method
88de9572aa AP_Common: use standard realloc method from HAL
c859287310 Tools: param_metadata: check for duplicate enteries in parameter value field
59af2fcbbb AP_WindVane: Fix duplicate values in Param
44d35942b6 AP_RSSI: Fix duplicate values in ANA_PIN
9e8894139c AP_BattMonitor: Fix duplicate values in VOLT_PIN param
bf8adfceba Azure: fix VM image
b3fb99eddc Tools: added name to GIT_Success.txt
bd341691e2 Plane: fixed flaperon auto-trim
f4f2caeef2 AP_Tuning: avoid name collision with Copter's PTUN message
2b5f15fe78 AP_TECS: add missing field documentation in TECS and TEC2
35ad582440 AP_Logger: correct various onboard log message documentation
cf0875bb00 AC_AutoTune: add missing axis field to ATUN message
383cfb3b11 Plane: remove bad trailing backslashes in log structure definition
c9f810e924 Copter: add missing ABst to CTUN logmessage documentation
21e3607312 Rover: correct case mistake in Wpbrg logmessage documenation
af62d7d7b6 AP_GyroFFT: inline used-only-once Log_Write parameters
6206cbd1fa autotest: add sanity checking for undocumented/overdocumented logger messages
3914ae23ca ArduPlane: fix typos in logger message meta-data
408b2b1e8d ArduCopter: fix typos in logger message meta-data
8155f5dcbf AP_TECS: fix typos in logger message meta-data
7bb5d92dcc AP_Logger: fix typos in logger message meta-data
dfd3fa9b94 Tools: Gabsxk to GIT_Success.txt
eda1dc2914 Sub: add CTUN log information
9bc6790723 Plane: add CTUNi QTUN and PIQ? log information
1fbace608d Copter: add CTUN log information
1065317332 AC_AutoTune: add documentation for ATUN log message
fa50b5f76d AP_Logger: add more metadata for logged messages
e671a0912e autotest: logger_metadata: understand , in @LoggerMessage
de36b6a16a AP_Logger: add LoggerMessage metadata for GPS message
1104f15d88 Tools: build log message documentation on autotest server
9bb40af1c7 Tools: add script to build all parameter documentation
b810a0de23 Plane: add logger documentation for NTUN
75c848270a Rover: add logger documentation for NTUN
28c3ba32ae autotest: add test for AP_Logger documentation generation
60ff6c0b24 autotest: add parser for the logger metadata
55ee3362b9 AP_Logger: add example of documentation for a log structure
6c56f24e30 AP_TECS: add documentation for TECS and TEC2
741d3e1435 autotest: make verify_parameter_values more verbose
fc0b2ef920 HAL_ChibiOS: added half-duplex protection for non-inverted
6b35497129 AP_RCProtocol: moved fport variables into class
a1069d85cb AP_RCProtocol: fixed bug in FPort parser
30baad35b2 autotest: improve debug on RC override test timeout
403950f61f autotest: add autotests for CPU failsafe
5a7d52fa0d Plane: send SERVO_OUTPUT_RAW message when in cpu failsafe under SITL
3f7ab6289d AP_Scripting: move scripting_test.lua from examples to tests
524d59ad78 AP_Scripting: add math and strings test scripts
32276d9725 Tools: autotest: apmrover2: add more scripts to and enable internal test
05b563cf54 AP_Scripting: fixup comment in set-target-location example script
0846746932 AP_Scripting: add copter-fly-vertical-circle example script
fa0fb9ef34 AP_Scripting: add set-target-velocity example script
d7fb84c765 AP_Scripting: make bindings
60b3c6ca94 AP_Scripting: add bindings for start_takeoff and set_target_velocity_NED
181264aa05 Rover: implement set_target_velocity_NED for use in scripting
e2469d29bc Copter: implement start_takeoff and set_target_velocity_NED for use in scripting
849adcd678 AP_Vehicle: add start_takeoff and set_target_velocity_NED for use in scripting
db2229f684 Copter: ModeGuided::do_user_takeoff_start arg rename
d37efe1b38 AP_Scripting: regenerate bindings
67bfedd845 AP_Scripting: add button example script
f5052b68a8 AP_Scripting: add binding for AP_Button get_button_state
ecd7e12dd3 AP_Button: add crude debouncing and get_button_state function
a59c3670c8 AP_HAL_ChibiOS: stash lr_thd in watchdog hardfault handler
97b07d9c84 GCS_MAVLink: add option to get the autopilot to hard-fault itself
61cc1decc3 Tools: start of script to help decode stm32 ICSR register
92d2186b95 autotest: don't use self.mav.motors_disarmed_wait as it blocks forever
9ae6633a08 AP_Periph: update to new NeoPixel API
f00314a5d1 AP_GPS: removed dead blending code
9fa034d1de AP_GPS: fixed antenna offset for blending
0665c379de AP_Compass: correct use of incorrect backend-count macro
1635054c4f AP_Math: Add missing constexpr
c9f2b9ff87 AR_AttitudeControl: correct spelling error in param docs
e65cc35fb0 AP_HAL_Linux: Use template to generate raspberry pins
5a4b648cf5 HAL_ChibiOS: disable flash fallback for boards with FRAM
741abaf760 AP_Param: Add static assert on NVM struct sizes
4cd39a4619 HAL_ChibiOS: improved selection of storage backend
f9ec9c037a AP_RAMTRON: improved driver robustness
104dd7cd75 AP_HAL_ChibiOS: remove board subtype for OmnibusNanoV6
add7615ed9 AP_HAL: removed unnecessary subtypes
986ad0dc27 HAL_ChibiOS: removed unnecessary subtype defines
92e4d9dd04 Tools: update R9Pilot bootloader
c3f2117590 HAL_ChibiOS: fixed R9Pilot board ID
718a6593e6 autotest: disable harmonic FFT test
7c1757bab4 autotest: separate out harmonic matching test
f1d6588954 add to locations.txt
4c19eb4bab AP_NavEKF3: use compass reference rather than repeatedly asking AHRS for it
903d81c263 AP_NavEKF2: use compass reference rather than repeatedly asking AHRS for it
8679e95fca AP_Logger: add comments about message_writer being leaked
bb0920d56a Tools: build_parameters: remove unused function parameters
87b97f8bee AP_Scripting: added a VTOL failsafe example script
e815b97c66 AP_Scripting: regenerate bindings
564740f06b AP_Scripting: added get_vibration and get_target_location bindings
393a8785f3 AP_AHRS: implement get_vibration method on AHRS
9f92aad711 Plane: implement get and set target location
d192544107 AP_Vehicle: added get_target_location() method
be7e142888 AP_Scripting: regenerate bindings for RPM
609b535dda AP_Scripting: added RPM interface
8aaefea2a4 Plane: convert to new get_rpm() API
375c08f39c Copter: convert to new get_rpm() API
39fc324854 GCS_MAVLink: convert to new get_rpm() API
4f54d9b75f AP_WindVane: convert to new get_rpm() API
ed37ebede8 AP_Logger: convert to new get_rpm() API
a93aa27cc1 AP_ICEngine: convert to new get_rpm() API
0f83da7e16 AP_Hott_Telem: convert to new get_rpm() API
429c21b887 AC_Autorotation: convert to new get_rpm() API
22ce90af34 AP_RPM: changed get_rpm() API to be scripting compatible
934d05f4ff AP_Compass: correct incorrect and misleading comment
621d029207 AP_Vehicle: add warning about get_scheduler_task implementations
aaf828c9d4 GCS_MAVLink: consider NO_CHANGE as success for bootloader flash
d8b33bcac9 AP_InertialSensor: suppress expected errors from invensense IMUs
1540cf958b HAL_ChibiOS: improve error messages for flashing bootloader
cf7c2b1475 HAL_ChibiOS: suppress SPI timeout error for expected delay
65cd223023 HAL_ChibiOS: implement in_expected_delay()
58b4b523fd AP_HAL: added in_expected_delay()
06b62107c7 AC_PosControl: move freeze_ff_z to be with other z-axis methods
90883624bc Copter: fix use of wp-navmin-alt
25f1a4a4e1 AC_WPNav: add shift_wp_origin_to_current_pos_xy
29332ac112 AC_PosControl: add relax_velocity_controller_xy
305fc09e2b Tools: rebuild bootloaders with CS fix
e15bb744ff Tools: improve build_bootloaders.py script
d35fff5186 HAL_ChibiOS: set CS pins high while in bootloader
b0b7acde09 Mavlink: add MAV_CMD_DO_SET_RESUME_REPEAT_DIST
537a259ab6 AP_Mission: added to rewind mission on resume with MAV_CMD_DO_SET_RESUME_REPEAT_DIST
0f7de04d79 Tools: added image_size to manifest
ebfa910774 GCS_MAVLink: GCS_Dummy: add missing CR to console output of statustexts
94ff5d13c0 autotest: limit frequency matching to resolution of the FFT
18ddfbdd6e ArduSub: move AP_PARM_KEY_DUMP function up to AP_Vehicle base class
4fac8c9e16 ArduPlane: move AP_PARM_KEY_DUMP function up to AP_Vehicle base class
3802ca217e ArduCopter: move AP_PARM_KEY_DUMP function up to AP_Vehicle base class
aa8b8938ab APMrover2: move AP_PARM_KEY_DUMP function up to AP_Vehicle base class
1db081b095 AP_Vehicle: move AP_PARM_KEY_DUMP function up to AP_Vehicle base class
d0edfd2c0d AP_HAL_ChibiOS: VRUBrain-v51: reduce AP_MAX_EMBEDDED_PARAM to 1024
f8058bcf70 AP_HAL_Linux: avoid segfaults during early panics
19249a13fd AP_Scripting: tell the user where their scripts directory is on failure
e95e996cc4 AP_Scripting: Add led matrix examples
bf76a8c727 AP_Scripting: update LED_roll example
3002089396 AP_HAL_SITL: update function names
e1c2977adc AP_Notify: support ProfiLEDs
fe5779fd88 AP_HAL_ChibiOS: add support for ProfiLEDs
6ab13333c2 AP_HAL: support ProfiLEDs
f1fee1ebc5 AP_SerialLED: support ProfiLEDs
8dccea4a15 AP_Scripting: regenerate bindings
426f5e6180 AP_Scripting: support ProfiLEDs
001f71e3de SRV_Channel: add ProfiLED ouputs
998f93c7c9 AP_Periph: fixed HWESC RPM and current readings
49314b2b86 Tools: build_autotest.sh: install pymavlink after MAVProxy
5f8b7e990e autotest: make scripts directory relative to CWD
1fd5168eeb Tools: Dev test, appending name to GIT_Sucess.txt
d4d1eac612 Tools: Add Hachinohe mine
d464db9c70 Tools: create log of build_binaries.py builds
dc8e1bd4a4 autotest: flake8 fixes
c7aff4eb11 autotest: fixes for quadplane fft test
de55e4dcc2 autotest: disable harmonic matching test
eb0923a018 autotest: separate out harmonic matching test
cb37f66414 Tools: Added name(Gokul) to GIT_Success.txt
4c964dd89f autotest: param_parse.py: allow cr to exist on empty lines in prog_param
67a3610f54 autotest: correct dangling path separator issue in PYTHONPATH
8514cb3246 Rover: version to 4.1.0-dev
16f34778fc HAL_ChibiOS: added f103-HWESC target
5462c468cd AP_Periph: fixed current decoding for HWESC
bca1bd2c72 HAL_ChibiOS: added f303-HWESC firmware
44bf05ab29 AP_Periph: added Hobbywing ESC telemetry support
c517124c72 Tools: correct path separator in PYTHONPATH
1486421581 AP_Scripting: rename arming-check-batt-temp example script
8d12c25555 AP_Vehicle: formatting fixes
2526aaeb74 AP_Scripting: set-target-location example script
ae8c8b71b2 AP_Scripting: make bindings
989241a6bd AP_Scripting: fix limits on Location alt field binding
e8699ab9fe AP_Scripting: add Location.alt to bindings
1e2fc444b6 AP_Scripting: add set_target_location binding
93f87b215b Rover: implement set_target_location method
a9630d67d1 Copter: implement set_target_location method
6f5d733ba9 AP_Vehicle: add set_target_location method
fc0d845b6c AP_Scripting: add NMEA decode example
12f7337030 AP_Radio: correct for recent semaphore bool/void changes
a32e54ea17 AP_Arming: correct toymode compilation for recent disarm-reason changes
9f87962cf4 Copter: correct toymode compilation for recent compass changes
136d0cce0b Copter: rewrite_get_alt_above_ground_cm for clarity
8deaa36f5a autotest: neaten start of MAVProxy, add debug showing cmdline
566732a2d7 autotest: tidy setting of PYTHONPATH in the environment
7828274c72 Plane: prevent jump to Circle upon Takeoff mode entry unless flying >10s
f3e66055e5 GCS_MAVLink: Alert GCS if user tries calibration while vehicle is armed
cbccdfa8a3 AP_Compass: Alert GCS if user tries to calibrate compass while vehicle is armed
d1f74faed7 AP_Notify: remove bad HIGH/LOW defines
09562e1f13 AP_HAL_Linux: use constants for high/low rather than defines, like ChibiOS
1a123e5f8d AP_HAL_ChibiOS: avoid referencing flash sector/page 22 on 1MB boards
c917cd4dbb AP_HAL_Linux: make a static-const hal references references to external symbol
2d2fdf8bd0 AP_HAL_ChibiOS: make a static-const hal a reference to the external symbol
7038d522b8 autotest: run GetCapabilities test on all vehicles
0d5f5117cc Rover: Changed logging of  wp_bearing and nav_bearing to degrees
2f036c65f3 AP_Motors: MotorsMulticopter fix floating boost output
b2a298fa5f Copter: update vibration failsafe comments
255c5d4126 Copter: set-pos-target-global-int fails sooner if accel given
b21ecda76f Copter: fix guided mode handling of terrain altitudes
d5c0c62699 Tools: Add nnaka to git test
3fac5ad52c autotest: loosen gyro fft test to avoid spurious CI failures
a9f3f9af40 autotest: attempt to fix param-parse crlf issue
cb8d623624 autotest: add test for fixed yaw calibration
10e367cacb Copter: 4.0.3 release notes
71f1755c97 AP_Scripting: update plane-wind-fs example
6587653e14 AP_Scripting: regnerate bindings
129dc16bdb AP_Scripting: add mission scripting example
46714d69a5 AP_Mission: add get id functions for scripting
370b6473a2 AP_Scripting: add AP_Mission bindings
c6a6427d6a Plane: prevent lidar glitches from triggering land final
fbbba887e5 AP_Notify: implement SIM_LED_LAYOUT
09b272b840 SITL: added SIM_LED_LAYOUT parameter
ccc7d48c20 HAL_ChibiOS: reserve plenty of DMA memory for luminousbee4
d83f380521 AP_Periph: adjust for updated LED API
e582432a2f AP_Scripting: regen bindings
2277e22bc7 AP_SerialLED: added define for LED limit
5ad4ceef71 AP_SerialLED: allow more than 32 LEDs
fe86d8bb0c AP_Scripting: adjust for updated LED API
dbba89a024 AP_Notify: allow up to 64 LEDs on a pin
09d10df3a3 HAL_SITL: allow more than 32 LEDs on a pin
669b98c6df HAL_ChibiOS: allow more than 32 WS2812 LEDs on a pin
5d15d867b5 AP_HAL: adjust LED API to allow more than 32 LEDs on a pin
5bfd607300 HAL_ChibiOS: added luminousbee4 flight controller
fbe2e75b9f GCS_MAVLink: divide time allowed to send messages fairly
c6f12e519b AP_SerialManager: Add a description
bf345b0dd4 AC_AttitudeControlHeli: update filter parameter desc mins
aff854f485 AC_AttitudeControl: update param ranges
8d99f204b0 Copter: integrate landing gear option and make edge based
6297306492 AP_LandingGear: add OPTIONS param to auto deploy and retract
cc33c8d116 AP_Scripting: make bindings
c0bc696b86 AP_Scripting: add arming-check-batt-temp example script
ccaa74655c AP_Scripting: support external authorisation for arming
05a8e34d5c AP_Arming: support auxiliary authorisation
2ee5f9dcc5 AP_Logger: ARM msg logs ArmChecks as uint32_t
df8bf27a7f AP_Arming: get_enabled_checks returns uint32_t
8ad9a49900 AP_Mount: ignore rc trim when calculating desired mount angles
cd38940ecf RC_Channel: formatting fixes
77d5165c01 RC_Channel: add norm_input_ignore_trim
7565e9d75d Copter: update_throttle_mix uses filtered accelerations
f2ab428cdd Plane: rename update_throttle_mix
9a32b3bdd9 Copter: rename update_throttle_mix
8f83bf5e80 AP_Compass: fixed in-flight learning for all compasses
c247c49bbb Rover: allow base class to set_control_channels in initialisation
937bbeb66d Rover: correct comment on CPU failsafe strategy
e5858555de ArduSub: move initialisation of serial and gcs to AP_Vehicle
5ff1630c63 ArduPlane: move initialisation of serial and gcs to AP_Vehicle
ae2578e5c9 ArduCopter: move initialisation of serial and gcs to AP_Vehicle
a6e1fce4bd APMrover2: move initialisation of serial and gcs to AP_Vehicle
2f159288e2 AntennaTracker: move initialisation of serial and gcs to AP_Vehicle
727c12c388 GCS_MAVLink: move initialisation of serial and gcs to AP_Vehicle
2ede027635 AP_Vehicle: move initialisation of serial and gcs to AP_Vehicle
2b7af4d70b AP_Vehicle: fold init_vehicle back into AP_Vehicle init method
a7c493d037 AP_BoardConfig: fold init_vehicle back into AP_Vehicle init method
0ca6b7cf77 AP_HAL_ChibiOS: retry neopixel until  successful send
dd5fafe30e Copter: added rangefinder height interpolated using inertial alt
0b01bb531d Plane: Remove unutilized case
30fd915312 Plane: Update CRASH_DETECT param
e2c9f6a8a1 GCS_MAVLink: add flags to MAV dataflash log
10c9bc3659 AP_Logger: add flags to MAV dataflash log
e02a9890b3 Plane: force mission resume on RTL when DO_LAND_START in mission
d813a70c8d AP_Mission: Added force resume for when MIS_RESTART=1
3b25a8ae2e AP_GyroFFT: adjust default FFT lengths for boards that can cope and are likely to have BMI088
ee18db36fa autotest: be more lenient on frequency with harmonic matching test
509341957f AP_HAL: check for div0 in quinn's estimator
507bd9eea9 AP_InertialSensor: add in user-specified background noise when there is no rpm noise
b3bfc0bd32 autotest: add instant-disarm radio failsafe test
2b24e922a7 Plane: updated release notes for 4.0.5beta1
de791682e9 waf: fixed build on cygwin
194998d631 travis: restore fly.ArduCopter as running all tests
82f53abee2 autotest: restore fly.ArduCopter as running all tests
9fb2914209 Tools: Only calculate root_dir and autotest_dir once in sim_vehicle.py
1a0079878a Tools: rebuild AP_Periph bootloaders
84ac1ac41d AP_Periph: don't probe rangefinder continuously
41b74ec014 HAL_ChibiOS: use DNA by default for all AP_Periph builds
6139860a64 HAL_ChibiOS: use default USB IDs for fmuv3
4d0c61970d ArduSub: log disarm method
74dbcac40e ArduPlane: log disarm method
ce5f23810b ArduCopter: log disarm method
98c999d0de APMrover2: log disarm method
347f64264d RC_Channel: log disarm method
f8f4ed7ee0 GCS_MAVLink: log disarm method
1e82ae4676 AP_Scripting: log disarm method
7b9cdd6d06 AP_Arming: log disarm method
05a0fe615b Tools: split Copter tests into two runs to balance time on travis
41b41c05f3 AP_InertialSensor: scale SITL motor noise by SIM_VIB_MOT_MULT
2033cf3b4a SITL: add SIM_VIB_MOT_MULT to allow motor noise to have a different amplitude to the fixed frequency noise
c0c61660b0 SITL: quadplane updates
dcdd1707f7 AP_HAL_SITL: make throttle comply with quadplane dynamics
ba67ad39a0 Tools: quadplane test
3832bc455d Plane: dynamic notch setting via FFT
0e9b2a26c5 AP_InertialSensor: SITL the raw sample rate is not the same as the sensor rate
83b1c3a0bd ArduSub: add gyro fft logging
04792b23a9 ArduPlane: add gyro fft logging
a16bb2f188 AP_Scheduler: allow registration of tasks at loop rate
7663c67eec AP_Arming: gyrofft arming checks
6613d4da3d AP_Vehicle: add FFT configuration and initialization
4c1816a983 Copter: port betaflight in-flight fft analysis to arducopter and expose as a log message
6f5b991f28 Filter: add harmonic notch dynamic tracking mode
127a0e9b41 AP_HAL_Linux: add in empty dsp driver
7d36bc4422 AP_GyroFFT: new FFT library for motor peak analysis using HAL DSP abstraction
7571b4d95c AP_HAL_SITL: SITL version of DSP implementation
495a89459f AP_HAL_Empty: empty implementation of HAL FFT
3d0cf7e12a AP_HAL_ChibiOS: hardware M4-Cortex and M7-Cortex (and H7) implementation of HAL FFT abstraction
f4a99a1589 AP_HAL: hardware abstraction for FFT.
3d9776dd6d AP_InertialSensor: expose statically filtered gyro values for FFT analysis and allow sampling to gyro window for FFT analysis.
88f0c26636 Tools: add CMSIS DSP module to waf for M4 ChibiOS and control inclusion of FFT based on HAL_WITH_DSP and GYROFFT_ENABLED. target appropriate ARM cpus
593ff6818d AC_WPNAV:make speed changes during missions obey WPNAV_ACCEL
fc2e15651e AC_PosControl: allow smaller changes in max speed and accel
e1d8148cc0 autotest: Python correctness fixes
c9c4167888 AP_Periph: fixed watchdog during DNA wait
293692cc24 autotest: strip whitespace from parameter attribute values
1c77df9169 SITL: Rename morse-rover to morse-skid
b4bdc76a53 AP_RCProtocol: handle 0x10 and 0x00 frames, check scheduler delay and fix incoming crc
0c5618c9e7 AP_Frsky_Telem: add semaphores to ahrs access and fix potential array out of bounds access
a9cc776c7d Tools: update hexsoon edu450 recommended params
95ee01082f AP_HAL_SITL: update search for dumpstack.sh
1d8a9ab556 Tools: make dumpstack and run-coverage .sh script
097cffaa06 Tools: build_ci: remove useless check for waf support
387b5e7002 AP_Camera: bug fixes to support 5-key remote RunCams
def108c0e0 Copter: version to 4.0.4-dev
283682fb89 Copter: 4.0.3-rc1 release notes
20ea1a3dc7 GCS_MAVLink: don't send statustext from other than main thread
d7a59bc449 AP_Scripting: Reduce the sleep time with no scripts
13f2320138 Tools: updated SuccexF4 bootloader
9f577a23c8 Copter: stop spray if changing a mode from ZigZag to other
19d2ffcde7 Copter: makes the pump on while moving to destination A or B
6b192de389 Copter: add ZIGZAG_AUTO_PUMP parameter
772438f3ed AP_NavEKF3: fixed use of antenna position when switching GPS primary
9030590a88 AP_NavEKF2: fixed use of antenna position when switching GPS primary
b49a76bb20 AP_Filesystem: fixed EOF on file read
1cb711d35d AP_Filesystem: make SITL take paths relative to starting directory
f00a39af52 AP_Compass: run style script on Compass.cpp
faacd03e3a AP_Common: add method that can help to put contraint on accessor type
1d2985e967 AP_Param: add method to find key of top level group variable by pointer
8a7dcafa0f SITL: add parameter MAG_DEVID in SITL
8d227d401a AP_Compass: modify compass driver to support consistent ordering and hotplugging
545331024f AP_NavEKF3: Primary compass is always at serial number 0
4cca1c307c AP_NavEKF2: Primary compass is always at serial number 0
7da331535c AP_Arming: add arming message for compass not detected but assigned
defc1b5fcb ArduCopter: add arming message for compass not detected but assigned
653fad44d4 AP_Arming: Primary Compass is always at serial# 0
b5cf1ecfe1 Arducopter: Primary Compass is always serial# 0
6dd204d52c Tracker: correct missing parameter documentation
baf375e7a0 AP_WheelEncoder: add param docs for new PID filter parameters
e85a4dcd7d AP_Soaring: remove empty Units: parameter doc entries
6d7ee65a5f AP_AdvancedFailsafe: correct WP_GPS_LOSS param documentation block
370e378bf6 AP_ICEngine: correct IDLE_DB parameter documentation
c4d282f05b autotest: param_parse.py: whitespace-only line is param block delimiter
b2d05c9a85 autotest: make download_parameters more robust
e3e152ae3e autotest: make all-parameter-documentation-working a full autotest
f22e818161 Autotest: support new motor orders
c65d1ff8d8 HAL_SITL: support new motor orders
08f27f7668 SITL: Added cwx motor setup for hexa, octa and octaquad
aec65ed6ff AP_Motors: Added cwx motor setup for hexa, octa and octaquad
14e758a6d1 Tools: add sitltest-tracker into build_ci.sh
f8f7d42182 travis: run sitltest-tracker
1190b9ff19 AP_Proximity: TeraRangerTower uses intermediate serial class
107c424a5c AP_Proximity: LightWareSF40C_v09 uses intermediate serial class
97320e8938 AP_Proximity: TeraRangerTowerEvo uses intermediate serial class
0d4e72622e AP_Proximity: RPLidarA2 uses intermediate serial class
788e466c90 AP_Proximity: LightWareSF40C used intermediate serial class
fcdb833f46 AP_Proximity: add intermediate AP_Proximity_Backend_Serial class
d8f6089f64 Tracker: add arming library to avoid segmentation fault
075ef40d95 Sub: Rename SYSID_SW_MREV to FORMAT_VERSION
d4dcadcea0 Copter: Rename SYSID_SW_MREV to FORMAT_VERSION
f64a0a9df9 Sub: Match the column of element description
94901edaf2 Copter: Match the column of element description
1f8c030eba GCS_MAVLink: Allow scripting to start/stop the REPL
e24f2f9175 modules: Update MAVLink version
cf06beb1e6 AP_Scripting: Add support for REPL over MAVLink
296c014d14 GCS_MAVLink: Fix excess trimming of autopilot version
ab07bae8a6 Mavlink: add initalized bit to EKF_STATUS_FLAGS
7bef426531 AP_Logger: EKF4 change flags state from uint16_t to uint32_t
47e3fda8e9 AP_NavEKF3: add initalized flag and change to uint32_t
e0eeb4f863 AP_NavEKF2: add initalized flag and change to uint32_t
9ec5355dfc AP_NavEKF: add initalized flag and change to uint32_t
d24d1c587a AP_Scripting: add documentation for DEBUG_LVL parameter
e2f3cb7ee8 Plane: Support added for DO_LAND_START FS fix
44718cd00f AP_Mission: Check if failsafes should interupt landing approach
32ecd904bd GCS_MAVLink: use MAV_SYS_STATUS_PREARM_CHECK
bf1b48b940 AP_Notify: add mah consumed to BAT line in OLED displays
7f64c6159d AP_Landing_Deepstall: correct missing parameter docs
19bc60b690 Plane: correct missing EFI parameter docs
a86dc33235 autotest: improve debugging of original location discrepancy
1a52fed853 README: Add sentence to explain what project is
b935aa3355 SITL:adding slow-motion option argv -d for Quad & Tricopter controllers
9cb3662db6 SITL:Webots-better time sync
147a940451 SITL: Indicates that the message is SIM only
b5e091bc84 AP_Airspeed: hide unused parameters for AP_Periph
7bfcec2fc1 Copter: log_Heli is only used with FRAME_CONFIG as HELI_FRAME
05b94de9a0 AP_Camera: Make trigger type enum class
27e825b058 RC_Channel: Add GoPro mode toggle Aux switch
c84dcd9bf8 GCS_Mavlink: Add routing for GoPro heartbeat
a2af217adf AP_Camera: Add handling of GoPro mavlink commands
070b7c3202 Updated changes as requested in waf for shell completion
ea3d8046da waf: don't embed the sandbox.lua anymore
c1a599d0bd AP_Scripting: Reduce memory associated with the sandbox
8292e9d4a5 ArduSub: remove unused compass_init_location state
1424945c14 ArduCopter: remove unused compass_init_location state
6488c204f1 APMrover2: remove unused compass_init_location state
465bde5339 AntennaTracker: remove unused compass_init_location state
87a31c6409 GCS_MAVLink: don't recalculate max parameter count if not streaming params
4ee17aea3d AP_Scripting: regenerate bindings
a04a34ff6a AP_Scripting: add param get and set example
1f139414bc AP_Scripting: add param get, set and save bindings
5164eacc4a AP_Param: add get and set functions
623c1aa3cd AP_Param: add singleton
b81aa05622  Tools: Shift  RTL and S_RTL to not_armable_mode_list
961eeb3b58 Rover: disallow arming in RTL and S_RTL mode
999061704e Rover: new function to check if arming is allowed in the mode
12ddf341aa .github: update template engine, fix issue template random linking to PR
899335e30b SITL: fix DisplayName and description of parameter
2f435d5099 SITL: fix DisplayName and description of parameter
a0bfc823b3 AP_Scripting: Support libraries holding the scheduler lock
c257cea375 AP_Scheduler: Add a lock that is held during all normal operations
d04c86be1e Copter: minor format changes to GCS_MAVlink.cpp
f6125b26e8 Copter: Allowing Terrain Following in Guided Mode
53fb333f0c AP_Follow: minor format fix to FOLL_ALT_TYPE param desc
eca0d662f0 Copter: minor format fix to sensors.cpp
495c4ad6b6 Copter: remove unused ModeAuto::wp_start
01b5337d91 Tools: auto-build f303-M10025
8c764bb568 hwdef: switch to (0) DNA as the default NODEID
8f6d2aab7a hwdef: add mRo M10025 KITCAN
26d81e3d13 Tools: FilterTestTool fix open .BIN files on case sensitive systems
cd673b5ffd Plane: updated release notes for 4.0.4
7a14992cce Plane: reset TECS at end of auto VTOL takeoff
2a03144fdb AP_SpdHgtControl: added reset()
176d3c0b2f AP_TECS: added reset() method
14ad9a58bd autotest: don't blat main test exception with still-armed exception
fa33719da6 autotest: improve distance-from-home debug
d4e5e1bd3d AP_Motors: tradheli - fix quad heli collective structure
e36d4d19e2 AC_AttitudeControl_Heli: fix VFF and ILMI param descriptions
043ba5cf34 Rover: fix SYSID_THISMAV param description
f9fa07a3f9 Rover: fix sprayer param descriptions
5e60ae8a26 AC_PosControl: add missing ACCZ param descriptions
6843d0e628 autotest: improve debug on parameter download failure
be7ae6fbc9 autotest: add --validate-parameters autotest option
5d5f9b77e8 autotest: include AP_Vehicle parameters in documenation
d244162587 Copter: zigzag supports arming, takeoff and landing
66f123e2b4 SITL: Example for skid rover
774b79e632 SITL: Parameters for skid rover
5e2b693be4 SITL: Parameters for steering/throttle rover
677dec5894 SITL: example for steering/throttle rover
71f8c7cabb SITL: support for steering/throttle rover
7c5f67227b Tracker: Remove links to AP_Camera
adcfb60850 AP_RangeFinder: comment out no-loner-used PX4 enum entry
6febbcdc13 AP_RangeFinder: remove incorrect and misleading comment
bebfef369f HAL_ChibiOS: fixed power flags for CUAV-Nora
b854fa3d4e Tools: added CUAV-Nora to autobuild
561808ba3c HAL_ChibiOS: Added support for CUAV Nora flight controller
bb556a11be Tools: added CUAV-Nora bootloader
a0fe1a7598 HAL_ChibiOS: produce more accurate clocks for DShot and PWM
3757adfdc6 ChibiOS: relaxed restrictions on PWM clocks
9e0edba31d HAL_ChibiOS: raised timer clocks to 200MHz
8b93e0f57d HAL_ChibiOS: prevent double init of USB
adf17414e0 HAL_ChibiOS: fixed output string for non-DMA capable chan
1d8e4ce5ac AP_ToshibaCAN: move usage_sec in telemetry struct
8c227a5a18 AP_Scripting: add esc-usage.lua
fb2d7242f4 AP_Scripting: make bindings
617b8b45d2 AP_Scripting: add AP_ESC_Telem bindings
72612d3cb9 AP_Vehicle: add AP_ESC_Telem
dc537efabe Tools: add AP_ESC_Telem to build for all vehicles
35737d484e AP_ESC_Telem: wrapper for ESCs with feedback
415ba0f40d AP_ToshibaCAN: add accessors for use by scripts
2bc91cbc4d AP_ToshibaCAN: request usage time from ESC
9fd315f061 AP_ToshibaCAN: add get_motor_request_data_cmd helper function
0bfab20bd0 Plane: fixed a bug in LOITER_TURNS in quadplanes
e8ab35a192 HAL_ChibiOS: fixed stdout in early startup bug
b1742b4e19 GCS_Mavlink: constrain battery current to avoid wrap
2bd6d4674b AP_HAL: utility: add thread safe ring buffer duplicate
1ee14ffa75 AP_Param: use thread safe object buffer
a183d00b7e AP_RangeFinder: BLPing: Rework class to work with new firmware version 3.28
670ac124c0 Copter: 4.0.2 release notes
f7eba43cb8 GCS_MAVLink: raise ftp stack size to 3072 from 1024
d40862de9c AP_ServoRelayEvents: do-set-servo affects sprayer and gripper
e0af13a6ad SRV_Channel: remove release and choke from FUNCTION param description
e6f32f4572 AP_HAL_ChibiOS:  Fix waf --default-parameters
73e51c480a RC_Channel: correct RC_set_override parameter name
5ec1f95ee4 Rover: display the type of failsafe on GCS
0cf747cdbe SITL: remove RCMAP_ parameters from SilentWings parameters
bea8765da7 AP_AdvancedFailsafe: remove unused RCMAP includes
aa356b563d SRV_Channel: remove unused RCMAP includes
b0e5bfc32d autotest:FRSkySPort: added support for VARIO 0x30 and GPS 0x800 sensor types
b606c0df64 AP_Frsky_Telem: added VSpd to telemetry protocol 4
12f31e328f HAL_ChibiOS: fixed dshot docs for Pixhawk4
76c982ced8 AP_HAL_CHibiOS: update Pixhawk4 README to 16 pwm outputs
93ac71095d Tools: build_binaries, sort boards before building, print board counts
fd8088f1e5 autotest: add Copter tests for altitude change on arm
ac904085d6 autotest: add statistics on time taken to arm
b0aceaea70 autotest: add tests for LTM telemetry output
62f289b8e6 autotest: drain_mav_unparsed gets a quiet option
b75dd36f71 autotest: create Telem baseclass for telem clients
df614cc34f AP_HAL_SITL: print valid model names if none supplied
212bc6538b autotest: improve output on wait_altitude
71a129d685 autotest: add test for Plane LOITER
c46a1112e1 gitignore: Add dumpstack_*out to .gitignore
521cf4d6a1 AP_Compass: removed annoying startup messages
a2322a828c AP_Battmonitor_SMBus_Solo: removed unused code/options
21e5922b2e APMrover2: Remove post_ignore check since is always true
de2cf89b60 AP_Vehicle: initialise scheduler early
5580196b1c AP_Scheduler: move clamping of loop rate to init function
b8087c3e84 Replay: let AP_Vehicle handle loop()
a523bb4b68 AP_Vehicle: let AP_Vehicle handle loop()
7658c13c69 Sub: let AP_Vehicle handle loop()
58d45ef04a Plane: let AP_Vehicle handle loop()
18670d681e Copter: let AP_Vehicle handle loop()
449ca74951 Tracker: let AP_Vehicle handle loop()
ba883e2b89 Rover: let AP_Vehicle handle loop()
51a1ee83a6 AP_HAL_SITL: correct name on stacktrace files
4ca34ea448 Rover: White space is tab code
2ab124223a Copter: version to 4.0.3-dev
8ff5bb624f Copter: update release notes for 4.0.2-rc4
19ad51913c Copter: 4.0.2-rc4 release notes
f1f784f81d AP_TemperatureSensor: fix TSYS01 warning on SITL
98adeafad9 Tools: autotest: Add sub test for MOT_THST_HOVER parameter
885ebc41e3 Sub: Ignore MOT_THST_HOVER parameter
c7f8c6155b Copter: avoid SITL failure when changing current_loc.alt frame
70311382d9 Rover: fix the description and remove unnecessary send_text
5688031f02 AC_Fence: add the description of FENCE_ACTION in Rover
83f285bbfc Rover: add Hold and SmartRTL to FENCE_ACTION
0b8ad28272 SRV_Channel: add sprayer and camera aperture output
bd8bcd5ab1 Copter: correct current_loc to be alt-above-home
103fa8b3d9 Update README.md
4afdff746e AP_HAL: Fix Navigator orientation
bdef7d7158 HAL_ChibiOS: fixed default fast sampling on CubeOrange and Durandal
4e457c1ebb Plane: update release notes for 4.0.4beta1
e0cd790505 HAL_ChibiOS: fixed spektrum RC input on Pixracer
ab7ee46423 AP_InertialSensor: mark some parameters as Calibration parameters
cc3f6468e3 AP_Compass: mark some parameters as Calibration parameters
16f4d33d00 Tools: add known Calibration tag to apm.pdef.xml
dba272bafb Rover: mode: trigger tack on active fence limits
7058bcb5f5 Tools: testing to add my name in git_success.txt
2898b5e2fb Plane: report FENCE_MITIGATE_NONE
556d90ca0c AC_Avoidance: keep track of velocity liminting status
ba811052f8 GCS_Mavlink: report on fence limiting
7a5f57f940 GCS_MAVLink: send rc output mode banner to GCS
a71ae54d3a AP_HAL: add RCOutput::get_output_mode_banner
a54f24c8c0 AP_NavEKF2: switch to optflow if gps is jammed
455bd86f1a AP_Notify: Created NTF_NEO_LEN to change length of Neopixel strings
66bf6d0a91 Copter: Fix circle radius pitch stick control
2c5b0ffa29 AP_BlHeli: always report test results and report band channel once
d5843ff03a AP_BLHeli: stop motors if conection lost in motor test
38f68c4eba AP_Blheli: allow connection with mixed reversible and normal
176e8b8861 AP_OpticalFlow: add orient-yaw parameter units
7d8952a48a AP_RangeFinder: fix offset param for PWM driver
529f067914 HAL_ChibiOS: save more flash on SuccexF4
23a42b1914 HAL_ChibiOS: disable parachute and sprayer on SuccexF4
9a0e6f6488 Copter: 4.0.2-rc3 release notes
be561d41d2 Copter: 4.0.2-rc1 release notes
52ca1e016e AP_RangeFinder: minor fix in POS param description
6677c807ae AP_WheelEncoder: add POS param range of 5m
c9b82aa822 AP_VisualOdom: POS param range of 5m and 1cm increment
9f3154372d AP_RangeFinder: POS param range of 5m and 1cm increment
dd49f199cb AP_OpticalFlow: reduce POS param range to 5m and add increment
b7f6f4a05e AP_InertialSensor: reduce POS param range to 5m and add increment
b31a9fd54a AC_PrecLand: POS param range of 5m and 1cm increment
a19634b9d2 AP_GPS: reduce POS param range to 5m and add increment
8b2629bfc1 HAL_ChibiOS: save 7k flash for boards close to flash limit
aa3642d9de AP_Param: save 7k flash for HAL_MINIMIZE_FEATURES boards
152205fd52 AC_AutoTune: fix restoring of original gains
0ea4e150db autotest: add test for gimbal range issue
a9e288a335 autotest: improve clarity by breaking apart calculations for mount pitch
58c823acc1 SRV_Channel: Change from direct value to defined value
c8395bb2c1 HAL_ChibiOS: use blocking semaphore for new_input()
05f095f338 HAL_ChibiOS: fixed build
71503a1b9d Tools: updated IO firmware
3fe3c8ecdc HAL_ChibiOS: implement pulse_input_enable()
9c0cf0871b HAL_ChibiOS: added disable() API for pulse input
258b8b71ea AP_IOMCU: use more efficient read API for rcin
8e67c3459a AP_RCProtocol: added multi-channel read() API
3105c6a050 AP_HAL: added pulse_input_enable() API
ae9e8c3dbc HAL_SITL: fixed bitmask error on storage erase
cbbf61af93 HAL_Linux: fixed bitmask error on storage erase
27c114828b HAL_ChibiOS: fixed bitmask error on storage erase
bff97eb150 AP_HAL_ChibiOS: assert that storage size is an even number of storage-lines
c4ed6d0e96 AP_Motors: ensure _pwm_min and _pwm_max are not equal
346471258b autotest: add test for mot_pwm validation
74e3ca75a7 Copter: check_mot_pwm_params arming check returns true on success
bff978570f AP_MotorsMulticopter: fixup check_mot_pwm_params
f00bf77af7 AP_MotorsMulticopter: minor formatting fix
aecc10fdc3 Copter: Pre-arm check for mot_pwm
d97fdcac31 Copter: function for mot_pwm checks
8854f382bd waf: fixed cygwin build issue
5e08d503ea Autotest: support new motor orders
ded7c422f7 HAL_SITL: support new motor orders
dc662a56b2 SITL: Added DJI Hexa and Octa for SITL
38533b2f09 AP_Motors: Added DJI_X motor setup for hexacopter and octacopter
84e6c59fdd AC_AttitudeControlHeli: fix update_althold_lean_angle_max use of throttle_in
3c8aa955d5 AC_AttitudeControlSub: fix update_althold_lean_angle_max use of throttle_in
07f45e1ef9 AC_AttitudeControlMulti: fix update_althold_lean_angle_max use of throttle_in
623c84ae74 AP_HAL_SITL: implement trap method
1344827c07 AP_HAL: add empty overridable trap method
441f43103a autotest: add send_debug_trap to send a mavlink trap to the autopilot
1650979a2b GCS_MAVLink: add support for MAV_CMD_DEBUG_TRAP
56044b8b04 Plane: fix for updated mavlink extensions
0e7ddebd15 GCS_MAVLink: fix for updated mavlink extensions
0a9a1c5314 AP_EFI: fix for updated mavlink extensions
1baf8d736b mavlink: update to mavlink master
1d8c0c4960 mavlink: reference new statustext extensions
e248bdfb16 GCS_MAVLink: split statustexts into 50-byte chunks using mav2 extensions
a1f0452940 AP_Hott_Telem: avoid 1-byte overwrite in prearm check string
b47181a86f AP_OpticalFlow: probe all I2C buses for px4flow on Hex Cubes
53ce463a90 autotest: add test for statustext coming through via frsky passthrough
bde97596eb Tools: adjust Replay for new AP_Vehicle requirements
2401afd496 AP_Periph: fix up firmware version includes
e7e1cdcc45 ArduSub: move some common init_ardupilot code up to AP_Vehicle
a5a75e61da ArduPlane: move some common init_ardupilot code up to AP_Vehicle
9e8af48cce ArduCopter: move some common init_ardupilot code up to AP_Vehicle
692d7abf1c APMrover2: move some common init_ardupilot code up to AP_Vehicle
de2689bddd AntennaTracker: move some common init_ardupilot code up to AP_Vehicle
07c7a98269 AP_Vehicle: move some common init_ardupilot code up to AP_Vehicle
1211ea88b5 AP_Vehicle: move setup method up to AP_Vehicle base class
87b84ec196 Sub: move setup method up to AP_Vehicle base class
a45abc7762 Plane: move setup method up to AP_Vehicle base class
debedd9d34 Copter: move setup method up to AP_Vehicle base class
dfc274e547 Tracker: move setup method up to AP_Vehicle base class
0728514f74 Rover: move setup method up to AP_Vehicle base class
de423a945f Plane: move rssi initialisation into init_ardupilot
45b2f24867 Copter: StorageManager layout is now done with a pragma
4647c6ef62 StorageManager: use pragmas to set storage layout rather than call
7bc1f4ff9b AP_RangeFinder: a to close reading is not the minimum distance
8b20c82a18 AP_Camera: send mavlink camera feedback message even if no logger
cc5359d774 autotest: add explicit tests for rc-override-times of 0 and -1
fbd502d7ab Rover: add wing sail support
f75aee223e Rover: AP_MotorsUGV: add wingsail output
de684530f1 SRV_Channel: add wing sail elevator output
fb7c5e09e5 Tools: chibios.py remove duplicate fread from wraplist
5c388507d4 RC_Channel: fix handling of rc_override_time of -1
2f6d655ff0 Copter: version to 4.0.2-dev
db46a56443 Tools: added name to GIT_Success.txt
b3ff75ed6b Tools: fixed list for USBID in generate_manifest.py
dd1426cf73 HAL_SITL: allow for separate position for 2nd GPS
fb3496b63b SITL: added SIM_GPS2_POS
73f138ff45 Update CONTRIBUTING.md
e8df08a4d3 AP_Terrain: Avoid update() IO operations when not enabled
eee18942b5 Tools: added f303-Universal bootloader
d87306afbd Tools: auto-build f303-Universal firmware
a7b6887f44 HAL_ChibiOS: added a f303-Universal build target
1734541eb7 AP_Periph: added enable mechanisms for all sensor types
2fa6f534ab AP_RangeFinder: added get_type() API
7efd5248ee AP_GPS: added get_type() API
0b2df61114 gtest: update to google master branch
e7ca2057ce autotest: improve output from wait_altitude
c4ce6fa385 autotest: Sub: give vehicle 1 second to achieve alt-hold altitude
7e9f079fc7 Copter: 4.0.1 release notes
0c85200b18 autotest: test diagonals and off-diagonals are set by magcal test
7a812a5516 HAL_ChibiOS: use cortex m7 instructions on F7/H7
b0af48745e AP_RangeFinder: VL53L1X LONG can be specified
e59f32074d AP_GPS: fixed yaw error when one GPS has zero position
141099078c AP_RangeFinder: increase leddarvu8 timeout to 0.5sec
f269004610 AP_RangeFinder: fix detect for LeddarVu8
b068f15932 AP_RangeFinder: LeddarVu8 driver
e5c3a7f7b5 AP_RangeFinder: typo fix for LeddarOne
266a908b83 AP_RangeFinder: serial backend get_reading returns false
9ac10c3af9 AP_RangeFinder: remove virtual from _get_mav_distance_sensor_type
1b19628714 Tools: Add default params for Airsim Rover vehicle
6bbf6f380f SITL: Add rover support for Airsim
842822bb47 Tools: autotest: Add airsim-rover vehicle
b5a051ed69 Copter: Reverse circle radius stick input
f6595a41ae AP_Logger: Change the type of a method
d82b29b23d Tools:Add intelhex for python2 to let WAF build the hex files
88f0d54574 AP_RCProtocol: fport downlink packet: fixed CRC and added missing PACKED attribute
5d3ed74a37 AP_Notify: Remove pixhawk from Oreo LED comments
d1feb93152 Copter: Add GCS failsafe pre-arm check
c7de86a241 Copter: Update AP_Notify of GCS failsafe
3af99115fb AP_Notify: Add GCS failsafe notify tones and lights
b9ff846162 AC_AttitudeControl: remove old RAT_FILT param desc
6597d5c825 Copter: remove old ch7_opt and tune param desc
2f568bbfcb AC_AutoTune: fix backup of yaw acceleration
7ee4054515 AC_AttitudeControl: tradheli-Remove Param descriptions
6092a415a5 Sub: allow NavEKFs to be compiled out
797aa51025 Rover: allow NavEKFs to be compiled out
e358677f85 Plane: allow NavEKFs to be compiled out
583b25e6aa AP_AHRS: allow NavEKFs to be compiled out
73c32f403b AP_HAL_ChibiOS: do not compile EKF2 for MatekF405-Wing
8fc64ccbe9 GCS_MAVLink: allow NavEKFs to be compiled out
e3dd0d33e7 Copter: allow NavEKFs to be compiled out
d95956a587 Replay: EKF objects have moved into AP_AHRS_NavEKF
b30004c0a2 AP_SmartRTL: EKF objects have moved into AP_AHRS_NavEKF
a4d9673f39 AP_OpticalFlow: EKF objects have moved into AP_AHRS_NavEKF
e6150533fc AP_NMEA_Output: EKF objects have moved into AP_AHRS_NavEKF
4ecb602def Sub: EKF objects have moved into AP_AHRS_NavEKF
9364181772 Plane: EKF objects have moved into AP_AHRS_NavEKF
50484c3321 Rover: EKF objects have moved into AP_AHRS_NavEKF
373b8be7ef AP_Vehicle: move EKF objects into AP_AHRS_NavEKF
e289020332 AP_NavEKF3: stop taking ahrs in constructor
da3d3cc21b AP_NavEKF: stop taking ahrs in constructor
14fce28e1b AP_AHRS: move EKF objects in; this requires unconsting some methods
d6dbdd58d3 AC_AttitudeControl: adjust for some methods on AP_AHRS become non-const
45dc4cf25c Copter: EKF objects have moved into AP_AHRS_NavEKF
8f550ffdd4 AP_Vehicle: change string to Initialising ArduPilot
342e502da4 AP_vehicle: let AP_Vehicle base class worry about scheduler delay callback
e97582add0 Sub: let AP_Vehicle base class worry about scheduler delay callback
9466126fa8 Copter: let AP_Vehicle base class worry about scheduler delay callback
024c86bdab Plane: let AP_Vehicle base class worry about scheduler delay callback
0c355bef90 Tracker: let AP_Vehicle base class worry about scheduler delay callback
09669bdc66 Rover: let AP_Vehicle base class worry about scheduler delay callback
9ef23872e0 AP_HAL_SITL: check result code of pthread_attr_init
d5729236e2 AP_Scripting: update plane-wind-fs battery RTL failsafe example
807c05c715 Plane: tilitrotor: allow motor test
90494c9de6 Plane: tailsitter: allow motor test
d08b395224 AP_Motors: only ouput throttle to mask if armed
e189b17efb AP_HAL_ChibiOS: remove unused AnalogIn fields
4518e2b8f2 Tools: Add JSONEmit in param_parse
1a14085a6d Tools: Add json param metadata parser
a8501a91c7 HAL_ChibiOS: fixed handling of write mutex
3e930baf89 Plane: update release notes for 4.0.3
2b9c6b08c2 Tools: add readme for completion
b247f2830b Tools: add completion for vehicle binaries
87a51899bd SRV_Channel: update SERVO_AUTO_TRIM docs
a153799e26 HAL_Linux: support inverted 115200 protocols
1284f1bd8a Tools: removed separate recursive sempahore test
82d77fe014 AP_UAVCAN: make all semaphores recursive
e7f200f623 AP_Stats: make all semaphores recursive
9d63edbf37 AP_RTC: make all semaphores recursive
17a762fd36 AP_Notify: make all semaphores recursive
5ae6ad2a59 AP_Mission: make all semaphores recursive
71a0645a59 AP_Logger: make all semaphores recursive
58708c483f AP_InertialSensor: make all semaphores recursive
4aa78dc891 AP_HAL_SITL: make all semaphores recursive
4b9442dad7 AP_HAL_Linux: make all semaphores recursive
f683741a9c AP_HAL: make all semaphores recursive
982cff0695 AP_HAL_ChibiOS: make all semaphores recursive
cf8becfa71 AP_GPS: make all semaphores recursive
23b3000e3a AP_Filesystem: make all semaphores recursive
0ca45059ac AP_Compass: make all semaphores recursive
322bad3fd9 AP_Baro: make all semaphores recursive
3bb7c0e937 AP_Avoidance: make all semaphores recursive
1fac578b37 AP_Airspeed: make all semaphores recursive
3b95b5e692 AP_AHRS: make all semaphores recursive
48486d259f AC_Avoidance: make all semaphores recursive
7bc364a338 AP_TemperatureSensor: use take_blocking instead of HAL_SEMAPHORE_BLOCK_FOREVER
7dcb5c60b0 AP_RangeFinder: use take_blocking instead of HAL_SEMAPHORE_BLOCK_FOREVER
1cee9bea28 AP_Radio: use take_blocking instead of HAL_SEMAPHORE_BLOCK_FOREVER
0d44d666d0 AP_Notify: use take_blocking instead of HAL_SEMAPHORE_BLOCK_FOREVER
b89c241329 AP_InertialSensor: use take_blocking instead of HAL_SEMAPHORE_BLOCK_FOREVER
67bd4ed396 AP_HAL_Linux: use take_blocking instead of HAL_SEMAPHORE_BLOCK_FOREVER
0aae8e13c1 AP_HAL_ChibiOS: use take_blocking instead of HAL_SEMAPHORE_BLOCK_FOREVER
4ee6fb9cdf AP_Compass: use take_blocking instead of HAL_SEMAPHORE_BLOCK_FOREVER
8f867ddb2b AP_BoardConfig: use take_blocking instead of HAL_SEMAPHORE_BLOCK_FOREVER
8c563ef1bf AP_Baro: use take_blocking instead of HAL_SEMAPHORE_BLOCK_FOREVER
2e5fe75aa7 AP_Airspeed: use take_blocking instead of HAL_SEMAPHORE_BLOCK_FOREVER
e1274aea33 Copter: 4.0.1-rc3 release notes
375f642759 autotest: fix race condition in test for AFS on Plane
7ce771734c HAL_ChibiOS: fixed fw build size for several boards
320a703afc HAL_ChibiOS: fixed UART DMA config for ALT() pins
0d283bf3a7 Tools: added --build-target to configure_all.py
671a4d7673 Plane: update release notes for 4.0.3beta2
5c4dda38b5 Tools: Added semaphore ops to CPUInfo
4445313661 Copter: fixed build warnings
0c0d97debe AP_HAL_Linux: Add storage-directory argument in usage
4743a7670f AP_BoardConfig: include BRD_IO_ENABLE without board detect
629ebbb8ea AP_HAL: removed old PX4 define
a777031f54 Tools: auto-build R9Pilot
0cc6d4a70b HAL_ChibiOS: added support for FrSky R9 flight controller
4d24aa43db AP_Baro: added dummy driver
f7a65afa67 HAL_ChibiOS: allow for baro with no arguments
82e6ac4b0b Tools: added R9Pilot bootloader
d8beb55e9f AP_Baro: fixed BMP388 on SPI
bcef478eab AP_RangeFinder: update OFFSET param description to clarify only for analog and pwm
2bdb2f67ab AP_RangeFinder: PWM driver adds offset param value
ead3689ca9 AP_Avoidance: fixed generated param docs
83d3488eb2 HAL_ChibiOS: fixed ZubaxGNSS board ID
2180a21441 AP_Periph: support HAL_SAFE_BUTTON_ON for polarity of safety button
8e4138b503 AP_Baro: fixed baro health for AP_Periph
cc5ccc28ec AP_Periph: avoid baro calibration
ceb8082d84 AP_UAVCAN: protect UAVCAN DNA server with semaphore
d9a6c81eec AP_Filesystem: fixed set_mtime semaphore
e2ac1acfcc Tools: added SuccexF4 to auto build
1e2d9b16a0 Bootloader: add SuccexF4 bootloader
6fa09c05c2 HAL_ChibiOS: added SuccexF4 board
77fab986ea AP_Parachute: default to parachute enabled
d546877d3f AP_Parachute: fixed example build
b3c44d42d7 Rover: use HAL_SPRAYER_ENABLED
32221e2207 RC_Channel: use HAL_SPRAYER_ENABLED
ce4120e803 HAL_ChibiOS: disable parachute and sprayer on MatekF405-Wing
1854e73788 Plane: use HAL_PARACHUTE_ENABLED
1350f6e338 Copter: use HAL_PARACHUTE_ENABLED and HAL_SPRAYER_ENABLED
41353d9357 AP_Mission: fixed build when no AP_Parachute
00ba5e4992 AC_Sprayer: make configurable in hwdef.dat
c3263d057f AP_Parachute: make configurable in hwdef.dat
91b01a3eb2 autotest: fix integer vs float issues for Python3
e568f74580 autotest: correct string-vs-float issue in dataflashovermavlink test
1a5d6527f6 AP_FileSystem: chunk IOs to max 4k
ba779c65ad AP_IOMCU: added a health check based on status read errors
a935b764f4 HAL_ChibiOS: fixed UART DMA issue on F4
2d02062bfc AP_IOMCU: reduce uart buffer sizes
a220b37bf8 HAL_ChibiOS: use 4k bouncebuffer for sdcard
2b7bffa906 HAL_ChibiOS: adjust dma reserve allocation
9554103418 HAL_ChibiOS: don't extend alloc of iomcu uart
6e01c1c19b ChibiOS: check bouncebuffer alloc in SDIO calls
56985f8c33 HAL_ChibiOS: added checking on bouncebuffer allocation
0e70eabdb9 AP_Scripting: Send lua errors to the console before status_text
56035fa5a1 AP_Logger: add a semaphore to protect creation of new log formats
25f5069b58 AP_Logger: removed old NuttX hack
3d0ede499b autotest: disable parameters test on Tracker until reboot works
143d069bca AP_Hott_Telem: added Hott telemetry implementation
a7b83b1e26 HAL_ChibiOS: allow for unbuffered writes without DMA
b8f9f171e0 AP_Common: added IGNORE_RETURN() macro
f0d1d3fa90 AP_GPS: added get_semaphore()
dc3e345a05 AP_RTC: added get_semaphore()
2e1b4cadc2 Plane: removed AP_Stats
f4f62b2699 Copter: remove linkage of AP_Stats
e4435a08cd Rover: remove linkage of AP_Stats
5e1378a6e3 Tracker: remove linkage of AP_Stats
647aaf0575 waf: added AP_Stats to Sub
6790df67a1 AP_SerialManager: added Hott telemetry
f6c9c6fd8c AP_Vehicle: setup for Hott telem
c2ed419401 waf: build AP_Hott_Telem
47ea3274bb Copter: list BetaflightXReversed frame type
28dcca4e1e HAL_SITL: added betaflight-x-rev frame type
dc80df23e9 SITL: added betaflight-rev-x frame
134d8b941b AP_Motors: added betaflight-x-reversed frame type
6aff18d22d AP_Logger: remove non-error init messages
6c8975eae3 autotest: make sub altitude test more reliable
7cd21d3a3a Tools: correct FML versions for eoan64
b41a9c51e9 Tools: correct vagrant boot of boxes. Make install-prereqs-ubuntu pick the right versions of libraries based on the ubuntu release.
6518d6dc4d AP_HAL_LINUX: Add support for Raspberry Pi 4
d36157f314 AP_Baro: Add BME280 ID in BMP280
6230524636 AP_HAL_Linux: Add navigator board
d806081d40 AP_Notify: Add navigator board
dc44a17c46 AP_HAL: Add navigator board
994a934f88 Tools: ardupilotwaf: Add navigator board
f42c42df02 autotest: Python3 fixes for Frsky tests
2ebfdefc11 AP_Logger: regain some logging IDs
f504009287 AP_HAL_SITL: disable SITL stack checking due to memory corruption
a1fb44b782 AP_Scripting: regenerate bindings
d6689372e3 AP_Scripting: add to AHRS ands vehicle and add baro bindings
850eee2f84 AP_Soaring: move to airspeed_estimate with pointer
d16de83e3f AP_Landing: move to airspeed_estimate with pointer
84fe5f4e78 APM_Control: move to airspeed_estimate with pointer
0afa144f80 AP_TECS: move to airspeed_estimate with pointer
e2c4d453e1 AP_OSD: move to airspeed_estimate with pointer
f6897632f8 AP_AHRS: move to airspeed_estimate with pointer
a2e72de5ae Plane: move to airspeed_estimate with pointer
1c57a6a527 Tracker: set_likely_flying in vehicle
dd75609599 AP_NavEKF3: get_time_flying in vehicle
2970334c0d AP_NavEKF2: get_time_flying in vehicle
c870df0351 AP_Compass: get_time_flying in vehicle
89241d25fd Sub: set_likely_flying in vehicle
fbba3f4035 Plane: set_likely_flying in vehicle
61810d69aa Copter: set_likely_flying in vehicle
a2af641b18 Rover: set_likely_flying in vehicle
7a620ca95c AP_Vehicle: add flying time and bool
775e4c90da AP_AHRS: remove flying time and bool
1f20cc10f8 AP_Param: Fix failing to invalidate the cached parameter count
a21a87e884 waf: factor out a cc_version_gte
1ffd697769 Copter: add missing fallthrough statements
f6bb94ff33 AP_HAL: add missing break statement in dsm code
95054418f6 AP_ADSB: add missing break statement
4d6f6c09fb AP_RCProtocol: add missing break statement
4e40c39128 AP_Baro: add missing break statement
41d34e9f88 AP_Airspeed: add missing break statement
824a085097 waf: make implicit fallthroughs fatal
9192cb7b41 autotest: add tests for parameter download
d6248ce57a Tools: correct math in frsky passthrough test
29d31accf2 Travis: Combine jobs, flake8 has been moved to semaphore
d92c4dc892 AP_Rangefinder: Fix bad subgroup pointer for drivers
4a688e59b2 Sub: update for new SRV_Channels parameter conversion call
a90c16e60e Plane: update for new SRV_Channels parameter conversion call
1fae2009db Copter: update for new SRV_Channels parameter conversion call
e292c83303 Rover: update for new SRV_Channels parameter conversion call
4f3725c16c SRV_Channel: change function to AP_Int16
7ef86c9bb1 AP_Param: added convert_parameter_width()
2291702473 AP_Scripting: Raise SITL default heap size
51f79c1b10 AP_Scripting: Add support for UART drivers
f0a50c51f6 AP_SerialManager: Add scripting ports
9997cbf203 AP_AHRS: make ekf_type return from enum class
968d8cf7d9 AP_AHRS_NavEKF: canonicalise use of get_active_NavEKF result
daf1b57736 Copter: Changed autorotation fltmode to clarify for heli
56fb9f8198 autotest: add test for existence of arming log messages
354e44a51e ArduSub: move logging of armed/disarm events into AP_Arming base class
e1b3bd2e42 ArduCopter: move logging of armed/disarm events into AP_Arming base class
62c0078d5f AP_Arming: move logging of armed/disarm events into AP_Arming base class
a74d754720 Plane: AP_Arming now logs arm/disarm events
d2520b7a94 Rover: AP_Arming now logs arm/disarm events
6b94710e4e AP_Logger: include method and forced in armed log message
3b8a2fb262 AP_Arming: log arming
058cd4200f Tools: Replay: allow scripts to get modes
1c07609f47 Sub: allow scripts to get modes
1f9f84044c Plane: allow scripts to get modes
e01e924711 Copter: allow scripts to get modes
b4f2c8cfa0 Tracker: allow scripts to get modes
94e324dbd2 Rover: allow scripts to get modes
2c9e56c4b2 AP_Scripting: allow scripts to get modes
1309101a4b AP_Vehicle: allow scripts to get modes
a37df08277 Sub: correct unused expression compilation failure
0afdee5105 waf: add -werror=unused-value to catch unused expression results
a9f62f196e GCS_MAVLink: consolidate places we snprintf statustexts
9410d40b2f AP_OSD: reduce scope of WITH_SEMAPHORE
d167dacfae AP_Logger: fix locking issues, uninitialized read and status message length
185788adf6 Update BUILD.md
bc7e15ab8b AC_InputManager: tradheli-Fix parameter metadata errors
fd2c6baf5d AP_RangeFinder: added RNGFNDx_TYPE parameter description for the Lanbao lidar
2342ea600a Tools: exclude build-linux-libraries and gtest from coverage analysis
ba13f0bb29 autotest: add test for Frsky SPort
280a44fc73 autotest: make nmea-output test more reliable
b6ef76a1ad Update Tools/autotest/locations.txt
4fadf6b67e Tools:autotest: add AAMeastfield location
cefd991fb0 autotest: add test for frsky passthrough
0986ed0a81 Copter: set_range on motor interlock channel
beb9d0b761 Tools: Updating solo's parameters
b041a8206b AP_OpticalFlow: Deleted parameter descriptions without variables
8ae5dffd31 GCS_MAVLink: fixed valgrind error in mission upload
e9e02542f1 AP_Frsky_Telem: fix for missing WFQ scheduler initialization
924e012fa7 AP_Periph: fixed thread safety of push_force
3556f33051 AP_Frsky_Telem: fixed a race condition with statustext handling
0f7fbfae77 Plane: update release notes for 4.0.3beta1
17e726b967 Copter: 4.0.1-rc2 release notes
5a2386001b Copter: 4.0.1-rc1 release notes
64f98622c0 Copter: fix tradheli RSC RC passthrough mode
09f9ab8dd8 Tools: rebuild IO fw for DSM 22ms fix
74ca9033e2 AP_RCProtocol: fixed support for 22ms multi-frame DSM
39b738e407 AP_RCProtocol: expand test suite for multi-frame protocols
6218537ff7 SITL: fixed segv in SITL RCProtocolTest
f1047adca5 SRV_Channel: add NeoPixelx to function param description
1cfb4e4a49 autotest: test FRSky serial output by taking output via TCP
3074855ea3 AP_HAL_SITL: correct port numbers in diagnostic output
5588229f68 AP_RCProtocol: fixed scaling on FPort RSSI
2f60f783d4 SITL: add simulated Frsky devices
0c8e6f212d AP_HAL_SITL: add simulated frsky support
da2f60ae95 AP_SerialManager: ensure users can't break SERIAL0_PROTOCOL
eb452478ac Copter: override do_aux_function_armdisarm method to set armed_with_switch
ac25b90dda RC_Channel: factor out a do_aux_function_armdisarm method
a50b777179 ArduPlane: let RC_Channel indicate AUX_FUNC::ARMDISARM needs no initialisation
0d04ef19fe ArduCopter: let RC_Channel indicate AUX_FUNC::ARMDISARM needs no initialisation
3f89f0e37a APMrover2: let RC_Channel indicate AUX_FUNC::ARMDISARM needs no initialisation
10976344b8 RC_Channel: let RC_Channel indicate AUX_FUNC::ARMDISARM needs no initialisation
316c6af69f autotest: give guided mode test more time to achieve attitude
4c5c5fff72 AP_Scripting: add some pointers on how to work with bindings
2c5e07cb09 AP_Logger: log battery and cell information using instance numbers
552191925b SITL: Add OA BendyRuler params for Airsim Lidar, rename file
dccb95efce AP_Proximity: Fix Airsim Proximity sector update
d065840b63 Tools: install-env: add libsmfl and pygame; allows joystick and OSD
7e89591e90 HAL_ChibiOS: Modify the default orientation of the compass
e18a14c123 ChibiOS: fixed I2C4 on STM32H7
fced7d78fc HAL_ChibiOS: fixed clock src for I2C4 on H7
1ac65e9c6f Tools: rebuild f103 bootloaders
db777c56b9 AP_GPS: provide yaw feedback in GPS_RAW_INT and GPS2_RAW
e4280ac3a5 mavlink: added yaw to GPS messages
e40c570615 AP_GPS: faster config of moving baseline
cebd8cf9db AP_Periph: removed float random code
c998f93949 AP_Bootloader: removed use of float in can code
ebceab9aa0 AP_Compass: don't probe for ICM20948 on AP_Periph
e660532f67 AP_GPS: fixes from PR review
41289fe945 AP_GPS: adjust lag for MB RTK ublox
b86c43aa66 AP_GPS: prefer RTK MB rover when it has yaw available
261465ef96 AP_GPS: split out update_primary() from update()
93aaf98672 AP_GPS: added automatic u-blox moving baseline configuration
71a0f3a1dc AP_GPS: added RTCMv3 parser
809b170015 Copter: Circle mode pilot control of rate & radius
189fee556f AC_WPNav: Circle mode pilot control of rate & radius
7a5b8136ad AP_AHRS_NavEKF: inform all running EKFs that takeoff or touchdown is expected
d5b1f1651e Copter: remove unneeded set_range calls on RC Aux channels
af08379d1b AP_Motors: MatrixTS remove output_to_motors
615695c1bc AP_Motors: MatrixTS: defualt to normal Matrix setup
4aa0dfa2aa AP_Motors: output_motor_mask update
5da062b850 AP_Scripting: Forward declare lua_new_uint32_t
a469a31528 AP_HAL_SITL: prevent dump_stack_trace() blowing up on macOS
1817280e01 AP_Logger: fix 'last_file' may be used uninitialized with debug build
188fdfb1b8 GCS_MAVLink: send optflow message even if no height estimate
32603b45fa Tools: updated bootloaders for new USB IDs
43172bdd57 HAL_ChibiOS: switch non-composite USB ID
a31f881232 Copter: Change the version patch number
82148607ee Tools: add USBID to generated apj file
793b867706 HAL_ChibiOS: switched to new USB VID for dual-CDC boards
a2d40d040a AP_UAVCAN: added logging of CAN ESC status
58fcd4601a AP_Logger: added CESC message for logging CAN ESC status
b4966f21d8 AP_UAVCAN: added logging of UAVCAN actuator::Status messages
2666853100 AP_Logger: added CSRV logging for CAN servo status
57300d0769 Tools: remove build before running coverage
e3cc580dbc autotest: make running examples in autotest more reliable
a919e8fd45 autotest: adjust NMEAOutput test to take into account NMEA GPS update lag
1ff07762de Copter: remove report_compass method
2694560c38 Copter: generally unseen remove report_version
22f8221427 AP_SerialManager: implement new UART option bits
bb5c1d07e1 HAL_ChibiOS: implement new UART option bits
4eccea2607 AP_HAL: define more UART option bits
ab0f1a8887 HAL_ChibiOS: added max uarts check
0d31e614ed HAL_ChibiOS: added ALT(1) configs for more boards
040a1b7fbe Plane:fix typo in ARSPD_FBW_MAX param description
54521fbbcb autotest: correct sub output on test failure
54b6e7b264 AP_Logger: mavlink backend needs to be the last backend
b3804e1ec0 ChibiOS: added TIM8 support
2b8399dba3 Tools: update IO firmware for FPort support
61f8e6f0d1 HAL_ChibiOS: added alt config for USART6 on MatekF765-Wing
326a569ea8 Copter: remove dangling read_control_switch method declaration
26e0f5c084 Tools: add python version option to configure_all.py
296a4cb086 HAL_ChibiOS: re-format and fix chibios_hwdef.py for flake8
9c2b5a05bd HAL_ChibiOS: fixed python3 error
1b528137f7 GCS_MAVLINK: cope with AP_Frsky_Telem being created after init
f8847bf569 AP_RCProtocol: auto-create Frsky_Telem object when needed for FPort
9579e64a03 AP_Frsky_Telem: make get_telem_data() static
c5df48faa7 HAL_ChibiOS: break out make_line() for PAL_LINE defines
33182a9f11 AP_RCProtocol: use RC_OPTIONS fport pad option
7769cf5316 RC_Channel: added FPort pad option
60a13f4eeb AP_BoardConfig: added BRD_ALT_CONFIG parameter
66dd5925cf HAL_ChibiOS: added support for alternative pin configs
06a9baeb9b HAL_ChibiOS: adjust fmuv3 SPI priority
a30e637484 HAL_ChibiOS: fixed bug in UART pin assignment
8ffd1050eb HAL_ChibiOS: fixed build on STM32F3
b1ca7380be HAL_ChibiOS: re-implement half-duplex using HDSEL switching
faf34970e1 HAL_ChibiOS: automatically control pullup/pulldown on inverted UARTs
8792adb6f0 AP_FlashStorage: implement erase() method
58e915155d HAL_ChibiOS: fixed panic to output error every 500ms
a733690f80 StorageManager: use hal.storage->erase()
8fdbb88827 HAL_ChibiOS: implement erase() method on Storage in HAL_ChibiOS
12b6f73d83 AP_HAL: added erase() method to Storage class
fd5ff97b59 AP_RCProtocol: support FPort telemetry data
49f81fbd18 AP_FrSky_Telem: allow for external library to send SPort data
e9dded98ce HAL_ChibiOS: enable UART6 for use as RC input on MatekF765-Wing
1ad59a7c1b Tools: update IO firmware
a72eaabc96 AP_RCProtocol: support FPort RSSI
6447cc2519 HAL_ChibiOS: support receiver RSSI
63c199a600 AP_IOMCU: support RSSI from receiver
63b454d5ce Tools: update IO firmware with FPORT support
6599fd49a2 AP_IOMCU: don't use pulse input for FPORT
9332c08c46 AP_RCProtocol: added FPort protocol support
61d5a94c45 autotest: add test for autorotation
4cc7df8e15 SITL: emit hit-ground via mavlink
78b1b54bb7 autotest: add test for AntennaTracker scan mode
270844745f AP_Compass: limit rotations we try to ROTATION_MAX_AUTO_ROTATION
f908e56154 AP_Math: define ROTATION_MAX_AUTO_ROTATION
2e02ee1df8 AP_OADatabase: send_adsb uses vehicle's current altitude
985a15709a AP_OADatabase: available regardless of hal-minimize-features
50b4dd2599 AP_OAPathPlanner: slow updates to 1hz, timeout to 3sec
28e707466b AP_OABendyRuler: integrate oadb ekf-offset change
f87ae7d445 AP_Math: add vector2f::offset_bearing
dac84f4a9d AP_Proximity: integrate oadb ekf-offset change
fe5ba3ccdb AP_OADatabase: replace Location with offset from origin
449b8d124b AP_Proximity: remove unused get_horizontal_distance
10108819b1 AP_Proximity: sf40c combines seven readings for oadb
1d6519af72 AP_Proximity: always use 8 sectors and fix ignore areas
37f2fc3ffe AP_OABendyRuler: integrate static object radius
674d631fb1 AP_OADatabase: calculate object radius based on distance and beam width
1d79ff11b8 AP_Proximity: integrate oadb::queue_push argument swap
f60ec91993 AP_Proximity: remove unnecessary const from database_push
1ba5f4626d AP_OADatabase: remove unnecessary const on arguments
e080493a7c autotest: add test for accelerometer pose calibration
881eadb993 autotest: add Tools/mavproxy_modules to PYTHONPATH in autotest
2518328801 Tools: autotest: update flap test
660c9a8a60 Plane: move from FLAP_IN_CHANNEL to RCx_Option
df3ffb215e RC_Channel: add Flap input
760909d046 Plane: Prevent FS action overiding VTOL land
b98d5834b4 AP_UAVCAN: fixed build on Linux
6bd7364f24 AP_KDECAN: fixed build error on Linux
e1f89c2c0d AP_PiccoloCAN: fixed build error on Linux
0be0e93534 Tools: use pre-filtered values in motor vibration test and use more realistic values for noise
52f59fb573 AP_InertialSensor: more accurately compute INS noise taking throttle into account and adding frequency noise noisily
8b0fc1207d AP_HAL_SITL: record throttle value instead of motors on/off
a6a020b3c7 SITL: record throttle value instead of motors on/off
91e09338ea GCS_MAVLInk: Judgment of non-existence value by PARAM_SET
ece777098c AP_BattMonitor: added SUI SMBUS battery backend
70d00f2361 Tools: generate_manifest for KakuteF7Mini
03d4d59006 Update GIT_Success.txt
f68b9bafd8 HAL_ChibiOS: fixed H7 I2C timing
56286d8df3 Plane: update release notes for 4.0.2
f1dfb2e401 AP_Camera: fixed build on navio
f10adebb10 AP_Camera: made runcam CAM_RC_TYPE an enable parameter
2afac6ea13 AP_SerialManager: added runcam to available serial protocols
9d8821f3d7 AP_Vehicle: make init_vehicle() public
5c342c3dab Sub: removed init_vehicle from separate vehicles
77f0810f01 Plane: removed init_vehicle from separate vehicles
630bd7062c Copter: removed init_vehicle from separate vehicles
08c313fa8d Rover: removed init_vehicle from separate vehicles
1c80e510db Tracker: removed init_vehicle from separate vehicles
296090bb11 AP_BoardConfig: call init_vehicle()
c0d9731dd4 Replay: fixed for AP_Vehicle usage
d8a58ebda4 AP_Camera: allow features override. Report OSD support.
318a23537d AP_Camera: allow roll right to also enter menu
afcbc5ffdb AP_Camera: fixup OSD menu switching and button timings
86d9cf7249 AP_Camera: better OSD control logic
fcc7b58b5f RC_Channel: add runcam osd control option
7ad9ce0a01 AP_Camera: add RunCam TYPE and CONTROL options for menu/OSD control
1b17955f6b waf: hack to let RunCam header enablement macro pass
6f979d5f7f AP_HAL_ChibiOS: define OSD_ENABLED as 1 rather than ENABLED
afa232cc7e AP_RCProtocol: fix example compile on macos
1bd6adec23 Sub: create generic vehicle management and move runcam to it
1b7c49b662 Tracker: create generic vehicle management and move runcam to it
3ea05fa78b AP_Vehicle: add common parameter and scheduling management. Add runcam.
debc13965a AP_Scheduler: add common tasks from AP_Vehicle and manage them
c16c60a761 AP_Arming: add camera arming checks
eca398e7a2 Plane: create generic vehicle management and move runcam to it
7f6c7fc370 Rover: create generic vehicle management and move runcam to it
e166e90c1d AP_RCMapper: add singleton
a09c18386e AP_OSD: allow osd to be disabled
30878553d6 Tools: add AP_Camera to list of libraries
3cba76123b RC_Channel: add support for RunCam camera control
93abfdb905 Copter: create generic vehicle management and move runcam to it
0eddc8b589 AP_Camera: implementation of the RunCam device protocol for RC camera control
c9b96a5e79 AP_SerialManager: add support RunCam serial protocol
e813d349ba Tools: added bin format as valid firmware
f0848551d9 Copter: version to 4.0.1-dev
ac8e402158 Copter: 4.0.0 release notes
29e8d17e2c Tools: show test timings in CI output
5d70af3f76 Copter: 4.0.0-rc6 release notes
3278ac2e63 AP_UAVCAN: remove unnecessary scary message UC Node Down
39c87f473a AP_Periph: add BARO_ENABLE option
ccd54409f3 HAL_ChibiOS: Adding SPI devices for CUAV_GPS
2df2e5c275 HAL_ChibiOS: Fix DMA of SPI1 TX on STM32F412
8daa8f34c9 AP_Baro: added averaging of CAN baro output
4b4642dd4d HAL_ChibiOS: allow handling of much higher receiver baudrates with DMA
58292821b3 HAL_ChibiOS: fix DMA on UARTs for F303
652d137594 HAL_ChibiOS: fixed DMA channels for f3 USART2
7d8005ef27 Plane: Update flaperons for all control modes
3ffdfc7302 autotest: correct parachute test
c6322c7c98 GCS_MAVLink: send abs throttle in VFR_HUD
6d4f4d7a3b Plane: allow negative VFR_HUD throttle
12cccac361 Sub: let GCS base class handle proximity and rangefinder messages
1db9201a90 Plane: let GCS base class handle proximity and rangefinder messages
a56ab9136e Copter: let GCS base class handle proximity and rangefinder messages
05562968e1 Rover: let GCS base class handle proximity and rangefinder messages
01710c035e GCS_MAVLink: handle proximity and rangefinder messages
708a6f99a6 SRV_Channel: remove default case in get_limit_pwm
72e6446204 Copter: make requires_terrain a callback on the flightmode
8bd4f2b097 AP_RangeFinder: Allow the VL53L1X to be put into short range mode
224ea744e3 AP_Rangefinder: Reset the VL53L1X before setup
7b4b88d568 AP_Declination: re-generate mag tables
79bbd3ce9f AP_Declination: update generate script
956c3f29a3 AP_BLHeli: allow connection with reversable ESCs
5e13fc1e0f Copter: 4.0.0-rc5 release notes
6eb86c6cdb HAL_ChibiOS: removed PB1 and PB0 TIM1 complementary channels for F76x
c8c6c80aef HAL_ChibiOS: switch MatekF765 to timer 12
4a54aa92c6 ChibiOS: enable timers 12, 13 and 14 for system timer
a06da57f3e waf: fixed aligned size of bootloader in ROMFS
4774c78a12 Plane: update release notes for 4.0.2beta3
f56a426193 Copter: gcs failsafe disabled by default
19c02471cf Tools: autotest: add test for NMEA output
dfaf134338 mavlink: merge latest changes from Amilcar
e52a3b9978 AP_InertialSensor: default fast sampling on
ccd1ce406c HAL_ChibiOS: scale uart rx buffer size with baudrate
9229efbf81 AP_PiccoloCAN: Always use bulk ESC commands
fadc968b38 AP_PiccoloCAN: Improve arm/disarm ESC behaviour
9a7b78d49d waf: added support for Piccolo CAN ESCs
431b07bba0 SRV_Channel: added support for Piccolo CAN ESCs
5fa54f3986 GCS_MAVLink: added support for Piccolo CAN ESCs
7c3391d0d8 AP_BoardConfig: added support for Piccolo CAN ESCs
2e0d2e2db0 AP_Arming: added support for Piccolo CAN ESCs
9821d52b72 AP_PiccoloCAN: added selective build of PiccoloCAN
ace0006a4e AP_PiccoloCAN: added support for Piccolo CAN ESCs
1248519b11 HAL_ChibiOS: account for empty uarts in uart count
750718bdd3 RC_Channel: simplify channel check in get_pwm()
b69afff6a7 AP_Scripting: increase heap size (again)
07415d06ab AP_Scripting: added RCIN example script
e86c6b047a AP_Scripting: regen bindings for Lua
32215be29f AP_Scripting: added rc input bindings
dfd7b022fd RC_Channel: added get_pwm() function for Lua
d332773689 AP_Compass: add register to checked ones and remove single-use goto
d6563bff7d AP_Compass: probe for RM3100
6f6fbb5b48 HAL_ChibiOS: make pwm pin pulldown
d249f870b9 AP_Periph: added HARDPOINT_RATE
41b49768b8 Tools: added f103-Trigger bootloader
9ed2f1d5e2 AP_Periph: support a PWM -> UAVCAN Hardpoint adapter
f732a482fe HAL_ChibiOS: support wider range of clock frequencies
cfed364dd0 AP_ROMFS: fixed build warning
a9946b41e9 HAL_ChibiOS: added f103-Trigger board
a87e3e41f0 HAL_ChibiOS: make Pixhawk4 GPS2 connection clearer
4f7be08442 Copter: 4.0.0-rc4 release notes
cebe4eefa5 Tools: Remove gcc 4.9 from CI prereqs
1a2dba1ee1 Travis: Remove unused gcc 4.9 dep
f42c4e9ce1 Sub: fixed range check for RC channel
0e79044285 Plane: fixed range check for RC channel
d9a255afc3 Copter: fixed range check for RC channel
18bfd45efb Rover: fixed range check for RC channel
69ea4882d2 Tracker: fixed range check for RC channel
d1bbe4f03b GCS_MAVLink: correct output when ROUTING_DEBUG is set
6ff303adf4 RC_Channel: added comment on odd inheritance
f3dfd62f32 Plane: fixed FS_GCS_ENABL=2 for hearbeat failsafe
6d981ce733 autotest: disable MotorVibration test
6902cd2961 mavlink: added MAV_CMD_FIXED_MAG_CAL_YAW
dd73eac08c GCS_MAVLink: support MAV_CMD_FIXED_MAG_CAL_YAW
09d7e732b7 AP_Compass: added mag_cal_fixed_yaw()
d422825715 HAL_ChibiOS: removed per-board AP_FEATURE_RTSCTS and AP_FEATURE_SBUS_OUT
fc867b1596 HAL_ChibiOS: automatically set AP_FEATURE_SBUS_OUT
88e5e54770 AP_BoardConfig: removed duplicate define for RTSCTS
b3459c024c HAL_ChibiOS: automatically set AP_FEATURE_RTSCTS
0288b3d43c AP_BattMonitor: set default I2C bus for Solo and Maxell drivers
0d034821d1 AP_BattMonitor: Maxell cell voltages timeout after 5sec
a5a1d2812a AP_Scripting: example to check battery cycle count
fdf8d4b2ee AP_Scripting: add binding for BattMonitor's get_cycle_count method
44a8702d94 AP_BattMonitor: Maxell battery on any I2C bus
300c0aafb1 AP_BattMonitor: add cycle count for smbus batteries
b99d6e075c HAL_ChibiOS: change CUAVv5Nano volt scale to 18.000
ebbcd00873 GCS_MAVLink: send statustext to all GCSs until update_send is called
5098e3f79e AP_ICEngine: added ICE_OPTIONS
132a1623d3 autotest: added --no-rcin option to sim_vehicle.py
3f9e8f53ae Frame_params: remove test files
56b2c697d2 Plane: change tailsitter_input to bitmask
c16f3a2cba Plane: simplify body-frame roll axis swapping and constrain yaw rate max
7e8aecac50 AC_AttitudeControl: simplify body-frame roll axis swapping
14fc6c5446 Plane: add logging for tailsitter gainscaling and clean up tailsitter body-frame roll input handling
bb9b116574 AC_AttitudeControl: fix argument order in tailsitter bodyframe roll input methods
68dcab3edb AP_Motors: add copter tailsitter differential torque frames
95da094bfe Plane: update tailsitter speedscaling logic
b1ccf5b9d5 Sub: remove unused TERRAIN_FOLLOW parameter
21ea7902cf Tools: copter tests replace TERRAIN_FOLLOW with RTL_ALT_TYPE
842a9b78a9 Copter: remove out-of-date comment from terrain failsafe check
3e7fb66a77 Copter: precision landing does not use terrain database
ea22e888c7 Copter: improve RTL terrain following
39a6b104dd Copter: move RTLState to ModeRTL
2e09acc2ae AP_Logger: add error code for rtl missing rangefinder
0a1b96e02d Copter: zigzag uses renamed AC_WPNav::rangefinder_used_and_healthy
3ca28e27c6 AC_WPNav: add get_terrain_source and rename existing method
c545171cec Tools: fixed compiler path for autotest
1763be2c03 RC_Channel: added LOITER switch for plane
1ee3118bc4 Plane: added RC option for LOITER mode
9b4764eb1f SITL: fixed airsim example scripts
7a832ae8bd autotest: more airsim tuning improvements
061d778bfd SITL: improved AirSim quadX tuning
d657fed34a SITL: fixed accuracy of lat/lon in AirSim
e8a3f6d6a1 Copter: 4.0.0-rc3 release notes update
111dfc130b Copter: 4.0.0-rc3 release notes
03cca68c5a AP_NavEKF3: use instance number when logging rather than multiple message IDs
524647d221 AP_NavEKF2: use instance number when logging rather than multiple message IDs
9d7016dca8 LogStructure: adjust for using instance numbers on NavEKF libraries
76b985fc9c SITL: only recalculate ahrs rotation matrix if necessary
ab33679124 SITL: include ahrs_orientation in airspeed calculation
fc16c5c2ae Tools: align ci gcc with environment gcc v6 on arm
143a071788 AP_InertialSensor: add rpm-based motor noise to gyros and accels
39e948a40a Tools: add motor vibration test and support for post-test fft
449e9ee13d AP_RPM: use updated rpm information for sitl
c807267bab SITL: add rpm-based motor noise per-motor to gyros and accels
d34ccec084 SITL: Fix sensor data calculation in Airsim
e27d1e8754 Plane: update release notes for 4.0.2beta2
43eb664be6 Plane: updated release notes for 4.0.2beta1
7f064f64c1 ChibiOS: handle SB without BUSY in I2Cv1 driver
bd8a27ff4c AP_Logger: tidy and rearrange log structures
33ca2a20dd AC_AutoTune: Add check for reverse response abort.
2a8e2d19fa AP_Motors: Tradheli-incorporate DDFP for counter clockwise rotating rotors
e3c55bdfbb Tools: update tradheli autotest sitl params
74d81e6d50 Copter: Change STAB_COL params to percent
d5fed8ee4c AC_InputManager: Change STAB_COL params to percent
98ea8e0627 Copter: 3.6.12 release notes
a45041ce5d AP_Notify: add handle rgb
f9c4c17ff4 AP_Scripting: add rgb notify led example
6b58501821 AP_Scripting: regenerate bindings
f35ffaddc6 AP_Scripting: add rgb notify binding
f8f591c7db GCS_MAVLink: fixed critical error on prefight cal ops
f17178ace0 HAL_ChibiOS: fixed build of SPI clock test
b482d147df Copter: always store previous control mode
f768e80458 Copter: remove unused prev_control_mode_reason
516219533d autotest: prompt MAVProxy to do streamrate stuff after restarting SITL
91c6a8c1d8 autotest: fix set_streamrate with rate of -1
c836b6221d AP_Scripting: Remove readline link dependency
031c97db30 AP_Logger: correct Write() containing 'a' entries
10bbcf98be Copter: tidy land_run_vertical_control for precision-landing case
9ed37e4486 AP_NavEKF3: make send_status_report const
060c851709 AP_NavEKF2: make send_status_report const
1ba0e5350f Tools: NavEKF constructors no longer take rangefinder
8281990003 AP_SmartRTL: NavEKF constructors no longer take rangefinder
4ff75d75f8 AP_OpticalFlow: NavEKF constructors no longer take rangefinder
248001b404 AP_NMEA_Output: NavEKF constructors no longer take rangefinder
a608e9f7d7 AP_AHRS: NavEKF constructors no longer take rangefinder
b2b5077949 AP_Vehicle: stop passing rangefinder in constructors of NavEKF objects
4431d01230 AP_NavEKF3: stop relying on the presence of a RangeFinder
369292f7f3 AP_NavEKF2: stop relying on the presence of a RangeFinder
22d6fd5e1f AP_HAL: update docs for ObjectBuffer
e193c45946 AP_Motors: tradheli-update parameter display names
140df5b93b AP_Mission: add string for DO_MOUNT_CONTROL
33a0e55b32 Plane: correct duplicate button instance
544eb5f179 Copter: correct duplicate button instance
5b45931728 autotest: test buttons on Plane and Copter as well as Rover
0226d28d4b AP_Button: make singleton
67aca84adc AP_FileSystem: avoid aliasing isatty from unistd.h
6d94d2b62f GCS_MAVLink: remove send-text re allocating for fence
9e51731bae AC_Fence: turn off debug msg re memory allocation
8469efc5aa StorageManager: use https:// scheme for ardupilot URLs
deadafd7c7 SITL: use https:// scheme for ardupilot URLs
5767fd8e12 AP_SerialManager: use https:// scheme for ardupilot URLs
2c9a2c79d0 AP_Gripper: use https:// scheme for ardupilot URLs
076768e550 AP_FlashStorage: use https:// scheme for ardupilot URLs
704407118b Tools: use https:// scheme for ardupilot URLs
7f854010ee README.md: use https:// scheme for ardupilot URLs
c1f3015679 Make: use https:// scheme for ardupilot URLs
1fdb4b429f Plane: use https:// scheme for ardupilot URLs
a567e8bc94 Copter: use https:// scheme for ardupilot URLs
78e1cf1dad Tracker: use https:// scheme for ardupilot URLs
2a25fed505 Rover: use https:// scheme for ardupilot URLs
95b527dac8 HAL_ChibiOS: save 3k of flash on MatekF405-Wing
fbe69ba9ab AP_BattMonitor: support selective enable of SMBUS and fuel battery monitors
5f11afde6d AP_RPM: Fix to SITL RPM driver instance
7e35622015 AP_InertialSensor: correct loop rate on BMI055, clean up setting of loop rate on BMI055 and BMI088
3942fa2541 AP_Proximity: remove unused include from AP_Proximity_MAV
46f237e78e Copter: 3.6.12-rc1 release notes
4f429e6c5a HAL_ChibiOS: fixed handling of 16bit timer wrap
ea4d294ed1 Tools: added micros64() to CPUInfo
8b9928aaca AP_InternalError: added hex and decimal comments
d4d44990e1 HAL_ChibiOS: added assert for systime_t size
ccc7968f91 HWDEF: Speedybeef4 change I2C internal mask to 0 to allow probing ext baros
e4febaf6e0 Autotest: modified balance bot params and waypoints
3daebe974e SITL: Fix for unrealistic speed and acceleration in Balance Bot
16d2dd4e2d AP_HAL_ChibiOS: specify Durdanal IMUs so that ordering is correct
d7018a2ba0 Tools: switch to https URL for firmware
f1cfae1b23 AP_Notify: fixed http url
26508692d9 autotest: adjust logo height
ab66b9e98c update firmware site logo
af1fd439aa AP_Boardconfig: Update BRD_SAFETY_MASK to refer to outputs not RC channels
b055eb8889 AP_NavEKF3: use instance # when logging EKF core timings
239df941e5 AP_NavEKF2: use instance # when logging EKF core timings
0da27417bc AP_NavEKF: use instance # when logging EKF core timings
b0549c7569 AP_Scripting: add example to warn and then RTL based on wind speed
3d0fcffec7 Tools: update all bootloaders
e62cf21ce6 AP_Bootloader: added more protection against line noisy triggering bootloader
a8e2923774 Tracker: correct scan mode pitch clamping
1c3287160e AP_Scripting: Simplify the LED_roll example
6efbc484fd AP_GPS: cope with UAVCAN GPS that don't provide Aux message
9fe2c02079 AP_Scripting: Don't restart scripts if it panic'd during the initial VM creation
cff648caf6 AP_Proximity: remove unused AP_AHRS.h include
96b9c8f59a autotest: wait a long time for RC to restart after restarting SITL binary
880af0de4a AP_Compass: tidy constructor
823f2bb217 AP_Compass: make compass_cal_status_t enum class Status within CompassCalibrator
9c17fdb851 AP_Logger: use enum class for transfer activity
8785cc26e8 AP_Proximity: make Status enum class
b3f87768e2 AP_Arming: tpyo fix in parameter documentation
dd4ec08ec8 Tools: removed old wordpress update of params
526adee814 Sub: move setting of GPS SYS_STATUS bits up to base class
3547e74991 Plane: move setting of GPS SYS_STATUS bits up to base class
d63788a09f Copter: move setting of GPS SYS_STATUS bits up to base class
da184ffdaf Tracker: move setting of GPS SYS_STATUS bits up to base class
49f26f08e1 Rover: move setting of GPS SYS_STATUS bits up to base class
b48da34c61 GCS_MAVLink: move setting of GPS SYS_STATUS bits up to base class
7d062e3767 Copter: System ID mode: Add tuning option parameter discription
a1e1558709 SITL: Test launch file for ROS multi-vehicle sim
241d406ef3 SITL: Example script for ROS multi-vehicle with Airsim
6a075b2556 SITL: Fixes, improvements to Airsim multi-vehicle script
b0ea662c9b AP_Mission: consider _INT frames equivalent to non _INT variants
e5521ce6c4 autotest: add frame tests for upload/download waypoint missions
5e4162b997 autotest: unload MAVProxy module log after use
60a2b8a8b1 autotest: diversify Tracker SERVOTEST mode test
21f7b2fe4f Tracker: consolidate camera dummy functions into system.cpp
160621d0be autotest: correct MANUAL test
1d6d78c0d4 Tracker: initialise RC library
acfe02dbf0 Sub: set cam mount to 0,0,0 and RC mode after initialization
c509b1caa2 Sub: Accept position_target_global_int for depth control in ALT_HOLD
06e71b061a SITL: Sub: add square curve model to thruster
2e9bd43c49 Sub: rate-limit init_motor_test() calls
47f9defe3f Tracker: clean up mode.cpp
1e451e8165 Tracker: move update_scan into mode.cpp
f3d3f01e76 Tracker: rename control_auto.cpp to mode.cpp
2b8628d6bb Tracker: remove empty mode.cpp
8b302a4975 Tracker: rename mode files to be consistent with other vehicles
0dd6415052 AP_Stats: added semaphore to flttime update
303030c524 AP_Compass: narrow range of allowed scale factor
a56af8d8d0 mavlink: submodule update
421fbef2a0 AP_Compass: added COMPASS_OPTIONS
c6aad9b1ec AP_NavEKF3: don't use WMM tables unless we have a compass scale factor set
fce4d6952f AP_NavEKF2: don't use WMM tables unless we have a compass scale factor set
6fd0ca36aa AP_Compass: added estimation of compass scale factor
7b203f6816 SITL: added SIM_MAG_SCALING for testing scale factor errors
54582814aa Copter: use SID_AXIS to hide other SystemID mode params
741c467f03 Sub: do not initialize rc channels 6 and higher
e12e0d95ae AP_RangeFinder: remove param conversion for 3rd and 4th
1b84c8132e AP_RangeFinder: param conversion fix
952517cb40 Sub: scripting init sends failure message
b3928d3eee Plane: scripting init sends failure message
36fdad4e61 Copter: scripting init sends failure message
0dcf802ea9 Rover: scripting init sends failure message
3502f5d449 Tracker: scripting init sends failure message
c78112564c AP_Scripting: init sends failure message
356ece6682 AP_Arming: add pre-arm system check that scripting init succeeded
09d75cff3b AP_Scripting: add init failure check
2c3beb0f91 Copter: add mandatory gps checks
4bcf66481f AP_Arming: add mandatory_checks
2296448027 Copter: make private enum class for LAND mode's state
fecca9a559 autotest: add tests for serial RangeFinder drivers
678fd8de1d AC_PosControl_Sub: do not reset accel_z integrator when relaxing
341757b254 autotest: add test Tracker for SERVOTEST mode
a58813c828 Copter: precland: don't use altitude from bad location
d332118b05 SITL: increase Wasp reading frequency
f480df228b AP_HAL_SITL: set cloexec on eeprom.bin
0d527aa313 autotest: add test for tracker manual mode
2dacafe0f3 AP_Landing: emit DEPLOY gcs text only if not already deployed
71017cb288 Plane: vehicle parent class now instantiates AHRS
62869b5be8 Copter: vehicle parent class now instantiates AHRS
d5b970bd18 Sub: vehicle parent class now instantiates AHRS
16103f08d8 Tracker: vehicle parent class now instantiates AHRS
89de713bb7 Rover: vehicle parent class now instantiates AHRS
ebd2b1d544 AP_Vehicle: instantiate the AHRS object
d3ede184cf AP_AHRS: force the use of EKF for Copter and Sub
19cea4d7b7 mavlink: update submodule
1eebae2346 GCS_MAVLink: use new SERIAL_CONTROL_SERIALn enums
763089addb AP_InertialSensor: slight improvement to LOG_BAT_OPT docs.
abb7041c22 Tools: only enable -Wno-format-contains-nul if not clang
a955897b89 Tools: install-prereqs-ubuntu: add not-run-as-root sanity check
ef5a2cc470 AP_NMEA_Output: 10hz rate limiting uses uint32_t
bcbcef5d5c Tools: install ardupilot deps as non-root in Dockerfix for https://github.com/ArduPilot/ardupilot/issues/12513
46d0425fcf AP_NMEA_Output: correct 10Hz rate limiting
98a4335af4 AP_Motors: Added support for autorotation
71f7761975 AP_Vehicle: Added mode change reasons for autorotation
180d4e713c Copter: Added autorotation flight mode and support
87331539b9 AC_Autorotation: Created autorotation library
0a81c48d9c HAL_ChibiOS: lower gains on CubyOrange and Yellow heater
af19d85157 TOols: added name to GIT_Success.txt
306aa5b654 AP_Radio: expect delay whil resetting radios
73c56220ff HAL_ChibiOS: update mRoControlZeroF7 I2C mask
38a0fe4564 Sub: rename system_status as it won't be called from base class
5447992558 Plane: rename system_status as it won't be called from base class
46832e9dee Copter: rename system_status as it won't be called from base class
3d5a6cb074 Tracker: rename system_status as it won't be called from base class
eb330b60ed Rover: rename system_status as it won't be called from base class
314ea32ede GCS_MAVLink: any internal error means MAV_STATE_CRITICAL
0317b66139 HAL_ChibiOS: update mRoX21-777 I2C mask
e64682a834 AP_Periph: added ADSB_BAUDRATE parameter
5ae24a7aac AP_SerialManager: expose map_baudrate()
0c4a4ccb74 HAL_ChibiOS: optionally print information on a HardFault
ef993f380f HAL_ChibiOS: use system_halt_hook()
c1575654e2 HAL_ChibiOS: added optional debug code for hardfaults and panics
9b89cc2dd1 ChibiOS: fixed I2C transaction bugs
37a5e96458 Rover: version to 4.0.1-dev
c8ef863e6d AC_PosControl: fix minor bug for set_max_speed_z()
f6df3fcf32 Rover: 4.0.0 release notes
95124eb73e Sub: version to 4.1.0dev
25cf389971 AP_LTM_Telem: LTM telemetry support
bea1502af9 AP_SerialManager: LTM telemetry support
6e961b55eb GCS_MAVLink: LTM telemetry support
018d6bd35b Tools: Replay: add stubs to avoid linking LTM telemetry
3892c90d1f Sub: add stubs to avoid linking LTM telemetry
6af2262597 Tracker: add stubs to avoid linking LTM telemetry
278737fc8e Copter: LTM telemetry support
dd14e091dd Rover: LTM telemetry support
0a59fed54f Plane: LTM telemetry support
4d628c2822 autotest: add test for send_to_components
4780dc40b0 AP_Camera: use corrected version of send_to_components
4fd31b7bc4 AP_BattMonitor: use corrected version of send_to_components
a96a4c0510 GCS_MAVLink: correct encoding used for send_to_components
5f6b3a1f5b AP_NavEKF2: clean up init failure handling
feead0a42c SITL: ADSB: Don't hard code the emitter type
2cfdfb38e7 Copter: pre-arm check for Toshiba ESCs disabled with parameter flag
9fe624ab77 AP_ToshibaCAN: consume and log motor temperature
cddc9b622f AP_KDECAN: log motor temp as zero
1b79f102b6 AP_BLHeli: log motor temp as zero
94d641d3d5 AP_Logger: ESC logging includes motor temperature
ecb60955ff AP_Compass: minor comment fix
32f11ba863 AP_Compass: fix thin_samples to avoid comparing sample to itself
f97cfd1065 AP_Compass: fix calibrator update when step one fails
89fa324a2b AP_Compass: rename CompassCalibrator::clear to stop
90cfbe01e4 AP_Compass: remove unused calc_mean_squared_residuals
feb0f141fa AP_Compass: add comments to calibrator
09046aec66 AP_Compass: formatting fixes
f58b09ebef AP_Compass: constify get_completion_mask and remove use of auto
396cec96ee AP_Compass: constify get_orientation
c93d17b4b2 ArduPlane: use enum-class for SRV_CHANNEL_LIMIT_TRIM and friends
bd7dfd0aea ArduCopter: use enum-class for SRV_CHANNEL_LIMIT_TRIM and friends
b5539701e8 APMrover2: use enum-class for SRV_CHANNEL_LIMIT_TRIM and friends
ee06faed88 AntennaTracker: use enum-class for SRV_CHANNEL_LIMIT_TRIM and friends
4c9c5767ed AP_Winch: use enum-class for SRV_CHANNEL_LIMIT_TRIM and friends
ef6a34a9f0 AP_Motors: use enum-class for SRV_CHANNEL_LIMIT_TRIM and friends
992f216cc5 AP_LandingGear: use enum-class for SRV_CHANNEL_LIMIT_TRIM and friends
48def9b8a4 AC_Sprayer: use enum-class for SRV_CHANNEL_LIMIT_TRIM and friends
f1c2e55f68 SRV_Channel: use enum-class for SRV_CHANNEL_LIMIT_TRIM and friends
3521117817 SRV_Channel: remove old unused reversible-throttle concept
326ba5b974 SITL: support for virtual hardware safety switch
907977b2f2 AP_HAL_SITL: support for virtual hardware safety switch
a798c87d91 Rover: remove pointless library init wrappers
d70e252bf4 AP_BattMonitor: added Durandal selection for batt mon pins
36ea023e8d Tools: added H7 info in uploader
7925abe390 Tools: updated bootloaders for H7 boards
a6fbcc50fc AP_Bootloader: added STM32H7xx chip revisions
8c2c38c80a Tracker: remove unused includes
0857cf49d5 AP_Baro: add driver for the SPL06-001
f2d8a42de8 Plane: correct crash_detect param description...no manual mode option bit exists
fba5732292 Plane: updated release notes for 4.0.1
8ca6535661 AP_GPS: Log SBF commanded disarms
7582a5b4a4 GCS_MAVLink: Send GPS logging as part of the logging status bits
f8808022b8 AP_GPS: Check the driver logging health
c173af993a AP_BoardConfig: fixed debug code
21f6695acd AP_HAL_ChibiOS: Add defaults.parm for CubeOrange and CubeYellow
c733e1b1a2 AP_SerialManager: fixed GPS in AP_Periph
31dc220444 Rover: 4.0.0-rc4 release notes
05a30c756a AP_Motors: tradheli- fix metadata
52f2ec34fa AP_IOMCU: Ensure IOMCU does not log if there is no logger
e1e7c6ea8a AP_HAL: Ensure scheduler does not log if there is no logger
08e18ccdfe Plane: do not trust fence-channel PWM during RC failsafe
fc98b7d9e8 autotest: add test for fence surviving a bind-values receiver failure
4636a4c458 HAL_ChibiOS: support LEDs with a wider range of frequencies
6c0b4206c5 AP_Common: remove is-zero checks for Location::offset
d18432adaa AP_Terrain: leave ENABLE as 1 if memory alloc fails
f71e55e368 AP_Arming: add mission and rangefinder to param desc
b796ac93f0 AP_Arming: add terrain init check to system checks
649058adb8 AP_Terrain: add init_failed
1d5e9ef48b AP_Terrain: constify get_statistics and bitount64
fb84da3415 AP_SerialManager: don't show parameters for serial ports that don't exist
4745c9f78d HAL_ChibiOS: setup define for number of serial ports
d872ca27ce Plane: added dynamic harmonic notch support
68bb7a516b Copter: use HarmonicNotchDynamicMode enum class
9dc618ddd4 AP_InertialSensor: added gyro_harmonic_notch_enabled()
77d21f9f5d AP_InertialSensor: return HarmonicNotchDynamicMode
f6c3c73037 Filter: switch harmomic notch mode to enum class
1affdbf275 Tools: completion: get vehicule type from sim_vehicle help
989653bf69 Tools: completion: get boards list from help
a415423975 AP_TECS: removed TECS_LAND_PMIN
89c43fa052 Plane: updated release notes for 4.0.1beta1
ada1239012 AP_Baro: fix PROBE_EXT parameter description
417570df70 AP_Motors: tradheli - TAIL_SPEED metadata correction
5183703243 Copter: move Mode::auto_takeoff_run to takeoff.cpp
c2f049918b mavlink: added EFI_STATUS message
36baaeb3a0 Plane: added option to run idle governor in MANUAL mode
801e1547bc Tools: adjust SpringValley location
ebf0c48903 AP_ICEngine: added idle governor
4d50996780 SITL: added MegaSquirt EFI simulation
eb582ac0cc AP_InertialSensor: avoid SITL build on non-SITL
b6d1170c2e HAL_SITL: update EFI simulation
7e7bae9d55 AP_RPM: added EFI backend
2b27cd2ce9 Plane: Add EFI Support
00e3344321 GCS_MAVLink: add EFI_STATUS message
9799302225 AP_SerialManager: Add EFI_MS Protocol option
4ff2d744e7 waf: build AP_EFI
f8cf388236 AP_EFI: Add AP_EFI Library
0751756e91 HAL_ChibiOS: retain OPENDRAIN if set on a pin
379e3d60a1 AP_GPS: fixed sizes of config items
63a6a1084c AP_GPS: UBlox: Fix the assumption that all keys are 1 byte keys
150a4edcf2 AP_GPS: UBlox fix not listing the time mode as a configuration reason
7bec9d87b4 AP_GPS: fixed TMODE config issue on non-F9 GPS
49069c7ad5 AP_Proximity: new lightware SF40C driver
a747610fc1 AP_Proximity: backup lightware SF40C driver to v09
496989820e Copter: update proximity sensor at 200hz
209bb132fa HAL_Linux: disable input modifications on serial interface for rc receiver
0844077df8 AP_RangeFinder: TYPE param desc clarification for Benewake lidar
9f5ba5a33b Tools: Add rangefinder parameters for sub
e52fc375c4 Sub: Add fake sea floor and update range
762b2c9541 Rover: add missing aux fns and alphabetise order
accdf53a5b Plane: init aux function cases in alphabetical order
610366e4bd Copter: init aux function cases in alphabetical order
93e1f7d46a RC_Channel: init aux function cases in alphabetical order
7d2557b316 GCS_MAVLink: correct txspace return value issues
5ebf27ac61 Sub: rename parameter to avoid name conflict with lock
5d1261da73 Copter: rename parameter to avoid name conflict with lock
ad97009e00 Tracker: rename parameter to avoid name conflict with lock
714ec6981a Rover: rename parameter to avoid name conflict with lock
87058ef141 Plane: rename parameter to avoid name conflict with lock
d8322500c1 autotest: augment ADSB test for RC_Channel enable/disable
da3bef36fa AP_Avoidance: reorder avoiding and sending GCS notification
7e81aa8f64 Sub: add methods to avoid linking AP_Avoidance
5a28aa9c1b Sub: move dummy methods into system.cpp
54373a6703 Tracker: add method to avoid linking AP_Avoidance
deb0fdccc8 Tracker: move all dummy methods to system.cpp
88647ff2e9 Rover: add method linking AP_Avoidance
54b1159a16 AP_Avoidance: add singleton
cd1c9309e6 Tools: add method to avoid linking AP_Avoidance
4a51de724d Copter: move support for ADSB Avoidance enable up to RC_Channel
1238d4b3e6 RC_Channel: add ADSB Avoidance enable option to RC options for plane
e12a841eb5 RC_Channel: move support for ADSB avoidance switch enable up
3fb596d5ae RC_Channel: don't enter the config error loop on unknown options
adc1d60ea5 Copter: CTUN logging fix for SAlt
b16d0740c8 Copter: fix CTUN log msg TAlt scaling
0af830bbb7 AP_Terrain: minor comment fix
b96a5d87b2 Frame_params: Solo notch filter params
de5945bea5 Copter: use const reference when retrieving wpnav destination
d0d07776ec Copter: auto stays in takeoff submode after reaching altitude
8f99262ffe Tools: CI: install MAVProxy from source rather than using pip
ee1f919244 Tools: do recursive submodule update when installing pymavlink
7b32f2876e AP_Mount: change type of roi_target_set to boolean
5d4ce9894f mavlink: reference commit containing mount sysid target
29fda1681b Tools: add test for mount targetting
a893a5483c GCS_MAVLink: support sysid targetting
c649fd1468 AP_Mount: support sysid targetting
fce6aad00f Tools: add initial bash completion
7014dcac16 Tools: add initial zsh completion
ae8f9a70d0 AP_RangeFinder: update Type and Pin parameter values
afdded2bff Copter: adjust for renaming of RangeFinder files
dee1cfadfd Sub: adjust for renaming of RangeFinder files
2a22e7c8c5 Plane: adjust for renaming of RangeFinder files
ac7111f1d1 GCS_MAVLink: adjust for renaming of RangeFinder files
0e6f3afe51 AP_Proximity: adjust for renaming of RangeFinder files
fe8599d6d7 AP_NavEKF3: adjust for renaming of RangeFinder files
99689f65f8 AP_NavEKF2: adjust for renaming of RangeFinder files
9275c367fc Rover: adjust for renaming of RangeFinder files
35e987c663 AP_RangeFinder: adjust for renaming of RangeFinder files
7c9ab0203d AP_RangeFinder: rename source files to include AP_ prefix
b1f8982292 AP_RangeFinder: remove old AP_RangeFinder.h
168a182310 SITL: Sub: add angular drag based on a laminar, external flow
393b018f31 SITL: Sub: Fix rotational physics logic
fbbfbe0103 SITL: Sub: Use proper phyisics for thrusters
9c2ffed876 SITL: Submarine: add torque for static stability
394aff6535 SITL: add deadzones to Sub thrusters PWM signals
1e2340fbb4 SITL: Fix buoyancy direction for earth-frame
e190d99bc6 SITL: Add 6dof frame for Sub
cc45aeb526 SITL: get rid of frame_vectored.h for Sub
5276e67cec Copter: minor format fix for takeoff.cpp
a4d4513da4 AP_LandingGear: send-text only if servo output has been configured
f8d10ebc0f autotest: add test for GuidedRequest handling in Plane
7c034990b5 AC_Fence: relax sys-status healthy reporting
1ec10eecde autotest: add tests for Tracker's mode guided
bfcd3bc425 Tracker: add ModeGuided
531bdcc130 Tracker: create a Mode hierarchy to handle different control modes
dafd030904 AP_Airspeed: switched to recursive semaphore
c7b5a24047 AP_Periph: updated docs
a732f99ec4 AP_Periph: release version 1.0.0 stable
4e4a04f763 AP_Periph: added note on bootloader update
e5bad28f1d Plane: added Q_ASSIST_ALT parameter
8aa781206d AP_GPS: fixed signed/unsigned comparisons
0362353087 AP_Periph: added gnss::Fix2 support
9843b6085d AP_Periph: adjust buffer sizes
71b2315d78 AP_Periph: switch to callback based CAN receive
cc0f6451ab AP_Periph: support RTCMStream for RTK injection
b7c9391619 AP_GPS: support Fix2 message for UAVCAN
632114d687 AP_GPS: support RTCMStream for RTCM injection on UAVCAN
6c31fb1bb6 AP_GPS: added automatic config of TMODE on F9
4dd1ec37f1 AP_UAVCAN: support RTCMStream for RTCM injection
fdd2e93f7e HAL_ChibiOS: disable debug port on f103 to save memory
a90a2e20dc HAL_ChibiOS: enable CAN callbacks
ffd838d908 Copter: Delay release of I term until take off
d0e62b0e0b AP_RangeFinder: serial subclasses rely on base class for update()
60cbefc1ae AP_RangeFinder: move update function to serial base class
b18f1a8e22 AP_RangeFinder: move uLanding to using common serial backend
9829a1d08b AP_RangeFinder: move wasp to using common serial backend
62f2f3e19e AP_RangeFinder: factor constructor, use to move Lanbao to serial baseclass
acc1f955ef AP_RangeFinder: make Benewake backend use new intermediate class
0246dd990e AP_RangeFinder: make MaxsonarSerialLV backend use new intermediate class
ff7c5af437 AP_RangeFinder: make LeddarOne backend use new intermediate class
15d3a59d67 AP_RangeFinder: make NMEA backend use new intermediate class
82268ab12c AP_RangeFinder: make BLPing backend use new intermediate class
692c89a972 AP_RangeFinder: make LightWareSerial backend use new intermediate class
3538fe360b AP_RangeFinder: add intermediate serial backend class to share common code
c51eed1f2a AP_Periph: use enum-class for RangeFinder Status
b3f1fdf182 Sub: use enum-class for RangeFinder Status
6cd4dfba2c Plane: use enum-class for RangeFinder Status
dfc8349866 Copter: use enum-class for RangeFinder Status
11b372a986 AP_NavEKF3: use enum-class for RangeFinder Status
9735684184 AP_NavEKF2: use enum-class for RangeFinder Status
82db4383d4 AP_RangeFinder: use enum-class for Status
1989decbc1 AP_RangeFinder: use enum-class for RangeFinder function
db36ef3433 Sub: use enum-class for RangeFinder type
ea26e94f66 AP_RangeFinder: use enum-class for RangeFinder type
c1acdc4994 SITL: increase simulated rangefinder frequency to 5Hz
7b046c8b75 SITL: improve testing instructions for simulated rangefinders
fdb9fb2f62 AP_HAL_SITL: add support for simulated serial rangefinders
df0233a7d1 SITL: add support for simulated serial rangefinders
990273a778 SITL: add accessor for rangefinder range
9da0e480f2 AP_HAL_SITL: add support for bi-directional simulated serial devices
270831d70d SITL: add bidirectional communication for simulated serial devices
48657dd2c9 autotest: replace setHeartbeat(bool) with setHeartbeat(float)
ece59f8233 autotest: replace wait_seconds with delay_sim_time
2dd47e54e7 autotest: remove default True parameter to setHeartbeat
74eb6760ea autotest: correct setHeatbeat -> setHeartbeat
10c50844fd AP_HAL: stop emitting extra CR before a LF as part of our printf
a67b164bcc Rover: 4.0.0-rc3 release notes
1279c63ece Tools: run-coverage: build unit-tests and examples with debug
f407e0dd55 AP_Airspeed: correct example; need instantiated AHRS for windspeed_max
f15459f25e Rover: fix guided consumption of SET_YAW_SPEED
129651b7e4 Rover: move set_desired_speed to each mode
45682550e7 Rover: minor comment fix
7a63bda027 Frame_params: Updated solo params for Copter 4
a25846b8a2 GCS_MAVLink: change in_sensor_config_error to in_config_error
3873baf676 AP_HAL_SITL: change in_sensor_config_error to in_config_error
6dd28f7d74 ArduCopter: change in_sensor_config_error to in_config_error
6b9c997a97 Tools: rename SensorConfigErrorLoop test to ConfigErrorLoop
f8d4cba667 AP_Param: rename sensor_config_error to config_error
00948c33d5 AP_InertialSensor: rename sensor_config_error to config_error
5276cb7f2b AP_IOMCU: rename sensor_config_error to config_error
a1868b8b67 AP_Baro: rename sensor_config_error to config_error
285901f57c RC_Channel: enter config_error loop for invalid RC option
9cf708b846 AP_BoardConfig: rename sensor_config_error to config_error
7f6e89bee8 RC_Channel: enter error loop on invalid RC option
c5abcb5584 RC_Channel: don't panic on unsupported RCn_OPTION in SITL
9ffc0f5a3a AP_Periph: updated README
2fae0cf5c0 Sub: Remove unnecessary includes
722e512226 autotest: Sub: Add ALT_HOLD test
62dfb72487 autotest: Sub: Update PSC_*Z parameters
3f9a4ee5f9 AP_HAL: fix unit test compilation due to -Werror=format-truncation
b5d21a71ef Copter:Tradheli treat Sport mode as non-man throttle for landing swash
e1686db7bf Sub: correct compilation when avoidance enabled
54509a72c8 Tools: build-with-disabled-features fixes for Heli
201adb6818 Copter: correct Heli compilation when some modes are disabled
d9b41b3953 Rover: correct compilation with AdvancedFailsafe disabled
20f904ce66 Sub: correct compilation with fence disabled
d1b402ab04 Copter: correct compilation with toymode enabled
0ab9ddd600 Copter: correct compilation when fence disabled
843e48c635 Copter: correct compilation when avoidance disabled
94222d0195 Copter: correct compilation when rangefinder tilt correction disabled
81f0141da5 Copter: correct compilation when AdvancedFailsafe is disabled
d652bd4455 Copter: correct compilation when optical flow is disabled
9605639070 autotest: loosen check on follow-mode check
402f3ec09c GCS_MAVLink: honour coordinate altitude frames for DO_SET_ROI
f177679e61 autotest: add more tests for mount behaviour
7139c1121f AP_Mount: correct use of disparate altitude frames in AP_Mount
9f719ec02e Sub: stop providing current location to mount
0626f1fc2f Plane: stop providing current location to mount
38d3c2daa1 Copter: stop providing current location to mount
c39a344414 Rover: stop providing current location to mount
47ad331135 AP_Mount: use AHRS singleton to get current position
58d2c9669e AP_HAL_SITL: pass ADSB home location not string
3d8a5de1f0 SITL: ADSB: pass home location not string
78e51ac03f SRV_Channel: remove winch from SERVOx_FUNTION list since its disabled
f1efc957fc RC_Channel: OPTION:Copter re-order,add STANDBY, rmv winch,Rover rename Simple
48922d76f5 AP_KDECAN: correct format string issue
acd03c6636 SIM_AirSim: correct format string issue
b0f3c89939 AP_HAL_SITL: correct format string
66d460c19b GCS_MAVLink: correct format in short-write panic message
cbe73b91d5 AP_HAL_Linux: correct format-string warnings
f5635a557a AP_FlashStorage: correct format-string warnings
a4a1536614 waf: make format errors fatal
7dda87fd44 autotest: assert ArduPilot announces compass cal capability
b9dbfff0d0 GCS_MAVLink: announce capabilities compass-cal and param float for all vehicles
795afdd259 Sub: let GCS superclass specify param float capabilitiy
ba90a1a5df Plane: let GCS superclass specify compass and param float capabilitiy
976acb3a58 Copter: let GCS superclass specify compass and param float capabilitiy
88ba3e051c Tracker: let GCS superclass specify compass and param float capabilitiy
d664f18ce4 Rover: let GCS superclass specify compass and param float capabilitiy
23ee9eef5f AP_NavEKF2: fail prearm on any core setup failure
489ae83604 AP_NavEKF2: handle core setup failures
7c6630e216 AP_NavEKF2: EKF2 prefix for prearm failures and camelCase
95ea6ad807 AP_NavEKF2: provide reasons for init failures
561920aad6 AC_AutoTune: cope with change in namespace of LogEvent enum
8686fb30f8 RC_Channel: remove old comments to do with gripper grab/release
08d99b96ec AP_Gripper: log event when gripper grabbed or released
b8cbd64c86 Tools: Replay: use Event enumeration from Logger header
3819366a9e Sub: cope with change in namespace of LogEvent enum
e6c6189fe5 Copter: cope with change in namespace of LogEvent enum
daf071f7f6 RC_Channel: cope with change in namespace of LogEvent enum
04c005a213 AP_Parachute: cope with change in namespace of LogEvent enum
f337d011e7 AP_Logger: make LogEvent an enum class, split off LogDataID
105b7d79e1 Copter: 4.0.0-rc2 release notes
381af923c5 AP_Scripting: re-gen
8ad2920151 AP_SerialLED: check for valid channel
bc7651cfcb AP_Scripting: fixed chan check in LED bindings
48ba63ba11 AP_Scripting: added example script for LEDs
7caac67487 AP_Scripting: re-gen bindings
ea681c7a1e AP_Scripting: added bindings for LEDs
38ba08e0ce AP_Scripting: increase default heap size
e598c69a22 SRV_Channel: added singleton access for Lua
fbfe11f9ed AP_Notify: implement SITL serial LEDs
fc4577dce8 HAL_SITL: support simulated serial LEDs
ae289052e9 SITL: added LED state
ca00ca4dac waf: build AP_SerialLED
513b279f46 AP_SerialLED: added library API to access WS2812 LEDs
1db4afb844 HAL_ChibiOS: enable MatekF765 LED pin
8d2a624fcc Autotest: Refactor failsafe tests
f71ef4c7ab Copter: Refactor failsafes, add fs_options bitmask parameter
43da68ae59 GCS_MAVLink: added ftp_push_replies()
10ed848dd7 GCS_MAVLink: fixed comment
7c35d2d56a AP_Filesystem: make unlink do both directories and files on posix
15fc3f3d75 GCS_MAVLink: fixed session handling for ftp
00549d13fa GCS_MAVLink: rename emit_dir_entry to gen_dir_entry
e5321b6201 GCS_MAVLink: fixes from my review
6f538dd45a GCS_MAVLink: Initial FTP support
dc0e4bea53 AP_Terrain: Don't include all of AP_FS
b0e232b30b AP_Filesystem: Split the available define to it's own header
7b2fdec211 ardupilotwaf: Add -Wno-format-contains-nul
14bf946fe2 AP_Filesystem: Add dir type to fatfs
d00f4316e9 Tools: moved AC_PID dependency to core
d307cf7d21 ArduSub: moved AC_PID dependency to core
ffaaf09f79 ArduPlane: moved AC_PID dependency to core
93671445d6 ArduCopter: moved AC_PID dependency to core
7186b18ec3 APMrover2: moved AC_PID dependency to core
4afade2769 AntennaTracker: moved AC_PID dependency to core
236ce28339 AP_InertialSensor: updated for heater changes
a11f2b5cfb AP_IOCMU: added singleton in AP namespace
64aae4f67e HAL_ChibiOS: removed heater control
f458d58dde AP_BoardConfig: moved heater PI to AP_BoardConfig
ad69f6802f AC_PID: added AC_PI controller
d623da0de6 AP_GPS: Always send GPS2_RAW after we've seen the second GPS
4838ee6f58 GCS_MAVLink: check reply channel for space rather than current channel
e7c2528654 Rover: Added reversing loiter_type parameter
d8445928d1 HAL_ChibiOS: fixed SPI timeout bug
527e76a047 Copter: add pre-arm check that ToshibaCAN ESCs are present
45ce8e8d79 AP_ToshibaCAN: add get_present_mask for use in pre-arm checks
ad55b961a4 AP_ToshibaCAN: consume current sent by ESC
f6b669e3d8 AP_ToshibaCAN: rename millivolts to voltage_mv
614bb656b7 Plane: AC_AutoTune writes events itself now
5ece75a09a Copter: AC_AutoTune writes events itself now
3e4e7bdd18 AC_AutoTune: Log_Write events directly rather than via subclass
6c0c09e690 Revert "HAL_ChibiOS: lower speed of mpu9250"
6e1866af38 AP_Periph: updated doc
22f0e8a065 HAL_ChibiOS: added RM3100 in f303-GPS
207dffba88 HAL_ChibiOS: moved compass support for f103-GPS
9e9be95943 HAL_Linux: fixed build
53fe84e88a AP_FlashStorage: fix for F3 MCUs
db8c682a14 Tools: added f303-GPS to builds
599401bfe5 Tools: added f303 bootloaders
2b92e70da7 AP_Periph: support STM32F303 builds
147cf900fe AP_Bootloader: support STM32F303 MCU
1d44718016 HAL_ChibiOS: added f303-periph and f303-GPS firmware
7df87b5a8b AP_UAVCAN: fix for renamed AP_HAL::CAN
bc1de7a208 HAL_ChibiOS: support STM32F3xx MCUs
29a2351fd0 AP_HAL: rename AP_HAL::CAN to AP_HAL::CANHal
680a89671f Plane: fixed doc path for Q_AUTOTUNE
3750ed2925 AP_BLHeli: fixed critical errors caused by BLHeli code
5979c750f9 AP_Motors: yaw headroom fix
87b49c64f8 Plane: limit ATC_MOT_MIX_MAX in case of a fly away
e7f94fc810 Copter: limit ATC_MOT_MIX_MAX in case of a fly away
3ca713fdcb AC_AttitudeControl: limit ATC_MOT_MIX_MAX in case of a fly away
39863bf0b4 AP_Proximity: remove empty constructors
7944692de6 Copter: Proximity uses rangefinder singleton
7c8510dd4b Rover: Proximity uses rangefinder singleton
5b2689a7a8 AP_Proximity: use rangefinder singleton
34eff6d1c6 GCS_MAVLink: adjust for proximity status namespace change
daba5e26a5 AC_Logger: adjust for proximity status namespace change
64281eee60 AC_Arming: adjust for proximity status namespace change
0d624785f3 AC_Avoid: adjust for proximity status namespace change
6f6b143929 Rover: adjust for proximity status namespace change
8fe16f5627 AP_Proximity: use enum class for status
f5f6eb8231 AP_Proximity: correct checking of valid instance in various getters
5c3a0926a1 GCS_MAVLink: adjust for proximity rangefinder types changing namespacing
de7e3acc29 AP_Proximity: use enum class for proximity type
da8a861164 Rover: stop passing serial manager to proximity constructor
2a312aa8f1 Copter: stop passing serial manager to proximity constructor
4962b7a98e AP_Proximity: stop passing serial manager around, use singleton
368a8028ae Heli: Prevent loss of yaw control during large angle recovery
5afb5b4956 AC_AttitudeControl: Prevent loss of yaw control during large angle recovery.
5b8d7a35e7 AP_BLHeli: minor style fix for get_average_moto_frequency_hz
6381183aa3 AP_InertialSensor: expose harmonic notch tracking mode
b242c5071b AP_BLHeli: add get_average_motor_frequency_hz() for dynamic filtering
ac071df104 ArduCopter: add support for BLHeli telemetry-based updates to the harmonic notch
22111f59e8 Filter: add harmonic notch dynamic tracking mode
a8913d0df5 AP_Motors: Add full yaw range calculation back
f840f96276 AP_Motors: Freeze motor lost index on enabling thrust boost
f24afbcf4b AP_NavEKF3: initialise pre-arm failure message
cc5facf6d2 AP_NavEKF2: initialise pre-arm failure message
fe46dc34d4 AP_RCProtocol: remove duplicated definition from protocol_detected
88fa7eee6e Tools: Add a more complicated scripting test
38e17e2068 AP_Scripting: Add Location get_distance_NED and get_distance_NE
8c413d3c09 HAL_ChibiOS: fix writing into a NULL pointer CANFD interrupt
96616343ce GCS_MAVLink: mission item support more mav frames
ecd9e45568 AP_Motors: switched tricopter to use rc_write_angle()
1fe146c409 AP_Compass: remove expected error
a08443ff19 SITL: break out a SIM_SerialDevice base class, use it for SIM_Vicon
f0084f743d Copter: fix PSC_ACCZ_FILT to _FLTE param conversion
e159070dbc AP_Periph: fixed typo
6e73feca5c AP_NavEKF2: add prearm failure message for null core pointer
3e21ef1389 AP_NavEKF3: add prearm failure message for null core pointer
8f14ea9e80 HAL_ChibiOS: enable advanced timers if we have any N PWM channels
ff30ba87bc HAL_ChibiOS: fixed build of sparky2
dddfaa256f Ap_Frsky_Telem: replaced the passthrough scheduler with a WFQ one.
e18883fddf SITL: Add missing shove forces in SIM_Submarine
7a20410752 AP_Periph: updated docs
fcf9356e2c HAL_ChibiOS: fixed build of f103 rangefinder
76dd2f0838 AP_RangeFinder: fixed failover between rangefinders
c97f785443 AP_BLHeli: fix eRPM conversion
a4e51f3942 HAL_ChibiOS: lower speed of mpu9250
d8f0960214 autotest: correct delay in simple loop test
5bafd7d72c AP_GPS: Don't defeat the GCS message interval code
80bd038333 Plane: updated release notes for 4.0.0
3884419153 AP_Periph: added RNGFND_BAUDRATE
2708c99bfb AP_SerialManager: added set_protocol_and_baud()
529f7a4416 Tools: updated CAN bootloaders
e612ab92ff AP_Bootloader: added error codes for failing to load app
513fd4065b AP_Menu: use strtof() instead of atof()
34f5b40919 AP_IOMCU: use crc32_small() in AP_IOMCU
31f7a62cdc AP_Bootloader: use crc32_small()
1ec921560e AP_WindVane: use strtof instead of atof
c7fce7568e AP_Proximity: use strtof instead of atof
31b0663115 AP_Param: use strtof instead of atof
dcc417f27b AP_Bootloader: use crc32_small()
e5b99b294a Tools: updated f103 bootloaders
ff2cfbaafb AP_Math: added smaller footprint crc32
5898dc757c AP_RangeFinder: use single precision string to float
092c20b3a7 AP_Periph: use flash app_descriptor
ec1060d4f8 AP_Bootloader: pre-define fields of app_descriptor
b5af1edf0d HAL_ChibiOS: moved app_descriptor to start of flash
b2a2556829 Tools: built crazyflie2 bootloader
3800d7c084 HAL_ChibiOS: added crazyflie2 bootloader
233fb94417 AP_Baro: Add I2C Access
117630a469 autotest: add delay for loop test to ensure we get >=3 messages
6786bf0016 Plane: fix RCn_OPTION mode initialization
3e72538f07 AP_TECS: added TECS_LAND_PMIN for min pitch in flare
ae49cebeb1 Tools: updated CAN bootloaders
cc1f86e1f1 AP_Bootloader: use MAINTAINENCE mode for CAN bootloader
482e0d4787 AP_Periph: implement 30s mark of good firmware
c1ef2e29d7 AP_Bootloader: stay in CAN bootloader if in watchdog reset
d1bc0f236d HAL_ChibiOS: added pragma once for watchdog header
fc8d9e8af5 HAL_ChibiOS: added RTC_BOOT_FWOK value for RTC reboot register
f777a37826 Tools: added link to AP_Periph firmware
1aabbae8bc Copter: update 4.0.0-rc1 release notes
42d8bcc44f Copter: 4.0.0-rc1 release notes
b6920e14c8 Copter: remove redundant SurfaceTracking enumeration namespacing
6b92f3dae9 AP_NMEA_Output: add example
378d5c7a5a HAL_ChibiOS: added expected delay in bootloader flash
dc6948f336 AP_Periph: added delay on bl flash
4e33aff5d6 waf: fixed unnecessary nul termination of ROMFS
7fb44d1164 AP_ROMFS: fixed return size for uncompressed ROMFS
4593697634 GCS_MAVLink: use new flash_bootloader() API
dba6d71fc6 AP_Periph: use new flash_bootloader() API
81325ab14d HAL_ChibiOS: fixed multi-page bootloader update
9a778418a5 AP_HAL: use enum for flash_bootloader() result
f4433773be AP_Arming: adjust for rename of AP_UAVCAN_Server to AP_UAVCAN_DNA_Server
4ddfe2715b AP_UAVCAN: adjust for rename of AP_UAVCAN_Server to AP_UAVCAN_DNA_Server
8084e5c264 AP_UAVCAN: rename AP_UAVCAN_Server to AP_UAVCAN_DNA_Server
15f709e6ab SRV_Channel: added rate output channel docs
37566d079f AP_Motors: support direct rate outputs for multicopters
892f2d4256 SRV_Channel: added direct output of rate control on multicopters
85f963b961 Copter: multicopter ATC_RAT_RLL/PIT_FILT copied to FLTD and FLTT
cd98659abe Tools: cope with location of AP_Periph in Tools directory
6f9fda5094 HAL_ChibiOS: removed CAN_APP_VERSION_MAJOR from hwdef.dat
1352557ebb AP_Periph: use ArduPilot version system
9a176526d7 Tools: include bin files on firmware server for AP_Periph
355839e413 Tools: added f103-ADSB bootloader
54eabfc8e9 Tools: added ZubaxGNSS bootloader
0edc8a55a0 AP_Scripting: Add plane failsafe example script
610dff61d8 AP_Scripting: Fix nullable arguments numbering, add location bearing
a99f67fd5b AP_Common: Add a radian method for getting location bearings
82a7116142 AP_Scripting: Allow scripts to set the mode
3f94f0d517 Sub: Support new AP_Vehicle::set_mode
ee96ec7f0d Plane: Support new AP_Vehicle::set_mode
b42b1c08c4 Copter: Support new AP_Vehicle::set_mode
6d7b196212 Tracker: Support new AP_Vehicle::set_mode
a1acc75e11 Rover: Support new AP_Vehicle::set_mode
c369139be0 AP_Logger: Support new ModeReason
cb1b236439 GCS_MAVLink: Use the vehicle singleton to directly set the flight mode
a44a7f541b AP_Vehicle: Support set_mode
0f4337b7b1 AP_HAL_Linux: release mutex lock before calling write(c)
6f6a8d5d14 Tools: auto-build AP_Periph binaries
2818151a39 AP_RangeFinder: disable some incompatible drivers for AP_Periph
c08d37bd8f Tools: fixed build with --out directory for build_binaries
1bf037297d HAL_ChibiOS: set correct APJ_BOARD_ID for ZubaxGNSS
eeaf6c0f30 Tools: updated CAN bootloaders
46cb585af2 AP_Periph: use APJ_BOARD_ID in hw major/minor
34e0ac51f5 AP_Bootloader: use APJ_BOARD_ID in hw major/minor
83eeca2586 AP_Scripting: fixes for modified AP_ROMFS API
c4d78a7d8c AP_OSD: fixes for modified AP_ROMFS API
ef1aaa6db0 AP_IOMCU: fixes for modified AP_ROMFS API
1a1d7e0525 AP_ROMFS: support uncompressed romfs data
49e669aa1f HAL_ChibiOS: support uncompressed bootloader on f103-periph
cffb434de8 HAL_ChibiOS: tweak stack on f103-periph
c219d357f0 waf: allow for uncompressed ROMFS
a3b61a1b02 HAL_ChibiOS: enable ROMFS for ZubaxGNSS and f103-periph
513e483821 AP_Compass: disable HIL for AP_Periph
0c00bb935a AP_Periph: support updating bootloader with FLASH_BOOTLOADER option
c6a372bfdd AP_Periph: fixed handling of 16 char param names
ad3b1eaaf0 AP_Periph: enable AP_ROMFS build
a224342b18 HAL_ChibiOS: enable ROMFS for CUAV_GPS
15643f9245 Rover: release notes for 4.0.0-rc2
14cdac9202 AP_GPS: fixed GPS to UART mapping
f6b6aa68ed AP_Scripting: add a hello world example
099379713c AP_Scripting: add simple example of a loop
7842d07b12 autotest: add test for scripting
f431c0b256 Replay: use ahrs singleton to log ATT, POS and AHRS2
3cd66dbdd9 Sub: use ahrs singleton to log ATT, POS and AHRS2
1d99fbebc9 Plane: use ahrs singleton to log ATT, POS and AHRS2
9c57862ec6 Copter: use ahrs singleton to log ATT, POS and AHRS2
52ec1dba5e Tracker: use ahrs singleton to log ATT, POS and AHRS2
3fff2eaf6d Rover: use ahrs singleton to log ATT, POS and AHRS2
c30873097a AP_Logger: use ahrs singleton to log ATT, POS and AHRS2
d7132928d1 Copter: corrected undefined data member causing linking error
01c36fa6aa AP_Compass: LEARN param default to 0 for all vehicles
8d058d58be Tools: autotest: update sailboat default params
43449a4adb AR_WPNav: remove unneeded overshoot methods
75956755bb Rover: add dedicated sailboat crosstrack and loiter params
f69be70772 HAL_ChibiOS: save some memory in f103-periph build
a7eea2a4e3 Rover: wheel encoder sends alternate sensors on each update
b4a8691a9e AP_NavEKF3: remove wheel encoder update limit
93aa600e5d Rover: ekf check allows relative position estimates
63309c6925 AP_NavEKF3: suppress ekf fail-to-set-origin if core disabled
e32a8556b2 AP_NavEKF2: suppress ekf fail-to-set-origin if core disabled
353cb648f6 AP_RPM: rename px4-pwm to just pwm
35b993b220 Sub: minor comment change
edb5f05339 Plane: minor comment changes
8724e2f160 Copter: minor comment change
48c0651df5 Rover: minor comment change
e84082a099 AP_Logger: canonicalize on STANDBY rather than STANDY_BY
f7ba79e493 Copter: canonicalize on STANDBY rather than STANDY_BY
3bec1c7d4f RC_Channel: correct description of standby option
9c4a01e0b0 AP_Bootloader: speed up CAN fw load
8812466355 Tools: updated CAN bootloaders
c5afc3ff99 Tools: use crc_crc32() in app descriptor
92bd1a485a AP_Bootloader: added app descriptor checking for CAN fw
0a4576728e HAL_ChibiOS: support a app->bootloader comms region in SRAM
1c61ab165c AP_Periph: support CAN app comms area
6ad762f727 AP_Bootloader: support app comms area for CAN fw update
5605ad6c59 HAL_ChibiOS: enable MissionPlanner compatible app descriptor
d572d630ed waf: added generation of app descriptor
30195ea6b5 AP_Periph: added application descriptor
6a413babe0 AP_Periph: pat watchdog in param getset
6b841e781c HAL_ChibiOS: pat watchdog immediately in expect_delay_ms()
7973a25c40 HAL_ChibiOS: fixed stack on ZubaxGNSS
910129eafc HAL_ChibiOS: enable watchdog in AP_Periph firmwares
e392416942 AP_BoardConfig: allow enable of watchdog in hwdef.dat
40431100a9 AP_Flashstorage: fixed init bug on F1
5efaea2d92 HAL_ChibiOS: fixed flash storage in ZubaxGNSS
4677dca834 AP_Bootloader: fixed uprintf() build
e376884377 HAL_ChibiOS: fixed Zubax bootloader debug
1f06aa069e HAL_ChibiOS: fixed uprintf() in bootloader
e6cb35090c HAL_ChibiOS: fixed page size for STM31F105 flash
230a817539 AP_Bootloader: support ZubaxGNSS
0ef2a60682 HAL_ChibiOS: support ZubaxGNSS as a AP_Periph target
44f895ab16 HAL_ChibiOS: fixed for ZubaxGNSS build
e9af111b0c AP_Periph: enable build of ZubaxGNSS
4962b6ddc8 Tools: added f103-RangeFinder bootloader
8c796ecd2c HAL_ChibiOS: support f103-RangeFinder
55b623d176 AP_Periph: support rangefinder CAN nodes
ca1bd8be3c AP_RangeFinder: disable logging for AP_Periph
3cd7dd9f12 HAL_ChibiOS: disable GPS and MAG in base f103 build
282936eab2 AP_RangeFinder: allow for less rangefinder instances
5b699fc65d AP_Periph: fixed airspeed update rate
d0ff2089c4 AP_Periph: enable airspeed sensor
3ca478747c HAL_ChibiOS: enable airspeed in f103-ADSB
f51378f2e8 AP_Airspeed: enable for use in AP_Periph
fa6b6140e3 HAL_ChibiOS: split out f103-GPS from base f103-periph
bbd6f3aa6c SITL: morse simulator should generate packets from same vehicle sysid
5b1e688b6a Tools: update git success from Xiamen
871e5f448c ArduPlane: added RC option for new takeoff mode
119f0a95ad RC_Channel: added RC option for new takeoff mode
b84dcd483d AP_HAL_ChibiOS: remove unnecessary tabs and whitespaces
12c9e50aef AP_IOMCU: remove unnecessary tabs and whitespaces
e90bd27435 HAL_ChibiOS: fixed I2C on F103
6f11926dbd HAL_ChibiOS: enable NCP5623 LED in f103-GPS
c75a7e425a AP_Periph: support NCP5623 LEDs
abd08ac5ca Plane: fixed takeoff alt handling
54f8e1137e AP_NavEKF3: added EK3_MAG_EF_LIM parameter
1a2abae902 Plane: reduce QTUN log rate to 25Hz
83c641c76f AP_Compass: corrected the cause of SIGSEGV signal when running AP_Compass_test
eff316dd6b AP_KDECAN: update prearm method to support snprintf methods
9b2c060cc5 AP_Arming: add support for reporting UAVCAN Server errors
fb48d8ee1b AP_Math: add method for generating hash
2b410479af HAL_ChibiOS: remove unused code
4034af6ef1 StorageManager: add storage aread for CAN Dynamic Node Alloc
9bd379e236 AP_UAVCAN: setup uavcan server with internal storage
9d1c6ae46e Plane: update release notes for 4.0.0beta4
2daccf0ef0 autotest: add test for deepstall with relative LAND item
8cfe181604 autotest: increase timeouts on collision test
198c93e479 Copter: correct use of nanf
aae524b9d5 AP_Mission: add sanity check that 16-bit commands aren't stored_in_location
7b0da89708 Copter: add vibration check
dee4e867e4 AP_Logger: add vibration failsafe error subsystem
e5f724bc3a AC_PosControl: add high vibration compensation
0052dcc8f8 AC_PID: update pid_info when integrator set
adf4d8fd47 AP_InertialNav: use ekf::get_vert_pos_rate during high vibration
5baed38266 AP_NavEKF3: reduce EK3_HRT_FILT max to 30
5b1d9ed868 AP_NavEKF3: Add missing vertical position derivative calculation
e2d3afaaa7 AP_NavEKF2: reduce EK2_HRT_FILT max to 30
c26c6fd078 AP_NavEKF2: Add missing vertical position derivative calculation
4a1247b9f7 AP_AHRS: add get_innovations
ec9eaeab10 autotest: increase allowed time for receiving ack to compass-cal cmd
1f7a3d0e16 autotest: add deepstall test
05f1161e63 RC_Channel: Support for Standby functions
e8e969af62 AP_Logger: Support for Standby functions
5acfc77a3c AC_AttitudeControl: Support for Standby functions
50a098c359 Copter: Standby functions
3274398bc2 AP_Scripting: Fix up uint32_t manipulation, fix AP_Notify
c03796d7de GCS_MAVLink: fixed uninitialised bytes in send_named_float()
3194059408 Plane: allow TAKEOFF mode on board with no compass
e92ef64fe5 mavlink: added takeoff mode for plane
f628524601 Plane: if already flying in TAKEOFF mode then skip takeoff
dc2aaa7d5a Plane: deny reverse thrust in takeoff mode
ff400243e0 Plane: added a new TAKEOFF flight mode
6be5578621 ardupilotwaf: -Werror=delete-non-virtual-dtor is a C++ flag not a C flag
49687d4e5d AP_HAL_SITL: ToneAlarm doesn't play tones if disabled via param
47fbf70e85 SITL: create SITL tonealarm files to hold enable parameter
d6f10a12eb AP_Notify: add a simulated buzzer for SITL
111c17d0b4 AP_HAL_SITL: add a simulated buzzer
32ec6d7e9a SITL: add a simulated buzzer
1968a4cfb1 Copter: correct compilation when SYSTEMID mode is disabled
3e08e18202 Plane: add QACRO to flight mode list
5cda8b4a4f Tools: updated AP_Periph CI and docs
b05429a487 Tools: added f103-GPS bootloader
faa4f57e61 Copter: remove AP_ADSB from wscript
f821ca4677 Plane: remove AP_ADSB from wscript
c18098cdf4 waf: always build AP_ADSB
df90cee8a0 AP_ADSB: added handle_adsb_vehicle() API
8650229ad4 AP_ADSB: added singleton interface
16bc7f800e AP_UAVCAN: support ADSB over UAVCAN
47e75cc536 AP_Periph: support ADSB UAVCAN peripherals
b9885034b1 HAL_ChibiOS: added a f103-ADSB firmware
85271a8747 HAL_ChibiOS: split out f103-GPS from base f103-periph
1fb4818efc AP_Periph: fixed build warning
e54acb8bde AP_Scripting: Add an example message interval script
076cf0bdc8 AP_Scripting: Add a one arg variant of uint32_t, and expose table unpack
2cb3e446ab Copter: systemid mode formatting and name changes
c11f2247eb Copter: System ID mode
91be844b66 Copter: Let modes stop Attitude Logging
63d9b47530 AP_Motors: make init_targets_on_arming global
d1a0635ec2 AC_AttitudeControl: incorporate SysID into tradheli
0834726b48 AC_AttitudeControl: Support System ID tests
b7ae12a9d3 HAL_ChibiOS: reduce max compasses to 1 on AP_Periph
7ad91fa1c9 AP_Compass: don't show too many params when max compasses 1
6e676be6b3 AP_Periph: added LED_BRIGHTNESS param
a80ff80061 AP_Motors: Fix safe disarm
6e8413f122 AP_Motors: Use safety timer to enable pwm before spool up
df8c9e5825 AP_Scripting: Raise default heap size
cf94a02207 AP_Scripting: Stop running scripts if the enable flag ever goes false
8785ff7a14 autotest: make polyfence avoidance test more reliable
f7e39bd9f4 Tools: autotest changes after Auto behaviour change on completion
80c58696d0 Rover: Hold or Loiter within Auto on mission completion
d2cf0939a5 autotest: drain mav before attempting disarm
03c68f991c autotest: raise exception if no simulated time available
6e88982b39 autotest: fix mission-load dedupe issue
9fee2a9c06 AP_Vehicle: add singleton
2cc50afe7e waf: reference correct commit for debug fixes
d4b922336b Copter: add voltage compensation to _throttle_thrust_max
00260db65a AP_GPS: fixed UAVCAN GPS status when disconnected
000aa4f515 AP_RangeFinder: Add TF03-180
6588c93e44 SRV_Channel: renamed EPM to Gripper in FUNCTION param docs
c2067d5bc2 AP_NavEKF3: set a min yaw accuracy from GPS of 5 degrees
37fb028532 AP_GPS: improved checking for valid yaw for moving baseline
2587b13ae7 AP_GPS: UBLOX: Parse RELPOSNED messages
cb5bba8379 AP_Logger: Log GPS yaw accuracy
f0e742caa3 AP_Scripting: Fix generation of uint32_t arguments
c760c9d484 waf: reference commit fixing debug
97dc76732c HAL_ChibiOS: drop mRoControlZeroF7 DPS310 clock to 5MHz
94418ca70e AP_Baro: added register checking and reset to DPS280 driver
7fd22f63a9 ArduCopter: allow logging of both IMU and IMU_RAW
36327d56de Copter: reject reboot request from GCS if auto esc cal on next reboot
7ce2fb8783 GCS_Mavlink: handle_preflight_reboot made virtual
3b798b22f9 Tools: added name to GIT_Success.txt
c515f4b317 AP_HAL_ChibiOS/hwdef: update KakuteF4 readme
16c9649ced Tools: bootloader and binary build for Kakute F7 mini
28b866cc8f AP_HAL_ChibiOS: hardware definitions for Kakute F7 Mini
8de44ec319 AP_Airspeed: protect sample timestamp while get data
05d104675e AP_Logger: Fix logging of current on non primary instances
ef7f8531fb Filter: set the harmonic notch filter ref default to zero (disabled)
f02d21811d Tools: autotest dynamic notches
8ce7f02167 ArduCopter: add functions to update dynamic notch frequency. Periodically log the frequency.
4a1a5e81ea AP_Motors: Add variable to record the final thrust value
d6e17b0c2b AP_InertialSensor: publish an IMU temperature
29e65a7294 GCS_MAVLink: supply IMU temperature in mavlink extensions
dc4ad26e96 GCS_MAVLink: updates to support the latest stable mavlink changes (IMU temperature extension)
fbeb5a8082 mavlink: submodule update
77bf67e15f HAL_ChibiOS: fixed padding of neopixel bits
5f8616dc76 AP_Periph: fixed scaling of LEDs
3f9999d932 autotest: fixed MISSION_ITEM_INT receive to be reliable
1af76bbf60 Tools: autotest: make plane receiver-healthy check more reliable
34ef247449 Tools: autotest: correct mavproxy version test
a637c6e4ea Tools: autotest: correct test for MAVProxy capabilities
25fd04d402 AP_Proximity: declare RangeFinder as a class to avoid circular include issue
9aaa6c49fa AP_BoardConfig: correct include of AP_Vehicle_Type
083d4ac3ea DataFlash: adjust for new vehicle base class
405bf0ce7f AP_Mission: adjust for new vehicle base class
8e412d0885 AP_Compass: adjust for new vehicle base class
cf201afdf6 AP_AccelCal: adjust for new vehicle base class
8bb51f4b7d AC_AttitudeControl: adjust for new vehicle base class
c0052a5e71 Sub: move many members up to base class
5d405896f8 Plane: move many members up to base class
9e5d5c023c Copter: move many members up to base class
65d1183bb0 Tracker: move many members up to base class
3bf9a45ed1 Rover: move many members up to base class
347c247ad0 Sub: become an AP_Vehicle
a252aad39b Plane: become an AP_Vehicle
95f81297d9 Copter: become an AP_Vehicle
91cf090864 Tracker: become an AP_Vehicle
4a9b781d3e Rover: become an AP_Vehicle
1ea365d52a AP_Vehicle: move many members up to base class
a6b6bb99f3 AP_NMEA_Output: skip sending sentences if no space on UART
9405fd6958 Plane: remove unused location argument to control_auto
739bc486fa Sub: remove bogus ARMING_CHECK_NONE 'bitmask value'
fa0d0c6176 Plane: remove bogus ARMING_CHECK_NONE 'bitmask value'
bfbb482919 Copter: remove bogus ARMING_CHECK_NONE 'bitmask value'
617b917237 Rover: remove bogus ARMING_CHECK_NONE 'bitmask value'
5428d13502 AP_Arming: remove bogus ARMING_CHECK_NONE 'bitmask value'
371f11b7f4 AP_Motors: Change to description(NFC)
abb91fc33a Copter: Change external button specification to option
4866fd68b5 AP_BoardConfig: fixed CAN init without SLCAN
15d98220e0 AP_HAL: enabled SLCAN on fmuv2 and Pixhawk1-1M
08b3bc4506 AP_UAVCAN: cleanup ifdefs for SLCAN enable
53fab5767f AP_HAL: cleanup ifdefs for SLCAN enable
15e4641e51 AP_HAL_ChibiOS: cleanup ifdefs for SLCAN enable
6b3c10f0e7 AP_BoardConfig: cleanup ifdefs for SLCAN enable
4a42a3a23a Rover: implement steering trim save in armed/manual mode only
2f936b0d3e Plane: updated release notes for 4.0.0beta3
f9580424f6 Plane: Resore old default behaviour for throttle curves
cb054e714b AP_RTC: add local time support
1f9b2f712e AP_OSD: add clock panel
81fd14493d Tools: added name to GIT_Success.txt
65e4ee9e2b Rover: minor restructure of loiter at end of rtl and srtl
0963551d23 Rover: change RTL/SRTL from circling to loitering for boats
ca92f0505e Copter: follow mode restores offsets to zero on exit
0ab5ebbd9b Rover: follow mode restores offsets to zero on exit
e4336551cd AP_Follow: add clear_offsets_if_required method
c8216c51b4 Tools: autotest: added wheel encoder test for balance bot
05b6f727ee Tools: autotest: add wheel encoder test for Rover
f6c7ac88d0 SITL: Yaw rate calculation uses wheel offset
e32d8ecda1 AP_WheelEncoder: add SITL backend
4d17a7cf89 AP_Logger: tidy MessageWriter stages using enum class
880285dad4 AP_BLHeli: Change descriptions in SERVO_BLH_PORT param to actual AP port
dec5b97275 AP_Logger: fix logging on 256Mbit flash chips
9456fe4d70 Rover: failsafe check format fix
006004be13 Rover: FS_OPTION allows failsafe from hold mode
23983d03b5 Tools: autotest: correct get_distance_int
d8c89517bb autotest: correct CRAMS field altitude
db4ae9ff24 Plane: check airspeed and active Z controll for hover learning
39182e70e4 AP_Motors: enable docs for hover thr learning in plane
49bf0a3057 AP_Logger: fix AP_Logger_Block::get_num_logs()
5a0fe4e322 Copter: do not speed up EKF failsafe if optflow works
db7836ad48 AP_SmartRTL: fixup compile error
fd0a8b72b4 AP_Logger: correct uninitialised value when logging all rally points
be8632668b autotest: make dataflash-over-mavlink test more accomodating
13e66e9f7c AP_SmartRTL: give warning buffer is about to fill-up
555f56a8af HAL_ChibiOS: removed wait on CAN peripheral in H7
9717548cb5 AP_Follow: hide params not used by Rover
6e27d49f24 Copter: add pre-arm check of PILOT_SPEED_UP param
3ebc69320c AP_Logger: fixed LOG_FILE_DSRMROT with delayed log stop
b89c60d5b0 AP_BLHeli: fix watchdog resets with telemetry active from non-multirotor motors
185475d689 autotest: allow --moddebug to sim_vehicle.py
8686197c59 GCS_MAVLink: add comment above set-message-interval
3a113a31bb GCS_MAVLink: minor fix to set_message_interval
5039bdc8ea AP_Scripting: add set_message_interval binding
9a99d9bff5 GCS_MAVLink: add set_message_interval functions
9464a429f8 Copter: 3.6.11 release notes
927a1e4f9d Rover: fix version to be 4.0.0
ec6a573d53 Rover: 4.0.0-rc1 release notes
1d11fe5377 Tools: add --upload-port option to waf
ddde512b74 AP_Scheduler: use fill_nanf() on each scheduler function
cbe34320b5 AP_NavEKF2: fixed build
b9291d95f0 HAL_SITL: pre-fill stack on each loop with NaN
66b4e92444 AP_Math: make fill_nanf() use a signalling NaN
f79907bd1e AP_NavEKF: fixed build with vector index checking
3995db49a4 AP_NavEKF3: use parent class for intermediate static variables
f7e138bddd AP_NavEKF2: use parent class for intermediate static variables
688b01c6c6 AP_NavEKF: added a common parent class for EKF2 and EKF3 core classes
3b9a35da27 AP_Motors: add reversed tricopter option
2af0be3947 AP_AHRS: fix custom orientation ToRad conversion
0deef76875 GCS_MAVLink: use HAL_MEM_CLASS for status sizes
889b18022b AP_Logger: use HAL_MEM_CLASS for logging buffer size
3bf3ebb703 AP_Logger: try harder to use close to user buffer size
2d00298070 AP_HAL: added HAL_MEM_CLASS for amount of memory
47f2f1764d HAL_ChibiOS: generate HAL_MEMORY_TOTAL_KB for each board
13352a4ca7 AP_ADSB: move is_valid_octal to is_valid_callsign and add tests for it
6fe09b6120 AP_Math: move is_valid_octal into adsb
1a34fccc71 AP_Proximity: fixed incorrect use of fabs()
c19d31d0c3 Tools: autobuild Pixhawk1-1M
670a9e33df Tools: added bootloaders for Pixhawk1-1M
e3a965272c HAL_ChibiOS: added Pixhawk1-1M
b5217412f9 AP_GPS: fixed a bug in handling corrupt u-blox packets
356e9f116d IO_Firmware: update binaries (gcc version 6.3.1 20170620... 6-2017-q2-update)
0a6ae60c89 AP_IOMCU: fix IO fast channel mask
d8a07b6c44 HAL_ChibiOS: fix FMU fast_channel_mask
748cf39116 HAL_ChibiOS: disable DMA for RCIN on Pixracer
92d55fa126 SITL: removed unnecessary files of webots
04ee459e8c AP_Baro: exclude Sub pressure transducers from non-sub builds
1635da1dd7 Tools: removed HAVE_OCLOEXEC check
c29867ecad AP_Common: removed fcntl overrides
81711eb28e AP_HAL: fixed build on g++ 7.3 for stm32
cf3bd2487b AP_OSD: add current averaging filter to reduce jitter (~5 sample timeconstant)
9d5cbbe58f Copter: restore range finder updates to 20hz
a5d0f55bdc Copter: upward surface tracking never closer than avoidance margin
0d032ecd86 AC_Avoidance: add enabled and margin accessors
1c4f47f882 Copter: add upward facing surface tracking
6be4adbe02 RC_Channels: define surface tracking auxiliary function
5d24d0e4dd Copter: surface tracking always includes ekf alt error when setting target rangefinder alt
d5d7fbe761 Copter: rangefinder glitch detection moved to read_rangefinder
808efa4c79 Copter: surface tracking format fixes
d41e7dcbee Copter: move surface tracking implementation to surface_tracking.cpp
b54cf410ef Copter: increase read_rangefinder to 50hz
3ef94a69ad Sub: call periodic fence update function
4d6dc9b0a7 Copter: call periodic fence update function
b6bc0c638c Rover: call periodic fence update function
6891225438 Sub: initialise AC_Fence library
e5fa8f622b Copter: initialise AC_Fence library
1fd989491c Rover: initialise AC_Fence library
9aeac012d2 AC_Avoid: add support for complex fence types
3431938bce AP_Logger: add error code to Write_OADijkstra
a0c6ff95e4 AP_Proximity: polyfence valid() has been renamed
714a3e2462 AC_Fence: support for multiple polygon fences
c5f52a8355 Tools: autotest: tests for new fence code
6d0c5da84a GCS_MAVLink: allow upload of fence using mission item protocol
f3b0148719 AP_OADijkstra: cope with polyfence holding boundary points
dfca32a2af AP_OABendyRuler: cope with polyfence holding boundary points
3a7f1b882e AC_Avoidance: cope with polyfence holding boundary points
74aed5aef8 GCS_MAVLink: cope with polyfence holding boundary points
5fe16d5250 AP_Proximity: cope with polyfence holding boundary points
ff37590776 AC_Fence: move polygon points into AC_Fence_Polygon
189ef5f1e7 AP_Math: define != for Vector2<int>
f1e5c72ee9 StorageManager: add write_uint8 alias for write_byte
f090f35afa AP_InternalError: add a general should-not-be-here bit
bc8e56966f GCS_MAVLink: squelched rally-points-received message
8dd2119b14 AP_NavEKF2: make it easy to do EK2 timing tests
e820219202 HAL_ChibiOS: changed optimisation of higher end boards to -O2
0e3a27f74f AP_NavEKF3: change optimisation from -O3 to -O2
163efd0df5 AP_NavEKF2: change optimisation from -O3 to -O2
5f90afa71e AP_Mount: change optimisation from -O3 to -O2
13a2367278 AP_Math: change optimisation from -O3 to -O2
7c3df18ea3 AP_IOMCU: change optimisation from -O3 to -O2
9c6a63b55b sub: fixup joystick changes according to review
ee65aa2993 joystick: addressed issue9801. Upon engaging input hold, the controller will not read new directional inputs until input hold is disabled or the conrols are returned to their neutral position.
adcf0d398d Sub: update calibration if reading is above water level
0c5753112a AP_TemperatureSensor: Update TSYS01 for Pixhawk2
177f7bed81 Plane: remove unused configuration options
266457711a Rover: add loiter gain and max vehicle speed params
06df44c184 AP_Relay: change parameter name from relay to instance
1c3b2f9699 AP_Relay: tidy, reduce flash usage
b6efcbcf3b AR_WPNav: make get_stopping_location public
e28d56f63a Rover: use AR_WPNav get stopping location
62331cf8a0 waf: remove vestiges of waf-run coverage
073248eca5 Tools: autotest: remove vestiges of waf-run coverage
11c633be32 AP_OSD: distance total fix for slow vehicles
2b0773c18b Sub: Create MOTOR_DETECT mode
dd97eedde3 APMotors_6DOF: Implement motor_is_enabled(), get_motor_angular_factors() and set_reversed();
4c62fe6c72 AP_Windvane: caculate vehicles current tack
d83745e305 Rover: Sailboat tacking improvements
7cd6aec799 Rover: fix init of struct published to OSD
a386048be7 Tools: autotest: add two basic tests for radio failsafe
2e2bbf57bf Tools: autotest: add disarm_wait function
d56c490b18 AP_Motors_6DOF: Add missing 'break'
59ce3f1007 AP_OSD: scale xtrack, add precision for distances <10 units
29fadc2417 AP_HAL_Linux: PCA9685: Check for device before accessing it
5f34ec6578 Tools: support lldb debugging for sim_vehicle and autotest
8310058c8c SITL: adding Tricopter model in Webots
47cb514446 Tools: autotest: enable EK3 for ride-along
5e3c6b4d3a GCS_MAVLink: allow proximity to send only upward facing distances
9ac79b1698 Rover: publish nav data to OSD
f592806184 AP_OSD: formatting fixes
aef04fd924 Copter: tradheli update conversion
d4fec221c3 AP_Motor: tradheli align swash params btwn frames and fix metadata
b97b41a6e8 Tools: autotest: allow tracker to be armed between tests
4c40640238 Tools: autotest: tidy handling of armed-at-end-of-test handling
92160b454a Tools: autotest: remove switch position assumption from takeoff
975804fa35 AP_Math: remove unit_mod concept from wrap functions
952d4d2cbc AP_NavEKF2: initialise Kfusion stack variable to fix compilation
9fb715692e AP_HAL_ChibiOS: correct include of mavlink header for analog debug
f5364e5efa Tools: added script for creating apj file from *.bin
d890203f73 AP_Baro: LPS22H: correct formatting
f27b8a6c02 Tools: autotest: test for vehicle armed after test passes
d40d812ea4 AP_NavEKF2: fixed build with g++ 9.1
abae134f53 travis: run unit tests
d8fb003cc2 Tools: add entry for running unit tests to build_ci.sh
0c4099bc42 gtest: reference commit adding override keywords / use updated gtest
84f6e49594 waf: cope with new format of gtest submodule
52cb509f11 waf: add suggest-override even when building in uavcan
c9278632a5 Rover: updated release notes for 3.5.2
6d7c2301f2 AP_Radio: Change direct value to define name
ec0c49315f AP_Compass: Change direct value to define name
9226899c6f AP_NavEKF2: added comment (review request)
255981c60c AP_NavEKF2: moved some of the intermediate vars to the stack
96c6544997 AP_NavEKF3: moved intermediate variables to common memory
0041874826 AP_NavEKF2: moved intermediate variables to common memory
9b746b89db AP_Math: added fill_nanf()
5aaeaaea8c Tools: added UDP proxy code
328fff8585 Copter: fixed RC failsafe handling for no RC receiver
e50d237f3e AP_Periph: stop compiling in AP_Buffer
3bb1b0845c Plane: stop compiling in AP_Buffer
a5f4a102d7 Copter: stop compiling in AP_Buffer
08623c1712 AP_ADSB: use ObjectBuffer in place of AP_Buffer
c043f315de AP_Buffer: remove as it is replaced with ObjectBuffer
8bfab6d2f2 Plane: Geofence, speed up the no fence checks if disabled
562b155f63 Plane: Remove unused geofence enable reason
7d8b114b24 Plane: Reduce size of GeoFenceState
af0dfb6d8b Plane: Remove unneeded state from geofence
27187ca248 Plane: updated release notes for 4.0.0beta2
5a9e5e937a APMotors6DOF: add roll factor for motors 4 and 5 for SIMPLEROV_4 and SIMPLEROV_5
948a5bf9c3 APMotors6DOF: add case for SIMPLEROV_3
03e317fed8 Tools: autotest: send SIGTERM to processes before killing them
045960fe57 AP_HAL_SITL: catch SIGTERM and exit with zero exit status
85332d49a2 HAL_SITL: added MotorBoat
d2e75717b8 SITL: added a MotorBoat class
5a1a10b03f Copter: update 3.6.11-rc1 release notes
23e92d4fa5 Copter: 3.6.11-rc1 release notes
7520cdef2f AP_RangeFinder: update minimum fw version of TFMiniPlus
c40e0ffb6b Copter: fixed EKF threshold for arming
c71cbe2729 APM_Control: AR_AttitudeControl: add description for new PID params
e9f8b91134 waf: fixed --build-dates option
05d62c62bb AP_NavEKF3: fixed use of uninitialised variable in EKF3 mag fusion
8a05feb9d3 Tools: use --track-origins=yes in valgrind for sim_vehicle.py
c93d73b678 Plane: change master version to 4.1.0dev
386e7dc3e8 HAL_ChibiOS: fixed delay for OneShot125 channels
850892c3d9 HAL_ChibiOS: fixes from LGTM errors
642935fd43 Tools: random Python cleanups based on lgtm analysis
c6f43e9700 AP_NavEKF3: fixed use of old irqsave() API
1d47f9186e AP_NavEKF2: fixed use of old irqsave() API
d7ee622edc AP_Logger: fixed use of old irqsave() API
5f65033511 AP_RangeFinder: add missing overrides
ce877ba40a AP_RangeFinder: fix build
7c2c6dbab3 Rover: pre-arm check that WP_SPEED is positive
de3c9340cb Tools: autotest: correct timeout on heli spline mission
108d7fa024 AP_Logger: added logging of extra loop time from the scheduler
79acaeaef1 AP_Scheduler: cope with high CPU load by stretching loop times
3d9f393f4b SITL: added SIM_LOOP_DELAY parameter
95bca05322 AP_HAL_ChibiOS: Only include MAVLink when using the MAVLink debugging
5000891a76 GCS_MAVLink: remove some unused includes
1c187d8feb AP_NavEKF3: correct return of empty prearm string
3619856fc9 AP_NavEKF2: correct return of empty prearm string
398f427830 AP_Proximity: fix rangefinder backends cm to m conversion
f3eaf9ee6e Tools: autotest: more coverage out of the dataflash-over-mavlink tests
1f25b6e406 Tools: autotest: add test for SITL implementation of Block backend
5e6b6ee0e0 Sub: remove stale enum entries for log message types
5730808778 Plane: remove stale enum entries for log message types
9b398e8765 Copter: remove stale enum entries for log message types
37293b1cf4 Rover: remove stale defines for log message types
0031deb175 Copter: correct abs vs fabsf usage in Attitude
9cd30083a4 AC_AutoTune: correct abs to fabsf for roll_cd and pitch_cd
d32a7b3a29 Sub: wrap_180_cd no longer returns floats for integer arguments
8ee411e998 AP_L1_Control: wrap_180_cd no longer solely returns floats
7fbaea7971 APM_Control: wrap_180_cd no longer solely returns floats
a1ce8dafb0 Copter: wrap_180_cd no longer returns floats for integer arguments
5692f3d79e AP_Math: stop returning float for integer wrap_180/wrap_360 etc
84d999142f AP_Math: add more tests for wrap functions
cefd30a086 travis: run balancebot tests as part of CI
61e05ce881 Autotest: ATC_SPEED params for Balance Bot tweaked for better stability
38c9763d48 Autotest: GPS disable test skipped when AHRS_EKF_TYPE is 10
c449be3afb Autotest: Balance Bot changes to Acro after Auto mission instead of Loiter
f86a712a14 Sub: default RNGFNDR1_TYPE to mavlink
8736a13a87 Tools: autotest: fix for Plane receiver health test
cba03da59a Copter: version to 4.0.0-dev
981b2b1d50 Rover: version to 4.0.0-dev
bce5154b2d Copter: compassmot and motor_test set_soft_armed
1a7284ca73 Tools: autotest: add test for spline-as-last-waypoint
56de1f2eed AC_WPNav: do not calculate NEU vector from invalid location
5c43b18672 Plane: fixed height_above_ground() for case when rangefinder is below min
34b0967d09 Plane: prevent fwd motor from spinning up on ground in quadplane landing
819d1b5246 AP_Common: Include altitude in the init check for a location
9eb6c1be64 AP_GPS: use jitter correction on GPS_INPUT data
192b275837 Tools: Replay: add dummy AP::advancedfailsafe method
6deac0fa42 Sub: implement dummy afs singleton getting to avoid linking AFS
8deec7b60f Tracker: implement dummy afs singleton getting to avoid linking AFS
bba019abc2 Tools: autotest: add basic tests for AP_AdvancedFailsafe
2f60b230cd GCS_MAVLink: use singleton to get AP_AdvancedFailsafe pointer
9f8553d422 AP_AdvancedFailSafe: add singleton getter
a761cb62de Plane: remove get_advanced_failsafe override; singleton to be used
1b29cf14a6 Copter: remove get_advanced_failsafe override; singleton to be used
0d7db0bbfe Rover: remove get_advanced_failsafe override; singleton to be used
57dc253be8 AP_OSD: Add autoranging to current and speed displays
0e4366d540 Sub: improve motor test message
db6beb913d Sub: force cam pan and tilt inputs to channels 7 and 8
8b92df51db Plane: updated release notes for 4.0.0beta1
84b035692f Tools: added --no-bl option to configure_all.py
3c058851b2 HAL_ChibiOS: fixed undef for define lines
ab5868c0fa Tools: added CubeBlack+ to autobuild
7b398d5336 Tools: added CubeBlack+ bootloader
255e769171 HAL_ChibiOS: fixed IMU order and board ID for CubeBlack+
e82da992c9 HAL_ChibiOS: hwdef: add hwdef for CubeBlack+
ee6f912217 AP_BoardConfig: add support for CubeBlackPlus
6572700baa Plane: fixed an issue with landing on rising ground
36ba3a6e4c Tools: autotest: add test for follow mode
929426abf8 Plane: update release notes for 3.9.11
f86a7d347d Revert "AP_HAL_SITL: set initial PWM values to a flag value"
4a35e8ee74 Tools: autotest: skip MIS_TOTAL parameter test on Tracker
b4537bebd8 Copter: move control_mode_t into being Mode::Number enum class
6193d6cf69 AP_Compass: fix example by instantiating Baro
23d4473f88 Copter: tradheli-properly upgrade rsc parameters
6074b1b7c9 Tools: add RPM to units list
e91402aeb6 AP_Motors: tradheli-make all RSC params part of library
1735563bb7 AP_HAL_SITL: set initial PWM values to a flag value
8da978b913 GCS_MAVLink: use sending_mavlink1 method in send_rc_channels_raw
5dad0e5410 AP_HAL: a few more simple tests for snprintf
f881e4a248 Tools: autobuild skyviper-journey
6c6a7cc675 Tools: removed old SkyViper-F412 defaults file
28cca004f2 HAL_ChibiOS: added default params for skyviper-journey
1dca0a16f5 HAL_ChibiOS: rename skyviper-f412 to skyviper-journey
dcbbc86f34 AP_Radio: added support for Skyviper 2018 model radios
375510ecc2 SITL: adding wind simulation in Webots
bfb7e3af3b SITL: sending wind data to Webots controller
8bb6a67b36 GCS_MAVLink: refuse set of read-only parameters
6573857a90 AP_Param: support @READONLY marker in param files
1818360519 Copter: land mode inits auto yaw
7751352a86 Plane: implement VTOL landing for AFS termination
4a6fdc00c9 AP_AdvancedFailsafe: added AFS_MAX_RANGE option
788e7a840c Plane: default angle_boost to disabled for tailsitters
d9e3a01e57 Tools: fixed vsnprintf assumption in AP_Bootloader
bc0b9337a0 AP_Periph: fixed vsnprintf return assumption
6af9d55e70 AP_OSD: fixed vsnprintf return assumption
98c2606c0a GCS_MAVLink: fixed assumption on return of snprintf
412bf24b9a AP_HAL: add gtests for snprintf
54b9524c0b AP_RangeFinder: make LightWare I2C native work with more hw versions
8a20d37799 Copter: zigzag smoother stops on terrain failure
8e385d7453 AP_InertialSensor: correct formatting
6f3be90147 Filter: Alter Notch filter formula to remove /0 and allow perfect notch.
9b9fb0d593 Filter: sanity check the harmonic notch sample rate on initialization. do not allow harmonics to go above the nyquist frequency
5b7f9f6bea AP_InertialSensor: while sensors are converging update the filters sample rates. if gyro filtering produces invalid output, keep the previous value
bc5916ebc9 Filter: comment on reserved config. cope with notch allocation failure.
a9a7fe3ea5 AP_InertialSensor: ensure harmonic notch gets appropriate defaults
3261677e01 AP_InertialSensor: remove _ prefix from methods. use changed filter methods.
334ebadd5a Filter: add comments and address review comments for harmonic notch
6ddaf81439 Copter: param conversion for INS_NOTCH_FREQ and BW
50f7e50634 AP_InertialSensor: add harmonic notch filter to gyro filter chain
366bc06089 Filter: New HarmonicNotchFilter
fae2e44eac AP_NavEKF3: reset inhibitMagStates on in-flight yaw reset
71ad90819e AP_Compass: don't reset SITL compass offsets if set by user
10675ab5c4 AP_HAL: correct include ordering in srxl.h
4197fdeb2a AP_HAL: fixed bug in vsnprintf()
b724608f03 Plane: update release notes for 3.9.11
102a231c3f AP_WindVane: rename abs to true wind
412be730e4 Rover: rename abs to true wind
5147b607c0 SITL: Correct Airsim params
246bfcf4a1 AP_Common: expanding array checks memory before allocating
db6896d414 Tools: autotest: add Calvert Radio Aero Modeller's Society location
6352e10811 Tools: scripts: build_ci.sh: understand env CI_BUILD_DEBUG
15308af230 AP_HAL_SITL: avoid lockstep scheduling issue with semaphores
dde6dec145 AP_InertialSensor: correct reboot documentation for batch logger and filters
0e1a2efb7c EKF3: RNG_USE_HGT param only used when ALT_SOURCE = rangefinder
94a52b3525 EKF2: RNG_USE_HGT param only used when ALT_SOURCE = rangefinder
00247e9d6a Tools: added name to GIT_Success.txt
728e790873 AP_Periph: added README for AP_Periph development
42d72cfd66 AP_Periph: re-init LEDs at 1Hz
dec72302f2 AP_Periph: added a rainbow pattern on startup of CUAV_GPS
a4b3467dad Tools: update CUAV_GPS bootloader
a42560ea27 AP_Bootloader: fixed CAN stay in bootloader functionality
b33afde884 HAL_ChibiOS: allow safety button on CUAV_GPS to be used for "stay in bootloader"
c6a9f067e2 HAL_ChibiOS: enable LEDs on CUAV_GPS
8a689b2cd1 AP_Periph: support neopixel LEDs on CAN GPS
3dfe15443d HAL_ChibiOS: fixed orientation of CUAV_GPS compass
21cce1385a AP_UAVCAN: support safety buttons on UAVCAN
03c1a8bfd9 HAL_ChibiOS: use safety button logic from AP_BoardConfig
5a96e374ba AP_BoardConfig: moved logic for safety button press to AP_BoardConfig
82a98ef95d AP_Notify: added NTZ_BUZZ_VOLUME parameter
5ee66ab6a8 AP_Periph: added BUZZER_VOLUME parameter
01fc8dcb3c AP_Periph: support safety button
39f4f7c208 AP_UAVCAN: added safety LED and button messages
0ea67943b9 HAL_ChibiOS: enable safety button on CUAV_GPS
c6c1c4bc31 AP_UAVCAN: support safety LEDs on UAVCAN
186eedf838 HAL_ChibiOS: enable safety LED
0b6ef89498 AP_Periph: support SafetyState for safety LED
75696997cc HAL_ChibiOS: added buzzer support to CUAV_GPS
a469b93d23 AP_Periph: support UAVCAN buzzers
7c57546eb1 AP_Notify: support UAVCAN buzzers
d55f76c88e AP_UAVCAN: added buzzer support
f84dac85ea Copter: tradheli-dualheli swashplate type upgrade conversion fix
a849aab4c7 Copter: tradheli-singleheli swashplate type upgrade conversion fix
8fc55b9678 GCS_MAVLink: remove comm_get_available
4f22dff14d Plane: Add an airspeed limit for quadplane takeoffs
77afcf6a1b Plane: Abort takeoffs that take to long to complete
cbe0af2463 HAL_ChibiOS: setup for LEDs on KakuteF4
a4924e1c0b AP_Notify: allow setting of LED count in hwdef.dat
28b5f2b021 AP_Notify: simplify NeoPixel driver
f441223b55 HAL_ChibiOS: implement updated NeoPixel API
1cb608a9f4 AP_HAL: allow neopixel LEDs to be set more flexibly
aa602b5e1b AP_Notify: add NeoPixel driver
e3416b66dc AP_HAL_ChibiOS: add Neopixel output type, similar to dshot
52be3903c0 SRV_Channel: add neopixel as an output type
45a76fe7fc waf: add -Werror=format-extra-args to cxx flags
aba4a1fdc8 AC_Avoidance: remove OADatabase check that can never be true
0dd8525c99 AP_HAL_SITL: resolve compiler warning in sitl_airspeed by using fabsf
2d128e0079 AP_Proximity: remove unused var from AriSimSITL
d4b047fc1f SITL: Gripper_EPM compiler warning resolved by using float and fabsf
1fd7618238 SITL: remove unused time_diff member
9a7d64e8fc AP_NavEKF3: Allow the GPS to be responsible for logging
a4d10b2e86 AP_NavEKF2: Allow the GPS to be responsible for logging
f857eb4640 AP_GPS: Take responsibility for logging the GPS if the EKF wants logging
7178655cbe Plane: fixed landing after VTOL loiters
cf58f68e49 Plane: Rearrange header to save flash
b92473111c AP_LeakDetector: Mark Leak pins RebootRequired
6f3334b460 AP_Filesystem: build fixes for SITL on macOS
91e8752c17 HAL_ChibiOS: wrap more libc functions
c90b937972 waf: wrap more libc functions
c2b06a3293 waf: wrap vsnprintf
3166f84954 HAL_ChibiOS: added vsnprintf wrapper
e9960067c6 modules: uavcan: replace unsupported %llu format string
da2e00dd6f Tools: autotest: fix race conditions in arm_vehicle and disarm_vehicle
ba3cfbfb54 AP_RTC: Don't allow RTC times before 2019
ba3f95ad20 Tools: autotest: add timeout parameter to detect_and_handle_reboot
aa20be4270 AP_RCProtocol: fixed SUMD with 16 channels
df387dc396 AP_Compass: allow rotation of BMM150 compass
1cb775e2c2 AP_Compass: probe more addresses for IST8310
1edd1034f9 Tools: update for amovlab-p200 default params
9e46581d5d travis: poke ptrace_scope so we get stack dumps on FPE/segv etc
a648e7e695 Tools: add default params for amovlab p200 reference frame
5e5c30efe8 HAL_SITL: allow SITL to use SERIALn_PROTOCOL=23
c8de2ec9c7 AP_RCProtocol: added update() method for use by SITL
4b48e80c26 AP_SerialManager: fixed AP_Periph build
83872c23e5 HAL_ChibiOS: fixed AP_Periph build
fd80220d3e HAL_ChibiOS: setup PH4-mini RCIN port by default
54649a0e4f HAL_ChibiOS: fixed KakuteF4 define for SERIAL2
06b272705e HAL_ChibiOS: run RCIN thread at 1kHz
6983186210 AP_HAL: added get_options() method on UARTs
c841b39ea2 HAL_ChibiOS: switch to AP::RC() for AP_RCProtocol
bf2cf7834d HAL_ChibiOS: fixed a bug in parity/stop-bit setting on STM32F7 and H7
312018898f HAL_Linux: use AP::RC()
672d09c965 AP_IOMCU: use AP::RC() for AP_RCProtocol
cbdb23afb5 AP_SerialManager: support SERIALn_PROTOCOL=23 for RC input
2b856abdd1 AP_RCProtocol: support an additional uart on RC input
ad2890dc5a HAL_ChibiOS: added connector pinouts for PH4-mini
b72dcf6478 AP_Filesystem: use a recursive semaphore
7afd51d03e AP_Frsky_Telem: move FrSky handling to it's own thread
fb38db6640 AP_AHRS: resolve compile warning in AP_AHRS_DCM::use_compass
b344946300 HAL_ChibiOS: prevent duplicate sensors in hwdef.dat
2c5c8106a5 HAL_ChibiOS: removed duplicate barometer from fmuv5
948d606694 Plane: remove ineffective DEVO_TELEM_ENABLED
e497b13b4a Copter: remove ineffective DEVO_TELEM_ENABLED
0aed55b272 Rover: remove ineffective DEVO_TELEM_ENABLED
df5921a87c GCS_MAVLink: gate AP_DEVO_Telem behind !HAL_MINIMIZE_FEATURES
708ee47c03 HAL_ChibiOS: fixed f103 rm3100
c2c8702329 HAL_ChibiOS: convert remaining boards to use COMPASS specifier
3aa01448ff HAL_ChibiOS: use COMPASS specifier for f103-periph
f18a18c0ee AP_Baro: use GET_I2C_DEVICE() for i2c probes
2bc7db4cca AP_HAL: removed old HAL_COMPASS_ defines (no longer used)
bd0760f9d4 AP_Compass: removed unusued compass probes
43e011c7a8 AP_HAL: convert Linux compass specification to new probe list
3bc8522b54 AP_Compass: added ROTATION_NONE to probes
f877def909 AP_Compass: removed default rotations for compass probe
2a48241ebb AP_Compass: fixed naming of QMC5883L driver
316e7cf7e6 HAL_ChibiOS: fixed mini-pix compass and baro probing
2509b50852 AP_Baro: define GET_I2C_DEVICE()
15e15e0b9d AP_InertialSensor: define GET_I2C_DEVICE()
beca17c638 HAL_ChibiOS: use GET_I2C_DEVICE() for i2c probing
e19f0ef238 AP_HAL_ChibiOS: Remove set_stop_pin from AnalogSource
75b241622f AP_HAL_Empty: Remove set_stop_pin from AnalogSource
979a431e4a AP_HAL_Linux: Remove set_stop_pin from AnalogSource
69d3e97533 AP_HAL_SITL: Remove set_stop_pin from AnalogSource
c12652b325 AP_Rangefinder: Remove stop pin usage
6c22faa585 Tools: Replay: correct compilation (missing override keywords)
927a0521e3 AP_HAL: Remove the empty force_safety_no_wait
e5eeb6181d GCS_MAVLink: Remove the usage of force_safety_no_wait
5711c2cbac AP_UAVCAN: Remove the usage of force_safety_no_wait
53860b53ac AP_BoardConfig: Remove the usage of force_safety_no_wait
b40c20aea2 Tools: update hexsoon edu450 params
a74f00d045 GCS_MAVLink: Remove single use method
8adc6ba3ad AP_Notify: Add an alternate LED scheme
c09d6908ed Enabled active buzzer output on OmnibusNanoV6
7ea449076f AP_NavEKF3: use timing logging from AP_NavEKF
c8fac758ee AP_NavEKF2: use timing logging from AP_NavEKF
6d71ef5cf8 AP_Logger: move EKF timing logging out to EKF
9e0f525f69 AP_NavEKF: move logging in from AP_Logger
2273ffb267 waf: build in libraries/AP_NavEKF
ab7b4616ff Copter: let GCS base class handle fence sys_status bits
9da0efaaef GCS_MAVLink: fill SYS_STATUS bits from AC_Fence
9c900c7176 AP_RangeFinder: added driver for Lanbao CM8JL65
b12f620233 Plane: fix format string warnings
e1b982c99c Copter: RC_Channel: remove fence
2f3c0447eb RC_Channel: add fence and value for rover
b61edd5a96 Rover: remove duplicate parameter comments
172c802ffa AP_RangeFinder: support native I2C protocol on LightWare Lidars
ff72c15004 Tools: alphabetise sailboat SITL parm defaults
058867b12f Tools: update sailboat SITL parm defaults
abe04db372 Rover: RC_Channel uses sailboat::set_motor_state
488ae65e8f Rover: rework sailboats with motoring
e023400fda Rover: rename nav_enabled to tack_enabled
bf7432cf2e Rover: fix sailboat NO_GO_ANGLE param description
79feb4edb8 Rover: sailboat class formatting fixes
4ae62a2983 Rover: shorten sailboat tacking timeout to 5sec
baadc50c19 Tools: autotest update sailboat default params
54f3173c7c Rover: RC_Channel add sailboat motor aux functions
fdb6da0793 RC_Channel: define sailboat mainsail and motor input channels
3308a84acc Rover: sailboat add motor-sailing
3dd0ebaf0d AP_WindVane: add wind_speed_enabled method
27286b659b Plane: servos: update dspoiler auto trim
6206d214b8 Tools: build-with-disabled-features: flake8 compliance
8ae9b8cc95 Tools: build-with-disabled-features: check on stm32 board
0e153313eb Tools: fixed GPS pos error in Vicon script
ca5ee2bfbc AP_Param: correct fetching of flags for parameters
108f37c67c Tools: autotest: ensure we can set parameters in groups with internal flag set
c45db920ff Tools: added name to GIT_Success.txt
bcb139f02f AP_Compass: fixed uninitialised CAN device ID bits
1dc57c84c4 AP_Periph : CAN
49b0d46612 Tools: param file for Hexsoon EDU450
fba072e5fc Tools: autotest; python3 fixes
80bbadf9ca SITL: AirSim: Store last timestamp only
86a70e5797 SITL: Remove redundant timestep in Airsim backend
c056548f0d SITL: Enable Arming Checks in airsim-copter params
eecdf56c3b Tracker: Rename AntennaTracker.cpp to Tracker.cpp
7ca6fd928e Replay: Included needed headers directly
fa6e43be77 AP_Logger: Forward declare AHRS
fe279b03b6 SITL: Directly include needed headers
c85c9faa6d GCS_MAVLink: Directly include needed headers
1a5627ae54 AP_VisualOdom: Directly include needed headers
04863f858d AP_Terrain: Directly include needed headers
17cec7cf2b AP_Landing: Directly include needed headers
ca0dad9a7f AP_GPS: Directly include needed headers
5d888abfec AP_Baro: Directly include needed headers
d8bce8295e AP_Arming: Directly include needed headers
78af091869 AP_Logger: log parameter space used as part of log open
b493805fb4 AP_Param: methods to provide amount of parameter space used
4ef64261a1 Sub: mount uses AP_SerialManager singleton
32a71d2d5a Plane: mount uses AP_SerialManager singleton
a9ffe902f0 Copter: mount uses AP_SerialManager singleton
b17b668fff Rover: mount uses AP_SerialManager singleton
2d1357b44c AP_Mount: stop passing serial manager through to init()
6cecf15e6a AP_Baro: remove unused baro probe lines
7fa6eeaaed AP_HAL: remove unused HAL_BARO_ defines
9d94598235 AP_HAL: convert linux boards to use baro probe list
72494788f7 HAL_ChibiOS: convert more boards to use BARO specifier
60a6f1b04a AP_HAL: removed most HAL_INS_* defines
1c92ecc89f AP_InertialSensor: removed old method of specifying most IMUs
0667747506 HAL_ChibiOS: convert some more boards to new IMU specifiers
96180018fb AP_HAL: convert HAL_Linux to use HAL_INS_PROBE_LIST
d7abd636ac AP_HAL_SITL: Fix build with --sitl-flash-storage option
dcd9003831 Revert "AP_Mission: Better AUTO watchdog restore"
5ce4ff916e HAL_ChibiOS: fixed Pixhawk1 gyro orientation
c99923d500 AP_InertialSensor: require gyro orientations in LSM9DS probe
291e2e3af6 waf: squash expansion-to-defined warnings
d40835c666 AP_Logger: use AP::FS().set_mtime()
b489e8a655 AP_Filesystem: added set_mtime() call
da15fb988c waf: add a lot more wrapped functions
0ffe2e75be HAL_ChibiOS: fixed warnings
df4cb00970 AP_Logger: added LOG_FILE_TIMEOUT parameter
b577787f68 AP_Scripting: use AP_Filesystem API
667b4e045a AP_Logger: convert to use AP_Filesystem
fb50ec2a1d AP_Notify: convert to use AP_Filesystem
d160f14856 AP_UAVCAN: convert to use AP_Filesystem
a4860afd32 AP_Terrain: convert to use AP_Filesystem
a4258639c8 AP_Proximity: use strtol instead of sscanf
9d760a2956 HAL_ChibiOS: disable re-entrancy in FATFS
bf79b65e07 HAL_ChibiOS: simplify stubs code
d1565a96c5 HAL_ChibiOS: wrap cacheBuffer functions
b867ef35c0 HAL_ChibiOS: use AP_Filesystem API
abe53e1c9e waf: build AP_Filesystem
692abb11fa AP_Filesystem: define new filesystem API
7fdc9fef12 AP_Scripting: Garbage collect after each run of a script
1484a12f4b AP_HAL_Linux: Fix bad check order on heap_realloc
2d40250f9b AP_HAL_SITL: Fix bad check order on heap_realloc
b30f3697d2 HAL_ChibiOS: fixed build without ISR limit
97c56c068e HAL_ChibiOS: update board IDs for AP_Periph firmwares
63f39c2bd6 HAL_ChibiOS: fixed build of iomcu firmware
ee4acb44db CI: exclude libcanard from flake8 tests
99bcab955b CI: added peripheral build to travis
11a1dfb869 Tools: added peripheral bootloaders
444af9e638 AP_BoardConfig: fixed AP_Periph build error
e8e18959f7 AP_Baro: fixed baro build with AP_Periph
a19e55e83c AP_Baro: added BMP388 driver
64921b64f5 HAL_ChibiOS: enable sensors in peripheral firmwares
fa76d1fbe6 HAL_ChibiOS: disable watchdog save in bootloader
5cbe85ee19 HAL_ChibiOS: allow for ADC and clock overrides
dc89d10ccf HAL_ChibiOS: added hwdef.dat for CUAV_GPS
c8806acaf5 HAL_ChibiOS: use AP_PERIPH env var
cbc83d68cd HAL_ChibiOS: allow for CAN enable override on F4
fb68fa8bc9 HAL_ChibiOS: fixed typo for 512k F4 parts
e51a1a88df HAL_ChibiOS: initial hwdef-bl.dat for CUAV CAN GPS
66ab585a24 HAL_ChibiOS: setup defaults for CAN app versions
d711bed405 HAL_ChibiOS: set default node ID of 117
ababe1e81d HAL_ChibiOS: disable UART support in f103-periph bootloader
2facfe0baa HAL_ChibiOS: support empty UART_ORDER
f4576ec8f3 AP_Compass: reduce firmware size for AP_Periph
0ec3f80bbe AP_Compass: enable LIS3MDL on I2C and RM3100 on SPI
29fe4241a8 waf: use C11 for C files
d57ba14020 AP_Periph: added peripheral firmware
93e27cfcab waf: support AP_Periph build
9a7b52fd15 HAL_ChibiOS: added hwdef.dat for f103-periph
16bdaaa1af HAL_ChibiOS: added support for STM31F10x for AP_Periph
24e05e96e7 AP_HAL: define support for LIS3MDL_I2C and RM3100_SPI
01472aa795 AP_FlashStorage: added support for STM32F1xx
0e993dfb1a git: added libcanard submodule
3bc5458a82 AP_Bootloader: added CAN support for AP_Periph
291d72601b AP_GPS: enabled reduced size for AP_Periph support
f897eae89d AP_Param: enable reduced size support for AP_Periph
88fbbfba09 AP_Vehicle: added AP_Periph vehicle type
d005f066a9 StorageManager: enable use of a single storage region
1e66457755 AP_Scripting: Allow the bindings to descirbe any build dependencies needed
0ce3cd06b0 Copter: fix compilation when drift mode is disabled
c5333c2765 Sub: fix format-string compilation warning
5d9b332bcb GCS_MAVLink: log exectuted COMMAND_LONG and COMMAND_INT packets
631725f817 AP_Logger: add Write_Command for writing out received mavlink commands
5010de9560 AP_Notify: add static asserts for array size
ee3fcf49c6 AP_BattMonitor: Detect bad configuration of failsafes
e47f97c5d3 AP_HAL: Fix bad buffer termination
4954c190da Tools: autotest: add test for short failsafe triggering via low-throttle
ec911710c9 hwdef: Enable Spektrum 3.3V VDD Power on fmuv5
56e35e0712 AP_HAL_ChibiOS: Remove almost redundant code duplication from the HAL
6de85c4627 Tools: fixed autotest for throttle failsafe
296ce5a409 Plane: fixed throttle failsafe for FS_SHORT_ACTN=3
66dc36ef88 AP_Logger: ifdef out _need_rtc_update
4418495c99 AP_Logger: use UNUSED_RESULT
8e58cb993d AP_Logger: fix timestamp on log files opened before GPS lock
ffe0f338d3 HAL_ChibiOS: enable utime() API
1a8e644437 AP_Logger: GPA/GPA2 Change the unit of DELTA.
0ccd2fb273 Plane: update release notes for 3.9.10
687f2a3da4 Tools: fixed apj_tool for python3
4ca48f225d SITL: send vicon data at 70ms intervals
cfc37f2089 GCS_MAVLink: log corrected timestamp for vision data
414d3eb670 AP_NavEKF2: don't fuse GPS when EK2_GPS_TYPE=3
fee3136b44 AP_Baro: Fix floating point exception with watchdog reset
00c111651a ChiBios: Omnibusf4pro hwdef tweak to allow active or passive buzzer
7a0970e499 Tools: add bootloaders for CubeSolo
39b033253c Tools: do not ignore .bin and .hex files in bootloaders directory
813694894d Tools: waf: add warning if bootloader not found
aeb58cede1 HAL_ChibiOS: I2C timeout should be send+recv, not MAX(send,recv)
933fa3d553 ChibiOS: fixed ack of BTF on SMBus
4027d61e17 AP_Scheduler: log I2C ISR count
7d5c0e92ae AP_Logger: added logging of I2C ISR count
578e5dfdaa HAL_ChibiOS: add up i2c ISR count
9741ac0b64 AP_HAL: added I2C ISR count to PersistentData
4e6e758e89 gitignore: Add persistent.dat to .gitignore
d774bf3ea5 AP_Mission: Better AUTO watchdog restore
f8cfbb8062 HAL_ChibiOS: added ISR limit on I2C
b8602abdeb AP_InternalError: added error for i2c isr error
089e1c9082 ChibiOS: added STM32_I2C_ISR_LIMIT
2acc53ec17 GCS_MAVLink: break out of loop statement once we have a result
052e721622 GCS_MAVLink: tweak timings debug messages
d88e12b206 Rover: mode: use oa_wp_bearing_cd
db87285153 AR_WPNav: add oa_wp_bearing_cd function
c445362fae AR_WPNav: fix wp_bearing_cd calc
847f85a081 Plane: correct compilation with PARACHUTE==DISABLED
8b7fe2ac12 Copter: Acro_Balance update
4754710e60 RangeFinder: Change to coding style (NFC)
87a1efeb45 Copter: add assertion that guided is enabled if guided-nogps is enabled
f8f5e7f5ae Copter: correct compilation when guided mode is disabled
470a60f828 Plane: reset steering in MANUAL or when not stabilising
48f52655c1 Sub: Remove APM_Config.h
0b0d0e2f8e Plane: Remove APM_Config.h
580ee459be Tracker: Remove APM_Config.h
638d746911 Rover: Remove APM_Config.h
a0ba9986a2 Rover: correct compilation when AFS enabled
3c6b67349f Copter: correct build when AFS disabled
2049e86dda AP_Param: optionally return parameter flags in AP_Param::find(...)
70daf0010b AP_Param: add param flag bit indicating internal-use-only
9cf9497552 AP_Mission: mark MIS_TOTAL as internal-use-only
4f9d1ada33 GCS_MAVLink: deny setting MIS_TOTAL parameter
cce85cb418 Tools: autotest: add test for inability to set MIS_TOTAL
4e002b84c5 Sub: correct compilation when terrain is enabled
257152aa55 SITL: sailboat motor enabled only for sailboat-motor frame
0ce1ce9c4f SITL: minor format changes for sailboat
c0774e74e0 Copter: fix format-string compilation warning
984be44eea Tools: adjust reverse dependencies in build-with-disable-features.py
479b2c5e11 Tools: autotest: allow nav-delay-abstime to delay arbitrary time
1b36d64794 Plane: correct compilation with GEOFENCE_ENABLED==DISABLED
cd45f3a14c Tools: build_binaries.py: honour BUILDLOGS environment variable
592c7acc4c AP_RTC: add clarifying comment on get_time_utc
46c880089c AP_RTC: tighten types on get_system_clock_utc
4492c09b3b AP_HAL_SITL: Scheduler skip set stack on Cygwin
c0ffdd7efb gitignore: Ignore scripts and any stack traces
ea64077f77 Plane: Remove redundant protection
851ee24c99 AP_RangeFinder: Clarify the purpose of input registers
5239d86d13 AP_RPM: Added Arduino RPM Sensor Debug Tool
018e766a3f Sub: NAV_Delay variable timers to be all unsigned and labeled as _ms
0983a04d52 Copter: NAV_Delay variable timers to be all unsigned and labeled as _ms
1e41f7cc61 SITL: add Webots support and examples
42cbb370f9 Tools: add Pyramid location
c1c32ab615 AP_HAL_SITL: add Webots support
28b0b86487 Rover: resolve compiler warning for delay time
992016069a AP_InertialSensor: fixed watchdog on AHRS trim gyro wait
914e6c5497 AP_HAL_Linux: check return value of system command
5f2dd57cca AP_Radio: add missing override keywords
4b870d752f Copter: fix toy-mode build
56c0866d06 Rover: rename and tighten type on motor_test_seq
c153a2d891 Tools: autotest: add test for motor test
51070b39d9 Rover: motortest: pass a GCS_MAVLINK& in place of a channel
10770b5c7f Plane: update release notes for 3.9.10beta1
03c439f9ab GCS_MAVLink: make update_sensor_status_flags private
2768d229ed Plane: stop updating sensor status flags
b9a387ed9e Copter: stop updating sensor status flags
4fc57b1aa8 Rover: stop updating sensor status flags
8ef2046f7b AP_IOMCU: use blocking writes to uart
8080efbc6a HAL_ChibiOS: allow for blocking unbuffered uarts
a575b9a586 Tools: rebuilt IO firmware
454717cf6f AP_IOMCU: cleanup IO protocol and add logging
984542fa53 AP_IOMCU: fixed error handling for short packets
afc8a70ce4 HAL_ChibiOS: fixed a bug in wait_timeout() on UARTs
eb9e5df0dd Rover: resolve send_text compile warning
35c2406b17 AP_HAL_ChibiOS: add missing override keywords
e05047bb0b AP_Scripting: Remove unneeded function, add some more enums
a8fd04ddf9 AC_Avoidance: Dijkstra's returns oa-not-required if path has been completed
452be5fd94 AC_Avoidance: Dijkstra skips calcs if current loc is same as destination
bed21b43e1 AP_OAPathPlanner: minor fix to return original origin and dest upon failure
709c874d8b Copter: integrate AP_OAPathPlanner
aeb98c7555 AC_WPNav: integrate OAPathPlanner
6361a9a204 AC_WPNav: constify get_wp_destination
53f8aa2b92 AP_Landing: correct format string
83b7857349 AP_RTC: add example for RTC functions
ad9093251e SITL: Remove unused includes
4af8813014 AP_Proximity: Add license info in Airsim lidar backend
4e847342b1 SITL: Add license info in Airsim files
169013cae2 SITL: allow starting location to come from parameters
94d2ce13d2 AP_HAL_SITL: allow starting location to come from parameters
eb705dc88c Tools: autotest: do not pass location to SITL unless user-specified
24405f1b23 SITL: correct and add comment
f7b47679bb SITL: remove home_str from constructor
cdab58d598 AP_HAL_SITL: remove home_str from constructor
1b3e2e3c8b AP_HAL_Linux: add missing override keywords
a8a5ccf51b Tools: autotest: test that long fs triggers even if short fs disabled
e70ff1b30a AP_Mission: update NAV_DELAY comment that said wrong ID number
6c3ce521c7 Rover: add Auto_Stop state and use for Nav_Delay
1bb332382c Rover: add support for NAV_DELAY misison item
466681a94e Plane: factor out a handle_command_int_do_reposition
cfe4ec4d1f Plane: add nullptr check for mavlink channel 0
b860676f12 AP_Mission: examples: var_info is now in GCS_MAVLINK_Parameters
6c5b03dbb7 Tools: Replay: var_info is now in GCS_MAVLINK_Parameters
6af3149adc AP_Logger: examples: var_info is now in GCS_MAVLINK_Parameters
8c21a279ea AP_GPS: examples: var_info is now in GCS_MAVLINK_Parameters
c16504e33e AP_Baro: examples: var_info is now in GCS_MAVLINK_Parameters
9197ebc3b2 AP_Airspeed: examples: var_info is now in GCS_MAVLINK_Parameters
98eca63201 AP_AHRS: var_info is now in GCS_MAVLINK_Parameters
190f716c43 Rover: avoid allocate a GCS_MAVLINK per mavlink channel
ab9614a3de Tracker: avoid allocate a GCS_MAVLINK per mavlink channel
45af50f8bd Sub: avoid allocate a GCS_MAVLINK per mavlink channel
48a1b2f436 Copter: avoid allocate a GCS_MAVLINK per mavlink channel
7e5a6f1895 Plane: avoid allocate a GCS_MAVLINK per mavlink channel
74670a77be GCS_MAVLink: avoid allocating a GCS_MAVLINK per mavlink channel
b070945319 uavcan: reference commit adding overrides to many methods
13c22c667d AP_UAVCAN: add missing override keywords
54b200a777 AP_HAL_ChibiOS: add missing uavcan-related override keywords
be173a9514 Tools: waf: stop adding -Wno-error=suggest-override for CAN boards
a3bde4f054 Copter: pre-arm check for ToshibaCAN ESC pwm range
973caf26f7 AP_ToshibaCAN: constify some local variables
fbf5ecfe8c AP_ToshibaCAN: ensure motors are off when vehicle is disarmed
ac237eea4b Tools: autotest: update sailboat default params and add sailboat-motor frame
4afcc9c289 SITL: sailboat allow motor sailing
20be080325 AP_Logger: correct example to add required override keywords
1574464543 waf: do not -Werror=suggest-override on uavcan-enabled boards
67bf00c1c3 GCS_MAVLink: ensure payload space before sending message ack
bb542ca39a GCS_MAVLink: queue AUTOPILOT_VERSION for sending instead of direct-send
5e40921b42 HAL_ChibiOS: fixed reboot hold in bootloader
e18174e4ac AP_Logger: correct use of uninitialised stack value
5d2f114947 AP_HAL_SITL: Add scrimmage simulator support
892ad11552 Tools: Add scrimmage simulator to sim_vehicle.py
92a9ab6c6d SITL: Add scrimmage simulator support
92dde5b111 Tools: Replay: move automatic declination setting into AP_Compass itself
03e6065380 Sub: move automatic declination setting into AP_Compass itself
20626a1fe1 Plane: move automatic declination setting into AP_Compass itself
4fa83ed40d Copter: move automatic declination setting into AP_Compass itself
2428487383 Tracker: move automatic declination setting into AP_Compass itself
9d54b4820f Rover: move automatic declination setting into AP_Compass itself
1adda1ccf0 AP_Compass: move automatic declination setting into AP_Compass itself
c339d18ee6 Tools: add -Werror=suggest-override for gcc
b61bfd663f Tools: autotest: wait for EKF to be happy after returning its GPS
6d6eb1f751 Tools: move coverage analysis into Tools/scripts/run-coverage
36387b5a21 waf: move coverage out into separate shell script
bd11c26495 mavlink: added yaw to GPS_INPUT msg
8d7262994b AP_GPS: support yaw in GPS_INPUT mavlink GPS
dbc1cd2b96 Tools: support GPS yaw in Vicon script
c7ca9c04f8 AP_Math: add comment to vector2f::point_on_segment
8912e2f98e Rover: simplify DEVO_TELEM_ENABLED definition
41f538e039 Copter: simplify DEVO_TELEM_ENABLED definition
a1a2733926 AC_Avoidance: reduce OA path planner look ahead and margin param defaults
a5ec64fc99 AC_Fence: tidy get_breach_distance
6a241cc3e9 AC_Fence: remove pointless sanity check
2bfc26621a AP_Arming: resolve check_failed compiler warning
bf0a947317 Tools: autotest: improve test diagnostics
2a3676003a SITL: sailboat add tide
90bf224e7f SITL: sailboat add wave simulation and parameters
4b331419e3 Tools: autotest: improve mission download diagnostics
9aa5cedd2a Tools: autotest: increase timeout on mission_item_int
472d98dcb7 Tools: autotest: wait longer for mission acks
57528b94cf GCS_MAVLink: allow complete() call on subclasses to fail
cfd7e05257 Tools: build_binaries.py: correct comment on common_boards call
066a382a3d Tools: build_binaries.py: add omnibusf4 to build target list
05a48928f8 Tools: autotest: assume Tracker has AP_Stats
e5ea748e7f Tracker: integrate AP_Stats library
d68e8f4cfb Tools: autotest: wait for any message on link before requesting mission count
1b533295a8 AR_AttitudeControl: minor comment fixes
65d8047165 AR_AttitudeControl: fix sailboat heel PID
d99c836360 Tracker: tidy compass offset saving
f896af6800 Tools: autotest: increase timeout waiting for MISSION_COUNT
1ef6204c1d Rover: add Randy to maintainer list comment
acf6cb8d75 Tools: autotest: rename clear_mission to clear_mission_using_mavproxy
bca35ac469 Tools: autotest: stop trying to arm Heli in throw mode
c0e8d319c6 Copter: make surface tracking adjust_climb_rate take a float
b0428f0fe8 Copter: make surface_tracking a class, various functions methods
6896b7b302 Tools: autotest: improve tests of MISSON_ITEM compatability layer
4b012ab62b GCS_MAVLink: deny upload of non-MISSION items if not doing mavlink2
4e95832433 GCS_MAVLink: send mission acks for bad MISSION_ITEM requests
afd623a6fa GCS_MAVLink: use send_message to send mission items
8fc6e16a4a GCS_MAVLink: fill missing seq and type fields in MISSION_ITEM
16503f7f25 Tools: autotest: add test for Plane reposition
b2d9d7b6a0 AP_Logger: const-struct many structures, use temp for navekf object
13aaf4375b Rover: remove Dodge avoidance
7fbe7de984 Tools: updated omnibus bootloaders
b6518b6b46 AP_HAL_ChiibOS: change omnibusf4 board type to be unique
0b1987ae36 AP_RangeFinder: Use common hexadecimal to character number conversion method
e4455491aa AP_GPS: Use common hexadecimal character to number conversion method
a39228c453 AP_Common: Make hexadecimal character number conversion method common
0dfb1e858c Tools: autotest: remove ineffective sub parameter
1a71519e17 AP_HAL_SITL: add missing header
bb13a75e30 Tools: check for feenableexcept on WAF
17c0cf8d5c AP_Common: check for feenableexcept on WAF
1b775c96f5 Plane: added rangefinder correction by terrain data
c8b547a8e4 Copter: tradheli-remove snprintf statements
fbf2b62300 AP_Motors: Tradheli - Make H3-120 swashplate the default
7ecc368d4f AP_Motors: tradheli - remove white space in param values
5eb5277f4c Copter: tradheli-converts swashplate to H3-120 on upgrade based on old params
488d1ab60a AC_Avoidance: replace Write_OA with Write_OABendyRuler and Write_OADijkstra
b666b172c4 AP_Logger: replace Write_OA with Write_OABendyRuler and Write_OADijkstra
f5a307fb13 AR_WPNav: add speed_min parameter
61ed6e07eb AP_NavEKF3: shorten EKF3 initialisation send-text string
cc742dbfc4 waf: make unused variables an error on C as well as C++ source files
0805547ba6 Tools: autotest: break out roundtrip_fencepoint_protocol method
44ccbcf78a Tools: autotest: rename send_clear_mission to clear_mission
12b9928a56 Tools: autotest: break out a load_fence function
6347febc9a Sub: pass format string through to check_failed
b7b67f523d Plane: pass format string through to check_failed
58adb8d7c4 Rover: pass format string through to check_failed
6f4167b85b Copter: pass format string through to check_failed
95b8c12454 AP_Arming: mark check_failed as taking a format string
cee7cce1ca autotest: update vision position test for new msg
9672dce335 SITL: switch vicon simulation to use VISION_POSITION_ESTIMATE
e474b7dcfe AP_BattMonitor: add PWM Fuel Level Sensor
46ad04aab7 AP_GPS: correct format string warnings in SBF driver
df01bed14f AP_Compass: take GCS link in place of channel to calibration routines
cf0b7cf016 GCS_MAVLink: pass link object in place of channel to compass cal
01a713a812 AP_RangeFinder: param desc rename from PX4-PWM to just PWM
6f57028c23 Plane: added release notes from 3.9.9
bd9120b725 SITL: Add script for multi-vehicle sim with AirSim
8e7ab23b4f SITL: Add RC support for Airsim
2954f2b4d0 SITL: Delete Airsim Readme
ad5d3cb9f1 SITL: Add Airsim quadx lidar params
8f1c9759b8 AP_Proximity: Add AirSimSITL lidar sensor
2d25971801 SITL: Add Lidar Sensor for Airsim
124d18228b Plane: Support seperate roll and pitch limits
7f5d6662b3 AC_AttitudeControl: Support seperate roll and pitch limits
036b47ec56 AP_Motors: Add seperate roll and pitch limits
a312249eea Tracker: bump development version number to 1.2.0
562f4ed1a3 Tools: added Vicon mavlink gateway script
142a4a105a Tracker: update release notes for Tracker-1.1 release
6d8a1bbe81 Copter: bypass compass healthy check when ext nav data is available for heading
fc9ff2b09a AP_NavEKF2: add method to check if ext nav is used for yaw
916de076ec AP_AHRS: add method to check if ext nav is used for yaw
a381502ad1 Rover: add ADSB message stream and send oadb objects
6d1362d569 AP_Proximity: allow MAV driver to accept negative increments and sanity check distances
b8dcdca909 AP_Proximity: add Object Avoidance Database, remove old Sector->Location converter
9ad6d14c16 AC_Avoidance: add Object Avoidance Database
2dba187d30 SITL: Morse scanner lidar to use larger MAVLink msg instead of raw data squeezed into 8 sectors
3f99def25a SITL: fix Morse simulator camera and changed default mission to indoor
c73a4fd227 RC_Channel: unify debounce code
6b1046f0ac AP_OSD: add primary airspeed item
71533c7c5c GCS_MAVLink: correct frame on rally mission items
a3b5ed442c waf: add -Werror=ignored-qualifiers
157da70cf7 Sub: fix compiler warnings on has_disarm_function
68edf6351d Sub: tighten type on mavlink_coordinate_frame_to_location_alt_frame
18de327e7f Copter: tighten type on mavlink_coordinate_frame_to_location_alt_frame
880e96448b GCS_MAVLink: tighten type on mavlink_coordinate_frame_to_location_alt_frame
428b790771 Tools: autotest: correct rally point upload tests
979a9fb679 GCS_MAVLink: ensure item being converted is a rally point
86c05aba8f Tools: added Durandal bootloader
e708446f4d Tools: rename Pixhawk6 to Durandal
4fca69c5e9 HAL_ChibiOS: renamed Pixhawk6 to Durandal
4f243aca02 AP_TECS: prevent rapid changing of pitch limits on landing approach
4fd3008b4e AP_TECS: log pitch limits
3c8ed3d8e1 AP_TECS: fixed flare pitch limits
d72ded4a9e AP_TECS: prevent numerical error with zero max throttle
587aa33617 AP_TECS: added TECS_OPTIONS
df0cc40bba AP_TECS: allow TECS_PITCH_MAX to be negative
be9c98db12 AP_GPS: ensure we have full timestamp before setting RTC clock
10e8e8e9cc AP_BoardConfig_CAN: fix bad get_slcan_serial method
c9567783e6 AP_Baro: use sensor_config_error on baro cal failure
5645709e50 AP_Baro: Rearrange the sensor struct
e1ce735886 AP_InertialSensor: special check for CubeBlack to force INS_USE3=1
6f58260d99 AP_Baro: check for all 1 ADC read on MS5611
0c314c36b6 AP_Logger: log baro health
a196c54db6 AP_Baro: consider a baro unhealthy when outside of -200 to 200 C
123800ccd2 AP_InertialSensor: default INS_USE3 to 1
c19e4f2147 AP_Mission: Refactor read_cmd_from_storage for clarity
be20f458bf Tools: sim_vehicle.py: sort vehicle type in help
0f6b8375bb AP_RangeFinder: added a 1.5 delay to probe of LW20 I2C
bcfdc91900 AP_BoardConfig: added BRD_BOOT_DELAY
05c608e725 Plane: use MAV_FRAME_GLOBAL instead of MAV_FRAME_GLOBAL_INT in send_position_target
5538800ad0 Copter: use MAV_FRAME_GLOBAL instead of MAV_FRAME_GLOBAL_INT in send_position_target
82cf8a93d0 Rover: use MAV_FRAME_GLOBAL instead of MAV_FRAME_GLOBAL_INT in send_position_target
20a20bde65 Plane: accept MAV_FRAME_GLOBAL for set_position and repositioning
e422f2b2fd Copter: mode_auto: retract the landing gear automatically
2572885159 AP_Param: flush() after converting parameters
c37398f6ff Sub: Convert ARMING_CHECK
599a1af5c1 Copter: Convert ARMING_CHECK
2d81ad63f5 Plane: Convert ARMING_CHECK
8d988de033 Rover: Convert ARMING_CHECK
4396540a22 AP_Arming: Add rangefinder checks
3202a2e0a6 AP_Rangefinder: Add arming checks
ce6fb75e52 Sub: Add keydump feature
ed2ae707f4 Copter: Add keydump feature
3e214e1f8b Plane: Add keydump feature
5dba9b0e48 Rover: Add keydump feature
f06251a07f AP_Param: Delay param dumps to avoid running out of buffer space
1677c11855 AP_Scripting: Cope with new AP_GPS::first_unconfigured_gps
4b2cb45ac0 AP_Arming: Cope with new AP_GPS::first_unconfigured_gps
d33006a2e7 AP_GPS: Refactor first_unconfigured_gps to return bool
11b9737b34 AP_AccelCal: remove wrapper around send_text
00cc4ace8a RC_Channel: resolve gcs::send_text compiler warning
84b502b0c4 AP_RangeFinder: resolve gcs::send_text compiler warning
6a154c4e4c AP_InertialSensor: resolve gcs::send_text compiler warning
f211a0e40c AP_RSSI: resolve gcs::send_text compiler warning
64637dba8f AP_GPS: resolve gcs::send_text compiler warning
767408ffe9 GCS_MAVLink: resolve gcs::send_text compiler warning
b3431685a8 AP_ADSB: resolve gcs::send_text compiler warning
a5c76b614e Rover: resolve send_text compiler warnings
480a3ebb03 AP_RangeFinder: LightwareSerial driver handles invalid distances
fc65e04ef2 AP_NavEKF3: fixed baro innovation gate when on ground with AIDING_NONE
098701ec79 AP_NavEKF2: fixed baro innovation gate when on ground with AIDING_NONE
8e095d4a81 Copter: avoid terrain failsafe from a single out-of-range rangefinder reading
67ff96d8de Copter: 3.6.10 release notes
0e9688a4e1 AP_Scripting: resolve gcs::send_text compiler warning
adcf9c4fa4 HAL_ChibiOS: added commented out baro on SPI5 for fmuv5
f840e6cd77 ChibiOS: added automatic reset of SPI peripherals on STM32
04944fa6ce AP_NavEKF3: review fixes
e7163afe06 AP_NavEKF2: review fixes
451fe840ee AP_NavEKF3: ensure that EKF origin stays in sync on all cores
c57b25b4c9 AP_NavEKF2: ensure that EKF origin stays in sync on all cores
0fcb2037e1 AP_NavEKF3: use origin lat for earth rates
a01faa2f00 AP_NavEKF2: use origin lat for earth rates
a3411efdb5 AP_NavEKF3: set origin on all cores
742ae0b750 AP_NavEKF2: set origin on all cores
3818d8ecda AP_NavEKF3: restrict setting of EKF origin
5db41147ed AP_NavEKF2: restrict setting of EKF origin
95bc52de8e AP_Logger: fix PRX distance scaling
98f578394f HAL_ChibiOS: default OTG2 protocol to mavlink2 on most boards
5e55aedd20 GCS_MAVLink: add printf-format attribute to send_text methods
678c11f048 AP_GPS: supply format string to send_text
65c46ac322 AP_AccelCal: supply format string to send_text
4c434c2df9 AP_Math: add WARN_IF_UNUSED to bool methods
4aa74c5c53 AP_Logger: Missing label change
2b3ced752b AP_Motors: fixed typo in MotorsMatrixTS update for FF
fb790cadda Tools: update parameter files after PID upgrade
ad4b6fdeae Sub: param conversion for attitude control FF and FILT
35a57d1156 Rover: param conversions for FF and FILT params
34da437266 Plane: support for upgrade to PID object
f128e93ec5 Copter: support for upgrade to PID object
d61aa7a4ce Tracker: support for upgrade to PID object
6f14673f08 APM_Control: support for upgrade to PID object
f913108efd AP_Winch: support for upgrade to PID object
3d831e4c04 AP_WheelEncoder: support for upgrade to PID object
c7196a4232 AC_AutoTune: support for upgrade to PID object
0bb9db5139 AP_Motors: add feedforward input to mixers
979b54b33e AC_PosControl: support update to PID object
30746267ec AC_AttitudeControl_Heli: support for updates to AC_PID library
bbe33e38f3 AC_AttitudeControl: support for upgrade to PID object
ee820258ad AC_HELI_PID: support for upgrade to PID object
ab0bdc9fe6 AC_PID: upgrade to PID object
94ee2fb2fd AP_Logger: add error to PID message
157f786adf Global: rename desired to target in PID info
d921285b9d Tools: update iofirmware
6469174a84 Tools: move to using separate firmwares for heater polarity values
cba98096e9 HAL_ChibiOS: move to using hardcoded heater PWM polarity in iofirmware
c07fe55b87 AP_IOMCU: remove autodetection of heater pin polarity, instead hardcode it
bab31a2d61 Rover: enable RC calibration checks
852f85ec10 AP_Scripting: Fix bad return types on is_nan, is_inf, is_zero
9e04939adf AP_Scripting: Protect send_text from reading the stack
81222fbde0 SITL: correct RC2_REV to RC2_REVERSED in comment
47e1733bc5 Tools: autotest: correct RC2_REV to RC2_REVERSED in comment
a89593856d AP_Logger: remove dangling print_mode method declaration
2bc3f8b5c9 Rover: remove dangling print_mode method declaration
1fbd41e6f3 Tools: autotest: add test for Rover SmartRTL
6fc22cd5a3 Tools: autotest: make rangefinder test more reliable
0bbe049477 GCS_MAVLink: assert max length of statustexts we send to the GCS
db9f7c3dd5 AP_NavEKF3: do logging for 3rd EKF core
1527a5b97c AP_NavEKF2: do logging for 3rd EKF core
359dd3f71c AP_Logger: add logging for 3rd instance of EKF core
6caa700c09 AP_Scripting: Add literal support to the binding layer
5d3cfcb59c AP_Arming: Add scripting method
692bf1c931 Rover: null check for unconfigured RCMAP_YAW which is not use don all vehicle types
c6f884221e Plane: Fix parameter description on values to not use the delimiter character
3b8ecc182c AP_RCMapper: Fix sub only documentation on channels
fbc719c113 Tools: Run parameter emitters
bd8d63dd3f Tools: Add edn_format to CI
eed19a9262 Copter: 3.6.10-rc2 release notes
eb433508f1 Copter: esc cal startup check moved outside rc output init
f79a3100d0 AP_Scripting: Add arming call, improve range check casting
bb7f80b452 AP_HAL_Linux: UARTDriver remove unused field and tabs
633eb11bfd AP_RCProtocol: IBUS remove unused field
c56acb49d6 Copter: Add missing Loiter initialisation lines.
ecb8a2ee24 Tools: move openocd to use stlink-v2
c173f8e24d AP_Airspeed: support both 5inH2O and 10inH2O versions of DLVR sensor
d1f80a841f AP_OSD_Screen: fix param descriptions
e45db32957 AP_Scripting: add AP_arming binding
c128c80d56 Tracker: add disarmed pwm param
7b31ae10c0 ChibiOS: fixed typo in I2C change
58b739db18 GCS_MAVLink: allow non-register device access with devop
75c5d6e1bf ChibiOS: fixed unexpected i2c interrupt in STOP state
e57228646e HAL_ChibiOS: added unused CS pins for fmuv5
c5c96c76ee AP_HAL: added logging of hardware fault information in watchdog
12dd33ac2b HAL_ChibiOS: added logging of hardware fault information in watchdog
6440069e7c SITL: include replace.h for AirSim to fix missing memrchr() on MacOS
0054544bd3 AP_Scripting: Add support for enums to be passed through
6e7367b86f AP_Scripting: Reduce lua stack usage
80bf2d6192 Tools: FilterTestTool - add missing information
15a326bade Copter: fixed can't enter esc calibration by RC.
9d6df7d542 Valgrind: add supressions file and .valgrindrc using it
10da6d553c Copter: improve OctaV roll factors
0e34d8b1ff Copter: PosHold fix for low brake_rate
93ca243987 GCS_MAVLink: rearrange mission item handling code
b7a748df88 Copter: auto's wp_start accepts terrain alts
ee079a50dc OSD: fixes missing param def for SATS_EN and typos
f3634450d7 Sub: Enforce configuration of a disarm button
210c2070a1 GCS_MAVLink: remove include of AP_Param.h in GCS_MAVLink.h
392a174e2e Tools: scripts: dumpstack: do not run any gdbinit scripts
78be1067a8 AC_AttitudeControl: Alt Hold init bug
deb3d6d8c3 OSD: Add panel parameter descriptions
825c027f95 SITL: Added initial Airsim QuadX parameter file
864f99f247 SITL: Added Readme for Airsim setup & usage
ffdf520a01 autotest: enable airsim SITL backend
4d1f4f3386 HAL_SITL: enable airsim SITL backend
ffbfdbf1df SITL: Added support for Airsim simulator
147a678569 ArduSub: pass mavlink_message_t by const reference
33e12a127c ArduPlane: pass mavlink_message_t by const reference
c330b87592 ArduCopter: pass mavlink_message_t by const reference
86406fdb02 APMrover2: pass mavlink_message_t by const reference
4180345fdc AntennaTracker: pass mavlink_message_t by const reference
b1506ca652 GCS_MAVLink: pass mavlink_message_t by const reference
9a734c1fc7 AP_VisualOdom: pass mavlink_message_t by const reference
82de3efc09 AP_Terrain: pass mavlink_message_t by const reference
c4ec373b20 AP_RangeFinder: pass mavlink_message_t by const reference
5b745aa1f1 AP_Proximity: pass mavlink_message_t by const reference
e7ae1b4fb6 AP_OpticalFlow: pass mavlink_message_t by const reference
ad4563df2d AP_Notify: pass mavlink_message_t by const reference
f3e40b4906 AP_Mount: pass mavlink_message_t by const reference
781e9ae9c1 AP_Logger: pass mavlink_message_t by const reference
13ac187fd8 AP_GPS: pass mavlink_message_t by const reference
09f0f34fe5 AP_Camera: pass mavlink_message_t by const reference
b67bab01f6 AP_BattMonitor: pass mavlink_message_t by const reference
78cd3cc722 AP_ADSB: pass mavlink_message_t by const reference
a44ed03a91 AP_AccelCal: pass mavlink_message_t by const reference
a9814d34c7 AC_PrecLand: pass mavlink_message_t by const reference
bf74cb4e99 AC_Fence: pass mavlink_message_t by const reference
1f9adf1f3b Tools: remove log module from default autotest modules
666e7b88d7 Tools: common: dynamicly load and unload log module as needed
b655197c95 Tools: common: unload dataflash_logger module after use
21fe1e54e5 Tools: unload relay module from autotest defaults
32f5d80689 Tools: rover: use do_set_relay
98d897e790 Tools: common: implement do_set_relay and do_set_relay_mavproxy
1f4a1cef70 Sub: correct LOIT parameter documentation prefix
22598b1a4b Plane: Reduce inerital nav dependence
13840337ec AP_InertialNav: Remove unneeded methods
bbcb976e73 Sub: Reduce dependency on inertial nav
e0d7b71e95 Copter: Reduce dependency on inertial nav
c6126ec720 AP_Avoidance: stop copying adsb vehicle onto stack in src_id_for_adsb_vehicle
0952ca0abc waf: remove NuttX-based IO firmware blob
c502ac4ce9 Tools: IO_Firmware: remove NuttX-based IO firmware blob
c4311b4af6 Tools: waf: add -Werror=delete-non-virtual-dtor
fa78987046 RC_Channel: Match output type and variable type
954e6a0c50 AP_RCProtocol: Match output type and variable type
88c681586f AP_Param: Match output type and variable type
2e4dda5ece AP_HAL: Match output type and variable type
b208b76884 Tools: autotest: add trivial test for receiving COLLISION message
459680e7c8 GCS_MAVLink: make Avoidance responsible for sending collision message
fd61bae0bd AP_Avoidance: take responsibility for sending collision message
289678cfc5 AP_Notify: play error tone if we have no microSD at boot
21d6f81a12 AP_SmartRTL: rangefinder no longer takes SerialManager in constructor
ca15a24433 AP_OpticalFlow: rangefinder no longer takes SerialManager in constructor
c3bf090815 AP_AHRS: rangefinder no longer takes SerialManager in constructor
070e9e56b3 Tools: rangefinder no longer takes SerialManager in constructor
c0993509f7 GCS_MAVLink: declare GCS_MAVLINK as a class as it hasn't been defined yet
90edc8b51a AP_ADSB: move include of AHRS to .cpp
11c5d7cfca Sub: RangeFinder uses AP_SerialManager singleton
7c88eb670c Plane: RangeFinder uses AP_SerialManager singleton
97bb846310 Copter: RangeFinder uses AP_SerialManager singleton
c14a4b5c2b Tracker: RangeFinder uses AP_SerialManager singleton
4e5696a13a Rover: RangeFinder uses AP_SerialManager singleton
ac96461c6c AP_RangeFinder: use AP_SerialManager singleton
38e303389b Plane: avoidance no longer takes ahrs in constructor
9412075b9c Copter: avoidance no longer takes ahrs in constructor
d7fd88bbca AP_Avoidance: stop taking reference to ahrs in constructor
f85bad752e RC_Channel: add both clear and reset options to Rover and Plane docs
aab787b08b RC_Channel: move mission reset in from Copter
4b51239920 Copter: move mission reset aux switch option to RC_Channel
84ba6e859c AP_OADijkstra: redo visgraphs if polyfence is changed
edc8401457 AP_Mount: remove pointless virtual declarations
2d5e4dcfa2 HAL_ChibiOS: fixed SemLine data in WDOG msg
da3602b90d AP_Logger: Log unknown battery values as out of band
ed584313bd AP_Scripting: Remove unneeded debug output, fix the index for singleton errors
b3c6d3d75a GCS_MAVLink: Refactor battery current interface
10410b696c AP_OSD: Refactor battery current interface
e3f1ef0c5e AP_Motors: Refactor battery current interface
ee3511c1fa AP_Logger: Refactor battery current interface
ea82d6ea4c AP_FrSkyTelem: Refactor battery current interface
58dbbd6d0e AP_Compass: Refactor battery current backend
b07d65c1f3 Copter: Refactor battery current monitoring
be25a703c0 AP_Scripting: Update battery interface
0a4e3a77b3 AP_BattMonitor: Refactor interface for fetching current related data
9d20a13cd4 Tools: reduce mavproxy memory usage on autotest
7e08d1e921 ChibiOS: added TIM11 support
bed92e8ca8 AP_HAL_ChibiOS: fix buzzer pin define on OMNIBUSF7V2
2f79639e36 HAL_ChibiOS: added support for MatekF765-Wing
1ffc2cbe41 AP_Airspeed: allow setting of default airspeed pin
585631a22d Tools: added MatekF765-Wing bootloader
05b55945fc Tools: auto-build F765-Wing
209a32b8b9 AP_NavEKF3: Fix bug in use of external 321 yaw to align
122f214416 AP_NavEKF3: Don't allow mag to interfere with use of external yaw sensor
b56914b879 AP_NavEKF3: use GPS yaw if available and enabled
0c4f92d4c1 AP_NavEKF3: Add control logic to use external yaw sensor
71d358803a AP_NavEKF3: Fix yaw sensor alignment status reporting
977a7b68ed AP_NavEKF3: Add push to buffer for external yaw sensor data
0a971c5181 AP_NavEKF3: Add function to reset yaw to external measurement
62575a194c AP_NavEKF3: Add data buffers for yaw sensor
87c7649d09 AP_NavEKF3: Add interface for yaw angle measurements
a2e75876bf AP_Logger: added logging of GPS yaw
64ed76326b AP_GPS: Adding support for the NMEA GPHDT sentence
fdcdbddecc AP_HAL_SITL: Send NMEA GPHDT sentence if enabled.
5c3afa2621 SITL: use AP_Math/definitions.h
2480a62e55 AP_Math: added speed/distance conversions
2ce7955614 SITL: Create gps_hdt_enabled varible for enable/disable HDT GPS sentence
d58783664d AP_Scripting: Update generator to not use readline
f7a20db304 Vagrant: add xenial64
f21fcca9d0 AC_WPNav: take references to inav's position rather than a copy
cabd6aec8f AP_HAL_ChibiOS: Correct the README.md for fmuv5 boards
bca411b2c4 AP_Arming: reduce length of internal errors errorstring prefix
2f0a4ff1ab HAL_ChibiOS: fixed build on boards with less than max uarts
1919268801 HAL_ChibiOS: added OTG2 on all F7 and H7 boards with CAN
02014776e8 HAL_ChibiOS: auto-set HAL_HAVE_DUAL_USB_CDC
4ff008b803 AP_SerialManager: added uartH support
ac7a67fda0 HAL_SITL: added uartH
019f441b2f HAL_Linux: added uartH
4e560a4ae5 HAL_Empty: added uartH
0075b96f3a HAL_ChibiOS: added uartH
bee487e9da AP_HAL: added uartH
c50912ed6a AP_HAL: define HAL_HAVE_DUAL_USB_CDC if not defined
7f297a43dc SerialManager: add support for SLCAN protocol as parameter
fe44384c95 BoardConfig_CAN: return serial port with switch between parameter and passthrough
eabb93f842 AP_Bootloader: change to using serusbcfg1
dcf17e5bc2 HAL_ChibiOS: hwdef: add support for dual cdc on CubeYellow and CubeOrange
2f0d1336e6 HAL_ChibiOS: add support for dual usd cdc
89484a8f64 AP_Beacon: Common modbus crc method
d7b2271197 AP_RangeFinder: Common modbus crc method
c5a471e778 AP_Math: Common modbus crc method
27e802eaa6 AP_Scripting: add AP_AHRS method get_roll, pitch, yaw
32e25d8b57 AP_AHRS: add accessor for roll, pitch and yaw
b65f5bf632 ChibiOS: hwdef revo-mini correct IMU rotation
bd50f288a1 Tools: autotest: get mavproxy to heartbeat at speedup rate
87e43d6e44 Tools: autotest: add option to disable breakpoints at sim startup
5987131958 Tools: update IO firmware for heater dither
d2fe47d2e0 HAL_ChibiOS: dither heater pins to prevent magnetic impact
76a8d494c3 AP_IOMCU: dither heater pin to prevent 1Hz impact on mags
77f8ec9f43 AP_Motors: formatting fixes
4321a987f2 Tools: fix the help message
ba1903708b Tool: fix the switch-to-uart function in TFMiniPlus script
5f37ed2bb8 Rover: rename APMrover2.cpp to Rover.cpp
43719d5e5d Rover: move contents of Rover.cpp to APMrover2.cpp
ef8baf28ad AP_Airspeed: clarify mavlink packet assembly is re-ordered field order
12cb09a3f4 Tools: factorize sitl rangefinder setup
daaf769055 Tools: add arm/disarm testing on all modes
b12cc57c64 HAL_ChibiOS: switched on fast sampling on IMU3 by default on hex cubes
634db441f8 AP_NavEKF3: origin handling fixes from Francisco
2427440e13 AP_NavEKF2: origin handling fixes from Francisco
3dfaa5f021 Sub: Changed the MAV_SEVERITY of the motor test timed out message to INFO so that it wont be read out loud everytime the user ends the motor test
eb9e65fd28 Copter: add GUIDED_NOGPS to failsafe checks
567ba799f1 Copter: rewrite gcs-failsafe check for clarity
6cb8fcc466 GCS_MAVLink: move use of AP_AHRS_NAVEKF_AVAILABLE into cpp file
9f33fb6085 AP_Terrain: add missing AP_AHRS include
00cfea03bc AP_Airspeed: add missing includes for AHRS
ec0a93ff9c AC_Avoidance: add missing includes for AP_AHRS
0af3ecca70 Sub: split RC_CHANNELS messages onto separate ap_message ids
37014bdfe1 Plane: split RC_CHANNELS messages onto separate ap_message ids
6435a867f5 Copter: split RC_CHANNELS messages onto separate ap_message ids
9910a44dcc Tracker: split RC_CHANNELS messages onto separate ap_message ids
a4a54dc0cd Rover: split RC_CHANNELS messages onto separate ap_message ids
1ebbe45fe1 GCS_MAVLink: split sending of RC_CHANNELS and RC_CHANNELS_RAW
41bddf682f AP_Camera: remove unused includes
9850d1afec Tools: update with flake8
a966c75deb SITL: remove unused forward declaration of AP_Logger
b7fa43e630 AP_Tuning: tidy includes
c0f25a96fb AP_TECS: move include of logger to .cpp file
ce4cdfd497 AP_SpdHgtControl: remove unused includes
a5ff46950c AP_Soaring: move include of logger to .cpp file
a037920de4 AP_Mount: tidy use of AP_Logger.h
cb692c6946 APM_Control: move logger include to .cpp
899db3d3ac Tools: autotest: add test for sensor config error loop
332e878bae Copter: correct nullptr dereference in sensor-config error loop
e01ea2f5f9 SITL: support a count of baros
c283bb968b AP_Baro: support 0 detected simulated baros
848a70acd4 AP_HAL_SITL: fix rebooting while in sensor config error loop
9afb334f0c Sub: stop passing relay and ahrs into camera constructor
e977fce3ad Copter: stop passing relay and ahrs into camera constructor
769e862807 Plane: stop passing relay and ahrs into camera constructor
98f637ba6c Rover: stop passing relay and ahrs into camera constructor
7c102b90fa AP_Logger: use singletons when logging camera information
01773d9025 AP_Camera: use singletons for relay and ahrs insead of storing references
05925b57ad Copter: mark position_ok methods as const
c8353c1c13 GCS_MAVLink: fill target system and target component in MISSION_ITEM responses
7b933ffd8a Tools: autotest: add test for mission_item download
e6b1fa507d Tools: autotest: rename get_mission_item_on_link to get_mission_item_int_on_link
3a5fc0149d gitignore: add way.txt for MAVPorxy waypoint missions
97d0298295 Tools: added mRoControlZeroF7 bootloader
001f276043 Tools: autotest: re-enable QAUTOTUNE test
5b5f582307 Tools: autotest: present stack traces on exceptions
6332d2e729 Tools: autotest: fix race condition with getting parameters
4d19d65047 Copter: 3.6.10-rc1 release notes
fe8d631964 AP_HAL_SITL: ensure termination of readlink-derived progname
3b0bd67afb HAL_ChibiOS: enable CAN on Pixhawk6
76ff347026 AP_UAVCAN: remove singleton interface from slcan_router
2f153a3577 HAL_ChibiOS: remove singleton interface from slcan_router
28288a7329 BoardConfig_CAN: remove singleton interface for slcan_router
7c00aa6477 modules: update ChibiOS
3e194903cc AP_UAVCAN: add Flow message to the sniffer test
67c925865c HAL_ChibiOS: add support for CAN on STM32H7 boards
1cd8e0e237 BoardConfig: set slcan can port to 0 as default
8de169b1ce waf: remove redundant src includes for libuavcan drivers
b123abbe90 AP_Notify: add SITL Notify display
cd2ec1f57f Copter: remove set_default_dead_zone statement with no effect
ebbd2b971b Copter: correct compilation under toymode
a61028c55d AP_HAL_ChibiOS: disable scripting if USE_FATFS=no
306783211b Tools: waf: understand DISABLE_SCRIPTING from the board configuration
6dd906f07f HAL_SITL: Integrating Silent Wings SITL with the sim_vehicle
3330b62d3c SITL: aded support for SilentWings simulator
bd3d352554 AC_Avoidance: remove comment from Dijkstra's
655ddd4ab3 AC_Avoidance: Dijkstra's ignores invalid polygon fences
614b0f6dc8 AP_Math: Polygon_intersects handles unclosed polygons
7441dcddfa Tools: updated IO firmware for IBUS support
bad5fb418d AP_RCProtocol: added ibus RX support to recieve channel data from ibus transmitters.
92783bccfa AP_NavEKF3: don't allow height datum reset when not on ground
e8d9a1fae9 AP_NavEKF2: don't allow height datum reset when not on ground
3f9e48951b AP_NavEKF3: set terrainState to zero on height datum reset
f5fd38aef2 AP_NavEKF2: set terrainState to zero on height datum reset
f3fc910abe AP_NavEKF3: continuously update gpsGoodToAlign
9372073f63 AP_NavEKF2: continuously update gpsGoodToAlign
b9a5794671 AP_NavEKF3: ensure that both AMSL and relative alt are correct after a reset
20ebb2500b AP_NavEKF2: ensure that both AMSL and relative alt are correct after a reset
ff08de033e Plane: fixed home reset alt bias
a38b030c41 RC_Channel: disable kill IMU with HAL_MINIMIZE_FEATURES
8e5c0fa32b AP_InertialSensor: disable kill IMUs with HAL_MINIMIZE_FEATURES
2208689893 AP_NavEKF3: don't use disabled gyros in opticalflow takeoff detection
ddef40fa3d AP_NavEKF2: don't use disabled gyros in opticalflow takeoff detection
a45e364252 AP_Mount: don't use disabled IMUs in solo gimbal code
3dd7e7e83a AP_AHRS: only use enabled IMUs in DCM
09d3392aee AP_InertialSensor: zero accumulators on time step
3444e82ef9 AP_InertialSensor: added RC switch for killing IMUs
30d27147a8 RC_Channel: added RC switch for killing IMUs
898150e460 HAL_ChibiOS: cope with calling delay_microseconds_boost() multiple times
053f0cb689 AP_InertialSensor: try much harder to get all IMU samples
209bca162c AP_NavEKF3: added inactive bias learning
1c4c5a6850 AP_NavEKF2: learn gyro biases for inactive gyros
aa18c75689 Plane: decay fw rate integrators when at low airspeed
05bd0cb9f4 APM_Control: added decay_I() function
ebe2278f5d Plane: reset rate controller integrators if not run for 2s
030eab0f86 AR_WPNav: stop vehicle if OA processing fails
951ded1f51 AP_OAPathPlanner: report errors to caller
104164d2e4 AP_Scripting: Tighten range checks on library calls
bb677756a0 Tools: Replay: EKF logging moved to AHRS from logger
ce45baa034 AP_NavEKF3: factor out and logging functions, reuse for 2nd core
6a0a466f42 AP_NavEKF2: factor out and logging functions, reuse for 2nd core
b6efd0bea1 Sub: EKF logging moved into EKF from logger
1674cb0a85 Plane: EKF logging moved into EKF from logger
40a3bf94f4 Copter: EKF logging moved into EKF from logger
befc150d0e Tracker: EKF logging moved into EKF from logger
ca03c5b2a9 Rover: EKF logging moved into EKF from logger
9732940220 AP_AHRS: navekf: add Log_Write access point
f3f364de26 AP_NavEKF3: move logging in from AP_Logger
5175d23cc1 AP_NavEKF2: move logging in from AP_Logger
e009b7aee5 AP_Logger: move logging of EKF packets out to EKF
c6533723de GCS_Param: correct sending of parameters of length 16
5ffb8bb546 AP_HAL: enable GPIO scripting on the Disco
ea212af2e5 Tools: added an example gpio.sh for the disco
2bab0efc41 HAL_Linux: implement HAL_GPIO_SCRIPT support
8a49c84d57 AP_Motors: fixed col max and min for dual heli
0f4c54aaa6 AP_RCProtocol: fixed a overflow in SRXL decoder
626c632859 SITL: fixed pitch constraint on fixed wing takeoff
5bfb6ced84 AP_GPS: fixed u-blox F9 auto configuration
502f74f0d9 AP_Logger: switch to using stderr for log structure debug
288952b5a2 AP_Logger: reserve W for watts as a unit
44f6f7335e Plane: Added Quadplane option for QRTL failsafe action
9d95933845 Rover: ServoRelayEvents uses Relay singleton
5444903504 Sub: ServoRelayEvents uses Relay singleton
3ab266b751 Plane: ServoRelayEvents uses Relay singleton
eb82126758 Copter: ServoRelayEvents uses Relay singleton
c515d17a4a AP_ServoRelayEvents: use Relay singleton
8e5ec84317 AP_Relay: add AP::relay() to get relay singleton
82413a1528 SITL: JSBSim: Fix comments
39b17e42d0 AP_HAL_SITL: add missing include for AP_BoardConfig.h
ebd8170a15 GCS_MAVLink: add missing include for AP_RTC
3d91547039 AP_Logger: add missing include for AP_RTC
cee3d8086b AP_InternalError: move include of BoardConfig to cpp
c9447776b2 Tools: autotest: correct debounce tests under Rover
bf6f10e448 Copter: Arming: ensure frame class is appropriate for build FRAME_CONFIG
cf45108efb Copter: set Heli frame default at compile-time
7f3cb09da2 correct comment placement for second led
a9783de61c correct include paths, uncomment alarm pin, fix conflict with rssi
3e3d7b8e7f Change to "include" style for new board, fix to allow LED to be used as status indicator
10838387c5 Split Omnibus F4 pro and non-pro into two boards to allow pro boards to have 8 pwm outputs
5151416080 AP_NavEKF3: force first EKF lane when disarmed
567c902e75 AP_NavEKF2: force first EKF lane when disarmed
bf11746da5 AP_AHRS: allow EKF_TYPE==10 to send a good status report
e58eae3c48 AP_Mount: remove unneeded typedefs
08b2676a8f AP_Notify: add comments explaining tonealarm tone format
fbb26ff52d Tools: uploader.py: py3 fix
e589821e04 CI: fixed appveyor python install
5c5ae78dfb autotest: added plane-jet parameters
2eb09b2910 SITL: simple implementation of a fast jet
a79afefa39 waf: coverage: run the 'examples', 'unit_test' and heli tests
76663d66e8 Plane: support bicopter tiltrotors
bb3d2a0b37 Copter: pass GCS_MAVLink object rather than channel number in motortest
84eff51539 AP_Arming: remove stray comment on removed parameter
f31b7b5772 GCS_MAVLink: remove stray undef of undefined macro
e5988f7153 AP_HAL_ChibiOS: fix voltage sensor connected to fmu adc
e36231d547 Tools: autotest: loosen distance check when looking for lower point
4b8972433a Tools: fixed handling of bitmask in param metdata
7b52c41287 AP_Compass: fix example by instantiating serial_manager
89ef13d32e Tools: autotest: reference issue in disabled beacon test
5b14be92e6 Tools: autotest: change beacon test to use EKF3
b22fccd35d Tools: autotest: add test for beacon navigation
ef2589738d AP_NavEKF3: use beacon singleton
82df167ad4 AP_NavEKF2: use beacon singleton
d9c30f489f AP_Logger: use beacon singleton
478c62b5ac Copter: stop setting beacon in AHRS
ee4e876fd7 Rover: stop setting beacon in AHRS
2bcaaf5aaf AP_AHRS: remove handling of beacon
04ebb9de0b AP_Airspeed: use send_to_active_channels for airspeed_autocal
6442dd1f2f Tools: autotest: make vision position test more reliable
7d4a758059 hwdef: fix default battery monitor pins for CubeOrange
71ee4d573f AP_BattMonitor: add battery pin config for CubeOrange
cfa54d4ca4 AP_Module: update example baro include
ca65b214af AP_TECS: Include needed AP_Baro.h
99ff84168c AP_Terrain: Remove unneeded includes
e43605cc9b AP_Airspeed: Remove a number of unneeded top level includes
a6623bfad3 AP_HAL_SITL: Fix missing include for logger.h
b7bca441e5 SITL: Fix a number of includes that were coming in via AP_Airspeed
1226eb825a AP_AHRS: Reduce scope of AP_Baro.h
1a7502b413 AP_VisualOdom: Remove uneeded include
7a03b8faac AP_InertialNav: Remove undeeded includes
9b162563d6 AP_Advanced_Failsafe: Reduce scope of AP_Baro.h
b624f6f008 AP_NavEKF3: Reduce scope of AP_Baro.h
f04e47fc17 AP_NavEKF2: Reduce scope of AP_Baro.h
6385e3ceac AP_TempCalibration: Include needed AP_Baro.h
9ed3242c06 AP_Tuning: Reduce header scope
18e979fd4f GCS_MAVLink: Include needed AP_Baro.h
631b4380e1 AP_OSD: Include needed AP_Baro.h
6480786ab2 AP_Mount: Cleanup SoloGimalEKF headers further
eeca59d1ef AP_Arming: Include needed AP_Baro.h
2dcbe5a49b AP_ADSB: Include needed AP_Baro.h
3c6b08e67f Tools: generate_manifest: correct detection of linux filetypes
61e261caf5 AP_Soaring: remove definition of 'N' macro in favour of scoped variable
bd2516bc89 Sub: add sanity check when fetching GCS_MAVLink instance
80c7449145 Plane: add sanity check when fetching GCS_MAVLink instance
fab17ba3bf Copter: add sanity check when fetching GCS_MAVLink instance
77187cd7e2 Tracker: add sanity check when fetching GCS_MAVLink instance
a50004baff Rover: add sanity check when fetching GCS_MAVLink instance
54ba686855 AP_InternalError: add bit for asking for a non-existant gcs backend
b34b276844 Fix tab usage
e7104fb6f0 Fix heli manifest generatio
e22bda2527 Sub: Send a heartbeat on mode change
39c35814ec Plane: Send a heartbeat on mode change
242096b65e Copter: Send a heartbeat on mode change
99872ea9e2 Tracker: Send a heartbeat on mode change
06e7120b4b Rover: Send a heartbeat on mode change
67898d7320 AP_FrSky_Telem: Don't statically allocate the statustext_queue
f955a4e4d5 GCS_MAVLink: Don't retain a FrSky instance if we aren't using it
59e62ca2fc AP_FrSky_Telem: Make init return false if we failed to init
278ac5e6ed GCS_MAVLink: correct deferred body timing debug
dc75f382b8 Tools: autotest: loosen check for wait_circling_point_with_radius
98f30fe099 Tools: script: uploader.py: add --identify option
4b455afd42 scripts: uploader.py: print unplug hint when downloading firmware
b741639002 GCS_Copter: Fixed precland condition to set SENSOR_VISION_POSITION flag
ea2de1c11a Rover: allow GCS MAVLink base class to handle out-of-time for sending messages
973222c786 Sub: allow GCS MAVLink base class to handle out-of-time for sending messages
3e4366906b Plane: allow GCS MAVLink base class to handle out-of-time for sending messages
b0beca7b01 Copter: allow GCS MAVLink base class to handle out-of-time for sending messages
feddaabc42 GCS_MAVLink: handle out-of-time to send messages in parent class
88111ef81a AP_BattMonitor: reset failsafe flags when we reset battery remaining
f28df4dff1 GCS_MAVLink: support MAV_CMD_BATTERY_RESET command
11518857b6 AP_BattMonitor: added reset_remaining() API
0c7fb21c12 mavlink: added MAV_CMD_BATTERY_RESET
f67fd4e08c Sub: remove pointless protocol parameter to setup_uart
78a1f97caa Plane: remove pointless protocol parameter to setup_uart
db2aff56c0 Copter: remove pointless protocol parameter to setup_uart
932c36a3fb Tracker: remove pointless protocol parameter to setup_uart
4a2022d6e3 Rover: remove pointless protocol parameter to setup_uart
a55c40949b GCS_MAVLink: remove pointless protocol parameter to setup_uart
1de6fed20e Sub: stop pointlessly passing serial manager around
a900fa0117 Plane: stop pointlessly passing serial manager around
5278919463 Copter: stop pointlessly passing serial manager around
4f85d45fcb Tracker: stop pointlessly passing serial manager around
e2df3225b2 Rover: stop pointlessly passing serial manager around
ca449cd979 GCS_MAVLink: stop pointlessly passing serial manager around
45fab82345 GCS_MAVLink: eliminate redundant static pointer to serialmanager
f3c1791341 Copter: stop passing gcs chan into method which wants an object
0b62641a46 AC_Avoidance: fix Dijkstra's iteration through polygon fence points
afd63c05ec AP_Tuning: ignore tuning selector switch unless valid RC input
288b13868b AP_Tuning: debounce RC input
b6dbb8f464 GCS_MAVLink: always show AHRS healthy with EKF type 10
5ac2aad2f8 AP_Mission: fixed valgrind error on writing mission items
e4761e1ee4 Tools: autotest: avoid draining button change message we want
0a2ee0f04c Tools: autotest: unshadow clear_mission method
ad2d7dac3e Re-enable watchdog on Solo build targets
1827d88f9a Tools: autotest: use set_parameter for setting glitch offsets
98cb68157f Tools: autotest: add a test for Copter surface tracking
0ca71ba725 AP_HAL: added get_last_armed_change() Util function
8fc8bc4d84 AP_Arming: notify logging system of an arming failure
dd3eec2a38 AP_Logger: persist logging for 15s after disarm or arming failure
df6c666740 AP_Common: add AP_ExpandingGeneric to reduce code size
4ef3005d2c AP_Common: add AP_ExpandingArray delete
578023483c AC_Avoidance: Dijkstra's expanding arrays use 32 elements per chunk
2cb89d9a02 AP_Common: expanding array uses realloc
da645c32ff AC_Avoidance: Dijkstra's specifies expanding array chunk sizes
073ce8c3db AP_ExpandingArray: add class description and remove default constructor
48a7f468bf AC_Avoidance: AP_OADijkstra and OAVisGraph use AP_ExpandingArray
528e7c60b0 AP_Common: add AP_ExpandingArray class
1ff3cd442d AP_Mission: fix example by instantiating a GCS object
5992cc8782 Tools: autotest: clear mission between tests
c11da6a85d GCS_MAVLink: routing example: use GCS_Dummy in place of custom GCS
061b4b7e70 AP_Airspeed: convert to unix style end-of-line
5ce185e4ac ArduCopter: convert to unix style end-of-line
f9c35772fe AntennaTracker: convert to unix style end-of-line
23cf60e47e Travis: Run CubeOrange bootloader to run a >2 MB bootloader
93d8f32c8f Tools: Support CubeOrange bootloader in CI
4893b85983 Tools: bootloaders should not include scripting
8f88639d38 Tools: add IMU filter test tool
767968026a AP_AdvancedFailsafe: added docs for AFS output pins
ba65b163f7 Sub: Remove wrapper around MAVLink send heartbeat
df37a3d603 Copter: Remove wrapper around MAVLink send heartbeat
97b339f6af mavlink: submodule updates
8c7946a9d8 Tools: Remove unneeded sitltest-scripting, it's now the default
75c62154b5 AP_HAL_SITL: Add missing override declarations
631a0bdbff Rover: Enable scripting parameters
2dddd9e673 Tracker: Enable scripting parameters
b2743a0eb6 Sub: Enable scripting parameters
c612291a47 Copter: Enable scripting parameters
183640789d Plane: Enable scripting parameters
0e76afd22c Tools: Support enabling scripting by default
4a4a91c662 wscript: Swap enable-sciprint to be disable
a34ac14ec5 AP_HAL_ChibiOS: Make BOARD_FLASH_SIZE available at configure time
0a7cf77de4 AP_AHRS: Update function descriptions in header
0ed3c547fd AP_Scripting: Disable by default, fix a nullable type, update README
ccbf3234f7 AP_HAL_SITL: return RC protocol being decoded
a9c4f1d0d5 AP_HAL_Linux: return RC protocol being decoded
1f4de871da AP_HAL_ChibiOS: return RC protocol being decoded
92111eea61 AP_HAL: require HALs implement rcin.protocol() to return RC protocol
7bca6d5ec0 AP_Logger: log RC protocol each time a log is opened
0963957b31 GCS_MAVLink: correct GCS_Dummy firmware version
e60f92cb43 Tracker: set os_sw_version to date fw was compiled
ced80adaa5 Rover: set os_sw_version to date fw was compiled
53d2a6c1e2 Plane: set os_sw_version to date fw was compiled
80652dffd0 Sub: set os_sw_version to date fw was compiled
9ac9b9ce00 Copter: set os_sw_version to date fw was compiled
c39a622653 GCS_MAVLink: take sw_version from AP_FWVersion struct
b48c729bb1 AP_Common: add os_sw_version to AP_FWVersion
4f7905331a waf: add build option to include dates in binary
8f8851271a RC_Channel: add mode-changing options to Plane RC channel options
fec3dc4f70 Tools: autotest: add tests for Plane AuxSwitch mode changes
584404a6da Plane: add RC options for changing mode
a2c4bfea0c GCS_MAVLink: use send_to_active_channels for parameters
7780e8ed00 AP_HAL_ChibiOS: add support for AIO and OSD board types
6e0cceff0d AP_Common: Remove extra comparison from longitude_scale()
4e5842a150 AP_Common: add initialised() method to Location
e3da6d69d5 Copter: mode_auto: don't set takeoff dest from bad current location
0e4b751786 Replay: Fix AP_GPS.h include
4aa33bec49 AP_AHRS: Remove AP_GPS.h from AP_AHRS.h
197804412a APM_Control: Fix AP_GPS include
a09ead5819 AP_ADSB: Fix AP_GPS include
bd904f890f Copter: Update for AFS interface
1d379dd0b3 Plane: Update for AFS interface
3194b073ca AP_AdvancedFailsafe: Use AP_GPS singleton
157a3b1e34 AP_Airspeed: Fix AP_GPS.h include and use the singleton
c70107cabb AP_Arming: Fix AP_GPS.h include
889d9b7348 AP_Frsky: Fix AP_GPS.h include
f6f432a785 AP_Landing: Fix AP_GPS.h include, use a ref to the singleton
f8750a6d18 AP_Logger: Fix AP_GPS.h include
459e6704b9 AP_Module: Fix AP_GPS.h include
fbd19f30e7 AP_Mount: Reduce header includes
892b687c09 AP_NavEKF2: Fix AP_GPS.h include
be74b631fe AP_NavEKF3: Fix AP_GPS.h include
2ab8a2318e AP_OSD: Fix AP_GPS.h include
cbcd959290 AP_Terrain: Fix AP_GPS.h include
be7afe346b GCS_MAVLink: Fix AP_GPS include
6317355390 RC_Channel: Fix AP_GPS include
23439de39a AP_Logger: Don't include AP_BattMonitor which we don't need
ba4c589ff2 AP_OSD: Fix depending upon AP_Logger for AP_BattMonitor header
f6b8bf49a1 AP_Motors: Simplify the example includes
8c00102259 GCS_MAVLink: Reduce scoping on AP_BattMonitor include
eed710db5f AP_GPS: Fix a lot of unneded example includes
9fc954b030 AP_Compass: Reduce scope of BattMonitor include
03a4dda810 AP_Mount: Remove unneeded dependency on AP_Airspeed, and bad example
b902316139 AP_HAL: remove buggy write implementation
209b0300a5 AP_Rangefinder: fix compilation for Bebop
8a4553ba0a waf: fix lib link check
b678548b70 Tools: added name to GIT_Success.txt
1716bd7a7d travis: install gdb for stack traces
553037c117 Tools: autotest: disable fence when RTLing to home
326e208123 Tools: autotest: allow switch to debounce in aux-switch test
bba81b2794 AC_Avoidance: Dijkstra's exits early if polygon fence disabled
23f5fabbcf Tools: autotest: add tests for aux-switch options for mission reset and clear
da5d5c9203 AP_Math: add tests for Vector2
fb311208ab AP_AHRS: Fix DCM gndVelADS on groundspeed_vector() with airspeed_use
5ab000376b Tools: Replay: correct format strings
fb284ff26a AP_ServoRelayEvents: minor formatting fix
012fcae388 AP_ServoRelayEvents: allow DO_SET_SERVO commands while rc pass-thru
f9547fa28e SRV_Channel: allow DO_SET_SERVO commands while rc pass-thru
ce48b82500 AC_WPNav: remove brake
00f6dc9b05 Copter: brake moved in from AC_WPNav
c59dde78c6 AP_HAL_SITL: dump stack trace as part of panic()
dd68b14f46 AP_HAL_SITL: move dump_strack_trace into HAL
c3a99c8eb0 AP_HAL: move dump_strack_trace into HAL
cceab9c88f AC_Avoidance: fix BendyRuler when outside polygon fence
de5ace24fd Sub: remove duplicate EV log message definition
cc7044b360 AP_Scheduler: include internal error count in PM log message
733b7b7f1a AP_Logger: include internal error count in log structure
5f877294c9 AP_Logger: re-add lost validate_structure loop
cd0265644d AP_Logger: disable float-mult-zero sanity check for the time being
ae85994c59 GCS_MAVLink: include internal error count as errors4 in SYS_STATUS
256b6703f1 AP_InternalError: keep count of number of errors having occured
7c44ad04b6 Copter: check for EKF lane switch to avoid EKF failsafe
99316a191c AP_AHRS: added check_lane_switch()
60831c2878 AP_NavEKF3: added checkLaneSwitch()
3073c4da7a AP_NavEKF2: added checkLaneSwitch()
82369a0602 azure: fix builds
82dd2438b9 waf: add -Werror=parentheses
f385a4a329 GCS_Common: fix compiler warnings on missing parentheses
6ed09d83f3 GCS_MAVLink: send_home_position uses const Location reference
0a86bbdc9a AC_Avoidance: add license to cpp file
c233c3aff3 Rover: integrate OAPathPlanner
70e9881880 AR_WPNav: integrate OAPathPlanner
af80070ed9 AP_OAPathPlanner: path planning around obstacles
c7b1ad3443 AP_Logger: add Write_OA
beb9ecbdcb AC_Fence: add get_boundary_update_ms
0f6e61bc33 AC_Fence: add is_polygon_valid accessor
9c3812e384 AP_Proximity: move copy_locations to backend
b792fe4b26 AP_Proximity: add Location* object and accessors
c2bcc0d5f0 AP_Math: define Vector2f::perpendicular
071e340827 AP_Math: Polygon_closest_distance_line returns neg numbers
6eb816fd3b AP_Math: add Polygon_closest_distance_line
a5fd7ac5ca AP_Math: add vector2f::closest_distance_between_line_and_point_squared
2457bf71d4 AP_Math: add simplified vector2f::closest_point
c8e49259a0 AP_Math: add vector2f::closest_distance_between_radian_and_point_squared
dbf337e1b3 AP_Math: move closest_point to cpp
bfc28dfde9 AP_Math: move normalize, reflect, project and perpendicular to cpp
01e541b7d1 AP_Math: minor formatting changes to length method
4c4de1f021 AP_Math: vector2f::length_squared always returns float
46617e6c72 AP_Math: remove unused include from Vector2
69781cda42 AP_Math: add Vector2::angle
bc22aeb4da GCS_Mavlink: Correct format specifier in UART panic message
68d7e0c22f AP_RangeFinder: correct macro being used for parameter definition
8cd5e3103f AP_RangeFinder: remove use of removed AP_PARAM_FLAG_IGNORE_ENABLE
300ee173ce Copter: fix user aux functions
40753ab14e AP_Param: Remove non functional AP_Param ignore flags
cc7d13e9ef AP_BattMonitor: Remove param ignore flags
931367a7ea AP_HAL: fix RCOutput, RCOutput2 and RCInputToRCOutput examples to prevent the failure of reading and writing channels.
676d75c391 Copter: correct namespacing of Copter modes
a025794bae GCS_MAVLink: correct is_streaming check and update of is-streaming mask
0aa074467b waf: add -Werror=overflow
08baabed4a Plane: modify FENCE_AUTOENABLE docs
5076058459 Plane: added FENCE_AUTOENABLE=3 option
51e187342b HAL_ChibiOS: move the power control changes to be only CubeBlack
df4fc0fff0 AP_NavEKF2: default EK2_MAG_EF_LIM to 50
abb624b94b Tools: rebuilt IO fw
0eddfa9ad4 IO_Firmware: update iomcu to autodetect heater control pin active level
a926effee5 hwdef: iomcu set pin mode to input for autodetecting heater control level
f23746053d AP_IOMCU_FW: autodetect active high/low on heater control pin
aa32a0d143 AP_Windvane: fix NMEA vehicle to earth frame
607f996232 AC_Avoid: restructure logic of adjust_velocity_circle_fence
a96c146758 AR_AttitudeControl: set-throttle-out-stop considered same as running speed controller
e846840a52 AC_Avoid: fix stopping at circular fence
6a558bff2b Tools: removed PYTHONPATH setting
82f76a9367 Tools: initvagrant.sh: force-link .mavinit.scr for idempotency
f730020b31 Tools: waf: make extra arguments in format string fatal
5f018d0798 Tools: scripts: add dumpstack
e061df0f6d AP_HAL_SITL: attempt to dump stack trace as part of segv handler
d66d1a31f0 Tools: set SITL_PANIC_EXIT for build_autotest.sh
02403d9b93 HAL_SITL: added support for exit on panic()
35d4555be0 AC_Avoid: improve documentation of AVOID_ENABLE options
d8278335a1 Tools: autotest: move upload_using_mission_protocol up to common.py
c8a4af76fe Tools: autotest: add tests for Plane fence
10120cee54 Tools: autotest: disable horizontal fence avoidance test showing bugs
6e13adb43c Tools: autotest: add test for fence Avoidance
78f3265f27 Tools: fixed typo
e66de36016 HAL_ChibiOS: fix I2C transaction without stop condition
e51f0bc7ff ChibiOS: update submodule
31ea3466af AP_InertialSensor: Post-filter logging takes precedence over sensor-rate logging.
52e4676564 Filter: Allow all filter frequencies to be 16bit.
36878e9b3c AP_InertialSensor: Allow all filter frequencies to be 16bit.
fff81a2163 AP_InertialSensor: Make sure the LPF output is used by the notch input.
1a8475cf9f Filter: Decouple notch filter configuration from the filter itself.
18d403c3ac AP_InertialSensor: Rework notch filter allocation and sampling
045bdf3478 AP_InternalError: removed unused internal error
91f80613dd AP_Logger: removed internal error for logging without sem
dce472745e AP_NavEKF3: take EAS2TAS from AHRS rather than airspeed
11f31c2851 AP_NavEKF2: take EAS2TAS from AHRS rather than airspeed
697b8f6b53 AP_AHRS: take EAS2TAS directly from Baro (rather than via airspeed)
fb2422e496 Plane: stop setting eas2tas in AirSpeed - it can work it out itself
5cfba85095 AP_AirSpeed: take EAS2TAS directory from baro; use for all backends
470e88f8b3 AP_Button: use send_to_active_channels()
264a757095 GCS_MAVLink: add send_to_active_channels method
4d46c801f2 GCS_MAVLink: panic in SITL if we fail to write to uart
73bc277470 HAL_ChibiOS: fixed KakuteF7 build
2acaada884 HAL_ChibiOS: fixed OMNIBUSF7V2 build
01a0d3897e Copter: fixed HAL_MINIMIZE_FEATURES build
bfdf857b34 HAL_ChibiOS: fixed airbotf4 build
63bec946d3 uavcan: submodule update
4c4d37bd86 Sub: stop setting AC_Avoid in AC_WPNav; it uses singleton now
5985579383 Copter: stop setting AC_Avoid in AC_WPNav; it uses singleton now
f2163fbc24 AC_WPNav: use singleton for getting AC_Avoid instance
6047ef105e Tools: autotest: correct text MAVProxy-dedupe check in mission load
2fb8aba1b2 autotest: use build path on faster filesystem
a745bad5b0 Tools: cleanup autotest script
d81bd6530c waf: use make -j on build of ChibiOS core
4b16271b3d Sub: Remove rangefinder support of control loops
614a059819 HAL_ChibiOS: convert more boards to using new sensor config system
4a8c307720 AP_UAVCAN: fixed build error of F4 boards with CAN
c61412d2d1 Rover: correct get_distance_to_destination in loiter mode
4c88a1e9de AP_RangeFinder: remove dangling update_instance declaration
503aeba7b7 AP_RPM: remove dangling update_instance declaration
d617904726 AP_Proximity: remove dangling update_instance declaration
18a43601cd RangeFinder: Add up to 10 RangeFinder logs
be9df7f600 AP_Logger: add a README.md to help locating units/mults/fieldtypes
b644df14d0 AP_Logger: move documentation for fieldtypes, units and mults to top
33daef2f33 Copter: merge ArduCopter.cpp and Copter.cpp
4492727878 Copter: tradheli-comments added to new Heli Acro code
e13ff6c398 Copter: Parameters TradHeli Acro - add description for setting of virtual flybar
8d43e828cf Copter: TradHeli - minor code format fix
0c64cdc565 Copter: TradHeli - add virtual flybar to heli acro flight mode
220176f283 Plane: added octa I frame
3c4bac7c97 Copter: added I frame for octa
7323a5da9d AP_Motors: Added Octo I frame
fc84995fb9 AP_Motors:Heli - remove H_LAND_COL_MIN and replace with H_COL_MID
fb3f761fc7 AP_UAVCAN: fix redefinition of UAVCAN_NODE_POOL_BLOCK_SIZE warning
cbf6d44277 AP_RCProtocol: fix missing-declaration warning in example
73c81519da AP_GPS: fix missing-declaration warning in example
9ee0befb38 Tools: autotest: Copter: add avoidance test for beacon fence
3008fe6eb5 Tools: autotest: Copter: add test for fence avoidance sliding
acdddb8b1f Copter: autotest: Copter: add test for proximity boundary avoidance
e9160cd9d5 AC_Avoid: correct iteration through edges
cd6e5b48a1 AC_Avoid: move check for zero-desired-velocity into adjust_velocity_polygon
3177d24429 AP_HAL: Make linux hardware define more readable
3e098df65a Copter: move common proximity pre-arm checks up
df3a7d32ea Rover: move common proximity pre-arm checks up
bb14ec1a2c AP_Arming: make proximity sensor checks common
99c56c1770 GCS_MAVLink: fix MAV.txp log field
a4c17a3913 Tools: move skip_board_waf after update_submodules in build_binaries
1f98665699 moved build.Binaries ahead of build.All
0b321eb84c Tools: speed up builds and report build time per build
9f6b48b743 Copter: remove unneeded initialisation
70c0ba5722 AP_RangeFinder: Fix typo in Benewake TFMiniPlus python tool
fa150bc982 Copter: remove loop-initialisation of output
e9ed3540f1 AP_NavEKF2: constrain field by table after fusion
3835d2613e AP_NavEKF2: added EK2_MAG_EF_LIM parameter
7206258587 AP_Compass: use new get_earth_field_ga() API
be62bf32cb AP_Declination: added get_earth_field_ga() interface
49003868fe AP_Windvane: add NMEA wind sensor type
8caa753a55 Rover: init windvane with serial_manager
fe38413ddc AP_SerialManger: add windvane serial type
ea4ecebfc4 AP_Math: add speed unit converstion defs
e18b3cac6b Rover: Allowed to arm in Manual mode without GPS
b6bfc8947f AP_Motors:Heli Governor - change rotor_rpm argument to a float
f1a32d7872 AP_Motors: Tradheli- modified thrcrv and gov parameter group names
b1046c7b80 AP_Motors:Heli_RSC Governor - add method of droop compensation  - improve handling of outliers from speed sensor  - change governor_tc variable to governor_thrcurve  - remove equals zero from variable declarations
4120e29614 AP_Motors: Tradheli-complete conversion of throttle curve params to percent add conversion for throttle curve params for upgrade
3629541a20 AP_Motors: Tradheli - implement enable params for throttle curve and governor
51d4029f03 AP_Motors: Tradheli - maintain consistent variable types as used in calcs add override to declaration of new functions
cca58e393a AP_Motors:Heli_RSC - add support for rotor speed governor with droop speed control
9d03b44cf7 Copter:Heli - governor set_rpm call independent of frame type
2f7d198196 Copter:Logging TradHeli - add governor output and throttle logging for heli governor
8312dcae5d Copter:Scheduler - increase update rate for rpm to 40Hz for helicopter governor
e9552ec4e1 Tools: autotest: more efficient set_rc_from_map
3f71a84894 Tools: timestamp build steps
062ee71135 AC_Fence: simplify fence loading
b25acb4d22 Sub: move Arming functions into AP_Arming file
13f7022cec Plane: move Arming functions into AP_Arming file
112b153268 Copter: move Arming functions into AP_Arming file
22c5954c8f Rover: move Arming functions into AP_Arming file
ff603a1f0b HAL_ChibiOS: convert mini-pix
4548aa162b HAL_ChibiOS: convert mindpx-v2
91aa49ba6f HAL_ChibiOS: convert matek boards
fca03bef8d HAL_ChibiOS: convert F4BY
8605060dfc HAL_ChibiOS: convert F35Lightning
288d5d6fe6 HAL_ChibiOS: convert DrotekP3Pro
d90b05f685 HAL_ChibiOS: convert all fmuv5 boards to sensor config system
03bb94599b HAL_ChibiOS: support I2C sensor probes by bus mask
fc1ec8a465 HAL_ChibiOS: convert airbot to new config
82b171582e HAL_ChibiOS: added sensor config for cube varients
c36d76c213 HAL_ChibiOS: convert Pixhawk1 to new sensor config
eae852962e HAL_ChibiOS: fixed case of no IMU, BARO or COMPASS config settings
068e6ea8d2 HAL_ChibiOS: convert KakuteF4 and KakuteF7 to new sensor config
1b0bf88c8f HAL_ChibiOS: convert crazyflie2 to new config
b47ab5c8a9 HAL_ChibiOS: support I2C sensor config in hwdef.dat
4c5b651296 AP_HAL: removed board type for mRoControlZeroF7
38c775e6df AP_Compass: removed old mRoControlZeroF7 config
aef343bfd0 AP_InertialSensor: removed old mRoControlZeroF7 config
ceb9c3b83e HAL_ChibiOS: convert mRoControlZeroF7 to new sensor config
039e7366b0 AP_InertialSensor: support new sensor config setup
481ae22671 AP_Compass: support new sensor config setup
f7b9368b94 AP_Baro: support new sensor config setup
5eb488303c HAL_ChibiOS: convert Pixracer to use new sensor config
e198d552a8 HAL_ChibiOS: support IMU, COMPASS and BARO lines in hwdef.dat
532b82b3a3 AP_Compass: use DRIVER_HMC5843 to match driver name
6690e38ee3 Tools: added in vehicletype
c67a585b68 AP_Proximity: increase angular resoluion to mavlink packet OBSTACLE_DISTANCE
eb37565a9f MAVLink: update OBSTACLE_DISTANCE for higher angle resolution and angle offset
6fd138d613 Tools: Replay: build and link against AP_Arming
be9aac4444 Tracker: build and link against AP_Arming
8fdc2a1bad Plane: emit throttle armed and throttle disarmed statustexts
55a9165624 Rover: emit throttle armed and throttle disarmed statustexts
1c4b5b0d73 AP_Arming: move arm status statustext messages back into vehicles
6dce39cbe1 Copter: use AP_Arming methods to arm and disarm vehicle
61a2be1470 AP_Arming: change arm and disarm to account for Copter now using them
75ae6b59b0 GCS_MAVLink: allow Copter to disallow mavlink disarm
84b16ea3dd AP_Arming: move check for ARMING_CHECK_NONE back into relevant vehicles
92ce75517c Plane: move check for ARMING_CHECK_NONE back into Plane
def3bb374f Rover: move check for ARMING_CHECK_NONE back into Rover
e340873d88 GCS_MAVLink: canonicalise on success on commanded-to-arm-when-armed
8566a17a1d Sub: move arming-related functionality into parent classes
400aa53654 Plane: move arming-related functionality into parent classes
9851ec1ddb Rover: move arming-related functionality into parent classes
c38e5ba4fc RC_Channel: handle AUX_FUNC::ARMDISARM
b857d2c1af GCS_MAVLink: handle MAV_CMD_COMPONENT_ARM_DISARM
d67e68eb03 AP_Logger: move LOG_ARM_DISARM_MSG in
aff6cb424f AP_Arming: move Log_Write_Arm_Disarm in, make disarm virtual
d384827291 AP_Arming: add singleton
48ac028cd0 AP_OSD: take ahrs and baro semaphores
5023b51679 AP_Baro: added semaphore for safe multi-thread use of APIs
e4de5a17d1 AP_Math: add pitch-7 to rotation tests
e2eda63d2c AP_Math: added new rotation for PITCH_7
977fe09276 AP_Math: add a more complex polygon for Polygon_outside tests
d3971c18fa AP_Math: more tests for closed-vs-open polygons
d74e6db12e AP_Math: add more tests for Polygon_outside
da81c5fe39 AP_Beacon: do not include fence closing/duplicate point in polygon boundary
de9fa4c730 AC_Avoid: call Polygon_outside directly; avoids losing first point
4be3a48275 AC_Avoid: adjust for renamed get_polygon_points
2822c635ec AC_Fence: correct get_boundary_points to account for closing point
36fe9a18a0 AP_Math: make Polygon_outside cope with being passed unclosed polygons
2061621951 AP_Proximity: default YAW_CORR to 0
ff3d3d256c AP_Proximity: RPLidarA2 supports yaw-correction and orientation params
c0e8a443af AP_OpticalFlow: Correct CX-OF Data Format Sequence
66fa948e27 Rover: send position-target-global-int mavlink messages
93b05d7d8a Rover: add get_desired_location method
ce44d127c0 AR_WPNav: add is_destination_valid accessor
17060d5d66 Copter: stop changing frame to home when home not set
08a18d6a0a Copter: avoid working with uninitialised home location
d34c4b01f4 Copter: build return path in run() rather than init()
7ad4d95426 Copter: do not permit RTL unless home is set
ab7ee4fefb AP_Common: Location.cpp: add sanity checks
6031f5b6a9 AP_GPS_UBLOX: add support for TIMEGPS message. used to get gps week
3ed55ea3c5 Tools: autotest: add drain_mav_unparsed and use it
fc71e1ba53 AP_InternalError: add internal error for out-of-range bitmask ops
9d4bdbf3d5 AP_Common: add sanity check into bitmask get/set
fbc2650449 Tools: autotest: update sailboat default params
5839c1ebf6 SITL: Sailboat: write rpm and airspeed for windvane backends
f26e1dc8e8 AP_WindVane: add modern devices rev p cal
54165dbc9c Rover: GCS_Mavlink: add windvane speed calabration
9dba9867c6 AP_WindVane: mini onion
dbbf09d018 AP_Proximity: minor performance enhancements
1c7a8c1509 AP_Beacon: correct parameter documentation to include SITL
64aafb2af2 AP_Math: add Polygon_outside tests for long template instantiation
51a0401383 AP_Math: correct Polygon_outside floating point instatiation
b35b65eed1 AP_Math: add GTEST suite for Polygon_outside
1ce2424e49 AP_HAL_Linux: add required override keyword on configure_parity
f93a9c37d3 Copter: 3.6.9 release notes
7c65d89c34 Tools: call gen_stable from build_binaries.py
a1fda8bc76 AP_BLHeli: Update to support newer targets and protocols
0afd58fb99 Tools: add helper script for TFMini Plus
4f73881c4b AP_RangeFinder: TFMiniPlus: enforce minimum version 1.7.6
b3a8496613 AP_RangeFinder: add support for Benewake TFMini Plus on I2C
f09efe0908 AP_Math: correct URL for Polygon_outside algorithm
734abe3d7d hwdef: Correct typo for mRo x2.1-777 USB PID
8097b0ede3 SITL: Gazebo: Fixed comment, typos
1b90643751 GCS_MAVLink: report more internal errors in SYS_STATUS
6774bab363 Sub: stop passing references to AC_Avoid constructor
3ef84d2b96 Copter: stop passing references to AC_Avoid constructor
9f97125656 Rover: stop passing references to AC_Avoid constructor
43152a416c AC_Avoid: stop taking references to ahrs, fence, proximity and beacon
b086b39f89 AP_Proximity: add AP::proximity() singleton getter
8ce4f73550 AP_Beacon: add singleton
8d90b09829 Tools: autotest: add tests for upload/download rally using mission protocol
a7c5f5a6c8 AP_Mission: break out a convert_MISSION_ITEM_to_MISSION_ITEM_INT method
8911e67900 AP_Rally: adjust to allow for uploading via the mission item protocol
f97ea174a6 Tracker: adjust for new ap_message ids
a148e9648e Tracker: remove use of defunct state variables
d0105c8fa7 GCS_MAVLink: factor mission handling, use for Rally
aaf98f942f AP_InternalError: add internal error for link errors in mission protocol
a5f5b4349c AP_Logger: add a Write_Rally method
a1557184d5 AP_RangeFinder: Modified uLanding parse to check device version.
19ace7cace RC_Channel: guarantee logging of RCIN on switch changes
3fa419e132 AP_Baro: fix LPS22H on I2C
2348fa4201 AP_Baro: probe HAL_BARO_LPS22H_I2C
a4330f90b1 AP_HAL: add HAL_BARO_LPS22H_I2C
9e8e48c9c6 Tools: autotest: add test for Plane DO_CHANGE_SPEED
8b7b5f0db9 AP_OpticalFlow: Make PX4FLOW work on all external I2C buses
869a369cc0 AP_AHRS: support NMEA output
e06556a677 AP_SerialManager: support NMEA output
8849e0d276 waf: add AP_NMEA_Output to common libraries
80093f41b0 AP_NMEA_Output: new library for writing NMEA to serial ports
0e33907cf7 AP_HAL_SITL: change NMEA output to use new macro
6e95a144ef AP_Math: add macro for m/s to knots convertion
32a6f0026a AP_OSD: add mutex against maniplating sf windows from different threads
02e34c95c9 AP_Notify: add mutex against maniplating sf windows from different threads
316db6e4b6 Tools: sim_vehicle.py: add option --rgbled for simulated RGBLed
85fe4ae6dd waf: add sitl rgbled option
2fa1f041e3 AP_Notify: add SITL RGBLed
9ed38eaf7b AP_OpticalFlow: Change to collected CRC header
c6bcb1d54c AP_Math: Collect CRC16 into CRC file
dc238946b0 AP_ROMFS: Add missing header guard
b54399b9a7 AP_ICEngine: Add missing header guard
fe3d4e2c3b AP_HAL: Utility: Add missing header guard in packetise
c4825a6d02 AP_Button: Add missing header guard
f21e4d833c AP_NavEKF3: Fix GPS < 3D empty PreArm: msg-as EKF2
1c816b1fe1 rover: Fix parameter type capitalization
c69adf8a7d Rover: 3.5.1 release notes
4888583e17 AP_Scheduler: use task -3 for wait_for_sample()
e801821f0c AP_Scheduler: log SPI and I2C counters in PM msg
6b1374e55c AP_Logger: log SPI and I2C counters in PM msg
59678840a8 HAL_ChibiOS: log SPI and I2C counters
e64c5ef354 AP_HAL: added SPI and I2C counters
e2d863498b GCS_MAVLink: clear last msgs when done
0a3fe32209 AP_HAL_SITL: log watchdog reset
f5190d1bcc AP_HAL_ChibiOS: use logger().WriteCritical(...) for WDOG message
0225b6817a AP_Logger: examples: add test for Write and WriteCritical
54eff7eafc AP_Logger: add WriteCritical method to AP::logger()
2fc95f88ae AP_Notify: fixed handling of mavlink LED override
ea2ec9e4a2 Tools: autotest: fix process kill in sim_vehicle.py
7186e443ba Tools: added playback tool for onboard logs
14cb042e89 Rover: use WP_SPEED instead of CRUISE_SPEED to set loiter's maximum speed
4f153f06b3 Tools: autotest: increase timeout for arming param check
e95d603a73 Tools: autotest: parse all heartbeats when looking for mode change
ea36a0f555 mavlink: update submodule
c34cb9acfc azure: fix Cygwin package names
9dc4e17564 AP_LeakDetector: add missing override keywords
515e950a66 Plane: add missing override keywords in afs
93c33fda1d RangeFinder: correct bad include of old semaphore library
18999aab72 AP_OpticalFlow: correct bad include of old semaphore library
3c436b30f0 Copter: have takeoff.start() handle clearing i terms and setting land-complete
479c238177 RangeFinder: add support for rangefinder sensor over can
e866a574dd AP_UAVCAN:add hex flow sensor message
c4360264cf AP_UAVCAN: add support for hereflow and range sensor message over can
c137ca5a42 waf: add support for extra messages from AP_UAVCAN
fea82dc360 waf: support building headers from uavcan_vendor_specific_types directory
67fcd773a6 OpticalFlow: add support for HereFlow message over can
0708b65c2d AP_HAL_ChibiOS: added const for PersistentData
670015b30e AP_AHRS: added const for PersistentData
f55d9140e2 Copter: rename to EXPECT_DELAY_MS()
ba9b92c4af AP_Compass: rename to EXPECT_DELAY_MS()
6fa69c2297 AP_Logger: rename to EXPECT_DELAY_MS()
3823ba539c AP_InertialSensor: rename to EXPECT_DELAY_MS()
48302427c7 HAL_ChibiOS: rename to EXPECT_DELAY_MS()
911a99b79e AP_HAL: removed hal argument to EXPECT_DELAY_MS()
f8bcdf9d3a HAL_SITL: fixed cygwin build error
85ce10adfd AP_Math: fixed test build
c1b201d051 HAL_SITL: fixed comment typo
d2c9db3f1f AP_FlashStorage: fixed build error with -O0
a7eb85e1c5 HAL_ChibiOS: cope with nesting of expected_delay_ms()
64c723fd31 GCS_MAVLink: record mavlink msg IDs for watchdog
8d0bca6ba9 HAL_ChibiOS: log mavlink IDs and semaphore lines for watchdog
c786674442 AP_HAL: record mavlink msg IDs and semaphore line
bc2f5fa33b ArduCopter: use EXPECT_DELAY() macro
4cdfe6bac3 AP_Logger: use EXPECT_DELAY() macro
02326ac52c AP_InertialSensor: use EXPECT_DELAY() macro
1b8cbfc6a4 HAL_ChibiOS: use EXPECT_DELAY() macro
ecc6f15dc0 AP_Compass: use EXPECT_DELAY() macro
b1ed77bee9 AP_HAL: added EXPECT_DELAY() macro
3772f58be9 GCS_MAVLink: removed unusued AP_Common/Semaphore.h
1443f0c3f9 AP_UAVCAN: removed unusued AP_Common/Semaphore.h
24636aeb45 AP_ToshibaCAN: removed unusued AP_Common/Semaphore.h
09792d3056 AP_RangeFinder: removed unusued AP_Common/Semaphore.h
37936a125f AP_RAMTRON: removed unusued AP_Common/Semaphore.h
b3b59c7298 AP_OSD: removed unusued AP_Common/Semaphore.h
0de65ca734 AP_Notify: removed unusued AP_Common/Semaphore.h
a3b283708b AP_IRLock: removed unusued AP_Common/Semaphore.h
4e769730c9 AP_InertialSensor: removed unusued AP_Common/Semaphore.h
916b3003e1 AP_HAL_SITL: removed unusued AP_Common/Semaphore.h
a159b01b26 AP_HAL_Linux: removed unusued AP_Common/Semaphore.h
d368d95aa7 HAL_ChibiOS: removed unusued AP_Common/Semaphore.h
9f5a598697 AP_GPS: removed unusued AP_Common/Semaphore.h
9e7929adf6 AP_Compass: removed unusued AP_Common/Semaphore.h
71e91c953a AP_BattMonitor: removed unusued AP_Common/Semaphore.h
097519926d AP_Baro: removed unusued AP_Common/Semaphore.h
f8741f2e2a AP_Avoidance: removed unusued AP_Common/Semaphore.h
03fb0b803b AP_Airspeed: removed unusued AP_Common/Semaphore.h
11ceacfdb6 AP_AHRS: removed unusued AP_Common/Semaphore.h
75397c1734 AP_Common: removed old Semaphore.h
8f973da4b5 AP_HAL: moved the WITH_SEMAPHORE() logic into AP_HAL
e3c80bf08f HAL_ChibiOS: fixed bootloader build
d7a0eb42ee HAL_ChibiOS: added logging of watchdog data
b217771dbf AP_InternalError: persist internal error values
45d5e7f6d2 AP_HAL: added persistance for internal errors
e046d86c59 Rover: fixed typo in log write
49061aae67 AP_Scheduler: use persistent_data for current_task
0873e54cc0 HAL_SITL: fixed build error
4b298aa80e AP_HAL: add scheduler state to persistent_data
a7c6e9c007 Plane: restore WP num on watchdog reset
9173989e63 AP_Mission: save waypoint number for watchdog reset
ebf04e70fe AP_InternalError: don't panic on SITL watchdog_reset
6897cecea2 HAL_SITL: support watchdog reset in SITL
74e56ab8cc AP_AHRS: use new persistent_data interface
dbfe6b8019 HAL_ChibiOS: implement persistent_data for watchdog
11c123e4da AP_HAL: added persistent_data structure
967bf39ec0 Tools: autotest: correct Rover zero throttle
e2ed76886c Rover: AP_MotorsUGV make has sail protected
960c30c909 Tools: autotest: update sailboat default params
b5782f0b7a Rover: convert old sailboat parameters
2d9a0195ce Rover: make sailboat a class
d5f3cf50e4 Rover: Parmeters: remove old sailboat params
f22d7c906a Rover: move to use new sailboat class
5519527874 Sub: move heartbeat sending to gcs instead of by vehicles
08d5e7d4ae Plane: move heartbeat sending to gcs instead of by vehicles
3f359886cd Copter: move heartbeat sending to gcs instead of by vehicles
fb0c9c7813 Tracker: move heartbeat sending to gcs instead of by vehicles
818b1a77ea Rover: move heartbeat sending to gcs instead of by vehicles
1f3c3c853f GCS_MAVLink: move heartbeat sending to gcs instead of by vehicles
0d1b7b90b9 AP_Param: avoid allocating 0 bytes if no defaults
7b7bdd9bf8 AP_BattMonitor: Prevent capacity_remaining_pct from returning a large value when low
7871040bb6 AP_GPS: Pass an in range value for the param initilizer
1040ca2d5e AP_Landing: Fix shadowing with deepstall
77985f509f AP_Follow: correct parameter descriptions
8db8dcd2d2 AP_Scripting: Fix up some warnings
bd256afee4 AP_Scripting: extract a common argument check helper
84c2b18e43 AP_Scripting: Support enum types, add millis() remove manual GCS wrapper
eddf926433 AP_Scripting: Add support for semaphore protection around singletons
6333494d99 HAL_ChibiOS: disable peripheral power on boot on fmuv3
0a5d6a430a AP_NavEKF3: accept optical flow data at up to 50hz
e19d638c0f AP_NavEKF2: support higher optical flow updates rates
5c99f02c15 AP_LandingGear: minor format fix
fc710d8a81 RC_Channel: remove UINT16_MAX check, moved to mavlink handler
4c641c6e2b GCS_MAVLink: comply with mavlink spec to ignore rc_override UINT16_MAX
f46207499a Copter: prevent reset on compassmot due to watchdog
ce9e9d8670 HAL_ChibiOS: end scheduler boost on expected delay
2c519d5176 SITL: Fix to sync to JSBSim simulation time
dedb7e108f SITL: Added <time> tag to JSBSim output directive
2317e73e0b SITL: JSBSim: Use rate_hz to specify timestep
732f2e7a2e SITL: Change JSBSim mode to Batch mode, specify nice sleeptime
069d054e5c AP_Baro.cpp: support DPS280 on SPI
1f827004be AP_Compass: Enable AK09916 inside the ICM20948
9b43870ffe Tools: auto-build mRoControlZeroF7
6665e4c0a7 AP_InertialSensor: probe IMUs for mRoControlZeroF7
a24bbe0b13 AP_Baro: support DPS280 on SPI
db57b6c4f3 AP_HAL: added DPS280 on SPI / added board type for mRoControlZeroF7
16f1ec8ce2 HAL_ChibiOS: added missing AF functions for F777
9709401595 HAL_ChibiOS: added hwdef for mRoControlZeroF7
893b49d145 AP_InertialSensor: disable register checking in invensensev2 driver
e9c5034c54 Rover: fix build when rally points disabled
b3958ee2d0 Tools: rover default params sets WP_SPEED
8c034e6fa2 Rover: prepend _old to some unused param enums
d0a39e6114 Rover: fix notification in guided and rtl
40f3f414cd Rover: handle AR_WPNav failing to set desired location
20152dbdb7 Rover: fix logging of desired lateral acceleration
39418abafb Rover: use AR_WPNAV_HEADING_UNKNOWN in place of local define
1f2500d268 Rover: follow uses local desired_yaw_cd
2b654983a9 Rover: yaw_error_cd becomes local variable in Loiter only
c4766ec143 Rover: remove speed_error that is never updated
75ba96b7a2 Rover: separate nudge from calc_throttle
a94ebc5bc3 Rover: integrate navigation library
c3948bb074 Rover: add AR_WPNav to build
b0f0b16135 AR_WPNav: remove unnecessary temp variable
6f97f56726 AR_WPNav: add WARN_IF_UNUSED to various methods, fix for same
56c344ae94 AR_WPNav: rover navigation library
4e68d16526 AR_AttitudeControl: use speed_control_active in get_desired_speed_accel_limited
6d4d1bc20a AR_AttitudeControl: add get_turn_rate_from_heading
8907b727f6 AR_AttitudeControl: add get_turn_rate_from_lat_accel
d76894d883 Tools: autotest: drain mav before getting message rates, improve debug
dd62489f5e AC_PrecLand: stop ignoring return values on methods
71d16557fa AP_Common: Location: add WARN_IF_UNUSED to boolean methods
e5bc18dbe8 Frame Params: Disable watchdog for Solo
4d1c1bd380 Frame Params: Update solo arming check params
34a1cf9528 Plane: move callback setup to QuadPlane::setup()
fd19b257f9 Tools: autotest: print test failure summary at end of running all steps
aeaff72e14 Plane: fix acro stabilization check
4a7ce1b384 Plane: clean up qacro
791b6effdd Copter: fix wp distance and bearing reporting during LOITER_TURNS
b668c6f855 AC_Circle: improve target heading
0c24810a48 AP_AHRS: fix example
156f0ff496 Tools: autotest: ensure we get get saved-gains message in qautotune
3fe63d5bc0 Copter: only save autotune gains if disarmed in autotue
0b1d392342 Plane: only save gains if disarmed in autotune
a0d8c04f3e AC_AutoTune: add public reset method
e4f6ffe719 AP_NavEKF3: fixed bug in EKF lane selection
cc62998d40 AP_NavEKF2: fixed bug in EKF lane selection
505e1d8c1d APM_Control: AP_RollContorller: move rate limit
2b0a30a2c5 HAL_ChibiOS: ensure we don't overflow bootloader area
3cbbc33766 Tools: CodeStyle: astylerc: change style to linux
b5849b356e Tools: updated bootloader binaries
5c9b3842e6 Tools: fixed bootloader hang on GPS data
372d9483aa Tools: added --download option to uploader.py
bff040c58e AP_Bootloader: added support for READ_MULTI
85da4955b6 AP_Rangefinder: Enforce checking I2C status on VL53L1X
9ff69b90e1 Tools: added mapping for brand name and manufacturer
415042e557 AR_AttitudeControl: minor declaration ordering change
f6f5967a82 AR_AttitudeControl: minor param desc fix
0cbc612ef6 autotest: fixed copy of gen_stable.py
d1f7485e14 Rover: add STICK_MIXNG param
a798f9eb27 Rover: refactor motor.set_steering() to mode.set_steering()
6970a66cad Plane: refactor stick_mixing to library
fbe43dba5c RC_Channel: refactor stick_mixing to library
11021bbaa9 HAL_ChibiOS: fixed LEDs on new CUAVv5 revision
8d2f016cc8 HAL_ChibiOS: fixed LEDs on CUAVv5Nano
0e28f66761 AP_Notify: don't use pinMode for pixracer LEDs
26a6cccf21 AP_HAL_ChibiOS: KakuteF7 add two PWM pin options
ef5f83d0b5 AP_IOMCU: remove 2s delay on boot and skip crc check on watchdog
6ed8b2aad9 AP_Baro: Fix not healthy by watchdog reset
4deb2c38f6 HAL_ChibiOS: fixed brick2 valid status in POWR flags for fmuv5
a46ea1d5c5 Tools: keep old stable releases
971e3af826 GCS_MAVLink: prgama away address-of-packed-member only for g++ >= 9
48aacb9462 HAL_Linux: removed use of RCInput_SBUS and RCInput_115200
1c322d296f HAL_Linux: switch Disco to using AP_RCProtocol library for RCIN
5520b397c2 AP_HAL_Linux: allow disco to use RCInput_UDP
a2105e1f81 Tools: autotest: correct statustext sending under Python3
18391d8a9a Tools: autotest: produce stacktraces under Python3
9273ac3631 GCS_MAVLink: pragma away address-of-packed-member
900d9f71f6 AP_HAL_SITL: stop taking address of packed members
2f7f361968 Tools: waf: do not permit taking address of packed members under clang++
459f2e62c9 Tools: autotest: correct bad INS_LOG_BAT_MASK default
b1df8327d4 Rover: fix misleading param comments
427a88a1fe AP_Compass: fix AP_Compass_test
ff5cedc49f AP_AHRS: add missing include
deb6aafcbe AP_GPS: fix GPS_AUTO_test
cd72657c94 Plane: fixed qautotune exit
3170327a9c Tools: added SpringValley flying site
464540ab56 AP_HAL_ChibiOS: tune delay for flashing bootloader
47c65314fb AP_InertialSensor: fix accelcalsimple watchdog
a0c80a0b3b GCS_MAVLink: make send_text and send_textv const
c3f53c55f6 Tools: Fixed and updated Cygwin environment install scripts
bc485c4c27 Tools: re-added execution flag to environment  install scripts
4a237af093 Tools: autotest: ensure reboot if dataflash-over-mavlink test fails
d9e40203b2 Tools: autotest: remove defunct MAG_ENABLE from defaults files
110971d924 Rover: 3.5.1-rc1 release notes
73973c77d7 Copter: 3.6.9-rc2 release notes
0472c7e6dd Copter: 3.6.9-rc1 release notes
d05a4a04c5 Tools: autotest: add autotest for sink-rate triggering
4881d32b18 Tools: added a script to generate missing firmware-version.txt files
709a4d00d9 Tools: simplify and fix manifest generation
e98d5094b5 Tools: cleanups to generate_manifest.py
f48d07ffca HAL_ChibiOS: added WARN_IF_UNUSED based on PR feedback
ce9b75fdf0 HAL_ChibiOS: added timeouts on all SPI transfers
8e1f100d98 AP_InternalError: added spi timeout error
040fa3e10a AP_Parachute: Added time check for sink rate to avoid glitches
55dca5cda9 Copter: added in sink rate for parachute check
c710002bc9 AP_Parachute: Added parachute release at critical sink rate
5ab77e0fd0 AP_BattMonitor: Added parachute failsafe action to the parameters list
99ad94ec49 Plane: Added parachute release on critcal sink rate and battery failsafe actions
37c07e1d89 Copter: use enum class for roll/pitch mode
462d87e5d0 Copter: remove unused PosHoldModeState enumeration
e28c6b9dc6 Copter: remove redundant poshold_ prefix on PosHold methods
f57a9f11cc Copter: move poshold state variables into mode object
9f9531a790 Copter: AP_Arming: correct overriding of arm_checks method
6157aae747 RC_Channel: correct examples with override keyword
e6653f42dd GCS_MAVLink: correct examples with override keyword
3175a2ce19 AC_PID: correct examples with override keyword
790c566396 travis: build all sitl targets under clang++
1dd5c33374 Tools: waf: add various conversion warning compiler options
02d976f264 plane: reinstate tailsitter roll limit
dd50d435ab Plane: limit bodyframe roll mode to tailsitters
ce1a082956 Plane: limit yaw error in bodyframe roll control
c726db2a82 Tools: autotest: add trivial test for old fence protocol
12e62d0107 Tools: autotest: correct reversion of self.mav.mav.srcSystem
0abec1e0f3 Tools: flake8 fixes for generate_manifest.py
9da18cd6bc Tools: flake8 fixes for build_binaries.py
cbd72cb7c6 Tools: improved manifest.json
1367e46d2f Tools: fixed manifest.json.gz generation
09411fed10 BUILD: Update CubeBlack-solo to CubeSolo.
f7383179e8 HAL CHIBIOS: Solo stock cube child of fmuv3 instead of CubeBlack
68769e24c1 Tools: autotest: add timeout for problematic spline test
fb1c2cef24 Tools: updated IOMCU firmware
945ab652cc AP_InternalError: added iomcu_reset as separate code
6c50feaead AP_IOMCU: improved handling of IOMCU reset
d4c68da76e AP_IOMCU: added IOMCU time since boot to protocol
af54e8620e AP_IOMCU: prevent startup sync causing an internal error
e6c7fd2acc Tracker: initialise battery
bead34be98 Tools: LogAnalyzer: correct to understand field type 'a'
b1bc4268a9 AP_OpticalFlow: Remove unused device ID tracking
d3d6bed584 AP_WPNav: Change the value of the minimum effective radius
100f06614c AP_HAL_Linux: Add support for setting uart parity on Linux boards
5e683261a4 Tracker: update release notes for 1.1.0
4fa52bb0de Copter: 3.6.8-release notes
66a0ce9c40 Rover: follow mode does not use lane based speed control
b3c5971538 Rover: increase RC timeout failsafe from 200ms to 500ms.
9ebe5d7de9 AC_WPNav: lowering waypoint radius minimum to 5cm
17e258d347 AP_Scripting: Reenable file IO
a4d9853f1d AP_HAL_ChibiOS: Actually enable the wrapper on remove
066dc9d12b AP_Scripting: Add support for terrain
fc9b102b28 AP_Terrain: Add singleton
50b76a27aa AP_Scripting: Add uint32_t support to generator
7690df1d69 AP_Scripting: Add boxed numerics for uint32_t types
8e50ca9ae4 AP_Scripting: Add stack checking to allocators
56b8741c3e AP_Scripting: Add more bindings
062bca6361 AP_Relay: Add singleton
1b48ce57f0 AP_Scripting: Add operator overloading
e6d97f63a5 AP_GPS: Remove unneeded wrappers
e177db7dcd AP_BattMonitor: Remove unused method, make some public functions private
496df47d9d AP_Avoidance: Remove unimplemented declaration
6bcc6d85e7 AP_Scripting: Nullable primitive arguments do not recieve a range check
893779fbcd AP_Scripting: Introduce fixed minimum range type checking on primitives
1895178285 AP_Scripting: Add support for nullable types
e4035bd7e8 AP_Scripting: Add alias suppport to the scripting generator
746240ebe3 AP_Scripting: Add more primitive types
40245cabf1 Plane: update release notes for 3.9.8
1829fcfd98 AP_BoardConfig: fix build for CubeBlack
dd4f7e53c3 AP_Mission: Send jump tracking info to GCS
cb3de81058 AP_OpticalFlow: fix _ENABLE param desc for stable release
b207c2607e Tools: autotest: correct spline waypoint arming sequence
776c111d3c AP_Arming: do not permit arming if any internal errors have occured
45ebbf2877 AP_Arming: correct check against ARMING_CHECK_NONE
402b1cba3f Copter: replace 4 divisions with multiplications
295c343959 AP_Airspeed: Commonize the CRC4 method
716cc26082 AP_Baro: Commonize the CRC4 method
7f42be5d3e AP_Math: Commonize the CRC4 method
3abe8fed89 Copter: updated release notes for 3.6.8
af4611c050 AP_BoardConfig: fix unused function error
94b8f2e37a AP_BoardConfig: fix build
40684b95d7 AP_BoardConfig: changes in response to review
042623cd0d AP_BoardConfig: changes in response to review
c45ca690dc AP_Baro: make crc4 a static member of AP_Baro_MS56xx
faa5a3c453 AP_BoardConfig: add targetted check for cube black internal sensors
183b55d3df AP_HAL_ChibiOS: add define HAL_CHIBIOS_ARCH_CUBEBLACK to cubeblack hwdef
cd166ec911 AP_OSD: Switch screens basing on FS state AP_OSD: Switch screens basing on ARM state
d5d81f3a1c ArduCopter: set AUTO_YAW_HOLD when user control yaw during nogps land
c2811ea144 ArduCopter: respect yaw orientation on LAND
6939a9fa91 SITL: add capability to twist the aircraft
0cd5d66e3a Tools: autotest: increase epsilon
27f642014c Tools: autotest: add test for Copter onboard mag calibration
aae9dc55e3 Sub: move responsibility for logging into library
14a8bf3aec Plane: move responsibility for logging into library
5d996a289a Copter: move responsibility for logging into library
89f43c0318 Tracker: move responsibility for logging into library
7de995aa3e Rover: move responsibility for logging into library
bf23f1df67 AP_Compass: move responsibility for logging into library
c6a9130d84 Sub: call compass cal routine directly from sched table
ad16f31e11 Plane: call compass cal routine directly from sched table
7207035c34 Copter: do no compass stick gesture detection while armed
09a11429e1 Tracker: call compass cal routine directly from sched table
47d9960eb9 Rover: call compass cal routine directly from sched table
0e8722181f AP_Compass: take responsibility for not running cal if armed
f054301ec2 Plane: add QACRO roll/pitch/yaw rate params
8bcf2439ad Plane: quadplane stabilize manual throttle midpoint and expo
b515431008 AP_Math: add expo and throttle_curve functions
ddfccf1e67 AP_Rally: correct math conversion problems
e3057b40f3 GCS_MAVLINK: remove mavlink send_buf usage
cc14885913 GCS_MAVLINK: remove mavlink send_buf usage
4dbac3de60 GCS_Common: remove mavlink send_buf usage
fb4b092917 plane: restore thr_min behaviour and update description
b22d3a0103 AP_Math: avoid casting floats to int32's for temporary variables
92822a7f01 SITL: fix header
20928ff8da AP_Beacon: fix header
ff4587a33a AP_Math: move location define to Location class
65b4ba0539 ArduPlane: use past_interval_finish_line and line_path_proportion from Location
f91ffffca7 APMrover2: use past_interval_finish_line and line_path_proportion from Location
1854681e09 AP_Math: use past_interval_finish_line and line_path_proportion from Location
8168b3c8e4 AP_Landing: use past_interval_finish_line and line_path_proportion from Location
4f31c3dcd5 AP_Math: move line_path_proportion to Location
e06d7dbbf7 AP_Math: move location_passed_point to Location and rename
0a78368590 Plane: avoid arithmetic exception in powf
732ed17f2f AC_AttitudeControl: bodyframe roll log target attitude bugfix
e8adbba2fc Plane: bodyframe roll log target attitude bugfix
d72f2feeb5 AC_AttitudeControl: constrain input euler roll and pitch in bodyframe roll controls
3e2a253f4a Plane: in QACRO mode, use multicopter attitude target to set nav_roll/pitch
4a47127c58 Plane: updated release notes for 3.9.8-beta1
11e8243bc9 Plane: read RC input in failsafe handler
b86ee4bfc1 Tools: updated IOMCU firmware
c7be7d7343 AP_IOMCU: cope with IOMCU reset
dbe9e30edc AP_InternalError: added iomcu_reset critical error
0461692ea5 HAL_ChibiOS: enable watchdog on IOMCU
6181c66e5c AP_IOMCU: handle watchdog reset in IO firmware
340722c3c3 Plane: don't overwrite home on an armed watchdog reset
ebbe01bd83 Plane: bypass arming checks for armed watchdog reboot
9c6c4101c9 AP_Arming: make arm_checks() virtual
352546c9f0 HAL_ChibiOS: removed unsafe ISR disable for bl update
c63459c237 AP_HAL: added save/restore of attitude in backup registers
508aae8f2a HAL_ChibiOS: added save/restore of attitude in backup registers
f7026b854e AP_AHRS: added save/restore of attitude in backup registers
730982b3c4 HAL_ChibiOS: fixed build with older gcc
b8605c9ee6 AP_AHRS: save/restore home to backup registers
2778a1b01e HAL_ChibiOS: save/restore home position in backup registers
bd84c0a8df AP_HAL: added save/restore of home to backup registers
034d476fa5 AP_InertialSensor: prevent watchdog in accelcal
f0f36c6237 HAL_ChibiOS: fixed watchdog timeout setting
3b5463f061 HAL_ChibiOS: allow for delay in bootloader flash
2313970eaf GCS_MAVLink: added method to lockup autopilot
2476927048 HAL_ChibiOS: don't call internalerror for iomcu
f7c00c506e Plane: read RC inputs in plane failsafe code
63d21d995a HAL_ChibiOS: setup watchdog_reset internal error
d5c2b77573 AP_InternalError: added bit for watchdog reset
0b20d972cd AP_Logger: prevent log erase from triggering watchdog
24c5bf42ae AP_Logger: force logging on an armed watchdog reset
9ca67dc811 HAL_ChibiOS: implement was_watchdog_armed()
4a3687fcf6 AP_HAL: added was_watchdog_armed()
a4ab44a7b3 AP_BoardConfig: auto-restore safety state on watchdog reset
1acb7e977f HAL_ChibiOS: added ability to restore safety state on watchdog reset
8d2f094257 AP_HAL: added was_watchdog_safety_off()
54cbf8ea9e HAL_ChibiOS: change to 2s timeout on watchdog
5a34470256 Tools: rebuild bootloaders
58aca561fd HAL_ChibiOS: fixed watchdog on H7
f727f1c62d AP_Bootloader: use fast boot after watchdog reset
468ee0bd9b Plane: removed an unnecessary delay on init
21aee52604 AP_Compass: flag compass cal as long expected delay
19526b5826 HAL_ChibiOS: implement scheduler->expect_delay_ms()
215c41dbb1 AP_Logger: handle long delays in opening log files
88352b73bb AP_HAL: added expect_delay_ms() to Scheduler
8100c71a96 HAL_ChibiOS: added commented out test code for watchdog
8d57a6a86a AP_Baro: skip cal on watchdog reset
bbe4c92b58 AP_Airspeed: skip cal on watchdog reset
77516329fc Plane: show message for skipping gyro cal
9c48d001ac AP_InertialSensor: skip gyro cal on watchdog reset
03886f241e HAL_ChibiOS: implement was_watchdog_reset()
7f96d4ad12 AP_HAL: added was_watchdog_reset()
a5309b3afa HAL_ChibiOS: record reason for reset
272c277056 HAL_ChibiOS: use BRD_OPTIONS to enable watchdog
288569e156 AP_BoardConfig: added BRD_OPTIONS
c09df1ea7b HAL_ChibiOS: added IWDG watchdog support
c988eb2fd9 AP_InertialSensor: don't set INS_ENABLE_MASK to found IMU mask
c7ed4bfbcc AP_InertialSensor: allow testing of IMU failure
e18f40cc08 SITL: added IMU failure masks
5e1f9068a1 AP_AHRS: ensure AHRS never uses an unhealthy gyro
1969a84e01 Rover: fix omni tri steering and lateral factors
53e99027a3 Tools: add kawachii location for SITL
a963a0d245 Tools: scripts: Suggest exporting JSBSim path after building
43274f5d1b Tools: updated io firmware build
480d33706c AP_IOMCU: fixed safety state on reboot
078b9e85c2 Travis: Remove boards that were moved to semaphore
b0f4611ddc AP_HAL_ChibiOS: Fix python3 with F7 builds
8a5141f751 Copter: mode autoyaw lower in mode.h
7945c1fdfd Copter: mode class unfriends everyone, make relevant methods public
32cc642b2e AC_AttitudeControl: Formatting Changes
7d19ba8550 uavcan: update submodule to fix Python 3.7 issues
9474fa1120 Tools: remove byte order mark from Solo params file
146b0c69d6 AP_Logger: check return values from get_log_data
0b44525bda AP_InternalError: correct cast in debug statement
2cb69366c8 Tools: autotest: facilitate changing mode by number
07747c5c09 Tools: autotest: add and update zigzag flight mode test for copter
b7d0e4ec10 Copter: remove surface tracking shim functions
01909cf4c8 Copter: zigzag mode gets terrain following support
6fbbabd333 AC_WPNav: add origin_and_destination_are_terrain_alt accessor
5ebaeaf5d2 AC_WPNav: add rangefinder_used accessor
89eb876faf Copter: move surface tracking variables into structure
33a57361bd Copter: reduce args passed to get_surface_tracking_climb_rate
a732dfed6d Copter: minor format fixes to get_pilot_desired_cilmb_rate
a2ac0875a7 AP_Airspeed: Fix race condition in SDP3X leading to garbage data
bec9b6dda4 Tools: apj_tool.py: python3 fixes
54a505dade AC_PID: fix filt_d_hz accessor
cd920c7609 AP_ICEngine: sanity check param values
3b9125956e AP_ICEngine: add idle throttle percentage
69882d9898 AP_HAL_ChibiOS: fix Pixhawk4 readme
6dc94b0e3d Compass: fix compass orientation for AK09916 on Cube
c6115f4ff3 AP_Mission: add string for spline waypoint
18ed422a97 Tools: autotest: add test for flying spline waypoints
5e69758661 Tools: autotest: factor out a start_mavproxy method
e166286ff5 AP_SmartRTL: Bitmask is now a template
606614adb9 SRV_Channel: Bitmask is now a template
c143ec47da GCS_MAVLink: Bitmask is now a template
0dd71e7b3a AP_HAL_SITL: Bitmask is now a template
3c3b12ba77 AP_HAL_ChibiOS: Bitmask is now a template
e51a0a7a52 AP_Common: make Bitmask a template on number of bits
4e494d5a63 AC_PosControl: minor comment fix to pre-arm checks
0624f6b8c3 AC_PosControl: minor comment fix
cae020c307 AC_PID: minor format fix
b31cd1adb5 AP_RangeFinder: Remove pre arm distance check
465d6b4dc7 Copter: Remove rangefinder distance prearm check
f1de62f0d3 Copter: added left out copter flight modes as auxiliary switch options
c2318503db RC_Channel: fix-up OPTION param docs
66bdabfa26 RC_Channel: updated the parameter docs
54302d4943 RC_Channel: added left out copter flight modes as auxiliary switch options
caf925eda5 Copter: factorize arm or land check
7b7b852c75 AP_HAL_Linux: fix GCC warning in storage
4a01cc1666 AH_HAL_Linux: add heap support to the HAL
11dcdc58e0 AP_Math: clean up includes a little
2352dd3f12 AP_Common: clean includes up in Location.h
f66f36287e Sub: move setting of compass sys_status bits up
bba902ab94 Plane: move setting of compass sys_status bits up
07b8473a20 Copter: move setting of compass sys_status bits up
5449fe142f Tracker: move setting of compass sys_status bits up
482bb27fe3 Rover: move setting of compass sys_status bits up
efb98437e6 GCS_MAVLink: move setting of compass sys_status bits up
cfbda3fd3e Tools: autotest: add support for parameter file inheritance
42dccc7186 Tools: added Pixhawk6 bootloader
283968afca Tools: rename Pixhawk4Pro to Pixhawk6
967c6462cb HAL_ChibiOS: rename Pixhawk4Pro to Pixhawk6
b2acd15a55 Tools: autotest: encode string to bytes before passing to statustext_send
403195d9d4 Copter: fix auto-disarm check
ac7e969aae SITL: improve airspeed in FlightAxis for RF8
cc679db55b AP_GPS: Log reciever status to GPS SD card
32c583bd20 AP_GPS: Remove external event from GPS data stream
cb88bc7f53 Sub: adjust for desired spool state renames
ad6c1acbd7 waf: add -Werror=type-limits
f09822a400 Plane: adjust for desired spool state and spool state renames
46a6f45e4a Copter: adjust for desired spool state and spool state renames
1e606cdc5b AP_Motors: make desired spool state and spool state enum-classes
79fa39e13b AC_AutoTune: cope with renamed spool state enums
b7eca63073 Tools: autotest: send statustext with test name to autopilot
2c682c7001 Copter: add missing AccelZ to GCS_PID_MASK param description
571d933b3f Copter: fix send_pid_tuning
54fe1dad82 AP_Motors: add missing break to Hexa-H
df85409a4c AP_Motors: Integrate processing result setting true
32ebd2080f HAL_ChibiOS: mark SDIO and SDMMC IO as pullup
6dd05db3b7 AP_Rangefinder: Fix VL53L1X ignoring return status
f1d5269f9e AP_Scritping: remove more libraries from the sandbox
d7e71f85b8 AP_Scripting: Add a debug level param
200870e7a0 AP_Notify: Add singleton, expose string message player
e7d59514d9 AP_Scripting: Add an initial generator
7c017568e4 Vagrant: quieten vagrant/virtualbox window
a2373ebca2 AP_Motors: add support for Hexa-H frame
c00ee6aac5 AC_AttitudeControl: increase rate I gain to match P gain
e170beaf8c AC_AttitudeControl: reduce throttle mix for manual modes
77a7c1bdf7 RC_Channel: fixed typo
49b0a00182 AP_RangeFinder: Delete unnecessary judgment
3a4cbdd41f Plane: remove pointless update_notify shim
006583d812 HAL_ChibiOS: fixed iomcu build with flash driver
7c726b2f42 HAL_ChibiOS: use hal.flash API
7a70a888b5 HAL_SITL: added empty flash driver
6bae0960df HAL_Linux: added empty flash driver
92e509a418 HAL_Empty: added empty flash driver
36f7116054 HAL_ChibiOS: implement flash driver
65d051cbc9 AP_HAL: added hal.flash driver
9fa742e1be AP_InertialSensor: fix compiler warning in BMI088 driver
564a82c5da uploader.py: Add detection for mRo USB devices
ae1d7f0b26 Tools: Add a scripting build target to CI
119c5fe835 Tools: autotest: do not navigate to 0,0,0
9c9ebb908c AC_AttitudeControl: store integrators temps in correct type
70aed0f29c AC_AttitudeControl: store acro passthrough values as float
601504e685 Tools: autotest: ensure RNFD messages emitted
a19df642a0 Plane: RangeFinder now handles RFND logging
3e51d8c7d7 Copter: RangeFinder now handles RFND logging
540d4ae796 AP_Logger: RangeFinder library now does its own logging
dd567ad18a AP_RangeFinder: handle RFND logging
36f12e9818 AP_GPS: use get_distance_NED
2adbfed70a AP_Follow: use get_distance_NED
0b16d7576f AP_AHRS: use get_distance_NED
121e5d0abf AP_Math: move location_3d_diff_NED to Location and rename
7034ef2df7 Tools: autotest: raise throttle in loiter mode
a8a71db258 AP_HAL_SITL: Correct range check on UART ports
4b0339d940 RC_Channel: fixed crash in RC_ProtocolTest example test
d57ea43ea6 SITL: fixed crash in example code run
dc452d41d2 AP_HAL: Change to shared CRC16 method
987966a6d7 AP_RCProtocol: Change to shared CRC16 method
428d4d4574 AP_RangeFinder: fixed TeraRangerI2C refresh rate and status
ec1b6db83b Tools: Remove BRD_SERIAL_NUM from parameter files
8290bd4e67 Copter: check all EKF cores for health on arming
4fda39a79a Rover: Check all EKF cores for health on arming
75e5efc16e Sub: Check all EKF cores are healthy before arming
f5511d6119 Plane: Check all EKF cores for health
334b1622e1 AP_AHRS: Allow checking all EKF cores for health
fe3b29a088 AP_NavEKF3: Allow checking all cores for health
7f639c1bb2 AP_NavEKF2: Allow checking all cores for failure
5db75b313d Copter: use floats for roll/pitch
6364e6d4c1 AC_WPNav: stop casting poscontrol's roll/pitch/yaw to int32_t
5c6c153467 AP_InternalError: make constraining NaNs an internal error
381bb41a5e AP_Math: make constraining NaNs an internal error
0f7281fbb6 AP_Declination: added generator doc
e0fc73776c AP_InertialSensor: return floats from raw-sample-rate getters
4f29d2e5a6 Copter: factorize esc calibration setup
54380bd144 Copter: change always true condition to a timer
08cbf18958 GCS_MAVLink: header include fixes for RSSI changes
3e505f33c3 Plane: use RSSI singleton for logging
41a20504b2 Copter: use RSSI singleton for logging
5e3be86665 Rover: use RSSI singleton for logging
57c4cbc771 AP_Logger: use RSSI singleton for logging
dcb6e74c3f AP_RSSI: make type enum class, remove default clause in type switch
f0379ff7f0 AP_Airspeed: move logging of ARSP into Airspeed library
d90e554608 AP_Logger: move logging of ARSP into Airspeed library
59ef486da0 AP_Airspeed: add AP::airspeed() to get airspeed singleton
4ab13b37ac AP_Airspeed: logger uses the singleton for logging airspeed now
26d8627d18 AP_Logger: use airspeed singleton for logging
e5b25824eb Copter: remove unused takeoff_trigger_dz parameter
92970cf4ed Tools: autotest: add test for Copter poshold user takeoff
ef334fe3c7 Copter: remove hanging method declaration
57b33acb89 AP_Declination: generate tables with float designator
8425a58585 ArduSub: move check_latlng to Location
43dcf066c1 ArduCopter: move check_latlng to Location
5a7081b457 GCS_MAVLink: move check_latlng to Location
e787922ab0 AP_Math: move check_latlng to Location
29b2d7996b AP_Common: move check_latlng to Location
54bc960ca3 AP_AHRS: move check_latlng to Location
3c58fba030 sub: version to 3.7.0-dev
4aaf3e2dd1 Tools: build CUAVv5Nano firmware
a767c15986 HAL_ChibiOS: change CUAVv5Nano default PWM count to 11
c6637fbe38 HAL_ChibiOS: fixed CUAVv5Nano uarts
19b836aecd Tools: added CUAVv5Nano bootloader
ce4abf8dcb HAL_ChibiOS: support for CUAVv5Nano board
ad75b1e56f AP_Scripting: update locations_are_same to same_latlon_as
d8990a002e Plane: update locations_are_same to same_latlon_as
b10e75f4e1 AP_Math: move locations_are_same to Location and rename to same_latlon_as
a700b647db AP_HAL_SITL: fix heap shadowing
47141562c0 ArduPlane: use get_distance_NE instead of location_diff
ebdcfdf65b SITL: use get_distance_NE instead of location_diff
6fbcb21ae3 AP_Terrain: use get_distance_NE instead of location_diff
51437ccc53 AP_Soaring: use get_distance_NE instead of location_diff
b3a1c9c90c AP_NavEKF3: use get_distance_NE instead of location_diff
50e99b6e1a AP_NavEKF2: use get_distance_NE instead of location_diff
058cade92c AP_Math: use get_distance_NE instead of location_diff
49be270377 AP_Landing: use get_distance_NE instead of location_diff
25507d4d7b AP_L1_Control: use get_distance_NE instead of location_diff
4ea10ce5f5 AP_GPS: use get_distance_NE instead of location_diff
d6277390f4 AP_Beacon: use get_distance_NE instead of location_diff
78ce60aa95 AP_Avoidance: use get_distance_NE instead of location_diff
6da820ac7b AP_AHRS: use get_distance_NE instead of location_diff
e4987f17b9 AC_Fence: use get_distance_NE instead of location_diff
3f5a6a243c AP_NavEKF2: use get_distance instead of location_diff
0b50f32c32 AP_Landing: use get_distance instead of location_diff
6397cb0c0e AP_Arming: use get_distance instead of location_diff
00fa07ef33 AP_Math: move location_diff to Location and rename
06ed4f032a ChibiOS: fixed clock for TIM12
fa63243eb0 AP_InertialSensor: added BMI088 accel config retry
928d7c7e71 AP_MotorsHeli: add range checking to ext_gyro_gain
a5bdd12bfa Copter: replace TUNE_LOW/HIGH params with TUNE_MIN/MAX
83f6bed1dc Tools: autotest: add test for taking off in poshold in heli
85be2b0c8b Copter: clean up flip state enumerations
fef42c6219 AP_Baro: fixes for LPS2XH driver
f998a74adf GCS_MAVLink: don't report SCALED_PRESSURE2 with a non-existant airspeed sensor
d5df8312ad Tools: LogAnalyzer updated to use FLOW_TYPE
2f82af9fdf Tools: SkyViper-F412 defaults to use pixart flow sensor
0daed8c793 Tools: update autotest to use FLOW_TYPE
d2a2caf3a6 OpticalFlow: replace ENABLE with TYPE
69626ba855 Copter: rename FXY logging to FHXY
bbd051b246 GCS_MAVLink: send OPTICAL_FLOW messages to optical flow driver
97b5c2b031 OpticalFlow: add MAVLink driver
5e9aebd678 AP_RangeFinder: BlueRobotics Ping driver
65966ac957 AP_RangeFinder: add LidarLitev3HP and PWM to TYPE param desc
df3e73f161 Copter: spool fixes for acro stabilize and throw
d626ea66f1 Copter: poshold loses stray set-desired-spool-state
29d05dfeac Copter: loiter mode gets roll and pitch from loiter_nav
94738c3f86 Copter: change make_safe_shut_down to make_safe_spool_down
f96da56ad6 Copter: Allow safe shutdown before disarming
7ff3a49a10 Copter:tradheli-spool logic fix for acro and stabilize
593925567b Copter: formatting fixes
6e76dff930 AC_AttitudeControl: remove unused set_throttle_out_unstabilized
2daa5ffb9e Plane: replace set_throttle_out_unstabilized
d8d3522cba Sub: replace set_throttle_out_unstabilized
c4e3c4142e AP_AutoTune: replace set_throttle_out_unstabilized
a6bfafefb0 Copter: move loiter and wpnav init out of make_safe_shut_down
38cc5a817f Copter: consolidate mode state decisions
d949c80d54 Copter: tradheli replaces rotor_runup_complete with spool state
db5776d080 travis: added fmuv2 plane build
fb061a225a Plane: fixed build with HAL_MINIMIZE_FEATURES enabled
edd793c152 HAL_ChibiOS: fixed fallback to microSD for storage
27ad9ac3ca AP_GPS: Refactor get_singleton() to return a pointer
35bd143532 Plane: Update GPS before updating current_loc
ce53ae63ae AP_Math: use /2 in place of *0.5f
31daaf9933 GCS_MAVLink: add floating-point-constant designators
3b33f4ca4d Copter: add floating-point-constant designators
85b737db31 AP_Scheduler: add floating point specifier on constant
39ae285a7f AP_Math: add floating point constant designators
ef860db558 AP_InertialSensor: add floating point constant designators
8c68ff2e91 AP_Devo_Telem: add floating point constant designators
5455d27e84 AP_Compass: specify floating point constants
ae8862f266 AP_Beacon: add floating point constant designators
e4b928be4d AP_BattMonitor: add floating point constant designators
c2f04615d9 AP_TempCalibration: add floating-point-constant designators
6cfe7d5f34 AP_Beacon: add floating-point-constant designators
63e75459e2 AC_PrecLand: add floating point specifier on constant
112ace8adb AC_PID: correct AC_PID_LEAK_MIN constant type
2c5373e278 AC_WPNav: add floating point constant designators
10cc05c8ed AC_Baro: add floating point constant designators
d59cf15594 HAL_ChibiOS: enable heater pin on Pixhawk4Pro
2cac03bfd3 Tools: auto-build edge
d188245855 Tools: autobuild tracker on common boards
6105d31c7c AP_SmartRTL: fix rangefinder initilization
ca260623cb AP_OpticalFlow: Fix example rangefinder init
3a25897ab4 Replay: Fix rangefinder constructor
02b4379b6c AP_AHRS: Fix example rangefinder init
698e4e440e Sub: Fix rangefinder init
d28f9151c5 Tracker: Fix RangeFinder init
ea031d720a Plane: Fix RangeFinder init
d1246f5868 Copter: Fix RangeFinder init
8cf7c47f96 Rover: Fix RangeFinder init
21b64ad19b AP_Rangefinder: Remove parameter manipulation from initializer
3f5999a6ad ArduPlane: move location_update to Location and rename to offset_bearing
4cec958269 ArduCopter: move location_update to Location and rename to offset_bearing
58cd9361cb AP_Terrain: move location_update to Location and rename to offset_bearing
3e122c19f3 AP_Scripting: move location_update to Location and rename to offset_bearing
72e4e69add AP_Proximity: move location_update to Location and rename to offset_bearing
12a357ffd7 AP_Landing: move location_update to Location and rename to offset_bearing
a30404fb11 AP_Common: move location_update to Location and rename to offset_bearing
701c5dd4c0 AP_AHRS: move location_update to Location and rename to offset_bearing
b31e5bf055 AP_Math: move location_update to Location and rename to offset_bearing
58328da5f3 ArduPlane: move get_bearing_cd to Location and rename to get_bearing_to
5987966ac6 ArduCopter: move get_bearing_cd to Location and rename to get_bearing_to
007d317741 APMrover2: move get_bearing_cd to Location and rename to get_bearing_to
dfdef294e3 AntennaTracker: move get_bearing_cd to Location and rename to get_bearing_to
492c7532eb AP_OSD: move get_bearing_cd to Location and rename to get_bearing_to
92be1780ac AP_Mission: move get_bearing_cd to Location and rename to get_bearing_to
88b29ff18c AP_Math: move get_bearing_cd to Location and rename to get_bearing_to
288ae80a59 AP_Landing: move get_bearing_cd to Location and rename to get_bearing_to
2efe32e4b1 AP_L1_Control: move get_bearing_cd to Location and rename to get_bearing_to
1abe8c04f2 AP_Frsky_Telem: move get_bearing_cd to Location and rename to get_bearing_to
6faf1d2849 AP_Common: move get_bearing_cd to Location and rename to get_bearing_to
5ac19bc5a3 sub: update release notes for 3.5.4
5c4983ffcd GCS_MAVLink: stop converting compass cal floats to ints before saving
7ae7c48362 AP_Compass: remove set_and_save_offsets taking integer parameters
a6755b6406 AP_Common: correct type conversion issues in _assert_storage_size
a87d388a6c Tools: autotest: Added tests for checking POSITION_TARGET messages for Copter
08b48142c8 AP_UAVCAN: Fix includes
3bc877bf62 AP_KDECAN: Fix includes
bbe500daf8 AP_ToshibaCAN: Fix includes
2e2ef27670 AP_Logger: Remove unneeded includes
f92ee78890 Replay: Fix include
4084cf4def AP_Follow: Fix up includes
125f9bd806 RC: Fix includes
c996dabc12 AP_Mission: Include camera
64c9705679 AP_Frsky_Telem: Improve includes
3017a762f0 Sub: include FWversion
8802ea10e5 Plane: include FWversion
0e8c3dc485 Copter: include FWversion
e0448a6e24 Tracker: include FWversion
7634b988d7 Rover: include FWversion
2d161e3594 AP_Mount: Remove unneeded headers
8cafbe394f GCS_MAVLink: Fix includes
dfd81da149 AP_VisualOdom: Remove unused include
49d20d4b4f AP_Rangefinder: Remove unused AP_Math header
c7a9e8bf93 AP_InertialSensor: Fix implicit include of AP_Logger
52eb832883 AP_GPS: Remove stuff from headers
d65f4b5ff8 AP_Compass: Fix implicit include of SRV_Channel
fc3f09c6c0 AP_Camera: fixup includes
fd8f70c098 AP_Baro: Include AP_Logger directly
63fcd23f7b AP_Arming: Include AP_Logger directly
171f4ac3d3 Plane: Include needed AP_Logger header
84d5d4c933 autotest: fixed precision landing test for copter
f0ee00f778 Tools: Update Docker to new pre-reqs folder
f6535f0ed4 Tools: Update Vagrant to new pre-reqs folder
e8d6e4f135 Tools: Removed JSBSim from Windows install script
7461d70e82 Tools: Consolidated prereq install scripts to single location
ee7ebc95d3 Tools: added name to GIT_Success.txt
696de42eea Tools: autotest: check we're seeing PL messages in the log during precland
ade6281923 Plane: use #if ADVANCED_FAILSAFE == ENABLED just like Rover and Copter
ca40c7f2d5 Plane: create afs_plane.h to match copter and rover structure
dd8bfb0ad4 AP_AHRS: attitudes_consistent: no euler angles
b23d1431da Tools: Added Name to GitSuccess
dce484685b RC_Channel: fix compiler warning. %u should be cast as unsigned
520f5f7894 Plane: add crow flap options paramiter
c484b93314 Plane: Use new RC_Channel AUX_FUNC
86633e45ff Copter: Use new RC_Channel AUX_FUNC
70fa8bc8c0 Rover: Use new RC_Channel AUX_FUNC
3a0ac4bb09 RC_Channel: Move aux_func to class enum
fdd493f079 travis: Move from Ubuntu 14.04 to 16.04
fe9a9479e6 Rover: assign notify is_autopilot_mode flag
1101cc05e6 Tools: param_parse: update OptionParser to ArgumentParser
1830e72a0e AP_Baro: add more comments to example
47f3720040 AP_GPS: add more comments to example and improved existing
eddeea18de AP_Airspeed: add more comments to example
4c809888de AP_Compass: add more comments to example
1af6178be8 AP_InertialNav: fix gcc8 warning
f6941beeb9 AP_Math: fix circulary inclusion error
d47e9c8514 AP_Math: add missing include on matrix3
fbe483ccac Plane: gracefully-ish fail set_mode(qmode)
b8a44e6e52 Plane: rearranged some set_mode checks
05774a8a5a Plane: fixed some rebase duplicate code.
0270c57530 Plane: massive refactor and creation of Mode class
49efe539fc AP_BoardConfig: fixed typo in volt pin handling
4bdc18569e Tools: autotest: correct for new staustext output
fcfd37c025 Rover: rely on AP_Mission to emit GCS text
29258f6752 Plane: rely on AP_Mission to emit GCS text
30d2a2a4fd AP_Mission: emit mission descriptions as they are run
d08ab88dea INS: AP_InertialSensor comments for new cubes
9aaa0cd2e0 AP_NavEKF3: Fix typo  in comment
b7e0a2345c AP_NavEKF3: Fix indexing error
0d3e1a7d23 AP_NavEKF3: flow use parameter improvements
8038efc152 AP_NavEKF2:  Flow use parameter updates
d3e9281846 AP_NavEKF3: Update default plane optical flow param values
e2148e7e2a AP_NavEKF2: Update default plane optical flow param values
35c82ef67f AP_NavEKF3: Improve optical flow height estimation
b848e231c7 AP_NavEKF3: Add parameter to control how optical flow data is used
aa6eee82f4 AP_NavEKF2: Rework opt flow terrain height logic
67d20f3b3c AP_NavEKF2: Update parameter description
1862512c2b AP_NavEKF2: Use flow sensor for navigation with unknown platform type
921205f61c AP_NavEKF2: Minor amendments from review
9883b8757f AP_OpticalFlow: Add noise to simulated sensor
8ac8c7285b SITL: Add parameter for optical flow sensor noise
a40208ebd4 AP_NavEKF2: Improve optical flow height estimation
2b8b53d6b2 AP_NavEKF2: Add parameter to control how optical flow flow data is used
30fec9f54b Tools: ardupilotwaf: make unused variables fatal on all boards
8b34852147 Sub: add param conversion from MAG_ENABLE to COMPASS_ENABLED
fad769f3bf Copter: add param conversion from MAG_ENABLE to COMPASS_ENABLED
d794c0fe53 Rover: add param conversion from MAG_ENABLE to COMPASS_ENABLED
903be58436 Plane: add param conversion from MAG_ENABLE to COMPASS_ENABLED
b1c4a5ade7 Sub: move enabled parameter into compass library
73707077b5 Plane: move enabled parameter into compass library
2040580ce7 Copter: move enabled parameter into compass library
39db4eb871 Tracker: move enabled parameter into compass library
578438c178 APMrover2: move enabled parameter into compass library
54e3959a99 AP_Compass: move enabled parameter into compass library
a372428ec5 Plane: use sanitize method rather than location_sanitize function
dabf92f5b6 Rover: use sanitize method rather than location_sanitize function
e6a8e337c7 AP_Math: move sanitize to be a method on location
fd294101ec AP_Common: Location: move sanitize to be a method on location
81d51b1d1a AP_GPS: move print_latlon into sole caller
431bd77d7e AP_Math: move print_latlon into sole caller
e869eaeda4 RC_Channel: make has_new_overrides non-static
2331232bdd RC_Channel: remove static override_timeout
807c673b4f AP_RCProtocol: tidy RC option flag handling
bc2ede5582 RC_Channel: tidy RC option flag handling
8808991638 RC_Channel: remove unused enumeration
833bc8f12a AP_GPS: Ensure that all ublox configuration failure reasons have a description
da2cf627d8 Tools: autotest: add test for buttons
ab6b84e876 SITL: Fix typo in Sub
8bb0772224 SITL: Add drag simulation in Sub
0e5f9454dd Tools: Update ubuntu script to add pexpect
7b54103271 HAL_ChibiOS: set pwm select pins high for 3.3V PWMout on startup
051842ea34 HAL_ChibiOS: add support for PWM Voltage level selection on CubeYellow and CubeOrange
c0036cbbdd AP_BoardConfig: add support for PWM Voltage level setting
dd62cf5ae0 mavlink: submodule update
f004765494 Plane: fix incorrect misleading comment
c3545be8a1 AP_TECS: fixed a bug in changes from rate-limited to non-limited airspeed
b1119589e7 Tools: autotest: move AVC test into Copter-specific block
8bee299983 Vagrant: add support for disco
6898ec5776 AP_TECS: prevent airspeed demand spikes causing large pitch changes
4eaee039f0 Tools: autotest: avoid touch RC*_OPTION on sub
954b6ae791 Plane: fixed WAIT_ALTITUDE wiggle
b7957e820f AC_AttitudeControl: bodyframe roll log target attitude bugfix
9ab8a55c8f Tools: autotest: correct tracker reboot detection
3ab9fa48dc Tools: autotest: fix sub reboot detection
6f52fa5622 Tools: autotest: do not set ARMING_RUDDER on sub and tracker
d93453f5f9 AP_UAVCAN: fix typedef for callback methods
3869507839 Copter: Tradheli- removes suppression of hover_trim_roll on auto takeoff
3c432cf25c AP_NavEKF3: add getQuaternionBodyToNED
6b70181837 AP_NavEKF2: add getQuaternionBodyToNED
b32ccbfb33 AP_AHRS: fix attitudes_consistent bug
49554bf8d9 Copter: Add function for sending POSITION_TARGET_LOCAL_NED message
b7a40f2bfe GCS_Mavlink: Add function for sending POSITION_TARGET_LOCAL_NED message
b79993a2f2 ADSB: rename dataflash to logger and fix @values whitespace
ade554b3f7 AP_logger: add ADSB log
20e6f6045d AP_ADSB: add logging
ffccd6f263 Tools: autotest: stop using mav.location() for Tracker test
cd0879cff0 Plane: rename dataflash to logger
961085fbd1 RC_Channel: rename dataflash to logger
bf1ed2285a AP_Toshiba: rename dataflash to logger
027f9afcf8 AP_logger: rename dataflash to logger and refactor the filename logger.bin
91b0650765 AP_HAL_ChibiOS: rename dataflash to logger
a8908e3c57 Tools/Replay: rename datalogger to logger
c39cc7dbb8 AP_HAL_SITL: rename dataflash to logger and refactor the filename logger.bin
8845cc2053 GCS_MAVLink: rename dataflash to logger
0a95785ff0 APM_Control: rename dataflash to logger
679ccb95bf AP_OpticalFlow: rename dataflash to logger
17ee20af3f AP_NavEKF3: rename dataflash to logger
8506ae9c32 AP_NavEKF2: rename dataflash to logger
9dc7e5342d AP_Mount: rename dataflash to logger
7e2a944eb2 AP_KDECAN: rename dataflash to logger
3eeaa2c8df AP_InertialSensor: rename dataflash to logger
12c3446777 AP_GPS: rename dataflash to logger
58614fd96a AP_Camera: rename dataflash to logger
cc88e65fc3 AP_BLHeli: rename dataflash to logger
9aa1fe6dc5 AP_BattMonitor: rename dataflash to logger
b54da9aab8 AP_Baro: rename dataflash to logger
4178ef98ba AP_Arming: rename dataflash to logger
e67b6e15fa AP_Airspeed: rename dataflash to logger
a577223ac6 AP_AHRS: rename dataflash to logger
966b2652fb AP_Terrain: rename dataflash to logger
15b89f37ef AP_SmartRTL: rename dataflash to logger
e9bb6a7d69 AP_Scheduler: rename dataflash to logger
ff043204dd AC_AutoTune: rename dataflash to logger
ce872d83a4 AC_AttitudeControl: rename dataflash to logger
2dc766556d Sub: rename dataflash to logger
7030dbc766 Plane: rename dataflash to logger
7824b64ad6 Copter: rename dataflash to logger
6f5497cac3 Rover: rename dataflash to logger
e9ba121467 Tracker: rename dataflash to logger
bbc38f41eb Plane: use convenience manual_override method
86bd531b24 Copter: use convenience manual_override method
32b29b3394 Rover: use convenience manual_override method
30a66d9f13 GCS_MAVLink: implement a convenience manual_override method
543bb289f4 AP_BoardConfig: fix SLCAN param descriptions
7c09084f02 Copter: add Loiter and Follow to aux switch
b496af411e GCS_MAVLink: fix typo
6e1e89bb70 AP_FlashStorage: fixed a corruption bug
8441542a52 Copter: remove climb_rate cache of inertial_nav.get_velocity_z
fb544cab78 AP_Proximity: Change from method reference to macro
7340502f18 AP_Common: Set the value of UINT16 with HIGH byte and LOW byte
6bac6cd725 Copter: remove redundant compass arming checks
e56c970eb0 Copter:AP_ARMING - remove collective position prearm check for heli
83b882417f Update GIT_Success.txt
b3f093b877 Plane: remove trig calls from constexpr
494a3f86ad AP_IntertialSensor: support ICM20601 IMU
2d2b02e50b Tools: added more INS device decodes
2cbd97dd7a AP_OpticalFlow: support cx-of on all boards
e3561f7204 Sub: add log entry if depth sensor failure is resolved
b6ee93aeef AP_Logger: change BAD_DEPTH logerror code from 0 to 3
e9398e73ff Copter: tidy get_pilot_desired_throttle
74e4a7047f Tools: autotest: add simple test for Copter flying with MANUAL_CONTROL
5d8747c81d AP_InetialSensor: fixup ENABLE_MASK parameter desc
cf595e4f40 travis: Use clang-7 and not clang-5
c1c71fec23 Copter: move Mode functions into mode.cpp from Attitude.cpp (NFC)
7e01d1ef50 Copter: correct compilation for ERROR_SUBSYSTEM_FLIGHT_MODE changing names
706a75ad03 Sub: move Log_Write_Error into library
0d0dfd49bd AP_Logger: accomodation for Sub error subsystems and codes
c7e21d95ef Copter: move Log_Write_Error into library
4d4a63cc33 Rover: move Log_Write_Error into library
d2a683a758 AP_Logger: move Log_Write_Error into library
86f8fcfd8a Tools: autotest: add test for Rover manual control
9a16b40a73 Tools: autotest: rename get_rudder_channel to get_stick_arming_channel
2959d38e0e autotest: Remove magic numbers in ardusub
7dafde5783 Plane: stop passing dataflash into handle_radio_status
7a1648059b Copter: stop passing dataflash into handle_radio_status
fda4487afe Rover: stop passing dataflash into handle_radio_status
778bff966c GCS_MAVLink: stop passing dataflash into handle_radio_status
58de6f1e68 Rover: remove unused channel_aux member
6152f31c1e AC_PosControl_Sub: Add new relax_alt_hold_controllers
d2052cdd35 Sub: Use new reset_i in relax_alt_hold_controllers
33768cd79c Sub: Fix overshoot from joystick input
335c1769ee Copter: do not allow change to Drift if in non-manual-throttle mode
25e5243b63 Tools: autotest: include drift in Copter ManualThrottle tests
d95160b33c Copter: move check for high-throttle on mode change up
34d9ce27af Copter: make get_pilot_desired_throttle a method on Mode
265d8d62cd Tools: autotest: add timeout to wait_ekf_flags waiting for EKF_STATUS_REPORT
18a211f3e6 Tracker: stream out EKF status report
26ec280507 Tools: add HK-HydroPro-Inception parameter file
59526efa02 Tracker: restore scan mode functionality
176d26b40a Tools: generate_manifest: flake8 compliance
02e687e99c Tools: generate_manifest: improve handling of unknown tags
6fe7db2f43 Tools: autotest: add test for REQUEST_MESSAGE
0ef26a6950 GCS_MAVLink: add support for request_message
9c8a7efbc6 AP_Compass: remove unused field
e8b5fd4c70 Rover: Fix typos
33764d6c3b Copter: Fix typo
55047324ac AC_AttitudeControl: add new tailsitter bodyframe roll option
e0765747e7 Plane: add new tailsitter bodyframe roll option
4e9b6d1919 AC_AttitudeControl: improve tailsitter bodyframe roll control
efdad1fca7 AP_Frsky_Telem: fix for passthrough telemetry stall while sending message chunks
d0bf257357 Plane: move various sensor status flag updates up
173611e819 Sub: move various sensor status flag updates up
b976442e64 Tracker: move various sensor status flag updates up
f63a5d5c1b Rover: move various sensor status flag updates up
9a2d5ac5a6 Copter: move various sensor status flag updates up
2796beac8d GCS_MAVLink: move various sensor status flag updates up
b58ded8e0c AP_Mission: use void casting to prevent GCC warning on memcopy
1d8cc85cb9 AntennaTracker: zero initialize vehicle instead of memsetting it Solve gcc8 warning
da1e5bc61f AP_AHRS: refactor View
ffc94f19cd Plane: use AHRS view for all vtol modes
d78275c0a3 AP_AHRS: rotate if none zero pitch trim
eab7d08021 AP_IOMCU: fix includes
37d121ae02 AP_RangeFinder: remove useless includes
231e684d96 AP_SerialManager: fix includes place and order
e3830d3ca4 AP_SBusOut: fix includes place and order
585c853a59 AP_RobotisServo: fix includes place and order
71174f41f8 AC_AutoTune: correct multiplier on ATDE and ATUN
bd8a27476e AP_Logger: make structure validation failure at runtime fatal
eb1fc3107c AC_PosControl: log PSC data in metres in place of centimetres
b97aae5b1b Update GIT_Success.txt
e155ddbeba Tools: autotest: add yaw test for motor fail test
c6b8335392 Tools: autotest: improve debug for lack of mode map
938865da41 AP_HAL_Linux: add override to virtual method
ad67511f46 Sub: bugfix fail condition in motor test initialization
7b5fb719dc AC_WPNav: Remove unused internals, and unneeded initilizers
655421c526 AP_Baro: remove unused field
3f1fbbf6c6 AP_Logger: simplify the message writers
f19b831bc3 Tools: autotest: add brake mode test
aca1651488 AP_Frsky_Telem: fix ap_status_timer handling
9cab607d0a Tools: pexpect python dependency used by autotest
d4fe65b43c Tools: Replay: remove definition of Devo constructor
513a635ff7 Sub: remove definition of Devo constructor
65e6875acf Tracker: remove definition of Devo constructor
fc54f27c1c AP_Devo_Telem: use stack for packet construction
2dae643280 AC_PID: update example to stop shadowing global chibios variable
26c01accb9 AP_HAL_SITL: remove unused from method
649130adcb AP_Common: uniqify semaphore names
e6a1789df8 Tools: ardupilotwaf: make shadowed variables fatal on all platforms
a23a60d1ea wscript: add option to enable sfml audio
0b376f1f14 Tools: autotest: add --tonealarm option to sim_vehicle.py
a1088f6cd6 AP_HAL_SITL: add support for ToneAlarm via sfml
22bf7817e1 AP_Notify: include AP_ToneAlarm for SITL
156d580bcd Tools: ardupilotwaf: include sfml-audio
9c26b5bb9c AP_Mount: fix SToRM32 Serial protocol delay
70c1414026 FrSky: Adjusted offsets
16476332b2 Tools: autotest: fix no-gps switch-to-location test
1e2cf4bb60 Tools: autotest: fix sethome test under Python3
ee690e7ab9 AP_Logger: use AP_InternalError for tracking internal errors
b3203601f3 GCS_MAVLink: send internal errors as bitmask in sys_status
422aa8ad7e DataFlash: include internal errors in dataflash PM message
d762629c62 Tools: waf: link AP_InternalError everywhere
82f8a7fa1b AP_Scheduler: include internal errors in dataflash PM message
2e885739e3 AP_InternalError: add singleton for tracking internal errors
4379186333 Tools: scripts: remove dated directories from manifest
71af938a12 AP_UAVCAN: use fixed-size memory pool
4a334d0ed7 AP_IneertialSensor: fixed startup race in SITL
0a718ba330 AP_IneertialSensor: fixed orientations and gyro scale factors for new Invensense IMUs
8c2d3945de AP_IneertialSensor: add support for custom accel scale
3a833d9a90 AP_InertialSensor: fix rotation for ICM20649
bc97ee5498 Tools: fix uploader for macos systems
4e151197a8 AP_Logger: log units and multipliers correctly
2ec470aaee Copter:tradheli - added swash params to convert on upgrade
01bd99907b AP_Motors:Tradheli-swash library parameter scope improvement
79b069afc3 AP_Motors:tradheli-swash library general clean up
2fc942ac24 Copter: tradheli-convert swash parameters on firmware upgrade
8c46fe1c61 AP_Motors: tradheli-fix parameters for generic swashplate and other minor fixes
9f547cc328 AP_Motors: Tradheli - support for linear servo output for swashplates
b8d53b7a57 AP_Motors:TradHeli - add new swashplate descriptions to params for Heli Single and Heli Dual
d7e6298366 AP_Motors: Tradheli - add swashplate library
ca81cd0f1b Tools: build_binaries.py: build SITL binaries for x86_64-linux-gnu and arm-linux-gnueabihf
780e0e2eba Tools: ardupilotwaf: build SITL binaries for x86_64-linux-gnu and arm-linux-gnueabihf
1a81da4a26 Tools: ardupilotwaf: sort boards in help text
935840ebb0 Tools: autotest: add test for setting home to current location
236056ffbd GCS_MAVLink: take 0,0 as meaning set-home-to-current-location
b3f76e39ec Sub: move command-long DO_SET_HOME up
f4a21d446f Copter: move command-long DO_SET_HOME up
6b26e87854 Rover: move command-long DO_SET_HOME up
95745f0d31 GCS_MAVLink: move command-long DO_SET_HOME up
47f55b5fed Rover: remove copy of home
eb16c30bdb Tools: Replay: add stubs to avoid linking devo
c7a9bed5ba Tracker: add dummy methods to avoid linking DevoTelem
f4cafe4ffa Sub: add dummy methods to avoid linking DevoTelem
6c5c14381f Plane: move devo telemetry handling to GCS
451f5f17ce Copter: move devo telemetry handling to GCS
9c36887a90 Rover: move devo telemetry handling to GCS
32d576ac4b AP_Devo_Telem: move devo telemetry handling to GCS
bc2080cea2 GCS_MAVLink: move devo telemetry handling to GCS
3100c8edad GCS_MAVLink: GCS can report simple/supersimple input modes
1efc08b54e AP_FrSky_Telem: eliminate use of Copter's _ap data
4f70bdd046 Copter: GCS can report simple/supersimple input modes
903b2e381b Rover: GCS can report simple/supersimple input modes
fabf0a10d5 Sub: move vehicle_initialised to be on GCS not GCS_MAVLink
a5c18ff8f5 Copter: move vehicle_initialised to be on GCS not GCS_MAVLink
070b185d2a Rover: move vehicle_initialised to be on GCS not GCS_MAVLink
cf264a7d5e GCS_MAVLink: move vehicle_initialised to be on GCS not GCS_MAVLink
1a55f0ffab Plane: FrSky support has moved to GCS
0194cd69a1 AP_Frsky_Telem: take is_flying from AP_Notify
e22b29bce4 Copter: FrSky support has moved to GCS
680008ba4f AP_Frsky_Telem: use gcs() to get frame string
b12d20d86c GCS_MAVLink: add support for frame_string
5e73648d2a Rover: move FRsky telemetry up into common GCS telemetry class
4e49e89b33 Tracker: move base_mode and frame_type into GCS from GCS_MAVLink
1ce531b921 Sub: move base_mode and frame_type into GCS from GCS_MAVLink
e5818308b9 AP_Frsky_Telem: move FRsky telemetry up into common GCS telemetry class
ab1c42696c GCS_MAVLink: move FRsky telemetry up into common GCS telemetry class
6b4733c9f0 Tracker: fill Notify flag for flying
5b618fb582 Sub: fill Notify flag for flying
7d2138bed9 Rover: fill Notify flag for flying
d58a15ca32 Plane: fill Notify flag for flying
3e0ec99100 Copter: fill Notify flag for flying
a36d2dd5b8 AP_Notify: add flag for flying
2ffded4dd7 AP_AHRS: implement get_velocity_NED() for DCM
e014b3d308 mavlink: submodule update
929e84d120 Tools: ardupilotwaf: add -Werror=attributes
6622a4579e AP_AHRS: fixed warning on WARN_IF_UNUSED
5eb9622105 GCS_MAVLink: correct compilation for ALT_FRAME issue
2ed1757353 AP_AHRS: Remove unused uptime
94a1835a9b AP_AHRS: Tag most of AHRS_VIEW as WARN_IF_UNUSED
c7c8c2a7c5 AP_AHRS: Tag a lot of the accessors as WARN_IF_UNUSED
75caad52c0 GCS_MAVLink: Always check the return value on get_velocity_NED
fcb54c2d68 AP_Frsky_Telem: Enforce the use of 0 when velocity_NED is not available
0743b979fa AP_Logger: Don't log AHR2 unless the quat is available
8e8ce6be35 AP_Landing: Fix unconditional use of airspeed estimate, even when it was invalid
5571a84a49 AP_BattMonitor: added a "battery" backend for liquid fuel flow
6bf600c587 Tools: autotest: cope with being unable to reboot while armed
778b88cba2 GCS_MAVLink: disable reboot when armed
e71eae7d3b AP_AHRS: add new method get_quat_body_to_ned()
1c52458d72 AC_AttitudeControl: use new method get_quat_body_to_ned()
3dc2db8d9a GCS_MAVLink: queue parameter request even if we can't fit a reply ATM
4eba6d4fe2 GCS_MAVLink: exempt requested parameters from buffer space reservation
f0200a4d9b GCS_MAVLink: GCS_Common: correct overflows in bandwidth and count calculations
227f6499d3 Copter: mark vtol_state and landed_state methods as override
716b0fdc88 GCS_MAVLink: use enum class for AltFrame enumeration
bdcb48d835 AP_Mount: use enum class for AltFrame enumeration
9ab33fd3c4 AP_Mission: use enum class for AltFrame enumeration
3889c91974 AP_AHRS: use enum class for AltFrame enumeration
495111d67e AP_ADSB: use enum class for AltFrame enumeration
d9ddb8f34d AC_WPNav: use enum class for AltFrame enumeration
3629273959 AC_Fence: use enum class for AltFrame enumeration
b346e82b3e Replay: use enum class for AltFrame enumeration
eb7cf9843e Sub: use enum class for AltFrame enumeration
f940564f2b Plane: use enum class for AltFrame enumeration
366051c39f Copter: use enum class for AltFrame enumeration
6e67481355 Tracker: use enum class for AltFrame enumeration
4c9651dbfd SITL: use enum class for AltFrame enumeration
22c0175d7f AP_Location: use enum class for AltFrame enumeration
61a04bd898 AP_AHRS: fix bug in attitudes_consistent()
825055d736 Plane: add rate-only option for QACRO mode
6414f0e48e Plane: skip plane assignments in QACRO
abfeee3a3d Plane: fix indentation
5cdfccad14 AP_Motors: specialize MotorsMatrixTS motor controls
3907466f9d Plane: added TKOFF_TIMEOUT parameter
2b6210d594 Plane: use WP height for height above ground in vtol landing
b4103d04cc Plane: never use vfwd motor if vtol motors shutdown
7908ad437e Plane: allow fwd motor to run in VTOL land hor positioning
2d14d79a65 Tracker: clamp output angles to relevant ranges
020aa6bd49 AC_AutoTune: emit a warning every second while pilot overrides active
1ac74e2fe5 Tracker: add initial mode parameter
392b59d7d6 Tracker: set actual and desired for GCS-PID message
144e3ed39a Tracker: initialize mission object
eb96dcf173 Rover: consolidate compass calls in sensors.cpp
c36345b2cc Rover: move declaration of rpm_update
7a80eb0169 Rover: move update_mission to APMrover2.cpp
d9805a9366 Rover: move methods in commands_logic.cpp to mode_auto.cpp
5286b6fab6 Rover: re-order auto mode implementations
7498972b8d AP_RPM: add AP::rpm() call for singleton
b1c789f73d Sub: move sending of RPM message up
0edba9070f Plane: move sending of RPM message up
85d9dd6f64 Copter: move sending of RPM message up
fb5532356a Rover: move sending of RPM message up
bb1ae30594 GCS_MAVLink: move sending of RPM message up
8d6748dc4f AP_ADSB: add special vehicle that ignores range filters
ec59fe9398 ADSB: cleanup, make more things const
624d6b5490 AP_ADSB: add accessor to fetch a vehicle from database by icao
99dd588f28 Rover: version to 3.6.0-dev
f61f93ecf3 Rover: minor simplification to guided-within-auto
28ac2c2600 Rover: rename guided limits start_time_ms
591e2ebeea HAL_ChibiOS: remove unused config files
7239e2bd07 Tools: fixed iomcu build with configure_all.py
d942b64584 HAL_ChibiOS: fixed NucleoH743 build
bf0a4a23b2 HAL_ChibiOS: fixed build of crazyflie2
3d7c6fea78 Tools: added --stop option to configure_all.py
467e8481fb Copter: minor formatting fix to ekf failsafe check
6bee4216c0 Copter: speed up EKF failsafe by checking if velocity innovations > 2x FS_EKF_THRESH
c40312d0f9 Copter: fix to acro trainer leveling mode
873096f791 Tools: autotest: add test for Rover offboard-in-auto function
27b50f125c GCS_MAVLink: send_set_position_target always sends alt-above-home
95d68b0cf5 Rover: reached_destination becomes const
3f8adb4e7d Rover: guided-within-auto target moved to structure
89f0418c0f Rover: support do-guided-limits mission command
721c200bcc Rover: support guided-within-auto
066a443e5f GCS_MAVLink: add send_set_position_target_global_int
1e1f14f6e9 AP_Mission: add text string for do-guided-limits
f4416cd3f2 AP_Mission: nav-guided-enable command stores location
e57ec068f0 Copter: remove duplicate guided limit-init-time-and-pos
8d66c5f547 Copter: move do_payload_place handler
9f1eaf4b37 AP_RCProtocol: fixed RC option check for iofirmware
ac3da71efd AP_Vehicle: added iofirmware vehicle type
db9912fd58 AP_RCProtocol: use RC_IGNORE_FAILSAFE
59082a0833 RC_Channel: added RC_OPTIONS flag for failsafe ignore
4f136512f0 Tools: autotest: fix balancebot RTL test
0215e08f86 Tools: add option to configure_all.py to do builds
b754d56ecb HAL_ChibiOS: fixed revo-mini build
69edd5a544 HAL_ChibiOS: fixed typos in hwdef.dat files
9c3e606076 CI: added configure-all.py to travis testing
e67ccbe13d Tools: added bootloader configure to configure_all.py
cd27e3022f HAL_ChibiOS: check for prefix match on peripherals
3fd3e88d04 HAL_ChibiOS: fixed typo
b3f48a1477 HAL_ChibiOS: added CS line for Pixhawk4Pro temp sensor
880a55c6a2 AP_InertialSensor: fixes for BMI088 on SPI
836adb6b0b Tracker: use pitch-min and pitch-max in place of constants
a967caa924 Tracker: add parameters for yaw and pitch scan speed
9ca2c9d692 Tools: autotest: python3 fixes
fa082df040 AP_HAL_SITL: add missing CLOEXECs on tcp ports
841c222a12 Tools: autotest: add check that GPS is good before arming
72aeb26e86 Tools: autotest: allow more time for gps-glitch-in-auto test to run
3a6298db9b Tools: autotest: loosen maximum distance allowed on loiter-to-ne
0aeb6c0e26 Tools: autotest: ensure initial home position is similar to sitl start pos
2d16c37844 AP_Compass: examples: compass init never fails
4fa04e730b AP_AHRS: examples: compass init never fails
d489d9a585 Plane: compass init never fails
069a2d0e35 Sub: compass init never fails
b933f050b8 Tracker: compass init never fails
144f4e08b8 APMrover2: compass init never fails
6d87b9316f ArduCopter: compass init never fails
f8be4efed4 AP_Compass: init never fails; return void rather than bool
d53f787a14 Tools: factor init up into parent class
844999c458 Tools: autotest: get accuracy before doing RTL
c48042424b Sub: use enum class for ArmingMethod and ArmingRequired
5bd0db4117 Rover: use enum class for ArmingMethod and ArmingRequired
ca7566fff9 Plane: use enum class for ArmingMethod and ArmingRequired
f189860162 Copter: use enum class for ArmingMethod and ArmingRequired
0dacf78c12 AP_Arming: use enum class for ArmingMethod and ArmingRequired
8d75e8c5bb INS: AP_InertialSensor.cpp
f7ecba1a36 Tools: autotest: shove resets shove-time to zero; eliminate race condition
65d0443c26 Tools: autotest: drain mav either side of initialising-after-reboot
fcff818a23 Tools: autotest: increase timeout allowed for getting first nav-controller-output message
f71f100d6a Tools: autotest: make drain_mav truly drain the mavlink connection
281dbfcef8 Copter: support send_extended_sys_state
34e09a55be GCS_MAVLink: support send_extended_sys_state
e045f61473 Tools: autotest: add test for throw mode
4db011f530 SITL: add SIM_SHOVE_* options to shove the simulated vehicle
8c84fa5c64 AP_AHRS: apply AHRS trim in SITL
0bf2fc004e AP_AHRS: Warn if the return value on (get, set)_origin is not checked
281d3b1189 AC_Fence: check the return value of fetching the EKF origin
cbb0bfb809 Plane: is_flying_vtol: if spool mode is shut down we are not flying
b47b97a981 Tools: autotest: add test for QuadPlane controller pre-arm checks
cf45b54070 Plane: quadplane use prearm checks from Attitude and Position controllers
f7bf10fcfc ArduPlane: add rudder to tailsitter gain scaling
499cc45ac0 AP_Math: move longitude_scale into Location class
a1c751919c AP_Common: move longitude_scale into Location class
d7735a316a Sub: remove unused calculation of longitude scale
f7b34677df GCS_MAVLink: Don't send BATTERY_STATUS for empty instances
d96aad86a5 AP_BattMonitor: Make type() const
52544e5b9f ChibiOS: fixed f412 build
b450355ff6 Tools: autotest: remove needless wrappers, initialisation etc around guided-submode test
57ab496a1c Tools: fixed board selection in build_binaries.py
13e3c2fa92 Tools: fixed exception in generate_manifest.py
28e27b4120 Tools: autotest: improve test reliability
aca2115401 Tools: auto-build CubeYellow
2842063146 HAL_ChibiOS: optimize CubeYellow build
59652ad147 HAL_ChibiOS: added more IMU devices for Hex Cube boards
81cd103073 AP_InertialSensor: probe for new v2 invensense IMUs
9f80e5b5f5 Tools: autotest: fix horizontal fence test
6418226106 Tools: autotest: increase test diagnostics
c5c67362fa Tools: autotest: do not test Copter for loiter-requires-position
2ef24e700e Tools: autotest: correct gripper tests
88f34a8456 Tools: added bootloader build for mindpx-v2
7577ebb33e HAL_ChibiOS: added bootloader hwdef for mindpx-v2
f7b6f9d70b HAL_ChibiOS: added retries to flash based storage
7f0f2661e3 ChibiOS: added fatfs IO retries
f30f7ca395 travis: added F7 and H7 boards to travis builds
d48eab893a Tools: autotest: stop swallowing critical messages with get_sim_time()
38e26757fd Tools: autotest: add option to quieten some functions
63895d8b0c HAL_ChibiOS: setup dummy pointers for H7 SPI
249676ca32 ChibiOS: submodule update
1414988870 HAL_ChibiOS: use spiSend/spiReceive
d47663c0ba Tools: allow uploader.py to detect ttyS* on Ubuntu on Windows (WSL)
e4b3ad377d Tools: autotest: acceptance distance for rally points is WP_RADIUS
c464da69f1 Tools: autotest: fix Plane guided test
01440f2587 Tools: autotest: increase debug on precland
dff3ea416c AP_InertialSensor: allow for LSM9DS0 to be used on I2C
cf8a7fd423 AP_Logger: add values to backend-type param description
2a9e0859c7 Tools: autotest: use class map for getting test class for full test name
a504f9ac8d Tools: autotest: add option to use cached home for distance_to_home
785c91e269 AP_Common: Semaphore is missing an include
529903622d Tools: autotest: reduce output lines in NavDelay test
26d1371d25 HAL_ChibiOS: separate out DMA allocation for sdcard IO
a7c91d1cb4 HAL_ChibiOS: show all SPI clocks
243abe8751 Tools: autotest: allow balancebot tests to be run individually
4d3ca97a0f Tools: autotest: correct pre-arm flags-OK checks
19f51813f2 Tools: autotest: include mavproxy output in all vehicle test log files
236ab29e51 Tools: vagrant: adjust paths for JSBSim now being built in build directory
09b09ad288 Tools: scripts: Update jsbsim installation script.
5a64f8d8ba AP_GPS: use proper macro in array sizes
ba5ef18ef7 AP_GPS: correct blending check
cb1ce70ae8 AP_GPS: fix out-of-bounds array access
a17dbbe856 Rover: remove redundant PreArm: in check_failed calls
7b6fef16aa Copter: remove redundant PreArm: in check_failed calls
8991fd8fcf AC_Fence: clear breaches if boundary invalid etc
434f22cf40 AC_Fence: correct fence upload reload boundary trigger
194142b343 Tools: autotest: add simple test for fence prearms
cc8912255e Copter: move checking of fence up
a38092e220 Rover: move checking of fence up
7bdd2eb755 AP_Arming: move checking of fence up
12981b1f07 AP_Arming: correct use of failure messages as format strings
e78eec3292 Tools: autotest: account for Rover blowing past home in DriveRTL
f2e3d377ad Tools: autotest: drain mav during RTL test to improve reliability
c04d2145a1 AC_Fence: correct fence pre-arm position check
26fd334882 AP_Arming: provide better feedback on attitude check
ba02894734 AP_AHRS: attitude pre-arm check skips yaw if no compass
91436c5314 Tools: autotest: add test for high-throttle-at-mode-change
0cdb1c9d1e Tools: autotest: remove redundant wait-ready-to arm output
9e50c1b64e waf: fixed case insensitive board name
b1bbe09602 Tools: autotest: increase timeout on pid tuning
f23c6e1624 Tools: autotest: better streamrate reset
086b4c1cfd AP_InertialSensor: use default value for temperature scale and offset
6ff8f52957 AP_Compass: add support for AK09916 connected over fourth IMU over I2C
b76ec8cc11 AP_InertialSensor: fix slave register structure for Invensensev2
104c433081 AP_Compass: AK09916 fix sample register structure
0d4725d6c6 HAL: add Invensense register bank based sensor types
cff8bf14b7 AP_Compass: add support for AK09916 via invensensev2 aux bus
528c0b4d7c AP_InertialSensor: add drivers for register bank based Invensense Sensors
0cfcd0986e AP_InertialSensor: look for icm20602 for Pixhawk 2 series flight boards
fef81b6381 HAL_ChibiOS: add support for new main sensors
cf7e95eaba BoardConfig: add detection procedure for new sensor configurations
e800ae21ed Tools: autotest: add simple test that althold works
ead3682e4c Copter: correct ACRO_YAW_P param description
938868cc03 Copter: 3.6.7 release notes
d3b8504757 Tools: autotest: improve debug output
20bbf99b28 AC_AttitudeControl: add body-frame yaw mode for tailsitters
4a6b97828f ArduPlane: add tailsitter input type TAILSITTER_INPUT_BF_ROLL
01d6f1d932 ArduPlane: add body-frame yaw mode for tailsitters
872c3df45c Plane: tailsitter pull in copter ouputs from AP_motors
d075965fce AP_Motors: tailsiter remove push of plane ouputs
50d95943e3 AC_AttitudeControl: add pre-arm checks
cac87b8e0b Copter: use attitude and position controller prearm checks
b40f03dfbe Tools: autotest: add test for Copter PID parameter checks
a2ebdf6f2e Tools: autotest: Indicate we have handled an alarm
ee15be3bb3 Rover: fix multi-motors prearm check
0efb404ff6 Tools: autotest: add simple test for AIRSPEED_AUTOCAL
c25ce2cee8 AP_AirSpeed: move sending of airspeed_autocal into AP_AirSpeed
bd444d97dc Plane: move sending of airspeed_autocal into AP_AirSpeed
b4af1dae0f Tools: autotest: skip rudder disarm for balancebot
5f315aab59 Tools: autotest: fix infinite hang in wait_statustext
58a128f430 AP_Motors: add support for copter tailsitters
6e4a2b97f9 ArduPlane:add subclass for copter tailsitters
4f69eefd4a Copter: remove unused includes
2006ecf109 AP_Notify: add OBC colour scheme
f8ac5a5419 AP_Notify: add parameter for logic level buzzer sounds at
a97c9bdd5b AP_Notify: enable buzzer under ChibiOS regardless of HAL_BUZZER_PIN
d9e876bfb2 AP_Notify: simplify buzzer playing
b04d084a50 Sub: move sending of send_pid_tuning up
94899bd2ed Plane: move sending of send_pid_tuning up
eed73749f9 Copter: move sending of send_pid_tuning up
166f246744 Tracker: move sending of send_pid_tuning up
1debd88083 Rover: move sending of send_pid_tuning up
74702b8688 GCS_MAVLink: make sending of send_pid_tuning up
8c35ddc0eb Tools: autotest: add PID_TUNING test
f33ba58549 Tracker: add PID_TUNING message
7f63720257 AP_Common: Location.cpp: force handling of all alt frames
61aff344d3 ArduPlane: add high-speed Qmode tailsitter gain scaling with support for airspeed sensor
487ad7a90f Plane: add QACRO mode for quadplanes
e68ceda59e Tools: scripts: uploader.py takes target-system / target component
e8401671e3 Sub: Allow scripting to run
cac4b91671 Copter: Allow scripting to run
1420ac868d APMRover2: Allow scripting to run
76743b7f1d AntennaTracker: Allow scripting to run
7183b504a7 AP_Scripting: Fix bad location changes
102141756a waf: make board name case insensitive in waf configure
8d4215fd82 Update AP_Airspeed_MS4525.cpp
792fbc6240 Tools: autotest: allow imprecise home in set-home test
88e3f6f78c wscript: add slowdown and timeout to coverage autotest commandline
31697a3b0c Tools: add support for GCOV code coverage tool and HTML reporting with LCOV.
6a5913ea7b ChibiOS: submodule update
160de969a5 HAL_ChibiOS: simplify H7 clock tree setup
764bd97e89 Tools: update Pixawk4Pro bootloader
5bcfe41d1f HAL_ChibiOS: push H7 clock to 400MHz
bef6a01682 Tools: Separate words with spaces in a help message
7b3e8afd4c AP_RCProtocol: added another SUMD test
b1eeaa3019 SITL: fixed segv without SITL object
e00d242688 Tools: added EKF maths to CPUInfo
48e4d779ac Tools: scripts: uploader.py: add dict of compatible board IDs
539000df40 AP_Logger: remove more DataFlash references
a59e1d0e0f HAL_ChibiOS: fixed H7 dma sharing between BDMA and DMA
c7ca6d77c7 HAL_ChibiOS: H7 doesn't need a DMA mapping for SDMMC
6f07d804b9 HAL_ChibiOS: adjust Pixhawk4Pro VBUS and DMA priority
54cb76ca83 Tracker: remove dead case in message switch
3f6dd706d1 Tracker: accept arm/disarm to any component ID, not just MAV_COMP_ID_SYSTEM_CONTROL
6103d5ebac Tools: autotest: add a simple dataflash-over-mavlink test
603d9f6907 HAL_ChibiOS: fixed typo in ITCM base address
facfa53f57 Tools: waf: add -Werror=overloaded-virtual
70d4d2ac8f Tracker: honour vehicle arm status
5399b659ea Tracker: handle Tracker fixed position
20d79207d8 GCS_MAVLink: make send_global_position_int virtual
abef07ac9c CI: allow travis to upload failed test log on server
4ac5fb42cd Tools: don't upload failed log on ardupilot server by default
b45e2ed6ab Tools: correct log download for copter
42cc9c755a AP_IRLock: add SITL IRLock
40e7d22811 AC_Precland: use SITL precland object
be5478902c AP_HAL_SITL: add precland object
04bc267a61 SITL: add precland object
dfa5a423ec AP_Logger: add sanity check that trigger for bad float multipliers
7c05364612 Copter: reindent mode init functions (NFC)
d43bcf4649 Tools: autotest: add simple mode-requires-position test for Copter
fab2d59a1c Copter: move check for position up
9dad451ef5 Tools: autotest: use start_subtest in arming test
39e7733872 Tools: waf: add -Werror=enum-compare
87d05d843e AC_AutoTune: restrict scoping of LEVEL_ISSUE enum
a451380d61 Plane: avoid int32_t<->float conversions
e744df585c Copter: avoid int32_t<->float conversions
247a047177 AC_AutoTune: avoid int32_t<->float conversions
1859dd4234 AC_AutoTune: avoid climb rate conversion from float to int32_t to float
4c12ba4c2c HAL_ChibiOS: fixed SDMMC IRQ priority
7e1048c89b HAL_ChibiOS: enable UART inversion on H7
397ddbd2d0 Tools: updated CubeOrange bootloader
2f833c92d3 HAL_ChibiOS: enable SDMMC for CubeOrange
766716d1fc ChibiOS: added SDMMCv2 driver for H7
37010a568e HAL_ChibiOS: enable SDMMC on Pixhawk4Pro
e192bc6c10 HAL_ChibiOS: adjust H7 clocks, and enabled SDMMC
5b762711fd AP_Logger: handle EEXIST for log dir create
ec0e6137e3 Tools: updated CPUInfo
8f5a22685a AP_Follow: NFC small renames and comment improvements
f1e43979ab ArduCopter: NFC small renames and comment improvements
ff28337bfd HAL_ChibiOS: fixed typos
038dd68e3a Tools: update RNGFND syntax in parameters files
1bade761a1 Tracker: factor out compass functions
ed5fc06a5d Tools: autotest: skip arm features on Tracker until rudder problems sorted
87a0166c1c Tracker: fix communication lock out when vehicle connected
d6674a3bb1 Tools: autotest: correct progress message
50687c9add Tools: autotest: ArmFeatures is common to all vehicles; use inheritted tests
0b9d10c0f9 SITL: replace location_offset() and get_distance() function calls with Location object member function calls
6082b230e8 AP_Terrain: replace location_offset() and get_distance() function calls with Location object member function calls
31a32c7ea0 AP_Soaring: replace location_offset() and get_distance() function calls with Location object member function calls
67bbc6962a AP_Scripting: replace location_offset() and get_distance() function calls with Location object member function calls
00a80f3a1a AP_Rally: replace location_offset() and get_distance() function calls with Location object member function calls
12a6e9ad69 AP_OSD: replace location_offset() and get_distance() function calls with Location object member function calls
390e0fa601 AP_NavEKF3: replace location_offset() and get_distance() function calls with Location object member function calls
79ee52917f AP_NavEKF2: replace location_offset() and get_distance() function calls with Location object member function calls
fa9a460c30 AP_Mission: replace location_offset() and get_distance() function calls with Location object member function calls
003a346ee2 AP_Landing: replace location_offset() and get_distance() function calls with Location object member function calls
d7edd396bd AP_GPS: replace location_offset() and get_distance() function calls with Location object member function calls
f61523b378 AP_Frsky_Telem: replace location_offset() and get_distance() function calls with Location object member function calls
e7281aeddc AP_Follow: replace location_offset() and get_distance() function calls with Location object member function calls
dba80c95d5 AP_Camera: replace location_offset() and get_distance() function calls with Location object member function calls
c977a646db AP_Beacon: replace location_offset() and get_distance() function calls with Location object member function calls
0725879c49 AP_Avoidance: replace location_offset() and get_distance() function calls with Location object member function calls
44ab1cf14b AP_AHRS: replace location_offset() and get_distance() function calls with Location object member function calls
f2ca3556cd AC_Fence: replace location_offset() and get_distance() function calls with Location object member function calls
edac5e1a80 Tools: replace location_offset() and get_distance() function calls with Location object member function calls
3fd5e05601 Sub: replace location_offset() and get_distance() function calls with Location object member function calls
f430fd14f6 Plane: replace location_offset() and get_distance() function calls with Location object member function calls
08124faab4 Copter: replace location_offset() and get_distance() function calls with Location object member function calls
62fa59238b Tracker: replace location_offset() and get_distance() function calls with Location object member function calls
36d755a48a Rover: replace location_offset() and get_distance() function calls with Location object member function calls
65ccef04b9 AP_Math: replace location_offset() and get_distance() C function calls with Location object member (C++) function calls
3bea6229ad AP_Stats: Improve reset documentation (NFC)
a90f94d5a7 Copter: 3.6.7-rc1 release notes
94c5a39b4f Tools: uploader.py: factor out a find_bootloader method
e8b18a46a4 Tools: uploader.py: break out a modemmanager_check
f9908efb65 Tools: uploader.py: move baud_flightstack initialisation outside loop
36109cae65 Tools: uploader.py tidy port list code
47d8435cd6 AP_Relay: removed unused pin 115 from docs
6251353090 HAL_Linux: removed old px4io protocol header
a5a8575c83 Tools: removed old vrbrain build scripts
cd1f21b806 Plane: removed some px4 specific code and docs
b619e1e560 Tools: remove more px4 remnants
5b23cb014a AP_Relay: remove more px4 remnants
103af72859 AP_InertialSensor: remove more px4 remnants
20d762293d AP_HAL: remove more px4 remnants
70e445d040 AP_Button: remove more px4 remnants
8493b4c07c AP_BoardConfig: remove more px4 remnants
384bca9482 Copter: stop at waypoint depending upon next command
a903c91c40 Copter: remove unused auto_spline_start declaration
64681cb05c HAL_ChibiOS: allocate threads from any heap
1191b59b08 ChibiOS: submodule update
f24c6785f2 Plane: add E-stop
4f9b8e1b6c Rover: add E-stop
49ec059420 APM_Control: add function to relax rover i terms
ba3d1bc6c7 Copter: move E-stop state to SRV_Channel
8f9f572489 RC_Channel: add global E-stop function
cbb871e7bb SRV_Channel: add global E-stop
3da3f75c41 Tools: ci: remove old code
9ceaf70017 github: add support file
3529da9d6b azure: fix autotest jobs
82dfa5023c azure: add git and build logs
2c814e9de2 Copter: get_alt_above_ground to get_alt_above_ground_cm
a7589a4aed AP_HAL_SITL: correct comparison between signed and unsigned
4caf1c9080 Tools: autobuild Pixhawk4Pro and CubeOrange
30e0e6a15a Tools: added CubeOrange bootloader
3a2227c912 HAL_ChibiOS: updated IDs for CubeOrange
ff4614b399 HAL_ChibiOS: rename CubeH7 to CubeOrange
368aeb8e8e AP_UAVCAN: refuse to reboot via CAN if armed
94abc5a54d HAL_ChibiOS: fixed DShot on H7
26e76e51ed HAL_ChibiOS: fixed H7 build with older compilers
70930cca29 HAL_ChibiOS: fixed bootloader build with gcc 4.9
723e8a23fc HAL_ChibiOS: enable HSE_BYPASS for NucleoH743
f8aeeb0333 HAL_ChibiOS: adjust clock tree to be more consistent
5dd82f1d63 HAL_ChibiOS: adjust 16MHz HSE settings for H743 (CubeH7)
a1232975c2 ChibiOS: submodule update
b0f4494c4a HAL_ChibiOS: fixed DMA on SPI for Pixhawk4Pro
518476dba9 Tools: update Pixhawk4Pro bootloader
ec2c742523 Tools: added Holybro to supported USB IDs for upload
312597ac20 HAL_ChibiOS: fixed default batt2 pins for fmuv5
584e36e360 HAL_ChibiOS: switch Holybro to their own VID
9966fbea0f HAL_ChibiOS: fixed bootloader build error
2c316b0354 ChibiOS: submodule update
8e745f74fb HAL_ChibiOS: support SPI6 on Pixhawk4Pro
75cd20aea4 HAL_ChibiOS: handle DMAMUX2 on H7
e43ad56920 HAL_ChibiOS: fixed Pixhawk4Pro battery defaults
6c7e3c1ecd ChibiOS: submodule update
87e7ea368f HAL_ChibiOS: fixed battery monitoring and buzzer for Pixhawk4Pro
542372014e HAL_ChibiOS: enable SPI5 on Pixhawk4Pro
778d892fc2 HAL_ChibiOS: fixed dma resolved for H7
c5fc3d6b0f ChibiOS: fixed SPIv3 polled mode
bf783e73ab HAL_ChibiOS: use polled SPI for Pixhawk4Pro for now
807d9e4b92 HAL_ChibiOS: added optional polled SPI mode
9a2c19285d ChibiOS: switch to stable-19.1 branch
202e6d38c4 AP_Logger: fixed race condition with multi-thread AP_Logger
bd47aba5ca HAL_ChibiOS: reduced delay time in main loop to 50us
958b1032c5 ChibiOS: submodule update
e92c66418d HAL_ChibiOS: fixed bouncebuffer code on STM32F7
ef3306d408 Copter: fixed crash on mavlink send before pos_control is allocated
a3e69e715d HAL_ChibiOS: avoid doing one-way SPI transfers
dad1774330 HAL_ChibiOS: fixed channel selection for F4/F7 uart driver
a9b3f32fc8 ChibiOS: submodule update
cda1959629 HAL_ChibiOS: added support for more flexible memory regions
664e92ed7e AP_IOMCU: fixed build warnings
2b285089e9 AP_InertialSensor: widen allowable temp gap on invensense IMUs
5f88340919 HAL_ChibiOS: fixed flash build warning
9379e2c1ad ChibiOS: submodule update
c474872bae Tools: updated H7 bootloaders
8a40ee8132 HAL_ChibiOS: fixed idle wait on H7 flash program
e5efbffe5b waf: pad bootloader to multiple of 32 bytes
1d6c877c3c HAL_ChibiOS: set board type on PH4Pro
6177129e41 HAL_ChibiOS: fixed typo in dma_resolver.py
4e067ee3cd HAL_ChibiOS: fixed DMA on TIM12 for Pixhawk4Pro
dd835f5fce HAL_ChibiOS: optimize for speed on more boards
34a7812416 HAL_ChibiOS: use -O3 on boards with 2M flash
b07ba37359 HAL_ChibiOS: pass optimization to ChibiOS build
3c9646dfef waf: allow hwdef.dat to override build optimization
77d4e1f796 HAL_ChibiOS: removed ID_ANY streams for H7
ee1d2e8edb HAL_ChibiOS: adjust H743 DMA settings
cb77b06460 HAL_ChibiOS: generate a dma map for H7
423ad60c47 HAL_ChibiOS: enable all DMAs on Pixhawk4Pro
718cf4377d HAL_ChibiOS: reduce DMA count until we can share
0c01375799 HAL_ChibiOS: enable IOMCU for CubeH7
9647a68c9e HAL_ChibiOS: fixed UART RX DMA for H7
787903da50 ChibiOS: submodule update
6422068e6b HAL_ChibiOS: fixed analog input on H7
efc8da9f9a HAL_ChibiOS: enable TX DMA on uarts on H7
231117e9b1 HAL_ChibiOS: invalidate before read on rx, not on DMA setup
071d5e01af HAL_ChibiOS: added DMAMUX channel assignment calls
f4e31ce65b HAL_ChibiOS: added more cache flush ops
46787fe7d8 HAL_ChibiOS: adjust clocks for H743
8e52ed4e9b HAL_ChibiOS: update Pixhawk4Pro hwdef
b662adf8cc HAL_ChibiOS: setup sensors on NucleoH743
c0e47754fa HAL_ChibiOS: enable more peripherals on CubeH7
bd27d7fc26 HAL_ChibiOS: fixed build on F4
d6bedc3bdf HAL_ChibiOS: use ifndef on more peripheral types
6fb40a9713 HAL_ChibiOS: set FPU=hard if not set elsewhere
f753669a58 HAL_ChibiOS: improved check for DTCM ram
e71514c136 waf: allow for no param default support
ee83f228e1 Tools: added H743 and pixracer CPUInfo output
c67ec11cc5 Tools: improved CPUInfo test
0cd8840866 ChibiOS: submodule update
57c573552c HAL_ChibiOS: check for logger instance before use
7c61d66d75 HAL_ChibiOS: fixed SPI clocks on H7
ca221e7e7a HAL_ChibiOS: cleanup shared DMA code
dd8115c9b4 HAL_ChibiOS: check for already allocated TX dma in UART driver
a4687930b0 HAL_ChibiOS: enable FRAM for storage
37bcd6e7d8 HAL_ChibiOS: default to timer 5 for H7
dcc038dc83 AP_HAL: prevent a zero length leading buffer in peekiovec
d96142a37e HAL_ChibiOS: allow double allocate call in RCOutput
c02a271c8a HAL_ChibiOS: fixed shared DMA for H7
4c7fa7c6fb HAL_ChibiOS: make SPI clock test non-blocking
e6b41fbe0b HAL_ChibiOS: added initial CubeH7 hwdef
e581be8df7 HAL_ChibiOS: optionally disable DCache on H7
46cb506a22 HAL_ChibiOS: added cache management for H7 in bouncebuffer code
50b7b7beb5 HAL_ChibiOS: disable DTCM on H7 for now
ff21508ce8 HAL_ChibiOS: ensure 32 byte alignment for DMA on H7
33699d4f4a HAL_ChibiOS: fixed shared_dma for H7
af78ac1abf AP_Bootloader: disable debug printf
c36f677c94 HAL_ChibiOS: initial hwdef for Pixhawk4Pro
3c24bec5f5 Tools: added initial bootloaders for H743 boards
5faec2f869 HAL_ChibiOS: removed HSE bypass for NucleoH743
0691e23219 HAL_ChibiOS: setup some sensors on NucleoH743
25d60965eb ChibiOS: submodule update
4b01e2c3b3 HAL_ChibiOS: fixed clock tree for no LSE on H7
3c9ba02ce9 HAL_ChibiOS: fixed H7 flash
8c55f7bc49 HAL_ChibiOS: enable debug on SD7 for bootloader for NucleoH743
ac070c92f5 AP_Bootloader: fully working on H7
599a1a3d67 HAL_ChibiOS: adapt analog driver for H7
52b47e499b HAL_ChibiOS: fixed H7 clock tree for ADC driver
de335f14d7 HAL_ChibiOS: fixed GPIO init for H7
9013c15f4d AP_Bootloader: fixed sys lock for timer
1fa0a2eeca HAL_ChibiOS: fixed peripheral enables on H7
660a790401 AP_Bootloader: improved flash test code
acf77ba49a HAL_ChibiOS: fixed dma resolver for H7
07e2167996 AP_InertialSensor: setup for fmuv6
7f3103073a AP_Compass: setup for fmuv6
c0e6338d8a AP_BoardConfig: setup for fmuv6
c31ee1f71b AP_Baro: setup for fmuv6
d9c888ab45 HAL_ChibiOS: port SPI, I2C and UART drivers to H7
ae448a6932 HAL_ChibiOS: enable DMA checking on H7
51b4d54f70 HAL_ChibiOS: disable show_stack_usage in bootloader
a6e989e263 AP_IOMCU: fixed shadowed variable warning
2fee1ffba4 AP_Bootloader: first working bootloader for H7
5201fdf653 HAL_ChibiOS: adjust for changed flash API
565706cf7e HAL_ChibiOS: fixed H7 flash handling
c2746ca9f9 HAL_ChibiOS: simplify H7 hwdef.dat
84ac98622c HAL_ChibiOS: fixed charset issue in H7 database
227ecc53ac HAL_ChibiOS: support mcuconf for STM32H7 MCU
972ae519a6 HAL_ChibiOS: added minimal hwdef for STM32H743 Nucleo board
4d3cbd95ac AP_Bootloader: support building on STM32H7
aab911ac50 HAL_ChibiOS: added hwdef database for STM32H743
b26d553807 ChibiOS: submodule update
1b06b0f41c HAL_ChibiOS: fixed F765 build
ceb0ec70f9 HAL_ChibiOS: disable pipes API
bbd25350eb HAL_ChibiOS: support ChibiOS kernel major 6
e79b7fb6d5 uavcan: submodule update
395f71f4ec ChibiOS: submodule update
908b444a50 HAL_ChibiOS: update halconf for VER_7_0 API
247bb433ec HAL_ChibiOS: update chconf.h for VER_6_0 API
903926e63b ChibiOS: update to upstream master for STM32H7 support
80e8f9cdd8 AP_HAL_SITL: read all available SITL RC input packets
4d0ae8c371 Tools: autotest: add test for MAVLINK_MSG_ID_SET_POSITION_TARGET_LOCAL_NED
a48f461158 Copter: remove position-vector methods
6fc4086726 Tools: autotest: accept home position before or after ack
6fd687e861 AP_AHRS: retry sending home/origin if it fails
ace5192852 GCS_MAVLink: retry sending home/origin if it fails
d02d897928 Copter: make LOITER_TIME send "Reached command" message to GCS
8044d98382 Copter: do an early-return if the time hasn't been reached
8644f4d76e Copter: Disable option code
4bb28eb63c AP_Windvane: add rpm wind speed snesor type
696953fb97 AP_RPM: create singleton
b9cd3a8a39 AP_Logger: add logging of mavlink stats
9f27e91f33 GCS_MAVLink: add simple stats to dataflash
4ae64416c3 AP_Logger: add instance unit type
136e10a781 Plane: handle VTOL landing with incorrect height
3959780999 AP_AHRS: ensure home is always stored in ALT_FRAME_ABSOLUTE
138d93702a GCS_MAVLink: use Location to change alt frames
97792d1774 Sub: AHRS set_orientation renamed to update_orientation
dea75a87fd Plane: AHRS set_orientation renamed to update_orientation
693873fd04 Copter: AHRS set_orientation renamed to update_orientation
20e28acb16 Tracker: AHRS set_orientation renamed to update_orientation
75af170900 Rover: AHRS set_orientation renamed to update_orientation
63e894e7e1 AP_AHRS: rename set_orientation to update_orientation
8e1b48ef1e Copter: use height-above-ground for landing gear deployment
078eef91cb AC_WPNav: prevent I term buildup during landing
2aa0de49bb AP_GPS: remove pointless initialisers
6beac98d4a fixed conversion of airspeed from ft/s to knots as defined in latest JSBSim versions
11a70536eb AP_UAVCAN: correct Notify singleton getter call
f382a657bd AP_NavEKF3: fixed typos
78b165e36f AP_NavEKF2: fixed typos
49493676ea GCS_MAVLink: use MAV_PARAM_TYPE for sending parameter messages
d0ac09899b AP_UAVCAN: handle restart_node
31a9ac7dbd Tools: autotest: add test suite for Tracker
fe6ca9afa3 Tracker: add support for mavlink set-home-position
9f6027b332 Tracker: make set_home bool, do not save bad homes
ecbe67a0fe AP_Math: fixed inefficient sq() function
b290148ed0 Plane: Don't overwrite the quadplane loiter relax
141429bc8e AP_InertialNav: Remove unused get_pos_z_derivative
ccfaaca82b AP_RangeFinder: fixed lightware serial with LW20 lidar
166291cfef SITL: add missing override keywords
5aa5add4bf AP_RPM: add missing override keywords
54a250483b AP_OpticalFlow: add missing override keywords
4d62c996b7 AP_L1_Control: add missing override keywords
eb73a14da8 AP_HAL_Linux: add missing override keywords
03e9becfcf AP_HAL_SITL: add missing override keywords
7184d5e860 AP_Compass: add missing override keywords
a278a152fc Plane: fixed throttle nudge
e9fc158c8a Tools: autotest: eliminate use of recv_match with condition
c15983c690 Plane: prevent loss of control when Q_ENABLE is set while flying
b202270d1a AP_AHRS: minor format fixes
b805c40bf7 AP_Arming: add ahrs attitude check
f1a023c872 AP_AHRS: add attitudes_consistent pre-arm check
07f7d793df AP_Math: add quaternion::angular_difference
72fabb5cd3 AP_Arming: always run compass calibration checks
c290b1f3b5 Plane: fixed servo jitter due to airspeed estimate from throttle
66416a5289 Copter: make toymode parameter descriptions consistent
25a2c77782 Plane: Fix not logging quadplane control, and over logging attitude control
17d804f051 HAL_ChibiOS: fixed GPIO numbering for KakuteF4
de37e2e179 HAL_ChibiOS: Corrected servo output order for KakuteF4
6a4da68c4f Tools: auto-build TBS-Colibri-F7 board
d7abf27ec2 Plane: fixed servo jitter due to airspeed estimate from throttle
f23ff1c8e9 Tools: updated TBS-F7 bootloader
70a10c6375 HAL_ChibiOS: adjust TBS-F7 bootloader setup
5319fbb52b HAL_ChibiOS: enable heater pin on TBS-Colibri-F7
dde97d2b0e HAL_ChibiOS: support FMU heater pins
27a1fec911 HAL_ChibiOS: TBS-F7 is active low on sd power
94bace91a4 HAL_ChibiOS: bring up sensors rail after boot on TBS F7
fc5ebbf52e Tools: bootloader for TBS-Colibri-F7
025bd7e0d8 HAL_ChibiOS: added support for TBS-Colibri-F7
a0e7c37f8c AP_NavEKF2: fixed typos
57eae253a5 README: add Azure Pipelines
c8cace9092 ci: set up Azure Pipelines
03ed67a996 waf: add option to override toolchain
b2523021fb Tools: autotest: increase Plane log download timeout
08fdd5c36c Tools: autotest: strip newline chars for comparing mission files
ba2f954a20 waf: add AC_AttitudeControl library for PE target format
7e12f16be6 Tools: fix lambda test
25282c2989 AP_Mission: rearrange for early-exit if command not found for index
3c3cda81e9 AP_Mission: remove redundant check
f5d50935fd AP_Mission: scope variables more tightly
7da35e9d08 AP_Mission: change while loop out for for loop
910de89b4e Tools: add DEVTYPE_RM3100 to decode_devid.py
4d25dc566a CI: Fixed Appveyor error when getting future package
6137704032 Tools: ardupilotwaf: add -Werror=inconsistent-missing-override for clang
4ec11f608d AC_Landing: use abs not fabsf for integers
923af1e301 AC_AutoTune: use abs not fabsf for integers
285fe4c79c Sub: explicitly type constant
1ce80e1f17 Sub: remove stale STREAM_RAW_CONTROLLER_msgs variable
c24759d3df Plane: use abs not fabsf for integers
30749b92d9 Filter: add missing override keyword
97f2d946ab AP_Compass: remove unused variables from AP_Compass_RM3100.h
ff9460d835 AP_Radio: correct singleton naming, and thus SkyViper build
4f41aa19bf AP_ICEngine: add singleton and remove unnecessary variable init
d27cd19daa AP_RPM: instance range should use define instead of hardcoded value
a117e4571d Tools: autotest: add simple Rally test
e75dccfc71 Sub: Rally no longer takes ahrs in constructor
cdde2b7d64 Plane: Rally no longer takes ahrs in constructor
4187243e5c Copter: Rally no longer takes ahrs in constructor
101ce74071 Rover: Rally no longer takes ahrs in constructor
2039fadfb7 AP_Rally: do not take reference to AHRS in constructor
b0c65b9014 AP_RangeFinder_PWM: correct integer division issue
c594e51922 AP_Mission: limit memcpy to constant 12 bytes
556e836a66 AP_HAL_SITL: cast PTHREAD_STACK_MIN to unsigned
90ea847cad Tools: sim_vehicle.py: use gps functions from pymavlink rather than MAVProxy
5134af2298 Plane: Manage quadplane throttle during RC failsafe
9b73c5f1d9 Tools: autotest: correct log download name for Sub
33637dbe22 Tracker: move update_sensor_flags to GCS_Rover.cpp
a24de20f51 Rover: move update_sensor_flags to GCS_Rover.cpp
57e8528a96 Sub: move update_sensor_flags to GCS_Sub.cpp
1ab80ddce0 Plane: move update_sensor_flags to GCS_Plane.cpp
c622645ff1 Copter: move update_sensor_flags to GCS_Copter.cpp
cb95bf7814 Sub: move update_sensor_status_flags into GCS subclasses
5ff80e06d1 Copter: move update_sensor_status_flags into GCS subclasses
6ef1c64652 Tracker: move update_sensor_status_flags into GCS subclasses
34853fb1bf Plane: move update_sensor_status_flags into GCS subclasses
323d6850d5 Rover: move update_sensor_status_flags into GCS subclasses
8de4ee7348 GCS_MAVLink: move update_sensor_status_flags into GCS subclasses
bb706305d0 Sub: move sensor flags to be a GCS thing rather than a GCS_MAVLINK thing
a3c13fc028 Plane: move sensor flags to be a GCS thing rather than a GCS_MAVLINK thing
039aa3f3b3 Copter: move sensor flags to be a GCS thing rather than a GCS_MAVLINK thing
ff7ef21456 Tracker: move sensor flags to be a GCS thing rather than a GCS_MAVLINK thing
6331efcc12 Rover: move sensor flags to be a GCS thing rather than a GCS_MAVLINK thing
cb33f290a7 GCS_MAVLink: move sensor flags to be a GCS thing rather than a GCS_MAVLINK thing
624f196fb3 Tools: autotest: increase timeout to 3600 seconds
91c8d0b915 GCS_MAVLink: clarify packetReceive calling handlemessage checks
ddab9455e8 Tools: install-prereqs: do not use sudo to install Python packages
27d6bebed3 Tools: autotest: add test that ArduPilot indicates it can do PARAM_FLOAT
d250442e68 AP_AdvancedFailsafe: GCS_MAVLink takes care of mavlink capabilities
1b4a2c4d6b AP_Terrain: GCS_MAVLink takes care of mavlink capabilities
7b80f56a80 Sub: GCS_MAVLink takes care of mavlink capabilities
33541dcbf6 Plane: GCS_MAVLink takes care of mavlink capabilities
c46de4a9a0 Tracker: GCS_MAVLink takes care of mavlink capabilities
7d6140e029 Rover: GCS_MAVLink takes care of mavlink capabilities
f759c7ac7e Copter: GCS_MAVLink takes care of mavlink capabilities
8efda2b792 AP_HAL: GCS_MAVLink takes care of mavlink capabilities
bfb3f0d62e GCS_MAVLink: make capabilities comes from subclass, not HAL
8cfedd8b46 AP_HAL_ChibiOS: implement 'uint16_t millis16'
0519949e21 Tracker: move try_send_message of nav_controller_output up
5690a0ea4a Plane: move try_send_message of nav_controller_output up
9bc23d3f28 Copter: move try_send_message of nav_controller_output up
d1cada0e25 Rover: move try_send_message of nav_controller_output up
57e5991fde Sub: move try_send_message of nav_controller_output up
de615ee11d GCS_MAVLink: move try_send_message of nav_controller_output up
6dbe662941 AP_SmartRTL: clean includes
3859daf131 AC_Sprayer: clean headers
ff06e34aa7 AC_Precland: clean headers
7198234a44 AC_Fence: clean headers
7d07983576 AP_SmartRTL: remove pointless includes
d18dee178d AP_Mount: remove pointless includes
cdfe8c11d5 AP_Landing: remove pointless includes
f2e31bb880 AP_BoardConfig_CAN: const some accessors
f8e49e5438 GCS_MAVLink: call send_esc_telemetry for AP_ToshibaCAN ESCs
72d4727bcf AP_ToshibaCAN: log and report temp
d0fef6daed AP_ToshibaCAN: log and report rpm and voltage
73850f7a06 AP_ToshibaCAN: send aborts on error
d8959b3400 AP_KDECAN: use AP_Logger::Write_ESC
9eaef98321 AP_BLHeli: use AP_Logger::Write_ESC
e28efeceac AP_Logger: implement Write_ESC
4e9d026448 AP_Mount: remove HAL_CPU_CLASS_150 check, 150 is already a minimum requirement
c45b96fee9 AP_AHRS: remove HAL_CPU_CLASS_150 check, 150 is already a minimum requirement
55377b234f AP_NavEKF3: remove HAL_CPU_CLASS_150 check, 150 is already a minimum requirement
b32e8a4424 AP_NavEKF2: remove HAL_CPU_CLASS_150 check, 150 is already a minimum requirement
c9c1c2678b AP_ADC: remove keywords.txt
deb25ed9a9 Filter: remove keywords.txt
572702daba AP_OpticalFlow: remove keywords.txt
81ddeef1bd AP_Math: remove keywords.txt
9324fef92a AP_L1_Control: remove keywords.txt
f0fd6fd996 AP_Compass: remove keywords.txt
c3004bff20 AP_Common: remove keywords.txt
5bf511fc6d AC_WPNav: remove keywords.txt
18c53b8d8a AC_PID: remove keywords.txt
4c3a93d8ca AC_Fence: remove keywords.txt
95b3a5bacd ArduPlane: implement hover throttle learning for quadplanes
c0394e9577 Tools: autotest: tidy handling of SITL start position
0f5041e873 Rover: added acro mode to MIS_DONE_BEHAVE
85c3286c6e Rover: balance bots continue balancing when stopped
e806d0c385 Rover: add param to offset balancing point for balance bots
76910f9283 Rover: move visual odometry update function into AP_VisualOdom
f64ad2f433 Copter: move visual odometry update function into AP_VisualOdom
bf9b4dca70 AP_VisualOdom: move visual odometry update function into AP_VisualOdom
4194812633 AP_GPS: uavcan: reindent after WITH_SEMAPHORE change (NFC)
1ffbc0ae56 AP_GPS: uavcan: use WITH_SEMAPHORE in place of give/take _registry
7ab6a5d94d AP_Compass: uavcan: reindent after WITH_SEMAPHORE change (NFC)
5b06d01402 AP_Compass: uavcan: use WITH_SEMAPHORE in place of give/take _registry
7a674254e5 AP_Airspeed: uavcan: reindent after WITH_SEMAPHORE change (NFC)
c96cdf1f16 AP_Airspeed: uavcan: use WITH_SEMAPHORE in place of give/take _registry
5e6f02f51e AP_Baro: uavcan: reindent after WITH_SEMAPHORE change (NFC)
78f05492d7 AP_Baro: uavcan: use WITH_SEMAPHORE in place of give/take _registry
79481028b4 Tools: updated bootloader docs
4a0887b807 GCS_MAVLink: measure stream slowdown in ms
ff90ee3eab Tools: added info on bm paths
23280f3de2 Tools: more info on debugging
07c07928ee Tools: autotest: adjust Rover mission-toggling mission for magic-home
88575bd536 Rover: magically set home when toggling first waypoint in
e393828702 Tools: added files useful for hardware debugging
6b0456e3ac Copter: 3.6.6 release notes
025f007f96 Tools: autotest: simplify mission loading
0dce6172f2 Copter: use visual odometry singleton
dbdf17d6c6 Rover: use visual odometry singleton
63427629e1 GCS_MAVLink: use visual odometry singleton
1a5a1dac8c AP_VisualOdom: create singleton
31f796f0c5 Copter: remove unused scaleLongDown member
c9c802f617 AP_Logger: call wrap_360_cd on yaw in WriteAttitudeView
0858847294 Plane: remove redundant send_ekf_origin
bf9b8f41bf Tools: Replay: cope with WARN_IF_UNUSED on AP_AHRS::set_home
0c880a4c3e Plane: remove redundant home-setting sanity checks
dffc5568fe GCS_MAVLink: remove redundant home validation checks
db362eaa13 Sub: remove redundant home-setting sanity checks
13db459f49 Copter: remove redundant home-setting sanity checks
1977123362 Rover: remove redundant home-setting sanity checks
ab9c084179 AP_AHRS: add sanity checks for home location being set
a722fd1323 Rover: make setting of home boolean in preparation for sanity checks
f4097d254c Tracker: make setting of home boolean in preparation for sanity checks
8937ef3190 Sub: make setting of home boolean in preparation for sanity checks
5ae52038fa Copter: make setting of home boolean in preparation for sanity checks
b6bf8d8368 Plane: make setting of home boolean in preparation for sanity checks
2e403bfd52 AP_AHRS: make setting of home boolean in preparation for sanity checks
b97f9cc555 AP_Common: remove NuttX/C++10-related code
d89f740460 AP_HAL_Linux: AP_Common no longer gives board information; use AP_HAL_Boards
44e89a1cd8 SITL: include stdio for some printfs
c4fd5ec350 AP_Logger: include stdio for some printfs
fc358092ed AP_Follow: remove header reliance on GCS and AHRS
caec67762e AP_Camera: move reliance on GCS into .cpp file
c235b1ccc2 RC_Channel: correct comment
7259f3fa2f AP_Common: rearrange headers for consistency
e4e453402c AP_HAL: rearrange headers for consistency
effeebfeb8 Tools: autotest: skip failing RC test until code is fixed
e3368e193d Tools: autotest: add test for throttle failsafe
17589ae3b9 AP_HAL_SITL: allow testing of throttle-goes-to-low-fixed-value rc failsafes
44bc035f7b SITL: allow testing of throttle-goes-to-low-fixed-value rc failsafes
5a19f447a7 Plane: devo telemetry no long requires singleton classes to be passed in
277f3799a5 Rover: devo telemetry no long requires singleton classes to be passed in
8de7f4a520 Copter: devo telemetry no long requires singleton classes to be passed in
32ac4ccfce AP_Devo_Telem: correct some wayward comments
e863c5e533 AP_Devo_Telem: use AP_SerialManager singleton
97a6ead690 AP_Devo_Telem: use AHRS singleton
2ba6aa7e8a Rover: guided heading-and-speed control fix
fd385c0f91 Tools: autotest: add quadplane output_motor_mask check
8b54b6a5cf AP_Common: Move LOCATION_ALT_MAX_M declaration from AP_Common.h to Location.h
e23809fd59 Tools: ardupilotwaf: include AP_Parachute in all builds
4f249db8bc Plane: move responsibility for parachute deployment up
228d7b676d Copter: move responsibility for parachute deployment up
9cd881b56c AP_Mission: move responsibility for parachute deployment up
005ec5cd4d AP_Parachute: move responsibility for parachute deployment up
a1aefaff27 Tools: autotest: add parachute tests
ae03ccf2ba SITL: enable updating of external payload on SIM_Plane
5828915a02 Tools: scripts: remove build_all_vrbrain.sh
e12581eeb9 forward X11 traffic by default in Vagrant
dc0ad11f7a Sub: use altitude frame mapping function
6d914f8af3 Tools: autotest: add test for moving sub in guided mode
6fcdfbbe32 Rover: attempt to set home position regardless of GPS lock
44b7763caf Sub: move handling of command-int MAV_CMD_DO_SET_HOME up
bf5eae3f72 Tracker: move handling of command-int MAV_CMD_DO_SET_HOME up
4cdbcab723 Rover: move handling of command-int MAV_CMD_DO_SET_HOME up
30671a6743 Plane: move handling of command-int MAV_CMD_DO_SET_HOME up
270fa2dfb9 Copter: move handling of command-int MAV_CMD_DO_SET_HOME up
d8847a6192 GCS_MAVLink: move handling of command-int MAV_CMD_DO_SET_HOME up
957f637043 Tools: autotest: add autotest for setting home position with command-int
fd328f1e13 README: Add Autotest badge
963905f812 Autotest: Add badge to index.html
cfb3dfc4e5 Plane: AP_Frsky_Telem uses singletons
dab23b817c Rover: AP_Frsky_Telem uses singletons
a0189d6060 Copter: AP_Frsky_Telem uses singletons
9023e6eb7d AP_Frsky_Telem: use rangefinder singleton
4776183554 AP_Frsky_Telem: use battery singleton
53111129f2 AP_Frsky_Telem: use AHRS singleton
db4b1aa7aa AP_Frsky_Telem: use serialmanager singleton
54ffeef20e HAL_ChibiOS: fixed pixhawk4 i2c bus numbers
5ab75b5ccb HAL_ChibiOS: updated Pixhawk4 pinout
e06d9e65b2 AP_Rally: use AP::rally() to get singleton
cf2c0ec334 Tools: autotest: print time taken for each test
bf4dc2d3b7 AP_RangeFinder: probe all I2C buses for rangefinders
0089e98bb6 Plane: call AHRS resetHeightDatum() on baro reset
542aa4c9e0 AP_Rally: log any changes or additions to rally points
9108eeb8f5 AP_Logger: log rally points into dataflash on upload
3bba981a00 Plane: dataflash always emits rally points at startup
5f152378fd Copter: dataflash always emits rally points at startup
9a04ae5cf7 AP_Logger: use a MessageWriter to emit rally points
3765bae5e0 Copter: remove checking for coordinate frames
243cf690da Copter: use altitude frame mapping function
64b4e69e34 GCS_MAVLink: break out an altitude enumeration mapping function
9105284a7d Rover: remove rc out initialisation wrappers
b1a03a3567 gitignore: ignore Jetbrains files and cmake build
b9f3118374 Plane: allow changing Q_TRIM_PITCH in flight
0e2e077d96 AP_AHRS: add method to set pitch trim
1648a6544b AP_OSD: unify singleton naming to _singleton and get_singleton()
8ef4616bc2 AP_BattMonitor: unify singleton naming to _singleton and get_singleton()
548a579f18 AP_HAL_ChibiOS: unify singleton naming to _singleton and get_singleton()
b8ee535fb4 Copter: unify singleton naming to _singleton and get_singleton()
3415d309ea AC_AutoTune: unify singleton naming to _singleton and get_singleton()
edc8ccace6 AC_Sprayer: unify singleton naming to _singleton and get_singleton()
c10fd9cafb AP_AHRS: unify singleton naming to _singleton and get_singleton()
0c32453505 AP_Airspeed: unify singleton naming to _singleton and get_singleton()
13f0ad8a1c AP_Arming: unify singleton naming to _singleton and get_singleton()
52887e1c45 AP_Baro: unify singleton naming to _singleton and get_singleton()
0f311ba04f AP_BLHeli: unify singleton naming to _singleton and get_singleton()
ab95c8e5ee AP_BoardConfig: unify singleton naming to _singleton and get_singleton()
7fc4003c69 AP_Camera: unify singleton naming to _singleton and get_singleton()
2cd485e7ae AP_Compass: unify singleton naming to _singleton and get_singleton()
5d66c3ed62 AP_GPS: unify singleton naming to _singleton and get_singleton()
818c828a4a AP_Gripper: unify singleton naming to _singleton and get_singleton()
95820c905d AP_HAL_Linux: unify singleton naming to _singleton and get_singleton()
81df9aaeb4 AP_HAL_SITL: unify singleton naming to _singleton and get_singleton()
9347e6d36f AP_InertialSensor: unify singleton naming to _singleton and get_singleton()
28323147ab AP_IOMCU: unify singleton naming to _singleton and get_singleton()
98030c04b2 AP_KDECAN: unify singleton naming to _singleton and get_singleton()
1c33c3f50d AP_Landing: unify singleton naming to _singleton and get_singleton()
cf2723458d AP_LandingGear: unify singleton naming to _singleton and get_singleton()
21db5e1a5c AP_Logger: unify singleton naming to _singleton and get_singleton()
3bbd80a5de AP_Mount: unify singleton naming to _singleton and get_singleton()
4ece7fd4f0 AP_Notify: unify singleton naming to _singleton and get_singleton()
8a6a39b590 AP_NavEKF3: unify singleton naming to _singleton and get_singleton()
699b7b9788 AP_OpticalFlow: unify singleton naming to _singleton and get_singleton()
3d2c7346cc AP_Radio: unify singleton naming to _singleton and get_singleton()
a597c2972c AP_RCprotocol: unify singleton naming to _singleton and get_singleton()
3032e5c3d9 AP_RSSI: unify singleton naming to _singleton and get_singleton()
132a93189d AP_SBusOut: unify singleton naming to _singleton and get_singleton()
155a1b7ec7 AP_Scheduler: unify singleton naming to _singleton and get_singleton()
add2130e07 AP_SerialManager: unify singleton naming to _singleton and get_singleton()
752804c2a5 APM_Control: unify singleton naming to _singleton and get_singleton()
9f0e895c37 GCS_MAVLink: unify singleton naming to _singleton and get_singleton()
ece8580c1d RC_Channel: unify singleton naming to _singleton and get_singleton()
a4e91e196f SITL: unify singleton naming to _singleton and get_singleton()
9e3cf3ad33 SRV_Channels: unify singleton naming to _singleton and get_singleton()
ee97f0dccd HAL_ChibiOS: setup power brick on mini-pix by default
be3428de65 Tools: autotest: use absolute path to defaults file for QuadPlane
74c114e455 Tools: autotest: use frame and VehicleInfo in AutoTestQuadPlane
513964cdad AP_Compass: RM3100 simplify unisgned to signed integer conversion
97f3627bd5 AP_Compass: RM3100 added default cycle count value check on initialization as a whoami substitute
488133c396 AP_Compass: RM3100 make compliant with common methods for accumulating and draining samples
ede80773b9 AP_Compass: RM3100 stop passing frontend for compliance with backend class
8155c8b178 AP_Compass: added backend implementation for RM3100 compass
edfa2646f0 Tools: autotest: repeatedly apply parameter file
1725c8f178 Copter: 3.6.6-rc2 release notes
f3cbf72f41 Tools: autotest: all autotest classes now take a frame
77e4e5a1c9 autotest: added defaults for compass3 offsets
39ffef1f08 AP_NavEKF3: fixed EKF compass switching
ccc1f906f8 AP_NavEKF2: fixed EKF compass switching
4003ea841c AP_Compass: change to 3 compasses in SITL
9e7154ccb3 SITL: enable updating of external payloads for SIM_Rover
e7e51d6f49 RC_Channel: indicate gripper available on an RC Channel
9496ffea14 Rover: enable gripper support
1347083548 Tools: autotest: add tests for Rover gripper support
6f1f98dc3c Tools: autotest: add assumption run_tests is only called once - remove hasInit
8a7555bf56 Tools: autotest: fix up the arming tests
badfd1d559 SITL: name parameters being passed to ICEngine contructor
6c09b268d8 Filter: fixed crash on zero cutoff frequency
0c8f0377ca Sub: move handling of fence point handling up
47a0796684 Copter: move handling of fence point handling up
8244158969 Rover: move handling of fence point handling up
be841d5d0a GCS_MAVLink: add sanity check for rally mavlink message handling
0ef7c6af59 GCS_MAVLink: move handling of fence point manipulation up
5002fa2081 Sub: move handling of MAV_CMD_DO_SET_FENCE_ENABLED up
727d42be1c Copter: move handling of MAV_CMD_DO_SET_FENCE_ENABLED up
ded3ab99bb Rover: move handling of MAV_CMD_DO_SET_FENCE_ENABLED up
8d45a8ff53 GCS_MAVLink: move handling of MAV_CMD_DO_SET_FENCE_ENABLED up
b54f61eccc ignore vagrant console log
d50a94aacf Rover: minor comment fix to set-position-target handling
9707a7386c README: add Amilcar Lucas to the developer team list
95c903c7cf AP_Airspeed: disable airspeed (_TYPE=0) as rover default
937e05bb2a Copter: small precision landing improvements
4a71ac5e93 AC_PrecLand: small improvements in comments
f0ea4af514 Copter: rename get_velocity_xy to get_speed_xy
59cd9ad0a6 AP_InertialNav: rename get_velocity_xy to get_speed_xy
fe2f9f1f14 Tools: autotest: improve autotest output
584013de58 Tools: autotest: correct debug for precision
695073db49 AP_Math: correct crc_xmodem definition
9e927d1376 AP_Math: correct copyright, add pragma-once
97ce39bf0c AP_Math: use direct assignment for rotate()
dd0283d537 AP_Math: reduce variable scope in crc_crc8
90fc2be79d Rover: 3.5.0 release notes
ee6fd5ad8d Copter: Guided_NoGPS does not require GPS
6145711931 ADSB: add param ADSB_LIST_ALT to filter aircraft by altitude. default is disabled
587e02e92e Copter: remove pv_ functions that duplicate Location functions
66778dbf63 AP_WheelEncoder: move wheelEncoder logging to library
1110fad8e7 AP_Logger: move wheelEncoder logging to library
d5c67e0b07 Rover: move wheelEncoder logging to library
3f58461839 Copter: allow override of default frame type
36180faab5 Copter: added 3 more FRAME_TYPE values
7bf7d85a12 autotest: support new motor orders
d4a564843e HAL_SITL: support new motor orders
cf8b059531 AP_Motors: added 3 more motor orders for X quads
40babb1172 SITL: support 3 more X quad motor orders
9067e1099f Rover: fix LOIT_TYPE param description
c92795237e Tools: autotest: skip RCProtocolDecoder - assumes hardware is connected
4d2d1350c4 Tools: autotest: make changing mode more reliable
657e1bee5a Tools: autotest: use absolute path for rover avoidance fence
12f66acfb7 Rover: remove wheel_encoder_rpm
692281b273 Rover: adding AP_RPM
c422a21f55 Plane: ICE to use ahrs singleton
79c78ba965 AP_ICEngine: ICE to use ahrs singleton
c31e24edcc Copter: Add OSD_ENABLED macro to APM_Config.h
d33e5ea012 Tools: autotest: look for mavproxy files in cwd
17e4981785 Sub: move handling of RC_CHANNELS_OVERRIDE up
6e1dc79b75 Plane: move handling of RC_CHANNELS_OVERRIDE up
609b4f87c5 Copter: move handling of RC_CHANNELS_OVERRIDE up
76fe58a3bd Rover: move handling of RC_CHANNELS_OVERRIDE up
ae68b58678 GCS_MAVLink: move handling of RC overrides up
fc19ce03b6 Sub: move sending of sys_status message up
9a2ca025dd Tracker: move sending of sys_status message up
b48cb1e367 Plane: move sending of sys_status message up
7197cf9e5c Copter: move sending of sys_status message up
7ea223eac6 Rover: move sending of sys_status message up
120f0822ae GCS_MAVLink: move sending of sys_status message up
df1632054e Plane: Update throttle mix
2bd34aaebe Tools: autotest: disable quadplane test as it passes when it shouldn't
d9d9745c11 Tools: autotest: add test for QuadPlane QAutoTune
19d8ffb4e4 AP_Proximity: stop passing through old fence  contains_return_point parameter
5448cfda80 AC_Fence: remove always-true contains_return_point parameter
a72477590f AP_RangeFinder: format fixes
221c4ca3cc AP_Proximity: Removed the 3 bit limitation for the enumeration
4e8f3a7a3a Autotest: renamed requested RangeFinder parameters to account for the new changes.
f8af5afc53 RangeFinder: Removed the 3 bit limitation for the enumeration
5eff01a86f RangeFinder: allow up to 10 range finders to be used at once
1fcd7fac06 Tools: autotest: add test for flip mode
f4f40f749b Copter: Flip: fix FIXME by moving state into mode class
3071372c8d AP_Logger: add Sub-specific events
1690f78f4c Sub: move handling Write_Event into AP_Logger
3521d98b52 Copter: move handling Write_Event into AP_Logger
78e76b84b2 AP_Logger: move handling Write_Event into AP_Logger
bb76143095 HAL_ChibiOS: fixed mini-pix uart order
e23313e16b Tools: autotest: ensure RC input is at defaults before each test
fa37ad344b Tools: autotest: refactor setting of rc defaults
9b540a6380 AP_Logger: log health failure probability
74299906b1 AP_Airspeed: log health failure probability
c9af223579 AP_Airspeed: Renaming the check method name and readding the overall option check.  This will set it up for future options.
1a04a540f5 AP_Airspeed: convert the defines into static consts
d77906cb06 AP_Airspeed: This adds the ability to turn off and on the airspeed sensor if faulty.
532431c284 AP_AHRS: Added get_max_wind to make it available for use in determining if the airspeed sensor is faulty.
5dbf603450 Plane: separate out slew limit logic for left/right throttles
28cf9d2f24 Plane: allow rudder at zero throttle
700519d805 AP_Compass: raise default max compass offsets
ba7b354326 Copter: 3.6.6-rc1 release notes
42fda12b45 Tools: added help for -l option to sim_vehicle.py
c3e11fd34d AP_Scripting: Reduce stack allocated buffer size to reduce warnings about large frame size
b45970fded AP_Scripting: Add location and ahrs user data
9dd36ba511 AP_Scripting: Factor out common range constraints
6cebd634cd Rover: avoid divide-by-zero in desired-speed-final calcs
2834fd8017 Tools: autotest: add test for channel override cancel
2646e37e2c AP_RPM: set health false if disabled during runtime
6048c10a7c AP_InertialSensor: added driver for BMI088
44ff21479d Tools: autotest: add a test for RTL speed
aa7743e991 Sub: integrate AC_WPNav::get_speed rename to get_default_speed
4d5e13f1d4 Plane: : integrate AC_WPNav::get_speed rename to get_default_speed
42c7f5ceb4 Copter: integrate WPNAV::set_speed_z split to set_speed_up and set_speed_down
717fb4d823 Copter: integrate AC_WPNav::get_speed rename to get_default_speed
cde2964f05 AC_WPNav: split set_speed_z into up and down
b0811c86e7 AC_WPNav: rename get_speed_xy to get_default_speed_xy
e93dee89b7 AC_WPNav: rely on AC_PosControl to hold current target speed
f5431ff661 AC_WPNav: improve wp_speed_cm variable comments
66624c46a6 Sub: AC_Fence is included for all vehicles
a697d5f6fe Plane: AC_Fence is included for all vehicles
3d088f526d Copter: AC_Fence is included for all vehicles
61961d037e Tools: ardupilotwaf: all vehicles get AC_Fence
05c9ded9fc Sub: move sending of fence_status message up
1412921561 Copter: move sending of fence_status message up
9b16d1bbd3 Rover: move sending of fence_status up
f1907679e7 GCS_MAVLink: move sending of fence_status message up
a52a1f710f AC_Fence: add singleton (AP::fence())
08092ea72b AP_GPS: fix typo in log message
a525f30573 AP_GPS: update implementation of SBP2 flags
79eb0ac75f Sub: fence no longer takes reference to ahrs in constructor
5dc743f1ba Copter: fence no longer takes reference to ahrs in constructor
bcc60fd90e Rover: fence no longer takes reference to ahrs in constructor
6313cbca0b AC_Fence: stop taking reference to AHRS in constructor
11dd83e23a Plane: remove rally argument from Write_Rally - use singleton
eccd62eeaf Copter: remove rally argument from Write_Rally - use singleton
5ecb730766 AP_Logger: remove rally argument from Write_Rally - use singleton
3766ee1b60 AP_NavEKF2: add external navigation data lag
5485eda199 AP_RSSI: add V5 Nano to the RSSI_ANA_PIN param description
402be4eaca AP_Mission: const writing of commands to storage
b2c5d7f04a AP_Arming: Make logging check consider "turned off" as valid
8710526894 AC_PosControl: constify dt calcs
8ac09c0483 AC_WPNav: use dt from pos controller
b14be4e8ae AC_PosControl: increase accuracy of dt calcs
9aefaf5b92 Tools: autotest: add tests for GET_MESSAGE_INTERVAL
8b74ab32a3 GCS_MAVLink: support get_message_interval
c487d120e3 GCS_Common: stop passing mission to Write_EntireMission
7525c593cb AP_Logger: stop taking mission as argument to Write_EntireMission
c3016e9180 Rover: 3.5.0-rc3 release notes
68b9e64077 Plane: remove old, unfulfilled method declarations
7885234b22 AP_UAVCAN: disable SLCAN for minimize feature enabled
2792f015b9 HAL_ChibiOS: disable SLCAN for minimize feature enabled
3255d793c0 BoardConfig: disable SLCAN for minimized features
ef699367d5 AP_BattMonitor: correct use of random stack data
35928a8d05 AP_Motors: fix regression for tiltrotors
134e7fb81c AP_BattMonitor: Add powering off mavlink broadcast
ce3de6b047 Rover: send_wheel_encoder_distance uses definition for array size
c0dcb93e4c Rover: send mavlink WHEEL_DISTANCE message
094505a76a GCS_MAVLink: add WHEEL_DISTANCE to ap_message enum
62ffd273aa Copter: Tradheli-default RC8_OPTION to motor interlock
07d9e8c224 Copter: Tradheli-removed hard coding of motor interlock to channel 8
d7f90963ea APM_Control: fill in Act field of PID logs for plane
557a20eaa7 Frame Params: Update solo's default parameters
a21f4dc0c9 AP_Compass: update COMPASS_LEARN docs
d176776357 HAL_SITL: support limiting baudrate of simulated telemetry
56683ba803 SITL: added SIM_BAUDRATE_EN parameter
c6e9a72ad9 Copter: Tradheli-fixes hover roll trim ramp time
88e8a849bd Rover: make omni setup protected in AP_MotorsUGV
bdf6c09a76 Rover: rename custom to omni in AP_MotorsUGV
57955421b5 Tools: Correct install-prereqs-ubuntu user input text
060f97b8e7 Tools: Correct install-prereqs-mac user input text
d37df424ab Tools: Correct install-prereqs-arch user input text
31dbf282cb Tools: Update install-prereqs-ubuntu
7f6b7dab2f Copter: support fence actions SmartRTL and Brake
e7f87f767a AC_Fence: add SmartRTL and Brake actions
8350943e78 AP_HAL_Linux: reduce RCInput_RPI CPU consumption to 1/4
c81ddd85b6 RC_Channel: fix receiver typos
1b2b7385a2 AP_Arming: Reduce header scope, remove width specifier
ff52ceabba HAL_ChibiOS: fixed default volt and current pins for VRBrain
2f06484bb4 HAL_ChibiOS: added VRBrain boards into common_boards (build_binaries)
e15d2c0f89 HAL_ChibiOS: added ChibiOS configuration of VR Brain 5.4
33f7f5b7b6 HAL_ChibiOS: added ChibiOS configuration for VR Core 1.0
f615ab9a0a HAL_ChibiOS: added ChibiOS configuration for VR Brain 5.1
db61e50fe8 HAL_ChibiOS: fixed USB_PRODUCT for VR Brain 5.2
d29b4344df Copter: 3.6.5 release notes
23efb533d5 Rover: 3.5.0-rc2 release notes
05bf329d81 Plane: ignore battery failsafe during landing
9ae5ada82f Correct AP_TECS.cpp typos per magicrub comments
4d7fc66657 Update parameters.cpp per magicrub comments
24f3abde99 Update AP_TECS.cpp
0401078694 Update AP_Airspeed.cpp
548a573803 Update AP_YawController.cpp
f9aac6919c Update AP_RollController.cpp
fbb2252fd9 Update AP_PitchController.cpp
448d19ddbb Update ArduPlane/Parameters.cpp
ac773ccd79 Rover: convert ch7_option param to rc7_option
2c909cf83b AP_WheelEncoder: Wheel encoder's offsets are properly propagated to EKF3.
753f360d06 GCS_Common: NACK a failed partial mission write
b19f760628 GCS_MAVLink: don't allow signing key to be set up when armed
871a019995 Tools: fixed code style on linux
ba7187e31b Tools: use greadlink for macos systems
c459f6c484 AP_UAVCAN: run code format script on AP_UAVCAN_SLCAN
e12cb58b21 HAL_ChibiOS: run code formatter on CANSerialRouter
ed6fe450c0 UAVCAN: SLCAN replace asserts with return false
e1a9094bf6 HAL_ChibiOS: CANSerialRouter allow for changing serial port for the same boot
5cbe8eb5ee BoardConfig: fix description for SLCAN parameters
38125ab92a UAVCAN: change hex2nibble method to use branching instead of plain lookup table
2c0521654c AP_BoardConfig: split SLCAN Interface params to there own class
70da885214 AP_ToshibaCAN: add argument for enabling filters, unsupported
dae9cbfad8 AP_KDECAN: add argument for CAN filter, unsupported
a6b01901f1 HAL_ChibiOS: flush serial bus during switching to and from SLCAN
664c952460 HAL_ChibiOS: disable code for CAN for non UAVCAN supported
f6d165d8c1 HAL_ChibiOS: CANSerialRouter unlock the port in timer
7912952afe BoardConfig_CAN: reset slcan port state at restart
b5fbdc9888 HAL_ChibiOS: invoke serial data event signal for non dma ports as well
e9047cc131 AP_UAVCAN: do locked serial transactions to support slcan routing
3a46fb59e5 AP_SerialManager: add support for fetching serial port by id
32a71cef92 ChibiOS: add support for timeout and closing SLCAN
979a8dea6d BoardConfig_CAN: add parameters for serial port selection and timeout
5cefd251f9 ChibiOS: add CAN to Serial bus router
112f535365 AP_UAVCAN: implement routing SLCAN to and from CANbus
7a871a8843 AP_UAVCAN: add config for enabling/disabling can filters
8f964b08b0 ChibiOS: move CAN driver code into HAL
504cfd8989 AP_HAL: add flag for enable/disabling filters
2790d27976 AP_BoardConfig: add config for SLCAN routing
eb29a7aa44 AP_UAVCAN: add source for SLCAN interface
18e97bd895 HAL_ChibiOS: fixed CAN on Pixhawk4 and PH4-mini
f5d23f8701 CI: Run flake8 on Python 3.7
f98bfb1a35 HAL_ChibiOS: enable flash logging on Omnibus and speedybeef4
15db7a6b97 AP_OSD: normalize whitespace symbols
8d75ce6671 waf: submodule update
5c81a78c9c Plane: tailsitter forward transition bugfix
e7dcee0dd8 AP_Mount: Solo gimbal params use HAVE_PAYLOAD_SPACE
4fec201c92 HAL: removed old readmes for AVR and FLYMAPLE HALs
e4120c848c GCS_MAVLink: correct payload space check for mission requests
8e19e805c6 GCS_Common: clarify enumeration item name MSG_NEXT_WAYPOINT
da1ded7cb9 GCS_MAVLink: rename queued_waypoint_send to queued_mission_request_send
81f77f5311 AP_Logger: fix _BACKEND_TYPE parameter description
1fa335a77b AP_Motors: actuator_spin_up renamed to include _to_ground_idle
e2bd502b83 AP_Motors: minor format fixes
3d3f06cacb AP_Motors: Add actuator output slew time to multicopters
106d4058b4 Tools: removed F4Light bootloader
1b95f17940 AP_Compass: removed F4Light
8a8308df38 AP_BoardConfig: removed F4Light
14172d69d5 AP_Baro: removed F4Light
146f52036f AP_Param_Helper: removed as no longer used
696d7a0218 AP_Notify: removed F4Light
9520f5f768 AP_InertialSensor: removed F4Light
c04f1180c9 AP_HAL: removed F4Light
2c666c0fe8 HAL_F4Light: removed HAL
c9bab2f36e HAL_ChibiOS: enable dataflash logging on AirbotF4
7219ec3482 HAL_ChibiOS: enabled df logging on revo and sparky2
1d57385184 AP_Logger: removed f4light logging backend
e3c9f10e91 AP_Logger: revived block based logging
2882e5d5e1 HAL_ChibiOS: enable dataflash logging on KakuteF4
91e5f56242 AP_FlashStorage: fixed a race condition
751dade9a8 HAL_SITL: enable optional storage in flash
0332057cbe autotest: added --flash-storage option
1f28994bae waf: added --sitl-flash-storage option
413bceda9d RC_Channel: minor format fix
1334437df4 Copter: 3.6.5-rc3 release notes
506da9ac42 AP_HAL: enable UAVCAN for bbbmini, blue and pocket
f9d49913d9 ardupilotwaf: enable UAVCAN for bbbmini, blue and pocket
1b6bed0d4b Rover: adjust LOG_BITMASK description to remove APM2
0492635cbd AP_Notify: remove code protected by PX4 defines, correct comments
002070ae9e AP_Notify: remove HAL-VRBRAIN-specific code
4d67435b9c AP_BattMonitor: remove code dependant on HAL-VRBRAIN defines
78be3880ee AP_Logger: remove VRBRAIN-HAL-specific code
396028f628 AP_RSSI: remove defaults for CONFIG_ARCH_BOARD_PX4FMU_V4 - not used
40856fef56 Plane: remove vestiges of old PX4_MIXER code
cd2182453a AP_SerialManager: remove PX4 code bracketed by defines which will never be set
d3671d9ca3 AP_SerialManager: update description of BAUD parameters
85ca38b630 waf: fixed git hash in generated APJ file
2765f6e8f0 HAL_ChibiOS: setup APJ board IDs in environment
6fc18792e4 Tools: autotest: sim_vehicle.py flake8 compliance
9eea14054e Tools: Replay: fix build
6fc76a32af GLOBAL: use AP::logger() and strip redundant Log_ from methods
8e2a229e5d AP_Logger: add AP::logger() method
b47733142f GLOBAL: rename DataFlash_Class to AP_Logger
0bf55ce3f4 Tools: ardupilotwaf: DataFlash renamed to AP_Logger
6a59dd04a7 DataFlash: rename to AP_Logger
99a93112b4 Plane: remove PX4-specific code that disables overrides on reboot
33baae80b1 GCS_MAVLink: remove PX4-specific code that disables overrides on reboot
06bb02fab7 AP_HAL: minor format fixes to CAN
368fd4b8db SRV_Channel: add ToshibaCAN
a37c86af6e AP_BoardConfig: add ToshibaCAN
b3b3385143 Tools: add ToshibaCAN to waf build
fdf51a6a51 AP_ToshibaCAN: driver to support Toshiba CAN ESCs
bc438676ab Plane: fix tailsitter logged attitude targets
129762d3af Plane: APM_Control uses DataFlash singleton, stop passing it
d1f5bcb1ab APM_Control: stop taking reference to dataflash, use singleton
ee13110ad0 GCS_MAVLink: send KDECAN ESC telemetry
f68f83505c GCS_MAVLink: add preflight CAN command
de1d02d697 AP_Arming: support KDECAN
f1463d6e6c SRV_Channels: add support for KDECAN
37965b13b6 AP_BoardConfig: support KDECAN
8850ab73a6 Sub: add KDECAN to included libraries
d0fa931b09 Plane: add KDECAN to included libraries
bf8c02b8ea Copter: add KDECAN to included libraries
79bb3decfc AP_KDECAN: new CAN protocol
2f1f35ef03 autotest: sim_vehicle.py multicasting
7eccf82f6d Tools: added VRBrain bootloaders
b8aa6e5834 HAL_ChibiOS: rename VRBrain hwdef folders
aa0a2aaba2 HAL_ChibiOS: final base configuration of the Brain VR Micro Brain 5.1.
9f3b57f7eb HAL_ChibiOS: final base configuration of the Brain VR board 5.2.
2146368e7c HAL_ChibiOS: added ChibiOS support for VR Micro Brain 5.1
13d1d281e1 HAL_ChibiOS: added ChibiOS support for VR Brain 5.2
0bbcbc8624 AP_Notify: added ExternalLED and VRBoard_LED for ChibiOS VR Brain boards
a0a477795e AP_BoardConfig: added reference to HAL ChibiOS Arch for VR Brain boards
45c5979999 AP_HAL: added define of ChibiOS sub type for VR Brain boards
9783bf730f Sub: log_terrain_data no longer takes a DataFlash argument
76b31f315a Plane: log_terrain_data no longer takes a DataFlash argument
f896f6538b Copter: log_terrain_data no longer takes a DataFlash argument
2292113a5b AP_Terrain: log_terrain_data no longer takes a DataFlash argument
696c8e3fb9 Sub: Log_Write_SIMSTATE no longer takes dataflash pointer
a35fbb4a11 Plane: Log_Write_SIMSTATE no longer takes dataflash pointer
09dd750df8 Copter: Log_Write_SIMSTATE no longer takes dataflash pointer
299c91cf85 Tracker: Log_Write_SIMSTATE no longer takes dataflash pointer
b789f75f32 Rover: Log_Write_SIMSTATE no longer takes dataflash pointer
834b45ce18 SITL: stop taking DataFlash pointer as argument
071dca8fe8 HAL_ChibIOS: Fix INS default rotation for OmnibusNanoV6
17d62be9bb HAL_ChibiOS: disable USART6_TX on fmuv5
1a87edd102 Autotest: Create swarminit.txt
ec8cf10f7c Autotest: Shift Spawn locaton SITL
5e15dc6967 AP_Radio: remove use of never-set AP_HAL_PX4
43e3acc954 AP_InertialSensor: remove use of never-set AP_HAL_PX4 and AP_HAL_VRBRAIN
1dde70007a AC_Notify: remove use of never-set AP_HAL_PX4 and AP_HAL_VRBRAIN
312243142b AC_PID: remove use of never-set AP_HAL_PX4 and AP_HAL_VRBRAIN
3bbe6c46a5 AP_BattMonitor: remove use of never-set AP_HAL_PX4 and AP_HAL_VRBRAIN
00fbb01c6b AP_UAVCAN: remove use of never-set AP_HAL_PX4 and AP_HAL_VRBRAIN
b83f317681 AP_Relay: remove use of never-set AP_HAL_PX4 and AP_HAL_VRBRAIN
3ecb785f0f AP_WheelEncoder: remove use of never-set AP_HAL_PX4 and AP_HAL_VRBRAIN
a800395742 RC_Channel: remove use of never-set AP_HAL_PX4 and AP_HAL_VRBRAIN
1e57265eb6 AP_WindVane: remove include of boardconfig; unused on all boards
3cb543f17c Tools: remove old XPlane plugin
429217f392 Tools: autotest: correct division-by-zero error
d71244dd23 APM_RangeFinder: remove PX4 backend type
08173796d9 APM_RPM: remove PX4 backend type
91a082c29f AP_Notify: remove px4 oreloed driver
155ccdd6e1 HAL_ChibiOS: added extra LEDs for CUAVv5
ea2970bf26 GCS_MAVLink: adjust for new fields in DISTANCE_SENSOR
b867bbf5fd mavlink: submodule update
43e47f33e4 AP_InertialSensor: remove PX4 backend
fad02bf55a AP_Relay: Adding a 5th and 6th Relay as per issue #8979
b66f80f452 Tools: autotest: allow heli tests to be run individually
791c3b2646 DataFlash: remove PX4 ifdef in Log_Write_Power
6c14924de3 DataFlash: remove NuttX/VRBrain hack for mixed-case filenames
21f2b74096 DataFlash: remove PX4 ESC logging code
9e8d2d7f7d Sub: remove PX4 FWVersion info
cb92fba701 Plane: remove PX4 FWVersion info
d3f5f0d7b0 Copter: remove PX4 FWVersion info
17deff637b Tracker: remove PX4 FWVersion info
cc011d1a3d Rover: remove PX4 FWVersion info
3a53c5f99c Tools: Replay: update Replay for Location/Location_Class merge
2fa0b61f8b AP_Math: update example/test for Location_Class merge
0b661e7872 AP_Beacon: adjust for Location_Class and Location unification
7406c5be37 AP_AHRS: adjust for Location_Class and Location unification
d8e90ded90 Sub: adjust for Location_Class and Location unification
b258e89a2d Plane: adjust for Location_Class and Location unification
61df15ffe8 Tracker: adjust for Location_Class and Location unification
e3c719b27f SITL: adjust for Location_Class and Location unification
035957ca4c DataFlash: adjust for Location_Class and Location unification
0d4475f443 AP_NavEKF3: adjust for Location_Class and Location unification
ebd12b30e8 AP_NavEKF2: adjust for Location_Class and Location unification
2f3237143f AP_Mount: adjust for Location_Class and Location unification
b12dc3cde7 AP_Mission: adjust for Location_Class and Location unification
31fa9e582e AP_Math: adjust for Location_Class and Location unification
30980815a8 AP_GPS: adjust for Location_Class and Location unification
384ab476b4 AP_ADSB: adjust for Location_Class and Location unification
0215aff8f4 AC_WPNav: adjust for Location_Class and Location unification
b4c65dde92 Sub: adjust for Location_Class and Location unification
845f015648 Copter: adjust for Location_Class and Location unification
4e94d5c0ce APMrover2: adjust for Location_Class and Location unification
9deee2a805 AP_Fence: adjust for Location_Class and Location unification
57804e3118 AP_Common: unify Location_Class and Location
d92f34c3d0 Sub: adjust for location flags being moved out of union
f1299dc9bf DataFlash: adjust for location flags being moved out of union
90b708f9e7 AP_Terrain: adjust for location flags being moved out of union
acafb0f3c1 Plane: adjust for location flags being moved out of union
f48d757bd4 Copter: adjust for location flags being moved out of union
1f5727c0b2 AP_Rally: adjust for location flags being moved out of union
dd8da7321c AP_NavEKF3: adjust for location flags being moved out of union
9be604e3ce AP_NavEKF2: adjust for location flags being moved out of union
828317860a AP_Mount: adjust for location flags being moved out of union
1b2ac38691 AP_Mission: adjust for Location no longer being packed
ce37c9f69b AP_Math: adjust for location flags being moved out of union
e8da58201a AP_Landing: adjust for location flags being moved out of union
30d5d6b578 AP_GPS: do not zero options after assigning from location
38a649033f AP_Frsky_Telem: adjust for location flags being moved out of union
1c6b52c8de AP_Follow: adjust for location flags being moved out of union
4e7d64fd17 AP_Camera: adjust for location flags being moved out of union
1075227c90 AP_Beacon: adjust for location flags being moved out of union
8dfdda1cf0 AP_Avoidance: adjust for location flags being moved out of union
b416bc603e AP_AHRS_DCM: adjust for location flags being moved out of union
a3a012b77e AP_Common: remove packed nature of Location, move flags out of union
4dc157951b AP_Common: add template to check structure size
99120cddf9 Frame_params: add SkykWalker X8 param files
8ba87171e6 Sub: desired-ground-idle replaces spin-when-armed
2650b1fe93 Plane: desired-ground-idle replaces spin-when-armed
50c5ad7076 Copter: TradHelis force spool up before takeoff
ca565675f2 Copter: Tradheli gets support for spool logic
12f4d8518e Copter: Tradheli moves init_targets_on_arming flag to motors
2ddb3f6697 Copter: desired-ground-idle replaces spin-when-armed
4edc464b83 AC_AutoTune: desired-ground-idle replaces spin-when-armed
10572c2f9b AP_Motors: remove unused defines from multicopter
28f4c68f2f AP_MotorsHeli: add spool logic support
ac87b3e1e5 AP_Motors: spool state moved from multi to parent
bee90261ef AC_PrecLand: enabled param desc loses 2nd option
011cb89499 Copter: 3.6.5-rc2 release notes
843c92ced5 Plane: Remove some redundant code/state resets
bc88d74b2e Tools: updated IO_Firmware
28884f60d5 AP_Motors: tricopter apply diffential thrust in forward flight
c26948ef59 AP_Motors: multicopter apply diffential thrust in forward flight
c82f158b56 AP_Motors: add get roll factor
9c0ac5899f Plane: pass rudder diffential thrust to AP_motors
eaed0a2d47 Plane: make rudder differnal thrust global
8fd8ae660b GCS_MAVLink: send multiple async replies per call to send_queued_param
99ea5d1a5e GCS_MAVLink: avoid initial rush of params into uart
c4ff1f4307 AP_Arming: Allow disarming to force the safety switch
ba49e9e17c AP_BoardConfig: Add safety option off
8638446c36 Tools: update install-prereqs-arch.sh
d0aaf34db5 Tools: autotest: add option to skip tests if they're annoying us in CI
35f3906424 GCS_MAVLink: do not adjust parameter stream rate on MAV_DATA_STREAM_ALL
3f25891fea AP_RCProtocol: on DSM sync error don't reset channel count
a885f86ce7 AC_AutoTune: fixed testing of gains with aux switch
f35cebcca4 Plane: fixed EKF yaw reset
6dffb209d2 DataFlash: wrap yaw targets in ATT log
358c570d9d SITL: added simulated battery for quadplane
00d9cc2e09 Copter: Only use the 6 LSBs, avoids a cpp warning
3aee083540 AP_HAL_ChibiOS: Fix FMUv2 LED lighting up
1cf4a9b8d8 waf: fixed ROMFS compression to use zero timestamp
0db8a48453 Copter: 3.6.5-rc1 release notes
53a1d98b68 Plane: fixed VTOL takeoff to ignore lat/lon in mission
1bd9b61bf6 AP_Arming: const correctness
2c895599e1 Sub: correct rc_checks_copter_sub call
dd2798d099 AP_Arming: remove unused parameter and variable
0800f72377 AP_Arming: untangle header inclusion
1e033e616f Rover: Loiter in AUTO mode for boat
5575eeddab Rover: fixed coverity issue around loiter logic
41fd596c06 Rover: improve cruise speed/throttle learning. fix #9777
8c5d9d38a6 Copter: fix snprintf size warning
36d908c524 Tools: fixed typo for CubePurple
f037629fc3 RangeFinder: understand stop pin for AP_RangeFinder_PWM backend
719a6507ee Tools: build CubePurple on build server
48155e72eb Copter: correct use of incorrect name for type
87aeaf7315 RC_Channel: adjust type for auxillary switch position
ecb3cabf72 Tools: add flight test for rangefinder in Copter
55f751a8f4 Tools: autotest: add some tests for Copter parachute functions
9253e9b381 AP_HAL_SITL: add simulated parachute
d3b9ac5c8c SITL: add simulated parachute
e64f50860f Rover: move mode_from_mode_num function to its alphabetical order.
23ab90c596 Sub: Terrain uses rally singleton
5c90a2dab2 Plane: Terrain uses rally singleton
f50418f72a Copter: Terrain uses rally singleton
2207f52c8e AP_Terrain: use Rally singleton
6bb11b5cc8 HAL_ChibiOS: Get the number of characters in strlen
2e1e99eafc AP_SerialManager: Added 256000 baud rate to display
43ed4175b1 HAL_VRBRAIN: removed HAL
38e2c8e0ec HAL_PX4: removed HAL
8830e8d4e5 Sub: remove unused error code
f24c7719ca Copter: remove unused error code and add comments
a84af85689 AP_InertialSensor: support fast sampling in SITL
8fe39e8784 AP_Bootloader: fix return the size of  flash sector
bb0a4f3c78 RC_Channel: avoid using out-of-range aux switch values
e93cff6e44 Tools: autotest: add test that rangefinder switch works
d6cac4b52a Plane: Add a failure timer for quadplane forward transitions
b4c5041aad Sub: Remove unneeded GCS rally override
64e152fbc0 Plane: Remove unneeded GCS rally override
6bb84bfcc5 Copter: Remove unneeded GCS rally override
85296ac3f3 AntennaTracker: Remove unneeded GCS rally override
b00b7e827f APMRover2: Remove unneeded GCS rally override
27d461348e GCS_MAVLink: Use rally singleton
36cc66f0f3 AP_Rally: Move handling of home out of find_nearest_rally_point
c3de3cc923 AP_Arming: Add checks that the mission contains expected items
fccf23dff2 AP_Mission: Add a helper to check if a mission contains an item
0d369929cb AP_Rally: Create singleton
c1e3e3f8c4 AntennaTracker: Reset all storage when format version is incorrect
d920795537 Rover: Reset all storage when format version is incorrect
58895b5a82 Sub: Reset all storage when format version is incorrect
fc2ea009fb Copter: Reset all storage when format version is incorrect
ae6dc01cd5 Plane: Reset all storage when format version is incorrect
6613c678a0 CI: Delete NuttX version processing
90f2f38fb2 Sub: Delete NuttX version processing
02d692f32e Plane: Delete NuttX version processing
36995424f3 Copter: Delete NuttX version processing
f88863212e Rover: Delete NuttX version processing
b420629ce7 Tracker: Delete NuttX version processing
17f8b89b17 Rover: move mode_from_mode_num to mode.cpp
512c50a6c4 AP_InertialSensor: use SIM_VIB_FREQ for SITL vibrations
9ca059ba16 SITL: added SIM_VIB_FREQ parameter
fb53e354c0 Tools: updated STM Tools url for ubuntu/arch install scripts
ed2817e21d CI: Simplified Appveyor CI script
8ff9923e07 SITL: parse home coordinates as double (not float) to avoid precision loss
1755f5b6c7 AP_Notify: fixed NTF_BUZZ_ENABLE default
ba4e4e2e82 AP_BoardConfig: fixed example builds
fb212907a1 Tools: Update SV2450 default.parm file for AC-3.6
978cea97cf AP_GPS: whitespace and typo fixes
ce9352942f Rover: allow mavlink when in sensor error
97e54f6359 Plane: allow mavlink when in sensor error
f13dc69c3d AP_BoardConfig: fixed param handling in sensor error
42283b2595 GCS_MAVLink: allow param send in delay callback
fe1ac46840 Tools: autotest: correct log Tee'ing
bba3546279 Copter: do not permit copying of a Mode
ca0374a7af Rover: do not permit copying of a Mode
701d8588cc GCS_MAVlink: correct use of stream_slowdown
9577cb8b39 GCS_MAVLink: send text messages to notify even if no GCSs connected
59497c4635 AP_Mission: remove unused copy_alt variable
790f609373 AP_Motors: document Hover_learn as copter only
8faadc2ebb AP_Airspeed: removed #include duplicates
7cb1051aee Tools: autotest: correct error message for mission upload/download
d38dde82fe Lua: revert including lmem
c191789651 AP_Scripting: Use dedicated heap
7b259fb09f ardupilotwaf: Enable heap for scripting builds
a2b924d810 AP_HAL_SITL: Add scripting heap
e8373e1fdf AP_HAL_ChibiOS: add scripting heap
44079dcc46 AP_HAL: Add scripting heap
d8291ef1d1 waf: fixed static link build
7c2a6aed2d AP_SmartRTL: Remove unneeded AP_Buffer include
4b642f8895 AP_Mount: Remove unneeded AP_Buffer include
c7250f0c43 AP_InertialNav: Remove unneeded AP_Buffer include
85f3280705 AP_IOMCU: Remove unneeded AP_Buffer include
0c6b382f2a AP_Declination: Remove unneeded AP_Buffer include
2c8b5c651d Tools: Remove unneeded AP_Buffer include
09f6ec8a00 Plane: Remove unneeded AP_Buffer include
ec8a82e8a0 Copter: Remove unneeded AP_Buffer include
98914ff60e AntennaTracker: Remove unneeded AP_Buffer include
216cb23806 APMRover2: Remove unneeded AP_Buffer include
6458fdc917 AP_WindVane: fixed shadowed variable
a097dd558b AP_Follow: fixed m/s to cm/s conversion
42881ecf17 AP_Follow: correct timestamps on GLOBAL_POSITION_INT
f1d32df783 AP_RTC: added a millisecond jitter correction function
cc4db3e458 Copter: implement get_wp() for follow
e6bc44f471 Plane: Fix cases where quadplane level transition was not applied
ed3194d095 HAL_ChibiOS: fixed timer reset
fa4f497dab DataFlash: allow logging startup after boot
960d4c0a80 HAL_ChibiOS: allow mount of microSD after boot
8188b4a039 HAL_ChibiOS: fixed card inserted test for SDC
3a9d8448b1 AP_BoardConfig: added BRD_SD_SLOWDOWN parameter
ba379d0b18 AP_BoardConfig: fixed param syntax for voltages
24f6d6d647 HAL_ChibiOS: support microSD slowdown
5817355901 ChibiOS: support microSD slowdown
4889625826 AP_HAL: added set_slowdown() to SPIDevice
d8cf1997d2 AP_HAL: added fs_init() to Util API
a611803b6d HAL_SITL: fixed valgrind error in NOVA GPS
a4e0ecd368 SITL: added an example for plane/quad follow
5f9de3cf15 AP_SerialManager: fixed param docs
8c43db1a00 HAL_ChibiOS: implement half-duplex delay and read locking
c99dd5f9e8 GCS_MAVLink: implement UART pass-thru
b88c08f5a1 AP_SerialManager: added serial passthru support
8cca632b67 AP_BLHeli: adjust for new UART locking API
1fd1614e34 AP_HAL: added locking against read for UARTs
4886ccd8ba HAL_ChibiOS: fixed safety switch and LEDs on PH4-mini
69c87c6c4a Plane: Disallow arming if quadplane has been requested but isn't available
fc2b43313e Tools: fixed error in build_binaries.py
9c2db806f3 Plane: add units to Q_VFWD_ALT
6e15b16511 Tools: restore px4 builds of stable and beta releases
9bc9d44c3b Tools: removed px4 builds from build_all.sh
8d850e979a HAL_ChibiOS: add CubePurple/PH2Slim board config
c616587b86 AP_NavEKF: increase ABIAS_P_NSE param doc range to 0.005
a409567b44 Copter: 3.6.4 release notes
e6bfbe5f07 Tools: autotest: fix initial mode switch position race
d4a05c8ada AP_ICEngine: minor format and typo fixes
a5699c7d5a AP_Motors: boost-scale param desc update
68363ff4a2 AP_Compass: devid param desc include ReadOnly
323fd121e4 Tools: fixed submodule update order for appveyor
d6715290ff Tools: fixed appveyor configure
77389d9a91 Copter: remove dup return from arming prox check
65bfe322af Tools: LogAnalyzer: cope with text version of mode in MODE line
57f7af504d DataFlash: fixed build warning on cygwin
cf582cdb12 CI: added appveyor build of SITL for MissionPlanner
29042c95eb Tools: LogAnalyzer: understand more fields are allowed to have floats in
a8bcd50fdd Copter: minor format fix
983356213a AP_InertialSensor: Remove unused parameter
e66a360e27 AC_AutoTune: added lower limit on scaler reduction
b897551e0b Copter: log PIDs at full rate during AUTOTUNE twitch
7939f3488b Plane: log PIDs during QAUTOTUNE twitch
e279fde505 AC_AutoTune: log 3 axis PIDs during twitch
b5066cffb6 AC_Autotune: Log in degrees
be9be889db AC_AutoTune: ensure we always have the right gains loaded
460d697678 AC_AutoTune: loosen level threshold after 2s
d0bc1520f6 AC_AutoTune: reset step_scaler between tune types
d6a23fd22a AC_AutoTune: fixed missing else statement
ce27eb5de1 AC_Autotune: Reduce rate step for over angle abort
bac091262f waf: use ctx.fatal for old board error
7da303fe7f build: default to "make help"
98267b0cd7 build: allow make with BOARD-VEHICLE combination
646c6f4361 waf: point developers at the new build
15853adb04 build: removed remaining make.inc files
9596358f3c CI: removed px4 builds
f056391fea build: remove remaining make build
088442880e build: removed makefile build system
7c5d82ed15 waf: removed px4 build targets
a07ab93846 modules: removed PX4NuttX and PX4Firmware
e165e9c323 AP_RangeFinder: fix bebop rangefinder
85b83ed6af AP_Math: remove non-ascii caracter
f1270b4b22 AP_Math: const correctness
f1aa4f3f87 AP_Mount: pass vector by const reference
3b96794fb5 AP_AHRS: remove useless virtual qualifier
d87853d93e AP_AHRS: pass vector by const reference
96e629d83e AC_AttitudeControl: pass vector by const reference
aa85b281e3 Tools: added name to GIT_Success.txt
2bff0ece67 AP_RobotisServo: send detection commands 4 times
92f4b37e90 AP_RobotisServo: fixes to give smooth operation on multiple servos
403bfa1031 mk: build AP_RobotisServo
d72f6598e0 SRV_Channel: added RobotisServo protocol support
28970ed176 AP_SerialManager: added RobotisServo protocol support
aa7221d1bf waf: build AP_RobotisServo
e2aec77472 AP_RobotisServo: implement Robotis servo protocol 2.0
6312a88d90 AC_Autotune: fixed waiting for level timeout
e0c24d6ecf AC_Autotune: Include FF variable
9117dcc54b Plane: don't log QTUN when VTOL not active
d3afc9424a Plane: make QTUN logging match copter logging
25c659822a Sub: changed Log_Write_Rate to use AHRS_View
1013eddfce Plane: use AHRS_View for RATE logging
7783a7ea58 Copter: use AHRS_View for RATE logging
4ea9f329e2 AC_AutoTune: use AHRS_View for RATE logging
e2907ba88b DataFlash: use AHRS_View for RATE log msg
8d572e8565 AC_AttitudeControl: Fix Autotune high hover throttle based limits
b25f7a38e8 AC_Autotune: Include FF variable
b0f3674eee AC_Autotune: Add level time out.
db9ce0064b AP_Motors: esc calibration outputs to throttleRight and throttleLeft
d4f838495d AP_Motors: minor format fix to tailsitter
f89c18740d AP_Motors: fix tailsitter tilt servo outputs
0d8e02d113 AP_Motors: Tailsitter output using SRV_Channels instead of rc_write
11c29b6af9 AP_Motors: Tailsitter minor typo and format fixes
84bcfce96b AP_Motors: remove virtual from Tailsitter output_test_seq
21b6a2a878 Copter: Add value to paramiter discription
4a7b2e8f8f AP_MotorsTailsitter: add mixer and update to use standard AP_motors functions
1a98989ac6 Tailsitter: move mixer to AP_motors
320ea4d7f5 Tools: autotest: remove old run_test function
41cd906641 Copter: beep on mode change/change failure for aux switch changes
d3bea0c176 AP_SmartRTL: increase default pts to 300
a9781686b1 Rover: Vehicle will stop with loiter in Guided mode for boat.
01d5ce33b2 Copter: 3.6.4-rc1 release notes
80e9a54aed Rover: arming and mode init checks use ekf_position_ok
3ff1bb7714 Rover: add ekf failsafe
340429fbbb AP_NavEKF3: pass by const reference when needed
49d20364cb AP_NavEKF2: pass quaternion by const reference
3d08d02a66 AP_HAL_SITL: reorder setting SO_REUSEADDR and binding rc in port
447fab595e set bionic64 to be the primary Vagrant VM
a78bce32c0 Plane: Allow users to force target airspeed in cruise or fbwb
8a44bf50a8 Sub: split SIMSTATE, AHRS2 and AHRS3 onto their own ap_message ids
d133f998c5 Plane: split SIMSTATE, AHRS2 and AHRS3 onto their own ap_message ids
8626c9573a Copter: split SIMSTATE, AHRS2 and AHRS3 onto their own ap_message ids
1e90d90465 Tracker: split SIMSTATE, AHRS2 and AHRS3 onto their own ap_message ids
1ee8cfad6f Rover: split SIMSTATE, AHRS2 and AHRS3 onto their own ap_message ids
aa7844e4a7 GCS_MAVLink: split SIMSTATE, AHRS2 and AHRS3 onto their own ap_message ids
979e5261d5 GCS_MAVLink: remove unused method
0e1957328e Sub: split DISTANCE_SENSOR onto its own ap_message id
54022b6b57 Plane: split DISTANCE_SENSOR onto its own ap_message id
56ec2691ae Copter: split DISTANCE_SENSOR onto its own ap_message id
f8f5faa6b9 Rover: split DISTANCE_SENSOR onto its own ap_message id
77be393ad4 GCS_MAVLink: split DISTANCE_SENSOR onto its own ap_message id
a96c1566ec Plane: fix quadplane pos control param docs
61e048a41b GCS_MAVLink: tidy queued_param_send a little
6d4e886bc9 AC_AutoTune: moved axes_completed init
2277f70456 AC_AutoTune: allow save of completed axes
a5e5ee73eb AP_HAL_SITL: correct battery setup for rover
87d27957d9 Sub: try_send_message caller checks telemetry_delayed
17f244ce9f Plane: try_send_message caller checks telemetry_delayed
bfc82fb1d8 Copter: try_send_message caller checks telemetry_delayed
88dfb3220b Rover: try_send_message caller checks telemetry_delayed
f8863971a2 GCS_MAVLink: move try_send_message telemetry_delayed call up to caller
d1daacd699 Sub: split SYS_STATUS and POWER_STATUS onto separate ap_messages
5137c0ab5f Plane: split SYS_STATUS and POWER_STATUS onto separate ap_messages
f8a05564e8 Copter: split SYS_STATUS and POWER_STATUS onto separate ap_messages
06d2f97861 Tracker: split SYS_STATUS and POWER_STATUS onto separate ap_messages
90d13548a1 Rover: split SYS_STATUS and POWER_STATUS onto separate ap_messages
039ade421e GCS_MAVLink: split SYS_STATUS and POWER_STATUS onto separate ap_messages
8e96eb969f Rover: support DShot ESCs
b306e08455 AP_BLHeli: default TRATE to 10hz
6cbbbcd51d autotest: removed check on JSBSim version
28a12224c3 SITL: fixed FDM UDP socket for JSBSim
6bf40b74b1 Tools: added TugGoat's modifications to the Rascal JSBSim model
f8407dd33a SITL: fixed JSBSim backend for latest version
c5a2065a86 AC_AutoTune; minor format fixes
89d54767b1 Copter: convert to use AC_AutoTune library
1b90ef34cc AP_Motors: Dualheli- fix bug for scaling second swashplate
536a894850 AP_L1_Control: Sanatize loiter radius to prevent bad input from propegating
ad01d345d1 AP_Arming: Fix badly formatter airspeed message
47dfafd670 Plane: Ensure that the plane is an appropriate distance out before starting the approach
05484c3987 Plane: Support a different landing airspeed for fw quadplane landings
1a45755ffd Plane: Support a different landing radius for quadplane fw approach
f1154a6e7c Plane: Pass the mission command around rather then fetching it
42e67d5849 Plane: Whitespace fixes
205fc7b55d Tools: autotest: convert QuadPlane to new tests framework
69293f46f3 Tools: autotest: convert Heli to new tests framework
3b57635ec9 Tools: autotest: convert Copter to new tests framework
22cc55a500 Tools: autotest: give message rate in drain
622549456c Tools: autotest: convert plane over to new tests structure
7ad299c526 Tools: autotest: clarify arming tests messages
36ad5d44bd Tools: autotest: convert ArduSub over to new tests framework
7aa1d51585 Tools: autotest: move balancebot to new tests structure
e420f62b62 AP_HAL_SITL: check to see if setting socket and fd options worked
24653a33ed SITL: make socket manipulation functions bool rather than void
89be497897 Tools: Undefined name: 'AutoTestTimeoutException'
b1c2229430 AP_BLHeli: add BLHeli to parameter descriptions
4bceabb333 AP_BLHeli: minor formatting fixes
60250e4c49 AP_Rangefinder: Add support for ST VL53L1X
1f8db08dab Tools: autotest: show test output filename in summary
28b0267b6c Tools: autotest: add timeout on Rover test_rc_overrides
686bfc367e Tools: autotest: tee MAVProxy output to per-test file
fc1e211039 Tools: autotest: fix balancebot tests
9eae7857dd Tools: autotest: make Rover use new tests framework
8528bcf78c Tools: autotest: tee individual test output to separate files
8541a28637 Tools: autotest: support named tests
10c27e07d4 Tools: autotest: make aux switch test more reliable
e8885ee1a5 Plane: Fly a planned abort sequence if available
670eaf8782 AP_Mission: Accept and store landing aborts in the mission
2bace79025 mavlink: submodule update
dd78a5a921 Tools: autotest: use wallclock time for reboot
1f70c3881f mk: added AC_AutoTune
d90edcbb1d AC_AutoTune: fixed time subtraction bug
d1e93bae83 Plane: adding new mode QAUTOTUNE
47265c6fb7 AC_AutoTune: converted autotune mode to a library
31d6daa1ae Tools: auotest: add test to ensure components are accepted if SYSID_ENFORCE
da1f04e78c Tools: autotest: add a test for SYSID_ENFORCE
294be787f8 GCS_MAVLink: correct SYSID_ENFORCE for our own mavlink-connected components
9d323b4b90 Plane: move accept_packet to GCS_MAVLink base class
0e6efd6de0 Copter: move accept_packet to GCS_MAVLink base class
588829161b Rover: move accept_packet to GCS_MAVLink base class
759a8e5553 GCS_MAVLink: move accept_packet to base class
17af4c8933 Rover: enable avoidance in auto, RTL, smartRTL
66a2c10203 Rover: proximity logging uses LOG_BITMASK for rangefinder
12d6799aaa AP_Proximity: fix morse sector calc
f7f50d84c9 AP_Proximity: minor typo fix
a50a9c65ad GCS_MAVLink: change order in removing message from bucket
6f01073786 Sub: fix error in task scheduled rate
e6c30f6405 Tools: autotest: use change_mode in apmrover2 for changing modes
a320a54f66 Tools: autotest: new wait_heartbeat raises exception if none received
ec288cd867 Tools: autotest: make reboot detection more reliable
fbf072d84b AP_RangeFinder: add range to POS param description
760989d786 AP_OpticalFlow: add range to POS param description
6b3fa520b5 AP_InertialSensor: add range to POS param description
c7287bb98f AP_GPS: add range to POS param description
bbf1c434c6 Sub: DataFlash uses AP_Mission singleton
56675851b6 Plane: DataFlash uses AP_Mission singleton
901e428d53 Copter: DataFlash uses AP_Mission singleton
a98e9f498f Rover: DataFlash uses AP_Mission singleton
590eb86a45 DataFlash: use AP_Mission singleton
9b561c76e2 AP_BattMonitor: minor format fix to BLHeliESC
29782c3d2e Rover: move AP_Mission object into ModeAuto class
aab9103356 Sub: GCS_MAVLink now uses Mission singleton
2978da5ecd Plane: GCS_MAVLink now uses Mission singleton
8ac5ee02ea Copter: GCS_MAVLink now uses Mission singleton
a102a0352c Tracker: GCS_MAVLink now uses Mission singleton
0fa9f43815 Rover: GCS_MAVLink now uses Mission singleton
dfd0ecd2bd GCS_MAVLink: use mission singleton
452382ff76 Rover: loiter provides bearing to target
6b5ff939f2 Rover: follow provides distance and bearing to target
b405286262 Rover: nav-controller-output message sourced from flight mode
2b97e496ff Rover: nav-controller-output msg sends roll as zero and pitch for balance bot
7a6e212da9 Copter: follow return wp_distance and wp_bearing
4b6db7c0dd Copter: remove follow mode debug
90a8f8b7e0 AP_Follow: add get bearing and distance accessors
a776c7114f AP_Follow: move enabled accessor to top of definition file
962d449352 AP_Follow: remove send-text to GCS
a2fa63bcf7 Copter: fix Cygwin build
cf5dd7cdd7 GCS_MAVLink: emit pressure data for separate airspeed instances
cc5ad393e7 GCS_MAVLink: split MSG_SCALED_PRESSURE into three separate messages
e498883624 Sub: split MSG_SCALED_PRESSURE into three separate messages
bcf68a9103 Plane: split MSG_SCALED_PRESSURE into three separate messages
ca2a49c1c6 Copter: split MSG_SCALED_PRESSURE into three separate messages
1871b0066a Tracker: split MSG_SCALED_PRESSURE into three separate messages
d1eb9c5c71 Rover: split MSG_SCALED_PRESSURE into three separate messages
3de860f73b AP_InertialSensor: fixed orientation of 2nd OmnibusF7V2 IMU
9285e9df20 Revert "AP_Landing: yaw correction on landing"
984ce514a7 Tools: autotest: make Rover tests stand-alone
211e7b1f1c Auto Build: Move solo targets to Copter only
3d1a3a0c04 Tools: Update GIT_Success.txt
f442a0a1b7 Tools: autotest: remove bad calls to progress
9d8cad4eea AP_BattMonitor: fixed typos
000af43db6 Auto Build: Add Solo build targets
d4bd7e790a HAL_ChibiOS: Add hwdef for Solo's Cube Black & Green
85f579021e Sub: GCS_MAVLink uses dataflash singleton
a263364959 Plane: GCS_MAVLink uses dataflash singleton
4ffd38f6bb Copter: GCS_MAVLink uses dataflash singleton
f3157433b8 Tracker: GCS_MAVLink uses dataflash singleton
2e03061625 Rover: GCS_MAVLink uses dataflash singleton
eb2ef9fd2d GCS_MAVLink: use dataflash singleton rather than storing pointer
069897b4b6 .gitignore: Ignore parameter metadata files
bb7abc2935 Tools: Allow specifying parameter metadata format
681d8416e2 Tools: Add an EDN parameter emitter
f3a843ebf7 Plane: Fix a comma in bitmask that was breaking emitters
4c74d32ef3 HAL_SITL: fixed cygwin build of sitl
1c6af7d777 GCS_Common: don't attempt to shove timesync message into a full channel
6e7b9aa727 GCS_MAVLink: remove dead code
160c29e01f GCS_MAVLink: change number of buckets to 10
17c82999d0 GCS_MAVLink: use panic() call for what it is good for
a9c5affe8a GCS_MAVLink: be consistent about calling count() or first_set
8d970c13c0 GCS_MAVLink: avoid considering no_message_to_send equal to -1
57fee7e8ef GCS_MAVLink: remove redundant check in find_next_bucket_to_send
e91ee3e54a GCS_MAVLink: rename confusingly-named method
b696986de6 GCS_MAVLink: clarify extra code in do_try_send_message is debug code
f9399a708c GCS_MAVLink: use defined no_message_to_send constant for what it's good for
0dfe5b64bf GCS_MAVLink: clarify comment on sending requests
54d9e74f17 GCS_MAVLink add description for special messages
5a0e0e7a87 GCS_MAVLink: rename DEBUG_SEND_MESSAGE_TIMINGS to GCS_DEBUG_SEND_MESSAGE_TIMINGS
0d34052cef Tools: autotest: move code up
f2dc8f9282 Rover: call GCS update functions at much higher rate to support lower intervals
2e58eb1d46 Sub: call GCS update_send at main loop rate
153228bef5 Plane: call GCS update functions at quadcopter main loop rate
b6ac20ce32 GCS_MAVLink: use correct type for streamrate values
c70fec305c GCS_MAVLink: avoid squashing close-together intervals into same bucket
e198b0c7e6 AP_Common: Bitmask: choose builtin based on type for find_first_set
a7ce326307 AP_Common: Bitmask: use sizeof() in place of constant
e4bc874083 GCS_MAVLink: cap the minimum message interval to 80% of the main loop rate
e08a8d03d2 GCS_MAVLink: initialise last_sent_ms when reusing bucket
09905bb2f2 GCS_MAVLink: send data for sensors even if no data for other sensors
c15de72095 GCS_MAVLink: split MSG_RAW_IMU1 into per-IMU ap_messages
5e196525bf Sub: split MSG_RAW_IMU1 into per-IMU ap_messages
18d4df8d4f Plane: split MSG_RAW_IMU1 into per-IMU ap_messages
ff89000e96 Copter: split MSG_RAW_IMU1 into per-IMU ap_messages
96138244e2 Tracker: split MSG_RAW_IMU1 into per-IMU ap_messages
434a263ef4 Rover: split MSG_RAW_IMU1 into per-IMU ap_messages
4d21630bf0 Sub: send both SYS_STATUS or POWER_STATUS or neither
67042d39d1 Plane: send both SYS_STATUS or POWER_STATUS or neither
3d8588a636 Copter: send both SYS_STATUS or POWER_STATUS or neither
a5b5688960 Rover: send both SYS_STATUS or POWER_STATUS or neither
0bdeccb568 DataFlash: rename send_extended_status1 to send_sys_status
3a7ab5f67e AP_Proximity: rename send_extended_status1 to send_sys_status
c4bee518bb AC_Fence: rename send_extended_status1 to send_sys_status
e2e17b8822 Sub: rename send_extended_status1 to send_sys_status
d1727d26a1 Plane: rename send_extended_status1 to send_sys_status
75fb9780f7 Copter: rename send_extended_status1 to send_sys_status
703eef7fb4 Tracker: rename send_extended_status1 to send_sys_status
b67876316a Rover: rename send_extended_status1 to send_sys_status
ef46acda71 GCS_MAVLink: support MAV_CMD_SET_MESSAGE_INTERVAL
b31ce6ae69 Sub: adjust for new update entry points into GCS
7161f57d64 Tracker: adjust for new update entry points into GCS
05f2e51b4d Copter: adjust for new update entry points into GCS
7f5c0db949 Plane: adjust for new update entry points into GCS
9665d8d2e9 Rover: adjust for new update entry points into GCS
aff81d6f76 Tools: autotest: add test for SET_MESSAGE_INTERVAL
ef3654e343 Copter: update GCS at main loop rate
fe6342107b Sub: add parameter stream to list-of-all-streams
1ca67df663 Plane: add parameter stream to list-of-all-streams
924b278120 Copter: add parameter stream to list-of-all-streams
730dc191cc Tracker: add parameter stream to list-of-all-streams
0d8e3bdfd8 Rover: add parameter stream to list-of-all-streams
db5f933e7a AP_Common: Bitmask: add assignment operator
942555ceb8 AP_Common: add tests for Bitmask
0fcb22afde AP_Common: added first_set() method to Bitmask
8a0e3dd657 AP_HAL: add millis16 to HAL; provide weak implementation
09bdb6315b AP_Common: define WEAK attribute
723ad34dfb Tools: autotest: disable disarm_delay in case of rc getting stuck
f0a95182be GCS_MAVLink: add is_active and is_streaming methods
441222e80b Frame_params: Update to Solo parameters
735a4b6f18 HAL_ChibiOS: setup PH4 for right voltage scaling
38fc4975d8 autotest statistics tags
cb3b0bd373 SITL: don't try to connect Morse sockets so quickly
cdd7d1c83d SITL: added Morse rover follow example script
3d2634671f AP_Follow: fixed handling of FOLL_SYSID parameter
0440106c16 autotest: allow autotest with valgrind to cope with new operator
8e63d61b9e Tools: autotest: tidy valgrind invocations
64abd7f318 SITL: added follow example for rover
9b9ce2b1a2 SITL: removed Morse position offset
824d619ab6 SITL: allow override of Morse sensors and control ports
234e3b97ef SITL: don't include vehicle name in Morse string seach
fa04c2d094 Plane: prevent jitter on surfaces due to speed scaling
1f55fd9f0d AP_HAL_VRBRAIN: remove debug print when SPI device not found
07849117fb AP_HAL_PX4: remove debug print when SPI device not found
790a00d8a6 AP_HAL_Linux: remove debug print when SPI device not found
8b963e7b92 AP_HAL_ChibiOS: remove debug print when SPI device not found
550be0bfb1 Copter: tradheli default table made static
94ee157575 AP_Param: set_defaults_from_table reports failure with sensor_config_error
00b909255c Copter: tradheli uses set_defaults_from_table
71708ee4ea Plane: quadplane uses set_defaults_from_table
2ccb9061d9 AP_Param: minor format fixes
98cd300885 AP_Param: add set_defaults_from_table
997d07b694 SITL: use replace.h in SIM_Morse
8907506c18 AP_HAL: added replacement for memrchr()
bdacc410ca waf: added check for memrchr()
d9b9638b4a HAL_ChibiOS: fixed F405 PE15 afnum
9cc740b129 Vagrantfile: change default VM to bionic64
a0be4f4c8d AP_HAL: fixed build and comments
73672c90d1 HAL_SITL: added support for multicast UDP connections
50018d7a7c HAL_SITL: use mavlink_packetise()
63705f858b HAL_Linux: use mavlink_packetise()
d01f5ae6c8 AP_HAL: added mavlink_packetise()
9f8f36aad8 HAL_SITL: added udpclient support
4ae8595da3 Tools: autotest: make fly_avc_test a little more self-contained
9767c74311 AP_Mount: angle_input uses norm_input
5046c7fb91 AP_Mount: fix gimbal move to extreme before TX turned on
a24f870a0d apj_tool: fix binary writes
f5208b1664 Copter: minor format fix
aa7c9ec89e RC_Channel: minor format fixes
24c79acdc4 Copter: 3.6.3 release notes
acf379cd77 autotest: allow sim_vehicle with valgrind to cope with new operator
debea191c9 SITL: allow sensors not to be present in Morse
e569e3e1e6 SITL: added parameters for laser scanner example
e883c6392f AP_Proximity: added a MorseSITL sensor
8d86b6fbee SITL: added support for laser scanner for Morse
480abeda3e SITL: improved rover_scanner example
6786e4b5fc SITL: added rover_scanner.py example for Morse
f52af1fc40 SITL: added parsing of variable length vectors for Morse
75e63db366 GCS_MAVLink: rename MSG_EXTENDED_STATUS2 to MSG_MEMINFO
85a96195fd Sub: rename MSG_EXTENDED_STATUS2 to MSG_MEMINFO
edd4f6d14d Plane: rename MSG_EXTENDED_STATUS2 to MSG_MEMINFO
41ead10d22 Copter: rename MSG_EXTENDED_STATUS2 to MSG_MEMINFO
424c82de33 Tracker: rename MSG_EXTENDED_STATUS2 to MSG_MEMINFO
dc4e58de13 Rover: rename MSG_EXTENDED_STATUS2 to MSG_MEMINFO
d5322633ed GCS_MAVLink: rename MSG_RAW_IMU2 and MSG_RAW_IMU3 to reflect what they send
a40937337d Sub: rename MSG_RAW_IMU2 and MSG_RAW_IMU3 to reflect what they send
de479032ba Plane: rename MSG_RAW_IMU2 and MSG_RAW_IMU3 to reflect what they send
7e76871b9e Copter: rename MSG_RAW_IMU2 and MSG_RAW_IMU3 to reflect what they send
b793e139a2 Tracker: rename MSG_RAW_IMU2 and MSG_RAW_IMU3 to reflect what they send
54d4030ed1 Rover: rename MSG_RAW_IMU2 and MSG_RAW_IMU3 to reflect what they send
5d000613a5 Frame_params: Update Solo's required parameters
b1a5636d4d Rover: fix auto enter check
f0036c59d7 SITL: added rover parameters for morse example
7c50aacc92 AP_GPS: moved place we graph uart timestamp
685771c145 AP_GPS: constrain rate_ms from 5Hz to 20Hz
7a4b8d76c1 AP_GPS: added jitter correction to timestamp calculation
d761b24b92 AP_GPS: optionally configure a hardware PPS pin for uBlox
2eae4901c1 AP_GPS: look for iTow on uBlox MSG_STATUS
259723eb26 GCS_MAVLink: use JitterCorrection class
93abb41e77 AP_RTC: added JitterCorrection class
b5f3750014 AP_GPS: convert NOVA, SBP and SBP2 to use check_new_itow()
df68d6413c AP_GPS: moved iTow handling to GPS_Backend
4af857da44 AP_GPS: adjust NMEA sentence length calculation
3fe4b9c0f8 AP_GPS: make GPS packet timestamps more accurate
62c26ec5ff SITL: added parameters for Morse quad
a4f388e0f3 SITL: improved Morse socket handling
505bc2b1fc SITL: added quadcopter example script for Morse
adb45c261f SITL: support quad simulation in Morse
d907c5757d AP_Motors: added PlusRev motors type
c8c54b369a SITL: added example script for Morse
fea5060429 SITL: added Morse simulation backend
d46c48e28c HAL_SITL: enable morse simulator backend
eb851cf1a6 Rover: log SITL state
6c7af3830b Plane: apply throttle slew to dual-motor setups
64915c69b6 AP_OSD: check for airspeed object
5a262a7f6a AP_OSD: add secondary airspeed item
a083d98b96 Copter: 3.6.3-rc1 release notes
8949cdd87a Tools: waf: use ctx rather than build for fatal errors
c6e70c0454 Plane: add roll limit for tailsitters
b6519c88a5 Plane: fixed a bug in Q_ASSIST_ modes for tiltrotors
0943ace7a9 Plane: Zero Yaw correction during transition
8f5f664e9f Tools: added name to GIT_Success.txt
50683633b3 HAL_ChibiOS: setup for brushed feature in IOMCU
41264568ba AP_IOMCU: added brushed motor feature bit in protocol
25247433dc AP_BattMonitor: added Sum backend type
c081ce9adb Plane: don't relax attitude controllers for tailsitters
3d9126ec4a AP_Compass: run lsm303d at 91Hz, not 100Hz
0faab853cb HAL_ChibiOS: make atob static
9a560cf3cd Build.md: promote ChibiOS builds over NuttX
9257d29717 SITL: fixed frame_property build error with older C++ compilers
c72f2e57b0 HAL_SITL: fixed build on older MacOS
8ea7df3efe AP_NavEKF2: added filter reset if unhealthy for 5s and disarmed
c1516da203 AP_Camera: use timestamp from trigger time
19ba2322ac DataFlash: added timestamp to CAM messages
8f51bef0f0 HAL_ChibiOS: added 3 tries to microSD MMC init
6a27e8585a AP_UAVCAN: limit number of file open and close events
0976019133 AP_UAVCAN: continue dna server setup even if unique id not received
8c9e9bd415 HAL_SITL: implement get_system_id()
48475051d9 HAL_Linux: implement get_system_id() on Linux
73d6200db4 AP_UAVCAN: use HAL_BOARD_STORAGE_DIRECTORY for node db path
4cfb1b04ad AP_HAL: define HAL_BOARD_STORAGE_DIRECTORY for sitl, px4 and chibios
c37a9966c1 AP_UAVCAN: use const unique id length variable
e017783f69 AP_UAVCAN: disable server for HAL_PX4 with minimize feature builds
144bbb293f HAL_PX4: implement system id without formatting
bb6b176785 AP_UAVCAN: add support for dynamic node allocation
df7d0d1971 AP_HAL: add support for unformatted board id
3b2fdc9c70 HAL_ChibiOS: add support for unformatted board id
8df52aba29 HAL_ChibiOS: move vsnprintf call to redirect Ardupilot's instead of ChibiOS's
dd88e6e85c Tools: autotest: correct wait_servo_channel_value error path
42b89e7427 AP_OSD: flash GPS if no lock
ee78374513 RC_Channel: added GPS_DISABLE option on a switch
2512b73106 AP_GPS: added ability to disable GPS
a8fa17e7fd Tools: LogAnalyzer: exempt CTUN.DSAlt from NaN check
671f39c874 AP_OpticalFlow: remove unnecessary init from CSOF and add comments
4f738ca906 AP_OpticalFlow: driver for Cheerson CX-OF
67be002cca AP_SerialManager: add optical flow to list of protocols
70817bb6a7 GCS_Common: optical flow comp fields should include flow
b9b00e0f53 Tools: updated IO firmware
d78be209fe AP_SBusOut: fixed an init bug in SBUS output
adf78ab8d3 MAVLINK: Forward to private channels if sysid and compid match
ffeeedb0aa Tools: updated IO firmware
b7dd255050 AP_RCProtocol: small improvement to SBUS parsing robustness
7459709acb HAL_ChibiOS: allow ROMFS to override a file
5baf4c42ea AP_RCProtocol: fixed decoding of SBUS switch channels
e3cd081064 SITL: support up to 12 actuators with RealFlight8
2e98de3292 Copter:Parameters-TradHeli - set defaults for PSC and LOIT controllers
ba3a369651 Plane: remove update_events scheduler shim
c40f4f1ba6 Tools: new IO firmware
d4c2945a48 AP_RCProtocol: increased robustness of SBUS parsing
69c4fb671e AP_IOMCU: optimisations to reduce ISR latency
24b23d6784 AP_RCProtocol: make DSM parsing more robust
50df8c7e28 AP_RCProtocol: added cmdline RC decoder program
02519afdf4 HAL_Linux: fixed an error found with valgrind
8c464572d8 AP_HAL_ChibiOS: Use a less clever version of realloc
effdc436f2 AP_Param: Fix a mixture of new/free
0ede7b7d39 AP_Scripting: Catch lua panics
686abb5e61 GCS_MAVLink: warn user via text message of mission upload failure
57d3a4fb5f AP_HAL_Empty: Remove unneeded private member
b32c5e6f8d AP_HAL_ChibiOS: Remove unneeded private member
52d6353e33 AP_Rangefinder: Remove unused members
0808539ee5 AP_LandingGear: Remove unused members
02993b4ad0 Tools: autotest: delay between transitioning aux switch for arming
18c3eba829 AP_OpticalFlow: minor format fix to Pixart driver
e629845f00 AP_HAL: minimize features on px4-v1
891447d798 AP_Notify: fixed LED sync for OreoLED
78dc575258 AP_Notify: added OreoLED_I2C driver
deea50731d SRV_Channel: fix values order
4673fd8c7c AP_BattMonitor: fix problem with BATT_MONITOR=0 and BATT2_MONITOR=N
ba3303dc61 AC_PosControl: set-alt-target-with-slew sets desired to 0 once at target
b252eae404 Copter: Flip mode is an option.
3ee675ad42 DataFlash: Log integer version of mission
3296b1c7f7 SITL: correct use of uninitialized values in simulated gimbal
00cdf24324 AP_BattMonitor: Add docs for Plane QLand failsafe
1e220d3d37 Plane: Add support for mode change to QLand as a failsafe
2c9ba1d954 Copter: 3.6.2 release notes
f6d564599e AP_Mount: mark gimbal channel as private
1e354d53c9 GCS_MAVLink: added private channel mask
635540b4d6 SITL: simulate Solo gimbal parameter handling
2a08dc73b7 SITL: added some debug code to simulated Solo gimbal
88a003edd9 Tools: autotest: flake8 compliance
ba0926e101 Rover: MIS_DONE_BEHAVE parameter to choose mode after mission done
f4cf4c7fa2 GCS_MAVLink: remove unused variable
2cea90eefe AP_Vehicle: remove ancient, misleading Arduino comment
f9487c3d83 Copter: remove ancient, misleading Arduino comment
d4e88bc6ba Plane: remove pointless wrappers around RC_Channels functions
d49431488e Copter: remove pointless wrappers around RC_Channels functions
c9714ae962 RC_Channel: read_aux_all is no longer overrridden by any class
86994ba195 Rover: remove pointless wrappers around RC_Channels functions
27405f9dd7 Sub: remove pointless wrappers around gcs functions
ee5339f931 Copter: remove pointless wrappers around gcs functions
0aa4c4ed9a Tracker: remove pointless wrappers around gcs functions
03b71e1123 Plane: remove pointless wrappers around gcs functions
5dcf4dfffc Rover: remove pointless wrappers around gcs functions
a4243d9c7c Tools: Remove hard-coded path to MAVProxy
ca4d28200b AP_BattMonitor: Increase solo's power off button delay time
616a2709ff AP_BattMonitor: clarify copter action for SmartRTL
eb7b87b70d Copter: 3.6.2-rc4 release notes
655fe660ed Copter: remove reset of alt target in manual throttle mode
6816262e3d AP_RangeFinder: benewake tfmini always provide cm distances
1428594daf HAL_ChibiOS: fixed uart order for PH4-mini
4d8fbdfcfd Plane: fixed spoiler left rudder order
8ac18f343f HAL_ChibiOS: added note on KakuteF7 ESC telem
08199eb5ff HAL_ChibiOS: updated KakuteF7 docs
62f07f36c7 HAL_ChibiOS: updated KakuteF4 docs
101b12617d HAL_ChibiOS: updated PH4-mini docs
eac6435dec HAL_ChibiOS: allow CAP ports to be used as PWM on PH4-mini
a6ab885866 HAL_ChibiOS: fixed typo in F767 pin def file
14cd9f11e8 AP_SerialManager: document Swap option for UARTs
013f1d55e8 HAL_ChibiOS: added support for swapping UART pins
bed7939969 AP_HAL: added support for swapping RX and TX pins
cfc6ec5e57 HAL_ChibiOS: added PH4-mini docs
7c2dc84d45 HAL_ChibiOS: added Pixhawk4 docs
9f22dae444 HAL_ChibiOS: added docs for CUAVv5
d422e6a6ff HAL_ChibiOS: correct SPKT pin numbers for CubeBlack
742d8b8933 HAL_ChibiOS: pixracer and cube doc updates
8a85d9db69 HAL_ChibiOS: added CubeBlack docs
715ac2d6c5 HAL_ChibiOS: fixed error in pixracer docs
35db9c4b85 HAL_ChibiOS: added Pixracer docs
1d00d26b9e Plane: added parameters for crow flaps
4d6547c533 Plane: added crow brakes and diff. spoilers
d3eb24bc01 AP_Airspeed: Temperature conversion in consistence with other libraries
99525410ee Copter: 3.6.2-rc3 release notes
f5a9fdaf42 RangeFinder: benewake buffer uses uint8_t
4b1857b3aa waf: use local pymavlink
4f9c492f78 AP_Landing: yaw correction on landing
987b556299 Plane: disable crash detection if no GPS and no airspeed
b660022b20 Plane: handle long GPS loss in crash detector
09dde518df AP_AHRS: fixed dead-reckoning groundspeed vector
62be29fbcf HAL_ChibiOS: added board docs for KakuteF4
39003905b9 HAL_ChibiOS: re-arrange KakuteF4 UARTs
cfb401995f AP_SerialManager: allow override of SERIAL2_PROTOCOL
da402f4fb7 HAL_ChibiOS: fixed KakuteF7 UART order
fa487fe1bc HAL_ChibiOS: added Pixhawk1 docs
9cba4b2e70 AP_LandingGear: Helper for landing
2c8d96145f AP_Landing: Check deployment of gear
774cea0dd5 HAL_ChibiOS: added KakuteF7 docs
c56188d081 AP_Baro: read temperature from AP_Airspeed singleton
c81f9e6baa AP_Airspeed: update data with logging
802ae94e2c ArduPlane: move airspeed update to library
cdbffb4ecc APMrover2: move airspeed update to library
4bec75dd44 Tools: add name to Git_Success
e0bb2ede9d Tools: update GIT_Success.txt
d84bc9f556 HAL_ChibiOS: fixed STM32F7 RXINV flag
cb7eec8fbe Tools: autotest: rover1.txt: ArduPilot doesn't use the current-wp param
d604515e79 Tools: autotest: copter_mission: remove value in unused parameter in RTL
84bd1868be Tools: autotest: copter_mission: zero p3; Copter does not use it
7f434cc14f Tools: autotest: copter_mission: zero unused land parameter
a781f088fd Tools: autotest: copter_glitch_mission: zero unused land parameter
5a88483a81 Tools: autotest: ap1.txt remove content from unused field
f84370bb04 Tools: autotest: consolidate mission-loading functions
8b36565b6c Tools: autotest: disable terrain in optical flow test
03f1deca9f Plane: support REVERSE_THROTTLE rc option
285935f8b3 RC_Channel: added reverse throttle RC option
da69bf3391 Plane: added an abstraction for reverse thrust
f71013928a AP_Motors: force PWM range for DShot to 1000 to 2000
fbcbbb72b1 SRV_Channel: support reversible DShot motors
8dd58b4181 HAL_ChibiOS: support reversible DShot motors
f2cd6e9a05 AP_HAL: added set_reversible_mask()
1910f266a6 AP_BLHeli: added SERVO_BLH_REMASK for reversible motors
adf7fefc2e HAL_ChibiOS: detect stuck I2C bus and clear with SCL
a0ed658fcc HAL_ChibiOS: added palReadLineMode() function
c8efff7ddc Tools: updated IO firmware for DSM fix
b4c551b56c AP_RCProtocol: expand DSM test to 8 channels
da0301c208 AP_RCProtocol: fixed DSM parser for 8 channels
a75d678e7f Tools: autotest: add tests for precision loiter and landing
a4c532edff AP_HAL: fixed typo in fmax macro
e6651b01bb waf: use direct import of mavgen for mavlink generation
6cacc738b3 Copter: 3.6.2-rc2 release notes
6b0b3f987b Copter: 3.6.2-rc1 release notes
d7f529d3c6 AP_HAL_SITL: Use double point precision when converting langitudes and longitudes from degrees to radians.
e9c1abfc3c AP_RangeFinder: fix benewake checksum check
3cc84173e3 DataFlash: log rangefinder status in RFND msg
123e10c058 AP_RangeFinder: benewake returns at least 12m or 22m when out-of-range
304eaa7782 waf: fixed typo
1d2f8555c0 Tools: ardupilotwaf: adjust for new location of uploader.py
072195ad99 Tools: web-firmware: update firmware flashing instructions
d0f070d05d Tools: rename px_uploader.py into uploader.py, move into scripts
dce68757fc Tools: web-firmware: remove flashing instructions for apm1 and apm2
d780af4f16 Tools: web-firmware: strip APM from vehicle names
e702ca7202 AP_Arming: resolve compiler warning
002223204b Rover: add comments to failsafe structure
c9299db3b9 Rover: ignore pilot's input during RC failsafe
32ba248c73 Rover: add continue-in-auto option to failsafe
85243ad522 HAL_ChibiOS: enable support for half-duplex uart config
58ed5a123c AP_HAL: added HalfDuplex UART option
20b2d05dfd AP_SerialManager: added docs for HalfDuplex option
b346d82f96 HAL_ChibiOS: allow frsky invert for p3pro and mindpx-v2
f0c13d4089 HAL_ChibiOS: allow user control of frsky inversion on Pixracer
acf03980ca HAL_ChibiOS: added UART inversion options
bd117f1548 HAL_ChibiOS: define pins for inverting uarts
37fc6e8b1c AP_HAL: added inversion options
ac3b0a98ab AP_SerialManager: added options for each uart
785c130a8f Tools: add my name to GIT_Success.txt
44360a769d Rover: fix to use defined value of failsafe action
2afe72d79f AP_Scripting: Swap reschedule to be callback, delay
ecb1a433b1 AP_Scripting: Add more runtime sanity checks
472cd9f48c Tools: Add a runtime scripting check flag
dcfc90b911 wscript: Add a runtime scripting check flag
fc5b8e479e README: Assign scripting subsystem
40d5e233d4 AP_Scripting: Autostart all scripts in a given folder
19a8c5a6ed AP_Scripting: Run multiple scripts at once
b0a84ab7cf AP_Scripting: Enforce a time limit for a script
d824cf0a40 HAL_ChibiOS: default the battery2 pins correctly for CubeBlack
c50eed5e9a Copter: log and notify when manual land repositionning is active
e5fa728a28 AP_OpticalFlow: fix example for not taking ahrs in constructor
78313dab4a Rover: stop passing ahrs to OpticalFlow constructor
376a422cff Sub: OpticalFlow takes care of its own logging
2bca18b712 Sub: do not pass ahrs to opticalflow constructor
102f06bb92 Sub: move sending of optical flow status up to base class
3eee4e917a DataFlash: OpticalFlow takes care of its own logging
ac83765487 OpticalFlow: take care of own logging
a5c34f6172 Plane: OpticalFlow takes care of its own logging
33ca577653 Copter: OpticalFlow takes care of its own logging
e53a009a35 Plane: do not pass ahrs to opticalflow constructor
ee456e8870 Copter: do not pass ahrs to opticalflow constructor
e88358ccc6 AP_OpticalFlow: use AHRS singleton
12c67ecaab Plane: move sending of optical flow status up to base class
33d40500ac Copter: move sending of optical flow status up to base class
38fdcb02a4 GCS_MAVLINK: move sending of optical flow status up to base class
ebf038eb57 AP_OpticalFlow: add singleton
ff77000d93 waf: support changing board to build without re-configure
2e3b4df47e waf: don't fail on missing pkg-config
389a9ee88b waf: add option to disable gccdeps
9bdbd37d98 waf: boards: use existing abstract class definition
1e036e4d4e waf: boards: small change to use waf standard
d9ad3eeab0 waf: use Python from environment
10ff67d71e waf: fix method name
e56f12b68e AP_Arming: Add servo voltage check, paramertise the Vcc check
6a41f0c86a AP_BoardConfig: Add minimum board and servo voltage parameters
be8d4e6c9d AP_HAL_ChibiOS: Assume that IOMCU implies servo voltage monitoring
9a9e715af8 AP_HAL: Define HAL_HAVE_SERVO_VOLTAGE
a5115930dd AP_HAL_ChibiOS: Fix board voltage checks being disabled
1069ab0860 Rover: GCS invoked RTL returns failed when set-mode fails
c59b2c156a Plane: fixes for Q_TRIM_PITCH
33b26da2eb AP_AHRS: small cleanups
e1cdf9fe0a AP_AHRS: add trimed view
5a7bd61e8c Quadplane: add trim params
4c3651c2be Rover: 3.5.0-rc1 release notes
f8773e0bdc Copter: enable ground effect compensation by default
85a1f9e40d Plane: added ACCZ pid tuning
0d9c1847df AP_TempCalibration: fix parameter descriptions
d2cb4db191 AP_OpticalFlow: add defined(HAL_HAVE_PIXARTFLOW_SPI)
8f709b7a34 AP_Mount: fixed build warning
c5c55dd5c1 Tools: added bootloader for MatekF405-STD
495a2a3870 Tools: added MatekF405-STD to autobuild
f48c3da497 HAL_ChibiOS: fixed undefine typo
f8d43bc96b HAL_ChibiOs: add default support for board versions with ICM20602
0d964a5502 AP_ADSB: Fix error snprintf output truncated
d6dca1f6a1 Copter: landing gear deployment height calc uses lidar status
2f79932611 Copter: auto-convert landing gear PWM parameters
ac920633af AP_LandingGear: use SERVO_MIN/MAX/REVERSED for landing gear
144e1945c6 Copter: support height based landing gear
432d786f82 Plane: pass height to landing gear update
486ecd6148 AP_LandingGear: added height based triggering
6b5088207b autotest: upload failed CI logs to autotest server
8ce0460daf Plane: Remove old parameter conversion
8e906e0ba0 Plane: Add support for a loiter to alt approach to VTOL landing
35be68348d AP_RangeFinder: benewake logic reordering
a09cd8411d AP_RangeFinder: benewake lidar returns max range + 1m when out-of-range
176ee507a2 Copter: make mavlink rangefinder health bit depend just on data available
24ba876e88 HAL_ChibiOS: don't use STDOUT_SERIAL on mindpx-v2 or cube-red
0d4ab51f15 Copter: 3.6.1 release notes
03ee4bfd9a Tools: add my name to GitSuccess
575d03796c AP_HAL_ChibiOS: fix typo in fmuv5 hwdef [NFC]
c0af0cfe70 Tools: autotest: improve debug on optical limits test
769192fed7 Tools: ardupilotwaf: make type narrowing an error
73940df48e Copter: move mission into mode_auto
4a449cd307 mk: add AP_LandingGear
637dc718df Copter: moved LANDING_GEAR to common RC_Channel
f89c770c46 Plane: moved LANDING_GEAR to common RC_Channel
4eb867efc2 waf: always link AP_LandingGear
2bab144eca AP_LandingGear: make singleton a pointer
7fad72dacf RC_Channel: moved LANDING_GEAR to common library
fa1fc004bf AP_LandingGear: fixed pullup/pulldown and doc strings
eac7c28005 RC_Channel: allow landing gear control for plane
01178a75e9 Plane: added landing gear support
fa6afe145f AP_LandingGear: weight on wheels, debounce, singleton
3794f9d51e HAL_SITL: SITL weight on wheels
0536a3c4c6 SITL: added SIM_WOW_PIN
ed8dff8af7 AP_BattMonitor: fixed SAFETY_STATUS register
47463e8159 AP_OSD: set default type for boards with onboard OSD
d204939cb2 AP_HAL_ChibiOS: set default type for boards with onboard OSD
c2b334eaad AP_RangeFinder: PWM: take an average of any readings accumulated in irq
2116737e35 Sub: don't pass ahrs to terrain constructor
818bb8d56d Plane: don't pass ahrs to terrain constructor
bf1c82ffe1 Copter: don't pass ahrs to terrain constructor
1a853f6f82 AP_Terrain: use ahrs singleton
46f3b5d109 Tools: updated IO firmware
137253ac2c AP_RCProtocol: fixed SBUS failsafe
30d5ff2d3d AP_WheelEncoder: set pin to input before attaching interrupt
0102016e54 AP_RSSI: set pin to input before attaching interrupt
e862c349e8 AP_RPM: set pin to input before attaching interrupt
76a2cd1540 AP_RangeFinder: set pin to input before attaching interrupt
c18c867fec Tools: added omnibusf4v6 bootloaders
cadeb428b6 Sub: stop passing ahrs to Mission constructor
f598cff99c Copter: stop passing ahrs to Mission constructor
67e5b18268 Rover: factor out do_aux_function_change_mode
4b68ca79dc Plane: stop passing ahrs to Mission constructor
a9b94ae13d AP_Mission: use ahrs singleton
65e4d74b1f Tracker: add override keyword where required, fix bad method override
86168cd180 Rover: add override keyword where required, fix bad method override
b0494c1491 Copter: add override keyword where required
dde3deff98 AP_WheelEncoder: add override keyword where required
34008ad29c AP_RPM: add override keyword where required
327ccc8961 AP_OpticalFlow: add override keyword where required
64eb8f0986 AP_Beacon: add override keyword
ee07789383 AP_Baro: add override keyword
1056321457 Filter: add override keyword
bc212073a2 DataFlash: add override keyword
011c93f38e AP_InertialSensor: add override keyword
1bef78dda5 AP_InertialNav: add override keywords
82df40f464 SITL: add override keyword where required
94e0485bdf AP_RangeFinder: add override keyword where required
e0ab431ebd AP_Proximity: add override keyword where required
344d6b938c AP_Notify: add override keyword where required
be53782ef1 AP_Mount: add override keyword where required
f2070da335 AP_Motors: add override keyword where required
2993ffb588 AP_HAL_VRBRAIN: add override keyword
fdfe5ac75a AP_HAL_SITL: add override keyword where required
6c152acedc AP_HAL_PX4: add override keyword
d4601862bc AP_HAL_Empty: add override keyword where required
17f643719a AP_HAL_ChibiOS: add override keyword in many places
c9f31f7e0a AP_Gripper: add override keyword where required
fd888727b8 AP_GPS: add override keyword where required
e7a981d2c3 AP_Compass: add override keyword where required
8e30417c38 AP_BattMonitor: add override keyword where required
7e3ca19308 AC_AttitudeControl: add override keyword in many places
f00636e794 Tools: add my name to GitSuccess
9bf4428c28 Sub: Add patch number to VERSION notation
0dacfc0d9c Copter: Add patch number to VERSION notation
7a3f84566a Copter: Delete the last newline of the message.
48610ea0a0 AP_Math: Remove an unneeded safe_sqrtf, leverage is_zero
6e84a31613 AP_RangeFinder: use new ChibiOS driver if user attempts to use PX4 PWM driver
186ce80827 AP_RangeFinder: add pwm backend
5935722968 Tools: updated IO firmware
a0c57979ab HAL_ChibiOS: use opendrain outputs for LEDs on iomcu
8e7695e5f0 AP_IOMCU: respond to override change more quickly
8d8853d4b7 AP_RCProtocol: fixed test build on navio
7168a0297a HAL_ChibiOS: display RC protocol for iocmu
5771e0a90e AP_IOMCU: added access to RC protocol name
a8e6a09903 AP_RCProtocol: expose protocol name mapping
ae18fd1cef AP_RCProtocol: added SUMD protocol test
7996259726 AP_RCProtocol: added timeout handling to SUMD
b1e5e0aba9 AP_RCProtocol: convert SUMD and ST24 to SoftSerial
408db791e3 AP_RCProtocol: added test suite
eb78d4fa26 AP_RCProtocol: added destructor
696d4b47a1 AP_RCProtocol: use SoftSerial clock for SRXL
3bd27ba094 AP_RCProtocol: use SoftSerial for DSM
b93dee7fe6 AP_RCProtocol: switched SRXL to SoftSerial decoder
87cf160875 AP_RCProtocol: switched SBUS to SoftSerial decoder
b7c4ae8ae9 AP_RCProtocol: added separate soft serial decoder
96380b1ff0 Tools: updated IO firmware
a69f66eadd HAL_ChibiOS: ensure RCIN sigbuf has even number of words
6c128fcaf2 HAL_ChibiOS: signal2 does not need to be DMA safe
7e8b6709ae AP_RCProtocol: improved reliability of DSM vs SRXL detection
3d90ddc453 AP_IOMCU: fixed stop bits in sbus output
e3a01c661f HAL_ChibiOS: switched to USB for console on pixracer
366361f0bb SITL: fixed running of example programs
5480479e73 HAL_SITL: fixed SITL example progs
329357f7a2 Tools: updated IO firmware
a7c5ac8902 AP_IOMCU: run main loop at max rate
53b6f38027 AP_RCProtocol: allow switching between all protocols on IOMCU
56203204cc HAL_ChibiOS: fixed build of bootloaders
2054be0ce1 waf: omit bootloader for px4-v2 build
b950b83eea HAL_ChibiOS: fixed build with EICU RC input
f452d5c752 Tools: new IO firmware
2159198c3e AP_IOMCU: allow DSM input as pulses in iomcu
eca4fec2aa AP_RCProtocol: use pulses as clock for frame timeout
faf8f73437 AP_RCProtocol: added process_pulse_list()
5dd0086698 HAL_ChibiOS: make SoftSigReader considerably more efficient
9ea03e085d AP_HAL: added readptr() and advance() to ObjectBuffer
e1385573b1 AP_RCProtocol: return protocol name string
dbc05f787b HAL_ChibiOS: display decoded RC protocol
d87bef16a2 AP_RCProtocol: require 3 good frames for weak CRC protocols
e6cadfa2d9 AP_IOMCU: disable DSM and SBUS for pulse input
68c9f52b3e AP_RCProtocol: allow selection of protocols for pulse input
9354aca07d AP_RCProtocol: removed some unnecessary millis calls
49d07ed234 AP_IOMCU: catch parity errors on SBUS input
c148813c17 AP_IOMCU: enable uart for SBUS input
d18277487e HAL_ChibiOS: use RCIN pin for only PPM only on iomcu
baf0be6a56 AP_RCProtocol: added check on baudrate in process_byte()
7c1ba15031 HAL_ChibiOS: fixed syntax error on RCIN pin for iomcu
fab181345c AP_IOMCU: fixed override on RC loss
86ab3d7669 HAL_ChibiOS: turn off green ring LED on cube
29fb674f3f AP_IOMCU: use macros for LED outputs in iofirmware
a8d91a24b6 AP_IOMCU: fixed compat with nuttx firmwares
c767828f11 AP_RCProtocol: prevent mixing of byte and pulse input
fcc259ae31 HAL_ChibiOS: separate out F1 CR1 calculations
107ccb3eef AP_IOMCU: enable DSM input in iofirmware
7e66bb69b9 HAL_ChibiOS: enable amber LED on iomcu
ae0ccbcea9 AP_RCProtocol: support byte input for DSM
56d0d6b9be AP_RCProtocol: make singleton
b9e4916c17 AP_IOMCU: fixed delay in DSM bind
2488d25284 AP_IOMCU: fixed rate of failsafe handling
f8dc17f8ff AP_IOMCU: implement DSM bind
184c05bc70 AP_IOMCU: fixed DSM bind
3ab1cd4808 HAL_ChibiOS: fixed build
c57fe83217 AP_IOMCU: rename sbus_out.cpp to rc.cpp
4d64b86f87 AP_IOMCU: Add binding procedure for DSMx
032c5ab707 AP_HAL_ChibiOS: Binding update for DSM
843772a2bc AP_IOMCU: added some debug code
f69360844f HAL_ChibiOS: enable USART1 for iomcu for spektrum input
065dba973b HAL_ChibiOS: fixed build warning on iomcu
8ece4e3f64 AP_IOMCU: implement BRD_SAFETY_MASK in iofirmware
81fe8b7138 HAL_ChibiOS: allow set of safety mask from IOMCU
f2b8067023 Plane: pass manual_rc_mask to iocmu mixer
beff16abe6 AP_IOMCU: implement manual_rc_mask
27f06ce810 AP_IOMCU: trigger override at 1750
46fcfe0582 AP_IOMCU: removed rc_channel range check
c3d434bc35 Plane: pass mixing gain to iomcu
e70a98fa9a AP_IOMCU: support elevon and vtail mixing in failsafe
285508d568 AP_IOMCU: added initial mixing support
ec73a7072b AP_IOMCU: use more bandwidth efficient IO read
d5c29fc57e Plane: use IOMCU mixing if available
191f72d2e6 AP_IOMCU: added mixing structure to protocol
8d5b9521ad AP_Arming: added IOMCU health check
38eed4ba84 Tools: add my name to GitTest
65af2bc56b Rover: Fix sail motor test not being reachable
e0d94ceaf2 Copter: 3.6.1-rc1 release notes
b5caea19da AP_WheelEncoder: Fix AP_WheelRateControl::get_pid() always returning the first pid
b38200a960 AP_WheelEncoder: Fix integer division limiting wheel encoder accuracy
c712e926d7 AP_Baro: Avoid returning 0.0f for EAS2TAS
72440e2af3 Copter: allow VFR_HUD.alt to be relative-alt if DEV_OPTIONS has bit 2 set
3749cfd764 GCS_MAVLink: allow vehicles to override VFR_HUD.alt
f7245e7797 Copter: Remove old parameter conversion that conflicts with newer code
1c54fa0230 Plane: Remove old battery conversion that conflicts with new monitor
4540109513 Sub: Fix battery failsafe parameter conversion
5740ea55e8 Copter: Fix battery failsafe param conversion
d9e02403e1 Plane: Fix battery failsafe parameter conversion
7fdd0bd996 AP_RangeFinder: Benewake driver discards distances over 327m
1d322046b0 Copter: tidy up send_pid_tuning
3803684c4e DataFlash: add sanity checks around EraseAll
83a1d0d07a Tools: modify of Git_Success.txt with my name
cab5199da8 AP_IOMCU: fixed a race in event trigger on startup
7c86ce4d81 Copter: change default streamrate for ADSB from 5 to 0
0afc9bf724 AP_Mount: SoloGimbal: avoid calling safe_sqrtf
126065e95c AP_Mount: trim out dead getDebug method
7d16888067 Tools: add my name to Git_Success.txt
d9d9a298bb AP_SmartRTL: stop constructing/copying Bitmask
6b7e04da06 AP_Common: Bitmask: remove copy operator and constructor
68d713b971 Sub: Make capability init consistent
9e1b0de6b7 Plane: Make capability init consistent
0f636db159 Copter: Make capability init consistent
32b88feb60 Tracker: Make capability init consistent
a40295c3b6 Rover: Make capability init consistent
8641dcbc31 AP_Mount: SoloGimbal: stop taking reference to AHRS
f94755b5a1 Tools: autotest: collect logs correctly for Sub
76f4b132b2 Tools: build omnibusf4v6
d1f557e96b HAL_ChibiOS: added Omnibusf4v6 board, based on omnibusnanov6.
7600d3205a Tools: correct race condition in interlock check
6db54bd65e AC_AttitudeControl: Change from sqrt to safe_sqrt
998dd7207f AP_Mount: Change from sqrt to safe_sqrt
49ce9d02b1 HAL_ChibiOS: ensure RC in channels are bounded
793ff201b4 Sub: remove dead do_erase_logs method
6b2ad734b6 AP_BLHeli: correct SERVO_BLH_POLES parameter value range metadata
1c162c8b64 Plane: ensure speed scaling covers full aircraft speed range
a513707de7 Tools: Update GIT_Success.txt
380884e175 Rover: shorten radio/throttle failsafe to 0.2 sec min
2408538bdf Rover: failsafe clears rc-overrides
6167e6ac0b Rover: gcs fs not triggered if rc-overrides arrive
047f704236 Rover: last_heartbeat_ms moved to failsafe structure
ed8feda5b9 Rover: shorten failsafe timeouts
fa5de31cb9 Rover: rename control_failsafe to radio_failsafe_check
4ae35ee3ea Tools: temporarily revert to NuttX IO firmware
69e5a4b262 Rover: sailboat tack triggered by any switch movement
2db6b7c7cb Rover: move sailboat vars into struct
4dbff6af7e Rover: use AP_WindVane's send_wind
0aaa6bf054 AP_WindVane: rename variables and parameters
ecd1f8e658 AP_WindVane: add send_wind
8a57f63e5d Tools: sailboat autotest param default enable SITL wind speed sensor
0dddc2eafe Rover: add sailboat tacking
bc1cf6a87a AP_WindVane: add wind speed
ff4ef4968e AP_WindVane: switch x and y in read_SITL_direction_ef
836237cc49 AP_WindVane: update parameter descriptions
e42c3c6fab RC_Channel: add Sailboat Tack to aux switch
513cfd1dcb modules: update PX4Firmware module
e04ebb1326 HAL_ChibiOS: set BATT_MON default on boards with onboard volt/curr sens
6c6dabc33c AP_HAL: set default batt monitoring for bebop and disco
1a5d60609d AP_BattMonitor: added BATT_MONITOR_DEFAULT option
78a32df2e7 HAL_ChibiOS: make all boards base GPIOs for servos at 50
5ce418b4ea Plane: added FLIGHT_OPTIONS bit for disabling pitch up check in takeoff
a00e06ea13 Plane: added TKOFF_ACCEL_CNT for multi-shake to start
156ac83123 DataFlash: allow replay to work again
5452730fc9 Tools: Replay: make it work again
af66d72510 Tools: Replay: correct -n command-line argument
961aac454b Tools: Replay: use Log_Write for CHEK message
deeaf6ec09 AP_HAL_ChibiOS: Add UARTS to F405-Wing bootloader
922d593f3d AP_Mount: Fix strncpy warning
3d7d23531a AP_OpticalFlow: No need to clear already zerod objects
d6944510da AP_GPS: Suppress clearing non-trival type warning
25ef5fed82 AP_NavEKF3: Suppress clearing non-trival type warning
29db069c75 AP_NavEKF2: Suppress clearing non-trival type warning
dda7c615a8 AP_Mount: Suppress clearing non-trival type warning
4852562ec7 AP_AHRS: Suppress clearing non-trival type warning
a2a8ac15b3 AP_Scripting: Add access to SRV_Channels::set_output_pwm
ac63e55c8d SRV_Channel: Add scripting outputs
2c3fe0cbcf AP_Scripting: Load a sandbox enviorment
645afbab82 ardupilotwaf: Add ROMFS for scripting
0acb1103b0 AP_ROMFS: make all decompressions null terminated
beaa069082 AP_Scripting: Disable lua coroutines
6f0fab6da9 Tools: updated bootloaders for pullup/pulldown fix
7e581da1cf Copter: implement misson LOITER_TO_ALT
4e82250055 Tools: autotest: add test for Copter loiter-to-alt
f0ca4de313 AC_WPNav: add reached_wp_destination_xy
1eac03a257 GCS_MAVLink: scale parameter send rate according to link bandwidth
aed3527fb7 AP_HAL_PX4: return uart link bandwidth
d2cf065fdf AP_HAL_ChibiOS: return uart link bandwidth
f8b1203399 AP_HAL: provide method returning approximate link bandwidth
432b1fda3a Tools: autotest: add tests for AP_Mount
27b444f4e8 Plane: move handling of gimbal messages up
9a263780d0 Rover: move handling of gimbal messages up
a487cb09ed Sub: move handling of gimbal messages up
859f4828a1 Copter: move handling of gimbal messages up
178d26f8e3 AP_Mount: add general function for handling mavlink messages
890a62fc51 GCS_MAVLink: move handling of gimbal messages up
4ae6aeed7e AP_Mount: add singleton
1e39c17908 AP_Mission: return true if cmd-do was handled, false otherwise
a01c915173 Tools: autotest: improve debug in arm-with-radio
f290a72d9c Tools: autotest: add test for camera trigger distance
d690baecf9 Sub: let AP_Mission handle common camera commands
42b196a9a6 Rover: let AP_Mission handle common camera commands
7890fbeaa1 Plane: let AP_Mission handle common camera commands
a339d77f08 Copter: let AP_Mission handle common camera commands
b1b5a7868d AP_Mission: handle common camera commands
5a8a3963d4 Sub: move servorelayevents mission handling into AP_Mission
1653b34b2b Plane: move servorelayevents mission handling into AP_Mission
0eff11eebe Rover: move servorelayevents mission handling into AP_Mission
f97281eb48 Copter: move servorelayevents mission handling into AP_Mission
51d4b2da34 AP_Mission: move servorelayevents handling into AP_Mission
e79d107761 Sub: mission library handles gripper
dc6a03f5e0 Plane: mission library handles gripper
1eec264d6c Copter: mission library handles gripper
2157999307 Tools: autotest: add tests for gripper mission items
182d3634aa AP_Mission: handle gripper mission items
8ebec6a237 AP_Mission: create start_command and verify_command wrappers
3505314e64 AP_BoardConfig: updated BRD_PWM_COUNT docs
e1ded6e0dc Copter: winch disabled by default
f612c2cfce Tools: added script to build and copy iofirmware
ed12c6719d GCS_MAVLink: log vision data pitch/roll/yaw in degree
e51d842ca5 Copter: fix flowhold param description
192244bb6d IO_Firmware: updated iomcu firmware
7e777d8b28 HAL_ChibiOS: disable loop() delay for iofirmware
1711b93602 AP_IOMCU: fixed read packet count
6c761fa864 HAL_ChibiOS: shutdown IOMCU on reboot
ed48c24600 AP_IOMCU: added shutdown method
b3b5415081 waf: added --use-nuttx-iofw configure option
58435ad506 IO_Firmware: include both NuttX and ChibiOS IO firmwares
f600ebd758 AP_IOMCU: added SBUS output support
e46a640b2c AP_SbusOut: expose SBUS formatting function
b3946fc458 HAL_ChibiOS: added uart for sbus out in IOMCU
af4340d1d1 HAL_ChibiOS: enable analog input on IOMCU
b45b8ff703 AP_IOMCU: added analog input to iofirmware
a6b35d6496 HAL_ChibiOS: restore old ODR behaviour for F4 boards
7289f0d04c Sub: AC_Avoid is built on all vehicles
3b49e46c36 Plane: AC_Avoid is built on all vehicles
7cfc020c3c Copter: AC_Avoid is built on all vehicles
6cbcfb5d61 Rover: AC_Avoid is built on all vehicles
39fd3b7e0a mk: include AC_Avoid on all vehicles
7c0e5b9929 waf: include AC_Avoid on all vehicles
bb5aa4d195 Tools: add test for proximity avoidance switch
7017345fc9 Copter: let RC_Channel parent library do AC_Avoid stuff
2c29f0d45a RC_Channel: handle AC_Avoid enable and disable
e6b8607baf RC_Channel: formatting and comment fix
9c0bb9c47d AC_Fence: do not enable altitude fence on Rover by default
413ef5a3b4 AC_Avoid: add singleton
27a2b8a350 AP_Compass: Increase default MAX compass offset
c8f93a3ddc RangeFinder: Added statement FALLTHROUGH
d8281f3171 AP_Camera: Adding ability to control the Black Magic Micro Cinema Camera via SBUS from the flight controller directly.  Handles the flipping of certain channels.  Relies on change to SRV_Channel to add additional functions.
a2c7d124cb SRV_Channel: Updated to include additional camera functions
c73beffe1b AP_Mount: factor out a rate_input_rad, const various functions
dcd930497a AC_AttitudeControl: AC_PosControl: avoid calling norm()
6dd44a6d35 HAL_ChibiOS: fixed LED mapping for fmuv4
513eb1f5db AP_Rangefinder: Add support for Garmin LidarLite-V3HP
9aa0e3b0ad Copter: 3.6.0 release notes
ccee1e6e2e Copter: flowhold descending bug fix
69c00285bd Copter: fix flowhold logging format
d7aa7fb63b Copter: flowhold formatting fixes
8fdd439827 Copter: land mode minor format fixes
06aa29eb2a AC_Fence: get_polygon_points does not include return point
7aae970ae7 AC_Avoid: constify a few local variables
b7f3140441 AC_Avoid: stop includes margin for intersection calc
7fa592e673 AP_Proximity: increase MAV driver timeout to 500ms
b64bdcdfda Rover: remove proximity check from arming checks
82a28dc0fc AP_RangeFinder: check I2C dev during detect
9d95579b2d AP_Compass: update TYPEMASK documentation
cbe462fa57 Tools: add ist8308 to devtype dict
e85b37ffc4 Tools: allow to decode devid in hex
34fb98b1e0 AP_Compass: probe for IST8308 on external buses
c3d87f91fc AP_Compass: add support to IST8308
2bffb6f9e6 mavlink: update to pymavlink 2.2.20
1dd7b21cc3 Mavlink: update mavlink and pymavlink submodules
5846a54c17 AC_AttitudeControl: Fix copy paste param doc error
f67a9af339 AP_GPS: fix SBAS mode in the SBP2 driver
1e56ad4837 AP_NavEKF2: add external nav system to POSNE_M_NSE description
08b9bf4a89 AP_NavEKF2: fix extNav position noise
97b5af60f8 AC_Avoid:  fix adjust_velocity_polygon
a8485fbde5 travis: Run ArduSub test
fac329dd16 Tools: Add ArduSub test
895cc0713b ChibiOS: fix F35Lightning default BATT_CURR_SCALE
70246cf954 AP_Compass: added notify events (LEDs and buzzer) for learning
5fe9334a18 RC_Channel: allow compass learning to be triggered on option
23ddd994ec AP_Compass: allow multiple COMPASS_LEARN runs per boot
026089747d AP_Compass: use LEARN_NONE on learn completion
75b2c8bf1b Tracker: allow for "in-flight" compass learning
a8f5079df9 Sub: enable in-flight compass learning
de58fb4637 AP_NavEKF3: support in-flight compass learning
7ae90237e3 Rover: use set_flying to allow for compass learning to run
0a7170774a AP_Compass: allow learning of all compasses
5ac6309848 AP_Compass: enable in-flight compass learning system
7e790a04d2 HAL_SITL: increase max timer procs
805647df85 AP_NavEKF2: enable use of in-flight compass learning
ecd69e4359 Sub: remove pointless zero-initialisation
8985cc05c7 Tools: autotest: raise exception on get_parameter failure
6585b6036d Tools: waf: add -Werror=return-type to all boards
c7d052eec8 RC_Channel: add const keyword to many methods
b74ae2d912 Copter: Obey and preserve DO_SET_ROI commands when executing LOITER_TURNS mission commands
537a7e0727 SITL: correct comment on sending gimbal messages
ea426a3d45 RC_Channel: fix erroneous comment on RC relay options
b8e1d26708 Tools: autotest: reduce dummy streamrate
04e4484d96 AC_AttitudeControl: correct old and misleading comments
4567247ea1 README: move maintainers into alphabetical order
74d42d894e README: add list with merge rights
28ad2d5ee0 Git: update contributing page to use ArduPilot instead of APM
41b6f30450 AP_OSD: add include for WITH_SEMAPHORE
1c3d90d8b5 scripts: added DrotekP3Pro to autobuild
d644150871 HAL_ChibiOS: fixes for DrotekP3Pro
9f97172cce AP_BoardConfig: add ChibiOS FMUv4pro defines
ab7c7afd1d AP_HAL: add ChibiOS FMUv4pro
6f99c706d6 HAL_ChibiOS: add MCU tables for STM32F469
bf745d1960 HAL_ChibiOS: add DrotekP3Pro hardware definitions
bf1429ead7 Tools: Autotest: Fix ArduSub autotest
1c1d651979 AP_NavEKF2: add space for null-termination
f90dd0c156 AP_HAL: add simple tests for null-termination
9923bd1fd2 AP_BattMonitor: use sizeof(array) in place of constant
21eacc5e31 AP_Arming: account for snprintf now null-terminating strings
96b5be0e7d GCS_MAVLink: account for snprintf now null-terminating strings
4c794ebba3 DataFlash: account for snprintf now null-terminating strings
de3244e26c AP_OSD: account for snprintf now null-terminating strings
33e3d6e254 AP_HAL: Util: make vsnprintf and snprintf always null-terminate
44fb61da37 HAL_ChibiOS: mRo X2.1-777 / hwdef.dat
9ebb11ecd9 Location: added Elvenes airport (ENLV)
0142265f67 AP_Mount: make a copy of ID for mavlink_msg_param_set_send
83f4f5c347 AP_BLHeli: add motor pole parameter
33a215e8be Vagrant: correct init script so profiles work; cosmic support
84d7160128 AP_Compass: use new accumulate functions for UAVCAN
579a84b53e AP_Compass: use new accumulate functions for AK8963
55e4b64755 AP_Compass: don't apply offsets twice in SITL
5b955333ce AP_OSD: fix BLHAMPS current divisor
e9d6c47f76 Tools: autotest: correct lamda->lambda
a66cc52573 Tools: autotest: provide description of exceptions in constructors
b276034c60 APM_Control: correct use of incorrect abs functions
99090b7170 Tools: build_ci.sh: enable math index checking for sitltest-rover
560f17a570 AP_NavEKF3: use union to alias array and struct access to states
3a79ae4eca AP_NavEKF2: use union to alias array and struct access to states
fb3b976aa2 wscript: add enable-math-check-indexes configure option
d4c3caf592 Tools: ardupilotwaf: add enable-math-check-indexes configure option
154d771e6c AP_Math: correct compilation when running MATH_CHECK_INDEXES
27e3a89158 AP_NavEKF3: correct compilation when running MATH_CHECK_INDEXES
fb176b544f AP_NavEKF2: correct compilation when running MATH_CHECK_INDEXES
009786a338 Plane: small update to failsafe documentation
20c18ec5d6 mavlink: submodule update
28af4ea2a5 mavlink: update to master
c622a4c4d6 HAL_ChibiOS: fixed output pins on F100 iomcu
6ec87528db AP_IOMCU: fixed RCIN failsafe
7b67146bc4 HAL_ChibiOS: use less memory in SoftSigReader
d083cd87d6 HAL_ChibiOS: disable debug code by default for iomcu
d7aaaa35bd HAL_ChibiOS: disable RCIN and timer threads for iomcu
92d8ef0e76 AP_IOMCU: run the rcin timer tick in main loop
8a4e0bd58c HAL_ChibiOS: fixed RCIN for iomcu
15141a6a5a HAL_ChibiOS: allow for no RCIN or TIMER thread
4674a1c68d HAL_ChibiOS: fixed system time for clocks other than 1MHz
298a91ac7c HAL_ChibiOS: allow reduction of memory for SoftSigReader
cd9179e733 AP_BoardConfig: fixed for 8 PWM outputs in IOMCU
565b370330 UART4 added for BLHeli ESC telemetry
de39318f6d autotest: increase GPS AUTO glitch timeout
9b3788c83c AP_RPM: treat RPM_TYPE 1 as type 2 on non-PX4
925555c995 AP_Compass: move accum fields to frontend
83065d5e88 AP_Compass: convert SITL to new accumulate approach
1978a0cb94 ArduCopter: fixed build warnings
6af709e617 SRV_Channel: fixed build warnings
93dbcf88b8 AP_Volz_Protocol: fixed build warnings
6f480c98cc AP_SBusOut: fixed build warnings
672b4be3d2 AP_RSSI: fixed build warnings
9e17275488 AP_BattMonitor: fixed build warnings
b1928d959b AP_Arming: fixed build warnings
feea73ee1a SITL: use WITH_SEMAPHORE()
1d6b58f9ca DataFlash: use WITH_SEMAPHORE()
f662cf55e5 AP_UAVCAN: use WITH_SEMAPHORE()
046bcfa0a9 AP_SmartRTL: use WITH_SEMAPHORE()
b1e4434332 AP_RangeFinder: use WITH_SEMAPHORE()
530138ded4 AP_RAMTRON: use WITH_SEMAPHORE()
68f463b29d AP_Radio: use WITH_SEMAPHORE()
17049ff5f5 AP_OSD: use WITH_SEMAPHORE()
a1f1e7e435 AP_OpticalFlow: use WITH_SEMAPHORE()
bf829cd792 AP_Notify: use WITH_SEMAPHORE()
dedfa54d5a AP_IRLock: use WITH_SEMAPHORE()
755dc8dc5d AP_InertialSensor: use WITH_SEMAPHORE()
249291eac0 AP_GPS: use WITH_SEMAPHORE()
a260792e9e AP_Compass: use WITH_SEMAPHORE()
e4e793b295 AP_Baro: use WITH_SEMAPHORE()
fe064a2d4e AP_Airspeed: use WITH_SEMAPHORE()
725899080e HAL_VRBRAIN: removed hal.util->new_semaphore()
44009c5459 HAL_SITL: removed hal.util->new_semaphore()
a9fbe106c9 HAL_PX4: removed hal.util->new_semaphore()
63556b9804 HAL_Linux: removed hal.util->new_semaphore()
5924816bbe AP_HAL: removed hal.util->new_semaphore()
9ac7f8333b HAL_F4Light: removed hal.util->new_semaphore()
4416404137 HAL_ChibiOS: removed hal.util->new_semaphore()
b455c7a769 AP_Compass: add rotation option for AK8963_MPU9250
0b9d0a4559 AP_Compass: removed incorrect semaphore take() in QMC5883L driver
686d92aac5 Tools: added new bootloaders
af6e308108 Tools: scripts: configure_ci.sh: install numpy so quaternions work
40ac2e493d Tools: add a test for Plane's SET_ATTITUDE_TARGET support
332340135f Copter: leave AHRS to log and notify home changes
da5ed06714 Sub: leave AHRS to log and notify home changes
9e4e17c797 Plane: leave AHRS to log and notify home changes
dc52ca2192 Tracker: leave AHRS to log and notify home changes
50cb391dea Rover: leave AHRS to log and notify home changes
e29dbbf158 AP_AHRS: notify and log home changes
a90cfc7db7 Copter: clarify prearm failure messages
dc14d7bce4 AP_Math: add another test for wrap_360_cd
e0f63ca7f1 AP_Gripper: stop cheating on simulated servo state
7af119b497 Copter: factor out loc_from_cmd from three functions
5f552a6ce3 Copter: stop shadowing members of Copter
a8d8e5c0ef AP_RPM: remove unused variable
1a660cefae Copter: remove unused STREAM_RAW_CONTROLLER_msgs variable
e02a645354 Copter: use fabsf() instead of labs()
1b6ec1d5ad AP_AccelCal: use mavlink define for field length
902bd7dda6 AP_Frsky_Telem: use mavlink definition to get statustext size
40daa8e15f AP_GPS: use mavlink definition to get statustext size
c0e03522c6 DataFlash: change unit ID of PWM to Y to remove conflict with deglongitude
b177554f61 DataFlash: add sanity check for duplicate units/multipliers
cb88947700 Tools: added speedybeef4 and F35Lightning to autobuild
74c5831afa Tools: added mRoX21-777 to autobuild
f1d223a32a HAL_ChibiOS: Add support for the mRo X2.1-777
1a9c386df2 AP_Compass: MMC3416: use common method to accumulate samples
e83b345cbb AP_Compass: MAG3110: use common method to accumulate samples
ac2771b311 AP_Compass: LSM9DS1: use common method to accumulate samples
2324a28e39 AP_Compass: LSM303D: use common method to accumulate samples
38d1f8705f AP_Compass: LIS3MDL: use common method to accumulate samples
b05b3b9932 AP_Compass: IST8310: use common method to accumulate samples
8d54276263 AP_Compass: BMM150: use common method to accumulate samples
565df5ec94 AP_Compass: AK09916: use common method to accumulate samples
e769c6932f AP_Compass: QMC5883L: use common method to accumulate samples
c0bccdaed6 AP_Compass: HMC5843: use common method to accumulate samples
329516373c AP_Compass: add common method to accumulate and drain samples
5521fce676 AP_Math: add non-uniform Vector3f scaling
2f87d8808f AP_Motors: handle boost in spool up and down the same way
d29a47d605 Copter: Add thrust check, counter reset and comments
1a3d181756 Copter: Fix feedback in crash check
0cf2850593 Copter: fix thrust_loss check angle check
7a43a21784 Copter: formatting fixes to thrust loss check
853a56dc9b AP_MotorsMatrix: formatting fixes
54a59f581f Copter: add motor thrust lost check
4774cb8daf AP_Motors: improved motor loss redundancy
96a8bcf641 AC_AttitudeControl: limit gyro correction to 45 degrees error
acaefe9316 AC_AttitudeControl: remove output limits
823d09b212 Copter: Fix confusing indentation
e503df48ff AP_Baro: emit calibrated messages for each connected baro
d94663d5af Copter: support changing vertical speed in DO_CHANGE_SPEED
7fa7c8f403 AC_WPNav: add set_speed_z
95ea3d8726 AP_Baro: fix temperature
2243c524db Chibios: Add board FuriousFPV F35Lightning
ca328bde2b README.md: updated link of contributing guidelines
2d4dd1643d AP_Baro: Delete the total temperature process.
0c9fd0ae93 AC_WPNav: fix typo
820f9bd260 AP_RTC: Delete unused variables
d05ab1b983 AP_Baro: notify GCS of all barometer ground pressures
4f35992049 Tools: make param_parse.py error more explicit
38616e6bee AP_Notify: ensure we can't skip a step in RGBLed timing
6489166996 AP_Notify: fixed PixracerLED on NuttX
ed71790945 AP_HAL: fixed PX4 LED polarity
927105cd25 AP_Notify: init gpio state for LEDs
36aa666786 AP_Notify: fixed px4-v4 to use pixracer LED driver
67d698fda3 AP_Windvane: add wind direction note
e31f98157b SITL: sailboat add  matlab VPP tool
1792438660 SITL: sailboat sim small changes
c70c946651 Copter: correct mode_zigzag compilation for ekf scalar change
14d2012f54 Tools: autotest: add test for ekf navigation speed limits
3be9f35264 AP_RangeFinder: remove rangefinder prearm requirements for SITL
281fad53c2 AP_NavEKF3: always set EKF control limits, even with no cores
889190d46e AP_NavEKF2: always set EKF control limits, even with no cores
47b5cf98ea Sub: make libraries get EKF control limits themselves
4e3e39a3e8 Plane: make libraries get EKF control limits themselves
26ca75efae Copter: make libraries get EKF control limits themselves
3faf7824c0 AC_WPNav: allow position control to get ekf navigation scalars directly
dabe8a13f7 AC_AttitudeControl: use EKF singleton to get ekfNavVelGainScaler
9b82bcc901 DataFlash: Spin up more battery messages
8b3d993b1e AP_BattMonitor: Enable 9 battery monitors
a8741f62f9 AP_Arming: Use AP_BattMonitor's arming checks for the battery
0137d6543f AP_BattMonitor: Allow AP_BattMonitor to run arming checks
deaa5046cb AP_BattMonitor: Split the failsafe conditions from their timers
1bb4f07365 AP_BattMonitor: Move failsafe checks to the backend
5192376c85 Tools: Don't generally build scripting unless requested
31548c983a waf: ensure that C files get same ABI flags as C++
bcc1bd9752 HAL_ChibiOS: added realloc implementation
68576eff32 AP_Scripting: Initial test script
8382d377bd AP_HAL_ChibiOS: Add a BUFSIZ value
e421599e4f AP_Scripting: Hide lua IO for now
33d4e09d60 Tools: Add lua source to waf
513e5946bb AP_Scripting: Add Lua 5.3.5 source
8049c64a5b AP_Scripting: Create a thread and spin
3aed07a83a Plane: Create a scripting object
a7d94ff6c7 AP_HAL_PX4: Handle scripting priority
f506a96b7f AP_HAL_Linux: Handle scripting priority
11ab6c59e1 AP_HAL_ChibiOS: Handle scripting priority
73901274b0 AP_HAL: Define a scripting base priority
82dad7b732 wscript: Add enable-scripting option
580c9d6ad9 Tools: Add waf scripting configure option
17103623eb Tools: Pass ENABLE_SCRIPTING into the system
f2a31866aa AP_Scripting: Initial scripting framework
27657bfd40 Tools: param_metadata: flake8 compliance
329b972845 Tools: param_metadata: Add parser code to include uniq ref from path
3e7cd5a721 Rover: fix typo on call to AP_WindVane
cb03a35737 AP_WindVane: fix typo on record_home_heading
9cd62e81b3 Copter: 3.6.0-rc12 release notes
042e7b473b Copter: minor comment fix to throw
f0181be9c9 AC_Loiter: init_target only inits pos controller if inactive
d3f7214bcf Copter: revamp zigzag mode
71beab7502 Copter: create and update Zigzag flight mode
09030b1b13 RC_Channel: add aux switch options for ZigZag mode and ZigZag SaveWP
a6322279d4 Tools: scripts: buid_ci.sh: Double quote to prevent globbing and word splitting.
a5ef99bcf9 Tools: scripts: build_ci.sh: correct syntax
c1ab3afb6c AP_HAL_ChibiOS: fix safety switch option handling
b68a91d171 AP_NavEKF3: remove default clause in setAidingMode
3774aa6619 AP_NavEKF2: remove default clause in setAidingMode
53e36931fb Tools: correct channel configuration for gripper test
3a29379d9e Tools: run test_arm_feature for heli
e087b03dd0 Tools: disable autodisarm test (broken)
15e291aac9 Tools: don't set zero_throttle on arm/disarm
0785706a94 Tools: test that heli interlock output cannot be high when disarmed
752f78c80e Tools: test ARMING_RUDDER restrictions
31d4f1b065 Tools: test that copter cannot arm with throttle too high
553874f14a Tools: add arm/disarm with switch tests
f441ab9f2a Tools: autotest: validate RTL if disarmed close to home
598b487fef Tools: autotest: adjust start alt for throttle failsafe
e4738192dd Tools: autotest: clear mission before toggling it in with ch7
38ae0765ff Tools: autotest: increase throttle in stabilize mode to account for pitching
b35cb4d814 Tools: update quadplane tests to use safer functions
d37a74f46a Tools: fix arm_motors_with_rc_input and disarm_motors_with_rc_input
9b7e406a55 Tools: fix use of unassign variable
55f4be0515 Tools: make do_set_mode function more generic
b80937cbd4 Tools: add timout to arm/disarm functions
8c391291a3 HAL_ChibiOS: fixed a race in DShot code
d858569544 Tools: scripts: build_ci.sh: factor out run_autotest function
a543023e1b Tools: Build CI with clang
8b2ccc87aa Tools: Move from clang3.7 to clang7
55377b424e Tools: autotest: add extra-configure-args option to autotest.py
c8f726151b travis: Add clang tests
9a48a0835e AP_HAL_ChibiOS: Don't redefine errno
1c60417d03 AP_Frsky_Telem: add IMU temperature reporting
fc5ce7b273 Rover: send obstacle_distance messages to proximity lib
46b669a056 Copter: send obstacle_distance messages to proximity lib
8bfb1d2445 AP_Proximity: add support for OBSTACLE_DISTANCE message
02d37d43d2 Plane: Disallow climbs during TRANSITION_AIRSPEED_WAIT
f51d757844 AP_InertialSensor: Remove unused (and conflicting in some builds) include
88aa20d691 AP_Airspeed: Make user facing messages clearer, improve handling of bad tube order
f810b7b9f6 AP_HAL_ChibiOS: Make getcwd() take size_t as per the standard
19e0fa5214 Copter: 3.6.0-rc11 release notes
2f2be6afda AP_Compass: use rotation_equal() from AP_Compass
d4eaf09baf AP_Math: added rotation_equal()
803f255c73 AP_Compass: fixed handling of duplication rotations
ac0e126099 Copter: correct AFS terminate-via-land for Copter
254ef4f0ae AP_WheelEncder: remove dead code
8d3b093bbf AP_OSD: resolve compiler warning
925d4035a4 Rover: fix loiter comment
7519a28e8c AP_WindVane: remove destructor
743ef9dfe6 AP_WindVane: correct parameter descriptions
c3f3ee03d0 Rover: windvane calibration can be started with preflight-calibration msg
30f20827ec AP_WindVane: add calibration voltage check
4a5b56c929 Rover: windvane update called from scheduler at 20hz
31e2d5d2ad AP_WindVane: updates after peer review
7163839117 AP_MotorsUGV: remove arg from output_mainsail
23fd3b8f0e Tools: update SITL sailboat default params
4366bae96d Rover: add sailboat support
100c494127 Rover: add loiter radius parameter
e3d5db8db5 Rover: add AP_WindVane to build
e443b864c6 AR_AttitudeControl: add sail heel PID
a59b83af9a AP_MotorsUGV: add mainsail to servo test
fa0fc5eade AP_MotorsUGV: add mailsail support for sailboats
ce397161bf AP_WindVane: add SITL driver
b54e3df57c AP_WindVane: library to read wind direction from sensor
7a8e7449fa SRV_Channel: add mailsail to servo function enum
b945970914 Plane: Fix FLIGHT_OPTIONS bitmask doc
b7c88da67c SITL: sailboat fixes from peer review
ada073fbdc AP_HAL_SITL: add sailboat to SITL_cmdline.cpp
851de12838 Tools: add sailboat to pysim and add default parameters
804305aa2b SITL: add simple sailboat simulator
833bc4e77d AP_Motors: Tradheli - fixes slew speed of swashplate during collective servo test
434afa268e waf: change ChibiOS ld script path back to relative
4fa0cc4bd3 Copter: pass update rate to precland init
d271dda8c5 AC_PrecLand: init accepts update rate
7fbdaa3c65 AC_PrecLand: LAG to float and use main loop rate
eef839703f Copter: remove unnecessary copter prefix from precland update
40d4bcb84a AC_PrecLand: rename BUFFER to LAG and add alloc failure check
02da34a246 AC_PrecLand: Add PLND_BUFFER parameter and move to AP_HAL::utility::RingBuffer, #6297
c02863e001 AP_AHRS: Internalize EKF getLLH altitude management
1991f223ac AP_NavEKF3: Fix roundoff, and missing offset handling of getLLH
66e9286cf6 AP_NavEKF2: Fix roundoff, and missing offset handling of getLLH
7e1ed948f5 Copter: Cope with AC_PosControl renaming
27fad4489e Sub: Cope with AC_PosControl renaming
b2ef6b901e Plane: Cope with AC_PosControl renaming
65641c3cb7 AC_Circle: Cope with AC_PosControl renaming
d3bee76f0b AC_WPNav: Cope with AC_PosControl renaming
1d13aff711 AC_AttitudeControl: Rename several set_speed and set_accel functions
b6efc8a20b Plane: reduce some copy pasted code
0990fc4400 AP_HAL_Linux: send warning to stderr
5ae3c60e8b AP_Notify: fix nullptr in ToshibaLED example
71c9c91c2d AP_Motors: fix example
2ed8118cda AP_FlashStorage: adjust example so it does not exit
4023f847c8 Tools: add ability for autotest to run examples
220a3d19bf AP_HAL_Linux: do not attempt to run examples realtime unless root
43c07259f3 AP_HAL_Linux: break out init_realtime
7fda309d3c AP_HAL_ChibiOS: Remap unused pins to ADC
6544f16339 AP_HAL: Make BBBlue use AP_BoardLED2
e41b2de5ea AP_Notify: Catch bad board LED combos
6f7ced73d6 AP_HAL: Remove bad GPIO LED pins on NavIO2
adf318ce06 Plane: release notes for 3.9.2beta3
ccb30d44ac Sub: Missing Loiter Init on accel
13c27e0eb8 Plane: Missing Loiter Init on accel
1b5b46dab5 Copter: Missing Loiter Init on accel
9cd1be1d6f AP_Math: Speed up location calculations slightly
8ac38d73f7 HAL_ChibiOS: add option for NO_FASTBOOT build and enable it for iomcu
6622c9b8fd HAL_ChibiOS: wrap sscanf and snprintf methods
05539cd93b HAL_ChibiOS:remove print statement left over from previous changes
2d1153081c HAL_ChibiOS: do not build float support for bootloader builds
f9149f45b2 HAL_ChibiOS: explicitly mention if RTC not available
19d9982ac1 waf: only add support for iofirmware build if the board supports it
22f74b0827 HAL_ChibiOS: add option to set iomcu firmware environment var
3641dcee44 AP_IOMCU: only build iofirmware for ChibiOS
19dae42c4f travis: added build of iofirmware
17112c8988 waf: allow build with "./waf iofirmware"
848dd87d58 AP_IOMCU: fixed code style issues
ba87856deb AP_IOMCU: fixed build warning
7b1f44a995 modules: update chibios for STM32F103
605e0de03c AP_IOMCU: conform to new time conversion API
42b4730d88 HAL_ChibiOS: add changes to hwdef to support STM32F1 based controller
bc601c1ff6 AP_IOMCU: add Boardconfig to list of required libraries
1a20fb4ea9 HAL_ChibiOS: disable flash methods where there is no Flash API support
847aca3c30 HAL_ChibiOS: reduce signal transitions count to save RAM
b9319cae56 HAL_ChibiOS: disable segments relating to unused features
87a2dea9d4 HAL_ChibiOS: disable features that require advanced dma
0f07480faf HAL_ChibiOS: continue main_loop branching from main instead of allocating a separate thread
56afc44c56 ardupilotwaf: add support for controllers with different arm cortex and related configs
e824a9c360 HAL_ChibiOS: add hwdef files to support IOMCU
f0b27c9b92 AP_IOMCU: support brushed output
cfb10fbb2f AP_IOMCU: fixed oneshot support in IO firmware
2c7e27374f AP_IOMCU: use ioevents for oneshot in iofirmware
ecfe06b9e4 AP_IOMCU: implement safety LED and switch in iofirmware
037a455784 AP_IOMCU: moved protocol structures to a common header
89bfd7e850 AP_IOMCU: added blue LED support on PH1
19c002baaf AP_IOMCU: add support for iofirmware update
746ed2be79 wscript: add support for iofirmware as target
fe3dda74bd AP_IOMCU: remove optimize override from iofirmware
78ce5a3f70 HAL_Empty: fix ambiguity of UARTDriver with the one defined in ChibiOS
2341719929 AP_HAL_Empty: do not use ch as its used by ChibiOS globally
9a2eea9769 AP_HAL: disable float print methods for non FPU controllers
5e4f76886a AP_HAL: add chibios hal header to use uC specific defines
c546bec999 AP_HAL: do not use ch for channel, its used as a global var under ChibiOS
6fee72b0c0 waf: add flags for F1 controller support and more debug features
4608e90913 IOMCU: add application for ioboard firmware
17b61f72a3 Copter: Initialise desired acceleration before loiter init
0e0d847f7f Plane: updated release notes for 3.9.2beta2
340f1b43e6 HAL_ChibiOS: fixed RSSI voltage from IOMCU
e78dab1d10 Copter: remove OSD comments
5e46b97894 Copter: fix OSD wp_distance and wp_xtrack_error
cdcf26e97b Copter: 3.6.0-rc10 release notes
5136b90d27 Plane: do attitude relax after 100ms
e50414d8b9 Plane: Log VTOL targets in ATT message in VTOL mode
7372a7b5f9 QuadPlane: Remove repeat I term reset
34c0656675 AC_AttitudeControl: Add missing variable initalisations
8c6a24450a AC_PID: Fix D term initialisation
ef154cf3fa Plane: fixed relaxing of attitude controller on transition
de02cb9c8b AP_AHRS: fixed synthetic airspeed to be along +ve X axis
2215913b02 Plane: added speed scaling reduction for Q modes
eb1f3b205f AC_AttitudeControl: Use reset_rate_controller_I_terms() helper
3ab7fe348a APM_Control: halve the default pitch D term for planes
2d3942222b Plane: handle reverse thrust in AFS failsafe
455f15a157 Plane: handle twin motor planes for AFS failsafe
8c33b4b97d HAL_ChibiOS: implement set_failsafe_pwm()
4314d0ea12 SRV_Channel: handle reversed channels in limit PWMs
f22d5f0d40 AP_IOMCU: implement failsafe PWM
b15b5516cb AC_PosControl: Fix divide by zero check in limit_vector_length
706ff85be7 AC_AttitudeControl: Add minimum angle limit for get_althold_lean_angle_max
6707c8af36 Plane: update release notes for 3.9.2beta1
aa1548e404 Plane: fixed throttle when terminated
af510801f1 Tools: autotest: use RC_CHANNELS rather than RC_CHANNELS_RAW
490d6eea20 HAL_ChibiOS: fixed ADC bug
1e0ca409d1 AP_OSD: check we have an airspeed object
2936f24814 AP_OSD: battery support improvements
d98110084d AP_OSD: updated fonts for new OSD items
0665ac5229 Rover: rename rudder_arming to get_rudder_arming_type
71334a18c5 Copter: rename rudder_arming to get_rudder_arming_type
d6a102234e Plane: rename rudder_arming to get_rudder_arming_type
7a7533724a AP_Arming: rename rudder_arming to get_rudder_arming_type
72234e5db6 Copter: arming check formatting fixes
ede27b23d9 Copter: support disabling rudder arming
b1a4cd55fd Rover: support disabling rudder arming
b61b25e5bf Plane: minor format fix to Parmeters.cpp
96d494c2e8 Plane: use parent AP_Arming rudder value
f039c6d5f4 AP_Arming: minor format fix
ba2b9f3d47 AP_Arming: add RUDDER parameter
9c13324b87 Rover: update simple call to calc_steering_to_heading
14fc117cd4 Rover: simple mode calcs clarified and const added
efdd3946fc Rover: simple mode fixes
2beb3a278a RC_Channel: add simple mode to aux functions
6ba5942ece Rover: add simple mode
395820096a AP_OSD add external baro temperature item
743de16c07 Rover: fix calls to calc_steering_to_heading
cd64ce45ac Rover: fix calc_steering_to_heading rate_max handling
d7d6c6ab04 AR_AttitudeControl: clarify units of get_steering_out_heading argument
f150cae75a Plane: Allow center throttle to be trim airspeed in cruise
20c56f3e06 RC_Channel: Add an accessor for a channels range and type
ee96c53844 Plane: Don't go to minimum airspeed when in RC failsafe in cruise/fbwb
be9235a581 AP_NavEKF3: fix writeOptFlowMeas signature
d8aa8d2b71 AP_NavEKF2: fix writeOptFlowMeas signature
306a40bb77 AP_AHRS: fix writeOptFlowMeas signature
7db5daadad AP_Mission: If a command fails to start immediately cycle to the next
18512eebbb Sub: Allow starting mission commands to fail
470548a100 Copter: Allow starting mission commands to fail
f9e56f9d12 Plane: Respect frame type on VTOL_TAKEOFF commands
b5d722245a Copter: minor comment fix
314ce5695a Copter: 3.6.0-rc9 release notes
ad8ab97725 AP_HAL_Linux: SPIDevice: compile out debug stuff
2c6dd64c67 AP_HAL_Linux: create one thread per spi bus rather than device
cf4fb09881 AP_HAL_Linux: Remove hole from SPIBus
4152b555fd AP_HAL_Linux: replace kernel_cs with subdev
69c3aad418 mavlink: submodule update
7291aa0d00 AP_OSD: Simplify with the code enumerate()
a7042e3847 Tools: autotest: tweak output messages, loosen camera trigger timeout
6e44ea13d4 Tools: autotest: do not arm vehicle before flaps test
c0a990fda7 Sub: correct failsafe recovery test
d8c53bbd9c Tools: remove dependency on mavproxy for cmd_long based functions
87a7fd0fbb Tools: remove dependency on mavproxy for arming/disarm
5b0ae42725 SITL: limit on_ground() check to militer accuracy to prevent bouncing
0cf12ad47e RC_Channel: add aux option to fly inverted for Plane
b574f4c1fc Plane: move support for inverted flight to rc-aux-switch
d79386d574 AP_Baro: use GND_EXT_BUS to allow a specific bus to be probed
dda8e7c35a AP_Baro: probe both i2c buses on CubeBlack for barometers
eec3a2ab31 AP_HAL: added FOREACH_I2C_MASK() macro
af6e2d2c8c AP_Baro: add PROBE_EXT param values
758331612f AP_Baro: probe for MS5611 on I2C addr 0x76
3d42abe816 Tools: added speedybee bootloader
066cf90111 HAL_ChibiOS: Add speedybee hardware definition
5b383bae16 AP_HAL_Linux: force Thread stack to have minimum size
e278a09668 Tools: don't use strict comparison for param fetch all to cope with TYPE one's
5d317a8ef7 Tools: autotest: clear Rover waypoints before toggling them in
bb99165221 HAL_ChibiOS: updates for KakuteF7
fb3cb75777 Tracker: default BRD_SAFETYOPTION to allow disarming
02a2f32c40 Tracker: minor format fix
30bc86e4a0 Tracker: remove unnecessary return
3a2e015df9 Tracker: send sensor status in extended status msg to GCS
4a5c6fe1e5 Tracker: enable aux servos at init and at 1hz
c6d761c78f Tracker: alphabetise method declarations
c8c5944b5f Tracker: set version to 1.1.0-dev
bd5cdf9e64 RC_Channel: update aux options for planes to include arm/disarm
4ad1869f43 Plane: add arm/disarm on aux switch
93d99dacd1 AP_Compass: UAVCAN: remove additional semaphore
cb10d1d27b AP_Common: allow more than one WITH_SEMAPHORE per context
1715714488 AP_Common: make WithSemaphore use an AP_HAL::Semaphore reference
cd9b08dbae AP_Compass: rename variable for more buses
de535dc573 AP_Compass: remove unused external and name arguments
4039b51810 AP_Compass: stop passing frontend pointer
585b6dce0d AP_Compass: support more external compasses on aerofc
5de199bc01 AP_Baro: allow for external i2c baro on most boards
a9e29f7556 HAL_ChibiOS: added pullup/pulldown support on GPIO
7885b267f0 AP_GPS: fix UAVCAN gps message handlers
2c0b9a16a5 AP_Compass: fix UAVCAN mag message handlers
bcaa4901ed AP_UAVCAN: subscribe airspeed message
653766c4cc AP_Airspeed: uavcan airspeed supported
56646651c6 Tools: autotest: add test for RCn_OPTION - camera trigger
f47823f4e4 Tools: autotest: add test for RCn_OPTION - toggling relays
10d7cc6bf4 RC_Channel: add Plane support for channel options
901664ce09 Plane: add support for RCn_OPTION (servorelay,camera)
450052aa80 Copter: rewrite read_radio for clarity
a30cdf6806 Copter: eliminate failsafe.rc_override_active
9650846497 RC_Channel: treat UINT16_MAX as a value of 0 in set_override
1c527df084 RC_Channel: note that Rover now has disable-gcs-overrides channel option
197edca772 Tools: expand test to cover use of disable-gcs-rc-overrides switch
047689981b RC_Channel: honour gcs_overrides_enabled as part of set_override
ec6c59faa3 Copter: move handling of disable-gcs-rc-overrides-channel-option up
7bdd9b1aea RC_Channel: move handling of disable-gcs-rc-overrides-channel-option
2fe3535fd8 Docker: add Dockerfile for Docker container support
a9621191d8 Tools: autotest: correct descent throttle in copter fence test
b4ecc347d7 AP_HAL: always define HAL_WITH_UAVCAN on px4
96097586c3 AR_AttitudeControl: reset I if speed controller not called recently
135e37e1f4 AP_IOMCU: cope with IOMCU reset in flight
925d76bb8c Plane: Small cleanup to quadplane const (and clarity)
e11c7c6069 QuadPlane: remove true from init of loiter
8faa1cce39 Copter: loiter glitch fix
31d93f5914 AC_Loiter: reduce twitch on init
5863b84c35 AC_PosControl: reduce glitch on init
4ceabe4838 AC_PID_2D: add reset for filter and D term
71bff63bff AP_Mission: remove erroneous comment about clear()
f1a0ebfd10 Tools: autotest: reduce verbosity of wait-for-heading
5c7e21d38f Tools: autotest: add test for clearing waypoints
3c8738b4d8 RC_Channel: add clear-waypoints option
16b49399db AP_Mission: add singleton
f6cb196d53 AP_HAL_ChibiOS: Remove unimplemented force_safety_no_wait()
35330e8caa Tools: ardupilotwaf: add -Werror=unused-result for all boards
d6fe9d47e0 AP_HAL_SITL: check return value from posix_memalign
f06b27e4a3 AP_Declination: Fixes ups for pyigrf
67a503d5d8 AP_Declination: 2to3, IGRF API update
ebcdf4c9c6 AP_Notify: fixed oled probe on first bus
0be5e65b4a Copter: correct compilation for missing define
c902260925 Tools: remove extra running of unit tests from build_ci.sh
0f4c68aadb Copter: move rc-channel option for lost-vehicle sound up to base class
a7acc92663 RC_Channel: move rc-channel option for lost-vehicle sound up to base class
e7c000875e Copter: complet rc option init list
f4a8006333 AP_Airspeed: fix spd3x correct pressure issue
774b091611 AC_PID: get example working again
c54c2a2930 RC_Channel: fix and tidy example
15ae453205 AP_HAL: fix RCInput example
95f7b1aeb7 Tools: add dummy AP::camera method to avoid linking camera
753be1142f Sub: use camera singleton to get camera rather than callback
1aa75e4c3e Plane: use camera singleton to get camera rather than callback
f005ee4a4c Copter: use camera singleton to get camera rather than callback
3146fcd80a Tracker: use camera singleton to get camera rather than callback
7c60c85a12 Rover: use camera singleton to get camera rather than callback
26e7abe6c4 GCS_MAVLink: use camera singleton to get camera rather than callback
e4c0ef789b Sub: GCS_MAVLink uses compass singleton, stop implementing get_compass
558158c62a Plane: GCS_MAVLink uses compass singleton, stop implementing get_compass
ec52c22c7c Copter: GCS_MAVLink uses compass singleton, stop implementing get_compass
cf2415569c Tracker: GCS_MAVLink uses compass singleton, stop implementing get_compass
a5691500ad Rover: GCS_MAVLink uses compass singleton, stop implementing get_compass
d5f6911db7 GCS_MAVLink: use compass singleton instead of subclass callback
066c26e445 Plane: updated 3.9.1 release notes
e44f7dc3e1 Copter: minor fix to user parameters
70e587b572 AP_GPS: Fix accidental quantization to float on SBF logging
af6303c82b Copter: User parameters implementation
0f10d2316a Rover: fix OmniX motor order
fefde53d58 AP_HAL_ChibiOS: Fix comment in Device.cpp
6bdaf87dd2 travis: don't run Make builds for PX4-v2
37b9e76737 Tools: update CI scripts
bf8c0dff06 travis: update and cleanup settings
822fab0f5a AP_RSSI: let HAL's attach_interrupt implementation handle board stuff
9569abe57a AP_HAL_VRBRAIN: remove pointless attach_interrupt override
e7e2a78d35 AP_HAL_SITL: remove pointless attach_interrupt override
42c711a5b2 AP_HAL_Linux: remove pointless attach_interrupt override
d868aab26a AP_HAL_Empty: remove pointless attach_interrupt override
fcacdb42bb AP_HAL: define base-class attach_interrupt to return false
4543604085 Tools: scripts: build_ci.sh: build and run unit tests in ci
305d927dd8 AP_OSD: resolve compiler warnings
03e0437c19 Rover: fix RTL when AP_RALLY disabled
dd3163b065 Rover: rename AC_RALLY to AP_RALLY
587addbdfa Rover: remove unused TURN_GAIN definition
90a27520e9 AP_Rally: rover includes home by default
f0ad8760e2 Rover: move rally to g2
90fd64cf3a Rover: add support for rally points
ee8d5d77d0 Rover: Activation of OSD
ca54123b7d AP_GPS: move UAVCAN GPS related code to AP_GPS_UAVCAN backend
6e85003b56 AP_BattMonitor: move BattInfo message subscription and handling to AP_BattMonitor
14b701cff8 AP_Compass: move UAVCAN mag subscribers and handlers to Compass Backend
5ef5537371 AP_Baro: move Baro UAVCAN subscribers and handlers to AP_Baro_UAVCAN
62fbe13690 AP_UAVCAN: send ESCs when disarmed
0125b2cdd2 AP_UAVCAN: remove UAVCAN sensors related code
f01cc254d3 AP_UAVCAN: add Callback API to link UAVCAN backend callbacks
c79650a8d8 AP_Notify: fixed remote play tune
78be026d83 Copter: fixed typo
fc1f2e4109 Tools: Update BARO_RND in sub param
80597d5cba RC_Channel: Fix accidental quantization of override_timeout to 1 second
9d4ce91406 Copter: 3.6.0-rc8 release notes
3098744777 Plane: Fix a stale rudder input that was left from rebase
3e8d9f4131 RangeFinder: shorten comment
88a230e897 Rover: DPTH message only written if range finder last read time changed
1b0f0a7559 AP_RangeFinder: support last_reading_ms
9e27b93538 AP_RangeFinder: move some backend implementations to cpp file
9a7b378ddd AP_RangeFinder: minor format change
e878558d41 AP_Mission: Reduce the number of places _set_cmd is called from
43f3d611b2 AP_Math: pragma away the float-equal test for the maths tests
3e9294a2ae SITL: eliminate float-equals issues
8fee27937a AP_Math: eliminate SITL float-equals issues
04c36efdbf AP_InertialSensor: eliminate SITL float-equals issues
d968e27b45 AP_HAL_SITL: eliminate float-equals issues
3a1afc4bf1 Tools: boards.py: make float-equals fatal in sitl
8417bcc7d5 Plane: Add flight options bitmask
8c962e6f0f HAL_ChibiOS: use a larger TX buffer on USB
0f42702910 AP_Mount: Remove unused check
fb7c46bda0 AP_HAL_SITL: Remove unused check
10ffd89a0c AP_GPS: Remove unused operation
7d9c947b9b AP_HAL_SITL: update parameter with using command line speedup option
36d8ef1971 Tools: auto fetch parameter if in fetch_all list
19d943106b Rover: pass vehicle speed to attitude control pitch control
106b8abab7 AR_AttitudeControl: get_throttle_out_from_pitch accepts vehicle speed
5aa1286344 Rover: report left and right wheel control PID
e0fa829665 Rover: pitch PID_TUNING sends degrees
db611e074c Rover: include wheel-rate-control
85ac24d96e Rover: update wheel encoders at 50hz
69541fc89c AP_MotorsUGV: use wheel-rate-control for skid steering vehicles
785da8add9 AP_WheelRateControl: lib to control wheel rate with encoders
912dd0c4cc AP_WheelEncoder: update parameter descriptions
6b89c24cc6 AP_WheelEncoder: calculate rate from last iteration
b381ae7bf3 AC_PID: support storing actual
397e035cf7 DataFlash: replace unused AFF with actual in PID_Info
a5e28f0729 Rover: balancebot_pitch_control method removes unused armed arg
961aab7425 Rover: balance bot passes motor limits to pitch control
d5ef3c2e0f AR_AttitudeControl: get_throttle_out_from_pitch uses motor limits
65b020eac3 AR_AttitudeControl: re-order pitch control to match other similar methods
f6cc934678 Tools: pep8 corrections + correct variable shadowing
d5c4c32529 Tools: add gripper test for copter
2661ad2ed3 GCS_Common: remove status text for gripper
7f601db05b Tools: add gripper tests
3ab635f100 AP_Gripper: use gripper_sim feedback
a5e2f96a59 SITL: Better gripper sim options
f258a25138 AP_Arming: remove double PreArm: in battery prearm report
da7fe1055a Tools: add missing import to arducopter.py
a5c59ce36e AP_Motors: include boost_throttle in get_motor_mask
f85e84cc89 AP_Motors: add override keyword to get_motor_mask
e62ed19759 AP_RangeFinder: Remove range enforcement on out of range
5577b8b33c AP_RangeFinder: Rework function structure in TeraRanger driver
b6f1647c31 AP_RangeFinder: Rename function in TeraRanger driver
1b990c116d AP_RangeFinder: Give back semaphore on whoami error
4d45b68fa3 AP_RangeFinder: Clean TeraRanger driver
d162afb790 AP_RangeFinder: Add error codes rejection for TeraRanger sensors
c9bbc2773d AP_ADSB: Add valid parameter range to squawk codes
33076be585 HAL_ChibiOS: fixed handling of 16 bit timers
f5c6706068 README: correct Pierre Name
b9df513705 GCS_MAVLink: remove redundant ret = true statements (NFC)
9c97f35b19 AP_GPS: Use GPS_AUTO_SWITCH parameter to choose exacly which GPS to use
1762a2708c AP_Notify: removed unused hal variable
9ae9f84498 Rover: fix G_Dt when SCHED_LOOP_RATE increased
ff9a7b3f44 Sub: failsafe: subtract times, don't add them
0289ad03df AP_Mission: added semaphore for thread access
935c9167ab AP_Avoidance: added semaphore
9897bf6127 AP_AHRS: support locked access to AHRS data
0aeceb22d9 AP_Common: added #pragma once to Semaphores.h
dc20e2baed HAL_ChibiOS: support recursive semaphores
edeab9d152 HAL_SITL: support HAL_Semaphore_Recursive
3613cfbc6c PX4Firmware: enable recursive mutexes
1397c85f8e HAL_PX4: added Semaphore_Recursive
b347027e13 HAL_Linux: added Semaphore_Recursive
55dfefb2d6 AP_HAL: added HAL_Semaphore_Recursive
a09576052b ChibiOS: fixed EICU build with TIM1
ab31fcb8f4 AP_HAL_SITL: Makes scheduler compile under Mac OS
bf274cd9db AP_Proximity: Change min and max range to support both 60m and 600Hz
08332102fe AP_Proximity: Fix sensor order on TeraRanger Tower Evo
4b8b8347f2 AP_Proximity: Correctly handle TeraRanger Tower Evo initialization
f1b550647d AP_Proximity: Change TeraRanger Tower Evo sequence mode to Tower
2ca567f409 AP_Proximity: Add support for TeraRanger Tower Evo
af0d1b3e6c README: add Pierre and Leonard
aedd5a9db2 Tools: make takeoff check if it need arming and auto arm
92d06c354e Tools: rise nav_takeoff_delay_abstime delta to cope with rounding.
db9a8f16ed HAL_ChibiOS: enable terrain on Pixracer, minpx-v2 and mini-pix
473e8d18a1 Rover: reduce scheduler estimated time for gcs tasks
012dd57246 Sub: rename gcs_check_input to gcs_update
920300899e Copter: rename gcs_check_input to gcs_update
d1f419b530 Plane: updated release notes for 3.9.1beta3
3fd25ad548 AP_Baro: added HAL_BARO_ALLOW_INIT_NO_BARO
5526dac4fc HAL_ChibiOS: probe all i2c baros for revo-mini
1439b1a730 AP_Baro: added option to probe any i2c baro using GND_PROBE_EXT
f937589810 AP_Baro: fixed BMP085 probe
8850e4b9a1 SRV_Channel: Remove the trim_all interface, constrain failsafes to non motor outputs
460455a687 Tracker: Don't force all outputs to trim
e4bbcd5ee3 Plane: Don't initilize motors with a trim value
d9b72f6821 Plane: reset rudder input during RC failsafe
a80d27eeff Tools: autotest: fetch parameters after applying parameter file
912e4f16ec AP_Common: added #pragma once
b2cc992e0c AP_Baro: convert to use WITH_SEMAPHORE()
3ef910ff11 Rover: fix initial target when setting Guided
8b9b1fdb66 Rover: set reverse to false on entering a mode
289fe6c391 Rover: minor fixes for reversed handling
df3b6202f5 Rover: support DO_SET_REVERSE commands in guided, RTL, SmartRTL
80753430e8 Rover: Accept DO_SET_REVERSE command
ea62c24cef Rover: Move set_reverse method to Mode class
519be92902 Tools: sitl gain update for hexa y6 and octaquad
3251e43f03 AP_Radio: adjust for namespacing of interrupt names
d9f393f42e AP_RSSI: convert to HAL attach_interrupt
f2b8c9e501 RC_Channel: improve debug when failing to initialise RC channel
2209e4a697 AP_HAL_ChibiOS: new HAL functor-based methods
d366842d15 AP_WheelEncoder: move to using HAL's attach_interrupt methods
20027bad17 AP_RPM: attach_interrupt now takes a functor
9b9ec4db40 AP_HAL_Empty: attach_interrupt now takes a functor
5180e025bb AP_HAL_SITL: attach_interrupt now takes a functor
a7b79f7693 AP_HAL_VRBrain: attach_interrupt now takes a functor
8d5a9ead48 AP_HAL_Linux: attach_interrupt now takes a functor
4767666a2d AP_HAL_PX4: implement attach_interrupt
74263f8412 AP_HAL: add attach_interrupt that takes a functor, not a AP_HAL::Proc
c846a13d12 AP_HAL: functor: add != override
a09154c45b AP_WheelEncoder: correct check for wheelencoder-max-instances
21201b8816 AP_WheelEncoder: do not permit copies
45ac3e6bb2 AP_BoardConfig: correct grammar in @DisplayName
5bd1f57a2a Tools: ardupilotwaf: add -Werror=return-type to all boards
9c6e75f45b Tools: allow to retry to get parameters before timeout
cc8aca1619 Tools: various fixes for Copter tests
f536c53fa6 AP_MotorsMatrix: minor format fix
588d1898cd AP_ServoRelayEvents: More robust check if a channel is available
7fd8211253 Sub: Remove unneeded ServoRelayEvent mask set
433f01ddf0 Copter: Remove unneeded ServoRelayEvent mask set
9ed5184d98 Plane: Remove unneeded ServoRelayEvent mask set
84baaea46d Rover: Remove unneeded ServoRelayEvent mask set
df836ec70c AP_Notify: tidy and remove code duplications
6daa241235 DataFlash: add sanity check for WritePrioritisedBlock size
214adc121f Copter: mode_autotune: factor out common filter reset code
fa1ad09a3b Plane: Remove unneeded rudder set
32bc1860de AP_Mission: starts_with_takeoff_cmd skips past mav_cmd_nav_delay
ac55fae1c1 Tools: autotest: add test for Copter delayed-takeoff-with-do-set-speed
9af11d79d1 AP_Mission: remove pointless else clauses
5cc3bf311a Tools: sitl hexa default param updates
83f293305f AP_OSD: raise thread stack size to 1024
836176297d HAL_SITL: added stack checking to SITL
e3d797e063 Tools: sim_vehicle.py: Print a more readable exception
650ee3f441 Python 3 treats old style exceptions as syntax errors
8e76f0f6d9 scripts: Add mavproxy in pip install
17c12dab2a Copter: correct payload_place flytolocation
09d8a33aaf Copter: stop passing ahrs to PrecLand constructor
0a7399ae7d AC_PrecLand: use AHRS singleton, remove pointless initialisations
898a46fe0e AP_Winch: undefine PASS_TO_BACKEND convenience function
b11552e945 Plane: update release notes for 3.9.1beta2
60ec695f55 AP_TECS: set default pitch max to 15
7c57fb0c31 AP_L1_Control: lower default L1 period
9e2933df89 APM_Control: raised default PID gains for roll/pitch
705049c9a8 Tools: add my name in GIT_Success.txt
53a28cdf18 AP_OSD: Adding efficiency and climb efficiency
dd33fce3b1 Copter: remove AC_Sprayer from make.inc
7577b269c3 mk: include Sprayer library
2a174a5dac Tools: add test for Sprayer-on-Rover
7a065db2bb Copter: move sprayer update function into scheduler table
ca7842afac Rover: add support for Sprayer
e4d3ed7e39 RC_Channel: move handling of sprayer and gripper in from Copter
6e0b5e307a Copter: move handling of sprayer and gripper up
4223d933d2 AC_Sprayer: add singleton
4915c72f10 Tools: add sprayer to standard libraries
2d89bcaef6 Tools:TradHeli - update param files to lower gains for ACCZ_P, and Position Controller velocity request
0f7c837d2d Tools: autotest: increase timeout for RTL test
4c89fa4b75 Tools: autotest: add tests for changing modes via MAVProxy mode command
680f78869d Tools: autotest: tidy and fix nav-delay test
5988c3258f GCS_MAVLink: use Semaphore.h
5ac15714fd AP_Common: moved WITH_SEMAPHORE to Semaphore.h
d3af854949 HAL_ChibiOS: fixed bootloader build
a26e534654 GCS_MAVLink: use WITH_SEMAPHORE()
6f058e8c0d AP_Common: added WithSemaphore class
048a52ebc0 GCS_MAVLink: make mavlink send from multiple threads safe
5de49aa5aa GCS_MAVLink: flush parameters on reboot
f1e10b0a8f HAL_Linux: make uart writes thread safe
b2b56c3e46 HAL_VRBRAIN: added support for HAL_Semaphore type
5d3b17db6b HAL_SITL: added support for HAL_Semaphore type
fe93113240 HAL_PX4: added support for HAL_Semaphore type
f005e60066 HAL_Linux: added support for HAL_Semaphore type
dabdb969f6 HAL_ChibiOS: added support for HAL_Semaphore type
0a73c3492d AP_HAL: support HAL_Semaphore type
4d662a913a AP_Param: use background parameter save
7c79175309 AP_OSD: add flytime item
a0ce604721 AP_Stats: make singleton and add flighttime accessor
5f72c9040e AP_OSD: Adding flight distance and summary panels for OSD
001948d40c Plane: publish navigation info to OSD
f5c540a127 Copter: publish navigation info to OSD
eec34fc47d AP_OSD: add waypoint and xtrack_error items
aae1054a94 AP_OSD: add hdop display
303e40f578 Tools: arducopter.py: add tolerance to takeoff alt
2f9f793ccf Tools: add arm and disarm tests
fa7ba7ddbc DataFlash: force messagewriters to completion
fa5757f618 AP_Math: fix float-equals warnings
aa36d20aa1 Tools: autotest: add steps to autotest to build and run unit tests
8e3b69bca0 Tools: autotest: add flaps test
a8ea84a729 Tools: autotest: clean function arguments
85fde70f07 Global: add .flake8
6e7e24ac91 Tools: autotest: raise exception, don't return it
579d471e98 Tools: use set_parameter instead of mavproxy directly
05099b8b8b HAL_ChibiOS: restore default dataflash buffer size
71988b49a4 AP_RSSI: allow override of RSSI pin
c3cf8f5435 AP_Math: fixed a bug in segment_intersection()
626467db14 AP_Math: add tests for line intersection
1b46104a98 AP_HAL_ChibiOS: fix warning when STDOUT is defined
62a4f08e12 AP_Arming: fix system check
c33b692f53 AP_HAL_ChibiOS: fix CubeYellow build
5068f2e8fd AP_HAL_Linux: fix log after tonealarm thread removal
bf6e137c87 Copter: bump version on master to 3.7.0
a53c8487c7 uavcan: allow CAN2 to be initialized without CAN1
f69638f24f AP_UAVCAN: add configuration of hardware filters
3cb8421aa6 AP_UAVCAN: reorganize header and code
ee8e2923ae AP_UAVCAN: cleanup code
8c382b6904 AP_UAVCAN: adapt to new CANProtocol interface
126f1379d3 AP_UAVCAN: fix bug introduced in #7863
7e8abc92fe AP_UAVCAN: adapt to changes in AP_BoardConfig_CAN
861e1a0a54 SRV_Channel: adapt to changes in AP_BoardConfig_CAN
3b61a31bb4 AP_Notify: adapt to changes in AP_BoardConfig_CAN
f468602baf AP_Notify: revert wrong commit 228058e0897c381591b8ad542c9909740159f49f
b29369eb82 AP_GPS: adapt to changes in AP_BoardConfig_CAN
317e8e0296 AP_Compass: adapt to changes in AP_BoardConfig_CAN
31b8a051cc AP_BattMonitor: adapt to changes in AP_BoardConfig_CAN
8e6692744f AP_BattMonitor: fix warning in UAVCAN driver
9489ec9e7c AP_Baro: adapt to changes in AP_BoardConfig_CAN
5efde5fa8b AP_HAL_VRBRAIN: adapt to changes in AP_BoardConfig_CAN
9766ca44d4 AP_HAL_PX4: adapt to changes in AP_BoardConfig_CAN
b7a3e1ae77 AP_BoardConfig_CAN: put debug code behind compile-time flag
4b4ba66987 AP_BoardConfig_CAN: add singleton and do naming cleanup
1cfb38b4ee AP_BoardConfig_CAN: adapt to new CANProtocol interface
350d03800f AP_HAL_SITL: remove unused CAN header
9204ca898b AP_HAL_VRBRAIN: remove CAN thread management
68ada13f28 AP_HAL_PX4: remove CAN thread management
1d7f3e48a4 AP_HAL_Linux: remove CAN thread management
7278af05e0 AP_HAL_ChibiOS: remove CAN thread management
0645a5b11a AP_HAL: introduce a CANProtocol interface and remove HAL CAN thread management
e1bf89f32d AP_HAL_ChibiOS: fix CAN manager initialization
458b7ea0b8 uavcan: fix ChibiOS CAN driver
011776bff2 Rover: restore param description for CH7_OPTION
b5f045dc5f Rover: mode description in lower case
31bfedafa2 Tools: add arduroller balance bot parameter defaults
c028aa8dad Rover: fix compiler warning in RC_Channel
5ad1dee284 AP_Notify: make LED blink at constant rate in Rover
83d01c8b7d GCS_MAVLink: Use ARRAY_SIZE to avoid a magic value
6469a985d7 DataFlash: Fix allocating extra values for RC logging
c8cb5b9e0f Plane: Log target airspeed to NTUN messages
e7ebea55d2 RC_Channel: Fix possible user induced out of bounds write
cbe68b4a91 Tools:TradHeli - update Copter3.6 setup params and add param files for QGC add new Copter3.5 to 3.6 upgrade params to set the PSC, LOIT and NAV controllers for New Loiter and new Position Controller
385f735799 HAL_ChibiOS: avoid 64 bit maths in AP_HAL::micros()
d665abccde Rover: add output tests for omni frames
cbde39c844 Copter: integrate precland logging changes
bfceb5dd32 AC_PrecLand: Improve logging
f2b4e06a1a AP_Airspeed: Add 5"H2O DLVR differential sensor driver
d568767164 AP_Math: Add conversion between inches of water to pascals
62d0bc986a Copter: toymode: correct static-vs-singleton compilation error
eba8dee371 Tools: autotest: add test for delay-until-absolute-hour-minute-second
e932f873cc Tools: autotest: use component id 250 so we have something different to mavproxy
f0185cb79b Rover: Add loiter behaviour parameter
8308646c5e Rover: change omniplus motor order
c9a830bf3f AP_Notify: support both NCP5623 addresses
935165a8f8 AP_Notify: tidy up NCP5623 driver
a98d892dec AP_Notify: Add RGB LED driver for NCP5623
b8c0199853 Tools: autotest: add test for copter's NAV_DELAY function
e824a5df8d PX4Firmware: use ardupilot uploader
a4e50e1626 waf: use the current python interpreter for sub-commands
36af9eecdf waf: fixes for python 3.7
27ded1c12b waf: update to waf 2.0.9
301884f7a6 AP_RCProtocol: fixed coverity error in SUMD
d1334fab73 AP_ROMFS: fixed error handling in tinflate
4aff747b28 AP_RCProtocol: Fix out of bounds write, CID 308323 and 308333
430ed9bd3d Rover: add custom config support
9fff6d1e71 Copter: restore CHx_OPT param descriptions
3ed7c060df AP_Compass: address review comments
cefd998177 AP_Compass: add expected DEV_ID parameters
878e84a015 AP_Compass: correct edge case where checks pass when saved dev_id != detected dev_id
ee9cc28fda AP_NavEKF2: Utilize the GPS drivers estimate for lag
1a406dacfc AP_GPS: Ensure a lag value is always provided
21dfe02c6e GCS_MAVLink: always send an idea of battery voltage as part of BATTERY_STATUS
3d923d0572 Plane: Send a quadplane version of NAV_CONTROLLER_OUTPUT
e4ff937c96 RC_Channel: remove min-max-configured pre-arm checks
eaefdcfac2 AP_Arming: remove min-max-configured pre-arm checks
2365cdf90a Rover: remove min-max-configured pre-arm checks
87e7cc7ef0 RC_Channels: zero all channels before populating
bc52d430f9 Chibios add bootloader for mini-pix
f0fba01138 AP_Stats: use set_and_save_ifchanged()
1c18d06aa3 AR_AttitudeControl: move unnecessary else
86634c2cca Rover: log desired pitch in ATT message
9b60e0844b AR_AttitudeControl: add get_desired_pitch accessor
56a89c0a1c Tools: balance bot default params for SERVOx_FUNCTION
ddc5b031e3 Tools: balance bot autotest params in alphabetical order
0722c6a265 Rover: minor format fix to GCS_MAVLink.cpp
e71dc9307e Rover: add Pitch to GCS_PID_MASK param description
e867ef74cc Rover: balance bots log pitch PID
7772279785 Tools: param_parse.py - fix vehicle-specific values
846418e5e9 HAL_ChibiOS: raise timer thread priority
de66554948 Tools: added OmnibusNanoV6 bootloader
c88926f227 Compass: remove accumulate from example sketch
99b54935db Compass: remove accumulate
54df7ad88d Sub: remove compass accumulate
903d00c4b2 Plane: remove compass accumulate
346e9e36db Copter: remove compass accumulate
936dca7531 Rover: remove compass accumulate
b323a5bffe Tracker: remove compass accumulate
690bbcdaad Plane: release notes for 3.9.0
d0a613225f Frame_Params: Update for Solo on AC36-RC7
81b1270db9 Tools: autotest: use tcp for mavproxy-to-autotest mavlink
f2b1387c1c RC_Channel: add AUTOTUNE to init_aux_function routine
53fbdc3750 AP_BLHeli: pass motor mask to serial_setup_output()
3df2a1c228 HAL_ChibiOS: fixed dshot bad frames
1fe6c7b497 AP_HAL: added chanmask to serial_setup_output()
946b4db0e6 HAL_ChibiOS: set min dshot separation to 100usec
476a40c906 AP_BLHeli: improved reliability of pass-thru support
22ba9a0aea HAL_ChibiOS: fixed timeout of serial read bytes
df643d8499 GCS_MAVLink: allow uninstall of alt protocol handler
769c99d4d7 AP_Baro: added register checking on BMP280
88df4d127e AP_Common: remove ARRAY_SIZE_SIMPLE
668c941717 Global: use new version of ARRAY_SIZE
57ee0e29f6 AP_Common: simplify ARRAY_SIZE
660da5aaea Sub: fixed RC_Channels parameter docs
c964a393c0 Plane: fixed RC_Channels parameter docs
59cd468444 Copter: fixed RC_Channels parameter docs
73ccf90087 Rover: fixed RC_Channels parameter docs
049f61c943 AP_Camera: populate camera singleton
af37e10126 Tools: autotest: factor out starting of our our mavlink connection
9aca96b7da ChibiOS: reduce mmc wait time
2912e732b4 HAL_ChibiOS: updated for KakuteF7
18d03d3ab2 mavlink: submodule update
dc11ff1b52 waf: fixed error handling
64c8ca514c HAL_ChibiOS: fixed attach_interrupt check
4e6ac85057 HAL_ChibiOS: use 32 bit time intervals
1bd0ea079b HAL_ChibiOS: fixed build on older compilers
9727328e0c AP_Bootloader: updates for new ChibiOS version
7aba99e229 HAL_ChibiOS: fixes for ChibiOS version update
c5f3beb297 waf: added --enable-asserts option for ChibiOS
c63414442d uavcan: update for new chibios version
9181dd581e ChibiOS: update based on 18.2.x
f8e2edbc7f HAL_ChibiOS: fixed cache flush for updated ChibiOS version
2604b00b43 HAL_ChibiOS: use ch.h header for oslib api
ea709b9316 AP_Radio: move to using updated time conv API
9f5dbb74e7 AP_IOMCU: move to using updated time conv API
ff65487ab3 HAL_ChibiOS: follow updated gpio pin setup procedure
5f88163e17 HAL_ChibiOS: update configuration and rtlib headers for ChibiOS 18.x.x
395c48933c HAL_ChibiOS: move tto using updated time conversion API
4e8d072d6d HAL_ChibiOS: move to using recent pal driver api for GPIO IRQ events
86b7adf68f AP_HAL_Chibios: fix fmuv3/hwdef.dat printf/STDOUT description and clean up
aa4cf5b40e SRV_Channel: use method to get rc channels
ff36eb3aca RC_Channel: remove old members objects
dab93750a0 Tools: add test for rc overrides
15823d9e97 AP_LANDING_GEAR: Remove deploy lock
fd332287b2 COPTER: Add mavlink landing gear control
a262099d35 Tools: arducopter.py: set submode change as test
a930822d9d Tools: unify exception on os.link
73f8dd98f2 AP_BoardConfig: kill AP_FEATURE_SAFETY_BUTTON
00f03360bc APMrover2: kill AP_FEATURE_SAFETY_BUTTON
604deaf4ba Frame_params: remove safety mask from intel-aero-rtf
259195a7c7 AP_BoardConfig: fix handling of AP_FEATURE_SAFETY_BUTTON
000ae3cb85 AP_BoardConfig: add default for BOARD_SAFETY_ENABLE
099eefee87 AP_HAL: Chibios: HAL_GPIO_PIN_SAFETY_IN implies HAL_HAVE_SAFETY_SWITCH
20778f73f1 AP_HAL_ChibiOS: define HAL_HAVE_SAFETY_SWITCH accordingly
8e3777a163 AP_HAL_PX4: RCOutput: honour HAL_HAVE_SAFETY_SWITCH
7f984f2700 AP_HAL: linux: disable safety switch
2336d2214b AP_HAL: sitl: disable safety switch
5d923aed85 Rover: remove dead gcs failsafe code
66525ab0f9 Copter: release notes for 3.6.0-rc7
f30d999e0b Copter: remove compassmot's compass init and accumulate
6b50a810f6 Copter: compassmot format fixes
13f96bcb00 HAL_ChibiOS: fixed an i2c dma callback bug
b0badf8caf HAL_ChibiOS: fixes for F745 builds
e501ba203f Rover: rename control_modes.cpp to RC_Channel.cpp
b19c03a3c6 Copter: rename switches.cpp to RC_Channel.cpp
0606b00f15 AP_BoardConfig: don't try to set pwm mode for aerofc-v1
0f50cf96ca Tools: Frame_Params: correct for CH7 -> RC7 change
fada9f1990 Rover: version to 3.5.0-dev
9799567416 AP_Follow: fixup offset initialisation
f4255712c1 AP_Follow: Initialize offsets based on offset type
d507805891 Tools: move guided_achieve_heading to common
ef6db4da4a Tools: correct run_cmd
facc254138 Tools: move run_cmd to common
6090820bdc autotest: disable the Drive Brake test in rover
978cd64a1e Tracker: move handling of RC switches into RC_Channel
5df70cf93a RC_Channel: update examples for new rc() method
e2b31a535c AC_PID: update example for new rc() method
f79b4b5d63 Tracker: minimal support for inheritting from RC_Channel
1ba0901e51 Sub: minimal support for inheritting from RC_Channel
9ce02bc504 Plane: minimal support for inheritting from RC_Channel
0f084ed5bf RC_Channel: add compatability static functions
c1a1f4f970 SRV_Channel: use rc() method to get rc singleton
dbccd6a399 GCS_MAVLink: use rc() method to get rc singleton
f4c93dc697 DataFlash: use rc() method to get rc singleton
c209152d13 AP_Tuning: use rc() method to get rc singleton
497746c3d0 AP_RSSI: use rc() method to get rc singleton
2489234fcf AP_Mount: use rc() method to get rc singleton
80a4083fc7 AP_ICEngine: use rc() method to get rc singleton
1eacd685e3 AP_Arming: use rc() method to get rc singleton
b8030816b8 Tools: autotest: add tests for mode changes for Copter and Rover
1f0908bba2 Rover: move handling of RC Switches into RC_Channel
e7e56dde7a Copter: move handling of RC switches into RC_Channel
747fc3814d RC_Channel: rename in_rc_failsafe to has_valid_input
61c34ea98c RC_Channel: move handling of auxillary switches into RC_Channel
007434cdac AC_Sprayer: move Copter CHn_OPT to RC_Channel RCn_OPTION
fb786b8d56 AP_Camera: add singleton
44fd85ff29 HAL_ChibiOS: reduce memory used by serial buffers
33a7d2fef8 Add OmnibusNanoV6 board to builds
9b7b480688 Copter: force log-disarmed on crash check triggering
ce62b2303a DataFlash: add ability to log-disarmed
6d05da8a43 uavcan: update dsdl
59213b6eb2 Make: add missing library AP_ROMFS
1e699a53f6 AP_Landing: Fix misspelling in deepstall docs
8357b31e57 AP_Relay: Remove APM doc references
f0a4059d73 AP_Rangefinder: Remove APM doc references
2134373646 AP_RSSI: Remove APM doc references
e82663baf2 AP_BattMonitor: Remove APM doc references
6225f51815 AP_Airspeed: Remove APM doc references
f4d2014b56 Rover: Update notify initilization
465c2c475e Tracker: Update notify initilization
ad185edd48 Sub: Update notify initilization
858b51c927 Copter: Update notify initilization
eea8267704 Plane: Update notify initilization
fd9f9cdfe0 AP_BattMonitor: Removed the need to set the battery_voltage flag
a5e974c227 AP_Notify: Reduce flash consumption, fix some drivers, always allow buzzer
90216f7cb6 Tools: Slow rover test down for CI, remove unneeded variable
cca6b54921 AP_GPS: Remove unneeded field limitations
5825222818 Copter: Remove redundant throttle channel setting
80313abf31 SRV_Channel: Remove useless read from manual passthrough
60f19bbf02 RC_Channel: Allow an input to be ignored
37f7cc4bcf SITL: rearrange Grippers and Sprayers in SITL
96c54550e5 AP_HAL_SITL: rearrange Grippers and Sprayers in SITL
8b4b38bcb2 DataFlash: removed "no io thread heartbeat" msg
baf869f8d6 Tools: autotest: add test for autotune
9c72a8ecc7 Copter: simplify autotune's filter value determination
84ff9c6928 Copter: switch to pos control when takeoff finish
20c1c4c684 Tools: autotest: add test for guided changing submode after takeoff
56a4cd43d4 Tools: autotest:eliminate parameter restore using contexts
cdaf839c4b Tools: added OmnibusNanoV6 bootloader
19f44f80ad HAL_ChibiOS: Added Omnibus F4 NanoV6 (only V6)
4f2508d89f Plane: updated release notes for 3.9.0beta6
4026b9f49d HAL_ChibiOS: probe all external compasses on mini-pix
2ded88e611 AP_Compass: allow override of QMC5883L orientation
397ba488db AP_Notify: use NTF_BUZZ_ENABLE to disable tonealarm
315a33ed10 Rover: 3.4.2 release notes
c5d0599d4c Tools: vagrant: enable ccache for vagrant user
cb3731e08e Compass: fix compile warning in calibrator output
fcab097572 Tools: updated CI link for STM32-tools
1eb010fbf1 AP_Notify: reduced tone buffer size
bdca329012 HAL_PX4: fixes for new tone_alarm system
2f90f25187 PX4Firmware: submodule update
d3e6cc7141 PX4: don't use tone_alarm in init
b11bd33b0e AP_Notify: removed extra call to play_string
d28c8f0214 AP_Notify: added duration to toneAlarm_set_buzzer_tone
22d588146e HAL_PX4: added duration to toneAlarm_set_buzzer_tone
03b7c08be6 HAL_Linux: added duration to toneAlarm_set_buzzer_tone
c83567dcba HAL_ChibiOS: added duration to toneAlarm_set_buzzer_tone
949324ff2b AP_HAL: added duration to toneAlarm_set_buzzer_tone
c711c8c6bb PX4: remove startup tone
ddf0333a24 AP_HAL_Linux: reflect changes to tonealarm interface
0dd151c0f3 AP_Notify: changes needed for PX4 tonealarm
4e48923c64 AP_HAL_PX4: implement new tonealarm interface
f4fc9249f7 AP_Notify: support extended PLAY_TUNE message
cba85eee7b AP_Notify: MMLPlayer constrain note frequency
98d962ffa2 AP_Notify: MMLPlayer note_tab static const
720676b28c AP_Notify: run astyle on ToneAlarm and MMLPlayer
b31ddedfef AP_Notify: merge ToneAlarm files, use new AP_HAL tonealarm interface
f5f6220283 AP_HAL_ChibiOS: reflect changes to AP_HAL tonealarm interface
f936b1dbc2 AP_HAL: change tonealarm interface
396517fe58 DataFlash: Delete unused arguments.
1d675390ab Plane: make soaring an optional build feature
b1d9f4cc39 AP_SpdHgtControl: update API for TECS change
f3336fdb60 AP_TECS: removed dependency on soaring controller
e39d070b78 AP_Compass: clear DEV_ID for undetected compasses
9cd8745394 Tools: autotest: allow use of --gdb when no DISPLAY available
5cf119cd2f AP_RSSI: const get_gpio and fix includes
e7bc255e02 Copter: disable Guided_NoGPS on v2 boards to save flash space
e239ac985d Copter: disable RPM meter on v2 boards to save flash space
eb026eef98 AP_RSSI: support pwm input on gpio pin
4f6c50b79e AP_RSSI: minor format fix
06d26aaaa7 AP_RSSI: clarify PIN_LOW/HIGH parameter description
72ee20c590 HAL_ChibiOS: added RC input for OMNIBUSF7V2
d4c19ebc3c HAL_ChibiOS: Updated OMNIBUSF7V2
c705d3d816 Rover: Modify indentation (NFC)
037d7d2e74 autotest: raised timeout on set_rc()
95aaa01014 HAL_ChibiOS: override COMPASS_AUTO_ROT on several boards
b181340fd9 AP_Compass: allow override of COMPASS_AUTO_ROT
8c9f2bc79e AP_IOMCU: fixed setting of rate masks
1eef29e525 HAL_ChibiOS: only set freq on valid IO channels
16c7ab81dc Plane: pass rc_speed to motor backend constructors
9c3b7e7c7d Tools: Autotest for balance bot
d3846420aa Tools: new default params for balance bot
6dcab4e87b Rover: support balance bot in AUTO mdoe
87f8e523de Copter: clarify takeoff comments
22f7f29045 Copter: move all of waypoint-takeoff into Mode namespace
11aeec6dd1 Copter: factor out auto_takeoff_run from auto and guided
ccc1170c8c Tools: auto-build Pixhawk1
bed26fa137 Tools: added Pixhawk1 bootloader
2174c53eb6 HAL_ChibiOS: added Pixhawk1 build target
6dd8dbeb40 Tools: autotest: add ability to add breakpoints in autotest
8c44a0d8c8 Tools: autotest: add contexts to ease reverting parameter values
b47c63c7bd Tools: autotest: wait_ekf_happy checks status bits rather than value
a8647f834e AP_RangeFinder: fixed VL53L0X semaphore usage
8bf6e8e0cf AP_OSD: fix compiler warnings
ea3de59107 Copter: implement user auxswitch functions
1377943eb3 HAL_ChibiOS: fix DTCM size in stm32f745 mcu
46355e3de9 AP_Math: Add a warning to rotations to indicate that it is expected to match the MAVLink definitions
8664ed006a AC_Circle: use stopping point to get closest point on circle
1aeb9446c0 Copter: simplify home distance and bearing calculation
f78ffefd66 Copter: Handle always land mode
e55369b1c8 AC_Fence: add always land option
4022a17d3b waf: fixed upload on Linux
62cf45659b adding support for win/cygwin installations
1304d37699 AP_HAL_Linux: fix bhat GPS SPI conflict
b130036798 HAL_SITL: use SIM_RC_CHANCOUNT
128ea42286 SITL: added SIM_RC_CHANCOUNT parameter
787493277e AP_Arming: only check trim on valid channel count
f7f4b43683 Rover: 3.4.2-rc1 release notes
937d8dac97 AP_Motors: remove unneeded initialisations
9e6810933e Copter: don't compile AP_Menu library
24ef1a61b3 Rover: remove old AP_Menu include
610bcb3387 AP_Parachute: remove un-needed initialisations
ec6e2b9da8 AP_RPM: remove unneeded initialisations
d3877bf2d0 AP_WheelEncoder: remove un-needed initialisations
57bc4d8736 AP_Mount: remove un-needed initialisations
c5a69d8ec2 AP_Notify: Fix bad loop count on notify LED's
d86dbee18b Tools: Added name to GIT_Success.txt
4d8a91077f ChibiOS: fixed rounding of baudrates
1c91bd3588 AP_OSD: added temperature item
4f2d9c2c4d AP_HAL_Linux: support PWM input for BH hat
8a26ca1ddf HAL_ChibiOS: added a DMA reserve heap
1dcac14b1e AP_RCProtocol: cleanup code style
f9ab7e54d4 HAL_ChibiOS: increase sigread buffer size for protocols with longer length
baff7291ce AP_RCProtocol: add support for srxl and st24 protocol
f99bd32b51 RC_Protocol: add detection of sumd protocol over sigread
bff985a9f4 AP_Notify: Configure the PCA9685 every boot
961e16dca9 AP_Notify: Use a bitfield to load LED drivers
73cfd40e7f HAL_ChibiOS: reduce latency of DMA sharing
ccb32cf357 APM_Control: BRAKE param default is true
830a3bbacf Tools: modified default params for Balance Bot
1dc1b28234 APM_Control: changed default PID for Balance Bot
89ffa94427 SITL: Removed redundant variables and modified/deleted commented lines
21445e91be SITL: new balancebot physics simulation
cb19d4dffc AP_HAL: added toneAlarm_set_tune_string
d93964b319 AP_Notify: support playing tunes by string on ChibiOS
4244daeb2d HAL_ChibiOS: support playing tunes by string
ba7750de15 mavlink: extended PLAY_TUNE
98f87f5087 SITL: fixed gimbal for tailsitter
9a6113e5d8 AP_AHRS: fixed tailsitters in RealFlight
cbd6f4cc21 AP_Compass: fixed compass for tailsitters in SITL
f06637d48e Copter: update servorelayevents @50Hz rather than 3Hz
ff0f293d06 Tools: added KakuteF7 bootloader
0130ff9b89 Tools - updated URL and git submodule command for install-prereqs
a4d3b08d87 Plane: release notes for 3.9.0beta5
9eebb6225a AR_AttitudeControl: brake fix to set limit in only one direction
fdd111a24d AP_HAL_SITL: move include for pthread.h
20c67019b0 Plane: added Q_TAILSIT_THSCMX
c8ce76e8a6 Added support for PX4V1 UARTD in HAL_PX4_Class
16b6201195 RC_Channel: Allow a RC_OVERRIDE_TIMEOUT of -1 to use the overrides forever
65b20bfd83 AP_IOMCU: fix radio failsafe handling
9cba2c9bd3 Tools: fixed build target for F4BY
578f17c45a Tools: rename f4by-ch to F4BY
ec97e7772d HAL_ChibiOS: rename f4by-ch to F4BY
34e9a6e693 Tools: added f4by to autobuild list
f265d7e128 AP_Bootloader: add f4by bootloader
149a6af48f Plane: releases notes for plane 3.9.0beta4
07187f7797 Plane: fixed ARMING_REQUIRE=2 for dual-motor planes
d49d5cbb85 autotest: fixed tailsitter default params for SITL
3a8ef21d89 HAL_F4Light: renamed bootloader
07871cb867 Tools: rename revo405_bl to F4LightF405_bl
75c5fda222 AP_SerialManager: make console do mavlink2 by default
82aba6fe56 Rover: guided heading-and-speed control slows using yaw error
5dc4b8e66d Rover: guided mode slows to stopping point on init
77598f72d1 Rover: remove redundant set_steering calls from Guided
3b7e84ce7a Rover: calc_steering_to_heading updates yaw error
84bda4e893 Rover: follow mode fixes and improvements
c0082271e6 Rover: implement Follow mode
465564ba99 AP_Follow: fix initialisation of offsets
0834e7ae9b AP_Follow: update FOLL log column names
f53bfdbd38 AP_Follow: fix reporting to GCS
027beb0dc1 AP_Compass: rename COMPASS_ROT_AUTO to COMPASS_AUTO_ROT
15d2daabf0 AP_Compass: don't do auto-orientation if using ROTATION_CUSTOM
a73492b40a AP_Compass: fixed newline in statustext
196ba0e858 AP_Compass: make COMPASS_ROT_AUTO take 3 values
d15a4ad92a AP_Compass: improved error reporting, check all compasses
f10e9fe171 mavlink: extend MAG_CAL_REPORT
a5749c1869 AP_Compass: allow diagonals and off-diagonals to be calculated on rot change
b4c7d1925e AP_Compass: allow for runtime changes to SIM_MAG_DIA_?
3c2e8baee2 AP_Compass: improved orientation reporting
8b0f40b402 AP_Compass: implement automatic compass orientation
4acc06df87 AP_Compass: support diagonal, off-diagonal and rotation in SITL compass
8170fbcf80 AP_Math: added a comment on conventions for to_euler()
d1f67f6ded SITL: added diagonal, off-diagonal and orientation of SITL compass
1056e64419 AP_AHRS: added get_DCM_rotation_body_to_ned()
5b0b9ef962 AP_AHRS: don't do yaw correction in DCM while calibrating compass
651a7030aa Tools: Add quotes in ChibiOS waf file
caa553e727 HAL_ChibiOS: fixed internal i2c mask for Pixracer
59aab9987e HAL_ChibiOS: account for I2C base in compass masks
2f01f08b24 GitIgnore: added .vscode folder to .gitignore
3d72022f6e EKF: modify ALT_SOURCE param description
2ba6f64281 SITL: Remove unused variables
7aeeb61f69 Copter: motor test can spin motor for 10min
b3c28bd934 Copter: minor format fix to motor_test
e4a8e9deb1 AP_RCMapper: Mark sub specific parameters as sub only for docs
8fdcd7e1f5 Tools: hide parameter in documentation if no values present
8ab3b666fa Tools: Remove unused ADC include
fc44f693e5 AP_Airspeed: Remove unused ADC include
65df5c3ff6 AP_AHRS: Remove unused ADC include
08ef60d436 AP_ADC: Remove unused AP_ADC class
1e7a06ef6b AP_Mount: Remove unused ADC include
a5b8279ea4 AP_Motors: Remove unused ADC include
dddb1e6a58 AP_Module: Remove unused ADC include
1efad07a84 AP_InertialSensor: Remove unused ADC include
2e135f4fc4 AP_HAL_Linux: Remove unused ADC include
fcb1c4cdfd AP_GPS: Remove unused ADC include
875e03bdd9 AP_BattMonitor: Remove unused ADC include
57f3e9cd88 AP_Airspeed: Remove unused ADC include
f25726fbb1 Plane: Remove unused ADC include
3755b2ac0f Copter: Remove unused ADC include
9a722054ff Tracker: Remove unused ADC include
84f891c5b1 Rover: Remove unused ADC include
0f75866042 AP_Motors: Tradheli-corrected get_motor_mask method
dec8c5de77 AP_Motors: convert heli code to use SRV_Channels
c3d4b792ad SRV_Channel: fixes channel numbering for channel already assigned message
73df3e0af2 SRV_Channel: modified set_output_pwm_trimmed for reverse property
e94177e469 SRV_Channel: added function based set_output_min_max
86b85c569a Copter: release notes for 3.6.0-rc6
81bb2218f1 Copter: 3.5.7 release notes
4342dae065 HAL_ChibiOS: define BOARD_RSSI_ANA_PIN to simpify tuning
e04f438ce3 HAL_ChibiOS: fix analog pins on MatekF405
89f7d652e0 HAL_ChibiOS: removed wrong led pin
13b56d5870 AP_OSD: improve AHI for large roll angles
3c0ed01fd0 AP_Compass: prevent use of null dev_icm device in ICM20948 driver
ed09467f06 AP_BoardConfig: removed verbose SPI probe debug messages
71647cfc6b AP_Compass: removed HMC5843 compass probe error
2a62938fb1 AP_BoardConfig: enable get_board_type() on all boards
9ab55f6838 HAL_ChibiOS: probe for external compasses on several boards
ff6d639ed7 AP_Compass: separated out external compass probing
476bddd9a3 HAL_ChibiOS: use HAL_I2C_INTERNAL_MASK
0fc6ca22f7 AP_HAL: setup HAL_I2C_INTERNAL_MASK for ChibiOS
63d385ffb1 AP_AHRS: fixed arming with no compass in plane
ac40a20c02 AP_NavEKF3: fill in gps_quality_good flag
3d31773fb4 AP_NavEKF2: fill in gps_quality_good flag
103d1aea41 AP_NavEKF: added gps_quality_good EKF flag
2c24bac79e BARO_generic: add Dummy GCS to meet the requirement of AP_Baro::calibrate().
78386ed080 AP_OSD: added OSD_MSG_TIME parameter
08da22c682 Rover: improved setup of output modes
44cfb6eaca Tools: added KakuteF7 to builds
7eabee04a3 HAL_ChibiOS: enable OSD on KakuteF7
b96f24c80e HAL_ChibiOS: added KakuteF7
dc54babe41 SITL: setup more defaults with flightaxis
7ec6522b9d AP_Compass: default to right mag offsets for SITL
2fe2c8fbda AP_Compass: initialise compass IDs saved in SITL
087aa1a199 Tools: decode SITL device IDs
5f8b57ba19 AP_InertialSensor: added SITL device IDs
823c4523b3 AP_Compass: added SITL device IDs
464dc9102f AP_HAL: added device types for SITL
f2d602690e HAL_ChibiOS: fixed build error with some compilers
83f38d536e HAL_ChibiOS: fixed flow control auto-detect without DMA
0201893f7c HAL_ChibiOS: fixed peripheral power-up on fmuv5
409e857f6b HAL_ChibiOS: use pullup on CTS line
11e09a846c HAL_ChibiOS: setup RTS pins as pullup
63a0a4979c HAL_ChibiOS: delay peripheral power on for fmuv5
0af97529ba Tools: common.py : fix empty returned_value variable
065a459df8 Tools: common.py : make some method statics
6c43ab27c1 Tools: remove trailling semilocons
0aaa029f9b AP_HAL_Linux: GPIO_RPi: Fix UB when reading a pin
d06a82af1d AP_HAL_VRBrain: Remove GPIO::analogPinToDigitalPin()
1ac78d3a80 AP_HAL_SITL: Remove GPIO::analogPinToDigitalPin()
039e146dec AP_HAL_PX4: Remove GPIO::analogPinToDigitalPin()
1f7ee55211 AP_HAL_Linux: Remove GPIO::analogPinToDigitalPin()
312e21dc2f AP_HAL_F4Light: Remove GPIO::analogPinToDigitalPin()
f4b1d530c1 AP_HAL_Empty: Remove GPIO::analogPinToDigitalPin()
6fba374069 AP_HAL_ChibiOS: Remove GPIO::analogPinToDigitalPin()
3419b045e1 AP_HAL: Remove GPIO::analogPinToDigitalPin()
6925dfb4ae AP_Camera: Remove usage of analogPinToDigitalPin
2b5aa9bc53 Rover: Remove usage of analogPinToDigitalPin
1333fac887 Copter: 3.5.7-rc1 release notes
10e9182c21 HAL_SITL: fixed delay() for SITL threads
785cf293cd AP_OSD: use software blink
f083b80700 HAL_ChibiOS: added preallocation of DMA bouncebuffers
e193a161f2 HAL_ChibiOS: enable SDIOv1 bouncebuffers
74456fd090 ChibiOS: added bouncebuffers to SDIOv1
3b951471f0 Tools: added bootloaders for mRoX21 and Pixracer
20d1d9dc36 Tools: build Pixracer and mRoX21 in autobuild
f84424cca4 HAL_ChibiOS: added specific builds for the Pixracer and mRoX21 boards
e52176e23b AP_BoardConfig: allow hwdef.dat override of BRD_TYPE
721f5d86b1 HAL_ChibiOS: fixed mRoX21 IMU setup
0310bd468c HAL_ChibiOS: changed uart order for KakuteF4
48747be494 HAL_VRBrain: don't clear buffers on no baud change
1d1af5fd68 HAL_Linux: don't clear buffers on no baud change
fe07a73935 HAL_PX4: don't clear buffers if no baudrate change
50f7e55f0b HAL_ChibiOS: don't clear buffers if no baudrate change
374c46bd57 HAL_ChibiOS: MatekF405-Wing UART reorder
fe90618e3e AP_TempCalibration: remove duplicated parameter
0e6780e18b Update tap and update pre-reqs
ce9857d77d AP_BattMonitor: add BLHeli ESC to MONITOR param desc
f543ca552c Copter: 3.6.0-rc5 release notes
1f2c24ef7b HAL_ChibiOS: backup storage to microSD if possible
66ee202e24 HAL_PX4: backup storage to microSD if possible
821aa3bece Copter: 3.5.6 release notes
200a644cfe Rover: fixes bug in rovers with pivot turning
922a9762df HAL_ChibiOS: Fix MatekF405-Wing default compass rotation
985a319c42 AP_FlashStorage: fixed build of example on small memory boards
d2446e1219 AP_HAL_Linux: use Thread abstraction to create thread
e11d268818 AP_HAL_Linux: Thread: allow loose running thread
ba0fb3d9d2 AP_IOMCU: fixed repeated upload of IO fw
1e2065e381 waf: recognise CubeBlack USB IDs
2d8dbc05d0 HAL_ChibiOS: fixed omnibusf4pro I2C
fff4b3b4a0 HAL_ChibiOS: fixed build on some F4 boards
4b24a61023 AP_HAL_Linux: fix spelling of generated in panics
c03e50660c AC_WPNav: check validity of kP
7e166a4a38 Tools: added bootloaders for PH4, PH4-mini and CUAVv5
7c3a75b609 Tools: added auto-build of PH4, PH4-mini and CUAVv5 boards
ece10082e2 HAL_ChibiOS: added separate builds for Pixhawk4 and CUAVv5
f88a4b3a2f AP_Compass: fixed compass orientations on PH4
b647dde28f HAL_ChibiOS: changed which I2C bus is internal on fmuv5
385713abdd HAL_ChibiOS: support for PH4-mini board
9ca2c11333 AP_Arming: use check_enabled() in storage check
bf1bca6820 AP_Arming: added arming check for storage health
63a9b903ba HAL_ChibiOS: added fallback to microSD for param storage
d35abe67ae AP_HAL: added optional healthy check on storage object
3e5d5b4095 HAL_VRBRAIN: ensure system_id is nul terminated
7beb8b4872 HAL_PX4: ensure system_id is nul terminated
5d8b4c1e23 HAL_ChibiOS: ensure system_id is nul terminated
6328a7233f AP_OSD: cope with no EKF for vspeed
4939f30ec4 AP_HAL: make linux internal i2c be 0xffff
b19219d636 HAL_Linux: allow for 16 I2C buses on Linux
8fd69250bd AP_Compass: use I2C bus masks
6bf3dea5e7 AP_Notify: use I2C bus masks
cb77cc772c HAL_PX4: implement I2C bus masks
070e3cf37b HAL_Linux: implement I2C bus masks
4f9bd50038 HAL_ChibiOS: implement I2C bus masks
281a1b6569 AP_HAL: added I2C bus mask functions and macros
bdede462e8 AP_OSD: updated fonts
02bc49f6b5 AP_OSD: added roll and pitch angle items
33653b6734 AP_OSD: added SI and Aviation units
3292abaa19 HAL_ChibiOS: fixed F412 build
f8e9e57523 AP_Camera: reduce feedback pin timer work, remove unneeded inits
a3587f844c Copter: RTL if not in AUTO mode and FS_THR_ENABLED_CONTINUE_MISSION enabled
59e087214f AP_NavEKF2: spell in comments (NFC)
a561aa2f6d AP_OSD: allow for runtime H and V offset change
a085b33729 AP_OSD: make units tables a bit easier to read
d2e05eb927 AP_OSD: ensure spi_buffer space
ac71a181d6 AP_OSD: refactoring based on review suggestions
e364a815f8 AP_OSD: add warning levels for vbat, rssi and nsat
731ae44ffa AP_OSD: add imperial units option
eaac477131 AP_OSD: add inverted roll AH and inverted wind direction
7873aff0b8 AP_OSD: allow to fine tune osd position
dc454881df AP_OSD: increased lat/lon field
8dd4108f3c AP_OSD: create usable default osd layout
6eb00b92fd AP_OSD: don't panic on bad font num in SITL
af6c5ebda1 AP_HAL_ChibiOS: reduce default BRD_PWM_COUNT to 4 for fmv3
a7d9f4eef7 HAL_ChibiOS: don't add defaults.parm when building bootloader
7316a478b6 AP_Bootloader: fixed rcc reset when no USB
52a8198311 AP_OSD: added font switching at runtime for SITL
64fae25882 AP_OSD: added runtime font switching
5682cef162 AP_OSD: created font binaries
4f1db0f979 AP_OSD: added fonts and styles
795947b405 AP_OSD: Addded README.md for fonts
7454c9f8c5 AP_OSD: load font on startup
6347de2b89 AP_OSD: added OSD_FONT parameter
4055f28bc5 AP_OSD: use font*.bin as font name
655828d2f8 waf: use wildcard OSD fonts for SITL
fd02865a8b HAL_ChibiOS: use wildcard ROMFS name for fonts
822e20f830 AP_OSD: rename clarity.bin to font0.bin
e200de1f57 AP_IOMCU: use compressed interface for IO fw upload
27c435e217 HAL_ChibiOS: use compressed ROMFS for bootloader update
d2996677cf waf: auto-compress ROMFS files
aa205d0537 AP_OSD: use compressed font file
c3db5c3da2 AP_ROMFS: added support for compressed files in ROMFS
3fc6968700 HAL_SITL: allow delay from other than main thread
3cd6d8cac7 HAL_VRBRAIN: removed restriction on delay in threads
c317cc3fa4 HAL_PX4: removed restriction on delay in threads
492978c0fa HAL_Linux: removed restriction on delay in threads
a489c93001 HAL_ChibiOS: removed restriction on delay in threads
0e29bcc4ab AP_IOMCU: use thread_create() API
b98d941526 AP_OSD: use thread_create API
9918ae3209 HAL_Linux: implement thread_create()
3dfa1f2879 HAL_PX4: implement thread_create() API
df3ce87e02 HAL_ChibiOS: implement thread_create()
88842adbd5 HAL_SITL: implement thread_create() API
e14e0b8a14 AP_HAL: added thread_create() API
8b337bfc4c AP_Notify: fixed shadowed variable warning
a9c570702c AP_Param: fixed build warning
5929b5fc33 AP_SerialManager: fixed find_baudrate to return mapped baudrate
bf901aff49 AP_Bootloader: support building without USB
dbe096e2f3 AP_OSD: default OSD_TYPE to SITL when enabled with --osd
950be3fc17 waf: stop build if OSD libs missing and requested
5c4b5c7859 PX4 ROMFS: Start even if uSD is not installed
ba1a611ea9 AP_OSD: fixed CPU usage in SITL thread
b5b9ff8dbc Copter: 3.5.6-rc1 release notes
12a53ed662 HAL_PX4: fixed link on aerofc-v1
30b3d63e8a APM_Control: New default PID values for balance bots
ce182fd307 APM_Control: fixed test condition in AR_AttutudeControl.cpp
cc0b3705e9 Tools: default param file for Thunder Tiger Toyota Hilux
ad55605605 Plane: update version to 3.10.0-dev
db1f1a42d6 Plane: updated 3.9.0beta2 release notes
d698960728 GCS_MAVLink: correct bad fall-through
7c55c60beb Tools: run configure_all.py in build_all
847cb760b4 HAL_ChibiOS: fixed fmuv4-beta hwdef for dup pin
7ceb83ae9d Tools: added configure test for all boards
bf6906819d HAL_ChibiOS: fixed configure of cube-red
357a57f68a Tools: Replay: implement more dummy camera methods to avoid linking camera
819d892baf Copter: handle MAV_CMD_ACCELCAL_VEHICLE_POS in GCS base class
e85ca5856c Tracker: handle MAV_CMD_ACCELCAL_VEHICLE_POS in GCS base class
b62639e07c Rover: handle MAV_CMD_ACCELCAL_VEHICLE_POS in GCS base class
94ad85a67d Plane: handle MAV_CMD_ACCELCAL_VEHICLE_POS in GCS base class
3710c50c4e GCS_MAVLink: handle MAV_CMD_ACCELCAL_VEHICLE_POS in GCS base class
d077723028 Plane: handle command_int in GCS base class
d76e7d210b Plane: handle command_long in GCS base class
2d1ed75592 Sub: handle command_long in GCS base class
332fcb3226 Sub: handle command_int in base class
0785e48718 Rover: handle command_int in base class
1da3e8f182 Rover: handle command_long in GCS base class
7124132eee Tracker: handle command_long in GCS base class
7fc580921a Copter: handle command_long in GCS base class
4775a67ea0 GCS_Common: handle command_long in GCS base class
aa4ee64af2 Copter: handle command_int in base class
4ad065de99 GCS_MAVLink: handle command_int in base class
37145253d9 AP_SerialManager: remove set_console_baud, factor out find_protocol_instance
7a3eb69818 HAL_ChibiOS: allow arm without compass on omnibusf4pro
570470ac59 AP_AdvancedFailsafe: removed some old AVR code
2c1be910d8 Tools: removed a lot of ancient AVR code
fbf24f0492 HAL_ChibiOS: make serial number match HAL_PX4
57598e5b9f ArduCoptermode_guided: yaw initialization already in pos_control_start()
840362f355 HAL_ChibiOS: fixed default revo compass orientation
8a96ee4e1d Copter: 3.6.0-rc4 release notes
15ee9593b5 HAL_ChibiOS: fixed duplicate pin definitions
53dcf5bef8 HAL_ChibiOS: fixed build warning with MATEKF405
b23ea9a47b Tools: autotest: fix race condition on parameter values
4a1ecd9fd0 mavlink: submodule update
6f2814d70c Copter: clarify RTL_ALT parameter description
1d91f18177 Plane: fixed version for enums
bd4515947a Plane: updated release notes
d280dbf119 AP_OSD: display --- when no airspeed available
43ab8d88bf Tools: fixed test for supported boards
cdf92c5158 AP_BattMonitor: fixed ESC telem scaling
f96c3c2c0f AP_OSD: added check for get_telem_data()
4c581a0522 Tools: autotest: correct invocation of build_all
84d2b1cd93 AP_OSD: make packed decimal the default
3fb034e350 AP_OSD: fixed packed dot
b97fa4c978 Tools: allow pattern of boards to build_bootloaders.py
09d0d980a0 Tools: updated cube bootloaders
5c2c5efc35 HAL_ChibiOS: rename to CubeYellow
f289c71b89 HAL_ChibiOS: make CubeOrange IDs consistent with CubeBlack
ca96cf33e9 Tools: added CubeBlack and CubeOrange bootloaders
47fec1859b HAL_ChibiOS: rename cube-orange to CubeOrange
9def39f89f Tools: auto-build CubeBlack
5519986848 HAL_ChibiOS: Added CubeBlack hwdef
c2f9b857a4 Copter: remove unused baro_climbrate variable
85f339caae Plane: remove annoying ice_update shim
e404562544 Plane: remove vexing button_update shim
efdc13d143 Rover: remove pointless rangefinder_init shim function
c42fb6d797 Plane: remove pointless rangefinder_init shim function
6bf5ffdb6d AP_NavEKF3: use compass singleton for logging
baa818a812 AP_NavEKF2: use compass singleton for logging
8bc96a2e13 Copter: use compass singleton for logging
c0fac91110 Tracker: use compass singleton for logging
4502fd21c3 Plane: use compass singleton for logging
d183847aa3 Sub: use compass singleton for logging
ca264b1932 Rover: use compass singleton for logging
4e0c6b873f DataFlash: use compass singleton for logging
3e08132828 Copter: CH_12 can be used with any HAL, not just HAL_PX4
8f94302348 Rover: removed unused macros
9df4be7f49 AP_OSD: added blink for SITL backend
7d4a6795d8 AP_OSD: use a thread for SITL OSD
2e427475cf Tools: added bootloader docs
7ce72fe571 AP_OSD: fixed sign of altitude
af46388d6c AP_OSD: added option to pack decimal numbers
5ef0c454e3 AP_OSD: fixed sign on GPS coords
dcc272bd6f AP_OSD: widgets for BLHeli32 ESC amps, temp, rpm, and GPS lat/long
07fc5c8349 Rover: removed min speed crash check for balance bot
9702f4f822 AP_OSD: fixed vector orientation
38c71bbfc7 AP_OSD: fixed up/down arrows
64cfa3beef AP_OSD: fixed vertical speed item
e2b431f69f AP_OSD: fixed speed vector calculation
2ef82173b4 AP_OSD: fixed review issues
e9600d9a08 AP_OSD: reduce width of the vspeed item
f23a40d967 AP_OSD: fixed type in the script
e59e7a3754 AP_OSD: added airspeed and climbrate
982e1e45dc AP_OSD: add wind speed/direction item
d73a7c051d AP_OSD: show direction of the groundspeed vector
c05bae3ca2 AP_OSD: add compass item
fa19c3a680 Tools: autotest: fix sub autotest
0ae82751b8 Tools: autotest.py: flake8 compliance
48d00de030 Tools: added name to GIT_Success.txt
eb58399d8b Rover: 3.4.1 release notes
8f15a76327 Tools: autotest: sim_vehicle.py: whitespace changes for flake8 compliance
7e7bbb8df6 Tools: sim_vehicle.py fixups
dc154f0b24 Copter: minor fix to 3.6.0-rc3 release notes
b38b9dc07c Rover: use ArmingMethod enumeration
df83cb034e Copter: use ArmingMethod enumeration
3cfdcb1f2c ArduSub: use ArmingMethod enumeration
e400a0e351 AP_Arming: use ArmingMethod enumeration
6979f0d3a0 AP_Arming: remove unused arming_method member
1dece80c88 waf: fixed error with no ROMFS files
3bfa4c8678 Plane: use singletons in AP_Arming
cc46ab3092 Sub: use singletons in AP_Arming
ea12f6caec Rover: use singletons in AP_Arming
a1f29e92d1 Copter: use singletons in AP_Arming
598f82a2fe AP_Arming: use singletons in AP_Arming
051c811bfb AP_Compass: make compass_cal_requires_reboot const
e7b409924c GCS_Common: send 0 rather than 1 in servo zero-rc-outputs
f7daf1c676 GCS_MAVLink: rearrange code for clarity
e0eb3424ec Sub: move mavlink reboot code up to base class
320e24af65 Plane: move mavlink reboot code up to base class
c84b102c1c Copter: move mavlink reboot code up to base class
3522f32706 Tracker: move mavlink reboot code up to base class
e1408696dc Rover: move mavlink reboot code up to base class
11df6debd0 GCS_MAVLink: move mavlink reboot code up to base class
73bbe8b84e GCS_MAVLink: send ack before board reboot
7785a962dc Copter: fix inconsistent setting of AP_Notify::flags.pre_arm_gps_check
6194413829 Copter: clarify PILOT_THR_BHV param desc
7bfeeb5877 Copter: fixed board name in release notes
41e84fa627 AP_OSD: implement throttle and heading
94d8010a16 GCS_MAVLink: expose HUD throttle accessor
f4da0215d1 Sub: add motor test implementation
24e21b57ca AP_Motors: add output_test_num api for motor testing
64577bfbe1 Copter: refactor output_test -> output_test_seq
4eb00ac779 Plane: refactor output_test -> output_test_seq
abcb845af5 AP_Motors: refactor output_test -> output_test_seq
9ce9f95692 AP_Motors: make output_test signatures consistent and ensure override specifier on derived classes
dcd3f83539 Sub: Remove void as parameter
802f6a4a1c AP_OSD: fixed horizon roll/pitch signs
ec528b2c18 AP_OSD: fix home direction
11131d34e3 AP_OSD: give credits to the original authors
4061ed03d9 Copter: 3.6.0-rc3 release notes
f78b84805c waf: don't generate hex files if intelhex module not installed
fc378eeae1 DataFlash: move log-transfer state variables into enumerated variable
4c2925d693 AP_Compass: remove pointless initialisations
b527dce08d autotest: use --enable-sfml for graphics
0af83f9364 AP_OSD: use correct SFML header file
d3bc281a10 HAL_ChibiOS: use generic ROMFS embedding system
8ba137bd9a waf: moved ROMFS embed script into waf folder
20d22f3629 AP_Math: quaternion requires isnan, so include math.h to get it
493f958eb2 DataFlash: remove unused ReadBlock method
00b2cc4a93 Tools: support --osd option to sim_vehicle.py
355269115e waf: support --enable-osd option
35192a6162 AP_OSD: added SITL OSD backend
0169a9287d AP_OSD: fixed issues with horizont and home
daf13cb9f4 AP_OSD: add home item
d2e2a5b2ea AP_OSD: fixes in screen swithing methods
c0db1a3625 AP_OSD: fix warnings
9b687e0e50 AP_OSD: use autoscroll in text messages, add artificial horizon
1949166dde AP_OSD: add two new methods to switch osd screen
d0571f55ed AP_OSD: use autoincrement mode to reduce spi traffic
f4be542169 Copter: autotune: raise priorities of autotune success and param saved
38898dc793 Tools: autotest: add test for vision position estimate
be19ae41d4 AP_HAL_SITL: increase debug for SIM connections
90601c80e9 Sub: Simplify some returns
e229d46612 Sub: Update functions argument names to match with cpp
c5d13847b2 AP_HAL_SITL: set cloexec on sitl-gps file descriptors
6d6366df48 SITL: Sim_Vicon: set CLOEXEC on vicon file decsriptor
b197d05476 Tools: autotest: allow for return of negative values in parameters
e5435e02ad HAL_ChibiOS: report system ID in mavlink and logs
eb2c9dfe74 AP_HAL: define CHIBIOS_SHORT_BOARD_NAME if not defined
a7ecbf29aa waf: define CHIBIOS_BOARD_NAME
e577a5564f AP_HAL_SITL: correct segfault when uartg configured
b9d8f53af2 Rover: correct object avoidance parameter descriptions
ed724bc2be AP_HAL_SITL: strip -w parameter on SITL reboot
975b8c2e5f Tools: autotest: use reboot to apply parameter changes; avoid sim restart
b4d527a9f8 HAL_PX4: support flashing bootloader with MAVLink command
4299eb9ba8 AP_Terrain: Reduce memory consumption, simplify enable checking
e2f5ae6a4c Tools: update bootloaders
76f96bcf71 PX4Firmware: use UPLOADER env var
95b2587c76 waf: use ardupilot uploader for HAL_PX4
c955d7b824 AP_Bootloader: fixed issue loading NuttX firmwares
ca3beb88b7 HAL_ChibiOS: allow for telem1 and telem2 for bootloader on fmuv3
d470c161e8 AP_Bootloader: protect against random input to bootloader
6cf205bdbe HAL_ChibiOS: make sure we populate up to uartG
dd059b89f3 HAL_ChibiOS: added uartG for fmuv4 and fmuv5
759121f0d0 AP_SerialManager: support uartG
9e7d93ff48 HAL_VRBrain: support uartG
5862138a4b HAL_SITL: support uartG
3fe04e941f HAL_PX4: support uartG
9ae6734469 HAL_Linux: support uartG
e120f8be24 HAL_F4Light: support uartG
4ff57bd512 HAL_Empty: support uartG
0a5d287326 HAL_ChibiOS: support uartG
d1fcf2bab6 AP_HAL: added uartG
981a575aa2 Frame_params: rename some aerofc parameters
1a45aa12f5 AP_Param: warn on last pass only about unknown parameters
7f0d5ddf21 AP_Param: stop panic()'ing on unknown parameters
96d4335765 Rover: Crash check based on angle for all rover frames
fd92475ce9 autotest: added more default params for balance bot
04604ced33 Rover: BalanceBot.cpp renamed to balance_bot.cpp
97a260a980 APM_Control: get_throttle_out_from_pitch() accepts dt as argument
10914d88b7 SITL: all unchanged variables declared const in BalanceBot::update()
73e6ce18a0 Rover: Crash checks for Balance Bot
2780d1715c Rover: balance bot pitch control added in all modes
c65405541e Rover: balancing function call moved to manual mode update()
6c2f18cc2f Rover: manual mode support for balancebot
657ff06380 APM_Control: added balancing function for BalanceBot
936ebbe1f3 Rover: Added BalanceBot as a rover frame
6bb5aa5d36 autotest: added default params for balancebot
a40de48809 AP_HAL_SITL: added BalanceBot to SITL_cmdline
3a171c56b5 SITL: Added BalanceBot
5d1d435451 AP_Arming: add type-correctness for is-armed check
72d7181e0d AP_Arming: remove pointless initialisations
81b731b214 Copter: move copter-specific AP_Arming code into Copter subclass
e3dc408295 AP_Arming: move copter-specific code into Copter subclass
576d1a145d Tools: updated bootloaders
963675689c HAL_ChibiOS: fixed substitution of %BOARD%-BL
c44a8309f9 AP_Bootloader: fixed strncmp bug
54dc67e2a9 HAL_ChibiOS: default bootloader product string to XX-BL
946d0208e5 HAL_ChibiOS: fixed stm32f7 cache bug in erase flash page
d183efa720 HAL_ChibiOS: fixed USB string of fmuv5 bootloader
28ad2287c8 AP_Bootloader: for fast boot don't init USB
b6e057dfb9 AP_Bootloader: use RTC sig for fast boot
2b7b499c63 HAL_ChibiOS: added support for RTC sig for fast boot
a3e44b3249 GCS_MAVLink: fix from review comment
bff796af4e Tools: removed annoying print msgs
f7f9d2b0e7 HAL_ChibiOS: added fmuv4 bootloader hwdef-bl.dat
3a5b3b4b1b HAL_ChibiOS: fixed adding bootloader to ROMFS
e332bece0f AP_HAL_ChibiOS: embed any bootloader found for a board
347fbe4ae0 modules/mavlink: reference commit for MAV_CMD_FLASH_BOOTLOADER
4a8614fbbd GCS_MAVLink: handle MAV_CMD_FLASH_BOOTLOADER
a81b3c8a7c AP_HAL_ChibiOS: specify bootloader for sparky2
f07b6f3d78 AP_HAL_ChibiOS: add support for flashing bootloader
b9b0ef0c77 AP_HAL: add flash_bootloader to AP_HAL API
1709c258bf AP_Motors:TradHeli - fix metadata for H_COL_CTRL_DIR
0ee6e41f6e AP_IRLock: Replace find_object with SITL singleton
b66b4775bc SITL: Replace find_object with SITL singleton
32fa7e2c2a AP_RangeFilter: Fix equality comparison with extraneous parentheses
2577e5ff25 AP_HAL: Don't always define GPIO pins, they may be connected to real hardware
72439a053b AP_Notify: Handle LED pins being undefined, select appropriate drivers
c5669a614e AP_Notify: Remove unneeded init guards
565a84efcb AP_Notify: Remove unreachable ChibiOS defines, enable BoardLed
abda44e886 AP_Notify: Move driver deletion to backend creation macro
8e8e9a5a58 AP_Notify: Delete drivers that are not present
d0cd37fabb AP_Notify: Reduce flash consumption, remove unneeded middleware classes
10533fb249 HAL_ChibiOS: enable OSD font on OMNIBUSF7V2
ea3467348e AP_OSD: fixed typo
a86c4d27e1 AP_OSD: fixed CI build error
aeaf695d83 AP_OSD: add ground speed item
fcd351b5c0 AP_OSD: fixed gps stat and messages items, reformat
af96673004 AP_OSD: added screen switch by rc channel
e487f37fd7 HAL_ChibiOS: added font check on startup Based on Andrew Tridgell suggestion
79b289f97e HAL_ChibiOS: reverted change in omnibus hwdef.dat
43d0a61da0 AP_OSD: fixed build
76fd0962e7 AP_OSD: fixes from review comments
06fdc50169 AP_OSD: switched to 2-d arrays
2fb63828bb AP_OSD: use fixed array sizes
2c29d1c297 AP_OSD: tidy ups
5dc3515c83 AP_OSD: fixed X range
8f8107d13f AP_OSD: moved to new parameter system
8e8508a9f3 HAL_ChibiOS: enable OSD for MatekF405
cf19e7a3ae HAL_ChibiOS: enabled OSD on KakuteF4
bc503cc600 Plane: moved OSD to top level params
20dea6df45 Copter: moved OSD to top level params
75bf6984f5 Plane: added OSD support
f63b3c044a Copter: added OSD support
c1d82a43c5 AP_OSD: initial version
568e5a24b4 AP_Notify: initial OSD support
8ce7ef1342 HAL_ChibiOS: added OSD support for MatekF405 and Omnibuspro
35f835a021 HAL_ChibiOS: improved OMNIBUSF7V2 support
b5bc9e5147 Rover: Remove unneeded battery failsafe flag clearing
4d753ab8e0 Tracker: Remove unneeded battery failsafe flag clearing
1c276e6af7 Plane: Remove unneeded wrapper functions
8ae6b2e026 waf: fixed dependency of hwdef.h on hwdef.dat
7cce23671a HAL_CbibiOS: removed unnecessary BOARD_SUBTYPE define
5bf078cc86 HAL_ChibiOS: fixed build with -Werror-sign-compare
d12cf0ab59 waf: added -Werror on signed comparison
37accc96f6 Tools: Added Tyndall AFB to locatons.txt file
14db344c12  AP_RCProtocol: improve s-bus parsing
49d08ba72a Global: remove minlure
d31e85e738 AP_HAL_Linux: fix copy and paste error on gpio table
9eb53e333b AP_Compass: tidy consistency calculations
a92c4aa9fd AP_HAL: Update comment on UARTDriver::begin to reflect automatic clearing
3af6b78d67 AP_HAL_VRBrain: Clear UART buffers when opening a port
8680f1ab52 AP_HAL_SITL: Clear UART buffers when opening a port
512939a839 AP_HAL_PX4: Clear UART buffers when opening a port
7043738f3b AP_HAL_Linux: Clear UART buffers when opening a port
153ee6ca8e AP_HAL_ChibiOS: Clear UART buffers when opening a port
037e53ba8a AP_HAL_ChibiOS: Reduce flash space of UARTDriver
724f34c7e7 Copter: use MAV_SYS_STATUS_SENSOR_PROXIMITY for proximity sensor
e7e0ee0b50 AP_Proximity: add methods covering sensor health, enable and present
a7a6cfa99f Copter: correct comment
ff17c78c67 Copter: create Copter::Mode::_TakeOff subobject from takeoff_state
7883582c65 Copter: move takeoff state into Mode class
597e876953 Copter: clean up do_user_takeoff
cff1969a29 Copter: make do_user_takeoff a member of Mode
cb26ff64b3 Copter: current_mode_has_user_takeoff -> Mode::has_user_takeoff
70d159cb38 Copter: raise EKF failure even if USB is connected
9d51e87762 Rover: Save compass offsets when disarmed and learning is on
2d5cbd2cf8 ArduCopter: report crosstrack_error
bffe3f6c21 AC_WPNav: add getter for crosstrack_error
d977ca091a AP_Arming: Correct an edge case that would not run compass checks
cd5c59773b AP_HAL_SITL: Use SITL, baro, INS and compass singletons
a4d8ed4b75 AP_HAL_SITL: Use reinterpret_cast with AP_Param::find_object
ae378f0fb3 SITL: Use reinterpret_cast with AP_Param::find_object
f68b07df1f SITL: Use SITL singleton
00cb588257 AP_RPM: Use SITL singleton
50613c3800 AP_Proximity: Use SITL singleton
653784479e AP_OpticalFlow: Use SITL singleton
0c06bf89e5 AP_InertialSensor: Use SITL singleton
e456655932 AP_Compass: Use SITL singleton
37fbd6aaa1 AP_Beacon: Use SITL singleton
4ae6bd2c7e AP_Baro: Use SITL singleton
819f08b7f7 AP_AHRS: Use SITL singleton
a0b4553a26 HAL_ChibiOS: fixed bootloader build issue
fe4a18d5f3 Tools: updated bootloader binaries
bf6fb72904 HAL_ChibiOS: fixed 32 bit flash writes
f3a2d63747 Tools: don't generate a _with_bl file for the bootloader itself
77929dabb3 Tools: fixed python3 error in make_intel_hex.py
88ec03ce5a waf: don't build mavlink for bootloader
0546ea69d1 AP_Bootloader: fixed build with no uarts
f71d2a7417 HAL_ChibiOS: support bootloaders with no uarts
277836ccc7 HAL_ChibiOS: added bootloader definition for fmuv3
0ebd05aa1a AP_Bootloader: support changing baudrates on UARTs
e40457d98f HAL_ChibiOS: avoid malloc in usbcfg
fe4aa4bbc7 AP_Bootloader: support uarts and usb for bootloading
369ac5edd0 HAL_ChibiOS: save more space in the bootloader
e870b5f00a HAL_ChibiOS: use 32 bit flash operations when possible
5b208b401f AP_Bootloader: skip erasing already erased pages
feefa05b41 HAL_ChibiOS: expose stm32_flash_ispageerased()
b5fc7f10f3 AP_Bootloader: added flash size limiting on old CPUs
4fbd1e409f AP_Bootloader: make flashing a bit faster
dd1bd43a2e HAL_ChibiOS: added stm32_flash_keep_unlocked()
95f3eb5ab6 HAL_ChibiOS: stop logging before reboot
cfa18b8e70 HAL_ChibiOS: reduce dataflash buffer size on targets with 128KB ram
932cc4bb69 DataFlash: allow HAL to specify dataflash buffer sizes
dc15cbd513 AP_GPS: fixed ublox configuration
1c73c133a9 waf: fixed binary generation order
949af17fa4 Tools: save _with_bl.hex files in firmware download
623a30be55 waf: build hex file with and without bootloader
f73ca2a6ba waf: speed up the bootloader build
f202ff87e2 Tools: only build one target for revo-mini
dc0f2f9319 HAL_ChibiOS: use USB for stdout on more boards
4997898c5b Tools: added bootloaders for new boards
2cfdc98453 HAL_ChibiOS: fixed omnibusf4pro bootloader LED pins
3900949d19 Tools: build a lot more board binaries
b149089830 HAL_ChibiOS: fixed board IDs and added more bootloaders
2f8a534243 HAL_ChibiOS: expand param storage on F4 boards with flash storage
b983caa97e StorageManager: allow for 15k storage
49de205a06 Tools: Git Success - Tom Pittenger
b555370e07 Tools: build_binaries: remove build directory before configure
5b46adf3fb waf: fixed chibios upload
e2d29fe1db Tools: install intelhex package for CI
8fbe57c82e Tools: added new bootloaders
338ff6ae64 waf: automatically build intel hex fw when possible
e868a4fe8b HAL_ChibiOS: set FLASH_RESERVE_START_KB in the environment
1c807e0078 HAL_ChibiOS: added option to limit size of bootloader
4cafcc4eae travis: added revo-bootloader to CI
ae1d1cad5e Tools: added a script to build all bootloaders
fd055bfa58 Sub: use check_failed function
23919daf11 Plane: use arming check_failed function
3f0a56a818 Rover: use arming check_failed function
291102360a Copter: use check_failed function
cba61598b1 AP_Arming: a check_failed function
a44c1378f7 GCS_MAVLink: add send_textv functions
b94e31b21a Tools: remove warning about native clang builds
c31e59e159 waf: fixed gccdeps issue
290f050575 waf: enable gccdeps, using gcc dependencies
ad49f4fdbf waf: fixed declaration of ap_romfs_embedded.h
796291f176 AP_GPS: improved ccache build speed
e11b3f2f0e HAL_ChibiOS: run CAN thread at 3KHz
a7ce864296 AP_Bootloader: added mcu files
d88b710ea9 HAL_ChibiOS: added more bootloader hwdef-bl.dat files
c1d4362555 AP_Bootloader: added MCU descriptions
518d41e0d4 HAL_ChibiOS: added OTP defines
ba9faafc98 AP_HAL: added MatekF405-wing subtype
ae84202bf2 HAL_ChibiOS: added MatekF405-Wing hwdef.dat
14f66461a7 HAL_ChibiOS: shrink build size for bootloader
c28296e6f2 AP_Bootloader: added simple std c function to reduce flash space
661259de4e HAL_ChibiOS: reduce .text aigment to save flash space
b3bbb0c389 waf: removed bootloader variant directory
a0e17ab1ed waf: avoid formatting issue in emacs
f0e0b1baaa AP_Bootloader: only build bootloader when --bootloader configured
608490f5ae HAL_ChibiOS: fixed cube-orange bl build
4c2c2012a6 waf: allow for "./waf bootloader"
f9faa0765d HAL_ChibiOS: fixed bootloader IDs
0ae25787c0 waf: added a --bootloader configure option
3fc6824bfb HAL_ChibiOS: setup more bootloader config files
6771a3d65a waf: support Hex USB IDs in px_uploader.py
0cd46c063c HAL_ChibiOS: fixed flash driver for F7
82428dfbc6 HAL_ChibiOS: added f405-bl hwdef.dat
3ef88e1b8f HAL_ChibiOS: allow flash support for bootloader
5216870492 HAL_ChibiOS: avoid strstr in usbcfg
c12d14d7a4 HAL_ChibiOS: check for ChibiOS features
03f67d82c9 HAL_ChibiOS: allow more ChibiOS functionality to be disabled
e3a23921a2 HAL_ChibiOS: fixed FLASH_LOAD_ADDRESS
e7c43b9df7 AP_Bootloader: initial version of ChibiOS bootloader
d14b37e89c Sub: Change from labs to abs for floats
cbef5db174 Sub: Simplify return logic
87c09f98cc AP_Camera: Change from labs to abs for floats
997a527c1b AP_Arming: cache results of get_gyro_count and get_accel_count
4055256878 AP_Arming: cache AP_HAL_millis
410e72f83c AP_Arming: break out a gyros-consistent method
d2b8ea4bb0 AP_Arming: break out an accels-consistent method
ceab853c86 Possible NULL pointer dereference in libraries/AP_HAL_F4Light/hardware/hal/timer.c
7cdb05ccc0 Tools: add default-parameter-filename sanity check
480017f190 AP_Notify: search for 4 buses in AP_Notify
1c054f0e4a HAL_ChibiOS: fixed clock line on fmuv5 I2C4
f401dc1a77 GCS_MAVLink: fixed error in SITL for ESC_TELEMETRY
5eab425065 Sub: added ESC_TELEMETRY to mavlink streams
d454bc555e Plane: added ESC_TELEMETRY to mavlink streams
b43316d743 Copter: added ESC_TELEMETRY to mavlink streams
667ad98057 Rover: added ESC_TELEMETRY to mavlink streams
a8f99882ba HAL_ChibiOS: allow FrSky_INV to be controlled as GPIO
5de516dd6a AP_HAL_SITL: remove underscore prefix for local variables
06c41bc768 AP_HAL_SITL: re-use unused FDM address option for FG view IP address
46868409ec AP_HAL_SITL: remove unused code
f984e5e31d Plane: use magic force arm/disarm definitions
ca8a1ae488 Copter: use magic force arm/disarm definitions
27cd972331 GCS_MAVLink: add magic number definitions
d8128ba69a AP_Arming: option to force arm, bypassing checks
fd9ce90b8e Copter: option to force arm, bypassing checks
f5e241af01 Plane: option to force arm, bypassing checks
4d6408857f Copter: return appropriate response to failed disarm
6e2076a3f1 AP_HAL: Remove resource leak in srxl.cpp
b63b00f84e Tracker: remove usb-mux checking
87a3fcdd02 Rover: remove usb-mux checking
eb1ae22bb1 DataFlash: fixed inconsistent state after interrupted log download
dd93539098 github: update issue templates
e455958c87 SITL: fixed build with new vicon_position_estimate message extension
484369ea26 mavlink: submodule update
5495e98483 GCS_MAVLink: build fixes
9638f6cab9 AP_BattMonitor: changes from PR review
05a8a5c173 AP_BLHeli: changes from PR review
d8925a6b7f mavlink: added ESC_TELEMETRY messages
4e4e5a2feb GCS_MAVLink: send ESC telemetry messages
dc9ae42067 AP_BattMonitor: added ESC telemetry virtual battery
34bbd29f25 AP_BLHeli: send ESC telem packets over MAVLink
f2a842e415 AP_HAL_SITL: set_cloexec on SITL's RCIN port
584c5d5806 AP_HAL: Socket: add set_cloexec
574a2b3652 AP_HAL_SITL: set cloexec on port 5760
e3b68876a9 HAL_ChibiOS: fixed tx_len on tx DMA timeout
8431a677d9 HAL_ChibiOS: added a timeout to DMA UART TX
cad7f9d9c0 GCS_MAVLink: tidy waypoint receiving part of update
5665feb29e Tools: Replay: use AP_FWVersion singleton
c17514cf85 Sub: use AP_FWVersion singleton
1a1ae54e07 Tracker: use AP_FWVersion singleton
485cafb343 Copter: use AP_FWVersion singleton
ab6cf171da Rover: use AP_FWVersion singleton
2b7f9247e8 Plane: use AP_FWVersion singleton
4168bd709c AP_Frsky_Telem: use AP_FWVersion singleton
ceaadc4cce AP_SmartRTL: use AP_FWVersion singleton
7d52746267 AP_Scheduler: use AP_FWVersion singleton
c333a905df GCS_MAVLink: use AP_FWVersion singleton
611dcb694b DataFlash: write CHIBIOS_GIT_VERSION to opened log file
6ba1678c5e AP_Common: AP_FWVersion: create singleton
e9a07bdd6f Tools: create CHIBIOS_GIT_VERSION build-time define
beb2147191 DataFlash: use #define instead of constant 90 for data length
fba185cefb DataFlash: Fix GPS units
97b93920b3 AP_HAL_Linux: fix memory leaks
8ae2729022 AP_HAL_ChibiOS: fix memory leaks
03babfdc3c Rover: fix RNGFND_TURN_ANGL param description again
9efa7ad635 Rover: fix RNGFND_TURN_ANGL range
acfbce95a6 Rover: update NTUN logging
0199a6b273 Tools: Add my name
ad6fca8e57 Tools: Update GIT_Success.txt
a970eacf49 Copter: Do not use the Delay method wrapper.
1c4bf3d804 HAL_ChibiOS: fixed build warning
46213eb97e chibios_hwdef: fix wrong uart index
a976d105c6 ChibiOS: submodule update
00d919018b HAL_ChibiOS: added RTC clock implementation
1283b92cb7 DataFlash: fix for new AP_RTC API
312ac7dc73 AP_RTC: return 0 from get_utc_usec if rtc not set
f83e65e04e AP_RTC: add parameter for source types we will set the system time from
22a94addd5 AP_BoardConfig: add parameters for AP_RTC
f5eb281efd AP_HAL: use AP_RTC
00153f513c AP_HAL_SITL: use OS clock for get_hw_rtc
973fe57827 AP_Stats: use AP_RTC
9824832523 Plane: use AP_RTC
9f6d186bea Tracker: use AP_RTC
4cc236b8a7 Sub: use AP_RTC
078d90132c Copter: use AP_RTC
9b269b1b56 Rover: use AP_RTC
5b41db5120 AP_GPS: use AP_RTC
721feaf40f GCS_MAVLink: use AP_RTC
f6eb7e2ba5 AP_HAL_F4Light: remove un-needed methods
89d532b557 AP_HAL_VRBRAIN: use common methods for setting time
3bdbe3b63c AP_HAL_PX4: use common methods for setting time
c9dbdd7a5c AP_HAL_Linux: clarify method name, use common methods for setting time
e92b3f0a63 mk: always include AP_RTC in builds
09a9abb3a8 Tools: include AP_RTC in all waf builds
59d1d8aecc AP_BoardConfig: instantiate an RTC
ece7ff874c AP_RTC: a library to handle epoch-time
6af0dcfed0 AP_Math: create a constrain_int64
01e0c03a12 AP_Scheduler: add singleton
676f60333a DataFlash: Fix power units
5d20699975 HAL_F4Light: removed ST licensed files from HAL_F4Light
c0bfc77701 HAL_F4Light: removed submodules
777b4c8cfe DataFlash: avoid stat of current log file
8a2f1fdb3d AP_Airspeed: fixed airspeed filtering issue
10ca1e78e8 HAL_ChibiOS: switched to Mode3 on SPI1
b9528afcd2 ChibiOS: submodule update
9d248456e4 HAL_ChibiOS: re-enable I2C4 DMA for F765
ad3eca4e6b HAL_ChibiOS: fixed I2C4 DMA streams
62e8fbb9d3 HAL_ChibiOS: fixed OMNIBUSF7V2 hwdef.dat
f4f086d208 ChibiOS: submodule update
e068106669 HAL_ChibiOS: support I2C devices on STM32F7 without DMA
2af8e673cc Copter: add cork-push to esc calibration
41767e0458 Copter: esc calibration fix
0d2b70e607 GCS_MAVLink: fix ATT_POS_MOCAP timestamp handle
d3da8f2914 Sub: Add attitude control with althold via mavlink
3701fc0937 Sub: Move from micros() to AP_HAL::micros()
4de371743e Sub: Move from millis() to AP_HAL::millis()
a856f747aa Sub: Organize descend climb_rate calc
3ca520021b Rover: version to 3.4.2-dev
a566ad48e9 Rover: 3.4.1-rc1 release notes
c650c52577 Rover: 3.4.0 release notes
5e7b37f0b2 AR_AttitudeControl: remove constraint on steering output
f0780c7bb1 AP_MotorsUGV: minor comment fix
1c0d9c7512 AP_MotorsUGV: MOT_SPD_SCA_BASE param for min speed scaling
5faff519c3 AP_MotorsUGV: steering limits and constraint done by each output handler
95eda5d9b7 RC_Channel: Remove unneeded interfaces
c85f8c7bf5 Rover: Simplify radio trimming, improve MAVLink report
12da35220c Plane: Simplify radio trimming, improve MAVLink report
b69155793f Rover: add Log_Write_Depth
d34c87a457 Rover: alphabetise Log_Write methods
c51b38cd1c Rover: rename Log_Arm_Disarm to Log_Write_Arm_Disarm
10d89f1315 Rover: remove unimplemented Log_Write_Performance declaration
9fbe6e624a Git: Add .gdbinit to list of ignored files
fae8d1e489 Plane: Log navigation target location
b225868711 AP_Compass: detect conflict between AK09916 and ICM20948
c4175be7aa AP_Camera: explicitly specify floats
32b8b86019 Sub: move handling of MAV_CMD_DO_GRIPPER up
955baa47c2 Copter: move handling of MAV_CMD_DO_GRIPPER up
2cdcca2841 Plane: move handling of MAV_CMD_DO_GRIPPER up
b0aeec4b6a GCS_MAVLink: move handling of MAV_CMD_DO_GRIPPER up
ef33d62cc3 mk: include Gripper in all builds
684482295e Tools: include Gripper in all builds
8a3df17a07 AP_Gripper: add singleton
289b93c3d0 HAL_ChibiOS: added parse_timer to chibios_hwdef.dat
e440583a7c Copter: Beeping when first reaching waypoint while in holding there
5df4b9f6fd Beeping when first reaching waypoint even while in holding there
75c2a2b02a Copter: check for fence breaches when disarmed
4d5e258b19 AP_NavEKF3: Delete unused definitions
a9b2b9dddf AP_NavEKF2: Delete unused definitions
631d8f5423 Rover: accept do-change-speed commands with high speeds
a08a955cbc Rover: accept DO_CHANGE_SPEED commands
8464e82812 Rover: set_desired_speed range checks speed
b614ca9b75 AR_AttitudeControl: disable limits when _ACCEL_MAX is zero
d8a7618e15 Plane: update use of AC_Loiter controller for quadplane
b4d2406062 Copter: Tradheli - fixes collective jump on rotor shutdown in althold and loiter
30e0c7f746 AP_HAL_SITL: use FD_CLOEXEC instead of linux SOCK_CLOEXEC for socket
56cc0d3ef7 AP_BoardConfig: comments
2055f264e5 AP_HAL_ChibiOS: helper func
df6b7ed5ea AP_Compass_UAVCAN: update
9985d4a937 AP_GPS: uniform naming
13954f97cf AP_Baro: helper func
f7e9ce44b1 AP_BattMonitor: helper func
9195ba80fc AP_Compass: helper func
9f27a65f4b AP_GPS: helper func
05c8d4cc36 AP_HAL_PX4: helper func
0e3ad3f48d AP_HAL_VRBRAIN: helper func
71791d22cd AP_UAVCAN: helper func
baa6daf270 AP_Compass: reducing indenting by linearizing the logic
857bd4f775 AP_BoardConfig: reducing indenting by linearizing the logic
dc228a25fa AP_BattMonitor: reducing indenting by linearizing the logic
f8da16d11a AP_Baro: reducing indenting by linearizing the logic
a805b3ce18 AP_GPS: reducing indenting by linearizing the logic
0d52f6d2de AP_UAVCAN: reducing indenting by linearizing the logic
b190b6793b AP_HAL_VRBRAIN: reducing indenting by linearizing the logic
2a6387fd3b AP_HAL_PX4: reducing indenting by linearizing the logic
7dd8308a8c AP_HAL_Linux: reducing indenting by linearizing the logic
70a23724b5 AP_Follow: Add FOLL_ALT_SOURCE parameter, 0: absolute, 1: relative
5a8d04e8f5 Sub: Simplify some returns logic
8c485e1a9e Tools: set ground effect comp in tradheli default parameters
c8f4227313 Rover: remove SPEED_TURN_GAIN
ccb1042074 Tools: update sitl rover default params
645edf1f57 Rover: wp_overshoot used to limit speed in Auto
76750a1d9d scripts: added fmuv5 to autobuild
ab946b5d76 HAL_ChibiOS: disable debug code for FMUv5
2424e38ed2 HAL_ChibiOS: Update cube-orange hwdef.dat for USB IDs
058e83c180 HAL_ChibiOS: switched cube-orange SPI1 devices to Mode0
2df0a71a4b HAL_ChibiOS: fixed flash load address in hwdef.h
3a7c1b4d42 HAL_ChibiOS: switch BMI055 to mode0 on fmuv5
89b8124560 AP_InertialSensor: added BMI055 IMU driver
cf1f2f9aeb Rover: move motors_active to be motors.active
65b7ca3fbb Rover: factor out a do_aux_function_change_mode
36705af8ff Rover: create an enumeration to hold vehicle mode constants
b32b57ad75 AP_HAL_Linux: change SPI Bus for PocketPilot final design
520e33261a AP_AHRS: fixed EKF type 10 for SITL
3be9077ba9 HAL_ChibiOS: added FMUv5 FMU capture pins
1bbf4a4648 ChibiOS: added TIM12 support for PWM out
c05086430d HAL_ChibiOS: fixed hwdef.h generation for PWM on tim12
63087b6425 HAL_ChibiOS: enable fmu out 7 and 8 for fmuv5
2d9df83ed5 AP_Compass: probe for ist8310 on bus 2 as well as 0 for fmuv5
a97e37be9f Copter: 3.6.0-rc2 release notes
4e3bbe9311 Copter: move sanity check for rangefinder alt to within protected func
4c8c85f75b AC_WPNav: remove pointless initialisations
fa0b315374 AC_WPNav: use rangefinder for terrain offset even if terrain not available
ab68e4fe8b Copter: log quiet-nan for rangefinder-desired-alt when not using it
eac5d13f1c HAL_ChibiOS: use 2 channels in SoftSigReaderInt.cpp
fd45b3a69b HAL_ChibiOS: slightly increase EICU interrupt priority
73d33356ad HAL_ChibiOS: detect overcapture in SoftSigReaderInt.cpp
9e4ec33277 AP_RCProtocol: add error check for ppm input
7a1f87eb52 HAL_ChibiOS: added cube-orange hwdef
1123023a6f AP_HAL_ChibiOS: Wrap process registration with a semaphore
a832bdfd04 AP_HAL_ChibiOS: fix race condition on analog reading
80d1a1de9a AP_HAL_Linux: Remove timer process suspension interface
0f2482f05b AP_HAL_SITL: Remove timer process suspension interface
a2dfca2fee AP_HAL_VRBrain: Remove timer process suspension interface
a833e93708 AP_HAL_PX4: Remove timer process suspension interface
4a9fe1745f AP_ChibiOS: Remove timer process suspension interface
b1f2fb96a0 AP_HAL_F4Light: Remove timer process suspension interface
dbd852bbb6 AP_HAL_Empty: Remove timer process suspension interface
1183ed61fb AP_HAL: Remove timer process suspension interface
c4a66349ef DataFlash: Remove suspend timer calls, restirct flush() to replay
1ed6a9d34b HAL_ChibiOS: added MCU tables for STM32F777
d1caa86e12 HAL_ChibiOS: adjust DMA priorities for fmuv3
c0e8114f9a AP_BLHeli: removed extra UDID_START define
c273b23940 HAL_ChibiOS: moved MCU config to python database
f390e35c99 HAL_ChibiOS: use port_disable in reboot
a1c97d0585 HAL_ChibiOS: disable paranoid checks for fmuv5
a945c97ec6 HAL_ChibiOS: fixed 3-way DMA sharing bug
0e09dc75c0 HAL_ChibiOS: flush all memory on chSysHalt()
dc2a776985 AP_GPS: fixed fake ublox 3D lock PVT speed accuracy
2493cdbcb6 HAL_ChibiOS: switch to new bouncebuffer system
0b1e26a470 HAL_ChibiOS: added bouncebuffer system
04774d309c ChibiOS: submodule update
56ce3f057d HAL_ChibiOS: added DRDY and SDMMC pins for FMUv5
018c9ad40b HAL_ChibiOS: fixed build warnings
f25b95f287 HAL_ChibiOS: fixed array length in ADC debug code
fef1b0ffc6 HAL_ChibiOS: fixed I2C flush/invalidate calls
0fade4eb9e HAL_ChibiOS: make sure the UART bounce buffers are DMA safe
eec4a12cc2 HAL_ChibiOS: switched to using DTCM memory for DMA
8b1db792ee HAL_ChibiOS: ensure ADC memory is aligned for DMA access
bb2e7a189f HAL_ChibiOS: added a debug function for showing stack free
010cd71ab6 HAL_ChibiOS: enable CAN on FMUv5
2087354939 HAL_ChibiOS: align buffers to STM32F7 cache lines
762e4f9915 HAL_ChibiOS: fixed dma priorities for fmuv5
77d95f6744 HAL_ChibiOS: fmuv5 tweaks
a220220758 HAL_ChibiOS: added comment on IS_DMA_SAFE()
4d4ea894e8 HAL_ChibiOS: disable i2c device debug code
11b327e336 scripts: update decode_devid.py for new IMUs
edb831653f HAL_ChibiOS: added dma_flush and dma_invalidate operations
7449e15313 HAL_ChibiOS: disable flash storage option on FMUv5
b961e12456 HAL_ChibiOS: support having no flash storage option
2d8748ddce HAL_ChibiOS: enable ADCs and buzzer for fmuv5
6aab9232ef HAL_ChibiOS: enable aux pwm channels on FMUv5
3242b5eeb9 AP_IOMCU: fail to boot if IO firmware CRC and update fails
677b5f94b2 AP_BoardConfig: allow for non-bool BRD_IO_ENABLE
db9bf19e46 HAL_ChibiOS: enable i2c for FMUv5
99540a184c AP_Compass: enable FMUv5 compass
77bb69fa2e HAL_ChibiOS: enabled UARTs for FMUv5
ac44189ab2 HAL_ChibiOS: setup two IMUs for FMUv5
ccdfc75dd9 AP_Compass: placeholder for FMUv5
bfa66c9397 AP_InertialSensor: detect two IMUs on FMUv5
0047807fbf AP_IOMCU: fixed build error on F7
721f3cd5d1 HAL_ChibiOS: fixed flash layout for F7
ae1a58ecb8 AP_Baro: added FMUv5 support
751f290be6 AP_BoardConfig: setup FMUv5 for board detection
01f5d1a17c HAL_ChibiOS: first IMU working
eca634ec62 HAL_ChibiOS: support 6 SPI buses
4ad757b4d1 HAL_ChibiOS: fixed pincount for F7
876899c48d HAL_ChibiOS: baro and FRAM working for fmuv5
8d2f57898b HAL_ChibiOS: adjust pin counts for STM32F7
1f6ffc48e5 HAL_ChibiOS: allow STM32F7 to build with flash driver
0774a267c8 AP_HAL: added define for FMUv5
7c09a1781b HAL_ChibiOS: started on fmuv5
b95fe2b8b1 Copter: rename SPRAYER-enabled-define to SPRAYER_ENABLED
b331ddd49b GCS_MAVLink: Remove some common wrappers, fix excessive FALLTHROUGH
0fcf07fde7 RC_Channel: Remove input() method from individual channels
47c0048499 Plane: Remove manual polling of flap input channel
cc772710ec Rover: Rework to support override changes
c642d1ed74 Sub: Rework to support override changes
6c94811e00 Copter: Update to support new RC override conventions
a98a8d0789 Plane: Update to support new RC_Overrides conventions
1f1ba54990 AP_HAL_VRBrain: Remove RC overrides
9c288df8d7 AP_HAL_SITL: Remove RC overrides
dc4f1786f6 AP_HAL_F4Light: Remove RC overrides
45a13c868b AP_HAL_Empty: Remove RC overrides
593da25a7a AP_HAL_ChibiOS: Remove RC overrides
4d83644bd6 AP_HAL_PX4: Remove RC overrides
737c4ac36f AP_HAL_Linux: Remove RC overrides
627c7536f4 AP_HAL: Remove overrides interface
4253c7f74d RC_Channel: Move overrides out of the HAL
0b8b23baf6 Tools: adjust tests for vfr_hud getting absolute altitude
1dbfb9943c Sub: make VFR_HUD always return height above MSL
6d9a131a26 Copter: make VFR_HUD always return height above MSL
e50a817150 GCS_MAVLink: make VFR_HUD always return height above MSL
749861f8ad Plane: Only send healthy airspeed reports
44f2a652f3 Plane: Remove software type param
5a0a8a6705 Sub: Remove software type param
749e0acd10 Copter: Remove software type param
0ccacf2a96 Tracker: Remove software type param
0ad2750f55 Rover: Remove software type param
dcc25838fb CI: Run param parse last, on all CI instances
f0a6cd5846 AP_NavEKF3: Clarify the message
1e011c0c15 AP_NavEKF2: Clarify the message
31c6d7aaa0 Sub: Location gets ahrs from singleton
7015d42ab2 Copter: Location gets ahrs from singleton
dc202c1ff9 AP_Common: Location: use AP_AHRS singleton
9a345160c1 AP_Common: fail attempts to use frame-above-home if home is not set
3694f085dc Sub: move try_send_message handling of EKF_STATUS_REPORT up
9437e893e5 Plane: move try_send_message handling of EKF_STATUS_REPORT up
78d2c52a3f Copter: move try_send_message handling of EKF_STATUS_REPORT up
424d243c7f Rover: move try_send_message handling of EKF_STATUS_REPORT up
69db7b040a GCS_MAVLink: move try_send_message handling of EKF_STATUS_REPORT up
4d944da530 AP_AHRS: add a singleton-getter cast into AP_AHRS_NavEKF
c83ff0e156 Rover: 3.4.0-rc1 release notes
e3ddf7dadd Copter: rename SPRAYER-enabled-define to SPRAYER_ENABLED
fb99ea0446 AP_Rangefinder: Update WASP defaults
67475a9eaa AR_AttitudeControl: reset turn-rate I term if not run for 0.2sec
99cf279dff AP_RangeFinder: remove unused definitions from MaxSonarI2C
1e058045f7 Rover: guided mode more forgiving of set-position-targets type_mask field
98e87db274 AP_RangeFinder: MaxsonarI2C reports no data after 300ms
4b4e66e2bd Copter: correct comment about mode change
db60e93716 Copter: correct comment on deprecated switch option
48a4523a73 Sub: fix comments in config.h
b8d47f346e Copter: fixed interlock check on helis
25961b6d13 Copter: flip mode format fix
0ba105f649 Copter: minor format fix to guided
26c25daa36 Rover: add support for lateral control input
0baee6f82b GCS_MAVLINK: avoid pushing partial RC_CHANNEL message into uart
b615677223 HAL_SITL: implement reboot support
7732b41186 AP_HAL_SITL: fix static member access through instance
f986f1366f AP_HAL_SITL: set close-on-exec flag on uart socket
e520d4fe42 AP_RangeFinder: Benewake TF02 and TFmini lidar driver
2c41db9e4d AP_RollController.cpp: Updated description of ArduPlane Roll Controller for accuracy
6213b452ca ChibiOS: idle line callback for USARTv2
73bdc3be09 Rover: set ahrs flyforward if thr over 15% for 2 seconds
e691b680ca AR_AttitudeControl: add speed-control-active method
3b71d0360a AR_AttitudeControl: const get_decel_max and get_stopping_distance
3ecc0ea6c8 Tools: add hydrotek boat default parameters
19fd133ef8 SITL: correct compilation for transitive include fail
12853f8912 Rover: correct compilation for transitive include fail
1aaf7e96af GCS_MAVLink: remove intermediate functions
ac729f4614 Plane: lock home when it is set from the GCS
18c4823427 Plane: return MAV_RESULT_ACCEPTED for setting home to current location
bc9df01d21 Plane: remove sending of statustext for home location
22306c370b Plane: factor out a Plane::set_home
69d8980608 Sub: split home-set and home-locked state
ad600fff68 Plane: split home-set and home-locked state
c09ccf5b61 Copter: split home-set and home-locked state
7be25fccea Tracker: split home-set and home-locked state
c99cc465e6 Rover: split home-set and home-locked state
28b4794816 AP_Common: remove unused HomeState
3cbb88ae20 AP_AHRS: split home-set and home-locked state
1f31bd21c4 Sub: create persist_streamrates() callback to indicate persistence
5a087ee7e2 Plane: create persist_streamrates() callback to indicate persistence
7c98082389 Copter: create persist_streamrates() callback to indicate persistence
3bffe3c345 Tracker: create persist_streamrates() callback to indicate persistence
829d18874e Rover: create persist_streamrates() callback to indicate persistence
d8871078ff GCS_MAVLink: create persist_streamrates() callback to indicate persistence
879f250fac GCS_Common: return airspeed sensor value in vfr_hud_airspeed
18c494b25f Sub: move sending of vfr_hud up
9d83ee8cc7 Rover: move sending of vfr_hud up
8b4ffb11f5 Plane: move sending of vfr_hud up
5f2221fe74 Copter: move handling of VFR_HUD into GCS_MAVLink_Copter
d1174bcf70 GCS_MAVLINK: move try_send_message handling of vfr_hud up
1331e6ca14 AP_Soaring: const some accessors
2425c65e74 Copter: implement 'air-mode' for copter
0d56526400 Copter: added de-bouncing of aux switches
945a392409 Tool: Add name to GIT_Success.txt
abd5bffda5 AP_Airspeed: Clean up some comments, prevent a potential out of range access
84b1a6a58b APM_Control: Supress some compilier warnings about strncpy
b2d8f6e788 AP_Rangefinder: Fix bad fallthrough from NMEA driver
08228efc72 AP_Rangefinder: fixed param docs for Wasp backend
3b8d5ea4cf AP_Rangefinder: fixed param handling for Wasp backends
b678302aed AP_Rangefinder: Add WASP 200 LRF backend
f2ac48a33e Tools: update holybro kospi1 default
268fac0fba Tools: default params for Holybro Kospi1
e1d264d419 ChibiOS: submodule update
a011561a6a HAL_ChibiOS: support sdcard on MatekF405
5f59be4ce9 ChibiOS: added mmc hooks for SPI sdcard
ea37cede28 HAL_ChibiOS: stop sdcard interface on reboot
86ded2c40c HAL_ChibiOS: cleanup sdcard API usage
d28283e302 AP_HAL: added clock_pulse() method to SPIDevice
52c8d3ed9f HAL_ChibiOS: fixed SPI select error
2c55589488 HAL_ChibiOS: added hwdef for MatekF405
83e65b3c6e HAL_ChibiOS: turn on sdcard on f4by
66de6d770a HAL_ChibiOS: Enable reentrancy on FatFS sybsystem
6b15b2f44f HAL_ChibiOS: Enable sdcard on spi bus
7b720aae46 HAL_ChibiOS: allow printf() to work on systems without debug console
dbe0f3c575 HAL_ChibiOS: fixed assert in reboot
79ca1e76c0 HAL_ChibiOS: improve reliability of reboot
d1fe9e6c67 uavcan: fixed short spin times with uavcan on ChibiOS
99ca0ea913 AP_BoardConfig: moved BRD_PWM_COUNT to common code
7e897c16c0 HAL_ChibiOS: maintain rcout state beyond BRD_PWM_COUNT
0fd8d94924 SITL: Fix printf format warning
053f124492 GCS_MAVLink: fix FALLTHROUGH warning
177c4c2d44 Tools: Accept mAh as a unit
d73c16698a AP_BattMonitor: Update param docs to be more UX friendly
9ada804489 AP_ADSB: fix snprintf warning
a1fd1cb9b2 Copter: avoid keeping buzzing while in holding at waypoint
938dc2e47d GCS_MAVLink: resolve compiler warnings correct_offboard_timestamp
fbd80ef897 AP_UAVCAN: fixed build on revo
91d2b19e23 AP_UAVCAN: use take_blocking() method
e2ea654b77 AP_HAL: added take_blocking() method
49dfccbcee AP_UAVCAN: fixed build of example on px4
92cda24659 AP_UAVCAN: efficiency improvements
438a7dd79a AP_UAVCAN: increase message timeout to 2ms
b8ae43c30b AP_UAVCAN: added a servo rate limit parameter
afb36ec168 HAL_ChibiOS: run can loop much more often
0dc77421e8 AP_UAVCAN: a simple UAVCAN sniffer based on AP_HAL
5f8bff8f3e AP_UAVCAN: set timeout for periodic msgs to 1
4c51edfaca AP_UAVCAN: move UAVCAN code from SRV to UAVCAN files
1a15a2e749 SRV_Channel: move UAVCAN code from SRV to UAVCAN files
66438041ad SRV_Channels: helper func
938f19c154 SRV_Channel: move push_UAVCAN to private
60db4016a7 AP_HAL_VRBRAIN: UAVCAN servo removal
94f8c81d84 AP_HAL_PX4: UAVCAN servo removal
1a888c16f4 AP_UAVCAN: Change for servo and ESC interface from RCOutput to SRV_Channels
afce24e45d SRV_Channels: integration of UAVCAN Servos and ESCs
c410feefa1 AP_HAL: add CAN bus declaration for the intel aero board
68ec9f4119 Tools: add CAN bus declaration for the intel aero board
7134a4bdf6 AP_Avoidance: track src with correct label - use MAVLink label
8cea9a3beb HAL_F4Light: Fixed I2C initalization for Airspeed sensor on MatekF405CTR board
06da94dcea HAL_F4Light: fixed non-inverted SBUS parsing
6d3a879219 HAL_F4Light: fixed ADC field description
7d6d9d4f3d HAL_F4Light: changed pin definitions from #defines to enum
47451be875 AP_RCProtocol: add support for non-inverted s-bus
70cef2f61e Rover: report set-attitude-target capability
f668d0dc57 GCS_MAVLink: enhance TIMESYNC handling
3a62bca7d0 AP_HAL_ChibiOS: Make redefined pins an error, fix FMUv3
8427b569b6 GCS_MAVLink: replace /* fall through */ with FALLTHROUGH;
594911f0b4 DataFlash: replace /* fall through */ with FALLTHROUGH;
88dc17fe6e AP_HAL_Linux: Storage: fix initialization
1f3b7b5687 AP_HAL_Linux: Storage: fix writing garbage while creating file
5526997d45 AP_HAL_Linux: Storage: prefer custom storage
ff6e76ea6a AP_HAL_Linux: add custom storage directory
9e538632b3 AP_HAL_Linux: use AP_HAL_STORAGE_DIRECTORY
a56106cccb AP_HAL: use buildsystem for default directories
2916a3f40c build: add --apstatedir for Linux boards
1e7ad72909 AP_HAL: use default storage for more boards
b95ac72d35 Rover: add LOITER to ch7 options
85efab1ec8 AP_RangeFinder: reduce MaxsonarI2C update to 10hz
fd2e5741ce AP_RangeFinder: MaxsonarI2C formatting fixes
25475b65d9 Copter: proximity sensor reports laser unhealthy when no data
e1d80e547d Rover: proximity sensor sets laser unhealthy when no data
60b9f6f9c0 Rover: report laser as healthy even if not used for avoidance
3f749051d3 AP_RangeFinder: NMEA sonar driver
51a0cbc1da Rover: loiter slows using attitude control get_desired_speed_accel_limit
fc35e74821 Rover: pass dt to attitude controller
a7fbfe7767 AR_AttitudeControl: caller provides dt instead of calculated internally
c032095c80 AR_AttitudeControl: reduce default accel max to 2m/s/s
856d592b1d AR_AttitudeControl: accel limit stops
444e64a3d0 Rover: slow before pivot turns
4dca1c48f2 Plane: update vehicle max_speed to ADSB library
657f515f40 AP_ADSB: add cfg_out passthrough parsing
3653ba61d7 AP_Math: add is_valid_octal helper function.
c59be8bafe Tools: add "octal" param unit
0a04a2a8c2 AP_Beacon_Marvelmind: Relax the precision of the position of Hedge
4f26bc7cad AP_Beacon_Marvelmind: Record the timestamp once, on success.
372fba2152 AP_Beacon_Marvelmind: Added some debug messages
64fdefe7cf AP_Beacon_Marvelmind: Refactor variables
358b3d222b AP_Beacon_Marvelmind: Simplify the Marvelmind structure.
8957111f26 AP_Beacon_Marvelmind: Remove unused variables
b0e4a57a93 AP_Beacon_Marvelmind: Remove unnecessary structures.
ad05a5c694 AP_Beacon_Marvelmind: Add function to find beacon's instance for the given address.
fa575e2a9a AP_Beacon_Marvelmind: Update the link to Marvelmind's repo
63b0883b38 DataFlash: correct structures debug method
1844ccdab8 DataFlash: correct labels for NKT1 and NKT2 messages
420b9869f7 Sub: move sending of simstate up
d705dbcfc1 Tracker: move sending of simstate up
8101f2b573 Rover: move sending of simstate up
ef77bea4eb Plane: move sending of simstate up
81e9edd80a Copter: move sending of sim state up
e9d2be143a GCS_MAVLink: moving sending of sim state up
a137afd11b SITL: add singleton
24dd9a1c2c Rover: update GPS at 50hz
cc53b9c39d Rover: update current_loc in update_ahrs
d7821635c0 Rover: seperate acceleration/deceleration limits
832778e471 AR_AttitudeControl: add separate decel limit
b36f1c558d DataFlash: use const char * rather than fixed array lengths in LogStructure
014702fc64 Changed Argument Parsing for sim_vehicle.py
b014b6c857 AP_Baro: Use SSL variables
237101a50e AP_Airspeed: Use SSL air density
0c18b43351 AP_ADSB: Use SSL air pressure value
1ca6647b2e AP_Math: Create Standard Sea Level variables
54ab0b9099 HAL_F4Light: updated OSD submodule
43c6f87290 AP_Radio: fix fallthrough with ArduPilot macro
f3179e7934 HAL_ChibiOS: improved reliability of DShot passthru
31e7131c33 Tracker: add type-correctness for stream messages
148756bc1c Sub: add type-correctness for stream messages
2a68eca273 Plane: add type-correctness for stream messages
e377debf25 Rover: add type-correctness for stream messages
ec1539f9c8 Copter: add type-correctness for stream messages
fe2d8f853b GCS_MAVLink: add type-correctness for stream entries
f0dd90b81a Sub: eliminate MSG_LIMITS_STATUS
de7a8e20e2 Copter: eliminate MSG_LIMITS_STATUS
c5520cd995 GCS_MAVLink: eliminate MSG_LIMITS_STATUS
9a22e11b92 AP_HAL: HAL_RCINPUT_WITH_AP_RADIO definition
31628ea52f AP_Baro: functions declaration
ddb45a0813 waf: move skyviper-v2450-px4 definitions to board config
aa8a90271e ArduCopter : HAL_RCINPUT_WITH_AP_RADIO definition
797fc84e92 Tools/CPUInfo: type conversion
b260a6ca7c GCS_Mavlink: HAL_RCINPUT_WITH_AP_RADIO definition
80859a9137 AP_HAL_PX4: HAL_RCINPUT_WITH_AP_RADIO definition
b3f355ae91 AP_Radio: HAL_RCINPUT_WITH_AP_RADIO definition
4ab2ff8c81 AP_HAL_ChibiOS: HAL_RCINPUT_WITH_AP_RADIO definition
7a67c82026 AP_BoardConfig: HAL_RCINPUT_WITH_AP_RADIO definition
86440b20ba Copter: Tradheli - disables inverted flight option for single and dual heli frames
cc899d74e2 Sub: move try_send_message of servo-output-raw up
92927cd848 GCS_MAVLink: move try_send_message of servo-output-raw up
2112d76b75 Plane: move try_send_message of servo-output-raw up
50ca76b6bd Copter: move try_send_message of servo-output-raw up
08ea7875ae Tracker: move try_send_message of servo-output-raw up
3f4783fa5d Rover: move try_send_message of servo-output-raw up
90124c20cb Rover: shorten time remaining in try_send_message
95df35f102 HAL_PX4: fixed build warnings
049e3ae02d HAL_SITL: take account of available bytes in receive_time_constraint_us
36ebb14b2e HAL_PX4: take account of available bytes in receive_time_constraint_us
b396b2a2e0 HAL_Linux: take account of available bytes in receive_time_constraint_us
f983c8a906 HAL_F4Light: take account of available bytes in receive_time_constraint_us
89898bae1d HAL_ChibiOS: take account of available bytes in receive_time_constraint_us
b887a1e893 AP_HAL: make receive_time_constraint_us non-const
ce73918873 Plane: fixed throttle_percentage for twin engine planes
805b159fd4 Plane: update release notes for 3.9.0
dcd7799ec9 HAL_ChibiOS: fixed DShot output on fixed wing
4e414c02f5 AP_Motors: use scaled actuators for single and coax frames
a17979383d autotest: fixed single and coax motor ranges
216bab4de4 AP_Motors: fixed default motor functions for single and coax copter
f6c06496e2 AR_AttitudeControl: fix accel limiting
2d64a47f90 Rover: add pivot_turn_rate to g2
a9ee949c32 AR_AttitudeControl: limit desired steering rate
abc8208028 Tools: Add name to GIT_Success.txt
a4e208c6cc Tools: Added my name to GIT_Success.txt
8571e59d85 HAL_ChibiOS: fixed SBUS inversion for KakuteF4
7c8583d51d Copter: implement sending of position_target_global_int
cdf4128900 Plane: move sending of POSITION_TARGET_GLOBAL_INT up
0ca888d52a GCS_MAVLink: move sending of POSITION_TARGET_GLOBAL_INT up
2c962afe98 AC_WPNav: add get_wp_destination to get a Location_Class for the wp
c3a84a9d66 uavcan: submodule update
2da498ad2a mavlink: submodule update
b708ddb603 UAVCAN: dsdl submodule e96b
57cc0cac97 Plane: GCS_MAVLink base class now uses same ekf call to get alt
da40ebaf70 GCS_MAVLink: use relative altitide from ahrs.get_relative_position_D_home()
324be6ca0d Sub: move sending of GLOBAL_POSITION_INT up to GCS_MAVLINK
5aefb90e61 Plane: move sending of GLOBAL_POSITION_INT up to GCS_MAVLINK
33582107b6 Copter: move sending of GLOBAL_POSITION_INT up to GCS_MAVLINK
fa2e7b3eb4 Tracker: move sending of GLOBAL_POSITION_INT up to GCS_MAVLINK
1ecd371cd0 Rover: move sending of GLOBAL_POSITION_INT up to GCS_MAVLINK
4440f7ec4a GCS_MAVLink: move sending of GLOBAL_POSITION_INT up to GCS_MAVLINK
a81b4266fe Sub: remove arguments to send_home and send_ekf_origin
1545b9b161 Plane: remove arguments to send_home and send_ekf_origin
1437eb008d Copter: remove arguments to send_home and send_ekf_origin
cbbd28aeda Tracker: let GCS_MAVLink handle get_home_position
62a3faf448 Tracker: remove arguments to send_home and send_ekf_origin
0e8f01021d Rover: remove arguments to send_home and send_ekf_origin
217fd73100 GCS_MAVLink: remove arguments to send_home and send_ekf_origin
3e7cb08804 Sub: move send_attitude up to GCS_MAVLINK
6f8339028e Plane: move send_attitude into GCS_MAVLINK_Plane
da1b2579c4 Copter: move send_attitude up to GCS_MAVLINK
2b68ab4d87 Tracker: move send_attitude up to GCS_MAVLINK
3799a13bc3 Rover: move send_attitude up to GCS_MAVLINK
514bc5c21d GCS_MAVLink: move send_attitude up to GCS_MAVLINK
22916fd97e Vagrant: add comment about utility of valgrind on xenial32
d320e8517d Tools: correct check for realpath
ee01687c55 Tools: fix autotest/valgrind on Vagrant virtual machines
11e00f34b2 AP_TemperatureSensor: remove pointless constructor
7dd023744f AP_TemperatureSensor: allow testing of temperature sending in SITL
c91ba19e7f Sub: override sending of scaled_pressure3
695c52be05 GCS_MAVLink: allow sub to override sending of scaled_pressure3
1f9d1ee5a2 Plane: move try_send_message sending of scaled_pressure up
e4a2b03488 Copter: move try_send_message sending of scaled_pressure up
75d5b79c48 Tracker: move try_send_message sending of scaled_pressure up
c9d47c4ed5 Rover: move try_send_message sending of scaled_pressure up
c887a5c188 GCS_MAVLink: move try_send_message sending of scaled_pressure up
12f62a44ce Sub: move try_send_message sending of sensor offsets up
0e3ad3f023 Plane: move try_send_message sending of sensor offsets up
88883c7c7f Copter: move try_send_message sending of sensor offsets up
73f845d76f Tracker: move try_send_message sending of sensor offsets up
ace48d72b0 Rover: move try_send_message sending of sensor offsets up
8cb2b5809f GCS_MAVLink: move try_send_message sending of sensor offsets up
5736aa6ef3 Sub: move try_send_message of RAW_IMU up to GCS_MAVLINK
e6411c6804 Plane: move try_send_message of RAW_IMU up to GCS_MAVLINK
93f1815d50 Copter: move try_send_message of RAW_IMU up to GCS_MAVLINK
92b7d7079e Tracker: move try_send_message of RAW_IMU up to GCS_MAVLINK
a37c8eae1f Rover: move try_send_message of RAW_IMU up to GCS_MAVLINK
b51ec1d346 GCS_MAVLink: move try_send_message of RAW_IMU up to GCS_MAVLINK
a3a1967e05 AP_Compass: add AP::compass() singleton getter
631e967df3 Sub: handle setting of ekf origin in GCS_MAVLink
7afd056e98 Plane: handle setting of ekf origin in GCS_MAVLink
9dce133938 Copter: handle setting of ekf origin in GCS_MAVLink
3e0dcacf58 Tracker: handle setting of ekf origin in GCS_MAVLink
0d3051e46a Rover: handle setting of ekf origin in GCS_MAVLink
fc1775df75 GCS_MAVLink: handle setting of ekf origin in GCS_MAVLink
9a73f0c260 Sub: move Log_Write_Home_And_Origin into AP_AHRS
052b76d017 Plane: move Log_Write_Home_And_Origin into AP_AHRS
0dc0e54767 Copter: move Log_Write_Home_And_Origin into AP_AHRS
a52f3d8f70 Rover: move Log_Write_Home_And_Origin into AP_AHRS
9793703a76 AP_AHRS: move Log_Write_Home_And_Origin into AP_AHRS
2d7f60ab59 Sub: Use named float wrappers
296296ab6c Copter: Use named float wrapper
f6624cc8b2 AP_Airspeed: Use named float wrapper
1b05a18b84 GCS_MAVLink: Wrap sending named float values
7a696bd766 mk: remove Qualcomm board support
221ba177c5 DataFlash: remove Qualcomm board support
8b32960d3e AP_InertialSensor: remove Qualcomm board support
6f210131ed AP_HAL_QURT: remove Qualcomm board support
5e821428a1 AP_HAL_Linux: remove Qualcomm board support
695d92ddbf AP_HAL: remove Qualcomm board support
5fc7da0e83 AP_GPS: remove Qualcomm board support
0a3af28d17 AP_Compass: remove Qualcomm board support
f8756fac6b AP_Common: remove Qualcomm board support
de73ab6472 AP_Baro: remove Qualcomm board support
440a44eede mavlink: submodule update
584c3c9881 Make: Add proximity to common libs
dcb0a37643 Rover: AP_Proximity is now a common library
936c7faa3e Sub: AP_Proximity is now a common library
1c6031e5e5 Copter: AP_Proximity is now a common library
fcf6c69a5b Plane: AP_Proximity is now a common library
82d486add0 Tools: Add proximity as a common library
216457a281 Sub: Move MAVLink rangefinder up to parent
fe8e1b4274 Copter: Move MAVLink rangefinder up to parent
499df8e0b3 Plane: Move MAVLink rangefinder up to parent
dc5fae9ea6 Rover: Support rangefinder MAVLink changes
805e9519d1 GCS_MAVLink: Send rangefinder data
f8b10aaa53 AP_Proximity: Make singleton and add an interface to check what type is loaded
7d6c3ec683 AP_RangeFinder: Make singleton
5393337dfa Sub: Send all distance sensors
033a8ec4d5 Copter: Send all distance sensors
8afc96097b Plane: Send all distance sensors
9e551350a4 AP_RangeFinder: Remove unneeded state member
03fc653e62 GCS_MAVLink: Don't rely on instance data from rangefinders
0be12dd471 AP_HAL_F4Light: support for UART timestamp API
7f6b994bc1 AP_HAL_F4Light: fixed OSD compilation
d28bac2b89 AP_HAL_F4Light: new board: OmnibusV3
3830cebddc AP_HAL_F4Light: board AirbotV2: fixed build scripts
b479f3760a Plane: Remove some unneeded logging indirection
53c66106d6 AP_GPS: Remove unneeded intilizers
cc931e9a2a waf: allow F4Light USB ID to be recognised
0966e14ca5 DataFlash: fixed F4Light build with g++ 6.3.1
b95bc6595c HAL_F4Light: changes in I2C driver for Matekf405-CTR board
27b4fd5b50 HAL_F4Light: changed Readme for MatekF405-CTR board
37b16714cb HAL_F4Light: preliminary support for MatekF405-wing board
f6ea053f19 HAL_F4Light: fixed RSSI issue on OSD
0b3514c519 AP_Baro: add support for BMP280 on alternate address
a948c281f6 HAL_F4Light: add support for external baro for Matek_F405 board
b2a4b76496 HAL_F4Light: add battery monitor defaults
ecafe263a6 HAL_F4Light: abort logging in case of filesystem errors
4e452c77f8 HAL_SITL: implement UART timestamp API
b8eeac41c8 HAL_Linux: implement uart timestamp API
f4f62ececa GCS_MAVLink: take account of transport lag in vision timestamps
93cdb15aca HAL_PX4: implement uart timestamp API
7005383f82 HAL_ChibiOS: implement uart receive timestamp API
f7a239d833 AP_HAL: added function for last receive timestamp on uarts
1383e08273 AP_UAVCAN: change default ESC and servo bitmasks to 0
47b0e00b11 autotest: Added test field location.
b20ebc6540 AP_Motors: Tradheli- removes unnecessary code from swash servo trim bug fix
3615219c4c Tools: install-prereqs-ubuntu: correct check for realpath
fd4463de68 Tools: add more information on test failure
23a2ea4084 Tools: autotest: set rc to 1500 on RTL
dab3b93dc3 autotest: Improved motor failure test
0078a68fbb SITL: fixed segv when running examples under SITL
46b1a2d117 Tools: Vagrantfile: add entry for bionic64
5f44327dab Tools: install-prereqs-ubuntu: only install realpath package if available
3aefa6894c Tools: Vagrantfile: enable GUI on all boxes, update comments
0f39c4da80 Tools: install-prereqs-ubuntu.sh: increase verbosity
b3e8618f9d Tools: initvagrant.sh: increase verbosity
f5b2d5ca66 Tools: jsbsim script should not re-install jsbsim if it's already installed
4ba5a368ff SITL: adjust vicon simulated lag approach
ab9ef01889 GCS_MAVLink: added function for correcting offboard timestamps
63c1439c39 geotag.sh - an advanced geotagging tool.
436f514142 AP_Proximity: resolve compiler warning and format fix
2d4d99e836 AP_Scheduler: remove unused log_dropped variable
cb50639e27 AP_HAL_ChibiOS: add STM32F7 UART support
494735db2e AC_WPNav: Change the variable name according to the unit.
636782375e AP_Proximity: Revert an excessive scan introduced in #8375
c92554001f SITL: send buffer rather than mavlink msg on channel
7e4972a061 DataFlash: Fix a false reporting of dead IO thread when millis() wraps
703c7fb4b7 DataFlash: Remove unneeded inits and newlines
6b13e211ba Tools: Add name to GIT_Success.txt
7eb08bbd40 HAL_ChibiOS: Fix inverter on Omnibus F4 V3
fb4dcc2458 Rover: 3.3.1-rc2 release notes
ce31c55091 Tools - added extra packages for Cygwin environment setup scripts
00c512c7e2 AP_Proximity: Small fixups to the rangefinder backend
81e453dee3 AP_Arming: Restrict GPS/AHRS difference to a 2D solution
794ebe32e3 HAL_ChibiOS: fixed mixture of oneshot and normal PWM on IOMCU
219d429929 HAL_PX4: fixed oneshot125 on non-alt outputs
00d4b5165d AP_BattMonitor: fix pin order for PocketPilot
85fe07f1f0 AP_Compass: enable probe HMC5843 for PocketPilot
76802740cb AP_HAL: fix PocketPilot HMC5843 I2C bus number
75c8644fb5 AP_HAL_F4Light: call delay callback on scheduler instance
939aec090e AP_HAL: allow F4Light to call delay callback
9f10cd7195 AP_HAL_VRBrain: Remove set_overrides() method
97696281ae AP_HAL_SITL: Remove set_overrides() method
299543bd35 AP_HAL_QURT: Remove set_overrides() method
f9d1574f73 AP_HAL_PX4: Remove set_overrides() method
517e20093e AP_HAL_Linux: Remove set_overrides() method
d54ef79798 AP_HAL_F4Light: Remove set_overrides() method
b192c1c094 AP_HAL_Empty: Remove set_overrides() method
72a4846f40 AP_HAL_ChibiOS: Remove set_overrides() method
62f153c1b7 AP_HAL: Remove set_overrides() method
c8a93f9b76 RC_Channel: Remove set_overrides() method
3927fb3107 Sub: Remove the usage of RC_Channels::set_overrides()
167553e8a5 Tools: autotest: tidy usage and simplify vehicle build steps
087fd4effc Tools: Add default tuning params for single-rotor TradHeli Tunes PSC, LOIT, NAV, ATC specific to Copter 3.6 and New Loiter
04a4001e02 DataFlash: Remove unused variable
c755d341f4 AP_RCProtocol: Remove unused variable
f22f053c83 AP_Baro: Use C_TO_KELVIN
f3d6d8e236 Tools: autotest: make Copter tests more reliable
04dbb0dd9d Tools: Add name to GIT_Success.txt
cc590ee587 AP_Baro: Add BARO_TYPE_WATER model to SITL when running for ArduSub
c7f832e81f AP_Baro: Add SimpleUnderWaterAtmosphere function
178b5e03c0 AP_Notify: move BUZZER_PIN into AP_HAL
34c96c80ff AP_HAL_ChibiOS: rename BUZZER_PIN into HAL_BUZZER_PIN
dfd2fb1841 AP_HAL: move BUZZER_PIN into AP_HAL
56672c1c28 AR_AttitudeControl: fix get_steering_out_rate use of max turn rate and acceleration
9feaf9cfdd AR_AttitudeControl: const some internal variables
23a0e10d01 Copter: add sanity check for ModeFollow requiring AC_Avoid
cca9a6e557 Tracker: correct compilation when logging is disabled
0a0e11ba21 Sub: correct compilation when features disabled
3afe591368 Rover: correct compilation when logging is disabled
eb026e0a5f Plane: correct compilation when logging is disabled
4847a61868 Tools: build all vehicles in build-with-disabled-features
6ab96fe8a9 Tools: don't publish elf files in build_binaries.py
6f138ddcfa Copter: ekf failsafe first enforces landing with no GPS
656892cd88 Copter: ekf failsafe disabled for acro and stabilize
f8464577ac Revert "SITL: Instance number change MavID"
e04de34014 GCS_MAVLink: add local time to VISP message
95fbc222d5 AP_HAL_Linux: enable GPIOs for PocketPilot
8c36635a8c AP_HAL: LED GPIOs for final PocketPilot design
3d1c078a44 Rover: steering mode uses turn rate control when stopped
0a29e4eac5 Rover: fix calc-steering-to-waypoint go use real heading without reverse
3645e18243 Rover: acro and steering use get_pilot_desired_steering_and_speed
957458ca56 Rover: add get_pilot_desired_steering_and_speed
ef2223a712 Rover: integrate attitude control change to steering output and scaling
0830e057e0 Rover: manual mode outputs unscaled steering
6b6c0f04b6 Rover: get_pilot_desired_steering_and_throttle returns steering assuming positive is always clockwise
a061203eaf Rover: pass ground speed to motors lib for scaling of steering
fa76a7c904 AR_AttitudeControl: get-steering-out-lat-accel uses negative speeds
5563691bd1 AR_AttitudeControl: assume positive steering output rotates vehicle clockwise
d018a9334e AP_MotorsUGV: add get_slew_limited_throttle
3db2cc700e AP_MotorsUGV: positive steering always rotates vehicle right
8137001a86 AP_MotorsUGV: minor comment fix
524d63522a Sub: move sending of battery data up
8da8c616f6 Plane: move sending of battery data up
ec6fb0c612 Copter: move sending of battery data up
b38d23d542 Rover: move sending of battery data up
347ab96bf0 GCS_MAVLink: move sending of battery data up
507f4d688b SITL: Instance number change MavID
b46379b3f3 Tracker: move data stream send up
5674a68457 Sub: move data stream send up
0fec702ba6 Plane: move data stream send up
a692acad81 Rover: move data stream send up
e90ce4ced9 Copter: move data stream send up
417e9e9aaf GCS_MAVLink: move data stream send up
8d7fadfdfc GCS_MAVLink: set _initialised as last thing
133b9930a6 Sub: make scheduler track whether it has called the delay callback
e10c23bd43 Plane: make scheduler track whether it has called the delay callback
a386c6100c Tracker: make scheduler track whether it has called the delay callback
dee40f3fe5 Copter: make scheduler track whether it has called the delay callback
a78fe0896f Rover: make scheduler track whether it has called the delay callback
864f41406d AP_HAL_VRBRAIN: move delay callback handling to base HAL Scheduler class
190bd18769 AP_HAL_SITL: move delay callback handling to base HAL Scheduler class
31621ee21e AP_HAL_QURT: move delay callback handling to base HAL Scheduler class
83bb6e4a9a AP_HAL_PX4: move delay callback handling to base HAL Scheduler class
d5cad015dc AP_HAL_Linux: move delay callback handling to base HAL Scheduler class
f2d73bb9b0 AP_HAL_F4Light: move delay callback handling to base HAL Scheduler class
ae56cbc302 AP_HAL_Empty: move delay callback handling to base HAL Scheduler class
b2a81405ea AP_HAL_ChibiOS: move delay callback handling to base HAL Scheduler class
0ad53e53eb AP_HAL: move delay callback handling to base HAL Scheduler class
468fc26e31 Rover: version to 3.4.0-dev
58f4b4b65d Tools: autotest: correct copter auto mission test
513865ae4d Tools: autotest: flake8 compliance
40cd0cd17f Tools: autotest: Use the generic run_test.
7a20dd8b73 Tools: autotest: Added a generic run_test.
b485867db3 Tools: autotest: Check if the mode exists in the dictionary
d26c09ccac Tools: autotest: Add and raise exceptions for wait_* helper functions
cde2247a0c Build: fixed docs on -debug build directory
9fc451a615 AP_Beacon: fixed reference to -debug build directory
9096bcf7b2 Tools: fixed reference to linux-debug
8d996112ec Plane: don't do throttle ESC scaling for quadplanes
ef23672a76 Rover: 3.3.1-rc1 release notes fix
3860141da8 Rover: 3.3.1-rc1 release notes
de4e74b910 Rover: added comments to output_omni
aca2c596b4 Rover: Use output_throttle for omni rover motor output
d7e01d83d6 Rover: added is_omni_rover function
cc50fff51f Tools: install-prereqs-ubuntu: add xterm to SITL install list
40a8e0de09 Rover: default BRD_SAFETYOPTION to to allow disarming with safety switch
d2c247bb90 Added to success.txt, added UChicago to locations.txt
cd98bef1f7 Sub: Update release notes for Sub-3.5.3
1dcd731005 Plane: AP_RSSI is included in build for all vehicles
484afd09a3 Tracker: AP_RSSI is included in build for all vehicles
b561e8b7e9 Copter: AP_RSSI is included in build for all vehicles
121cfc5b4c Rover: AP_RSSI is included for all vehicles
8e7ccf795b mk: include AP_RSSI in all builds like we do for waf
b7cd5491e2 Sub: move try_send_message handling of RC_CHANNELS up
68497f27fa Plane: move try_send_message handling of RC_CHANNELS up
76d46b0b43 Tracker: move try_send_message handling of RC_CHANNELS up
6dd9f50f7c Copter: move try_send_message handling of RC_CHANNELS up
9e1811027d APMrover2: move try_send_message handling of RC_CHANNELS_RAW up
b76fa57108 GCS_MAVLink: move try_send_message handling of RC_CHANNELS_RAW up
ac2fe5f042 AP_RSSI: add singleton
a47bda0b41 AP_BoardConfig: Fix param doc for BRD_SAFETYOPTION
d819690426 DataFlash: Remove redundant state from MAVLink backend
bce10f48af Dataflash: Correct the DF_MAV_STATS time units
5de3382ab4 Dataflash: Replace ppm (pulses per minute) with PWM in the RC channels
4fd37d17f0 Dataflash: Fix AHR2.Alt multiplier
babef0def1 Dataflash: Fix some battery units and multipliers
a9ca471907 Dataflash: correct the multiplier factor of POS *Alt data
9dee2c4981 Tools: Add ardusub
0243c92d1e docs: Add ardusub
f4559113c5 Tools: Update build_docs script
5bf2fb186c DataFlash: parameterise dataflash-over-mavlink cachesize
cb2e3424ee Tools: add kilobytes as known unit
5b56887428  Changes to be committed: 	modified:   hwdef.dat
93f551e56e define for AirbotF4 board (ChibiOS HAL) 	modified:   libraries/AP_HAL/AP_HAL_Boards.h 	new file:   libraries/AP_HAL_ChibiOS/hwdef/airbotf4/hwdef.dat
e62b560095 Sub: Move SITL barometer check to control_check_barometer
f075d6bd93 Sub: move try_send_message of heartbeats up to GCS_MAVLINK
8df625e81a Plane: move try_send_message of heartbeats up to GCS_MAVLINK
75ad33ddcd Copter: move try_send_message of heartbeats up to GCS_MAVLINK
40a7495967 Tracker: move try_send_message of heartbeats up to GCS_MAVLINK
1bc208584f Rover: move try_send_message of heartbeats up to GCS_MAVLINK
eecdcacf3e GCS_MAVLink: move sending of heartbeats up to GCS_MAVLINK
5bad067a8d Sub: move try_send_message handling of VIBRATION up
c1680d90a6 Plane: move try_send_message handling of VIBRATION up
d7af5c0c44 Copter: move try_send_message handling of VIBRATION up
25c2efb3ae Rover: move try_send_message handling of VIBRATION up
e4b4a746e6 GCS_MAVLink: move try_send_message handling of VIBRATION up
8108931ee0 Rover: 3.3.0 release notes
9b9932ca9c AP_GPS: Document septentrio RXERROR flags
8fa281fa5b RangeFinder: fixed a crash when VL53L0X was enabled in the software but not connected.
776d5e6ba3 HAL_ChibiOS: Fixed s-bus signal polarity in SoftSigReaderInt.cpp
7601edfb87 HAL_F4Light: fixed boards definitions
4cffbf52d3 AP_COMPASS: fix MAG3110 driver
beecfcbae6 fix I2C on AirbotV2 board
d4d7d1f734 AP_Math: avoid double maths when not needed
c4fafa490f AP_Avoidance: fixed use of fabs()
27442e4a7b AP_Declination: use floorf()
553abda91c AP_NavEKF3: use single precision ceilf()
4404c95cc8 HAL_Linux: use ceilf()
ce5db7b813 AP_Scheduler: fixed use of sqrt()
a5fe798e7f GCS_MAVLink: we don't need the conversion helpers
f2e2ece5a5 mavlink: submodule update
4e1d310959 AP_GPS: fixed use of pow()
86e85a7089 AP_Baro: fixed build warning
14cf54b2f0 AP_FlashStorage: fixed build warning
7cff648f8a StorageManager: fixed build warning
930d22daf9 AP_SmartRTL: fixed build warning
99884c89c9 AP_Scheduler: fixed build warning
61c8dfac31 AP_Math: split out double precision location functions
a575608110 Rover: fixed build warnings
cd8b001f63 Tracker: fixed build warning
9766c4ed26 AC_AttitudeControl: fixed use of double precision maths
48e27ab242 AP_Landing: fixed use of double precision maths
3b8ec3a2a0 AP_Math: allow double precision maths where needed
53d36c02ae AP_GPS: enable double precision maths where needed
097632eeb3 AP_HAL: try to prevent use of double maths functions
88ea7ac5fa AP_GPS: Remove software check from SBF driver
c6638f66de Rover: Loiter mode for boats
ce44326ba8 AR_AttitudeControl: fix get_steering_out_heading while reversing
341d75e0c9 AP_MotorsUGV: force throttle to zero when disarmed
c69f7bb1d0 AP_MotorsUGV: consolidate parameter sanity checks
c4804e4576 Rover: remove redundant avoidance call from steering
efdf03e27d AP_AdvancedFailsafe: remove rcmap member from AP_AdvancedFailsafe
2e3a7fc5b6 Plane: remove rcmap member from AP_AdvancedFailsafe
0b1091231c Rover: remove rcmap member from AP_AdvancedFailsafe
dc61884303 Copter: remove rcmap member from AP_AdvancedFailsafe
f8711f70c9 Tools: correct sitl rover-skid default params
dcab51801c HAL_ChibiOS: implement boost_end
5ae410f7ca AP_AHRS: called boost_end() on AHRS update
84a4f9dc96 AP_HAL: added boost_end() method to Scheduler API
0355b1a340 waf: update submodule
98c741803f build: change default installation prefix to /usr
997d9f58de build: invert default for header checks
7c068ee8ef build: add command to output currently configured board
3ecc138c86 build: move more Linux-only options inside group
73edda697d build: align help options
9342bc5050 build: invert default for lttng
4697089a82 build: move Linux configuration options to its own sections
b1b4b66e65 AP_HAL_Linux: minlure: fix uart path
b54b95de12 AP_HAL: minlure: search for specific I2C controller
320db1d79b AP_HAL_Linux: remove unused i2c devpaths
2000e17646 AP_HAL: move get_device() method from AP_HAL_Linux
4f2498947b AP_HAL_Linux: remove redundant ifdef
904888fba7 DataFlash: Linux boards never use /fs
4e53d9e1a8 Tools: correct flashing under Linux
3b143a99bf autotest: removed sitl-debug varient
9aa0ddfa54 waf: don't make --debug create a build varient
76cc014245 waf: Allow spaces in paths when compiling for ChibiOS targets
835484429d waf: don't build ChibiOS with debug by default
0c353d2af0 AP_HAL_Linux: change PocketPilot to final baro sensor
ee86418587 AP_HAL: change PocketPilot to final baro sensor
598ae5c3f7 AP_HAL_Linux: PocketPilot: change pru to final design
f4a38d6f2a Linux_HAL_Essentials: PocketPilot: change pinorder to final design
483048398e AP_Relay: document BB Blue pin options
5854ccbb4c HAL_ChibiOS: removed stray debug code
5d4579a086 AP_HAL_SITL: add wind type parameters
d086edc762 SITL: add wind type parameters
9e76555152 autotest: added --no-extra-ports option for sim_vehicle.py
83b918f1c3 AP_Param: make send_parameter_value_all a GCS method rather than static
bf124e9333 GCS_MAVLink: make send_parameter_value_all a GCS method rather than static
1a640e3405 AP_InertialSensor: parameterise sensor-rate logging, generalise it
44131202cd AP_InertialSensor: 4kHz batch sampling
4869dd0ae4 AP_NavEKF3: send airspeed variance over mavlink
fb0deba3aa AP_NavEKF2: send airspeed variance over mavlink
0b03562cf2 AP_AHRS: fix for mavlink update
69e38d1b67 mavlink: submodule update
0bd21b0b3f Copter: SmartRTL add pilot yaw control
767f81265b Sub: correct compilation under clang++ on MacOSX
2684f46641 HAL_ChibiOS: fixed IMU orientation for revo-mini
c51dda45e7 HAL_F4light: fix  compilation errors
1cfdfe55a1 DataFlash: fix HAL_F4light compilation errors
a05c79f1d8 Compass: fix HAL_F4light compilation errors
eb0343649b Baro: fix HAL_F4light compilation errors
aadbd04726 Sub: Update release notes for 3.5.3-beta
e5bd6e289e AP_Motors: Add current limiting to 6DOF motors for Sub
c2eee2db23 AP_HAL_ChibiOS: add STM32F7 I2C support
1fd52c4e01 HAL_ChibiOS: added input capture filter
a2cc54fb5d HAL_F4Light fixes: removed unused code, removed debugging printf(), removed hard-coded pins
e5c3fd43ee upgrade FatFS to most recent version
ccd90e19a1 fixed DataFlash_File_sd.cpp in case of SD error
c8d1dad493 Copter: document stream content
051c8e9fe2 kill task in case of exception in armed state
c85bae8d88 Copter: correct dodeca-hexa copter mav-type
35dddbd35a AP_Relay: Enables relays 1-4 for Beaglebone Blue
930981914a AP_Mission: fix small bug in d5a4c6b
d5a4c6b5bc AP_Mission: Sanity check for NaN's and infinities
a43183ec14 Tools: sim_vehicle.py: Allow to pass custom param file
c20351202d Plane: document TKOFF_THR_SLEW = -1 for takeoff
feb9cfc390 Rover: reduce TURN_MAX_G default to 0.6
0f9b679e98 AR_AttitudeControl: increase angle err P and reduce steering accel max defaults
94a1a025f1 Tools: update AION R1 default params
705474a2ff Sub: remove old pde file
badea86fbd Plane: remove old pde file
963f86b7bf Copter: remove old pde file
c941d72ad1 Rover: remove old pde file
88c506d548 AntennaTracker: remove old pde file
1d60b0ec62 AC_PID: Support new RC_Channels::read_input()
73abbbd8c8 Tracker: Support new RC_Channels::read_input()
da9053655b Rover: Support new RC_Channels::read_input()
6642b9e585 Sub: Support new RC_Channels::read_input()
91a48a5040 Copter: Support new RC_Channels::read_input()
2deac7238c Plane: Support new RC_Channels::read_input()
30554d0de0 RC_Channels: Collapse has_new_input() with set_pwm_all()
0d6043e0c6 HAL_ChibiOS: Fixed current and voltage sense on OmnibusF4PRO
9f1e45509a support for Matek F405-CTR board, causes minor changes in I2C descriptor block
f75dea34e1 HAL_ChibiOS: fixed integer promotion bug in SoftSigReaderInt
7208fe96d5 Plane: update release notes for 3.8.5
6ae1bf4cf4 AC_AttitudeControl: Allow zero gains for Sub
d07f8aa42b Plane: fixed a bug in transition to QSTABILIZE for tailsitters
b1a3e0a537 AP_GPS: Report when SBF errors change
44d0f7b2a1 AP_Compass: update ORIENT @Values
74be9f0bda AP_AHRS: Add support for custom board orientations
ad4e928e7d AP_InertialSensor: add support for custom board orientations
6699c59ad3 AP_Compass: add support for custom board orientations
f97ac4af30 AP_Math: add custom rotation option
4f02f709a2 AP_Math: fix typo
b820da5c6f AP_AHRS: update AHRS_ORIENTATION metadata
e738f33770 AP_Math: Add ROTATION_PITCH_315 and ROTATION_ROLL_90_PITCH_315
2aceab2b66 Replay: fixed build
9ade6cd579 Replay: Remove AP_InertialNav
8119c537c7 Rover: integrate vectored thrust support
3f1f68b130 AR_AttitudeControl: support vectored thrust
38b79cf0bc AP_MotorsUGV: support vectored thrust
29e8866ea9 Rover: move avoidance into calc_throttle
9c2da896b9 AR_AttitudeControl: get_throttle_out_stop only stops once desired speed reaches zero
365e1030db AR_AttitudeControl: separate speed limiting to new method
da5df5ca20 AP_Devo_Telem: fixed to check for have_position
aa53832a70 ArduPlane: devo telemetry support (RX705/707)
51a189e906 ArduCopter: devo telemetry support (RX705/707)
2aee8d1018 APMrover2: devo telemetry support (RX705/707)
33a26ac0a8 AP_HAL: enable DEVO telemetry on F4Light
09b5cc382b AP_SerialManager: devo telemetry support (RX705/707)
85c71273cf AP_Devo_Telem: devo telemetry support (RX705/707)
c8488e3333 AP_Motors: Tradheli - swashplate servo trim fix for heli single and dual frames
7830dab0a8 AP_Arming: Add a servo check that (<= min trim max) for all channels
1b18a78d1d AP_Arming: Add a RC check that (<= min trim max) for all channels
d2429fa0bc ChibiOS: submodule update
bba8d506d6 HAL_ChibiOS: port for kakutef4 flight board
5c47cd8bc5 ChibiOS: make 1MHz system clock more efficient
95108a2d2c HAL_ChibiOS: added support for 16 bit timers
03d88b01be HAL_ChibiOS: added support for interrupt based rcin parsing
6e0b5c204a AP_Notify: support buzzer backend on ChibiOS
ca9d1a55fe AP_InertialSensor: support ICM-20689 IMU
68da3a123c Sub: add armed check to preflight baro calibration This check was lost in 05ee33d!
0223cf70ed Sub: better check and text message for baro calibration failure
7caca6a251 Sub: reduce default ACRO_YAW_P by 25% to 3.375
4fae5cdfcf Sub: disarm motors if failsafe action fails
4fe8746a2a Sub: remove arbitrary scalars from manual mode inputs
3577def8fd AC_Avoid: use elseif because value does not change
29b1a6ed41 AC_Avoid: fix comment
7f7a588002 Tools: add accel and turn-rate max and increase steering angle P
7718196838 HAL_ChibiOS: Fix sparky2 target.
2fff9561a7 Copter: 3.6.0-rc1 release notes
e2fa38968f AP_BoardConfig: fixed build for some boards
3be6c0e26b ArduCopter : clean unused definitions
c76ff32aa1 Sub: Do not report altitude in GLOBAL_POSITION_INT if there is no depth sensor connected
0878f5044c Sub: Send a clear message if depth sensor is not connected
8fa1700d02 Rover: 3.3.0-rc1 release notes
87eef9051f Rover: increase default pivot turn angle to 60deg
23ed735304 AR_AttitudeControl: reduce default steering I gain to 0.2
e5c0b1814a GCS_MAVLink: remove underscore from method names
2f81747112 GCS_MAVLink: fix VISP logging
9480572075 AP_Notify: ChibiOS: beep on mode change
557f8cee43 AP_HAL_ChibiOS: add mode-change-beeps
79f3fd532b AP_HAL_ChibiOS: fix spi clock calculation
5b03835103 Tools: autotest: correct pattern match in get_parameter
802e4c6315 Tools: autotest: add tests for relays
e7b5978d8d SITL: use a 16-bit mask for GPIO out
1eecf07e68 AP_HAL_SITL: use a 16-bit mask for GPIO out
c7327acef7 Sub: use AP_ServoRelayEvents singleton
5cc98a9733 Plane: use AP_ServoRelayEvents singleton
4b5953734d Copter: use AP_ServoRelayEvents singleton
80f0016951 Tracker: use AP_ServoRelayEvents singleton
d66cb1dda0 Rover: use AP_ServoRelayEvents singleton
682679c68d GCS_MAVLink: use AP_ServoRelayEvents singleton
544ac03ca6 AP_ServoRelayEvents: add singleton
9aa685a6d8 AP_Motors:TradHeli - single rotor only - add support for H3-140 swashplates. Also changes the old definition to H3 for swashplates with fixed control radius and adjustable servo position.
f073c58f68 AP_Motors:TradHeli - add support for reverse collective swashplates
f3c9761901 Tracker: GPS now logs its own data
a10c843e6e Sub: GPS now logs its own data
5ef417a669 Plane: GPS now logs its own data
04885b127c Copter: GPS now logs its own data
64a8de42da DataFlash: use singleton for getting hold of gps object
901ba0034c AP_NavEKF3: do not pass GPS into Log_Write_GPS; it uses singleton
578facc9ad AP_NavEKF2: do not pass GPS into Log_Write_GPS; it uses singleton
e73a02343a Rover: GPS now logs its own data
643e7e039a AP_GPS: log received data
8648db06b4 Copter: create autoyaw.cpp from all the bits of Copter::Mode::AutoYaw
948b90ed97 Copter: rename roi_WP to just roi
ba8b3e2415 Copter: create an AutoYaw helper object to hold auto-yaw state
63e42e194f GCS_MAVLink: send correct mission_ack result type
1f30ae3076 ArduCopter: fix float to double warning
75ae59c0c8 Autotest: Remove frame initialisation.
fdfa08c586 AP_AHRS: fix include order due to cyclic include
70805d61f2 ArduCopter: remove inertial_nav from precland constructor
6fe0597399 AC_PrecLand: replace AP_InertialNav by AHRS
63792edc5f DataFlash: increase debug in SITL
80549a479e Copter: move throw logging into ModeThrow
bb0cbd15a4 HAL_ChibiOS: implement fmuv4 safety state
60f79921ac AP_BoardConfig: added get_safety_mask()
7be1125084 AP_IOMCU: implement safety mask and safety pwm
a255c47c33 AP_GPS: Do not restart driver if type is defined as MAV
1b26f8527a Tools: remove RC params from eLAB445 param file
741d641876 Tools: remove unused real-flight default param files
214fb096eb AP_IOMCU: added healthy API for use in arming checks
77c922e6b8 HAL_ChibiOS: make embed.py work with python3
09e3a3cb78 AP_IOMCU: added IO firmware upload
a6e05cbf5a AP_Math: added crc32 for IOMCU bootloader protocol
5fb8fe927c waf: added AP_ROMFS to build
a14fbb201f Tools: added IO_Firmware for fmuv2
3749480dd8 HAL_ChibiOS: create ap_romfs_embedded.h
deae66e645 AP_ROMFS: library for embedding files
f87cc4e172 f4by chibios new style dma table build fix
4871bbf403 HAL_ChibiOS: make soft serial for RC serial more efficient
57c307a74e AP_BoardConfig: fixed default pwm count
a9449ccd29 AP_HAL_ChibiOS: add f767-min board support
8374c5a4f3 AP_HAL_ChibiOS: Remove unused priority level
c8fdb90ab5 RC_Channel: Rework set_pwm_no_deadzone() to a recompute function
7b7f5e242b Plane: Simplify channel reading
290f474384 PX4Firmware: fixed fmuv4 safety options
2316fee279 HAL_ChibiOS: f4by conf2 fixed ram size, ext compass, pwm count
444c0bb54c AP_Compass: added ChibiOS external compass config
db6c6b1677 AP_BoardConfig: allow PWM count setting on all chibios boards
ca33ff04d9 ChibiOS: add support for omnibusf4pro board
79b5719419 ChibiOS: add support for complementry output timer channels
1b7eecdf2f ChibiOS: fixed tables for F405 mcu
0e8a9c2ec4 AP_IOMCU: Encapsulate debug prints in a #ifdef, fix whitespace
33194e9409 PX4Firmware: submodule update
8019d1f217 PX4Firmware: implement safety switch options
f22964a350 AP_IOMCU: implement BRD_SAFETYOPTION
7ecdabe52c HAL_PX4: fixup
fae0e7befa HAL_PX4: implement BRD_SAFETYOPTION
d8abf647e8 AP_BoardConfig: added BRD_SAFETYOPTION parameter
cf4ca29dbb DataFlash: added logging of safety state in POWR message
ecf2c51a8b HAL_F4Light: fixed board's defines to be suitable for new compass/baro autodetection
6e0742630d HAL_F4Light: fixed bug on write in USB MassStorage mode
d1f2646394 HAL_F4Light: fixed bug with DataFlash chips more than 128MBit
740e322438 AP_Baro: fix BMP280 scale
781a0b457b Tools: update WLToys v383 roll and pitch rate gains
572d9ba43b Rover: Allow switching to ACRO mode for skid steer rovers without GPS
27234f78c6 AR_AttitudeControl: Allow using steer rate control for skid steer rovers without GPS
e782ce2b51 Rover: Allow ACRO mode for skid steer rovers without GPS
753b710477 Tracker: Baro does its own dataflash logging
fdd410f105 Sub: Baro does its own dataflash logging
c95ff96263 Copter: Baro does its own dataflash logging
2b54113334 Plane: Baro does its own dataflash logging
63e8fffbe4 Rover: Baro does its own dataflash logging now
a5dc87e2af AP_Baro: do dataflash logging as part of update
332560bdf7 Tools: add Skeytech location
a38507623d Copter: autotune minor comment fix
1b38a377ff Copter: autotune replace 1 with true
7204d46ccb Copter: Autotune - Fix low angle P issue
d9ab8d6569 Copter: sprayer now uses ahrs singleton; stop passing reference
7c14a9dd7b AC_Sprayer: use ahrs singleton
0fd71f909c autotest: Add the home ground of ArduPilot drone software engineer training school in Japan.
2212532028 AP_Arming: Clarify/bring commonality to RC Channels check description
409ff66231 AP_Arming: correct parameter description
8074361bb8 AP_HAL_ChibiOS: add hardware def for STM32F767xx
c6d7691667 HAL_ChibiOS: fixed F745 database for new DMA system
eccc4f375b AP_Compass: fixed build warning
7286ffab77 HAL_ChibiOS: define FLASH_LOAD_ADDRESS in hwdef.h
e4ce2f532b HAL_ChibiOS: make smaller builds possible
ea2dc9b831 AP_InertialSensor: added OMNIBUSF7V2 INS sensors
943e433be6 AP_HAL: added device name for bmp280 for ChibiOS
ef9d9d9c26 HAL_ChibiOS: first boot of OMNIBUSF7V2
02f20b4114 HAL_ChibiOS: first version of OMNIBUSF7V2 board support
a9edbb6b2d HAL_ChibiOS: allow for a defaults.parm file in hwdef directory
6e5cbc7c3d HAL_ChibiOS: initial support for F745 boards
551dca63e1 HAL_ChibiOS: added build information for each MCU
d1e4185817 HAL_ChibiOS: don't build flash.c if not needed
cdbbceb6b6 HAL_ChibiOS: cope with SDMMC peripheral for microSD
ca28a01bbf PID: Remove examples/keywords
6e9e9dcdfa GCS_MAVlink: Use RC_Channels instead of hal.rcin
ae193f28ae DataFlash: Use RC_Channels instead of hal.rcin
523882bffc AP_Tuning: Use RC_Channels instead of hal.rcin
b757354c88 AP_Soaring: Use RC_Channels instead of hal.rcin
70b1eb9836 AP_RSSI: Use RC_Channels instead of hal.rcin
ddd32d3339 AP_ICEngine: Use RC_Channels instead of hal.rcin
5d84850f32 AC_PID: Use RC_Channels instead of hal.rcin
9f673c2746 Sub: Use RC_Channels instead of hal.rcin
d96919ed21 Copter: Use RC_Channels instead of hal.rcin
40810f5973 Tracker: Use RC_Channels instead of hal.rcin
05173f24c6 Rover: Use RC_Channels instead of hal.rcin
3e4288d604 Plane: Use RC_Channels instead of hal.rcin
a6afc69c13 RC_Channel: Support most hal.rcin functions in RC_Channels
de0d158f37 Sub: apply yaw input scaling in manual mode
2817cc61f3 Copter: add heliquad to frame-class param description
751024f483 HAL_ChibiOS: mark two skyviper builds as needing abin files
827108617a waf: only generate an abin file when needed
677f2bebc3 AP_Compass: added autodetect of all known compasses on external bus
33bdc9196c AP_Baro: added autodetection of popular baro types  on external bus
f26bb0cfbe AP_Compass: added range filter to backend, added its use in some sensors (thanks khancyr for style correction)
cb8a34f784 AP_Baro: added range filter to backend, use it in most sensors (thanks khancyr for style correction)
e1f43bb082 Travis: Resume testing plane as part of SITL
f19d01332b Tools: Reintroduce arduplane to CI script
bf6e1993a1 Copter: resolve compiler warning re temp_calibration init order
ac9d5f8a5c AP_NavEKF: Make the status unions use bool, add static asserts
37df0c20eb AP_Rally: Remove stale comment, and unneded define check
d9fe7b7105 AC_Sprayer: formatting fixes
9e298b3b2f Copter: sprayer uses ahrs in constructor
c2e546285c AC_Sprayer: replace AP_InertialNav with AHRS
2b49a3ab7b DataFlash: fix up logging on ChibiOS after change for F4Light
1ad6de1e80 HAL_F4Light: updated OSD submodule
677fc1875b HAL_F4Light: some modes disabled by default
aaea0e121b HAL_F4light: fixed parameters for AirbotF4 board
1a2217ea9c mk: fixed F4Light build scripts
2a0f624d5a DataFlash: fixed F4Light DataFlash logging
79cd137625 AP_Common: remove AP_AHRS_NavEKF include from location class
a1845783b5 AP_RSSI: Make the RSSI library an enable param tree
362fb470c4 AP_GPS: Allow HIL_GPS to flag vertical velocity
3bad3b2e68 Rover: Check MANUAL_CONTROL target
e840006ff9 Sub: Check MANUAL_CONTROL target
adb7ecef92 Copter: Check MANUAL_CONTROL target
1af2155641 Plane: Check MANUAL_CONTROL target
7ad0318d4f AP_HAL_Linux: fix latent bug in ToneAlarm
960e217e79 AP_HAL_Chibios: fix latent bug in ToneAlarm
0c14a309f7 AP_Proximity: correct debugginf for RPLidarA2
f2df171fdd HAL_ChibiOS: fixed DSM input on fmuv4
bccea9c8b9 AP_RCProtocol: support DSM bind
b4682f8b2a Tools: scripts: build_binaries.py: understand magic ChibiOS boards
1b3dc9faf7 Tools: scripts: build_binaries.py: remove tmpdir between all builds
4a986264be Tools: build_binaries: add fmuv{2,3,4} and mindpx-v2 to common vehicles
f788cde5c7 AP_InertialSensor: use multiply for fifo scale factors
8027883734 DataFlash: remove vestiges of CLI functions
d777da970b AP_Baro: fixed multi-baro logging
2f26b3faa1 Copter: update HeliQuad param file
a2351bf99f AP_BLHeli: log bad telem CRCs
96cc657bd0 HAL_ChibiOS: fixed GPIO interrupt port mapping
0f2a7108d3 AP_BLHeli: added SERVO_BLH_OTYPE
3b4d1d5d46 DataFlash: enabled POWR log msg on ChibiOS
b4aeffbaed HAL_ChibiOS: added power status flags reporting
7c85d06600 HAL_ChibiOS: setup pwm counts, and cleanup mindpx-v2 PWM lines
1b9cebc3f2 HAL_ChibiOS: check pwm count in rcout init
13cf72ac32 AP_BoardConfig: allow override of PWM count in hwdef.dat
a7711ab9f7 AP_HAL: don't require GPIO defines for RCOU serial on ChibiOS
68293c9c11 HAL_ChibiOS: don't require GPIO() markers on PWM outputs
face8151b7 AP_Compass: include required header
13b8ad0e94 Copter: remove sport from pixhawk v2 builds
da619e8aa6 Rover: 3.2.3 release notes
80e5742d77 Tools: correct HeliQuad param file
9c040105d6 waf: split copter and heli builds
a0d874baa2 AP_NavEKF3: const accessors
6791808ac6 AP_NavEKF3: remove unneeded initialisations
d38ff1dd2c AP_NavEKF3: initialise EKF3 constants in declaration not constructor
d219540554 Copter: correct compilation when AFS is enabled
d0425c7b2f Copter: correct compilation when precland is disabled
8bbb87de3f travis: build revo-mini
637e51825b ChibiOS: submodule update
eb6c852ee3 HAL_ChibiOS: use simpler pullup on serial input
71cd58cc7e HAL_ChibiOS: run rc serial thread at top priority
4a7a66cc16 AP_IOMCU: use a higher thread priority
84d76cf915 AP_BLHeli: removed special handling of oneshot125
3cd4f2a002 AP_ChibiOS: handle oneshot125 separately
819de4acd5 AP_Motors: don't scale oneshot125 in AP_Motors
a1ba582a5d HAL_VRBrain: handle oneshot125 separately
c3f0418333 HAL_PX4: handle oneshot125 separately
4f6240ee8a Rover: handle oneshot125 separately
0bb2c4564d AP_HAL: make hal aware of oneshot125
67993d6e5c HAL_ChibiOS: re-instate priority boost system
fff143d83e AP_BLHeli: default protocol timeout to 0
2c6e6e3b13 HAL_ChibiOS: removed obsolete DShot example code
b77ba8fbd1 AP_BLHeli: improved debug output
9b22e0b7cc HAL_ChibiOS: fixed SPI rates on fmuv3
61d513e91b AP_BLHeli: use get_esc_scaling() for motor range
503bd9ce65 HAL_PX4: implement get_esc_scaling()
8e59f6aad6 HAL_ChibiOS: implement get_esc_scaling()
dacbef2120 AP_HAL: added get_esc_scaling() API for rcout
a2eec97325 HAL_ChibiOS: raised default SPI priority
c17338473d AP_BLHeli: unlock uart on InterfaceExit
6f704b3818 AP_BLHeli: fixed use of SERVO_BLH_AUTO
5bfc97f9c0 HAL_ChibiOS: fixed dshot trigger while serial active
7c678bd707 AP_BLHeli: use UART locking
e448b5d069 HAL_ChibiOS: implement UART port locking
85ae6f60a8 AP_HAL: added UART locking interface
b7bcee69a3 AP_BLHeli: added telemetry logging support
061277040b DataFlash: updated ESC logging format
71eb9bac03 AP_SerialManager: added ESC telemetry protocol support
6fd0af11ef HAL_ChibiOS: implement telem request API
69c623270c AP_HAL: added telem request to RCOutput
d54d3351de SRV_Channel: check for rcout serial for blheli support
fde092a246 AP_BLHeli: check for rcout serial support
74bf83c39f AP_HAL: added check for RCOUT serial support
751c3a554a HAL_ChibiOS: added fmuv4-beta hardware definition
1fc0047fd9 AP_BLHeli: raise timout to 60s
6bdb523630 HAL_ChibiOS: guarantee 1kHz output for DShot
3daf27db64 AP_BLHeli: expanded test code
ee94d73e77 AP_BLHeli: added SERVO_BLH_TMOUT parameter
692f22c17f HAL_ChibiOS: added GPIO assignments for revo-mini
0018e1f944 SRV_Channel: added set_disabled_channel_mask()
ef539d4145 HAL_ChibiOS: added debug timing option for RCOut
9aa5a97f26 AP_BLHeli: added test interface
7d3cce98d0 AP_HAL: allow override of MS5611 name
af1e3aa64d HAL_ChibiOS: increase timeout on bytes for blheli
756c0d4b0b HAL_ChibiOS: fixed reset for oneshot
b0442d1c5c AP_BLHeli: fixed build for rover
9a29c6d3b5 HAL_ChibiOS: implement DigitalSource()
c2adc26051 AP_RPM: support RPM pin input on ChibiOS
9942934f0d AP_HAL_PX4: added IRQ save/restore to hal.scheduler
51c40a013b HAL_ChibiOS: added IRQ save/restore to hal.scheduler
d2075b4b67 AP_HAL: added irq save/restore API to hal.scheduler
54185af8ef AP_BLHeli: removed test code
019049e76b HAL_ChibiOS: fixed RC period setting
9ba3992d9e AP_BLHeli: added SERVO_BLHI_AUTO option
fd3037bbb7 GCS_MAVLink: add support for alternative protocol
d258eac88d HAL_ChibiOS: fixed reconfig of group after serial_end()
46c76c3d5d HAL_ChibiOS: increase serial byte timeout
202a7dd091 HAL_ChibiOS: don't allow dshot while serial active
b350b07593 HAL_ChibiOS: allow internal GPIO fuctions to use disabled pins
1be41b83fc SRV_Channel: added SERVO_BLHI_ parameters
8eaac031af waf: added AP_BLHeli
a1a83ab768 AP_BLHeli: added ESC serial protocol implementation
67bae2669b HAL_ChibiOS: enable serial5 on fmuv3
382772d999 HAL_ChibiOS: initial support for ESC serial output
dcfec21b46 AP_HAL: added support for serial output to ESCs
80a1688361 AP_Motors: make a singleton
17f2f40b11 AP_Math: added xmodem CRC
2933d4dd35 HAL_PX4: handle MODE_PWM_NONE enum
3c5c77889c HAL_VRBRAIN: fixed build with DShot
a9b4d37bd2 HAL_PX4: fixed build with DShot
1ffe75957e Copter: fixed ESC calibration for DShot
26d279e165 HAL_ChibiOS: improve DShot timing accuracy
93111dc0b1 HAL_ChibiOS: ensure that IO UART gets DMA
bd9df6d0ec AP_Motors: added DShot to parameter docs
95a261e061 HAL_ChibiOS: don't generate DMA channels for ALARM pin
01e9c55721 HAL_ChibiOS: fixed SPI bus speed on SPI3
c50359a5b5 waf: throw an error if hwdef.dat can't be processed
5f29524a41 AP_Radio: fixed optimisation of AP_Radio drivers
e55d3a0834 AP_Motors: fix mask passed to rc_set_freq
610a6a6c88 HAL_ChibiOS: optimise USB config driver
bc32276966 HAL_ChibiOS: support DShot output
294aac6955 HAL_ChibiOS: fixed CTS pulldown
a64819cbf2 HAL_ChibiOS: minimise DMA TX latency on contended UARTs
a86e85c6b2 HAL_ChibiOS: enable checking for DMA contention
0fb4e4720d AP_HAL_VRBRAIN: added mask to set_output_mode()
25cc73c1e7 AP_HAL_PX4: added mask to set_output_mode()
4fb53d44f3 AP_HAL_F4Light: added mask to set_output_mode()
4350cee7cf Rover: added mask to set_output_mode()
2c84d77306 AP_Motors: setup for DShot output modes
e7dc304f4e AP_HAL: support DShot output modes
64278f07d3 HAL_ChibiOS: removed the DMA channels from RCIN in hwdef.dat
9a5df6d1f7 HAL_ChibiOS: auto-generate DMA channels for RCIN
6aff7ecbf5 HAL_ChibiOS: added channel numbers for STM32F4xx MCUs
da2e79130b HAL_ChibiOS: generate channel numbers in DMA tables
3501763f4e HAL_ChibiOS: added DShot example app
5c1d895f82 Copter: autotune announce only while tuning
83fac326a4 Copter: autotune check for vel overshoot in angle P
64be134f7b GCS_MAVLink: add VISP logging
f03c73aeff AP_Terrain: compiler warning printing %u with signed value
975ad608eb Copter: honour defines for optional feature's log messages
b77d4ad82a AP_InertialNav: remove dead get_hagl method
893b761533 Copter: correct terrain-alt logging
f7a168478d Rover: integrate attitude control's get_steering_out_heading
a8857726d1 AR_AttitudeControl: replace get_steering_out_angle_error with heading
8186ce0d32 Tools: add deg/s/s to valid parameter units
e8070a5cb3 Rover: pass waypoint radius to L1 as min dist along track
4f0b26bd48 AP_L1_Control: update_waypoint gets dist_min argument
41bd79a387 Rover: pivot-turn uses heading controller
e6f8021519 AR_AttitudeControl: add angular accel and rate limits
3d84dfcc2e DataFlash: remove unused ins error count logging
c4ea83177f AP_Scheduler: remove unused ins error count logging
be634a893f AP_InertialSensor: remove unused ins error count logging
81044760c7 AP_NavEKF2: const accessors
aca87ab638 AP_InertialSensor: remove pointless initialisations
355752ebb8 AP_AHRS: remove pointless initialisations
51991fdd76 AP_Proximity: fix compilation warning in LightWare driver
2d31a7b318 Copter: remove check for enabled in for Log_Write_Beacon
e74d07ff15 Rover: remove wrapper for Log_Write_Beacon
b7f1040dca DataFlash: do not log beacon if it is disabled
f6cf52a748 AC_Loiter: move defines to cpp
757a35f3ba AC_Loiter: consolidate sanity checks
defdeaed95 Sub: integrate AC_Loiter
6728659b4a Sub: add AC_Loiter to make build
840a6e4147 Plane: quadplane uses AC_Loiter
59e4749fd0 Copter: integrate AC_Loiter
5f2f446199 Copter: add AC_Loiter to make build
acfc3a606a Copter: circle mode uses AC_Circle get_distance_to_target
9de73a994f AC_Circle: add get distance and bearing to target
9426ee6df6 AC_WPNav: remove loiter
0ba22a1feb AC_WPNav: remove brake dependency on loiter
cc5ad7c004 AC_Loiter: loiter extracted from AC_WPNav
4d08ec8c85 AP_HAL: Edge: set storage directory to /edge/ardupilot
9138c07fc5 Tools: install-prereqs-ubuntu: install wx for python on older Ubuntus
1348e37ef0 Tools: Vagrant: install a mavinit.scr
ba44d11988 Sub: fix method shadowing
21341feecb Tracker: fix method shadowing
b2af1f1e05 Rover: fix method shadowing
bbe3e41162 Plane: fix method shadowing
8ff74f31e9 Copter: fix method shadowing
ac73fa9681 GCS_MAVLink: fix method shadowing
4db9a5e6fe AP_HAL_SITL: remove cast to signed type
fa3b3964e8 Sub: factor vehicle's mavlink send_heartbeat
a0a1ca4d95 Tracker: factor vehicle's mavlink send_heartbeat
a45e3cba15 Rover: factor vehicle's mavlink send_heartbeat
f6a185a3c3 Plane: factor vehicle's mavlink send_heartbeat
0c8110ecb2 Copter: factor vehicle's mavlink send_heartbeat
4fd2ec1cef GCS_MAVLink: factor vehicle's mavlink send_heartbeat
a21eb12f9e AP_GPS: Correct HIL_GPS altitude conversion
c05d239069 Rover: remove throttle scaling dependency on throttle range
fa20fd695f Rover: use throttle_min param as output deadzone
2b2c1e2d78 AP_NavEKF3: only use bcn EKF is the alignement as been completed
44a21bc8ac EKF3: correct acos to acosf
48c5a9b9c5 AP_NavEKF3: style change in BCN mesurements
4d2f2a2aad AP_NavEKF3: correct flag in case of GPS disable
b9e32d1f44 Rover: reduce expected times in scheduler table
1f862e8192 GCS_MAVLink: serial control: avoid nullptr dererences
b864cd6ae6 AP_HAL_ChibiOS: include correct wrappers
30f944b921 AP_AirSpeed: notify of calibration start
58d41e40d3 Plane: let GCS_MAVLink calibrate airspeed sensor
d2ab76b2c6 GCS_MAVLink: calibrate airspeed sensor if it is present
c6d7f5151a GCS_MAVLink: tidy handling of barometer calibrations
65893cfca5 Plane: tidy handling of barometer calibrations
c10f404b12 Rover: tidy handling of barometer calibrations
05ee33d037 Sub: tidy handling of barometer calibrations
d58e2214d2 Copter: tidy handling of barometer calibrations
b862e4f3a8 Tracker: tidy handling of barometer calibrations
1de68b78dc AP_Barometer: tidy handling of barometer calibrations
cca4d5136e Copter: move common calibration functions up
5536a321ed Sub: move common calibration functions up
71bc3f5def Plane: move common calibration functions up
60aaabd93a Tracker: move common calibration functions up
b407a4eed8 Rover: move common calibration functions up
d878690d00 GCS_MAVLink: move common calibration functions up
2396a248ed AP_InertialSensor: use ahrs singleton for simple accelcal
030a1997f5 Tracker: factor out preflight calibration function
fe293abf37 Sub: factor out preflight calibration function
91c2ece7a2 Plane: factor out preflight calibration function
f6b7ca75e9 GCS_MAVLink: allow Plane to override method so it can set calib. flag
c80714b820 Copter: factor out preflight calibration function
762b31b147 Rover: create a preflight calibration function
09d4e36970 GCS_MAVLink: handle preflight calibrations
c3e70e477d GCS_MAVLink: avoid using global chan to uart mapping
db7ce9aba2 Rover: use ahrs singleton for SmartRTL
ebebb3b107 Copter: use ahrs singleton for AP_Follow and SmartRTL
3781d2f2eb AP_SmartRTL: use ahrs singleton
e33ce5eb48 AP_Follow: use ahrs singleton
ac99d37bc1 DataFlash: correct logging interval of XKFD message
32795f0a8f AP_Param: correct possible use of nullptr during param count
ac283fb032 DataFlash: narrow enumeration to uint8_t to avoid narrowing-warnings
febcdd766b AP_Math: narrow enumeration to uint8_t to avoid narrowing-warnings
2a274675f6 AP_AHRS: narrow enumeration to uint8_t to avoid narrowing-warnings
39bade1f4a Rover: 3.2.3-rc2 release notes
c923158cc9 Rover: 3.2.3-rc1 release notes
871661c65f SITL: SIM_Vicon: use existing channel for packing messages
42547d2d6d GCS_MAVLink: allow extra mavlink port for packing vicon messages
7d271e0f3c AP_HAL_SITL: check return value of setsockopt
8888adbfd4 Rover: TURN_MAX_G param desc update for range and increment
5bd4091976 AP_HAL_SITL: Protect against nullpointer dereference
c627ed6ae3 RangeFinder: remove divide-by-zero possibility
f383cf91a2 Tool: Vagrant: correct machine naming
57f2eb6853 AR_AttitudeControl: minor comment fix
b3cb491bb1 Copter: minor format fix to mode_land
032b4373f6 AC_WPNav: removed brake's unused dt calc
334ff0fb66 AC_AttitudeControl: Prevent DCM fallback from triggering a flyaway
428682c8e9 GCS_MAVLink: fix handling of global_vision_position_estimate
d633ba8c46 Copter: Add option to disable RPM module
2f59572d42 AP_Beacon: Use multiplications instead of divisions in Marvelmind
914f3385a4 ArduCopter: Moved land control fn definitions to mode.cpp (NFC)
1ff4019ddf ArduCopter: moved landing control fns from Copter to Mode
994e3e7092 SITL: SIM_Vicon: fix compiler warning
cbd2756467 Copter: loiter loses redundant z-axis init
a3a1601837 Copter: althold remove redundant z-axis init
8ff8364252 Copter: remove redundant takeoff_stop from flowhold
a03ddc6798 Tools: autotest: correct default parameter names and paths
24c1b0890d AP_BattMonitor: NFC improve coments
bb9b866c7f AP_BattMonitor: resolve compiler warning re init order
5215588ba0 AC_WPNav: remove unused set_desired_alt
ce0f0938ee Copter: make superclass handle command_ack packets
ac1a00739c GCS_MAVLink: remove msg_snoop functionality
484d97597b GCS_MAVLink: pass mavlink acks into accelcal library if it exists
9ad058783a AP_AccelCal: stop using mavlink_snoop for target traffic
beb5dc2fd6 Tracker: stop using mavlink_snoop for target traffic
050b8ebb32 AP_Motors: Allow specifying which battery is used for compensation
69cf009898 AutoTest: Update copter battery failsafe test
8dd55a85cd SITL: Create a second voltage to monitor for battery voltages
8fbec1cfa3 Replay: Support GCS_MAVLink changes
a108ae8f1e AntennaTracker: Support new battery failsafes
b761a57da3 Rover: Support new battery interface
6ebe954d51 Sub: Support new battery failsafes
291531e056 Copter: Support new battery failsafes
7405bb7b85 Plane: Support new battery failsafes
3f581d0479 AP_Frsky_Telem: Remove unneeded battery failsafe parameters
4a11093ebb AP_BattMonitor: Support critical and low battery failsafes
98e327640d AP_Motors: Use battery singleton
c66d15efd7 AP_Compass: Read current for compensation from the battery singleton
97fce557f5 GCS_MAVLink: Support AFS changes
dab13f0e34 AP_AdvancedFailsafe: Allow GCS teriminate to supply a reason cause
12fd19ea26 AP_NavEKF2: Clarify definition for gps_glitching flag
5785523a0d AP_NavEKF3: Clarify definition for gps_glitching flag
d600a96809 AP_Notify: Clarify definition for gps_glitching flag
4b00f399b4 Copter: Clarify definition for gps_glitching flag
6a91b294b4 AP_NavEKF: Clarify definition for gps_glitching flag
08189e0754 SITL: add parameter for Vicon observation delay
dfcf4788d3 SITL: add vicon-over-mavlink support
85b41a8abb AP_HAL_SITL: add vicon-over-mavlink support
1151d76345 AP_HAL_SITL: sim: namespace for specifying SITL devices from cmdline
a5a36c04d1 GCS_MAVLink: feed vision position data into AHRS
c680b931dc AP_NavEKF2: Enable fusion of external nav position data
aae4ed2553 AP_AHRS_NavEKF: accept external position estimates into AHRS
20412dc0db AP_AHRS: accept external position estimates into AHRS
0d77cfb6c3 SITL: method to return current vehicle location
c343a286c5 AP_Math: quaternion: add contructor from float[4]
8a36f05c98 Clean:remove the eclipse temple files.
b2eeceb82d AP_RSSI: add PH2 ADC to ANA_PIN param values
690e8fd3f4 AP_Motors: TradHeli - Changed RSC mode 3 to a spline fit throttle curve
600e0dac92 AP_Math: added support for cubic spline interpolation
ca907a5078 AP_Notify: correct parameter documentation
dca866c98d Tools: make parameter generation failure clearer
f8d5fe96d8 Copter: allow DataFlash to handle log sending
4b12fab5f5 Sub: allow DataFlash to handle log sending
8a75a804e7 Plane: allow DataFlash to handle log sending
5f4838f3f2 Tracker: allow DataFlash to handle log sending
57ed822db0 Rover: allow DataFlash to handle log sending
96d7eb6bed DataFlash: handle log sending as part of periodic function
3b3341f23d ReadMe: Updated TradHeli Maintainers
c311599e0a HAL_ChibiOS: make DEFAULT_PARAMETERS relative to source root
98ab1c13db Tools: fixed call to apj_tool in skyviper build
c39a802655 SRV_Channel:Servo Library - set allowable min value to 500 pwm uS Mostly for helicopter and airplane that may be using 760uS centered servos
5df2b1a3ac chibios hal config for F4BY
cafa5382e9 Tools: Revert "Tools: autotest: use custom gcc for ChibiOS builds"
97565ef97f Tools: added F412 bootloader
7b50517232 Copter: Moved commands_logic to mode_auto
580143d404 Copter: Add whitespaces to increase readability and consistency (NFC)
58480435bb Copter: Add missing parameter units (NFC)
fcc414c9d6 mk: include AP_VisualOdom in all vehicle builds
6dfdb19711 Tools: include VisualOdom in common vehicle libraries
3c58eca0ab Rover: move handling of visual odometry messages up
ed5140307a GCS_MAVLink: move handling of visual odometry messages up
41960704b0 Copter: move handling of visual odometry messages up
4f0cf6d334 Copter: Parameter ACRO_THR_MID is only used in ACRO flight mode
9de1813ae6 Autotest: Fix a race condition on the regression tests on Windows
78a3e1d07a Tools: autotest: use custom gcc for ChibiOS builds
a396a0d0fd Tools: build_binaries.py: copy more build products into output binaries directory
53f4282458 Tools: include skyviper-v2450 in binaries produced
2efd9341cd AP_HAL_ChibiOS: copy the common linker script to outdir, use it from there
44a063e818 Tools: ardupilotwaf: chibios: change directory before running make_abin.sh
edd0f74ec0 Tools: ardupilotwaf: chibios: hand apj tool an absolute path to parameters
e02f753b01 AP_Notify: removed unused code
64c2e691f8 full system status on 2 LEDs + buzzer pin as parameter
0a08bba437 GCS_MAVLink: eliminate AP_HAL::Print and AP_HAL::Stream
6c7c916c78 AP_HAL: eliminate AP_HAL::Print and AP_HAL::Stream
b54ac274f5 HAL_F4Light: added Revolution_SD board to rebuild script
d3bd5a5fb8 HAL_F4Light: Revolution_SD now works! Pinout in board's 1_read_me.md also increased reliability of work with SD card on another boards
de9932f6e0 HAL_F4Light: latest fixes
b9dd569edd HAL_F4Light: added support for DataFlash chips large than 128MBit
04dedd77d7 HAL_F4light: fixed 'instant reboot' modes
a3ebb5c069 HAL_F4Light: added support scripts for binaries with bootloader, fixed non-BL versions
a5934c721e Bootloader: bl revo405_bl fixed reboot to DFU mode, also added "instant" reboot without delay
cf3a9cddc8 AP_HAL_Linux: fix build error with flexible array
96ae9cef14 Rover: send correct mav-type for boats
d5c57d949b AP_Scheduler: eliminate goto update_spare_ticks
badfde6f18 AP_Scheduler: use continue instead of nested-if (NFC)
224ea50260 AP_Scheduler: continue in place of nested if (NFC)
5aa8890e5b Tools: autotest: fail convertgpx if zip or gpsbabel fail
6652dd73e4 GCS_MAVLink: Correct sending SCALED_PRESSURE.press_diff
a46c60f4de AP_Airspeed: Create a singleton
338af9e142 Tools: correct misleading comment on per-vehicle parameter descriptions
15450b956d Tools: sim_vehicle.py: make --tracker work again
dcf127b73d Compass: clarify compass orientation description
8b72809e37 Tools: fix motor rpm display in flightgear
2b87f6dcca Tools: autotest: replace use of distutils.dir_utils
ff852de87b AP_TempCalibration: fix FALLTHROUGH
f66c83a59e AP_HAL: fix FALLTHROUGH
9c23aa5ec3 ArduCopter: fix FALLTHROUGH
e5a9ac84e7 [Plane] Fix verify_loiter_heading acceptance criteria.
032ad9a67b Copter: avoid hard stop in missions
8b5f5a5fa0 Copter: fix camera relay trigger
5f9879fae1 Copter: remove more parameters when ACRO is disabled
d78c2a1015 Copter: Fix copy-paste error in toy_mode
a1797beb41 Copter: removed 1ms delay on startup
8511c2c04b Tools: autotest: factor out apply_parameters_using_sitl
fe3b882bea Tools: autotest: move close method up to common.py
31ba99e58a Tools: autotest: use buildlogs_path for all buildlogs
b2cb6e196c Tools: autotest: pull common MAVProxy options into common.py
b908af10b7 Tools: autotest: remove non-working dump-logs script
1a8a390d4c AP_Beacon: Fix FALLTHROUGH in Marvelmind device driver.
8e143aa637 Copter: Do not switch into a disabled flight mode
489551c9a4 Rover: 3.2.2 release notes
d8f56b3511 ArduCopter: changed signature for get_pilot_desired_lean_angles()
5fbb385c31 Tools: autotest: avoid exception when using Python3 on MacOSX
c9664a9923 Sub: move handling of get_home_position up
edcfa7ffd4 Copter: move handling of get_home_position up
5572d83ce9 Plane: move handling of get_home_position up
bb7bed0614 Rover: move handling of get_home_position up
bed3f0c344 GCS_MAVLink: move handling of get_home_position up
3af4806d38 Sub: move home state into AP_AHRS
7fd859da65 Plane: move home state into AP_AHRS
45f2312bfe Copter: move home state into AP_AHRS
9d0da4a71f Rover: move home state into AP_AHRS
cc5af90d1a AP_Arming: home state has moved to AP_AHRS
3a5807ae56 AP_AHRS: move home_status into AP_AHRS
8f8256b9f5 PX4NuttX: backported strtold() and strtof() to allow compiling with gcc7
4d31919935 PX4Firmware: fixed to alow compiling with gcc 7
8b8a99e1aa AP_HAL_PX4: fix possible overflow/truncation issue
5af02dde59 AP_Proximity: fix possible overflow/truncation issue
5282ed3a1b Tools: use ins singleton
43750d6f77 AP_SmartRTL: use ins singleton
daa8819619 AP_OpticalFlow: use ins singleton
8114db3fdc AP_Module: use ins singleton
25490b6151 AP_Mission: use ins singleton
517f71c183 AP_AHRS: use ins singleton
52882d11fa Copter: AP_TempCalibration does not take reference to ins
622be10163 AP_TempCalibration: do not take reference to ins
78ca188dc3 Sub: use ins singleton
a0b35cfa25 Tracker: use ins singleton
ceb64fb7d9 Rover: use ins singleton
f0daf392a5 AP_TECS: use ins singleton
e2de9d62cd APM_Control: use ins singleton
7c86c4fe61 Plane: use ins singleton
3190974e4f DataFlash: use ins singleton
55b8a2288e AP_NavEKF3: use ins singleton
40957ec430 AP_NavEKF2: use ins singleton
9f556197a0 AP_Mount: use ins singleton
f0d06e7a9c AP_Arming: use ins singleton
1dabcc473d AP_AHRS: use ins singleton
2749ee9060 Copter: use ins singleton
7cc808543f AC_Precland: use ins singleton
feecbe442f Copter: use multiply instead of divide in param conversion
d0e6c4d08d AC_WPNav: correct LOIT_MAXA param description
33f437a72c AC_AttitudeControl: use multiply instead of divide
548a7f8fcf Plane: add minor comment to quadplane
ee745d2cd2 Plane: quad plane uses rate-control control during transitions
c53ba22daa AC_AttitudeControl: add new rate only attitude control
a16d4ddad7 Plane: quadplane uses poscontrol instead of loiter
d43341c532 Sub: run guided velocity control at main loop rate
d7ea8f073f Copter: run guided velocity control at main loop rate
21abe1194e AC_WPNav: run horizontal position control at main loop rate
e9c23b538e AC_Circle: run horizontal position control at main loop rate
ac82a37728 AC_PosControl: run horiz control at main loop rate
9e0a57eec7 DataFlash: minor formatting fixes
c857f8332b Sub: replace NTUN with PSC logging
4a74b1b5e5 Copter: replace NTUN with PSC logging
13007e2a07 AC_PosControl: dataflash logging of PSC message
c5d838125b Plane: quadplane logs PSC message
5be1020578 AC_WPNav: use multiply instead of divide
69cfea4057 AC_PosControl: use float for local consts
b988a6ca08 AC_AttitudeControl: add units to INPUT_TC param desc
0392d2752d Copter: tuning rc-feel uses multiply instead of divide
92b56c2c89 AC_WPNav: init_loiter_target always resets I term
1035645f5c Copter: poshold always resets loiter I term
09cad7c59d Plane: quadplane integrates attitude control inertial_frame_reset
03c162432e Plane: quadplane provides dt to AC_WPNav::set_pilot_desired_acceleration
a0a9a68fbc Plane: quadplane smoothing gain replaced by Q_A_INPUT_TC
aa47b19dea Plane: remove quadplane calls to multicopter poscontrol's freeze_ff_xy
01d1d41302 Sub: integrate attitude control inertial_frame_reset
2154d08185 Sub: remove setting of pos-con jerk
2697e19513 Sub: guided removes xy mode from calls to pos-con
da17034a3d Sub: replace smoothing gain with AC_AttitudeControl::set_input_tc
a727305a59 Copter: integrate attitude control EKF inertial-frame-reset
f368ff6664 Copter: parameter conversion from RC_FEEL_RP to ATC_INPUT_TC
8ac653cabf Copter: AutoTune integrate renamed use_sqrt_controller
853d7ab573 Copter: remove setting of pos-con jerk
7511781a7e Copter: add accel target to NTUN log msg
f9acc8a666 Copter: guided removes xy mode in calls to pos-con
1a0be015f9 Copter: land, loiter, rtl provide dt to AC_WPNav::set_pilot_desired_acceleration
93de23e7c4 Copter: get-pilot-desired-lean-angles accepts another angle-max
1540f98888 Copter: add angle inputs to Loiter
9544b1763b Copter: replace smoothing gain with AC_AttitudeControl::set_input_tc
a356cfa529 AC_Circle: init resets desired velocity_xy
d104e3a3c0 AC_Circle: remove xy mode and limit angle to maintain alt
1c0678226c AC_WPNav: new loiter including accel ff and braking
c7c3dd561a AC_WPNav: brake, wp and spline clear desired velocity_xy
6430b75224 AC_WPNav: remove xy mode from brake, wp, spline
c59dc21c8b AC_WPNav: sanity check wp accel max vs lean angle max
dadc6a63c4 AC_PosControl: add set_leash_length_xy
e5bc2b26fe AC_PosControl: add lean angle max
0f3645b061 AC_PosControl: increase velocity gains
7ec043502f AC_PosControl: add accel limit to xy controller
bd13704f6f AC_PosControl: update init for guided
85b7f06554 AC_PosControl: combine z position control into single method
993e638752 AC_PosControl: combine xy position control into single method
74bb7616a7 AC_PosControl: add accel feedforward
9aa6415e1c AC_AttitudeControl: use is_positive and is_negative
b3de52dc59 AC_AttitudeControl: minor comment fix
05418d3d29 AC_AttitudeControl: add EKF reset handling
8c45345863 AC_AttitudeControl: rename use_ff_and_input_shaping to use_sqrt_controller
1e9e12e866 AC_AttitudeControl: rename heading_quad to yaw_vec_correction_quat
59a2445ad3 AC_AttitudeControl: replace smoothing gain with INPUT_TC
e1e224b68b AC_AttitudeControl: add angular velocity limit
ee82943f85 AC_AttitudeControl: add input_shaping_rate_predictor
6175a896ee AC_AttitudeControl: add set smoothing gain
213f7a4061 AC_AttitudeControl: add get_accel_roll/pitch/yaw_max_radss methods
185f41d5bd Copter arm_checks(): PreArm in error msg changed to Arm
45410759dc DataFlash: Log the frame a mission command is planned in
54b3936a46 AP_Beacon: Use marvelmind beacon raw distances on the EKF
29078824fc AP_Beacon: Replace max_buffered_positions variable with a #define
7df1419579 Copter: add missing MAGNETOMETER and STATS_ENABLED build defines
115ed491c0 Copter: Obey RANGEFINDER_ENABLED, AUTOTUNE_ENABLED and AC_TERRAIN build macros
f63388cb07 Sub: Obey RANGEFINDER_ENABLED and AC_TERRAIN build macros
89725a7aa5 AR_AttitudeControl: minor comment fix
30ba463f42 Rover: minor comment fix to acro
0652c89844 AP_Mount: use dataflash singleton
b348cfa985 Tools: autotest: flake8 compliance
259dda810d Tools: use base class to share code between vehicle tests
5b7116bbbd Copter: Fix else formating (NFC)
b1b978381a Tools: correct quoting in run_in_terminal_window.sh
db90ee6841 Copter: Remove RTL_ parameters if RTL flight mode is disabled
21c33b60db Copter: Remove DRIFT mode code if DRIFT mode is disabled.
ed36ec3c29 Copter: add option to disable THROW mode
b27c00dc5f Copter: add option to disable ACRO mode
20ac17cda8 Copter: remove adsb beacon nav-guided and visodom from min features
5ac5a68d17 Tools: param_parse.py: replace @PREFIX in values with library prefix
00353c7a06 Rover: avoid divide by zero in desired speed at waypoint calcs
86c39c0314 Rover: run update_mission at 50hz
343d119726 Rover: wp nav uses stopping point or prev wp for origin
d139f0e28e AR_AttitudeControl: add get_stopping_distance
9405c19e85 Tools: fix copter propeller animation in FlightGear multiplayer
5dde62cce9 Sub: Changed log message IDs to enum
b8a307cdd0 Copter: Changed log message IDs to enum
af207caa1f Copter: move get_pilot_desired_lean_angles higher in cpp
20995b909f Copter: Moved get_pilot_desired_lean_angles to mode.cpp
96793a3ae7 AP_Motors:TradHeli - DDVP Ramp/Runup Change to ramp and runup DDVP tail rotor to prevent torque pitching the frame and provide runup in sync with main rotor like a mechanically driven tail.
9208308121 Tools: stop build_parameters.sh copying non-existent files
a4d9d8ed6b Tools: add set -x to build_parameters.sh
0e6213a4c6 Camera: Track number of completed events
33cbc0692a MAVLink: update module to include camera feedback
b3c2e134f9 Autotest: raise set_rc timeout to prevent mavproxy to miss msg on speedup
4558ef5b1e Autotest: correct Rover expected name in banner
62522a4e1d Copter: fixed docs for Follow mode number
1ef3e4ca97 DataFlash: make more dataflash message IDs available
073d9519ca Rover: version to ArduRover V3.3.0-dev
e3f70119fe Rover: fix two-paddle input decoding
1dd14a8aed AP_UAVCAN: add can driver getter
80cb2e343c Tools: build_binaries.py: print errors out at end of run
cff8a98aa5 Tools: autotest.py: remove building of APM binaries
b1a4540359 Revert "AP_Airspeed: blending of several sensors and failure recognition"
585c484be0 Tools: fixed syntax error in build_binaries.py
6954a0035a SITL: SITL of several airspeed sensors
40e2d0d0c9 AP_HAL_SITL: SITL of several airspeed sensors
26c7614118 AP_Airspeed: blending of several sensors and failure recognition
c73e7f0cf3 add IST8310 compass sensors in AP_Compass.cpp
7fad79ca81 HAL_F4Light: fixed parameter's numbers for some boards
c4e8aeb105 AP_InertialSensor: remove linux-only include
7c499571ea add install-prereqs-mac.sh
53b76efbd2 AP_InerialSensor: setup INT_PIN_CFG correctly
ffcb9ce945 AP_TECS: use baro singleton
a40943038e AP_SmartRTL: use baro singleton
82a68a82e6 AP_OpticalFlow: use baro singleton
24ad36a7a3 AP_Module: use baro singleton
beb85e49fb AP_Mission: use baro singleton
7d024095c6 Tracker: use baro singleton
3a718366e1 Tools: Replay: use baro singleton
06f6135daa Sub: use baro singleton
f558bbca2e Plane: use baro singleton
d88bd52a53 Copter: use baro singleton
81ba037582 Rover: use baro singleton
e9ecc11b00 GCS_MAVLink: use baro singleton
735f671726 DataFlash: use baro singleton
5da78ff17d AP_TempCalibration: use baro singleton
7b1a906c4e AP_NavEKF3: use baro singleton
5ab89324b2 AP_NavEKF2: use baro singleton
8d8f2208c0 AP_Arming: use baro singleton
747dbea476 AP_AdvancedFailsafe: use baro singleton
024b29858d AP_AHRS: use baro singleton
02205a0cb3 AP_ADSB: use baro singleton
0675f41d1e AP_Baro: create AP::baro() function
5e1e3dc822 Sub: delete correct assignment operator
4104d40130 Plane: delete correct assignment operator
9f05556801 Copter: delete correct assignment operator
1f772c05f4 Rover: delete correct assignment operator
dcfe104163 Rover: reduce CRUISE_SPEED default to 2m/s
54d8a4852f AR_AttitudeControl: reduce steer rate P default to 0.2
e8726865ab AP_InertialSensor: Correct scaling of batch data
8b9ce3869c Tools: add bisect-helper.py
1baa6eb049 Rover: 3.2.2-rc1 release notes
4e8399ca3f Rover: acro and steering steer even with target speed of zero
36fab0209e AP_Declination: flake8 compliance for new generate script
78ecf55fec Rover: use AP::ahrs() for GCS_MAVLink
15f212adc0 Sub: use AP::ahrs() for GCS_MAVLink
0d04e916a1 Tracker: use AP::ahrs() for GCS_MAVLink
5671b3173e Plane: use AHRS singleton in GCS_MAVLink
9bffeb4117 Copter: use AHRS singleton in GCS_MAVLink
9d381c26a7 GCS_MAVLink: use AHRS singleton
5b7d5a9757 AP_NavEKF2: mark getEulerAngles as const
659ab06d3b AP_AHRS: AP_AHRS gets a virtual get_hagl function, EKF marks it override
0862d1454e Plane: use AP::ahrs() for ADSB
bc4f021516 Copter: use AP::ahrs() for ADSB
ae3099ef4b AP_ADSB: use AP::ahrs() singleton
dc30197ca7 AP_AHRS: add AP::ahrs() singleton
9f41641378 Tools: make decode-devid print address in hex too
72fab7d831 HAL_F4light: fixed board's 1_readme.md
f31b2421cc HAL_F4Light: fixed tool scripts
ac40aa7b70 HAL_F4Light: updated OSD submodule
c1c471dbaa Sub: Fix comment
35a4748c06 Copter: follow mode renames and comment improvements
8ae4047a00 AC_Avoidance: NFC small renames and comment improvements
86e2e82e57 Tools: fixed bootloader binary - revo405_bl
99ed57f886 AP_HAL_F4Light: added readme to USB driver
a96378e7e4 AP_HAL_F4Light: removed some commented-out code
b371d24959 AP_HAL_F4Light: more comments translated, added support to rebot into DFU mode even in bootloader version
ba0cec9c05 AP_HAL_F4Light: small fix (NFC)
1224ddc16b AP_HAL_F4Light: fixed some support scripts
d75491371d AP_Param_Helper: HAL_F4Light parameters divided into common and board specific
5c0c3a0f08 AP_HAL_F4Light: parameters divided into common and board-specific, added new parameter to reboot into DFU mode
0c179bfd6a AP_HAL_F4light: comments translated to english
b26d140316 Tools: ardupilotwaf: remove redundant --no-trigraph
af8476ae08 AP_HAL: added DPS280 and FBM320 defines
667093023c AP_Baro: added DPS280 barometer driver
5b7fe26f33 AP_Baro: added FBM320 driver
af56826107 Copter: follow mode fixups
6ee101ca98 Copter: rename chase to follow
053983eb70 Copter: integrate AP_Follow into chase mode
199455dc56 Copter: add chase mode
0840f0e8ae Copter: add AP_Follow to build
c1dbd67a9b AP_Follow: library to track and follow another vehicle
be804aa74e AC_Avoid: limit velocity and get-max-speed become public
f7751ec44a AP_UAVCAN: reverted UAVCAN PR 7827
504e231ba2 AP_AHRS: reverted UAVCAN PR 7827
fd6185be0f HAL_ChibiOS: fixed python3 pickle error
ba55f99419 waf: fixed python3 pickle error
4d5b5b7fdd AP_HAL_F4Light: fixed OSD compilation issue
67a3afbbbd AP_HAL_F4Light: scripts to load & store EEPROM
99a3cd6de3 AP_HAL_F4light: two new boards: RevoMini with resoldered EEPROM and RevoMini with SD card adapter
ee8adf9073 AP_BattMonitor: fix build
33288fa676 Plane: NFC adapt to new AP_Battery method name
03019918cc GCS_MAVLink: NFC adapt to new AP_Battery method name
3632cd7588 DataFlash: NFC adapt to new AP_Battery method name
7d8aeefee4 AP_Frsky_Telem: NFC adapt to new AP_Battery method name
6cbeb73d1b AP_BattMonitor: NFC rename functions and variables to match their functionality
bc86ca0e3c Copter: simplify Log_Write_Proximity
b0f22833f6 Copter: Add GRIPPER_ENABLED macro to user config file
c1246c59e0 Copter: disable scheduler tasks for optional features
bbd1aa1cab Copter: Improve interoperation of AC_AVOID_ENABLED and BEACON_ENABLED
6820531e2a Plane: fixed error string spelling
faea5d285c Plane: Consolidate some of the PID logging details
b6c0e65dee waf: set CYGWIN_BUILD on cygwin for px4
27e4953ad8 Plane: disable HIL on px4-v2
1ace5ac534 AP_UAVCAN: changed att and fix send timers to be 32bit
1add05d9a1 AP_UAVCAN: reduce whitespace indentation
c49d4aef50 AP_UAVCAN: position and attitude broadcast
2f7196d71f AP_AHRS: UAVCAN publishing of attitude and location
c642deafde AP_Declination: updated tables for Feb 2018
444588aaef AP_Declination: added generation of field tables
03b1fdca97 AP_Declination: split tables into a separate file
b10aa2f58f AP_UAVCAN: minor optimization of LED driver
6ce6afa4be AP_Notify: enabling UAVCAN_RGB_LED for Linux Edge
f457dee568 AP_UAVCAN: rearranged some logic to be more efficient
228058e089 AP_Notify: update some logic syntax
b5467bed7f AP_Notify: add new device UAVCAN_RGB_LED
a1017fb815 AP_UAVCAN: utilizing equipment.indication.LightsCommand
8ffc2aa6e6 waf: submodule update
7308c9aa7b DataFlash: tighten types up to save flash space
50c3ed1460 Copter : allow rc_override input at start found by chobitsfan
961a97a8c9 HAL_ChibiOS: expand docs on STDOUT_SERIAL
0cd6c9e5fb HAL_ChibiOS: added commented block on enable debug for builds
556f3ba53f HAL_ChibiOS: make UARTs non-blocking by default
33dd14b8d9 HAL_ChibiOS: use PULLUP on UART TX/RX lines
91c741ef07 HAL_ChibiOS: use a non-blocking lock for UART shared DMA
76c76f61c0 git: change submodules to default to git protocol
3e9f0f83f0 waf: fixed cygwin build for ChibiOS
08634903c8 HAL_ChibiOS: use relative path for common.ld
5d627ae2bc waf: submodule update
9ab695b7ca HAL_ChibiOS: fixed namespace error
93bd546e6c AP_Common: fixed cygwin ChibiOS build
706a0c1b2f waf: define CYGWIN_BUILD for ChibiOS under cygwin
403ba0c325 HAL_SITL: cope with cygwin64
d75e47a4d8 SITL: cope with cygwin64
153ad95398 HAL_ChibiOS: added hwdef.dat for minimal F405 and F427 boards
306d35655e HAL_ChibiOS: allow for bare board builds
64bda71da5 AP_HAL: added generic ChibiOS board type
455c0e25e1 AP_InertialSensor: allow for HAL_INS_NONE
8b3db7c09f AP_Compass: allow for HAL_COMPASS_NONE
43f1b43b6c waf: auto-generate board targets for ChibiOS
2075a3da7d waf: use pre_build hook for ChibiOS
2476a51908 waf: allow for pre_build hook in board modules
74ed19f460 HAL_ChibiOS: moved more board setup into hwdef.dat
7d5ed1bc9b waf: simplify board classes for ChibiOS
ebbd15ea17 HAL_ChibiOS: auto-enable CAN when pins are defined
fed1579187 waf: auto-enable CAN for ChibiOS builds
d84c487a60 HAL_ChibiOS: generate env.py from hwdef.dat
89430793dd waf: allow env variable overrides in hwdef.dat
5f353b5c85 HAL_ChibiOS: fixed build of I2C without I2C1 defined
61debe95e0 Tools: started on OMNIBUSF7V2 support
3c0e5a315f AP_HAL: started on OMNIBUSF7V2 support
6b6c35a435 waf: use relative paths for ChibiOS build
21951243f0 HAL_ChibiOS: default debug checks off
0cf104f2f3 HAL_ChibiOS: added scale_esc_to_unity()
21d401e844 HAL_ChibiOS: fixed compass orientation for revo-mini
46c3308964 HAL_ChibiOS: enable mag on crazyflie2
487b615faa AP_Compass: allow for override of MAG_BOARD_ORIENTATION
d5fc1ff3d4 HAL_ChibiOS: fixed crazyflie motor order
cf00bd99ea Copter: enanle RC override by default
7e8ceb1121 HAL_ChibiOS: define ALLOW_ARM_NO_COMPASS
30572692c4 Copter: added ALLOW_ARM_NO_COMPASS
e05bac425f HAL_ChibiOS: setup crazyflie2 IMU and baro
2b0a3272fd AP_HAL: support LPS25H on MPU AUX
75a262ebf9 AP_Baro: support LPS25H on MPU9250 AUX
9e84c45035 HAL_ChibiOS: dynamically create name for bus threads
5da13774d5 Sub: Adjust to the defined value.
a7647e77d9 AP_Airspeed: fix compiler warnings
b6191578dc AP_ADC: correct compilter warnings
816045c1ab AP_GPS: correct compiler warnings
4288133ce0 AP_InertialSensor: correct compiler warning
ea75dd2d59 AP_Mount: correct compiler warnings
46dbb248f9 AP_Compass: correct compiler warnings
c93aea24c6 AP_Soaring: correct compiler warnings
9b23b469cf AP_OpticalFlow: correct compiler warning
e7d48977ba AP_Proximity: compiler warning fixes
1915244960 SITL: correct compiler warning
844ed611c6 AP_UAVCAN: UAVCAN battery information added
fcccc0174b AP_BattMonitor: UAVCAN battery information added
15b8ae99fe AP_HAL_Linux: fixed AP_MODULE_SUPPORTED on static build
ea1a6b2044 AP_GPS: set have_vertical_velocity if MAVLink GPS report it
b773334008 AP_HAL_F4Light: disable AP_Stats to reduce flash degradation
bab54ea647 Rover: allow AP_Stats to be optional
98b8a61ca8 Plane: allow AP_Stats to be optional
adcc309f15 Copter: allow AP_Stats to be optional
dbe860152d AP_NavEKF2: tight types on constants
3a99b2bce1 AP_NavEKF: move initialisation of EKF constants into header file
70eb659c2d added .apj to .gitignore
c41d7d9486 AP_HAL_F4Light: build changed to use bootloader also added generation of .apj images
3f17ac765e Tools: build_binaries: raise a CalledProcessError on bad exit code
4d28fa8e09 Tools: build_binaries.py: catch exception on copy failure
312bde54b4 HAL_ChibiOS: added fmuv2 build for 1M flash boards
035da5047a waf: added fmuv2 build
a6aeebad4b Plane: Add support for AP_Gripper
cbbd5d3410 Tools: remove unused build_binaries.sh script
053d789843 Tools: ardupilotwaf: disable SLP vectorization for clang++ in SITL
9897ff60de Frame_params: Add BlueROV2 Heavy param file
c0954b557e Copter: move BCN param desc within define
e4382c2232 AP_HAL_ChibiOS: fix CAN thread name
146143ff2e AP_Rangefinder: adapt to new serial manager enum name
0340188a8f AP_SerialManager: rename Lidar to Rangefinder
45531775cd AP_Rangefinder: support multiple serial rangefinders
5999421c72 AP_RangeFinder: uLanding now uses the Lidar protocol
972264637c AP_SerialManager: remove special uLanding protocol type
398d0d1f37 Copter: do not allow toy mode on Helicopters
b8e1f03599 Copter: add define for disabling beacon
18135b4764 Tools: build-with-disabled-features: update deps
0e68ce2ad8 Copter: correct #error prerequisites
5b355214fd Copter: add option to disable CIRCLE flight mode
e4898e1d60 Copter: add option to disable GUIDED_NOGPS flight mode
86b162e32f Copter: add option to disable BRAKE flight mode
a7fe242e31 Copter: add option to disable RTL flight mode
b8c432b1a1 Copter: add option to disable GUIDED flight mode
0ddeb56a05 Copter: add option to disable DRIFT flight mode
e5056f8d40 Copter: add option to disable SPORT flight mode
7154f4dea4 Copter: add option to disable LOITER mode
9b440d6b25 Copter: add option to disable SmartRTL mode
3a61b86e65 Copter: add option to disable POSHOLD mode
b9ad2bc8db Copter: add option to disable AUTO mode
eb9bbddcb7 Copter: add in_guided_mode mode callback
e66034f183 Copter: allow fence to be disabled while AFS is enabled
bb9af3b79d Copter: autotune: correct compilation when logging disabled
75180c3c08 AP_HAL_F4light: fixes OSD compilation issue
6241ca4527 GCS_MAVLink: send 65535 for 16 bit meminfo
2581965669 HAL_ChibiOS: fixed mini-pix IMU orientation
9cffa13f7b Copter: correct mav result for compass motor calibration on heli
234dcc1939 AP_HAL_Linux: fix BeagleBone Blue voltage divider
b24e5c3991 Copter: Obey MOUNT == DISABLED
846506230d Copter: remove pointless initialisations
1a68979050 Copter: correct nullptr check for circle nav allocation
e05cba5d2c DataFlash: remove default reason of zero from Log_Write_Mode
f844f4ea80 Tracker: add reason to set_mode
dc5ef168fd Copter: toymode: correct compilation with fence is disabled
25665c5dd9 Copter: correct definition of unused variable when precision landing disabled
06da2f50ce Copter: correct compilation when logging is disabled
67257e545e Tools: add how-to-use comment to build-with-disabled-features
705e6287b9 Tools: add a build-with-disabled-features script
8d49e1ac18 Copter: re-added reason to mode change log msg
ab413b4605 AP_Notify: added personal support for AP_HAL_F4light
e2b628c471 AP_HAL_F4light: fixed compilation for boards AirbotF4, AirbotV2 and CL_Racing_F4. Corrected prefix for binaries
094e284737 HAL_F4Light: print() is a function in modern Python
aafede65f7 Sub: Add camera pan functionality
1196019b53 Sub: Correct joystick transform_manual_control_to_rc_override
83f4bf3390 DataFlash: add load_average() to PM log message
919383a739 AP_Scheduler: add load_average() to PM log message
90d32abd47 DataFlash: add percent to UnitStructure
6a862c6e24 SITL: make home location parsing verbose
d1a96ca4ff AP_ADSB: fix spelling in comments
def098bd8a Copter: obey ADSB_ENABLED == DISABLED
f0534a35d1 Copter: format change for includes
137de0fea5 Copter: conditionaly include more header files
381bae1a4a Copter: add missing defines to config.h
6a1055389d AP_NavEKF3: Fix origin height estimator indexing bug
002494c048 Copter: Obey CAMERA == DISABLED
9419cc3b32 Plane: Fix param docs for quadplane attitude control
6f20c6a97b Copter: Set the loop rate of G_dt as a variable.
8f227201e0 Sub: move reset params to default handling to GCS base class
582ef7ca5c GCS_MAVLink: handle reset params to defaults command
11cfa5fd01 HAL_ChibiOS: correct LSM9DS0 bus IDs to match HAL_PX4
6fb9210c95 Tools: vagrant: install gcov for coverage and pexpect for autotest
e88be33c9e Updated the usbmodem line for upload
ead72214ac AP_OpticalFlow: support SP01 board
4d0c3b6581 HAL_ChibiOS: added pixartPC15 SPI device for SPI01
9e272b7a95 AP_Baro: support SP01 board
b61caa9c57 AP_InertialSensor: added SP01 board type
f61591c426 AP_Compass: added SP01 board type
f7ec2618a3 AP_BoardConfig: added SP01 board type
4dc88c6022 waf: added crazyflie2
60b6f4c11d AP_HAL: added crazyflie2
c4445a7dfd AP_HAL_ChibiOS: initial hwdef for crazyflie2
a6e0bb4ed0 HAL_ChibiOS: fixed uart order for revo-mini
fba962f7ff HAL_PX4: allow for different LED pins
17b3607aa8 HAL_ChibiOS: fixed RCIN on revo-mini
50be97b461 ChibiOS: submodule update
c6879c679a HAL_ChibiOS: re-enable USART1 on revo-mini
310acd333e AP_HAL: use 1/0 not HIGH/LOW for LEDs in ChibiOS
427e00dd41 HAL_ChibiOS: switched to system timer for AP_HAL::micros()
f321c84f9d ChibiOS: submodule update
ceeb5e6892 AP_HAL: use 1/0 not HIGH/LOW for LED polarity
f357eec78b HAL_ChibiOS: added more comments in hwdef.dat
9a95737d7d HAL_ChibiOS: added lots of comments to FMUv3 hwdef.dat
a057498e0c HAL_ChibiOS: pull PA9 PA10 high on revo-mini
0fdef97c76 AP_Notify: allow ChibiOS to use PixracerLED driver
66608e8cad HAL_ChibiOS: improved mini-pix support
52815cd952 AP_Compass: fixed compass orientation for mini-pix
f85c82ee5d AP_Baro: fixed baro scaling for LPS2XH
320c3b53a4 waf: make it easier to list USB IDs to load fw to
59ee3c8f62 AP_HAL: support mini-pix
9b99a0ce55 AP_HAL_ChibiOS: fixed mini-pix hwdef.dat
231aa16835 AP_Compass: support mini-pix
88effef51a AP_Baro: support mini-pix using LPS25H SPI barometer
348a757cc6 Copter: re-enable FLOWHOLD mode on skyviper
fe36c09bb0 Tools: correct Gazebo-iris param
c3f8d5580a HAL_ChibiOS: undef log directory for skyviper-v2450
47d5de353d Sub: Set neutral controls when switching to manual/acro mode
08298fced6 Sub: clear roll/pitch trim when setting neutral controls
b94ed3aecd Sub: Adjust roll/pitch joystick button logic
0e9b5f4c10 Build: add commonly used boards info including skyviper
6cc007598e AP_Scheduler: initialise _last_loop_time_s in init()
f190ca0867 Rover: use scheduler.get_last_loop_time_s()
59868f425e Sub: use scheduler.get_last_loop_time_s()
e6cebdecd1 Plane: use scheduler.get_last_loop_time_s()
00ec3efb48 Copter: initialise G_Dt to 1.0/400
8907cb3b23 AP_Scheduler: time in seconds should be a float
50ccbb5d0c Tools: autotest: correct speedup parameter handling
aeb99c675b Tools: autotest: remove racey mavproxy.expect
44a1553535 Sub: eliminate perf_update scheduler table shim
3859e5dfb1 Plane: eliminate update_perf_logging scheduler table shim
730adc3f7c Copter: eliminate perf_update scheduler table shim
90d26a5100 Rover: eliminate perf_update scheduler table shim
8288198ac8 AP_Scheduler: force single-precision floating point calculations
f06fdf330e Copter: use get_last_loop_time_s() for G_Dt
491715bec7 AP_Scheduler: added get_last_loop_time_s()
f436901517 AP_Scheduler: fixed perf info to match previous behaviour
b7c4dea9d3 HAL_ChibiOS: gain back 250usec in loop time
e0c9d9b592 AP_Scheduler: fixed loop time available
24d6493453 AP_Scheduler: make loop times cover INS wait_for_sample
434c3fffc7 AP_Scheduler: fixed filtered loop time
832a96d29f Sub: use filtered loop time
e0de4bccdf Copter: use filtered loop time
80c45a7431 Rover: use filtered loop time
36660b2124 Plane: use filtered loop time
620d6ab4b8 AP_Scheduler: fixed merge issues
ae958632ec Sub: pass log-performance-bit at init time rather than update time
4586b892f2 Plane: pass log-performance-bit at init time rather than update time
de56ae56e1 Copter: pass log-performance-bit at init time rather than update time
c2663fca9e Tracker: pass log-performance-bit at init time rather than update time
7b6bc4adf1 Rover: pass log-performance-bit at init time rather than update time
73c0905b5e AP_Scheduler: pass log-performance-bit at init time rather than update time
4672e9d4eb AP_Scheduler: resolve debug name conflict
8cae776448 Plane: move logging of PM and PERF messages to AP_Scheduler
55c27dfc56 Rover: move logging of PM messages to AP_Scheduler
980fbf6cfb Sub: move logging of PM messages to AP_Scheduler
bfc373aeff Copter: move logging of PM messages to AP_Scheduler
30d813a83e DataFlash: move logging of PM messages to AP_Scheduler
d3c1b720c6 AP_Scheduler: move logging of PM messages to AP_Scheduler
b2e2b91d7e Rover: move PERF: statustext sending into AP_Scheduler
375911cd7c Copter: move PERF: statustext sending into AP_Scheduler
3e6ba8d96e Sub: move PERF: statustext sending into AP_Scheduler
d151b27e92 AP_Scheduler: move PERF: statustext sending into AP_Scheduler
baa6e04854 AP_Scheduler: change loop time to remove sleeping in wait_for_sample
7313d9e7a7 Sub: use AP_Scheduler's loop() function
d9bb546048 Rover: use AP_Scheduler's loop() function
02540fdbf9 Plane: use AP_Scheduler's loop() function
80a3d63264 Copter: use AP_Scheduler's loop() function
4909000441 AP_Scheduler: implement loop()
096f7367bf AP_InertialSensor: add ins() to AP:: namespace
73092c3c30 Plane: use scheduler ticks in place of mainloop_count
9bb1224cef Sub: use scheduler ticks in place of mainloop_count
7f69c5d26d Copter: use scheduler ticks in place of mainloop_count
211e7416a9 Rover: use scheduler ticks in place of mainloop_count
e713802c24 AP_Scheduler: add accessor for tick counter
519e6c31d2 Plane: use AP::PerfInfo library
9511e72113 Rover: use PerfInfo for performance monitoring
044bc9adf0 Sub: tell PerfInfo the configured loop rate
bf6a2b8bb5 Copter: tell PerfInfo the configured loop rate
ae9d4d514d AP_Scheduler: PerfInfo: allow specification of loop rate
d1781532d4 AP_Scheduler: PerfInfo: add pragma-once to header
c15926e24a mk: remove dsdlc generated in make px4-cleandep too
bae67c479b Tools: update instructions on how to use Vagrant VM
bd33b704d2 Tools: Vagrant: define many Ubuntus
0a7ae22398 Tools: Vagrant: use install-prereqs-ubuntu for installation
793f50808d AP_GPS: add param defaults for EMLID_EDGE for GPS_TYPE=9
3105fd56bc AP_BoardConfig: add param defaults for EMLID_EDGE for CAN_DRIVER=1
a2f1f63ab3 AP_HAL: add param defaults for EMLID_EDGE for GPS_TYPE=9 and CAN_DRIVER=1
8369f125ce AP_HAL: Edge: add define HAL_WITH_UAVCAN
7302618bbc waf: add support UAVCAN for Edge board
cec346c016 mk: fixed px4 build with new uavcan messages
9eda7f4e31 Copter: global-pos-int uses system time
81d3a3106e Sub: global-pos-int uses system time
24b8ed48b6 Rover: global-pos-int uses vel from EKF instead of GPS
dd6755f486 Plane: fix global-pos-int velocity direction to NED
f47e65822f Rover: fix global-pos-int velocity direction to NED
144dd82fe4 Tracker: fix global-pos-int velocity direction to NED
e6ece4cf3d Copter: correct use of parent class constructors (heli)
da69832140 AP_HAL_ChibiOS: add #ifdef around toneAlarm thread stack declaration
ecb805768b Sub: remove shims used in scheduler table
755b1cdced AP_HAL_Linux: rpi: sort include headers
90160a9c52 AP_HAL_Linux: rpi: use const var and fix formatting
05ebabbf6b AP_HAL_Linux: fixed RPi version detection on kernel 4.9
f86d4466bd Tracker: remove shims used in scheduler table
72b698bf96 Tools: update AION default param
df304c5e6b Rover: remove shims used in scheduler table
89c830e949 Rover: make SmartRTL mode decide whether to save position or not
0ca653c8dd Copter: disable winch, gripper, sprayer on v2 build
7938bd08bb Copter: make flowhold mode conditional
7be15cab45 AP_HAL: disable copter winch on f4light boards
296ee7315b Copter: minor formatting fixes
c31c2a4cf1 Copter: optionalize the winch
ec98cab262 AP_WheelEncoder: hide parameters by default
40d74584ac Copter: remove shims used in scheduler
3aa211b325 AP_HAL: fix BeagleBone Blue external I2C number
84bf401fea mavlink: submodule update
1db04772b2 AP_UAVCAN: non-functional change - fix style
2a34593ed3 AP_UAVCAN: Magnetic: allow more than one compass on one node
00a013e5be AP_UAVCAN: utilizing MagneticFieldStrength2 message
59b2d44323 AP_HAL_ChibiOS: make ToneAlarm compilation conditional on presence of alarm pin
9ab5ea87e0 ChibiOS: submodule update
d569e35a0f AP_HAL_ChibiOS: add toneAlarm support for ChibiOS on MindPX-v2
6baad37e47 AP_HAL_ChibiOS: add ICM208060-am to SPI device table in fmuv3/hwdef.dat
13c54c0543 AP_HAL_ChibiOS: add missing declaration in chibios_hwdef.py
3a40ba1d3e AP_HAL_ChibiOS: add buzzer support to hwdef.dat for fmuv3
fb142422f6 AP_HAL_ChibiOS: pull ALARM_CHANNEL into pwmGroup
8b216cf182 AP_HAL_ChibiOS: add ToneAlarm thread
d200f30cd7 AP_Notify: add ToneAlarm backend for ChibiOS
7c0e18f0c7 Tools: added more bootloader details
04be33c0c5 Tools: added skyviper bootloader
e574250071 mk: use new bootloader location
2cbf04a3d0 waf: use new bootloader path
d6f3ef0be1 Tools: moved bootloaders to Tools/bootloaders
3bec25da85 AP_Compass: resolve compiler warnings
2fb6113098 Plane: use AP:PerfInfo class
55358459c7 AP_AHRS: fixed AP_MODULE_SUPPORTED
d5be04dc8f AP_HAL: fixed AP_MODULE_SUPPORTED
61892036f8 AP_Module: fixed AP_MODULE_SUPPORTED defines
b5e5b622c7 AP_InertialSensor: use register header for Revo driver
0e6497aa85 AP_InertialSensor: merged in Revo driver
ba32b06c59 StorageManager: fixed header order
6249706d8d git: ignore .i files (for revomini build)
682dcb65cf AP_BoardConfig: added param helper for HAL parameters
207f7893d6 mk: added F4Light HAL support
0d8c71de71 DataFlash: added F4Light HAL support
2b213b78ab AP_Param_Helper: param table support for HAL
f8569ac39e AP_HAL: added F4Light HAL
61793c485a modules: added submodules for HAL_F4Light
04beb45521 HAL_F4Light: new hal for F4 boards, close to bare-metal
739c873991 AP_Frsky_Telem: fixed build warnings
ac196b8e0a Plane: fixed build error
50a2d824c4 Plane: crash detection hard landing detection should skip debounce
2aeda48512 AR_AttitudeControl: minor arg name fix
8f8917369c Copter: correct use of parent class constructors
18caed135e AP_UAVCAN: simply do_cyclic
52589f3c22 AP_UAVCAN: refactor RC Out functions
5e55784707 Copter: remove unneeded and unwanted virtual keywords
4319e37f0c Copter: non-functional FlowHold changes
10f940c8d0 HAL_ChibiOS: adjust RCIN pin settings for fmuv4
9301e4888a HAL_ChibiOS: make not having bus lock a soft error
abd659212e AP_BoardConfig: fixed device semaphore in board detect
2b86c0e962 HAL_ChibiOS: tweak DMA settings for skyviper-v2450
8226530610 HAL_ChibiOS: added DMA_PRIORITY and DMA_NOSHARE options
8b5291975b waf: disable uavcan and fatfs on skyviper-v2450
36695fe1f6 waf: create abin files for some px4 builds
507fcb0f27 Tools: moved make_abin.sh into Tools/scripts
258ae49952 waf: support PX4 boards with no microSD or USB
bacafb77cf mk: added rcS_no_microSD
eb0389caf2 HAL_PX4: used cypress bus defines
f8e16008f6 AP_HAL: updated cypress radio bus pins for skyviper
330fa815e8 Frams_params: updates for new pos controller for skyviper
88d53aaa92 mk: added AP_TempCalibration and AP_Radio
763aee6b48 Copter: fixed units on flowhold brate rate
4ce0c2c827 HAL_ChibiOS: simplify skyviper-v2450 config
b90c0d78f3 HAL_ChibiOS: fixed build warning
86d43061e9 waf: added skyviper-v2450-px4 build
64384fa8c9 AP_Radio: allow build of AP_Radio under PX4
0ed75052f8 Copter: enable parameters inside mode objects
8eff43a352 HAL_ChibiOS: fixed printf arguments
f928bd9420 AP_Radio: fixed build warnings
598c2b9eb1 AP_TempCalibration: fixed build warning
aee6462deb HAL_ChibiOS: enable I2C clearing on F412 board only
40142e5aef ChibiOS: implement way to clear i2c bus by toggling clock line
238db04187 Frame_Params: set TMODE_ENABLE=2 for the F412
9261e1cbde Copter: enable F412 toymode button setup
8d43c6c3dc AP_Radio: implement OTA update for cc2500
ca12d99430 Frame_Params: fixed orientation on F412
0d089e8116 HAL_ChibiOS: fixed F412 OF reset pin
eeff485a39 AP_Radio: fixed timing of telem packets
240b6d57f7 AP_Radio: added SRT packet formats for cc2500
2b9dd0b394 AP_Radio: fixed startup with stored bind info
3c3389a005 HAL_ChibiOS: raise I2C bus priority on F412
20a008c80a HAL_ChibiOS: disable trace buffers
b380143349 AP_InertialSensor: improved handling of I2C invensense sensor
b33c815e96 AP_InertialSensor: added whoami for prototype 20789
58dfca8ccd Sub: pass loop rate to perf_info
daf35f7a30 Copter: pass loop rate to perf_info
b3ed8fd3f9 AP_Scheduler: scale perf_info with loop rate
875008f2a6 HAL_ChibiOS: lock all DMA channels on reboot
32ddbca428 AP_Radio: do cypress sends as single transfer
65f4c0ba50 AP_Radio: improved timeout abstraction in cypress driver
6faace278a HAL_ChibiOS: run i2c at 400kHz on F412
907728e323 AP_Radio: prevent crash if cc2500 device not found
9f53ae1ea4 HAL_ChibiOS: added F412-rev1 hwdef.dat
ad8db6cda3 AP_InertialSensor: added sensor type ICM20789_SPI
2c8e6bb834 AP_Compass: use generic defines for BMM150
00d3c158db AP_Baro: use generic defines for 20789
6bc3d126bb AP_HAL: added sensor defines for BMM150 and ICM20789
2db74a642b waf: added skyviper-f412-rev1 board
47ce37f463 HAL_ChibiOS: report I2C clock downgrades
76703a80c4 Frame_params: disable unpopulated serial ports
8dcf89b2b7 AP_Scheduler: put scheduler debug on console
73418519eb HAL_ChibiOS: enable analog debug on F412
fd824e6258 HAL_ChibiOS: enable toy mode on F412
3b5bb3cae2 Frame_params: default to CC2500 radio for F412
5a210a697e Copter: fixed flowhold build
b0c16f7eb9 waf: auto-build abin files for ChibiOS
d208dc69d3 Tools: moved make_abin.sh into ChibiOS scripts
cc8a37b2fc AP_Radio: pack telemetry structures
4aa604a193 HAL_ChibiOS: enable pixartflow on skyviper-V2450
429a2beb86 AP_OpticalFlow: enable pixart flow on PCNC1 boards
5eb29f94ce Frame_Params: update config for Skyviper-2450
af4f0c29ba Copter: enable TMODE (ToyMode) support
8f1e8e787a GCS_MAVLink: added DATA96 hook for AP_Radio
779de02acb waf: disable double-promotion warnings on ChibiOS
f442b91ea5 Copter: added FLOWHOLD flight mode
0b5e3936fe AP_AHRS: added earth to body 2D rotations
9cce1e0733 StorageManager: expanded bind info to 56 bytes
7ac6df6f3e AP_Radio: use GDO2 for IRQ on cc2500
3456d67b2f AP_Radio: some boards won't have a radio reset pin
591e0c2249 HAL_ChibiOS: allow control of interrupt port
3cacb1d4b5 HAL_ChibiOS: commented the motor order in hwdef
674bf12f6e Frame_params: fixed ordering of F412 motors
4e8f8e88d9 AP_TempCalibration: fixed degC units
42b2843032 AP_Radio: removed obsolete example code
570a05e9d3 AP_OpticalFlow: fixed pixart SPI name
3f7934d082 AP_Radio: improvements to cc2500 driver
e087fc7730 AP_Radio: initial implementation of cc2500 driver
f3f6972fc0 HAL_ChibiOS: output panics on system console
7c8cf0a39e AP_OpticalFlow: fixed SPI name for pixart flow sensor
ebeda12953 Frame_params: added defaults for SkyViper-F412
5a6831b606 AP_Baro: allow ICM-20789 on SPI or I2C
4570213665 scripts: added make_abin.sh script
a3dabf3c55 AP_Baro: enable 20789 baro on F412
b702dd5342 Tracker: removed compass learn_offsets()
65308f9411 Rover: removed compass learn_offsets()
a26d19b57c Copter: fill in flight mode in AP_Notify flags
ce0bcf1adc Copter: disable toy_mode by default
d1e11a5bde Plane: fixed build (remove learn_offsets call)
ac4017e2ae RC_Channel: added set_and_save_radio_trim()
472eed3847 AP_Baro: enable use of pressure correction
15166eff2e Copter: enable temperature calibration library
5c259459ea waf: build with AP_TempCalibration
177284bd6b AP_TempCalibration: temperature calibration library
57a3bc1397 AP_Compass: new compass learning system
6a89fdf268 SITL: use AP_Declination for magnetic tables
252fc9c757 AP_Declination: added inclination and intensity tables
1f76f69d80 Copter: implement per-motor compass compensation
ca30f6aec8 AP_Compass: added per-motor compass calibration
b1ccf575f7 AP_Radio: support DATA96 packets for fw update
6ef5f61faa AP_Radio: add ChibiOS support
14dcee75f1 AP_Notify: added video recording flag
e2d91535d0 AP_AHRS: fill in have_pos_abs
b622fe143e AP_Notify: added have_pos_abs flag
ac324a3760 StorageManager: added bind info storage area
3afaf81ccc AP_BoardConfig: added param object for AP_Radio
a8af1974d2 HAL_PX4: hook into AP_Radio for RC input
ddb2f4b5ad HAL_PX4: define cypress SPI bus
beb5a41389 AP_HAL: add radio defines for PixHawk
0258c5baf4 waf: added AP_Radio to build
be002665cf AP_Radio: implement CYRF6936 direct attached radio
b9e5649888 AP_InertialSensor: support PCNC1
2cc0f25ca0 AP_Compass: support PCNC1
b2172a0475 AP_Baro: support PCNC1
12a3cc1179 AP_Baro: use Invensense defines when configuring ICM20789 IMU part
71cf3941a7 AP_InertialSensor: move Invensense register defines into separate file
3ee112843c AP_InertialSensor: configure bypass for 20789 like we do for AK8963
5d94172ada AP_InertialSensor: remove clearing of BIT_USER_CTRL_I2C_MST_EN bit in user_ctrl
3a0c5bed85 AP_Baro: ICM20789: example fixes
bf95be96f3 AP_Baro: ICM20789: stop dev_icm being an instance variable
c56486a39e AP_Baro: remove pointless destructor overrides
05fb28c7f9 AP_Baro: use HAL_SEMAPHORE_BLOCK_FOREVER
ea83a487d4 AP_Baro: create BARO_ICM20789_DEBUG and use it
31d8b6ba64 AP_Baro: do not take semaphore if HAL_INS_MPU60x0_NAME not set
bf67153791 AP_Baro: implement ICM20789 barometer
5a4f0fed2d AP_InertialSensor: added ICM-20789 support
6ca1c03767 Tools: Skip reinstall of existing packages in install-prereqs-arch
8aa00e88e2 Tools: Correct submodule update script in install-prereqs-arch
d73f534bc7 Tools: Check if symbolic link already exist in install-prereqs-arch
ec5faed133 GCS_MAVLink: send mission item requests to correct destination for partial updates
33be8de1f3 ChibiOS: submodule update
75226ba187 HAL_ChibiOS: enable logging on MindPX-v2
4548fd4d2f HAL_ChibiOS: changed RCIN to PULLDOWN
86189393a7 HAL_ChibiOS: fixed build warnings
bc96cb8a19 AP_HAL: fixed build warnings
6d734a7e58 ChibiOS: submodule update
9ceddbdab6 AP_ADSB: fixed build warning
7d2e3c0d04 AP_Notify: fixed build warning
4886ffbf8a HAL_ChibiOS: fixed build warnings
0d8cdd2728 AP_Compass: fixed warning
662afdc2fd Copter: fixed build warning
30e4323c6d HAL_ChibiOS: disable USART1 till USB problem solved
d0eb2970c7 HAL_ChibiOS: ensure RTS and CTS are both disabled for no flow control
82f1f462ae HAL_ChibiOS: ensure we don't init a uart driver twice
ad5a04fc89 HAL_ChibiOS: added NODMA option
74f4d5a3c9 HAL_ChibiOS: push MPU6500 to 4MHz on mindpx-v2
f4521772c1 AP_InertialSensor: don't try fast sampling on a MPU6500
d575d676b6 AP_InertialSensor: fixed another transfer without bus semaphore
f1ce321a2f HAL_ChibiOS: added checking of bus owner
2ffb8d1583 AP_InertialSensor: fixed a bug where bus semaphore not held
fa68210210 HAL_ChibiOS: fixed build with older compilers
626632989e HAL_ChibiOS: fixed build for boards with no USB
41758348e5 HAL_ChibiOS: added checking of lock state in shared_dma
dce4c90467 HAL_ChibiOS: moved UART thread to UART driver
5fc12f82fb HAL_ChibiOS: expanded interrupt stack to 256
aae1cc22f4 HAL_ChibiOS: updated USB device strings
13a3c56a02 waf: added board name to ChibiOS build
4b8bde746e HAL_ChibiOS: improved default USB strings
23e1b2e271 HAL_ChibiOS: added paranoid state checking on I2C
7e19f49e42 HAL_ChibiOS: fixed DMA lock in SoftSigReader
1aa6a0068a HAL_ChibiOS: fixed order of I2C DMA
1c0b598c05 waf: fixed permissions on px_mkfw.py
111e5b6268 HAL_ChibiOS: change USB ID for revo-mini
4d018cf5e2 HAL_ChibiOS: take lock on DMA allocate/deallocate
bc49c0d2c5 HAL_ChibiOS: make hwdef.h the same on python2 and python3
e002fbdb8d HAL_ChibiOS: fixed a build warning
23803df038 AP_Compass: allows boards to define orientation of HMC5843
077aa24c6d HAL_ChibiOS: add more pins for revo-mini port
e91144cc8e HAL_ChibiOS: allow for empty UART drivers
e0212ebe85 HAL_ChibiOS: cope with ETR timer channels
c1df2a8a4b HAL_ChibiOS: cope with timers 10 and later
d191b37520 HAL_ChibiOS: cope with having no ADC inputs
87389e0fdc HAL_ChibiOS: fixed double DMA allocation on i2c
19e1349d0a HAL_ChibiOS: setup serial5 for fmuv3 ESP8266
fca0ad4f85 AP_SerialManager: allow hwdef.dat setup of serial5 config
560948dc69 HAL_ChibiOS: fixed GPIOs for ESP8266 port
fa96e23552 HAL_ChibiOS: setup correct volt and current pins
626b9289be AP_BattMonitor: allow hwdef.dat config of battery pins
85acbcb21d HAL_ChibiOS: fixed UART send from TX complete IRQ
65b762ddfe AP_Notify: support OLED display on ChibiOS
63a825dd2c HAL_ChibiOS: don't call spiStart() unless bus is stopped
2513e60e3c AP_SerialManager: use unbuffered writes for volz
e29b79f41b HAL_ChibiOS: fixed DMA allocation bug on SPI
29add8a880 HAL_ChibiOS: fixed build without FATFS enabled
6b187b393a HAL_ChibiOS: fixed fmuv4 build
9acacba53b module: update uavcan
e1a8bba58b HAL_ChibiOS: increase the stack size for uavcan thread
17fef4b630 HAL_PX4: add support for api change in AP_HAL::CANManager
a55f1c85af HAL_Linux: add support for api change in AP_HAL::CANManager
8d5667afa0 AP_UAVCAN: add method to read driver from parent can manager
77f8acd7a1 HAL_ChibiOS: add CAN to supported peripherals list
6f21c1583f HAL_ChibiOS: add definitions to support uavcan in fmuv3
edd0e8d2f5 HAL_ChibiOS: add CANManager to ChibiOS namespace
143686f70d HAL_ChibiOS: add placeholder cstdio header
539d5adc13 hwdef: add more posix methods
288f6b1fa0 HAL_ChibiOS: add chibios cpp wrapers, libuavcan's stm32 driver uses it
f2e77ab773 AP_HAL_ChibiOS: add uavcan thread
3c009cf02c AP_HAL_ChibiOS: add CAN driver
5bcbc4c142 AP_HAL: default to not UAVCAN support for chibios boards
d539a157b7 AP_HAL: move to having ICanDriver as member instead of inheriting it
f0f4239d4a AP_Compass: skip using posix headers for non posix systems
a413fef77f AP_BoardConfig: add support for UAVCAN setup on ChibiOS boards
175d806b5f AP_Baro: skip using posix headers for non-posix systems
d1a497f223 waf: add more wraps to compile uavcan
b1499ee8f2 waf: add option to compile with uavcan for chibios boards
a4de67098a chibios: submodule update
b992b5e02a HAL_ChibiOS: allow for 16kHz brushed on all timers
b0d0ee1f01 HAL_ChibiOS: reformat using yapf and support python3
67e0ba22fe HAL_ChibiOS: fixed some errors in F405 tables
70ff3871e0 HAL_ChibiOS: fixed RC in on CH1 of timer
890d322b47 HAL_ChibiOS: starting on mini-pix hwdef.dat
5da17e5b60 AP_HAL: added MINIPIX board type
3d50bbe2c0 waf: added mini-pix build target
23555f4c25 HAL_ChibiOS: allow for empty storage during bringup
ecce2a73d0 HAL_ChibiOS: Storage::_timer_tick is an override
713006bb1d HAL_ChibiOS: allow more OTG defines to be overridden
33a87194dc HAL_VRBrain: Storage::_timer_tick is an override
0f079deebf HAL_PX4: Storage::_timer_tick is an override
26161ee467 HAL_Linux: Storage::_timer_tick is an override
472ba5bde7 AP_HAL: make _timer_tick() in Storage available in all HALs
6ee0c48ab1 waf: added revo-mini build type
3e65347b97 AP_HAL: added REVOMINI board type
1fb257a35a HAL_ChibiOS: initial hwdef.dat for revo mini
979a2a4796 HAL_ChibiOS: removed debug code
538af2a58a HAL_ChibiOS: fix parity and stop bit setting
1a167a7d1f AP_SerialManager: disable flow control for sbus1 port
b94b1dcd97 AP_HAL_ChibiOS: add missing declaration
df4bf7e476 HAL_ChibiOS: fix irq clash with unnecessary access to readbuf ring buffer
02696882e9 HAL_ChibiOS: if unbuffered write, do continue to invoke DMA writes
0c914838b2 AP_IOMCU: fix data type for available bytes
c613c0bde2 added the cube red hardware definition
442b280368 AP_IOMCU: improved error checking
3dacbd1b36 HAL_ChibiOS: hold write lock for unbuffered writes
ad26ca4a27 HAL_ChibiOS: implement parity and stop bits controls
2e15285c51 HAL_ChibiOS: refuse unbuffered writes without DMA
5ffcff1a79 AP_IOMCU: use unbuffered UART writes
3f2cc2c9d6 HAL_ChibiOS: implement low latency UART writes
015c3a1fa3 HAL_ChibiOS: removed duplicate defines
2bb99bfe53 HAL_VRBRAIN: implement _timer_tick in UARTDriver
e276edbb03 HAL_SITL: implement _timer_tick in UARTDriver
e4fc0e9f62 HAL_QURT: implement _timer_tick in UARTDriver
25ea60da69 HAL_PX4: implement _timer_tick in UARTDriver
22de99dd58 HAL_Linux: implement _timer_tick in UARTDriver
865e4f3104 HAL_ChibiOS: implement _timer_tick in UARTDriver
5179d13dbf AP_HAL: added virtual _timer_tick method on UARTDriver
a5bafb399f HAL_ChibiOS: adjust SPI pin speeds
36f0b429fb GCS_MAVLink: send BATTERY_STATUS.energy_consumed if current measurement is available
d1a37a60b7 DataFlash: log consumed energy (Wh)
7383552ebc AP_BatteryMonitor: count mWh spent since powerup
0da8ff6b2e Rover: boats always navigate when outside waypoint radius
e6d4b2a087 AP_InertialSensor: add LSM9DS1 entry
5cf15db966 AP_HAL: add LSM9DS1 defines
be386b2b73 AP_InertialSensor: LSM9DS1 add FIFO support
44d5112488 AP_InertialSensor: add LSM9DS1 support
1103e92884 SITL: Add SIM_WIND_DIR_Z parameter for SITL
8b08e9388d AP_HAL_SITL: Add SIM_WIND_DIR_Z parameter for SITL
8094198767 Tracker: Show battery parameters, support battery logging
02a660e0ce Sub: Move battery logging to AP_BattMonitor
2e9e91b3a3 Rover: Move battery logging to AP_BattMonitor
69da4041ac Copter: Move logging battery logging code to AP_BattMonitor
43972f8e56 Plane: Move battery logging code to AP_BattMonitor
725f1a2f2b DataFlash: Use battery singleton
03bf247d36 AP_BattMonitor: Create a battery singleton
6698660fd6 Copter: fix Battery FailSafe action with auto mode
83d1e71cb2 AP_Baro: ran BMP085 driver through code formatter
2c043b822b AP_Baro: fixed BMP085 driver for current API
bf758098d7 AP_HAL_Linux: fix deallocation
cc2571569d PX4Firmware: fixed git hash
2f1d0da577 PX4Firmware: submodule update
3dcaf83eaa VRBRAIN / DataFlash: some update for new VR Brain 5.2E (EEPROM version)
250bf53912 VRBRAIN / AP_HAL_VRBRAIN: some update for new VR Brain 5.2E (EEPROM version)
bfcece7edd VRBRAIN / AP_HAL: some update for new VR Brain 5.2E (EEPROM version)
ccb316f3f3 VRBRAIN / AP_BoardConfig: some update for new VR Brain 5.2E (EEPROM version)
8b737c54b9 VRBRAIN / AP_BattMonitor: some update for new VR Brain 5.2E (EEPROM version)
bf6e57e7a4 VRBRAIN / DataFlash: added writebuf_chunk for VR Brain 5.4
721f55e93c VRBRAIN / AP_RangeFinder: removed AP_RangeFinder_PX4_PWM for VR Brain boards
a319f6632f VRBRAIN / AP_RPM: removed RPM_PX4_PWM for VR Brain 5.1 and VR Micro Brain 5.2 (they haven't this input pin)
502f19cbae VRBRAIN / AP_InertialSensor: added inertial sensors init for VR Brain boards
432f6c2a4a VRBRAIN / APCompass: added compass sensor init for VR Brain boards
d48f9397d0 VRBRAIN / AP_Baro: added barometer sensor init for VR Brain boards
dab8f93628 VRBRAIN / AP_HAL: changed vrbrain board configuration file
505497b555 VRBRAIN / AP_BoardConfig: added fmu_mode parameter for VR Brain boards
b7985f77b5 VRBRAIN / AP_BoardConfig: added VR Brain boards into board_setup_drivers and board_autodetect
6b820ac9e4 VRBRAIN / AP_BoardConfig: added VR Brain define into px4_board_type enum
97b29a333d VRBRAIN / AP_HAL_VRBRAIN: updated AP_HAL
9cd469fc38 VRBRAIN / mk: added new VR Brain 5.2 board (EEPROM version)
18c34069d5 VRBRAIN / mk: updated makefiles and ROMFS
416fa31ce1 VRBRAIN / mk: correct some style
d6104bc697 VRBRAIN / mk: removed Tools (already in PX4Firmware)
200aacea43 AP_AdvancedFailsafe: Report MAV_PROTOCOL_CAPABILITY_FLIGHT_TERMINATION
f189ce5c68 AC_WPNav: minor formatting fix
2067e25523 AP_Compass: make length filter in MAG3110 optional
2065cc879c AP_HAL: mAG3110 driver
b6bf90ab93 AP_Compass: mAG3110 driver
ab7a9c9073 Copter: use zero_throttle_and_relax_ac in poshold, drift and autotune
1513246040 AP_FlashStorage: fixed two bugs found by night-ghost
8da1252959 AP_BattMonitor: add default pins and values for BeagleBone Blue
adde7bc588 AP_Terrain: fix snprintf buffer length warning
8070c13963 AP_Soaring: delete \n from the log using gcs().send_text
cdfca9d9ea AP_HAL_PX4: delete \n from the log using gcs().send_text
5b3a402d36 AP_Camera: delete \n from the log using gcs().send_text
c13d6580ae Copter: delete \n from the log using gcs().send_text
e94bfc7ee0 Rover: delete \n from the log using gcs().send_text
3ec733d4f8 AP_BattMonitor: Aggregate the commands defined in the SMBUS specification.
8e8b0dcc06 DataFlash: add ? and - to multiplier table
aef9fa4a63 AP_NavEKF3: delete \n from the log using gcs().send_text
184b017b33 AP_HAL: fix warning from having undefined HAL_WITH_IO_MCU
5a1c3cf5f4 Copter: firmware text to ArduCopter
90ca9626cc waf: use gcc/g++ by default if available else throw warning
8f074d52c1 autotest: fix setup of sitl for macosx
8d344ef7b4 Sub: removed defaults for PIDs moved to AC_PosControl
3badcdcfba AC_PosControl: default gains for sub
ddcd08d6b6 Plane: PSC_ACCZ param name shortened
0f6762bbd2 Copter: PSC_ACCZ param name shortened
61933c6f1c AC_PosControl: shorten PSC_ACCELZ param to PSC_ACCZ
0626d105ed Rover: version 3.2.1-dev fix
b459e7fa7f Rover: 3.2.1 release notes
6a87840c7a AP_NavEKF3: Change the if statement to a switch statement.
a3e9f72b0b Copter: fix default flight mode channel
89674482a7 Copter: added FLTMODE_CH parameter
692e6518cc AC_AttitudeControl: update param desc values for large copters
691abab95e AC_AttitudeControl: Update parameter ranges
2547ca399a AP_Airspeed: Fix ARSPD2_TYPE docs
aec7521da4 Plane: Fix truncation of a time interval
ebf405e53d AC_Avoid: reduce min and default DIST_MAX values
6558da2c4c HAL_SITL: fixed valgrind error in ubx driver
a97301c0f2 Copter: do not allow arming in RTL
10e6fe43dd Copter: Add a switch option to enable/disable RC_Override
d579e086cf Plane: quadplane param index comment for moved PIDs
cfc69214e6 Copter: add LAND_ALT_LOW parameter
3165d72647 AP_Motors: reduce unnecessary multiple call of get_compensation_gain()
60c3ae1ec2 Copter: fix spelling in drift mode variable name
c6c5603382 AP_Param: added back key dumping code
20b05e4228 Plane: added conversion code for PID layout change
a6ff2cacdd Rover: 3.2.1-rc1 release notes
f8c1d08316 Copter: 3.5.5-rc1 release note update
929dd04f2a Copter: 3.5.5-rc1 release notes
c5eb52bf8d AP_HAL_Linux: fix comment
a5d7b8bb19 Rover: remove unused definition
7a9e424977 AP_Motors: added comments to indicate parameter indices previously used by RSC_PWM_MIN, RSC_PWM_MAX, and RSC_PWM_REV
c70282cb23 Travis: Move a number of builds to Semaphore CI, split sitltest
a7cdca030c Tools: Split sitl tests into per vehicle tasks
518abfe1d0 Plane: Allow GUIDED mode to take advantage of crosstrack flag.
7b1157e2d8 Plane: remove setting accel_z PID controller's dt
eefa629039 Copter: remove setting accel_z PID controller's dt
04822152da AC_PID: fixes after peer review of AC_PID_2D
efbd8eb386 AC_WPNav: remove unused definition
f41f4dc6e5 Plane: move pos-control pids to pos-control library
6a701b2412 Sub: move pos-control pids to pos-control library
8d6f8e4d9c Copter: move pos-control pids to pos-control library
368245017a AC_WPNav: access pos-controller's horizontal p object
9c00eb3d5f AC_PosControl_Sub: move pids to be local
c70d3e0ab8 AC_PosControl: move pids to be local
017e71a748 Plane: quadplane velocity pi moves to position control library
cef50d8a30 Sub: velocity pi moved to position control library
6546ccbb3f Copter: velocity pi moved to position control library
00037fd50e AC_PosControl_Sub: replace velocity pi with local pid
3a73ff1e2e AC_PosControl: replace velocity control with local 2-axis PID
398a0d89bf AC_P: add const accessor
c1708db208 AC_PID: add const and use is_positive in AC_PI_2D
fd964a21d6 AC_PID: add AC_PID_2D
2748d4d0fe Rover: arming checks for GPS use requires_position and velocity
9cba1e2907 Rover: gps check replaced by requires-position, requires-velocity
9ea16bec15 AP_InertialSensor: resolve compiler warning in example
e8debde4b7 AC_Fence: hide ALT_MAX parameter from Rover
a1bf9d66f0 AC_Avoid: default behaviour to stop for Rovers
509c7e2a8f Rover: add object avoidance to steering and acro modes
2320bfb637 Rover: add AC_AttitudeControl to build
489c42bdff Rover: add avoidance library
5503a0069d Rover: add proximity library
c3fb985ec5 Rover: add fence support
ae4ded86a8 AC_Avoid: get_max_speed supports linear acceleration
dfaabb543c AC_Avoid: add adjust_speed
9d74d82ff6 AC_Avoid: add stopping behaviour
c28cfcdc27 AP_Math: add Vector2f::circle_segment_intersection
a655c36159 AP_Math: add Vector2f::segment_intersection
20fe5bb98f Copter: add SmartRTL failsafe action
c14af79975 Rover: now sends SCALED_PRESSURE msg
2c73b374f5 AP_Motors: protect against writes to NULL servo_aux
bdb9f062ae AP_Motors: removed unused pwm parameters for heli
ac2e933358 AP_Motors: Tradheli - Fixed Directdrive Variable Pitch Feature
7b251c9739 HAL_ChibiOS: lower FRAM CS speed to 2MHz
4bc3a649cc waf: default port list for uploader
30fd2da108 HAL_ChibiOS: enable RTSCTS and SBUS_OUT
93a993c575 AP_HAL: setup RTSCTS and SBUS_OUT
f8a3b0e753 AP_BoardConfig: improved board config
63671b06a8 HAL_ChibiOS: added HAL_I2C_MAX_CLOCK define
88f11f5a50 HAL_ChibiOS: added HAL_I2C_BUS_BASE
c60c0b8ab1 HAL_ChibiOS: fix undef line processing
8286486890 HAL_ChibiOS: drop default SPI priority to 179
ab748034a2 HAL_ChibiOS: removed RC inversion logic
d6b9ab7756 AP_RCProtocol: tidy up frontend/backend split
ff5e00da32 AP_RCProtocol: fixed DSM decoding
7db19cfae0 HAL_ChibiOS: use separate parameter for detect timeout
613d7a47ba HAL_ChibiOS: support RCIN on mindpx-v2
02c7513f83 HAL_ChibiOS: add invert method and fix width measurement
f7ac5aa079 HAL_ChibiOS: put rcin on a separate thread
f50f427a59 HAL_ChibiOS: added comment on beta fmuv4 board
743806116d HAL_ChibiOS: removed unusued ppm driver
ccb85c2707 HAL_ChibiOS: fixed fmuv3 build with no ICU
f87668c15c AP_RCProtocol: lock onto a single protocol to reduce CPU cost
d7c62602ed waf: added AP_RCProtocol to list of libraries for all vehicles
33c7cba9af HAL_ChibiOS: use more efficient push mechanism in IRQ
d030f2888b AP_HAL: added multi-object push to RingBuffer
7a4f429b85 HAL_ChibiOS: don't adjust buffer size for protocol
e2c8fe27ef HAL_ChibiOS: fixed memory handling in SoftSigReader
8be59c73c7 AP_RCProtocol: fixed return value when no input
2ba0691d52 modules: update ChibiOS
bad9f2b4c9 AP_RCProtocol: add library to process RC signals
eeea2c9961 HAL_ChibiOS: use software signal reader for RCInput if available
6be4c710c3 HAL_ChibiOS: add Software Signal reader using timer and DMA
1db1ff799e HAL_ChibiOS: modify hwdef scripts to setup for generic RCIN
1970d8a2c8 HAL_ChibiOS: use common RCIN pin for fmuv4
445ba6ed39 HAL_ChibiOS: update ppm to use Extended ICU driver
6d8d8630bc modules: update ChibiOS
7c23e33775 HAL_Chibios: set min output rate for oneshot to 100Hz
b07c599bf2 Hal_Chibios: allow for faster INS sample times
25f13ed518 HAL_Chibios: adjust MPU9250 clock speed down
7e44b06440 HAL_ChibiOS: adjust SPI clock rates on FMUv4
dd59a5ff57 HAL_ChibiOS: adjust external bus clock for mpu9250
93fa74518a AP_IOMCU: limit rate to IOMCU to 500Hz
880a84294e HAL_ChibiOS: support oneshot mode
38a36a070f DataFlash: removed some special cases for ChibiOS
30903f2acb AP_IOMCU: support oneshot mode
ba3cdf74b5 HAL_Chibios: optional ADC debugging
c863681849 HAL_ChibiOS: fixed PWM output assignment
82c6d2751f HAL_ChibiOS: fixed F412 ram and flash setup
7c232323da waf: added support for Sparky2 STM23F405 board
87be7fea0c AP_HAL: added support for Sparky2 STM23F405 board
67bed1d6c2 HAL_ChibiOS: added support for Sparky2 STM23F405 board
a6be19d8cf HAL_SITL: fix sitl build for mac osx
8b0e9bcff4 AP_Scheduler: use pre-computed loop constants
f2242e07db AP_Scheduler: remove memoisation in loop_period_s()
a6ac37d0ba AP_Scheduler: eliminate MAIN_LOOP_SECONDS macro
996115c0d3 Copter: eliminate MAIN_LOOP_SECONDS macro
e249e06714 AC_PosControl: minor enhancement to lean_angles_to_accel
44dd079cb9 AP_Scheduler: allow for loop rates above 400Hz
e901243d8c mavlink: submodule update
100363ba03 AP_InertialSensor: if no sensors found allow parameter change
24c424ae5d AP_InertialSensor: support over 1kHz IMUs
c0c5f23aa5 AP_InertialSensor: added INS_ENABLE_MASK
9416165fe3 AP_InertialSensor: improved invensense debugging on ChibiOS
d5976442f8 AC_PosControl: minor comment change
3ada0f32b0 AC_AttitudeControl: minor comment update
9d7eb188d1 Rover: enter Hold on failure to enter RTL fs action
f3b794f698 Rover: Add SmartRTL failsafe action
6ce9b47807 Rover: calc_speed_nudge honours max speed even in reverse
c2be63b2b9 README: Update semaphore link
700171a0fc AP_HAL_Linux: add second RCIN port for Blue
2b81058ca1 Sub: Support AP_BattMonitor_Params
ff85f5e9bd Plane: Support AP_BattMonitor_Params
0ddcb0a6fb Copter: Support AP_BattMonitor_Params
8712fbd55d AP_BattMonitor: Move per battery params into a containing class
bb0d43d03c AP_BattMonitor: Remove unneeded memebers
a1a5665213 AP_Param: Support marking a param group as ignoring the enable flag
1549b1a52a AP_BoardConfig: CAN: Merge PX4 and Linux CAN setup
d713d57904 AP_HAL_Linux: update software license referencing UAVCAN submodule
3ac2e4e8c5 AP_HAL_Linux: CAN: _pollRead no more than 100 iterations
43bfcbc8e2 AP_HAL_Linux: CAN: Rename CANDriver -> CANManager
d0fc481202 AP_HAL_Linux: CAN: Rename Linux::LinuxCAN -> Linux::CAN
8accfb97f6 ArduCopter: Check for nullptr for motors class pointer
e0acbd3e53 AP_HAL_LINUX: Add CAN to timer_task
606eb05c95 AP_BoardConfig: Linux CAN initialisation
a50e6c6dd7 AP_HAL: board: linux: Add default CAN interface name
b6665f7e58 AP_HAL_Linux: CAN: get rid of RaiiCloser
976500960f AP_HAL_LINUX: Add CAN driver
09de8e852d AP_HAL: Make methods get_UAVCAN and set_UAVCAN pure
e16ac3da23 ardupilotwaf: Disable exceptions for UAVCAN on linux boards
0998ac102b ardupilotwaf: Add libraries instead of assignment
ea27f821ef mavlink: submodule update
c772e2d3fd Copter: sets SmartRTL home after AHRS home is set
3edaff0309 Rover: sets SmartRTL home after ahrs home is set
85e1f9f9f6 AP_SmartRTL: attempts to set home in update
5614fd1ccc Plane: use calloc in preferance to malloc
8fea99e1da HAL_Linux: use calloc in preferance to malloc
3f5534eed5 AP_HAL: use calloc in preferance to malloc
f6138e3c91 HAL_ChibiOS: use calloc in preferance to malloc
20d75f52c2 AP_Compass: use calloc in preferance to malloc
c9deabc283 DataFlash: use calloc in MAVLink backend
8dae3fe59b HAL_ChibiOS: use calloc for malloc type
a99b690d49 HAL_PX4: use calloc for malloc_type()
4322ef7ca4 AP_HAL: prevent valgrind errors in EKF
e85b1ac740 Copter: pass dt to avoidance calls
48d0ad26a6 Copter: mode_land sends dt to sqrt controller
094620bc8a AC_WPNav: pass dt to avoidance
f48b14b810 AC_Avoidance: accept dt and pass to sqrt controller
b9ed8b292a AC_PosControl: pass dt to att control sqrt_controller
62cc25022c AC_AttitudeControl: protect against overshoot in sqrt controller
75de0cb4ef AC_AttitudeControl: sqrt_controller accepts dt
0a10deb3f7 AP_Motors: Fix gain scaling on Throttle Average Max and reduce additional gain on low throttle for Single and Coax.
69b9438e7f Tools: use posixpath for compatability with git on Windows (MSYS)
2c6a004a67 Plane: mark version as 3.9.0-dev
be0d2229c1 Plane: update release notes
7ca3b56886 HAL_ChibiOS: fixed STM32F405 typos
4f0839a493 waf: improved dependencies in ChibiOS build
b6f3db44d8 DataFlash: log health and primary for airspeed
31d7d9f909 Plane: change airspeed parameter prefix
5846558b0e AP_Baro: moved constants to AP_Math/definitions.h
ee1fea55ce AP_Math: moved constants from AP_Baro
c1cbbf9203 Plane: check all airspeed sensors are healthy
8bb0ad7f3a AP_Arming: check all airspeed sensors are healthy
bbcda11afe DataFlash: log both airspeed sensors
58b0ac07ec AP_Airspeed: support dual airspeed sensors
87e3777f67 AP_Airspeed: added SDP3X airspeed sensor driver
787420931e AP_Baro: make AP_Baro a singleton
e120e912f1 HAL_ChibiOS: moved board defines to hwdef.dat
d2c04aa649 AP_HAL: moved board defines to hwdef.dat
f8542c86b6 AP_Terrain: added support for AP_Terrain for ChibiOS
2773b17fad AP_HAL: added support for AP_Terrain for ChibiOS
e2a65c8c60 HAL_ChibiOS: added support for AP_Terrain for ChibiOS
cde930f5c8 HAL_ChibiOS: added skyviper-v2450 hwdef config
c8beddf1e4 HAL_ChibiOS: allow for includes in hwdef.dat files
681792acf3 waf: added skyviper-v2450 build target
360a8d99bf Frame_params: bring 2450 params in line with release
c708201fc6 waf: added flag for no FATFS in ChibiOS
2929b3dbb1 HAL_ChibiOS: allow builds on systems with no SDIO
7b0eccc309 HAL_ChibiOS: updated skyviper-f412 hwdef.dat
60a773d045 HAL_ChibiOS: removed duplicate defines
ff87d27143 AP_BoardConfig: fixed return of get_pwm_count()
ef1a14cc6c HAL_ChibiOS: fixed 5V analog scale on fmuv4 and mindpx-v2
ce9473f0e8 waf: fixed handling of waf clean with new hwdef generation
867e7ebf71 HAL_ChibiOS: auto-generate GPIO table from hwdef.dat
fbe8166c71 HAL_ChibiOS: auto-generate AnalogIn pin table
f14a847b97 HAL_ChibiOS: rename classes to remove 'Chibi'
25b68dc150 HAL_ChibiOS: switch base freq when needed
ff3b0ec1bd AP_IOMCU: added set_default_rate method
738d70ef02 HAL_ChibOS: fixed handling of disabled channels
320ada2002 AP_IOMCU: fixed crash with BRD_IO_ENABLE=0
2978649cd4 waf: moved to generated loader script
6e4ef32628 HAL_ChibiOS: moved to generated loader script
9482ab1840 waf: use common makefile for ChibiOS if no custom present
bae9469af7 HAL_ChibiOS: use a common makefile and board.c
d17e9f321a HAL_ChibOS: fixed mixture of brushed and normal PWM
c639708e22 HAL_ChibOS: auto-generate full PWM config
b741c6c29e AP_Compass: fixed build error on ChibiOS
e3f4860666 waf: cope with serial exceptions in px_uploader.py
daa9eec836 HAL_ChibiOS: auto-configure timer channels
d65ec2ada7 HAL_ChibiOS: moved more headers to common
960bc40ff3 HAL_ChibiOS: moved to a common mcuconf.h
48d2704cf4 HAL_ChibiOS: CS pins don't need to be a single SPI BUS
a554215576 HAL_ChibiOS: start to cope with not having I2C, SPI and UARTs
f5c8754d75 HAL_ChibiOS: use ARRAY_SIZE_SIMPLE
7aeab8f5a8 AP_Common: added ARRAY_SIZE_SIMPLE()
468cadca45 HAL_ChibiOS: auto-generate UART driver declarations
8e87c30a33 AP_Compass: fixed MindPX-v2 compass orientations
8ab35e8aca AP_InertialSensor: fixed MindPX-v2 orientation of IMU2
58796ff435 HAL_Chibios: moved SPI device tables to hwdef.dat
d1f93cd66c HAL_Chibios: auto-generate I2C, SPI and UART device lists
c80149123f AP_HAL: use hwdef.h for config options in chibios
dcab40459d AP_InertialSensor: support MindPX-v2
8699b6233a AP_HAL: support MindPX-v2
36a141f9f1 AP_Compass: support MindPX-v2
5458377e67 AP_BoardConfig: support MindPX-v2
51f9f087ab AP_Baro: support MindPX-v2
5af4f8b364 waf: added mindpx-v2 build target
280140bf25 HAL_ChibiOS: added support for MindPX-v2
febe414766 AP_InertialSensor: disable fast sampling on 2nd IMU on Pixracer
9f5e01d20a HAL_Chibios: fixed FMUv4 compasses
2646b9ef33 HAL_Chibios: matched debug port speed to NuttX
41be81af34 HAL_Chibios: added hardware flow control for UARTs
9916a93919 HAL_ChibiOS: fixed I2C device list
f135e73e04 HAL_ChibiOS: F412 doesn't have CCM ram
85f4958e4e AP_OpticalFlow: use AP_FEATURE_BOARD_DETECT
c1504dadab Sub: use AP_FEATURE_BOARD_DETECT
3aba8bf706 waf: add mac usb com ports to list of devices for upload
3fc095589c AP_InertialSensor: support ChibiOS FMUv4
a2681f1d1c waf: support ChibiOS FMUv4
0b6659b36a AP_Baro: support ChibiOS FMUv4
02c3bea5a5 AP_BoardConfig: support ChibiOS FMUv4
743714de4c AP_Compass: support ChibiOS FMUv4
c7fd455f6a AP_HAL: added FMUv4 port for ChibiOS
c3435e45c5 HAL_ChibiOS: initial port to FMUv4
5feef04f5f HAL_ChibiOS: add support for CCM memory
ea2a880d8a AP_NavEKF3: allocate from MEM_FAST region
b1213a522d AP_NavEKF2: allocate NavEKF core from MEM_FAST region
1c6beaa7c4 AP_InertialSensor: use new API for DMA safe allocation
e591265329 HAL_PX4: change dma_allocate api to malloc_type
9d6ab78376 AP_HAL: add support for memory allocation by region type
08346deed5 AP_BattMonitor: run SMBus batteries at 100kHz
f2102bba05 HAL_VRBrain: fixed I2C get_device() interface
ded22a6766 HAL_PX4: fixed I2C get_device() interface
43c1bd0ae9 HAL_Linux: fixed I2C get_device() interface
5e19183e90 HAL_Empty: fixed I2C get_device() interface
36227aa126 HAL_ChibiOS: implement bus speed and smbus for I2C
8260b3f65f AP_HAL: allow bus speed and SMBUS enable on I2C
4b5e617673 HAL_ChibiOS: added missing DMA table for STM32F405
964f081bab waf: fixed comment
e4a6439eb9 travis: moved fmuv3 into px4-v3 travis build
550ab6ac62 waf: chibios trigraph warning fix
f3d46506b0 AP_HAL_Chibios: warning fixes
791edee0ff HAL_Chibios: added more SPI devices for FMUv3
ddf8523c2b AP_OpticalFlow: prevent crash on bad device name
755eca31c2 HAL_Chibios: don't unregister shared DMA
9812fc9574 HAL_Chibios: prevent creation of i2c devices on invalid bus
82b5b94e24 AP_IOMCU: fixed race condition on thread startup
b62773bbad HAL_ChibiOS: improved auto-config of ADC pins
1cc4b92b76 HAL_ChibiOS: added additional FMUv3 analog pins
aa2175ec0c HAL_ChibiOS: show ADC1 channels in hwdef.h
5a7e2f75d1 HAL_ChibiOS: added ADC1_Map to STM32 tables
3a004adbd4 HAL_Chibios: use macro for NUM_GROUPS
b57f8f01c6 HAL_Chibios: fixed return for read on invalid gpio pin
82cc36d6d0 AP_BoardConfig: called board_setup() even without autodetect
b48b436923 waf: implement --default-parameters option for ChibiOS
48422e1038 waf: added --default-parameters option
b1ebbd1a1c AP_BoardConfig: enable auto-detect only on FMUv3
7971f03bde Hal_Chibios: fixed F412 SPI config
51512ed7c0 AP_Param: don't panic on bad embedded parameters
40ba4645e6 Frame_params: added SkyViper 2450GPS params for ChibiOS
21f40da510 HAL_Chibios: align GPIO pins with px4 build
60b1eab06d AP_BoardConfig: added get_pwm_count()
26d6947bf6 HAL_ChibiOS: fixed PWM output
e88fe93688 AP_BoardConfig: init chibios IO after boardconfig
c742543565 HAL_Chibios: align SPI device IDs with px4 IDs
7cb1c0420a AP_BoardConfig: include BRD_IO_ENABLE on ChibiOS
38022d03b6 waf: disable gtest build on ChibiOS
a9275cea22 travis: added ChibiOS fmuv3 to build
4ce696a520 AP_Math: fixed example build on ChibiOS
347c774665 AP_HAL: fixed example build on ChibiOS
2941afa62b AP_Beacon: fixed example build on ChibiOS
4e6c26cf77 waf: simplify chibios libch.a building
f5b24a3838 AP_Math: fixed build of Sub with ChibiOS
6dbab450a5 Hal_Chibios: use AP_BoardConfig::io_enabled()
13f4780815 AP_BoardConfig: make a singleton
340d85642e AP_Gripper: build fix for ChibiOS
ec81f905f4 autotest: added some new locations for testing
c0c4021605 SRV_Channels: fix for replay
d0d6040b3e AP_Param: use wider range of sentinal values
be4e9f27f7 AP_Module: restrict module related headers to systems that can use it
3d2c4ffa79 AP_Math: allow write to indexed vector2
f088c3de23 AP_Math: added long templates
c62dbcdb62 HAL_PX4: allow for printf from multiple threads
979ee67c19 HAL_PX4: cope with failed flash writes
86fbdcd060 HAL_ChibiOS: ensure malloc returns zeroed memory
e255f07022 GCS_MAVLink: rename ch variable
43a6ed4099 DataFlash: support ChibiOS FATFS implementation
3cd5386a7e AP_OpticalFlow: support ChibiOS
e026a408f3 waf: added AP_RAMTRON and AP_IOMCU to build
3b5f66fd9f AP_FlashStorage: fixed size of flash storage
0bfbc4bf72 AP_FlashStorage: added re_initialise() API
d1fd843539 AP_IOMCU: support IMU heater
1568f578d7 AP_IOMCU: added retries on event failure
9b9b4a169e AP_IOMCU: fixed build on systems without IO MCU
71a47303b4 AP_IOMCU: support servo voltage and rssi
bb3ed9d6a3 AP_IOMCU: added APIs for RC input
ceeade5822 AP_IOMCU: added periodic reading of RC input
06322da4e2 AP_IOMCU: added setting of output rates
39f60adcd7 AP_IOMCU: initial implementation of PWM and safety
0c01ae1223 AP_IOMCU: started on MCU IO library
f37d1e3363 AP_RAMTRON: added RAMTRON fram device driver
39362a81ae AP_InertialSensor: support ChibiOS
391affc02d AP_HAL: support ChibiOS
5d9fa7f85b AP_Compass: support ChibiOS
c8c563f90d AP_Baro: support ChibiOS
f8bea3af14 AP_BattMonitor: support ChibiOS
accac344f2 AP_BoardConfig: support ChibiOS as well as NuttX
925e3a2dcb waf: added ChibiOS support
9869b98da3 waf: added ap_version_append_int()
b8e246f347 added ChibiOS submodule
8b6bab7b17 HAL_Chibios: added ChibiOS HAL
ed452c6a27 Rover: version to 3.2.1-dev
a3b667ea24 Rover: 3.2.0 release notes
8ef7e61066 AP_HAL_SITL: Spam u-blox NAV-SVINFO at 0.1Hz
eb6ab53f6c AP_Motors: fix optimum thrust calcs
b47d575f65 Copter: minor spelling fix
4d0c24f4eb AC_WPNav: RFND_USE param desription update
cddd815a75 AC_AttitudeControl: comment thrust_heading_rotation_angles
86cbc445bd AP_Compass: ICM20948 default rotation to Pitch180Yaw90
5e90cdbf59 AR_AttitudeControl: parameter desc range increase
e2824be250 Rover: add const and comments to calc_speed_max
5cd500847b Rover: rename auto_throttle to allows_arming_from_transmitter
5167ec7708 Rover: send PID to GCS regardless of mode
d3d46a7f2c Linux_HAL_Essentials: set default pwm to 0us
3e0c24adf9 AC_PosControl: remove out-of-date comments
18d7d3f038 DataFlash: add missing FALLTHROUGH declarations
9f1c96bb09 Tools: Solo AC 3.6 parameters
a766551a48 Tools: Solo AC 3.5 disable log prearm check
bf9b90d919 mavlink: submodule update
dfb9f77c91 Mavlink: module update with upstream changes
596119bca3 GCS_MAVLink: do not use hardcoded array sizes
24ad9e9dff GCS_MAVLink: Adapt to upstream mavlink changes in autopilot_version message
36f06d3576 AP_InertialSensor: remove AP_InertialSensor_UserInteract
8d7c710e9b GCS_MAVLink: panic in SITL if unknown message sent
5fedc65efb AP_Airspeed: Allow specifying the MS5525 address
e5813effff RC_Channel: improved efficiency of min_max_configured
746ca91649 Plane: reset groundspeed_undershoot value when GPS is lost
1ef0f27786 Plane: allow control_mode enum to be in arbitrary order
39a200b83f Plane: allow control_mode enum to be in arbitrary order
404e395880 DataFlash: avoid declarations of SITL-only functions
fd0aa3c659 DataFlash: add validation for Log_Write parameters
5070628230 DataFlash: factor out validate_structure
8d7000db2c AP_HAL_Linux: fix typo
9e37e9ee82 AP_GPS: Remove unused blending function.
c8e0ae6890 AC_Fence: adjust fence sys_status failed based on position and parameters
6bcdab55d0 Copter: rename sys_status methods from geofence_ to sys_status_
e30a6bbce3 AC_Fence: rename sys_status methods from geofence_ to sys_status_
a5aafab7ff AC_Fence: use pre-arm checks for sanity checks
155407956c AC_Fence: add a pre-arm check for polygon fence validity
aa7389b455 Tools: Fixed Cygwin SITL package names and made install easier for new users
c56529f39c Tools: waf: remove GCS_Console
aba525e4c5 GCS_Console: remove GCS_Console
d650b4eaa7 mavlink: submodule update
f6ab044161 GCS_MAVLink: add microseconds since boot to the home and origin Mavlink messages
479d4be3fd AP_GPS: Add horizontal, vertical and speed accuracy to the GPS_RAW_INT message
56d87bfb20 README: update maintainers list
077b062701 Copter: change pre-arm checks to allow interlock to be enabled
aa6f66f29b AP_Motors: Updated Motor example.
8a15c69aff Tools: add --fresh-params option to sim_vehicle.py
114628afe4 Copter: use zero_throttle_and_relax_ac in stab, guided, acro and auto
8d658e1dbc Copter: correct misleading comment in mode_throw
5a5be9175d Rover: 3.2.0-rc4 release notes
1bb18bc941 AR_AttitudeControl: get_throttle_out_speed uses timeout definition
4ac5ef3a13 AR_AttitudeControl: allow filter to be zero
16d3e5c00d AR_AttitudeControl: add feed foward for speed and steering rate control
40bb2b0ad9 AR_AttitudeControl: set throttle speed pid dt
9930550cfc AR_AttitudeControl: lengthen timeout to 200ms
a2b1807ca0 AR_AttitudeControl: fix turn-rate controller timeout
4e8155f4e5 AC_PID: allow non-zero ff gain default
072b5187a3 Rover: steering mode reversing fix
916fe80000 Rover: remove mode class's desired-lat-accel
49493fe6a2 Rover: add calc_steering_to_heading
af7bb7cbd7 Tools: update eLAB VEK default parameters
1531801c83 AP_WheelEncoder: minor comment fix
dc283e9c26 Rover: re-order calc_steering declarations to match .cpp file
7b0b9f10de Tools: AION R1 default params use steering feed-forward
368698d173 Tools: AION R1 default remove compass-external
94eceddf69 Tools: update AION R1 default parameters
b5bdaa18ac AP_AVOIDANCE: Minimum altitude for avoidance action
0fb679b2b2 Sub: Separate max ascent and descent speeds
521bece9e7 AP_JSButton: Add servo toggle button function
8b0b96d56e Sub: Add servo toggle button function
307638e8af AP_JSButton: Add momentary servo button function
8fec2cbea3 Sub: Add momentary servo button function
dd239183c1 AP_JSButton: Add momentary relay button function
963d6a7739 Sub: Add momentary relay button function
588b0c17c8 AC_Fence: remove AC_FENCE_TYPE_NONE define
ed82421f27 Sub: remove argument to check()
cb129fbdaf Copter: remove argument to check()
aa482bae40 AC_Fence: remove argument to check()
1d3e7d454a Rover: correct gps-is-healthy mode change check
55f73f4163 AP_Airspeed: fixed timing errors in MS5525 driver
6c6515711c README: add Mirko Denecke as PocketPilot maintainer
4b1ec08eaf AP_BattMonitor: add new board PocketPilot
0926802013 AP_Notify: add new board PocketPilot
9b6a826b49 AP_HAL_linux: add new board PocketPilot
0e7ade6f0c AP_HAL: add new board PocketPilot
793578c0a9 ardupilotwaf: add new board PocketPilot
7126b0c5ae Linux_HAL_Essentials: add PocketPilot PRU Firmware
8c8767e964 AP_InertialSensor: reduce QURT include scope
14b5c8a6c4 AP_Baro: don't include vehicle specific baro by default
d1201e4776 Copter: tidy zero_throttle_and_relax (NFC)
71ad1b5815 Copter: use zero_throttle_and_relax_ac function
41dc8554c0 Copter: pull out a zero_throttle_and_relax function
4c7491a05b Copter: mode_auto's landing_gear_deploy method defers to mode_rtl
d9235d3d41 Copter: make landing_gear_should_be_deployed a base-class method
e76865eb9c Tools: Replay: AP_AHRS no longer requires GPS in constructor
a35e86c2fd AP_SmartRTL: AP_AHRS no longer requires GPS in constructor
7646e09349 AP_OpticalFlow: AP_AHRS no longer requires GPS in constructor
e584a90c81 AP_Module: AP_AHRS no longer requires GPS in constructor
89d3289400 AP_Mission: AP_AHRS no longer requires GPS in constructor
c4c6b3cc70 Plane: AP_AHRS no longer requires GPS in constructor
dda38d65eb Copter: AP_AHRS no longer requires GPS in constructor
2b36ec618f Tracker: AP_AHRS no longer requires GPS in constructor
b25a81e09d Sub: AP_AHRS no longer requires GPS in constructor
5dc714bf5f AP_NavEKF3: use GPS singleton
9c8466dc03 AP_NavEKF2: use GPS singleton
aea460df2c AP_FrSky: use GPS singleton
7cf2712bf1 Rover: AP_AHRS no longer requires GPS in constructor
e15442355a AP_AHRS: use GPS singleton
ca4f25a78e AP_Terrain: use GPS singleton
fb3cba3867 AP_Mount: use GPS singleton
a4584431a2 AP_Landing: use GPS singleton
d1d5a484ce AP_ADSB: use GPS singleton
e0c586876b APM_Control: use GPS singleton
c5ae01fc6d Plane: use GPS singleton
fb5b6f2169 AP_Airspeed: Updated Airspeed example.
560d8b88d8 Tools: Add gazebo-bluerov2 on vehicleinfo.py
dcb37a2454 Tools: default param file for AION R1 rover
457c39bf1b Rover: FS_ param values changed to camel case
41f2e8869e FRAME_PARAMS: Solo mag and arming param update
5d6c979f70 COPTER: Fix MOUNT_CONTROL yaw in missions
c0f0e3eca3 COPTER: Fix MOUNT_CONTROL yaw in guided
0e6fc54a0e Tools: Add BATT_MONITOR on sub.parm
dea15892dc AP_Volz_Protocol: use AP::serialmanager()
b3f5e807a6 AP_SerialManager: add AP::serialmanager()
6728598099 AP_Rangefinder: don't include Bebop rangefinder by default
be96a27fa8 AP_NavEKF3: only report terrain estimator innovations with valid rng value
171e80d8dc AP_NavEKF2: only report terrain estimator innovations with valid rng value
2732226664 AP_AHRS: use direct assignation and correct some style
dae636b39e AP_AHRS: correct some constcorrectness
d89d496c8f AP_AHRS: make getter const
eecd8fcfa6 AP_HAL_Linux: Add VOLTAGE_SCALING for BeagleBone Blue
0b78817b81 Tools: added apj_tool.py
4ac49483c8 AP_Param: added support for embedded parameters
0b4dcdde35 Tools: param_parse.py: allow whitespace between vehicles
d1128e7be4 Tools: param_parse.py: replace comments with debug statements
eeb15d7fd5 Tools: param_parse.py: make comment consistent
825832be93 Tools: param_parse.py: add a map for vehicle name to a true-name to be used in code
e0125a68e7 Tools: param_parse.py: use single regex for params everywhere
a45ab6b84c Tools: param_parse.py: correct example comment
738377c089 AP_Arming: remove airspeed arming check bits from non-plane vehicles
b6415b34d1 Tools: do not build combined parameters as part of build_autotest
94afaebdb7 Tools: autotest builds each vehicle parameters individually
ea2c156c7f Tools: param_parse.py: understand tagging of parameters for specific vehicles
241456f55f Rover: remove auto trim at startup
6459a4de9d Rover: gyro health check uses initialised flag
a8da459baf Rover: GPS reported healthy to GCS even without lock
bce9a40ab5 Rover: remove unimplemented methods
268b8799d0 Sub: stop setting home distance in fence
4dcb5aa3de Copter: stop setting home distance in fence
0f94fde434 AC_Fence: get home distance directly from ahrs
20e295c23a AC_Fence: check supplied location within fence rather than current loc
dff27ec506 AC_WPNav: correct call for getting location vector
302e5c6871 AP_Common: have get_vector_xy_from_origin_NE take a Vector2f rather than 3f
bf5f51a616 Copter: factor out takeoff_trigger from althold, sport and loiter
2c0df87585 Copter: Copter.h method reordering
26f3a62db7 AP_HAL_Linux: remove BBBmini from RCInput_PRU.cpp
f57eab3482 AP_SerialManager: add Volz and Sbus protocols to param metadata
25224cd261 Plane: remove dead code from do_vtol_land
569f55f5c6 AC_AttitudeControl:TradHeli - fix for alt_hold angle limiter active at hover collective in Traditional Helicopters add definition for max collective/throttle for helicopters that compensates for negative collective pitch range and sets proper collective overhead before alt_hold angle limiter becomes effective
f72e125ab5 Travis: use a sourceline to specify a PPA for CMake
6c82f7671d Copter: move all commands logic into AUTO flightmode
88abd34d40 Replay: fixed build with no create()
4c9f48244e Sub: removed create() method for objects
30e224e705 Plane: removed create() method for objects
8ab0ac8a16 Copter: removed create() method for objects
482ae876fb Rover: removed create() method for objects
a8a715d673 Tracker: removed create() method for objects
1c503ee459 SRV_Channel: removed create() method for objects
fd14dedcff DataFlash: removed create() method for objects
15026c6898 AP_Volz_Protocol: removed create() method for objects
d175fb2f18 AP_Terrain: removed create() method for objects
b6ecce8329 AP_TECS: removed create() method for objects
003851a5c1 AP_SmartRTL: removed create() method for objects
1cdbb09466 AP_ServoRelayEvents: removed create() method for objects
dd489a0797 AP_SerialManager: removed create() method for objects
580af4a69a AP_Scheduler: removed create() method for objects
dec3a27d91 AP_SBusOut: removed create() method for objects
076f7bc0cf AP_RSSI: removed create() method for objects
9b4fef4d50 AP_RPM: removed create() method for objects
16cd31b63a AP_Relay: removed create() method for objects
e9b847b5ee AP_RCMapper: removed create() method for objects
ffced7d591 AP_RangeFinder: removed create() method for objects
7122cae589 AP_Rally: removed create() method for objects
e798b38271 AP_Parachute: removed create() method for objects
0d4dca0394 AP_OpticalFlow: removed create() method for objects
cd51c71857 AP_Notify: removed create() method for objects
c13eaf0c7f AP_NavEKF3: removed create() method for objects
4d4e66d825 AP_NavEKF2: removed create() method for objects
3d2c81ff05 AP_Mount: removed create() method for objects
c72c1de99e AP_Module: removed create() method for objects
a3e07f66a1 AP_Mission: removed create() method for objects
1dac512567 APM_Control: removed create() method for objects
5f4680bf2c AP_LeakDetector: removed create() method for objects
645508224f AP_Landing: removed create() method for objects
ad99b04de7 AP_LandingGear: removed create() method for objects
31092da426 AP_L1_Control: removed create() method for objects
99499dece2 AP_InertialSensor: removed create() method for objects
d2c9e2719e AP_GPS: removed create() method for objects
c618a27ee0 AP_Frsky_Telem: removed create() method for objects
f326377a5c AP_Compass: removed create() method for objects
573a5bf3d0 AP_Camera: removed create() method for objects
a4d2d79ce7 AP_BoardConfig: removed create() method for objects
ca91edbbeb AP_Beacon: removed create() method for objects
a4c56fcb82 AP_BattMonitor: removed create() method for objects
68f8817e97 AP_Baro: removed create() method for objects
8c1cf9affe AP_Airspeed: removed create() method for objects
0ccaa5bcba AP_AHRS: removed create() method for objects
6487a22acd AP_ADSB: removed create() method for objects
85f9fecd24 AC_Sprayer: removed create() method for objects
9ba8097502 AC_PrecLand: removed create() method for objects
25c409d4a2 AC_InputManager: removed create() method for objects
25b9a7e711 AC_Fence: removed create() method for objects
d5c55e0dfe AC_Avoidance: removed create() method for objects
9ed3ca3d35 ArduPlane: update version number
7a6ab4ac44 AP_AHRS: fixed a bug with startup ordering of SITL
a5b7de2577 Travis: fixed path for cmake import
86fe1671c1 AC_Fence: fix comment
e8151a7ec1 AC_Fence: require home as well as origin for prearm checks
7222380598 Copter: populate system status bits for fence
1ecfdffa76 AC_Fence: methods to help populate SYS_STATUS
8c516fb29c Tools: autotest: add max-alt fence
4c2a750f06 Sub: fence no longer requires AP_InertialNav
377466ddda Copter: fence no longer requires AP_InertialNav
ac3f030a34 AC_Fence: factor out check_fence_alt_max
d04a4dd0f8 AC_Fence: factor out check_fence_circle
d379c7bbd9 AC_Fence: factor out check_fence_polygon
5eeed442c8 AP_AHRS: correct comment
518399c13a AC_Fence: stop looking at EKF filter status
65373b85f0 AC_Fence: replace AP_InertialNav by AHRS
d09b0696db Copter: correct checking of heli mode change
7504237fbb Copter: rename flight_mode.cpp to mode.cpp
624aef401d Plane: Enforce THR_MIN/THR_MAX in VTOL modes
f6f40afcda Rover: rename control_mode_from_num to mode_from_mode_num
99bafb0df1 Copter: rename heli_control_xx to mode_xx_heli
2d23e1f7c7 Copter: rename flightmode_ objects to mode_
c3fbf2671c Copter: rename control_xx.cpp files to mode_xx.cpp
06fbe8f3a7 Copter: rename FlightMode class to Mode
6e9de7e609 Copter: flight_mode formatting changes
2e71a641c3 Copter: FlightMode allow_arming format changes
0ac708b5a0 Copter: remove ability to disable PosHold flight mode
7494eb2e77 Copter: alphabetise flight mode header file
a90979ec8e Copter: remove FlightMode_Avoid_ADSB.h file
8870897847 Copter: FlightMode objects use lower case
20d7216179 Copter: remove comments
ac8c2b3f03 Copter: resolve compiler warning from flight-mode declaration
3b32d583a9 AP_NavEKF2: Fix delta time use error
440d361aff AP_NavEKF2: Limit range of delta times
6b30c9213a AP_NavEKF3: delay startup until IMU buffer is filled
1f9a3dd1bd AP_AHRS: improved init attitdue in DCM
97729a12f0 AP_NavEKF2: don't run IMU updates until buffer fills
39c206ca03 AP_InertialSensor: limit delta-time from INS
a0af4af5b5 AP_InertialSensor: debugging code for EK2 bug
19af2f7d1d Tools: add decibel as valid param Unit
38145f9541 AP_InertialSensor: fix param docs for notch and log settings
20d44136b0 autotest: fixed handling of core files
cabced82f1 AR_AttitudeControl: fix parameter descriptions
c17549c7ff AP_Arming: integrate pre arm check if regular and skid steering configured
ebe3ec88a7 AP_MotorsUGV: pre arm check if regular and skid steering configured
78f732c380 AR_AttitudeControl: fix parameter docs
75e8424e3f Tools: autotest: add a test for driving a simple RTL mission
5d33cf08e1 Copter: eliminate calc_home_distance_and_bearing
744f4baf22 AR_AttitudeControl: add parameter description increment
f00f4ce79b AR_AttitudeControl: fix get_desired_speed timeout
5d7e3d31c9 Rover: PM log message more consistent with Plane
4958298a75 Rover: fix auto mode distance_to_destination
9b81c133f6 AP_HAL_PX4: fix compiler warning in UARTDriver
de196f818d Rover: log STER dataflash message regardless of mode
5f62cde550 Rover: remove throttle from NTUN logging
9710b16cac Rover: THR dataflash logging replaces CTUN
efae648461 Rover: STR dataflash logging gets turn rate
8e80490098 Rover: reporting gets lat accel from attitude control
b778546eda Rover: rename mode lateral acceleration and make private
36c5f057ae AR_AttitudeControl: add get_desired_turn_rate lat_accel and speed
df81f666df Rover: fix LOG_BITMASK parameter description
30944f60e6 AP_SBusOut: fixed param doc name
051f30990c SRV_channel: fixed doc names of VOLZ and SBUS
c4734484e7 AC_Avoid: take an AP_AHRS in place of an AP_AHRS_NavEKF
8a4ab685c7 AP_AHRS: implement get_hgt_ctrl_limit on base class
89e12163cd AP_AHRS: correct comment
c3eff57f60 AP_InertialNav: remove unused get_hgt_ctrl_limit
a1c982be4a AC_Avoid: work in metres to avoid extra work
0fe45ef6b6 AC_Avoid: eliminate get_position and get_alt_above_home
54010451bf AC_Avoid: check result of AHRS calls
b44ba29a05 AC_Avoidance: replace AP_InertialNav by AHRS
34c2fba9a7 Rover: boats stay active at destination in guided, rtl, smartrtl
8eb991b610 Rover: boats say active at destination in auto
aa38239629 Rover: add FRAME_CLASS to differentiate boats from rovers
4289190654 HAL_PX4: added LIS3MDL on FMUv4
b0e2f06a7a AP_Compass: add LIS3MDL probe for Pixracer
512b327cd4 Plane: failsafe events to use enums instead of magical numbers : Non-functional change
103e2cc711 Copter: calculate wp bearing and distance on demand
4ae2be55aa Copter: fix up autotune namespacing
57067fb8bc Rover: add WP_SPEED and RTL_SPEED
22ef276484 Rover: add const to mode::speed_error
8f08f5189a Rover: constify some temporary variables
7b637334f4 Copter: eliminate mode_has_manual_throttle
4fd61ed6dc Copter: make exit_mode take FlightMode objects as arguments
adf4140b9b Copter: fix heli-flags compilation issue
477ae8f7be Copter: pass heli_flags into flightmode constructor
83d0a71e10 Copter: FlightMode - simplify flight mode initialization
0ca5605b8d Copter: FlightMode: remove virtual from many methods
ef1489e87a Copter: eliminate mode_requires_gps
a4859e13c1 Copter: eliminate mode_allows_arming
9c60c1de58 Copter: FlightMode - convert SMARTRTL flight mode
b0e34bd307 Copter: FlightMode - convert GUIDED_NOGPS flight mode
cf423ce681 Copter: FlightMode - convert THROW flight mode
1de99c737e Copter: remove unimplemented heli desired_yaw_rate
37c706c24e Copter: FlightMode - convert AVOID_ADSB flight mode
51cd143012 Copter: FlightMode - convert BRAKE flight mode
cafce01357 Copter: FlightMode - convert POSHOLD flight mode
67063d6b1e Copter: FlightMode - convert AUTOTUNE flight mode
018c70d224 Copter: FlightMode - convert FLIP flight mode
5e3e831152 Copter: FlightMode - convert SPORT flight mode
6a38664ff4 Copter: FlightMode - convert DRIFT flight mode
682f3c0e7e Copter: FlightMode - convert RTL flight mode
3b1ca99b95 Copter: FlightMode - convert LAND flight mode
2db09ba0f7 Copter: FlightMode - convert GUIDED flight mode
f2495b2d08 Copter: FlightMode - convert LOITER flight mode
871ba5630f Copter: FlightMode - convert CIRCLE flight mode
e2b70c3a0a Copter: FlightMode - convert AUTO flight mode
a95a35c134 Copter: FlightMode - convert STABILIZE flight mode
79c06974b7 Copter: FlightMode - convert ALT_HOLD flight mode
d74f0c72da Copter: FlightMode - convert ACRO flight mode
527a536b78 Copter: FlightMode - remove function parameters
99a22a263d Copter: a FlightMode base class
e0233f1dc4 Copter: create a takeoff_state_t type
b828fa4ffc Copter: Create an ap_t type
5dabb37834 Rover: 3.2.0-rc3 release notes
bccdb4e195 Rover: hold mode does not require GPS
97e87e2150 AP_MotorsUGV: skid steering always uses full range
395a4ad4ce Copter: add z-axis obj avoidance to guided vel control
988e4290dd Rover: formatting and comments for set-position-target handling
1d92ec5724 Rover: set-position-target message processing only checks xy fields
9299943347 Rover: adjust setpoint_velocity handling
9b2e48ce10 AP_GPS: Improve comments (NFC)
2235b22510 Copter: Also report distance and bearing to target in Guided_PosVel mode
fa4427fbce AC_AttitudeControl: Add AC_PosControl::get_bearing_to_target() method
63639a0838 Sub: Guided_PosVel mode: reject destination if outside the fence
ce3197e0ac Copter: use the return code of the guided_set_destination_posvel() function calls
c7a2fcdc37 Copter: Also use fence in Guided_PosVel mode
9f6342a1d1 Sub: Move some common functions to AP_Math (NFC)
bd027e4fcb Copter: Move some common functions to AP_Math (NFC)
1a512609ac AC_WPNav: Use the get_bearing_cd() overloaded function provided by AP_Math instead
e13281ab2d AP_Math: add overloaded functions get_horizontal_distance_cm() and get_bearing_cd() (NFC)
0404d3588d Sub: Use DEGX100 define instead of hardcoded value (NFC)
928bc19cee Copter: Use DEGX100 define instead of hardcoded value (NFC)
07c8d208bc AC_WPNav: Use DEGX100 define instead of hardcoded value (NFC)
ec1790dad9 AP_Math: Use DEGX100 define instead of hardcoded value (NFC)
4eaa1f17df SITL: fix pthread_setname_np to build on mac
87658e6a07 AP_MotorsUGV: add MOT_THST_EXPO to scale output to motors
bee8741b60 AP_MotorsUGV: order methods in cpp file to match h
865fb91676 Rover: add rpm to WENC dataflash logging
015d71bacd ArduCopter: remove useless .gitignore from directory
fac89ed437 Tools: autotest: move common functionality to common.py Tools: don't need to pass option on first mavproxy
da11241aa8 AP_HAL_SITL: add const
bd1110f444 AP_JSButton: simplifies logic
42e5b180cb Tools: fix sim_vehicle.py terminal tab when using --no-mavproxy
3dc6c34465 Tools: LogAnalyzer: fix various Tests for newer-style logs
1d2ec9054b Rover: tighten return types of mavlink functions and variables
3f7eb69327 Tracker: tighten type of result variable in handleMessage
9040bb5f97 Sub: tighten type of result variable in handleMessage
398d07a68a Copter: tighten return types of mavlink functions and variables
af007c5f0f Plane: tighten handleMessage result type
e39e8359b6 GCS_MAVLink: tighten result of handle_preflight_reboot
161e2145cb AP_InertialSensor: tighten type of simple_accel_cal result
0c6afac5c6 Rover: allow mode to be set from ch7 switch
ed558dd9a0 Rover: play sad tune when arming fails
b4a779aec3 Rover: add arm/disarm to ch7 switch
8eb58b266a Rover: remove unused failsafe_throttle_suppress method
8043c0f638 Rover: reduce arming delay to 2 sec
e38cefea8a Rover: add SmartRTL mode
86ce3f2b32 Rover: add SmartRTL library to build
9f94875228 Rover: mode class gets set_desired_location_NED
82cd320bd0 AP_AHRS: add get_origin method to parent
7257fb6284 Tools: LogAnalyzer: correct join() in GPSGlitch test
da4d3ebe2b HAL_SITL: fixed UART utils for cygwin and Linux
6bdbe53024 AP_HAL_SITL: fix compile error for Windows/Cygwin builds
013035a4da AP_HAL_SITL: fix compile error for Windows/Cygwin builds
760c6185e5 AP_HAL_SITL: remove SBUS debug code
c30642a348 AP_HAL_SITL: correct _unbuffered_writes usage
6d472376bb AP_MotorsUGV: do not limit just because of saturation
5612292802 Rover: allow vehicle to be armed in manual with no GPS
1a59b38204 Rover: use throttle rather than steering to determine target speed
b1b1c0218f AP_HAL_PX4: clean whitespace
d9ce90ceb0 AP_SBusOut: fix typo in comment
8d70255b8b AP_SBusOut: turn off SBUS_DEBUG
5a417e3152 AP_HAL_SITL: support SBusOut
644f5b75e6 AP_HAL_VRBRAIN: rename enable_sbus_out to enable_px4io_sbus_out
12ea8efa84 AP_HAL_PX4: support SBusOut
66c4b7d986 AP_HAL: support SBusOut
9c91a959aa mk: link AP_SbusOut
fd5039f8cd Tools: link SBusOut library
3587d7f253 AP_SerialManager: add SBUS1 serial output support
cca251c135 SRV_Channel: support SBusOut
94d4f068a8 AP_SBusOut: create library
560402bad4 AP_BoardConfig: clarify PX4IO SBUS enable message
68800a52f5 Rover: move RC failsafe check up
47f8ed7fab AP_GPS: set GPS_SAVE_CFG default to save GPS config as required
9677d570e9 AP_GPS: faster GPS lock
69dc68d621 Rover: re-order acro mode to add early return
060f1d36dd Rover: allow aux switch to record waypoints when not in auto-mode
45d76bdf25 Rover: add name4() to Mode and use it for AP_Notify calls
04e9228fa0 Rover: add Acro mode
2c6593e35e AP_NavEKF3: fixed inverted function setInhibitGpsVertVelUse()
4019a167a9 AP_NavEKF2: fixed inverted function setInhibitGpsVertVelUse()
f7db538220 APM_Control: Fixed the subparam indexs to start at 1
5b7cd31221 Rover: send steering PID tuning to GCS in most modes
26f50f6055 Rover: PILOT_STEER_TYPE replaces SKID_STEER_IN
c6689fd2e1 Rover: rename calc_nav_steer to calc_steering_from_lateral_acceleration
3d6cc59a6b Plane: cleanup geofence warnings
fa7c56a110 Rover: minor comment fix
8f1857759f AP_MotorsUGV: allow larger MOT_SLEWRATE values
78275ec4a1 AP_MotorsUGV: throttle slew updates motor limit flags
b724884344 Sub: Remove unnecessary cast in init_rc_out
b7a293ca5f Tools: autotest: move fetching of banner and version
2a81792b41 Plane: don't disable compass on one bad reading
01c4e51d08 Rover: don't disable compass on one bad reading
958a665334 Tracker: don't disable compass on one bad reading
49cb245ea6 Plane: use a min airspeed for is_flying test
5a0ffe94d2 AP_Common: NFC spell in comments
0ecb14361d AP_AHRS: NFC spell in comments
9773365237 Copter: NFC spell in comments
a7fd353f14 Rover: add comment to unused param enum entries
6d805b64b6 AP_MotorsUGV: remove access to enable/disable throttle slewing
23028a659b Rover: slew throttle in all modes
822c4b6dca Rover: remove set of slew for motor test
ca72b20e04 Tracker: correct sending of servo outputs
8d2db3218c Copter: minor comment fix to code handling SET_POSITION_TARGET msgs
bde1aaa2f6 Copter: Rename variable to correct the meaning (NFC)
8678d13e7b Copter: Update the result of a MavLink message, this is a NFC
ef0144751e Copter: allow THROW_NEXTMODE=LOITER
311d7c11e4 Copter: added LOITER option in THROW_NEXTMODE
020e0bfd40 Copter: fix disable ESC calibration for brushed motors
650a0e06bd Copter: disable ESC calibration for brushed motors
33feeb1c11 Tracker: add support for SYS_STATUS sending, battery
cab972a429 Rover: reduce TURN_MAX_G default to 1.0
b9a1621d38 AR_AttitudeControl: minor comment fix
9272c10043 Rover: use short descriptions for mission item types
30355fa6d8 AP_Mission: provide short description for mission item types
a644cff921 Copter: support testing multiple motors with motortest
9660973975 AP_Math: make crc_crc8 const
1a3ca43e86 Plane: Don't check FS_SHORT_TIMEOUT if it's disabled
5ee9361941 Tools: generate_manifest: include firmware type as differentiator
bd284d9fd7 AC_PosControl: correct lean-angle-to-accel formula
7271586a47 Plane: invert auto_state.no_crosstrack flag to be auto_state.crosstrack. Non-functional change
e49d29f8cd AC_WPNav: protect against divide by zero
8845b6d5b5 Copter: rename control_safe_rtl.cpp to control_smart_rtl.cpp
917d9842c4 SITL: support AHRS_ORIENTATION in SITL
ebcffcb0ac HAL_SITL: fixed console printf in SITL examples
3f226cd2b9 AP_Math: added from_rotation() method to Matrix3
58e5b7f458 Copter: 3.5.4 release notes
b60cb536ab Rover: RTL within auto mode
14d9e932ab Rover: allow disarming from transmitter on skid-steering vehicles
ada7d700c2 Tools: support for units on fields
7aaf25afd3 ArduSub: support for units on fields
4e39496046 Tracker: support for units on fields
bf6b3a72bc Rover: support for units on fields
22f1b5ed6f TECS: support for units on fields
6ed0d645a3 Plane: support for units on fields
dc99a29dfc ArduCopter: support for units on fields
d68ba874d0 DataFlash: correct examples with units
b19f981c07 DataFlash: validate units and multipliers
9896e23c36 DataFlash: Log_Write() fills unknown units with '?'
2e94673e4f DataFlash: keep the unit names consistent with Tools/autotest/param_metadata/param.py:33
a5442fb293 DataFlash: support for units on fields
1e512338f9 AP_AirSpeed: clarify comment
fa68738726 Tools: waf: avoid trigraph warnings by adding -Wno-trigraphs
794c960c7e mk: avoid trigraph warnings by adding -Wno-trigraphs
46ac0e45aa AP_HAL_SITL: initialize rc inputs appropriately for ArduSub
28ff272017 SIM_Submarine: Solve problem when frame is above water level
c056076e85 AP_InertialSensor: fix code style problem, delete useless codes
b3307edd8f ardupilot: update .gitignore
c700e69541 Tools: add Robsense PhenixPro Devkit Board support
1918b07705 AP_Notify: add Robsense PhenixPro Devkit Board support
efbb030494 AP_InertialSensor: add Robsense PhenixPro Devkit Board support
0e1ce2a7fd AP_HAL_Linux: add Robsense PhenixPro Devkit Board support
895b5f34b8 AP_HAL: add Robsense PhenixPro Devkit Board support
26de6de848 AP_Compass: add Robsense PhenixPro Devkit Board support
f01b483657 Sub: move barometer_accumulate to sensors.cpp
9a03ba1bfb Copter: move barometer_accumulate to sensors.cpp
5c07a44a6d Tools: Fix a race condition on the regression tests on Windows
700aaf2e8f AP_HAL: add delay to UART_test example
279a57dc10 APMrover2: fix servo_out to GCS message
005002736b AP_MotorsUGV: fix MOT_SLEWRATE parameter description
983a330cd5 AC_Fence: Remove unused duplicate methods
e0d383c986 AP_Volz_Protocol: add a 30% safety margin over baudrate
329dbff8da mk: link volz library
766a2a4bc0 Tools: link volz library
b16ae19bce Sub: use cork/push wrapper
23b20307af Copter: use cork/push wrapper
d57f307032 Rover: use cork/push wrapper
a6c7890c74 Plane: use cork/push wrapper
7f68be9bdf SRV_Channel: adding Volz Support
2442f3fb06 AP_SerialManager: adding Volz Support
65032919e2 AP_Volz_Protocol: added Volz protocol library
9720fcb8cc Plane: Only update home when not armed, rather then not soft armed
df6d2659ac autotest: Add RAT Beach for ArduSub
05492be269 AP_AHRS: clarify scope of AHRS_GPS_USE parameter
1b4705242c AP_NavEKF2: print reason for EKF2 arming failure when no GPS is available
012ddbefac AP_Landing: Support absolute altitude deepstalls
964d64a623 SITL: adjust FlightAxis defaults
f7a735b990 Plane: fixed transitions for tailsitters after auto-takeoff
85573b3ff3 Plane: fixed a division by zero
cdd350f93e SITL: fixed build under cygwin
e06f160dc9 Plane: disable rudder scaling in tailsitters
a18cf45798 AP_Notify: enable AP_BoardLED for Navio
6326e23682 AP_HAL: Navio: add defs for BoardLED
56534b34c5 AP_HAL_Linux: use GPIO_Sysfs for Navio
4e02637f23 AP_Notify: add Led_Sysfs and use in Navio2
5254ee03c2 AP_HAL_Linux: use GPIO_Sysfs for Edge
8fcd30c611 AP_HAL_Linux: use GPIO_Sysfs for Navio 2
c5141ad87e Copter: 3.5.4-rc2 release notes
fc3721c123 Sub: add average and stddev time to SCHED_DEBUG output
901dc46708 Sub: use AP::PerfInfo library
04c9e966e0 Copter: use AP::PerfInfo library
fd543fce6d AP_Scheduler: create AP::PerfInfo class
5c2f68e8f5 Copter+AP_Scheduler: move perf_info.cpp into Scheduler
6d2b0ecc82 Sub: AP_Camera uses GPS singleton
ee5f550475 Plane: AP_Camera uses GPS singleton
d959e4b42b Copter: AP_Camera uses GPS singleton
c00a4f3bb2 Rover: AP_Camera uses GPS singleton
b97ee33438 DataFlash: AP_Camera functions use GPS singleton
7258fa81d9 AP_Camera: use GPS singleton
0934bdb5dc Tools: remove default values from eLAB 445 params
8d6d09169f Copter: rtl uses labs for alt comparison
ebd864d2d2 AC_PosControl: minor update to comments
acfcd9980d Copter: Modify method name in method header.
2fc9b3b5f4 Sub: use gps singleton for GCS functions
b4294c00f6 Plane: use gps singleton for GCS functions
8f48b3187e Copter: use gps singleton for GCS function
a6bda813f1 Tracker: use gps singleton for GCS functions
baf82cec22 Rover: use gps singleton for GCS functions
269294754f GCS_MAVLink: use gps singleton
a8aa6a7822 AP_Arming: use gps singleton
693823ae0d AP_GPS: add gps() to AP:: namespace
1f1bb61bfa Copter: Add PreArm - PID Parameter check
52ed8d0bb0 Git: add arducopter.exe.stackdump to gitignore
6315e6eb45 AC_AttitudeControl: remove unused get_tilt_limit_rad
c08203de17 Rover: allow pivot turn in STEERING mode
83bb1e7f4a Frame_params: (BlueROV2/Sub-3.5.2) update tilt servo reversal
4c6f954cdf AP_BoardConfig: separation of parameter groups
f28c58ce3b Sub: Update release notes for 3.5.2
2f76f83ab7 Tools: autotest: add and use progress function
76bb081d60 Tools: autotest: add python headers to scripts
305f203dd3 Frame_params: (BlueRov2/Sub-3.5.2) Reset to defaults
67eefe3d6a Frame_params: (BlueRov2/Sub-3.5.2) Use integers for APInts
00484073b9 Sub: Option to trig by distance only when in AUTO mode
1d27e21d83 Plane: Option to trig by distance only when in AUTO mode
e7a1ceca4c Copter: Option to trig by distance only when in AUTO mode
aab22d7dad Rover: Option to trig by distance only when in AUTO mode
1a63fd85d8 AP_Camera: Option to trig by distance only when in AUTO mode
acb65b99ac Frame_params: add file for BlueROV2 on Sub 3.5.2
bf1aa64345 Plane: updated release notes for 3.8.3
4413ebab7b AP_HAL_SITL: suppress output until initialization is finished
07fa65a88c AP_HAL_SITL: Add current and voltage monitoring implementation for Sub
271373e1e8 Plane: added a not on min slew rate for throttle
2a25011b14 AR_AttitudeControl: const local variables
caaeae3d0a Copter: Separate max ascent and descent speeds
767018b1d4 Plane: Support unlocking cruise heading with rudder
23882aaab0 AP_Notify: only play not-ready-or-not-finished tone if we've been ready
c436235b05 Sub: remove defaulting of report value in rc_calibration_checks
450c8f4f3a Sub: remove redundant call to ins_checks
3846da5e23 Copter: remove redundant terrain checks
d537461934 Copter: remove redundant battery checks
b3b1680e11 Copter: remove redundant fence checks
04af1cb331 Copter: remove redundant baro checks
b5c907312c Copter: remove redundant gps checks
d563a9dd5d Copter: remove redundant INS checks
d3b73f8557 Copter: correct notification of pre-arm-gps-check failure
7961a8f5c8 Sub: rc calibration checks are called by AP_Arming
818faa92d4 Copter: rc calibration checks are called by AP_Arming
25a0e6378e AP_Arming: manual transmitter checks call rc calibration checks
9b52c9b670 Copter: prearm logging checks are called in parent class
49dd5f4f80 Copter: prearm board voltage checks are called in parent class
b8802ec5c2 Copter: prearm gps checks are called in parent class
7c0869fa19 Copter: prearm ins checks are called in parent class
cb8fa41cb1 Copter: prearm compass checks are called in parent class
30c1a040d7 Copter: prearm baro checks are called in parent class
c129445ff6 Copter: call common prearm checks
901fe55d04 AP_Notify: play sad tone if prearm checks start to fail
7b3e111f85 Copter: continuously run pre-arm checks
76a6649a2d AP_Autotune: remove unimplemented function
7e2214c2be Rover: simplify logic for lateral-accel override during use-pivot-steering
2b0645d6a1 Rover: get_throttle_out calls do not require skid-steering arg
e9e1dac188 AR_AttitudeControl: remove unused skid_steering arg from get_throttle_out
aa09541847 AR_AttitudeControl: const ahrs reference
d226ffeeb2 AP_AttitudeControl: remove tabs
bc7cf97b4e Rover: don't use GPS speed to detect reversing
49887235df AR_AttitudeControl: get_steering_out methods accept reverse argument
ac7e76cc43 Rover: enable pivot turns in auto mode
f7641d7b01 Tools; Added name to Git_Success.txt
8ba42480f7 Tools: Added Clarisse Crespo to GIT_Success.txt
477a0af83c Tools: added name to GIT_Success.txt
ef05281dc2 Copter: 3.5.4-rc1 release notes
63bafa2c7f AP_Motors: Tradheli- fixes servo_test function for Dual Heli frame
0e71aa6f89 PX4Firmware: submodule update
bd32b5deb7 Plane: update isFlying() landing check
6a94d285de AP_BoardConfig: fixed description to warn against
ef00978662 Copter: add missing disarm-on-land parameter to rtl_land_run
5b793252ed Copter: stop disarming as part of running rtl as mission item
8029a7f10e Plane: add Tom Pittenger to developers list
bf9779b63a autotest: default plane simulator to 'plane'
e741cb28d2 fix wait_unlimited with an infinite sleep loop
ef0b52e017 AP_Arming: Run extra GPS checks when arming
236e74c529 AP_GPS: Singleton
c856cc6f33 AP_GPS: Allow GPS's to run functions on arming (used by SBF)
5843086760 Plane: update release notes for 3.8.3beta4
957c1f6d23 Plane: extend QLOITER transition pitch limit
bbf98fae46 Plane: fixed a warning
9c8cd6c1cc Plane: added Q_TRANS_DECEL
e27c54a312 Plane: smooth out fwd tailsitter transition
21164ef409 Plane: added tailsitter surface speed scaling
c9652fec3c AP_BattMonitor: fixed SITL segfault
274e441292 DataFlash: fixed build for aerofc-v1
6358081b18 AP_Motors: apply tailsitter min spin to both motors
83decd1370 ArduPlane: Only run is_flying landing checks when in landing stage
338d745de1 AP_Landing: Implement is_on_approach for deepstall
126d5ce5d4 Plane: re-implement MIXING_OFFSET
878d2e2563 AP_Motors: fixed tailsitter use of SPIN_MIN
e63e39c411 Plane: Don't broadcast PWM value that tripped throttle failsafe
d52f5155f0 Plane: Rename rc failsafe state members
8058fdf093 AP_HAL_Linux: combine ppm and sbus on ocpoc_zynq
065b00eb81 AP_HAL: Remove SBUS macro from ocpoc target
002d3f08f6 AP_L1_Control: update_waypoint zeros xtrack i term on init
eab1d3af4f AP_InertialSensor: don't apply offsets in SITL backend
160ce436e3 Tools: added name to GIT_Success.txt
3467be6695 Tools: update eLAB-445 parameter file
37ea64513d AP_Motors: TradHeli - fixed servo test function
4108f22304 AP_Beacon: Corrected possible use of nullptr memory.
7d91755bd1 Plane: update Q_OPTIONS docs
1bee1dd210 Plane: log currently used airspeed
43ee462813 Plane: prepare for 3.8.3beta2
d55b66efe1 autotest: added HMAS location
f14f40d3ef Plane: fixed GUIDED loiter with Q_RTL_MODE=1
73a76455d2 AP_BattMonitor: Solve typo in BATT2 description
4d38eb85a1 APMRover2: Add support of MANUAL_CONTROL msg
cbb9dcc2a1 AP_HAL_Linux: Storage: use define from HAL for directory
7fd10921c3 AP_HAL: Linux: add define for storage dir
3272ae2c04 DataFlash: make log directory macro mandatory
591b846e2d AP_HAL: switch aero and minlure to new log/terrain directory
d2ba8409d0 AP_HAL: provide default directory for Linux boards
c96bc54254 AP_NavEKF3: correctly use wheel odometry speed for pitched rovers
68828511cd AP_GPS: Only send GPS*_RTK mavlink messages if the backend supports them
e0c2a45eec AP_GPS: support GPS_RTK and GPS2_RTK messages in Emlid reach modules. Requires Reach FW >= 2.7.4
c0dd7984ad AP_GPS: Publish information on the GPS*_RTK mavlink messages
bf6778277e AP_GPS: implement GPS*_RTK mavlink messages
91b6404b13 GCS_MAVLink: Replace hardcoded duplicated end_mavlink_gps*_rtk() function with a flexible one
430b863f42 AP_GPS: Replace hardcoded duplicated end_mavlink_gps*_rtk() function with a flexible one
84e5cd7e14 Plane: update release notes for 3.8.3beta1
1085069851 Plane: use WP_LOITER_RAD if RTL_RADIUS is 0 for QRTL
aa430a6e2c Plane: use RTL_RADIUS for QRTL threshold
552faa8f67 Plane: smoother tailsitter transitions
c24ee9192b Plane: prevent a float exception at pitch 90
214434a2d7 Plane: fixed tailsitter ANGLE_WAIT transition
af893ddde7 Plane: implement Q_OPTIONS
02f8d888c3 Plane: relax controllers when disarmed
951c947bec AP_Arming: update param description for VOLT_MIN
fd86b2bbb9 DataFlash: log critical messages while disarmed
7fb4f17ad9 Rover: 3.2.0-rc2 release notes
9b7c3ce9a7 GCS_Mavlink: Fix out of bounds access, CID 144337
ee6b43aabf AP_NavEKF3: Fix bugs in use of wheel encoder data
6d0cfc13a2 Copter: heli: Update swashplate behavior
e8173f27df AC_AttitudeControl: reset target attitude
99f63d63e8 Sub: Add joystick button functions for relays 3 & 4
2fab8e9fe1 AP_JSButton: Add joystick button functions for relays 3 & 4
fee79afb8e AP_Frsky_Telem: add second battery info
5d9299d72f AP_Frsky_Telem: add second battery capacity parameter
191e457230 DataFlash: include sample count in ISBH
b997f445ff AP_InertialSensor: include sample count in ISBH
8c03425f37 Tools: enable INS batch logging during Rover autotest
d49be616da Plane: call ins's periodic function
6d32fb7f2a Sub: call ins's periodic function
b59c272996 Tracker: call ins's periodic function
2d0a23fcc8 Rover: call ins's periodic function
c7216a2740 Copter: call ins periodic function
9566abb3a8 AP_InertialSensor: add IMU batch sampling
5096e2fca9 AP_InertialSensor: use df singleton, factor out log_{gyro,accel}_raw
1ca76173a5 AP_Math: set radians(...) and degrees(...) as constexpr
d950e78079 DataFlash: Log_ISBH and Log_ISBD, to log batches of IMU data
2f9a8ded55 DataFlash: add new int16_t[32] type, designator 'a'
eabc608b2e Sub: cleanup unused variable
2614d2112a AP_Winch: remove redundant member
842eed5426 Copter: accept do-winch commands with max rate
47bbf49aa6 Copter: fix tuning knob rate control of winch
787954fa37 Copter: integrate winch library
2c511b4269 Copter: add AP_Winch and AP_WheelEncoder to build
2dfb6a94f2 AP_Winch: library to control winch
8b4345f29d AP_Mission: add winch support
07e2853b8e SRV_Channel: function definition for winch
1998cf93d2 Sub: JS_LIGHTS_STEP -> JS_LIGHTS_STEPS
b7e367e21d Sub: always neutralize inputs during pilot input failsafe
fb2e87032d Sub: use configured rc input range for lights input instead of hard coded values
4e1c7fff37 Sub: Ignore input hold button if disarmed
69be1725b6 Sub: Disable input hold on disarm
15658f1526 Sub: rework camera tilt input and slew limiting
e8326ef120 Sub: remove manual control button debounce timer
e648564e74 mavlink: add DO_WINCH command
ce73d724c8 AR_AttitudeControl: rate-control for skid-steering uses I term even at low speeds
ee3daaa7c9 AR_AttitudeControl: reset input filter for steering and throttle controllers
91d489d91e  AC_PID: implement reset_filter
74d5767e25 Rover: Fix slew rate range
2986d3eb7d AR_AttitudeControl: fix braking
49cbbf4d76 AR_AttitudeControl: minor comment fix
8daa8cba1f AR_AttitudeControl: record desired turn rate and speed for logging
2ef1e8e4c2 Rover: fix PID desired and achieved reporting
ea70755f00 Rover: fix speed nudge
fb9f695d2f Rover: fix use-pivot-steering
fb944322c7 Rover: minor fix to disarm logic
2c568f8046 Rover: minor parameter description change
9f67d2a88d Rover: add MOT_SKID_FRIC to up skid-steer motor out while stopped
0cee2f2896 AP_BattMonitor: Require all backends to provide init
3402d07651 HAL_PX4: fixed a race condition on i2c init
b6404ff26b Tools: build_binaries.py: handle badly formed config.mk
c498f17bc8 Tools: autotest: fix apmrover2 race condition on banner
51c8c1adb2 Copter: TradHeli update comment
572c609cd6 Copter: Trad Heli-change default accel_z_p to 0.30
93810ab42a Tools: sim_vehicle.py: clarify comment about vagrant and mavlink-out
89fa44a224 Tools: sim_vehicle.py: flake8 compliance
163b354448 Tools: autotest: rover: add test for braking
62f7acff52 SITL: reduce max accel of simulated rover
efefdfa037 Tools: build_binaries.py: support config.mk
47ffad7cdc Tools: autotest: copy generate_manifest aside for build_binaries.py
8adacfeea3 Plane: always log MODE and include reason when logging is enabled
f7d07fc146 Rover: always log MODE and include reason when logging is enabled
e340fac2e0 AP_Motors: avoid float exception for small expo
bc0827ffd7 Sub: force GND_EXT_BUS at boot for Pixhawk 1 and 2
d5896287b7 AP_Param: Add set_by_name and set_and_save_by_name helpers
7d304073ed SITL: fixed include case sensitive On case sensitive cygwin feature enabled, this build ok.
63ca1f755e Tools: Replay: fix compiler warning for printf string
e3320ca953 Tools: autotest.py: run build_binaries.py instead of build_binaries.sh
9e7d2e837a Tools: build_binaries.py: translate build_binaries.sh into python
5d02dc4a30 Tools: generate_manifest.py non-fatal if not all vehicle dirs exist
0f99196972 Tools: build_binaries.sh references renamed generate-manifest.py
e8f660f4a9 Tools: rename generate-manfest.py to generate_manifest.py
92ee05b925 Plane: fixed motor channel handling
381e2fd69a SRV_Channel: added get_motor_function()
45d6f3bf75 AP_Motors: fixed motor channel handling
9693da751e AP_common: Add stdio.h when using SITL_printf
4ce051af82 Plane: ensure we're in short failsafe before using failsafe.ch3_timer_ms
ff88b0dfda Plane: remove redundant failsafe string
7feef72b34 Plane: improve failsafe notifications
01d8c506d2 Plane: add option to entirely disable short failsafe
c7c2c4ff2c AC_AttitudeControl: use floating-point multiplication instead of a more expensive floating-point division
b88f2f1da3 autotest: fixed exception in convertgpx
fc237ee9a0 AP_Motors: merge fixed from rebase
0d0f1d264b Copter: fixed order of motor setup
efea83e424 AP_Motors: fixed MotorsMatrix set_update_rate()
0682d30ebd SRV_Channel: ensure channel_mask is setup
1e62b5d5c7 AP_Motors: many to one mapping of motors
39fd25bb36 SRV_Channel: added get_output_channel_mask()
aeb2a628c4 Sub: fix for AP_Motors API change
6526ff504d Plane: fix for changes to AP_Motors API
c4b0d7bc35 Copter: removed calls to motors->enable()
03e1f6967f AP_Motors: removed enable() API
ed272833c3 SRV_Channel: don't treat k_motorN specially
b0e18de576 AP_GPS: Remove detect helpers for MTK/SIRF when minimizing the build
5bd92b4b7e AP_TECS: improved support for VTOL transitions
e008559b6e Plane: support LOITER_TO_ALT in quadplanes
71e2c86783 autotest: added more CMAC startup locations
c5cd1b873c SITL: use thread for FlightAxis comms
7def86ae96 HAL_SITL: don't run IO at more than 100Hz
4ed02c3c94 Sub: Change input hold announcements for enable/disable
b4ab0e2c6d Sub: Increase threshold for input hold engaged flag
8a28556ae1 AP_Notify: use RCOutputRGBLedInverted for Edge
03ac8621bf AP_BattMonitor: add Edge PM preset
4e2028c32f AP_HAL: Edge: enable Heat PWM
79c14a92a9 AP_HAL_Linux: adapt Heat_Pwm for Edge
069c98b8a9 AP_InertialSensor: Edge: add sensor's rotation YAW_90
710594eee3 AP_Compass: enable compass on Edge
db9f427617 AP_HAL: Edge: add compass settings
ac6f7511bd AP_InertialSensor: examples: print temperature
4f2d8f8df4 AP_InertialSensor: use ICM backend for Edge
4e6fab228c AP_HAL_Linux: add SPI devices for Edge
3ade179700 AP_HAL_Linux: make use of RCInput_Navio2 in Edge
2a99bb0c95 AP_HAL: use Raspberry Pi GPIO and Util classes for Edge
2a7e8d66ee AP_HAL_Linux: add Edge support
2dd68243a2 AP_HAL: add Edge support
62cb2b6845 waf: boards: add Edge
7bed518181 Sub: Don't emit tether turn status via STATUSTEXT
8178ab4037 Plane: make mav_type in HEARTBEAT configurable
0aed5a9a57 Plane: prevent controller windup on ground
1a95dcbdd7 Plane: update docs for Q_YAW_RATE_MAX
ef3cad7833 AP_Notify: add RCOutputRGBLedInverted
1598a97734 Sub: Solve some typos
bb2573f945 GCS_MAVLink: send mission item requests to correct destination
2b4cf54797 AP_Landing: Deepstall: Small style fixes
d166832de4 AP_Landing: Deepstall implement log(), reset all integrators
2909f77235 DataFlash: Remove PIDL and a DSTL for a deepstall specific message
f8ac4efb1d PID: Add a full reset method
615f6dfadb Plane: Don't log PIDL messages
df8049778e AP_Landing: Support CCW deepstall
a0a16b8369 AP_Mission: Load yaw heading for landing commands
0007e5eb80 AP_Landing: Support scaling aileron controls
d214a36e0a AP_HAL_Linux: reset duty cycle before setting period
cc55e5a8fa Plane: Don't log SONR if there are no rangefinders
dbf67aa38a AP_Mission: Remove duplicated code associated with copy the waypoint location
2959c270a6 Sub: bugfix/typo COMPASS_OFFS_MAX default override
83dacdba73 Sub: Fix AP_Notify leak flag logic
6536bf39b3 DataFlash: add DataFlash_AllTypes sample output
466d6e619e DataFlash: correct nanf log output
c8b6be6736 AP_Motors: fixed scaling of servo outputs
39dc608bea AP_L1: update constraint Nu comment to match sourcecode
cf7b874b42 Sub: support simple accelcal
f81ec9b1b3 Plane: support simple accelcal
f25e8631ef Rover: support simple accelcal
f49ab44f25 Copter: support simple accel calibration
74265f523a SITL: support -roll180 option to frames
6a6f9681ab AP_InertialSensor: allow for 1,1,1 accel scaling
f513c1c8dd AP_InertialSensor: support rotated IMUs in SITL
d5cab1140a AP_InertialSensor: added simple_accel_cal()
02586b0a2e AP_Rangefinder: search buses 0 and 1 for Maxbotix I2C driver
be1f0801a3 AP_HAL: stop defining a default Lightware I2C bus
bb46eaedaa AP_Rangefinder: look in buses 0/1 when Lightware I2C bus isn't defined
7e5f98b535 APM_Control: fix throttle and steering integrator calc
f00f650f4f AP_Notify: fixed internal toshiba LED
0300f86913 AP_GPS: u-blox: Log unconfigured messages
8719c2903a DataFlash: Log U-Blox config progress
fa95edc260 DataFlash: factor out a Log_Write_IMUDT_instance
06a2e05be5 DataFlash: log cell voltages with correct packet type
79ba2b357f DataFlash: factor out a Log_Write_Current_instance
8d3267a731 DataFlash: factor out a Log_Write_Compass_instance
a7063393b4 DataFlash: factor out a Log_Write_IMU_instance
f5b4d8d99c Plane: added frame type 11 for FlreFlyY6
7e086e8c4d AP_Motors: Fix DDFP so tail motor doesn't start without Channel 8 high
d28182435e AP_Motors: allow for negative thrust expo
5646afac1c AP_Compass: avoid double detection of the AK09916
efdc651d1a AP_NavEKF2: Require reboot after changing ALT_SOURCE parameter
3a78255e54 Frame_Params: added WLToys V383 parameters
e1f8e7bc58 AP_Motors: cope with H vs X frame in HeliQuad
e2f710523e Copter: added inverted flight to switch docs
09c3eeaf0c AP_Motors: improved heli-quad yaw control
a7713da703 AP_Motors: reserve collective range for attitude control
951ed95eb9 Copter: support inverted flight CH7 option
f07aac396c AP_Motors: support inverted flight for helicopters
f2efea4e1d AC_AttitudeControl: added inverted flight support
18f04abfe8 Copter: added HELI_QUAD
55d5fe843e AP_Motors: added Heli_Quad backend
4d5aed1d69 AP_HAL_Linux: UARTDevice: never be the controlling terminal
42add82e1a Tools: Vagrant with suppport for ARM hf
6bd5ac78f5 Tools: LogAnalyzer: fix string-method-on-int bug for unknown modes
c6aaa12e94 Tools: LogAnalyzer: Fix undefined name VehicleType
d7638389ce DataFlash: factor out a Log_Write_Baro_instance
d91a3250a6 Tools: TestParams.py: Fix undefine name VehicleType
5ebc8c2cb3 AP_HAL_Linux: ToneAlarm: ifdef out bogus message
7edde571e1 AP_HAL: RCOutput_Tap: make LEDs blink on non-Aero ESCs
2c3054cbae AP_HAL: RCOutput_Tap: remove feedback from ESCs
d3a1ed9792 AP_HAL: RCOutput_Tap: fix comment with protocol bits
a629bb7f2f Tools: LogAnalyzer: TestGPSGlitch: flake8 compliance
7a077b5fa1 Tools: LogAnalyzer: TestGPSGlitch: tabs to spaces
5729838a85 Tools: UnitTest.py: Change usage of next()
3023fac4d0 AP_GPS: SBF enable comment block logging
4d1e61633b Sub: Check GPS health
516709fc72 Copter: Check GPS health
561acb372e AP_GPS: SBF send port enable string on start
4f83d39b5e Rover: Report GPS health
52fc2c82af Plane: Report GPS health
bfbec02736 AP_GPS: SBF track the GPS error bits
0d522663b2 AP_GPS: SBF: fix the PVTMode to support PPK (and baseline) units
80b71b9ced AP_GPS: SBF: Validate that configuration was accepted
20988b9f05 AP_GPS: SBF respect GPS_AUTO_CONFIG
2fc6e52431 AP_Compass: use IST8310 and HMC5883 as external mags
58ae139b8f AP_HAL: add possible external compasses for aero
6e286a2e66 AP_Compass: re-enable QMC5883 compass driver by default
776355ef2b autotest: fixed heli test
edb5f084bb PX4NuttX: submodule update
08344557d9 AP_HAL: fixed missing LPS25H define
09baac8f25 AP_GPS: Preserve the instance number, otherwise it will get set to zero
8b9fb19061 AP_GPS: Added const just to be explicit (NFC)
175b7c5389 AP_GPS: spellcheck in coment (NFC)
6a82e3aecd AP_HAL_Linux: Add debug message in RCInput_RPI _timer_tick()
ccde7cfdd4 AP_HAL_Linux: Restart RCInput_RPI DMA sampling if it stops
903ef4d065 AP_SmartRTL: update example to new API and fix object copy
a2b67ed615 ArduPlane: use static method to construct AP_Landing
c745908b14 AP_Landing: add static create method
e98ccb9ae6 ArduRover: use static method to construct controllers
e10c60e492 ArduPlane: use static method to construct controllers
67e02e3c55 AP_L1_Control: add static create method
15527d762f APM_Control: add static create method
05c870a4d4 ArduPlane: use static method to construct AP_TECS
61a629d766 AP_TECS: add static create method
bfd13dfe87 global: use static method to construct AP_AHRS_DCM
cd1ff7b86f AP_AHRS: DCM: add static create method
beabae6a98 global: use static method to construct AP_AHRS_NavEKF
e2a9d9c001 AP_AHRS: add static create method
c9fbf7b722 global: use static method to construct AP_NavEKF3
bd6145af6d AP_NavEKF3: add static create method
e2fe36357a global: use static method to construct AP_NavEKF2
3c04f4e4d1 AP_NavEKF2: add static create method
6781a44046 global: use static method to construct AP_Avoidance_*
119e82f32e ArduPlane: add static create method for AP_Avoidance_*
8f304ed809 ArduCopter: add static create method for AP_Avoidance_*
46e8d9b6d1 AP_Avoidance: add static create method for AP_Avoidance_*
6d009cdf6e global: use static method to construct AP_ADSB
cce51ec1c3 AP_ADSB: add static create method
1263e20a0d ArduCopter: use static method to construct AC_InputManager
1baccdaf85 AC_InputManager: add static create method
e21e02cfdb ArduCopter: use static method to construct AC_PrecLand
b29a183a74 AC_PrecLand: add static create method
cf6ea9642e global: use static method to construct AP_Terrain
122f3d110b AP_Terrain: add static create method
70d8a08626 ArduCopter: use static method to construct AP_LandingGear
beabccf9ef AP_LandingGear: add static create method
31db77e47b global: use static method to construct AP_Parachute
88dea049b4 AP_Parachute: add static create method
57bbb2e1d9 ArduCopter: use static method to construct AC_Sprayer
e1733a5a99 AC_Sprayer: add static create method
eadd650d78 global: use static method to construct AP_RSSI
b09e0c3261 AP_RSSI: add static create method
4f42facefc global: use static method to construct AC_Avoid
e68c5a4668 AC_Avoidance: add static create method
b05610870c global: use static method to construct AP_Rally
b4f5256a9e ArduCopter: add static create method to AP_Rally
2f2abc2924 AP_Rally: add static create method
c6eb48009b global: use static method to construct AC_Fence
52686ec838 AC_Fence: add static create method
18aa88b329 global: use static method to construct AP_Mount
563f9bfe89 AP_Mount: add static create method
c3647f0185 global: use static method to construct AP_Camera
ddde53f84c AP_Camera: add static create method
cc53e7bc4b global: use static method to construct AP_ServoRelayEvents
df29015533 AP_ServoRelayEvents: add static create method
13d7f58036 global: use static method to construct AP_Relay
87d2bf22f2 AP_Relay: add static create method
9ce6019138 global: use static method to construct AP_Frsky_Telem
8b5d799885 AP_Frsky_Telem: add static create method
b022c02029 global: use static method to construct AP_BattMonitor
bd8f0a9e93 AP_BattMonitor: add static create method
69b6d95cb2 global: use static method to construct AP_Board_Config{,_CAN}
ef3edc531c AP_BoardConfig: add static create method
a74e700006 global: use static method to construct RCMapper
c10a91964f AP_RCMapper: add static create method
72fd2d6f05 global: use static method to construct AP_SerialManager
04866e9f76 AP_SerialManager: add static create method
fbe0d9761c global: use static method to construct AP_OpticalFlow
04c3dca3ce AP_OpticalFlow: add static create method
eed3c83079 ArduSub: use static method to construct AP_Arming_Sub
2d2876a226 ArduPlane: use static method to construct AP_Arming_Plane
5ec1430726 APMrover2: use static method to construct AP_Arming_Rover
10529feae6 ArduCopter: use static method to construct AP_Arming_Copter
39aee74b29 AP_Arming: make constructor protected
b36a5919f5 global: use static method to construct AP_Mission
ef50783268 AP_Mission: add static create method
de5e044b02 global: use static method to construct AP_RPM
aefae9381e AP_RPM: add static create method
40fd1b346c global: remove rangefinder from AP_AHRS_NavEKF
9027a55696 global: use static method to construct RangeFinder
2e80b2e1d0 AP_RangeFinder: add static create method
f5c2ffffb9 global: remove DataFlash from AP_Mount::init()
b3d8c0fc08 AP_Mount: use DataFlash_Class::instance()
53c82b4aaf global: use static method to construct DataFlash_Class
a25320d522 DataFlash: add static create method
faf2c8fb36 ArduSub: use static method to construct AP_LeakDetector
6aaa00d915 AP_LeakDetector: add static create method
62ac0ab8aa global: use static method to construct AP_Notify
9463dbb408 AP_Notify: add static create method
de680dac5b global: use static method to construct AP_Scheduler
d3e12eb899 AP_Scheduler: add static create method
8094482f21 global: use static method to construct AP_GPS
2cb2727a31 AP_GPS: add static create method
87b30b4552 global: use static method to construct AP_InertialSensor
d566567d87 AP_InertialSensor: add static create method
c1a957fbf3 global: use static method to construct Compass
320260a151 AP_Compass: add static create method
91feec0e14 global: use static method to construct AP_Baro
c5c1d5abfe AP_Baro: add static create method
c34104b369 APM_Control: Simpify yaw controller trig
eb9dd8c5a2 AP_Landing: Fix an error when computing the course offset for deepstall
654bb6ffce Tools: runplanetest.py: Remove redundant parenthesis
5400611f49 ArduSub: protect version.h from inclusion and use ap_version.h
96e7ea4d69 ArduPlane: protect version.h from inclusion and use ap_version.h
d213ccbbfc ArduCopter: protect version.h from inclusion and use ap_version.h
ad05e0a643 APMrover2: protect version.h from inclusion and use ap_version.h
9db5d7991c AntennaTracker: protect version.h from inclusion and use ap_version.h
cd81b27c05 build: protect ap_version.h from inclusion
11e47fb145 ArduSub: do not include version.h/ap_version.h
36c80daa86 ArduPlane: do not include version.h/ap_version.h
4ef5186733 ArduCopter: do not include version.h/ap_version.h
27be369be7 APMrover2: do not include version.h/ap_version.h
efdc7daf96 AntennaTracker: do not include version.h/ap_version.h
54a4a78795 AP_Common: do not include version.h/ap_version.h
7eba6572ea ArduSub: move version to a static member
18ff17e22c ArduPlane: move version to a static member
cd5b018d82 ArduCopter: move version to a static member
0c49b7a973 APMrover2: move version to a static member
ecd204c45c AntennaTracker: move version to a static member
9e7bda83bf DataFlash: add temporary workaround for macro usage
ec935cf0fe GCS_MAVLink: refactor send_banner() to use AP_FWVersion
ed2b8d3476 GCS_MAVLink: refactor send_autopilot_verison() to use AP_FWVersion
370e10281b AP_Common: AP_FWVersion: add pointers to git hash strings
a906d31c23 Tools: runplanetest.py: Resolve undefined name
e5256d0bd5 Tools: TestPitchRollCoupling.py: Change usage of next()
ac3cb355c4 Tools: LogAnalyzer: fix bugs, handle newer log formats
a87814b325 Tools: rename runfliptest.sh to runfliptest.py
d2eec2db29 Tools: runfliptest.sh: Resolve undefined name
d583bb9cbc Tools: update_wiki.py: fix syntax error
f266c82040 Tools: magfit_flashlog.py: fix syntax errors
678bd084b7 AP_Compass: added IST8310 on FMUv3 I2C
cb270a9acf AP_RangeFinder: cleanup variable names in uLanding driver
8284fb1093 AP_RangeFinder: update uLanding driver for new firmware data format
149188de12 AP_HAL: Add size() method to RingBuffer ObjectArray
3ddd9a6bca AP_HAL: RingBuffer: Prefix private members with underscore
2c68b5dac3 AP_Airspeed: fixed airspeed autocal
dedb40ce0b SITL: add parameter to simulate reversed pitot tube order
f32f51f843 AP_Airspeed: eliminate airspeed positive bias
9e406b87da mavlink: submodule update
c6b19131ba ardupilotwaf: AeroFC: Remove unused tools
015242c89b Tools: add params for Aero Compute Board
3847825fba AP_HAL_Linux: make Aero use Tap ESC
68b3e5ccab AP_HAL: aero: define uart RCOutput_Tap
51665a2ea9 AP_HAL: RCOutput_Tap: split baudrate set for Linux and Nuttx
58a76adc13 AP_HAL: RCOutput_Tap: allow different device to be used
f6b1099896 AP_HAL: move in tap esc implementation
a9f257ddc6 Copter: 3.5.3 release notes
22bfec4d2a Copter: fixed motor runup check for heli
8cf8f3a288 Copter: fixed collective input with H_SV_MAN=1 for heli
85ab3edc5f Plane: Smoother transition to QLOITER and QLAND
1a724ded2a Plane: AP_Arming: sanity-check fs timeout parameters
3af5be76aa DataFlash: protect write fd with semaphore
7c6be7c421 Plane: change format of reset alt target message
667cdcdfcf Plane: resolve compiler warning while using send_text
2073d65975 Plane: command-long DO_SET_HOME check first param is zero
640fb91329 Plane: accept DO_SET_HOME within COMMAND_INT
953adc506d GCS_MAVLink: add break in default case
6a1e14fccd Sub: command-long DO_SET_HOME check first param is zero
2dae917c86 Sub: accept DO_SET_HOME within COMMAND_INT
3af5893f9e Rover: command-long DO_SET_HOME check first param is zero
f7cb006d40 Rover: accept DO_SET_HOME within COMMAND_INT
a8a5c1d332 Copter: command-long DO_SET_HOME check first param is zero
d982cfed4a Copter: accept DO_SET_HOME within COMMAND_INT
b1684b5377 Rover: accept more mav-frame types
305659c5c3 Sub: accept more mav-frame types
70cf21a5ba Copter: accept more mav-frame types
45d056fcf0 Copter: ekf position checks are done before we call failsafe_ekf_event
d5caff3f1b Copter: do not enter ekf-failsafe based on position if pos not needed
ff82f23cf6 Copter: factor out a ekf_check_position_problem method
84a873a520 Copter: remove redundant check; we will never failsafe_ekf_event if disarmed
3d16ca7144 Plane: fixed MANUAL_RCMASK
c090818d5e Tracker: move handling of SET_GPS_GLOBAL_ORIGIN up
5b7f396e23 Sub: move handling of SET_GPS_GLOBAL_ORIGIN up
b84e40a804 Rover: move handling of SET_GPS_GLOBAL_ORIGIN up
0afe1e7473 Copter: move handling of SET_GPS_GLOBAL_ORIGIN up
7e631ba16c Plane: move handling of SET_GPS_GLOBAL_ORIGIN up
d0c2898ebc GCS_MAVLink: move handling of SET_GPS_GLOBAL_ORIGIN up
b682f3f6d9 Plane: fix parameter units
3d7b6ddc40 Plane: support SET_GPS_GLOBAL_ORIGIN message
d45eb33980 Tracker: support SET_GPS_GLOBAL_ORIGIN message
4899401679 Rover: minor comment fix
de406da254 Rover: set home using EKF position
894bf2a23f Rover: support SET_GPS_GLOBAL_ORIGIN message
a477ef7cd6 Sub: support SET_GPS_GLOBAL_ORIGIN message
f029303d96 AP_Arming: check ahrs and gps differ by less than 10m
1b3cc9289b Copter: support SET_GPS_GLOBAL_ORIGIN
07c195a865 GCS_MAVLink: add send_ekf_origin
962f237db4 Tracker: remove old DO_SET_MODE support
add5eb6907 Rover: remove old DO_SET_MODE support
1304b86d09 Plane: remove old DO_SET_MODE support
5a19301606 Tools: autotest: add a test for setting of modes using CMD_DO_SET_MODE
6bd7089718 GCS_MAVLink: implement handling of MAV_CMD_DO_SET_MODE
8507763a1c GCS_MAVLink: create _handle_set_mode for common msg and cmd-long code
d1b47e863d DataFlash: resolve race conditions with IMU logging thread
0f54cc9b22 AP_HAL_SITL: implement in_main_thread
b7bfef3cdf AP_HAL_QURT: make in_main_thread const and override
9cb23f6108 AP_HAL_VRBRAIN: make in_main_thread const and override
8d208ea514 AP_HAL_PX4: make in_main_thread const and override
044cac42e8 AP_HAL_Linux: make in_main_thread const and override
68652867e1 AP_HAL: make in_main_thread public, pure and virtual
6bc4ab638a Tools: Add SITL tilthvec frame and default parameters
93b3970141 SITL: Add tilthvec frame
9491f7da55 AP_Compass: Add break to prevent fallthrough of PIXRACER to PIXHAWK_PRO
7ade37bd4e SITL: added SIM_GPS_ALT_OFS
25c7ee4d42 AP_HAL_SITL: added SIM_GPS_ALT_OFS
35c1a732a6 Plane: allow takeoff in guided then fw loiter
6e0ff8b169 AP_Proximity: add support for RP Lidar A2
882c4f4052 AP_SerialMananger: add RP-Lidar A2
27650c08aa Tools: autotest: use -z in place of -v for checking variable settedness
15a7a9e6f8 mavlink: submodule update
f2b7dc74d7 AP_Baro: Adding a new  LPS25H Barometer driver
02cfe9128d AP_GPS: parse RTK status in NMEA GGA message
2f8f2ffd2d AP_GPS: Remove NMEA init blobs for binary drivers
78a0298af0 Tools: autotest.py: look at EKF flags to determine armability
44a436642b Copter: complete rename to SmartRTL
6d15a72f3a AP_SmartRTL: complete rename to SmartRTL
d475b91564 Tools: Replay: pass a lambda function to LR_MsgHandler_PARM to set parameters
d3a18e803e AP_GPS: Fix MAVLink message field SYSTEM_TIME.time_unix_usec when GPS_AUTO_SWITCH = blend
85b7f1bbb4 Plane: guided takeoff success should return true
e03826890a AP_GPS: Fix typo in comment
1c223b520c AP_ADSB - update description of ADSB_RF_SELECT to say Rx-only devices are always in Rx mode
ffc2aeee32 Copter: Support landing flight termination
4fd13d5205 Plane: Support landing terminations on landing backends that support it
0bbbb3d08d AP_AdvancedFailsafe: Allow landing to be a termination action
40f49733ea AP_Landing: Support usage for termination
bde1b6e886 AP_Arming: Collapse GPS checks into the same branch
3ab9b75df0 AP_Arming: Check GPS update rate as part of the GPS checks
cf02204e6c Dataflash: Log GPS delta times
04eb7f411e AP_GPS: Track the delta time between the last GPS positions
ebea292d63 Tools: add frame params for eLAB 470 quad
58dec08b29 GCS_MAVLink: fix non static perf counter
406f4a9ca7 Tools: generate-manifest: print errors to stderr
bba98d6df7 build: remove raspilot from travis
83b9518a49 build: remove raspilot
13f4ba7392 AP_HAL: remove raspilot
15bfa940a7 AP_Notify: remove raspilot
caa4e3ee89 AP_InertialSensor: remove raspilot
b1740e2d9c AP_Compass: remove raspilot
7ba82ff23a AP_HAL_Linux: remove raspilot
0062084c40 Tools: Replay: option to print packet counts out at end
6b5fd5fbdd Copter: move gcs_out_of_time into GCS object
89e3f1dbd8 Sub: move gcs_out_of_time into GCS object
aee939f891 Plane: move gcs_out_of_time into GCS object
25a32c93f2 Rover: move gcs_out_of_time into GCS object
b4e536b424 GCS_MAVLink: move gcs_out_of_time into GCS object
ed5d891730 Sub: update release notes for 3.5.1
b1d1b5122b Copter: 3.5.3-rc1 release notes
c09c56be77 build: remove Linux boards from make
697131e94a AP_Notify: support dual I2c toshiba LEDs
efc42edabe waf: remove URUS
4398be2275 AP_HAL_Linux: remove URUS
51a8aa3d1f AP_HAL: remove URUS
b9877e0d38 GCS_MAVLink: make per channel perf counter non-static
b4f46b14f0 Tools: add Marco's flying field to locations file
f42d3ce406 PX4Firmware: update submodule with fixes to upload script
d5f57fdd93 AP_Compass: AK8963: remove fallback to timer thread
06fe5ce8ba AP_InertialSensor: implement periodic thread for AuxiliaryBus
4263c1a90c DataFlash: file not being initialised means logging is failed
73d6a05241 Plane: support change alt for GUIDED from qgc
20bfb82a7b Tools: autotest.py: add --no-clean and --no-configure options
e505635ddd Tools: sim_vehicle: make gdb-stopped work again
7f2882f54b Tools: LogAnalyzer: cope with renamed GPS fields
2c0e2aab15 Tools: LogAnalyzer: derive motor count from frame type MSG
1c75cd7039 Plane: update release notes for 3.8.2
11b9805dce Plane: added MANUAL_CONTROL support
37220e1568 Plane: removed unused prototypes
750212eb8f Plane: Remove deprecated control surface mixing functions
4b57a4a231 Copter: rename SafeRTL to SmartRTL
7abb5b10fc Copter: build scripts changed from SafeRTL to SmartRTL
cb0f50a1c8 AP_SmartRTL: renamed from SafeRTL
4415a6b052 AP_SafeRTL: update example sketch
939ca36c33 AP_SafeRTL: simplify and prune regularly
5d977cf799 AP_SafeRTL: check semaphore allocation
811e115a21 AP_SafeRTL: move simplify and prune state into structures
e0da7ed09c AP_SafeRTL: fixes from peer review
ed0203e53c Copter: smooth safertl return journey using fast waypoints
6684e3de56 Copter: minor comment change for SafeRTL
8df042f00c Copter: complete addition of SafeRTL flight mode
218983d594 Copter: safe-rtl changes after peer review
ba0e08552f Copter: add SafeRTL flight mode
ec8c4b1744 Copter: add AP_SafeRTL to build
f094cb57f7 AP_SafeRTL: library to return to home along safe path
2aa1f3f100 AP_Math: replace divide with multiply in distance_to_segment
e892bbbac0 AP_Math: add Vector3f::distance_to_segment
1a9bccaaa7 AP_Common: fix Bitmask out-of-range values
963c9c93fe AP_Common: constify bitmask
e6328c350d AP_Math: add Vector3f::distance_squared
f187df225a AP_Common: add setall, count and size methods to Bitmask
da7aa36f2d AC_WPNav: add set_wp_destination_NED to accept target in meters NED
f37d742160 DataFlash: support SafeRTL log messages
d61705ee51 Plane: added release notes for plane 3.8.2beta1
600a5c44d2 Plane: allow changing of target altitude in GUIDED
bc17c26dbf Plane: limit pitch in transition to QLOITER and QLAND
b6809655d4 Plane: smooth the transition to LAND_FINAL in quadplanes
8411ac5c57 Plane: fixed a problem with descent rate in landings for quadplanes
99aad41955 AC_AttitudeControl: added a update_vel_controller_xy() API
baee71a5b4 Plane: added GUIDED takeoff for quadplanes
a5f8782f91 mk: remove old unused tools
b8d3d180d1 AP_BoardConfig: clarify board type 2 also to be used on the Cube autopilot
fbae9b41cf travis: remove px4-v1 and px4-v4pro that are moved to Semaphore
c95d8ae258 travis: merge some jobs
84efe7e6f5 Tools: ci: reduce ccache sizes
be88b5a6e8 Tools: ci: get ccache statistics for SITL test
129fde128a Tools: ci: let waf decide number of jobs for building SITL test
aa6b997a0b Tools: ci: use number of CPUs to choose number of jobs on Make builds
c073263c8d Tools: ci: disable ccache for Make builds
80e784c93d Tools: ci: only do Make builds in some special cases
ad18e99bef AP_Compass: add support for Aerotenna OcPoC-Zynq hardware
7d2e44862f AP_HAL_Linux: add support for Aerotenna OcPoC-Zynq hardware
8862e76284 AP_HAL: add support for Aerotenna OcPoC-Zynq hardware
bde8252359 waf: add support for Aerotenna OcPoC-Zynq hardware
e79fc893fa AP_HAL_Linux: HAL_Linux_Class: delay SPIUARTDriver static initialization
226eeeb738 AP_HAL_Linux: RCOutput_Sysfs: fix deleting _pwm_channels array
f6858821a6 AP_HAL_Linux: PWM_Sysfs: remove unneeded free() in ~PWM_Sysfs_Base
2738fc34f0 Tools: autotest.py: exit if step not matched
9f0e8a64d5 Update HAL_PX4_Class.cpp
1f5743e900 Plane: Report the primary magnetometer health rather then the first
fb77d0739e AP_Compass: Remove unused time calls, stash the time in the read loop
a88e663191 Plane: adjust target altitude slowly in QRTL mode
85ebe923b6 SITL: avoid FPE when running fly.ArduPlane
b5e206f72f Replay: print some statistics on exit
97b6ca218b AP_AHRS: send ekf status reports even when EKF inactive
be371e09f9 AP_GPS: SBF: Reject short packets early, allow 256 byte long messages to be decoded
048dfee68a AP_GPS: make SBF driver more robust
87e52a9f0f Plane: prepare for 3.8.1 release
b62e8909c4 AP_GPS: add missing fallthrough
cb9c626577 AP_ADSB: fix getting a copy rather than a reference
9d64811428 PX4Firmware: update with new aerofc baud
2c72fc94ba AP_HAL: change aerofc baud to 921600
6928618de8 Tools: autotest.py: allow specification of a buildlogs directory
681a5b5c2c Tools: initvagrant: allow autotest to run
698f18566b AP_Terrain: cast to int32_t to avoid warning about signedness
6ad3541a24 DataFlash: clean up public interface
c046824ce7 Added our testing location
19086e34f0 Frame_params: update BlueROV2 defaults for 3.5.1
f0096d3c7a Tools: apmrover2.py: add a test for MAV_CMD_REQUEST_AUTOPILOT_CAPABILITIES
324d9f3c7d Tools: apmrover2.py: add a test for MAV_CMD_DO_GET_BANNER
1928dcb784 Sub: move handling of do_send_banner up
3f67dfe4fe Copter: move handling of do_send_banner up
ac806b650f GCS_MAVLink: move handling of do_send_banner up
3da70f19c1 Copter: handle param_request_list in GCS_MAVLINK base class
1544a92f8b GCS_MAVLink: factor out a send_banner
b5d234aa64 Rover: handle param_request_list in GCS_MAVLINK base class
3df3b25c1f Sub: handle param_request_list in GCS_MAVLINK base class
0c7c2a41c4 Plane: handle param_request_list in GCS_MAVLINK base class
2e078f7c5e GCS_MAVLink: send fw_string, px4 git hash and nuttx hash on param request
a2132f7b72 Tracker: handle param_request_list in GCS_MAVLINK base class
8a7a1b77dd GCS_MAVLink: handle param_request_list in GCS_MAVLINK base class
640b2b7a13 Rover: handle param_set in GCS_MAVLINK base class
f60e4bcea2 Tracker: handle param_set in GCS_MAVLINK base class
8216a0375d Sub: handle param_set in GCS_MAVLINK base class
dd4bffb4a2 Plane: handle param_set in GCS_MAVLINK base class
e6ac68fd2a Copter: handle param_set in GCS_MAVLINK base class
50242178b3 GCS_MAVLink: handle param_set in GCS_MAVLINK base class
95ff94bfad GCS_MAVLink: factor out a handle_common_param_message
85ac69f701 Rover: move send_autopilot_request calls up to GCS base class
98f9e744b0 Tracker: move send_autopilot_request calls up to GCS base class
52463a5ed6 Sub: move send_autopilot_request calls up to GCS base class
0db1711b1f Plane: move send_autopilot_request calls up to GCS base class
bb06db6389 Copter: move send_autopilot_request calls up to GCS base class
add1743c12 GCS_MAVLink: move send_autopilot_request calls up to GCS base class
d98c427514 Rover: add constant structure holding firmware version
0177e959c9 Tracker: add constant structure holding firmware version
ae9891d291 Sub: add constant structure holding firmware version
c15c1b84a4 Plane: add constant structure holding firmware version
470e790117 Copter: add constant structure holding firmware version
e9204a66ee GCS_MAVLink: include version for AP_FWVersion
f32651a38c DataFlash: include version for AP_FWVersion
445777429b AP_FWVersion: add structure to hold firmware version
0708130b5e Plane: correct bad case  fallthrough
00ace08b54 Copter: minor formatting fixes
aaac6b3692 AP_Common: Bitmask formatting fix
6bfed07eae Plane: updated USE_REV_THRUST docs
1b7122d733 Tools: add a --speedup parameter to autotest to control speed of all sims
30fac9160e Copter: mavlink PERF messages also spit out average and standard deviation
46c982d64f AP_Mission: add OPTIONS parameter
a895d69b42 GCS_MAVLink: Correct a bug in the FOR_EACH_ACTIVE_CHANNEL macro
8630037fd7 Plane: Parameterize the home altitude reset conditions
e492c733d8 AP_Baro: fixup Keller LD comments
b1b471f2bd Sub: Update release notes for Sub-3.5.1beta1
db6d8c9c43 AP_Mission: Use a static assert to check content size
a2002180ee Sub: Set default external baro bus correctly for Pixhawk 2
a93ecb8b5a Sub: Fix Notify led to reflect when leak failsafe has been resolved.
a8aa005e18 Sub: Bugfix forward channel not neutralized appropriately
4ee6d8e980 Sub: Remove pressure constraint on preflight baro calibration
7137d13817 Sub: Remove unnecessary checks from default pre-arm checks
9733350f5d Sub: Remove enumerations from SYSID_MYGCS parameter
19a5b38ff5 Sub: Default FS_PILOT_TIMEOUT to 3 seconds
3f51dd387c Sub: Add @Units metadata to SURFACE_DEPTH parameter
d1ad33ca54 Sub: Default INS_GYR_CAL to Never (0)
81065c567a Sub: Default WP_YAW_BEHAVIOR to WP_YAW_BEHAVIOR_CORRECT_XTRACK
1bea1d042b Sub: Add missing WP_YAW_BEHAVIOR option to metadata
4449a46f5b Sub: input_hold_toggle -> input_hold_set
f4dfbb9dad AP_JSButton: input_hold_toggle -> input_hold_set
d25be07c8b Sub: Default COMPASS_OFS_MAX from 600 to 1000
07e00de549 AP_Baro: Tweak Keller LD driver for better performance after initial tests
2a71afd3ba AP_Baro: Remove superfluous casts
a08da4ecc4 AP_Baro: New AP_Baro_Keller device driver
2645760d19 Tools: sim_vehicle.py: fix small bug introduced in e298e87
7e1368f7a5 AP_InertialSensor: implement notch filter on gyro
50dcca39bd Filter: added a notch filter
0f22f923e1 AC_InputManager: remove MAIN_LOOP_RATE in favour of parameter value
89e6e70235 Copter: remove MAIN_LOOP_RATE in favour of parameter value
d541ac509f Plane: removed TRIM_RC_AT_START parameter
1a207c919b Plane: fixed bug in TRIM_AUTO
4124d371c9 Plane: fixed minacc and delay for launch
4aa068d63d SITL: added simple launch sim for plane
9783c0c3ba DataFlash: log dataflash-file statistics periodically
776d88bb6b DataFlash: remove duplicate variables
e298e87791 sim_vehicle: add --callgrind option
f13b0d883e PX4NuttX: submodule update
29fe432dd7 AP_SerialManager: enable debug console use for other protocols
d09b549144 HAL_PX4: allow uart5 to be used for non-nsh on FMUv2/FMUv3
0f08207bdb Tools: define reduce() for Python 3
24e616af7d Tools: autotest.py: factor write_fullresults
b288ef27a3 Tools: move Vagrant to zesty32
0155434057 RC_Channel: fixed bug in manual with TRIM == MIN
2be28ddb1e Rover: fixup cpu failsafe
b1516cc6e8 Sub: base loop time remaining on variable loop rate
02a590024d Copter: base loop time remaining on variable loop rate
8d0d4fe40a Tools: added script to decode Saleae CSV capture file
0334cc1c88 Tools: correct copter's fly_throttle_failsafe failure case
13894506f4 from math import sqrt
b26b6f07bd from math import sqrt
d525c0bffb Rover: 3.2.0-rc1 release notes
78a5e4500f Rover: send GCS warning when cruise learning fails to start
1600823b12 Rover: aux switch to learn cruise throttle and speed
14c74a5967 Rover: remove learning mode
524fe4cd82 Rover: aux switch saves waypoint in manual or steering modes
3adfb0e77d Rover: replace int with uint8_t
82e61d7198 Rover: remove unused throttle_failsafe_active method
415cb41c7f Tools: add gdbserver option to Rover autotest
4ab11027a7 Rover: remove unused mavlink_delay(uint32_t ms)
4c977f16ce Rover: reduce ADC warm up time
a7b919f025 Tools: do not attach gdb to gdbserver unless --gdb is given
38297c4d19 Tools: Adds GDBServer with screen option for debugging
db3c387916 Tools: update relay pins for brushed motors in SITL
2f1cc5ddfc Rover: support brushed motor on normal rover
25b1307400 Rover: solve servo reverse in brushed configuration
0b6de644fb Copter: add ArduSub to list of SYSID_SW_TYPE
2861c1d06a Plane: add ArduSub to list of SYSID_SW_TYPE
6f11c80f56 Tracker: add ArduSub to list of SYSID_SW_TYPE
4fc31cf80d Rover: add ArduSub to list of SYSID_SW_TYPE
212174bc0e Plane: remove unused defines
5103739ea3 Copter: remove unused CH6 defines
2f9fb581fe DataFlash: remove bad FALLTHROUGH causing compilation failure
921985fe27 GCS_MAVLink: allow statustext logging from any source system
0bd5d6ca18 Sub: send useful information to GCS
e8f5967682 GCS_MAVLink: Add MSG_NAMED_FLOAT ap_message id
3414883f05 AP_GPS: remove tabs and fix coding style
44ffb67837 ArduPlane: use FALLTHROUGH define
be402374ea ArduCopter: use FALLTHROUGH define
927289aa64 DataFlash: use FALLTHROUGH define
7b0d6166e1 AP_RangeFinder: use FALLTHROUGH define
b37ca322f1 AP_Landing: use FALLTHROUGH define
0e502d89a3 AP_HAL: use FALLTHROUGH define
8389158d76 AP_GPS: use FALLTHROUGH define
7c6f9a004e AP_Baro: use FALLTHROUGH define
e2e836f676 AP_Airspeed: use FALLTHROUGH define
3102247a85 AP_Common: add FALLTHROUGH define
bfe2acac33 build: add -Wno-attributes for PX4
cd8661c665 Replay: integrate simpler Log_Write_EKF
813a8c8f99 Tracker: integrate simpler Log_Write_EKF
c80a83322a Plane: integrate simpler Log_Write_EKF
7a37a7f921 Rover: integrate simpler Log_Write_EKF
3281f348b1 Sub: remove enabled check from optflow init
0a060a0e08 Sub: integrate simpler Log_Write_EKF
34560fb1fb Copter: remove enabled check from optflow init
def17582c6 Copter: integrate simpler Log_Write_EKF
e13f4d0d56 DataFlash: removed unused optFlowEnabled from Log_Write_EKF
59ffc3cd65 AP_OpticalFlow: minor order declaration change
cf24eef359 AP_OpticalFlow: init checks if enabled
bc38affcb1 AP_OpticalFlow: px4flow retries init 10 times at startup
fdb4c7b5ee AP_OpticalFlow: failure to init leaves enabled unchanged
a7afffe14a AP_OpticalFlow: rename BUS_ID parameter to ADDR
8272fb8fa2 Plane: remove unused repeating events defines
3f1271214e Rover: rename MotorsUGV pwm type to brush-with-relay
46e6057493 Rover: solve servo reverse in brushed configuration
b0c7766197 Copter: continuously reevaluate rc calibration checks
f5d91f63d2 autotest: fixed firefly parameters
d6845a911a AP_AHRS: fix get_relative_position_NE_home calcalation
1875f0218f github: Add Sub vehicle to issues template
66a1e420cb AP_HAL_Linux: RCInput_SoloLink: better name to first field
373d41fd6e AP_HAL_Linux: switch aero to RCInput_SoloLink
79b004cf6a AP_HAL_Linux: add prototype for handling SoloLink
8c8fe4b1bb Sub: move serial_control case to base class
9732b19f04 Plane: move serial_control case to base class
19e409f7f4 Copter: move serial_control case to base class
cdb6c083a3 Tracker: move serial_control case to base class
ee39ec3751 Rover: move serial_control case to base class
154b212545 GCS_MAVLink: move serial_control case to base class
c7c9cb9b0f Sub: move play_tune and led_control handling to base class
4321abd477 Plane: move play_tune and led_control handling to base class
6db348bab3 Copter: move play_tune and led_control handling to base class
92becb2875 Rover: move play_tune and led_control handling to base class
b17c0482fb GCS_MAVLink: move play_tune and led_control handling to base class
23d91c93c8 AP_HAL_Linux: correct compilation warning
222dd0c9be AC_WPNav: correct comments
bbb1329116 Rover: remove unused definitions
e116ec4eb0 Rover: update SITL parameters
2ceb29e9da Rover: use abs for int within calc_speed_nudge
ed19db7188 Rover: set_mode arg name to match implementation
a035950a22 Rover: minor format fix
58b643c458 Rover: replace divide with multiply in calc_throttle
6eceaef484 Rover: remove redundant SYS_NUM_RESETS
e2d4182c75 Rover: fix parameter conversion
c9927e6af6 Rover: bug fix to steering mode top speed
7df73c50e8 SITL: remove unnecessary THR_MAX parameter default
167a856cdb Rover: remove THR_MIN, THR_MAX parameters from vehicle
c0fe1b7ec8 AP_MotorsUGV: minor comment fix
c8eceeabb6 AP_MotorsUGV: add THR_MIN, THR_MAX parameters
c61f965828 AP_MotorsUGV: re-order implementation to match declaration
47968cda09 scripts: don't set PKG_CONFIG_PATH globally
8a9a08ed9b build: generalize link fix
a2f327678b waf: Fix for lttng linking
8121091fb6 Sub: Don't configure RC params in SITL
589416451f Sub: Don't check min/max configured for RC prearm check
b8e7d23cc4 AP_Arming: Add bool check_min_max parameter for Copter/Sub RC checks
5a9af5bc28 Sub: use GCS_MAVLINK subclasses to handle set_mode
947bae2f86 Tracker: use GCS_MAVLINK subclasses to handle set_mode
8eeae45300 Plane: use GCS_MAVLINK subclasses to handle set_mode
aa06fc499c Copter: use GCS_MAVLINK subclasses to handle set_mode
f3a0d2b02b Rover: use GCS_MAVLINK subclasses to handle set_mode
2a07a077d9 GCS_MAVLink: use GCS_MAVLINK subclasses to handle set_mode
48c4e48225 AP_HAL_PX4: send statustext for RC input decoding type
2463bfd2ec Rover: fix SITL Make build on Windows
d41dd7e7e7 waf: add workaround for PE linker not removing unused methods
eb56a010b3 AP_RangeFinder: TeraRangerI2C: use address from parameter instead of hardcoded
0993300506 AP_Rangefinder: rename trone to TeraRangerI2C
b6076bcb77 GCS_MAVLink: adapt to new rangefinder method name
30c4ea8123 AP_RangeFinder: stop storing sensor type as a variable
c79cbd71af GCS_MAVLink: use rangefinder backend accessors
f1d350bbb1 DataFlash: use rangefinder backend accessors
63440800fc AP_NavEKF3: use rangefinder backend accessors
1e83ef3c44 AP_NavEKF2: use rangefinder backend accessors
4c2747bfe8 Rover: use rangefinder backend accessors
e0bea597c0 AP_Proximity: use rangefinder backend accessors
c0aa10d84b AP_RangeFinder: move rangefinder backend data accessors to backend
1b6c3aeea1 Replay: Avoid linking AFS
6e55c9554a Sub: Support common version of MAV_CMD_DO_FLIGHT_TERMINATION
105ebd6fb0 AntennaTracker: Reject MAV_CMD_DO_FLIGHTTERMINATION
067335f68d GCS_MAVLink: Handle termination requests from the GCS
a98c8427dd Rover: Expose the AFS instance to MAVLink
5cfe4d5a8c Copter: Expose the AFS instance to MAVLink
833ec1336e Plane: Expose the AFS instance to MAVLink
97c1785bef AP_AdvancedFailsafe: Allow the GCS to request terminations
fc155eac7e AP_HAL_PX4: Adds UARTF as commandline option
eebef857f1 AP_TECS: gain scaler K_STE2Thr multiplies by (THRmax - THRmin)
348dbdaf22 Rover: fix do-nav-wp comment
57b2b02509 Rover: remove out-of-date comment
492fe40f93 Rover: re-organise private member declarations
6c7db05207 Rover: re-organise includes
9b63c8751f SITL: rover default params in alphabetical order
1582bd85af SITL: update rover default parameters
06a7e46447 Rover: remove PID from build
95c5ada3e9 Rover: modes use stop_vehicle to stop gently
0b917cfd36 Rover: mode auto guided and rtl slow before destination
d99108f3bc Rover: use AR_AttitudeControl for throttle control
61d1ced7aa Rover: add turn radius param for steering mode
9097269d6d Rover: use AR_AttitudeControl for steering control
c56d8cb6b1 Rover: add AC_PID and AR_AttitudeControl to build
9f876dc7a0 AR_AttitudeControl: throttle and steering control library
a5783939ef AP_MotorsUGV: add limit flags
d8e260874d Tools: copyit must always be given fourth, src, parameter
953eefa024 Tools: include Sub in the list of known vehicles for PrintVersion
7173025b43 AP_Arming: warn about uncalibrated throttle but do not fail check
a2af13c17e Tools: calibrate SITL sub RC in autotest's sub parameters
a87328816a Sub: use common RC checking code from AP_Arming
0a2177de58 Copter: move Copter RC checking code into library
b2459c67d5 AP_Arming: move Copter RC checking code into library
14f6d3e03e Copter: 3.5.2 release notes
3c66663880 Tools: autotest.py: Squashed the code for default.* steps in run_step().
91e25bb937 Tools: autotest.py: Made use of shutil.copy2() where appropiate.
befd8b028b Tools: autotest.py: Moved all imports to top of file.
e951df7d50 Tools: autotest.py: Simplified binary_path through lookup table
29ab76e714 Tools: autotest.py: Slightly cleaned up run_tests.
04791139c0 Tools: autotest.py: Separated function definitions and script code.
e3599ab4f9 AP_Param: remove CLI
90948bef05 Tracker: remove CLI
233d49797e Sub: remove CLI
1a665280e9 Plane: remove CLI
c6b9c84d1f Copter: remove CLI
fa2b500e93 Rover: remove CLI
bff31e8b42 GCS_MAVLink: remove CLI
1a25087dd5 AC_AttitudeControl: fixed PIRO_COMP index
59a1f260d1 Rover: remove unused compat.h
b895da64e1 Rover: minor comment fix to parameters list
e79e92a789 Rover: remove unused SPEED_TURN_DIST parameter
28d74722bd AP_MotorsUGV: minor formatting fix
bff74115bc Rover: remove unused distance_past_wp
a00c7e0acb Rover: mode calc_reduced_speed_for_turn gets some const for local variables
66bb3e8ee0 Rover: minor formatting fix to parameters.cpp
eae76c69ce Docs: Update coverty scan link
58e784024f AP_HAL_SITL: Add support for blocked pitot tube simulations
4dbe282121 SITL: Add airspeed failure parameters
2310cb6d19 AP_NavEKF3: Enable external control over use of GPS vertical velocity
f2f3067326 AP_NavEKF2: Add interface to control GPS vertical velocity use
3642ecd9ef AP_COMPASS: fix errors in addition of alternate LIS3MDL I2C address
a6e9baa8f6 AP_Compass: probe for LIS3MDL in mRo Neo-M8N GPS module
4c6922e413 Tools: fixed ardusub build
1c2e1eeaf8 Tools: provide dummy function to avoid linking the AP_Camera
f78d50215c Tracker: add new dummy function to avoid linking the AP_Camera
1fc82442a0 GCS_MAVLink: remove dummy functions; examples are linked with all libs
b15d72ddce Sub: send gps messages as separate queued messages
d33cd801a1 Plane: send gps messages as separate queued messages
55af774e98 Copter: send gps messages as separate queued messages
f27eeeff56 Tracker: send gps messages as separate queued messages
edab526b01 Rover: send gps messages as separate queued messages
7aaabea4ea GCS_MAVLink: send gps messages as separate queued messages
b14d99dc2c Sub: move sending of gps_raw up
c3e86840b2 Plane: move sending of gps_raw up
56160a8bbd Copter: move sending of gps_raw up
7e5d90f446 Tracker: move sending of gps_raw up
f7fd663f45 Rover: move sending of gps_raw up
ee5874ab32 GCS_MAVLink: move sending of gps_raw up
14bfccace4 Sub: move sending of system_time up
933cd7a44c Plane: move sending of system_time up
ff81186951 Copter: move sending of system_time up
89a5272ab5 Rover: move sending of system_time up
4e3cc6fd27 GCS_MAVLink: move sending of system_time up
e94ae13cfd Sub: move sending of camera_feedback up
4aee416c1d Plane: move sending of camera_feedback up
7ca146878d Copter: move sending of camera_feedback up
341a9ae032 Rover: move sending of camera_feedback up
d1a9128118 GCS_MAVLink: move sending of camera_feedback up
8692bb4619 Sub: move sending of meminfo up
9eb96886e5 Plane: move sending of meminfo up
da889bdff5 Copter: move sending of meminfo up
ece800ba90 Rover: move sending of meminfo up
d03c7389f7 GCS_MAVLink: move sending of meminfo up
5fca7d02b3 AdvancedFailsafe: Rework status texts to be more uniform
127edce39e AP_RangeFinder: move prearm checks into backend
0b1c67d170 AP_RangeFinder: remove unused parameters from detect and constructors
08cd3f4a77 AP_RangeFinder: move instance parameters into instance state
bdbe26eb28 Copter: minor comment fix
f995106c1e AC_PID: minor formatting change
1901cb6c7f waf: added --disable-header-checks
42b181b652 Tools: updates to build_binaries.sh (use waf)
7839132b1d Sub: use new retry_deferred method
a9c866f574 Plane: use new retry_deferred method
c36a20ab54 Copter: use new retry_deferred method
1532e30a5b Tracker: use new retry_deferred method
c642dc616a Rover: use new retry_deferred method
a841fddb3e GCS_MAVLink: rename MSG_RETRY_DEFERRED to MSG_LAST and clarify comments
0c5f66dc59 GCS_MAVLink: refactor code into new retry_deferred method
fdac13d3d3 GCS_MAVLink: tidy send_message function
6b429bd372 Rover: remove redundant GPS check before camera update
7c3374668e Rover: formatting fixes and const local variables
848df551ac Rover: formatting and comment fixes to mode class
4368df7f11 Copter: 3.5.2-rc2 release notes
3802e7bc3b Plane: mark version as 3.8.1-dev
6e84210d1b Plane: prepare for plane 3.8.0 release
efc790a84a Rover: add comment to mode
164096225b AP_SteerController: fix get_steering_out_rate bug when reversing
30852d4713 Rover: auto-reversed moved to mode
4f5e82f406 Rover: mode fixes for reversing
66f1437e4f Rover: remove unused throttle variable
1e8e3609c6 Rover: remove duplicate setting of ground_speed
e88b1572b6 Rover: remove navigate
fe6465b748 Rover: remove next_WP, wp_distance, navigate
b4af441eb9 Rover: remove unused update_navigation
2640ec9ed9 Rover: rename update_commands to update_mission
56b0621994 Rover: verify_RTL calls rtl mode
1b19ee865d Rover: remove active-loiter and set-auto-wp
974453607e Rover: replace do-yaw with nav-set-yaw-speed
27e833ebd1 Rover: verify_within_distance gets distance directly from auto mode
3863542194 Rover: adjust set-position-target-local-ned handling
46faece76b Rover: set-attitude-target accepts quaternions for target heading
d56d222971 Rover: set-attitude-target consumes thrust in -1 to +1 range
b9db9229d9 Rover: replace vehicle code guided methods with calls to guided mode class
783f8243df Rover: use mode class's get_distance_to_destination and speed_error
f71db5ae05 Rover: rtl mode refactoring
946a0a8e54 Rover: guided mode refactoring
279491ed20 Rover: auto mode refactoring
2accb5831d Rover: mode refactoring
638ba02d5f AP_Mission: add support for Set-Yaw-Speed command
8dadbaa850 Copter: landing gear init on startup
42cab6b533 AP_LandingGear: add startup position selection parameter
c3fd354452 Copter: enable landing gear based on RC output
5b8e7cfdf9 Copter: landinggear_update formatting change
e0f4d3dbe5 AP_HAL: remove unused HAL_AIRSPEED_MS4515DO_I2C_BUS macro
d3ed4420e6 AP_Airspeed: remove unused MS4525D0_I2C_BUS macro
78deddabda AP_Airspeed: MS4525: Add support to I2C Bus 2
5bbde92254 modules: PX4Firmware: Update PX4Firmware with AeroFC changes
9ee007f924 AP_HAL_PX4: Map PX4_I2C_BUS_EXPANSION1
e674d6ee20 AP_HAL_PX4: aeorfc: Move GPS to UART7
6cf8791eb5 AP_Compass: correct comment in LIS3MDL driver
2437260f8a Tools: copter horizontal fence test waits for disarm then rearms
dd09bb338e Tools: wait for vehicle to disarm after handling throttle failsafe
5ea1784838 global: remove AP_HAL::in_timerprocess()
08637f1dcc AP_HAL_VRBRAIN: Scheduler: replace use of in_timerprocess()
1aaba01622 AP_HAL_QURT: Scheduler: replace use of in_timerprocess()
9e66938f68 AP_HAL_PX4: Scheduler: replace use of in_timerprocess()
93a558ce5c AP_HAL_Linux: do not call delay callbacks on other threads
e0879c6fce Sub: stop sending MSG_SERVO_OUT messages
db080ed60e Copter: stop sending MSG_SERVO_OUT messages
137d513fdc Rover: move try_send_message queued_param_send up
33858187ef Tracker: move try_send_message queued_param_send up
1fcab08bd0 Sub: move try_send_message queued_param_send up
4cb94b80ee Plane: move try_send_message queued_param_send up
7c37bb324b Copter: move try_send_message queued_param_send up
ad2c3d27ec GCS_MAVLink: move try_send_message queued_param_send up
dbac7447d6 Rover: move try_send_message send_hwstatus up
e08b87763e Tracker: move try_send_message send_hwstatus up
7c5ed54ffc Sub: move try_send_message send_hwstatus up
089f6f4650 Plane: move try_send_message send_hwstatus up
431e3443bd Copter: move try_send_message send_hwstatus up
679bb7f7a5 GCS_MAVLink: move try_send_message send_hwstatus up
4da89a948a Rover: move try_send_message mission handling up
de0c6d7ca5 Tracker: move try_send_message mission handling up
7a72c3b1fb Sub: move try_send_message mission handling up
fee9e83881 Plane: move try_send_message mission handling up
3e5665735f Copter: move try_send_message mission handling up
3b472ccc17 GCS_MAVLink: move try_send_message mission handling up
dbdfce570a Rover: move try_send_message compass message handling up
5b4d968887 Tracker: move try_send_message compass message handling up
dce947b54f Sub: move try_send_message compass message handling up
a740c10dfe Plane: move try_send_message compass message handling up
2a62b57e11 Copter: move try_send_message compass message handling up
b8cb758fac GCS_MAVLink: move try_send_message compass message handling up
4b63443633 Copter: correct misleading comment
e98fe2d7d5 AP_HAL: RingBuffer: add missing include
61aed0f0d7 RingBuffer: example: integrate with build system
641671a366 AP_HAL: Add simple stress test for RingBuffer class
dbd074b250 AP_HAL: remove register_timer_process with extra arg
c170c2a847 AP_HAL_Linux: remove register_timer_process with extra arg
6bab28397a AP_Compass: remove user of timesliced logic
0a158f6d3f AP_HAL_Linux: remove support for timesliced timer
13dbc306e1 PX4Firmware: update submodule
5a7ec7d429 Delete write registers at start,using another way to repair
648871a388 Fixed the QMC5883 identification,add check ID
4865aef9e4 Sub: base SYS_STATUS load average on variable loop rate
50cbbc324b Plane: base SYS_STATUS load average on variable loop rate
31b33b2232 Copter: base SYS_STATUS load average on variable loop rate
d44c7f0886 Rover: base SYS_STATUS load average on variable loop rate
b445313bf1 AP_Scheduler: remove loop-period argument from load_average
efe70c8d3a AP_NavEKF3: Fix possible compass nullptr dereference
dffa3d3b40 AP_NavEKF2: Fix possible compass nullptr dereference
78f6a5a177 Tools: improve devid decode
9b16836da5 Plane: cope better with more RC trim/min/max values
99df31f6ec Plane: fixes from review
ea1a4bc176 Plane: improve px4_mixer handling of servo trim/min/max
cff692ca48 Plane: implement MANUAL_RCMASK
99f5229a34 SRV_Channel: added copy_radio_in_out_mask()
fedd2c558c Plane: added AETR log message
224dc439ab Tools: updated parameters to remove ELEVON and VTAIL settings
2fb94597ba autotest: adjust default params for new mixing
5d91e29cea Plane: fixed px4_mixer for new function based mixing
0266168e69 Plane: removed old elevon and vtail mixers
1f1b4241c3 SRV_Channel: added get/set for reversed and function
75999dbb39 SRV_Channel: prevent negative slew rate
178e7eca54 Plane: always setup target airspeed
ee6969939b Sub: fix underflow in scheduler
23532bf45c Rover: add reason to set_mode
15398f8b0e AP_Math: correct variable init and remove define in polygon
f7a00b911e Copter: minor format fix for motors.cpp
f5f6ec5238 AP_Arming: rename _MIN_VOLT to _VOLT_MIN
2f3a57e0aa AP_Arming: minor variable type change
330a6065ca AP_Arming: Copter gets MIN_VOLT parameters
167ced1279 Copter: battery arming checks call parent AP_Arming
9cbab6ed4b Copter 3.5.1 release notes
2894b7cbea L1_Control: Ensure that LIM_BANK passes a sea level sanity check
909f109b3f Plane: don't start a transition while disarmed
975d2fd0d1 DataFlash: add debug for io thread failure
4c11f07a02 Tracker: move common mavlink camera handling up
2014eb0def Rover: move common mavlink camera handling up
f56c9bd96d Copter: move common mavlink camera handling up
1cb6962f84 Plane: move common mavlink camera handling up
077f577e5c Sub: move common mavlink camera handling up
b4688bd3d4 GCS_MAVLink: move common mavlink camera handling up
bb06b02df6 AP_Camera: add const to some parameters
a94bf851eb AP_Camera: use multiplication in place of division
9390539231 AP_Camera: tidy up usage of trigger_pic
b299772a75 Sub: camera is responsible for taking distance-based-images and logging
2fb46a67dd Plane: camera is responsible for taking distance-based-images and logging
cdf9ebcb39 Copter: camera is responsible for taking distance-based-images and logging
81d52c282c Rover: camera is responsible for taking distance-based-images and logging
84ef63edc7 AP_Camera: camera is responsible for taking distance-based-images and logging
7f59279670 AP_GPS: make time_epoch_usec const
db7c8439c6 AP_NavEKF3: Fix bug in wheel odometry timestamp correction
d6d12a8cb1 Sub: handle GPS_INPUT in base GCS_MAVLINK class
96d55e0dbe Rover: fix wheel encoder parameter names
5b605d6e1c AP_Notify: Fix for Oreo LED gyro init inidication
f583121433 AC_Fence: reset fences breach on disable
e7ff5107fb AP_GPS: tidy mavlink message handling using switch statement
f272c7b6bf Sub: move gps inject handling up to GCS_MAVLINK
fbcd072d98 Plane: move gps inject handling up to GCS_MAVLINK
4ed7f6a769 Tracker: move gps inject handling up to GCS_MAVLINK
160831d4ca Rover: move gps inject handling up to GCS_MAVLINK
192310a68e Copter: move gps inject handling up to GCS_MAVLINK
2ad453fc89 AP_GPS: handle inject packets as part of handle_msg
60ffe00164 GCS_MAVLink: move gps inject handling up
c25bd13b78 README: Add information for EKF3 maintainer
ddc70058d5 Rover: reporting wheel encoder rpm
ae487aa99b Rover: update wheel encoder at 20hz
72d35593d8 Rover: send wheel encoder data to EKF
c7f6d52065 AP_NavEKF3: Add wheel encoder odometry
cbe8f97489 AP_NavEKF3: rename struct used for velocity odometry observations
08a3f55c90 AP_NavEKF3: Fix error in scaling of observation error
593437ca95 AP_NavEKF3: Add tuning of visual odometry observation error
eaf8aad5ad AP_WheelEncoder: last_reading is last update time instead of system time
2c7b9d9cf7 AP_WheelEncoder: add get_delta_angle
a53e254bd0 AP_WheelEncoder: replace scaling with CPR and radius
cd71984705 AP_WheelEncoder: 3d position offset
f97e43919b Copter: add gps glitch notification and pre-arm check
1ddf38869a AP_AHRS: set AP_Notify gps_glitching flag
0d5c98ad45 AP_Notify: add gps glitch notification
52bf93dd80 Copter: 3.5.1-rc1 release notes
9123b6034e SRV_Channel: update_aux_servo_function first checks function is valid
60834e9af0 Plane: Allow a second activation of parachute
1eeea82e31 AP_Parachute: Add function to return _release_in_progress status
572df8b859 SRV_Channel: minor formatting fixes
298eaaeb3e SRV_Channels: rename SERVO_DEF_RATE to SERVO_RATE
687ec98e5d AP_HAL_PX4: set default servo update rate only when changed
3d13d98410 Rover: steering mode direction fix when reversing
f9186de0ca Rover: steering mode formatting change
7c2c780333 build: clarify --upload once again for Linux boards
2aaaba8397 Sub: handle common GPS messages in base GCS_MAVLINK class
87af817893 Plane: handle common GPS messages in base GCS_MAVLINK class
d3c5369352 Tracker: handle common GPS messages in base GCS_MAVLINK class
fec152385c Rover: handle common GPS messages in base GCS_MAVLINK class
f1ab50d4ea Copter: handle common GPS messages in base GCS_MAVLINK class
85a0da6178 GCS_MAVLink: handle common GPS messages in base GCS_MAVLINK class
b0a25989b9 build: fix typos and add example for --upload
a657daf635 Compass: disable QMC5883 compass driver by default
2d0bce18a8 AP_Baro: rename all local variable with prefix
35ac86ff8d AP_Baro: fix some style and const correctness
0e895f5c74 AP_Baro: fix instance shadowing
42516f7079 DataFlash: simplify Log_Write_Proximity
88aa1e447a Copter: adapt to new send_proximity API
8abcb7a0e3 GCS_MAVLink: simplify send_proximity
603621f2c4 DataFlash: move proximity log from Copter (NFC)
0710018a42 Copter: move proximity log to DataFlash (NFC)
ec2ea1c903 GCS_MAVLink: move send_proximity to GCS common code (NFC)
49755063ab Copter: move send_proximity to GCS common code (NFC)
1c31211874 PX4Firmware: fix DSM receive on pixracer
4ca3546551 SRV_Channel: added SERVO_DEF_RATE parameter
5b43698e25 HAL_PX4: added rcout set_detault_rate()
0188d6463d AP_HAL: added rcout set_detault_rate()
836d3eba53 PX4NuttX: added support for STM32F469
9eb08d2126 PX4Firmare: submodule update
df406c4389 AP_Compass : increase max possible offset
17f2393c1b AP_Compass: Decrease LIS3MDL ODR and timer
16a96b0643 HAL_PX4: Adjust SPI params for ppro
08b531e6a8 AP_Compass: LIS3MDL correct orientation
ccdb6bfe37 travis: Add ppro target
cf8c1c2665 AP_Compass: Remove comments and use correct board number
a5a5bd3a95 AP_BoardConfig: Remove comments and use correct board number
5b7113a7d0 mk: Add bootloader for FMUv4pro
ca3627c140 AP_InertialSensor: add ppro support
88958b2dbf HAL_PX4: add ppro support
1467daee2a AP_Compass: add ppro support
34c977f046 waf: Initial waf support for ppro
33f6b30ef4 Tools: initial FMUv4pro support
40f8500122 mk: initial FMUv4pro support
d6d1a3e08c AP_HAL_PX4: initial FMUv4pro support
fb6f368575 AP_HAL: initial FMUv4pro support
a51bf8c918 AP_BoardConfig: initial FMUv4pro support
d0ec5a6111 AP_BattMonitor: initial FMUv4pro support
18dab4829a AP_Baro: initial FMUv4pro support
32a492f4b8 PX4Firmware: ppro support
ca7fe71cab PX4NuttX: ppro support
401a6f5373 AP_BoardConfig: fixed FMUv1 IO update
199485beae Sub: Acknowledge reboot before rebooting
ebc8dc4afc Tools: LogAnalyzer: fix whitespace
a6fd812051 Tools: LogAnalyzer: use repr in place of deprecated backticks
cb56cf38d0 Tools: LogAnalyzer: remove vehicle-type-is-first-MSG-assumption
44d1c77b0c Tools: LogAnalyzer: use print_function
22578bd7f0 Sub: fix absolute pressure sensor present flag
126296b61d AP_Arming: Compass calibration running is a pre arm failure, rather then an arming failure
ded1bad6c3 Rover: remove duplicate calls from update_navigation()
ca3bc05c28 Rover: Don't check if in AUTO on commands callback
88b2f62e2f Rover: mode rtl loses duplicate calls to calc_lateral_acceleration
4fe937b985 Rover: do_RTL calls set_mode(RTL)
e7424a456f Rover: update advanced failsafe
707b006f76 Rover: minor style correction on log
2321cefdc2 Rover: move manual mode failsafe handling to mode class
6626c2e12e Rover: only mode manual directly copies rc input to motors
f17f56dea4 Rover: move throttle nudge to Mode class
b9644c4ec7 Rover: disable slew limit by default on mode
809a9e5894 Rover: auto mode fails to enter if no mission
07f4603533 Rover: integrate mode class
2a9b1017b6 Rover: add control modes class
743d9ec65f Copter: report polygon fence breach
1fd4eb4bfb DataFlash: do not send in-progress messages back to streaming GCSs
90c2db119e DataFlash: send log data on requesting channel only
c383d64954 Tools: ardusub.py: increase timeout to allow Valgrind to pass
89478d5a28 Copter: ensure logging is working as part of arming checks
954eda990a AP_Arming: prepare log for arming and check it is ready
0769432e63 DataFlash: move log-write-started logic to be backend-specific
1f0a14ab33 DataFlash: add PrepForArming method
31083653b2 DataFlash: examples: move starting of new logs into DataFlash
dff026e30c Tools: Replay: move starting of new logs into DataFlash
fa39f315c6 Plane: move starting of new logs into DataFlash
9173c7caaf Rover: move starting of new logs into DataFlash
c9c1f3ea29 Tracker: move starting of new logs into DataFlash
342d95ad2f Sub: move starting of new logs into DataFlash
e45efeb829 Copter: move starting of new logs into DataFlash
a1115ba5d0 DataFlash: move some code from WritesOK into a new ShouldLog method
b572c13ca9 DataFlash: move starting of new logs into DataFlash
4234f4ef7a DataFlash: move _initialised into DataFlash_Backend
999a5e6cda AP_Arming: correct bit used to indicate blended-gps-checking
cbde87b390 Copter: remove pointless pre_arm_gps_checks function
baaad8df94 Copter: use common board_voltage_checks code
b8ddf8a289 AP_Arming: use HAL_HAVE_BOARD_VOLTAGE rather than magic-0
a7bc111485 Copter: use common baro arming check function
b791fef7cb AP_GPS: Publish the number of satellites in the RTK correction messages, and the age of the RTK correction messages
ae47ac5a09 AP_GPS: implement missing "RTK number of satellites" and "RTK correction age" information in the GPS2_RAW MAVLink message
059c213d19 AP_GPS: Improve comments and documentation (NFC)
efa59d47f2 Rover: fix FS_THR_VALUE min range
916a2e8fca Rover: Failsafe parameters default values macros are not used, so delete them
285653da30 Rover: fix init order to clear compile warning
cf47a0d563 AP_AdvancedFailsafe: minor formatting fix
55a1c9afdf Rover: add advanced failsafe to make build
732dc5984a AP_Compass: added COMPASS_TYPEMASK parameter
918992eb10 Rover: remove unimplemented functions
5684a5dd36 AP_GPS: Only setup state's instance field during init
52ddaa3e72 DataFlash: POS.RelOriginAlt should be NaN if unknown
aee82db204 Sub: add to the main makefile
82e7e44cc3 AP_GPS: fixed UAVCAN as 2nd GPS
d2c57860fd Sub: remove MSG_STATUSTEXT entirely
ea892d278f Plane: remove MSG_STATUSTEXT entirely
eb0edc9b5b Copter: remove MSG_STATUSTEXT entirely
d9c4e1ad8e Tracker: remove MSG_STATUSTEXT entirely
f1c3e16354 Rover: remove MSG_STATUSTEXT entirely
eb1cf0e73a GCS_MAVLink: remove MSG_STATUSTEXT entirely
81aa41ab51 travis: split param check for each vehicle
eda5d9265f Tools: add new no-emit option to param_parse.py so that only validation is done
83359e898a Tools: update CI ccache version to 3.3.4
540548f0aa Tools: CI: only set shell to verbose after including profile
2e451eb2bc Rover: fix motor test for pilot passthrough of steering
b6033df457 Rover: intergrate motor test motor seq enum change
e5b746c7dd AP_MotorsUGV: fix motor test sequence
8a86b64776 Rover: motor test accepts negative percentages
ebeb0923cb Rover: motor test gets improved failure explanations
5208466629 Rover: add motor test
7bfb79a4b7 AP_MotorsUGV: add motor_output_test_pwm
2cd3dd5cba AP_MotorsUGV: add motor output test
8421575f05 AP_MotorsUGV: add output_throttle to handle scaling and relay
8223743df8 Rover: add pre_arm_rc_checks
f87a69dcf2 Plane: Throttle based landing aborts should ask the landing library
e092a83ca2 AP_Landing: Deepstall: Allow requiring a minimum altitude to abort a landing
202b40562f Landing: Fix bad deepstall parameter group
8de96ee4a1 AP_Param: Check for duplicate group id's before handling groups
979f6a1980 Sub: move handling of PREFLIGHT_SET_SENSOR_OFFSETS up
7f0cb82797 Plane: move handling of PREFLIGHT_SET_SENSOR_OFFSETS up
ad1c379445 Copter: move handling of PREFLIGHT_SET_SENSOR_OFFSETS up
cee7ce0571 Rover: move handling of PREFLIGHT_SET_SENSOR_OFFSETS up
06647cde2c GCS_MAVLink: move handling of PREFLIGHT_SET_SENSOR_OFFSETS up
c430b3affe Sub: move handling of MAG_CAL command longs up
6047026b11 Plane: move handling of MAG_CAL command longs up
fe16691c6e Copter: move handling of MAG_CAL command longs up
663d454119 Tracker: move handling of MAG_CAL command longs up
3586f0e8fb Rover: move handling of MAG_CAL command longs up
bd28bdd907 GCS_MAVLink: move handling of MAG_CAL command longs up
6b53b5b5f3 AP_Compass: make handle_mag_cal_command return type stricter
2b6752e0b4 Plane: move MAV_CMD_START_RX_PAIR handling to base class
ecda9116ba Copter: move MAV_CMD_START_RX_PAIR handling to base class
a963a80b91 Rover: move MAV_CMD_START_RX_PAIR handling to base class
a7e57aa3fc GCS_MAVLink: move MAV_CMD_START_RX_PAIR handling to base class
73d994a834 Copter: update 3.5.0 release notes
58d58b4eac AP_NavEKF3: Initialise EKF origin height to field elevation
ac568bae53 AP_NavEKF2: Initialise EKF origin height to field elevation
0827b13feb AP_NavEKF3: Fix default behaviour for height origin corrections
027552ef44 AP_NavEKF2: Fix default behaviour for height origin corrections
3fd393bc21 FRAME_PARAMS: Solo final parameters for AC 3.5.0+
7042d3e9c9 Global: all vehicles get AP_Relay and AP_ServoRelayEvent libraries
8e289f1a47 Tracker: compilation fixes for ServoRelayEvents in superclass
4723194a01 Sub: move mavlink support for servo/relay up
bcf7c6e6b6 Rover: move mavlink support for servo/relay up
36eab56178 Plane: move mavlink support for servo/relay up
b14964eb1e Copter: move mavlink support for servo/relay up
318861e824 GCS_MAVLink: move mavlink support for servo/relay up
f2d75cbbe9 Sub: add common handling of mavlink command messages
3af52d9db3 Plane: add common handling of mavlink command messages
2136797770 Tracker: add common handling of mavlink command messages
40eb07f472 Rover: add common handling of mavlink command messages
3e3a8717c5 Copter: add common handling of mavlink command messages
cfc8d7feba GCS_MAVLink: add common handling of mavlink command messages
6b60c110a5 AP_Baro: Improve GND_TEMP parameter docs
993df82cfa APMRover: Fix bad parameter generation for AP_MotorUGV
31924e46d3 Tools: Parameters: Permit kHz as a unit
c4c68266d5 README: Add SMBus battery maintainership
3dd47bff8b AP_BattMonitor: Allow generic SMBus batteries to not have cell voltages
a077eac6a9 Rover: Document max loop time as being in microseconds
f8f97b61ea Sub: Document min/max loop times as being in microseconds
a81bfe644a Copter: Document max loop time as being in microseconds
b8e6ad7476 Plane: Document loop max time as being in microseconds
69eb9cbdd2 GCS_MAVLINK: add missing mavlink mission msgid to case
f14667225d AP_Baro: Avoid a FPE when ground pressure is negative
f60e7df309 AP_Proximity: correct missing use of PROXIMITY_MAX_DIRECTION
40b860e240 Rover: rename sonar to rangefinder
42181ee7c8 HAL_SITL: use SIM_GPS_LOCKTIME
a7967e00e4 SITL: added SIM_GPS_LOCKTIME parameter
807ba9d520 HAL: use correct datatype for time conversion
caf8dce75c HAL_VRBRAIN: use correct datatype for time conversion
d1e0f9733e HAL_Linux: use correct datatype for time conversion
66a94f7a10 HAL_PX4: use correct datatype for time conversion
aa6b339252 GCS_MAVLink: improve rally debug strings
20937e755e Sub: move rally-point handling up
983686745e Plane: move rally-point handling up
cf50c43f75 Tracker: move rally-point handling up
2717244dd8 Rover: move rally-point handling up
99cc684d0a GCS_MAVLink: GCS_Rally: increase severity of mavlink statustexts
480a83fdef Copter: move rally-point handling up
ebe3dcef6f GCS_MAVLink: move rally-point handling up
1748e7cb0c AP_Baro: make backends responsible for setting their health
d61731cdd6 AP_WheelEncoder: minor formatting fix
5fc30c763e Rover: move Log_GuidedTarget declaration
ebbbe0584a Rover: integrate wheel encoder
f6a1c53ff6 Rover: add AP_WheelEncoder to build
d356e60269 AP_WheelEncoder: library to read from wheel encoders
3338de827e GCS_MAVLink: remove unneeded telemetry_delayed parameter
187b4ef349 Sub: remove unneeded telemetry_delayed parameter
a250f47f13 Plane: remove unneeded telemetry_delayed parameter
7bb28175d7 Copter: remove unneeded telemetry_delayed parameter
adb89c5ca6 Rover: remove unneeded telemetry_delayed parameter
68bcf4632c Sub: move handling of incoming statutext messages up
abce338076 Tracker: move handling of incoming statutext messages up
7aff4c6ab9 Rover: move handling of incoming statutext messages up
c9c4b31e99 Plane: move handling of incoming statutext messages up
016eeaa258 Copter: move handling of incoming statutext messages up
129d7220e6 GCS_MAVLink: move handling of incoming statutext messages up
208607d668 Rover: remove output_trim_all during initialisation
260412bf0f Copter: 3.5.0-rc11 release notes
c1433e0220 Copter: minor comment and formatting fixes
ed65d55f5e Copter: guided stops rotating if no updates received for 3 seconds
2b98fd765d Copter: guided_set_destination accepts relative yaw
4c9e118ceb Copter: set_auto_yaw_look_at_heading takes bool for relative angle arg
9b05f1d9c7 Copter: add auto-yaw-rate and replace guided_angle_state.use_yaw_rate
4dd7d9eaff Copter: guided mode supports heading and yaw-rate target
603e903ccd AP_Compass: QMC5883 Add internal i2c bus and fix rotation error
ae6df4fc04 AC_Fence: remove global static send_statustext_chan
2fde428890 Sub: remove global static send_statustext_chan
8a1fc6a406 Copter: remove global static send_statustext_chan
5c0aa27b2f GCS_MAVLink: remove global static send_statustext_chan
a599bc9031 GCS_MAVLink: eliminate GCS_MAVLINK::send_statustext_all
f6a09d0657 DataFlash: eliminate GCS_MAVLINK::send_statustext_all
33a974d7f5 AP_Tuning: eliminate GCS_MAVLINK::send_statustext_all
85756b7226 AP_Terrain: eliminate GCS_MAVLINK::send_statustext_all
196f94aaae AP_Soaring: eliminate GCS_MAVLINK::send_statustext_all
93e09c51d3 AP_NavEKF3: eliminate GCS_MAVLINK::send_statustext_all
5da3759ff4 AP_NavEKF2: eliminate GCS_MAVLINK::send_statustext_all
35d8f11e46 AP_Motors: eliminate GCS_MAVLINK::send_statustext_all
eab60e6163 AP_Mission: eliminate GCS_MAVLINK::send_statustext_all
cc150f75c7 AP_Landing: eliminate GCS_MAVLINK::send_statustext_all
1beb1550ae AP_IceEngine: eliminate GCS_MAVLINK::send_statustext_all
76847a2487 AP_GPS: eliminate GCS_MAVLINK::send_statustext_all
31ffc83f64 AP_Camera: eliminate GCS_MAVLINK::send_statustext_all
4312d1a500 AP_BoardConfig: eliminate GCS_MAVLINK::send_statustext_all
9e76223c34 AP_Arming: eliminate GCS_MAVLINK::send_statustext_all
3214b48f8c AP_AirSpeed: eliminate GCS_MAVLINK::send_statustext_all
ad7cb6ef32 AP_AdvancedFailsafe: eliminate GCS_MAVLINK::send_statustext_all
e69bc5f46b AP_ADSB: eliminate GCS_MAVLINK::send_statustext_all
819054418b Sub: eliminate GCS_MAVLINK::send_statustext_all
c058fba5ac Plane: eliminate GCS_MAVLINK::send_statustext_all
592729733e Copter: eliminate GCS_MAVLINK::send_statustext_all
69c7402c9c GCS_MAVLink: add const chan method to GCS_Dummy
e9845fd593 Sub: eliminate global static GCS_MAVLINK::send_home_all
1be52495f1 Plane: eliminate global static GCS_MAVLINK::send_home_all
a4d167affe Copter: eliminate global static GCS_MAVLINK::send_home_all
579a1da2c5 Tracker: eliminate global static GCS_MAVLINK::send_home_all
aeed1f0ff4 Rover: eliminate global static GCS_MAVLINK::send_home_all
731aaed8af GCS_MAVLink: eliminate global static GCS_MAVLINK::send_home_all
6cc19fee35 GCS_MAVLink: GCS_Dummy and GCS_routing get get_mission
4ec309222d Tracker: move common mission handling up to GCS_MAVLINK
48f2fcfebc Sub: move common mission handling up to GCS_MAVLINK
901045b029 Rover: move common mission handling up to GCS_MAVLINK
d850feb75f Plane: move common mission handling up to GCS_MAVLINK
726007efde GCS_MAVLink: move common mission handling up to GCS_MAVLINK
3660236a0d Copter: move common mission handling up to GCS_MAVLINK
9f73d2f9d8 Sub: eliminate gcs_send_mission_item_reached wrapper
250f315678 Plane: eliminate gcs_send_mission_item_reached wrapper
358555446b Copter: eliminate gcs_send_mission_item_reached wrapper
2692ee22d3 Rover: eliminate gcs_send_mission_item_reached wrapper
f82fa22833 Sub: eliminate gcs_end_message wrapper
7865d467d3 Tracker: eliminate gcs_send_message wraper
3b0a7703c4 Plane: eliminate gcs_send_message wrapper
0ac045febe Copter: eliminate gcs_send_message wrapper
130ad52a22 Rover: eliminate gcs_send_message wrapper
cb1b9b6674 AP_GPS: Fix SBF race condition on start
20889ff8a9 APMotors6DOF: Add motor reverse parameters for motors 9-12
f423e66d0c uavcan: submodule update
b28656eb11 Rover: reoder rc and servo init
7473471f38 Copter: reverse IDs in g2 for TCAL and tx_type
dd7c96a6cc AP_Radio: reseve an ID for AP_Radio
bd2ba1565c AC_WPNav: minor format fix
774e484869 Rover: remove servo channel failsafe from vehicle code
6464bfb601 MotorsUGV: set failsafe output
25b014524a Copter:  use send_text method on the GCS singleton
279072cf25 Sub:  use send_text method on the GCS singleton
9509f7f1bf Rover:  use send_text method on the GCS singleton
5a8f01c19c Plane:  use send_text method on the GCS singleton
f60389d4aa Copter:  use send_text method on the GCS singleton
2039222c7e Tracker:  use send_text method on the GCS singleton
02532af64b GCS_MAVLink:  a send_text method on the GCS singleton
f9eeaacd6c Tracker: use Notify singleton for sending statustext
7ad003a211 APMrover2: use Notify singleton for sending statustext
685706952c ArduPlane: use Notify singleton for sending statustext
037cd2e9c6 ArduCopter: use Notify singleton for sending statustext
ca6e34dfbd GCS_MAVLink: use Notify singleton for sending statustext
eb1f22fc67 AP_Notify: add singleton
03d04c934e Rover: improve skid-steer input processing
f8a564f283 Rover: rename BRUSHEDPLUS to BRUSHEDBIPOLAR
5c8b8cc9a1 Tools: update rover skid param
8ab3e83a3c Rover: use float qualifier and functions
1f0c985dec Rover: add setup_servo_output to allow ouput reconfiguration
38dcc2eb12 Rover: minor formatting fix
ba8664193a Rover: fix failsafe throttle
9b97ad0fc0 Rover: solve skid steer in value
f70a2b36ea Rover: integrate brushless motor support
267a1532b9 Rover: integrate motors library
29c59644b7 AP_MotorsUGV: add BrushedPlus motor type
76c9d3982a AP_MotorsUGV: motors lib for Rover
d636e85eac AP_Proximity: SF40c driver treats zero distances as invalid
1fb6d45d5f Rover: version to 3.2.0-dev
a6fbae16bf Copter: 3.5.0-rc10 release notes
6982e58cf2 Baro: health check that values are changing
2e56e10d9c Copter: ekf check adds position variance check
d64b2fcbf0 AP_NavEKF3: final mag reset at 2.5m
7e7f78d4b5 AP_NavEKF2: final mag reset at 2.5m
c1264cf60a DataFlash: Use GCS_Dummy GCS singleton
6a7ed2646c Tools: Replay: Use GCS_Dummy GCS singleton
3e0ed6deae AP_AHRS: Use GCS_Dummy GCS singleton
3f43789742 GCS_MAVLINK: provide a GCS singleton for examples and tools to use
fadff24674 Sub: create GCS subclass, use inheritted methods
d9b45cc202 Copter: create GCS subclass, use inheritted methods
b81e5a8562 Tracker: create GCS subclass, use inheritted methods
cfeb449979 Rover: create GCS subclass, use inheritted methods
5b3b61a2e4 Plane:  move GCS functions up to superclass GCS
db27346fd7 GCS_MAVLink:  move GCS functions up from GCS_Plane
86d8252166 Tools: correct sim_vehicle's --tracker option
c163915f6e AP_HAL: correct storage example
51fa8fb0bd AP_InertialSensor: resolve member init order compiler warning
2d11544ea8 Copter: remove redundant arming check defines
84e4e282f0 Tools: autotest: use copter-single for most of copter-coax parameters
a6de3b6865 Tools: use heli params for most of heli-dual params
791b1f43e9 Tools: allow heli autotest to use different frame
9948bed2a2 Tools: use rover params for most of rover-skid params
cb81f9c8b3 Tools: allow Rover to use inheritted config files
59647b3434 Tools: autotest: correct Copter params file handling
6615aee0b1 Sub: fix wrong GCS_MAVLink fallthrough
2cfffc05a5 mavlink: submodule update
9994e9b773 Copter: improve stream descriptions (NFC)
1d626db3b1 Plane: use scaled outputs for AFS failsafe
923b201025 Plane: send servos outputs after flaperon update
38921c4f1a Plane: correct AFS terminate for rcin/servos split
43e9c8370f AP_BoardConfig: increase start delay to 5 seconds
c6df13c795 AP_UAVCAN: changes to servo bitmasks to support multiple instances, baro, compass, gps changes for several CAN interfaces
a7921a273b AP_BoardConfig: move of CAN parameters into separate group and support of several interfaces
36655310b3 AP_HAL_PX4: support for several CAN interfaces and drivers, filtering support
ec8aa2e23f SRV_Channel: move of CAN bitmasks into AP_UAVCAN
5341e51f45 AP_GPS: support for multiple instances on different interfaces
aa1f6a7587 AP_Compass: united enumeration on startup, multiple CAN drivers, correct dev_id based on network and node ID
6e6efa7e1b AP_Baro: enumeration and multiple interfaces support
8f2306fd19 AP_HAL: support of several CAN managers (virtual drivers)
7314b515c0 ArduSub: move of CAN parameters into separate group
b95ebadf8b ArduPlane: move of CAN parameters into separate group
24c390ade0 ArduCopter: move of CAN parameters into separate group
b6c397c85a APMrover2: move of CAN parameters into separate group
b365a4ddf5 AntennaTracker: move of CAN parameters into separate group
c75f30eb9b Copter: 3.5.0-rc9 release notes
33aec6e8c5 README: added link to new discussion forum
b2cd5f5c06 Plane: release 3.8.0beta5
dab29fd946 PX4Firmware: submodule update
ca8a2a1f34 AP_RSSI: support receiver based RSSI protocols
a88693c487 HAL_PX4: support RSSI from receiver protocols
9868ffe13b HAL_Linux: support receiver based RSSI
94b5a9c6f0 AP_HAL: added RSSI interface for RCInput
64f722876f RC_Channel: use set_and_save_ifchanged
d3f9afd4e7 Plane: fixed auto-adjustment of flaperon trim
2cb511c049 Plane: deprecate old aileron_with_input and elevator_with_input
1d41dc034d SRV_Channel: deprecate aileron_with_input and elevator_with_input
51b39ea3a1 Plane: removed ancient "mix_mode" type elevon mixing
725244ff8a Plane: implement new TRIM_AUTO functionality
b50ab75f4c RC_Channel: added set_and_save_trim()
cde4afd28e SRV_Channel: added set_trim_to_servo_out_for()
9cb672e85e SRV_Channel: added doc values for dspoilers
392d990950 autotest: added dspoiler parameters for plane
984e887d1d Plane: changed differential spoilers to scaled outputs
7627246ff8 SRV_Channels: added 4 channel dspoiler support
907534d55f SITL: added dspoiler support
c9e4423997 Plane: re-implement flaperons
6b3bb29398 SRV_Channel: rename flaperon1 and flaperon2 to flaperon_left and flaperon_right
edc9d4db5b AP_InertialSensor: increase accel filter to 20hz
41752eef8b Copter:default RC_FEEL to 50
c03aae947e build: add instructions on how to upload to Linux boards
e68a3e2687 build: rename linstall to localinstall
930f3b4aca build: boards: enable --upload option for linux boards
374556df22 build: add rsync command
923e62cb74 build: add linstall command
1fc85e9a8c Rover: adjust skid steer motor mixing, fix rotation direction in reverse
f036b1f92c Rover: pivot steering stays active until within 10deg of target heading
b62a1394dd Tracker: indicate to gps library which bit indicates log-gps
7b3db490be DataFlash: correct examples
9c2a2a3d94 AP_Module: correct example
cbe9627bf5 AP_GPS: correct example
12b4f2c4b6 AP_AHRS: correct example
29de7b1a17 Replay: provide a log bitmask to Dataflash constructor
f8d1ac47c7 Sub: check dataflash to see if we should log backend gps messages
1ca5f243a5 Plane: check dataflash to see if we should log backend gps messages
37abc1b02f Copter: check dataflash to see if we should log backend gps messages
ef72381708 Tracker: check dataflash to see if we should log backend gps messages
4646eb3b95 Rover: check dataflash to see if we should log backend gps messages
7258cfd20b AP_GPS: check dataflash to see if we should log backend gps messages
7cd794201e Sub: use DataFlash should_log to determine raw IMU logging
dcad79bdef Rover: use DataFlash should_log to determine raw IMU logging
949e07c7e3 Plane: use DataFlash should_log to determine raw IMU logging
776d691c79 Copter: use DataFlash should_log to determine raw logging
6ae86a0b8c AP_InertialSensor: use DataFlash should_log to determine raw logging
075c40bd60 Tracker: move should_log check of log bitmask into DataFlash
4913fc2f2a Sub: move should_log check of log bitmask into DataFlash
8697faa44f Rover: move should_log check of log bitmask into DataFlash
88a7167cb9 Plane: move should_log check of log bitmask into DataFlash
cfbde937c6 Copter: move should_log check of log bitmask into DataFlash
4dfdffde43 DataFlash: move should_log check of log bitmask into DataFlash
f35f0d59dd AP_GPS: fix SBP2 driver build warnings by using memcpy
005dbf41a7 AP_GPS: Add SBP EXT_EVENT Message to dataflash log
526d5a4c44 DataFlash: Add SBP EXT_EVENT Message
4779a8f1f1 AP_GPS: Rename SBR1/SBR2 to SBRH/SBRM and change format
0b5dad33f2 DataFlash: Rename SBR1/SBR2 to SBRH/SBRM and change format
59503f15cb Tools: update eLAB VEK AI parameters
7cea21afa2 AP_Math: Moves rand_vec3f from SITL_State.
86b9942d51 AP_HAL_SITL: move SITL Compass to standard sensor backend model
ee328c9683 AP_Compass: move SITL Compass to standard sensor backend model
71bb0b24ed Autotest: remove SKID_STEER_OUT from default param
bee666cd7a Tools: update eLAB VEK rover param file
351b37fc31 Rover: only report system status after init has completed
0a57177cee Tools: eLab LAB445 parameter file
0203b4c1b1 AP_Notify: RCOutputRGBLed: remove cork()
eed08fb8cd Rover: cork and push servo outputs
34e611be59 Tools: autotest: wait for plane to disarm before downloading logs
05ea121d0c Tools: autotest: disarm rover before downloading logs
5b70b688cb Plane: handle knowledge of in_log_download in DataFlash
8b57405143 Copter: handle knowledge of in_log_download in DataFlash
c5df219a02 Tracker: handle knowledge of in_log_download in DataFlash
3a85d8ed39 Rover: handle knowledge of in_log_download in DataFlash
f3a717f3c0 Sub: handle knowledge of in_log_download in DataFlash
ad17709390 DataFlash: handle knowledge of in_log_download in DataFlash
60ebd099bd Plane: move send-logs-via-mavlink code into DataFlash
45a55bfa5f Copter: move send-logs-via-mavlink code into DataFlash
6c2bfe08cd Tracker: move send-logs-via-mavlink code into DataFlash
689a5cb238 Rover: move send-logs-via-mavlink code into DataFlash
e1335a6029 Sub: move send-logs-via-mavlink code into DataFlash
4c1aff03a3 GCS_MAVLink: move send-logs-via-mavlink code into DataFlash
305531952f DataFlash: move send-logs-via-mavlink code into DataFlash
cbbee995b6 GCS_MAVLink: move GCS_Logs into DataFlash directory
60c6f8ad60 AP_GPS: fix bug when injecting messages bigger than 255 bytes
683592ecdc UAVCAN: update submodule to latest upstream tree
9d0fa09d39 AP_NavEKF3: Fix calculation of predicted LOS rate in terrain estimator
c69c5440a0 AP_NavEKF2: Fix calculation of predicted LOS rate in terrain estimator
a83457ab07 AP_BattMonitor: complement commit d3314d7684d908fd30e40e001340b1a89df89ce8 by adding to second battery monitor too
4394c5145b AP_HAL_SITL: Fixes bug with uartF.
d934088660 Tools: update realflight simulator params
62903b7639 Tools: add realflight standard params
e6f1e14b61 Tools: fix eLab VEK parameter file
c865972e9c Rover: remove skid_steer_out parameter
0017485ee7 Rover: move failsafe_trigger from system to failsafe
4270bac49e Rover: update default param file for new skid steering
9abb1f634f Rover: add comments to Steering
031ed4bbb0 Rover: Remove old skid steering
41e18f089e Rover: remove g.skid_steer_out in favor of have_skid_steering()
1dcf90c161 Rover: use scaled input in Manual modes
ee28e49790 Rover: steering mark floats as float and fix parenthesis
97595f98ac Rover: add comments to scheduler
ef2c2e4afc Rover: add some comments in radio
feb8c30af4 Rover: move rssi.init and set_control_channels
7595ffb8ba Rover: set correct safety limit
32dc59baec Rover: fix throttle slew limit for skid steer out
d3314d7684 AP_BattMonitor: param desc explicitly list Pixhawk 2 PM1 pins
a4d18696a7 AP_NavEKF3: Improve variable names and documentation
368983ed5a AP_NavEKF3: Clean up aiding mode logic using switch statements
2a9eceaf10 AP_NavEKF3: Fix bugs causing height drift when using range beacons
6cf9b870b5 AP_Baro: AP_Baro_SITL more accurately simulates real sensor backend.
ccbf281137 AP_RangeFinder: allow to set rangefinder type for mavlink
ed0063d10d AC_AttControl: save accel max using shorter set_and_save
f29951c2bf Copter: fix autotune accel max not being used until reboot
356a405e2d Copter: autotune minor format fix
2888096a42 Copter: autotune keeps constant attitude while holding position
0544cf1d82 AC_AttControl: add step input for autotune
51c20637e5 Copter: fix compile error when logging disabled
7eab1239c7 Copter: attitude logging at 400hz
249849dfa4 AP_GPS: Add an enum for _auto_config
5f8633e322 AP_GPS: Allow backends to report their lag confidences
7659e9c31f AP_NavEKF3: Improve checking of time delay validity when setting buffers
7d63286088 AP_NavEKF3: update to match AP_GPS interface change
fa5534502a AP_AHRS: Update to match AP_GPS interface change
5dcfc94371 AP_GPS: Add validity boolean to GPS lag reporting
bd0229b7bc AP_GPS: Fix bug in calculation of blended GPS delay
58dd0592ad Tools: eLAB VEK default param update
da5060964b AP_Math: uniformize template type parameter keyword
1ffe12008c AP_Math: adapt test for new norm method API
7b98f41947 AP_Math: correct norm to need two arguments
f3d995a716 AP_Compass: improved robustness of BMM150 detection code
68460144df AP_Compass: added retries on init in BMM150
9b093c4a33 AP_Compass: fixed a numerical issue in BMM150 driver
0623db98d6 AP_Compass: cope with bus errors in BMM150
fa3d40af8a AP_Compass: fixed shift typo
f8ee82e708 Tools: remove old 3DR standard param files
0037ec086a Tools: rename param files for eLAB
3159361970 Tools: add param file for eLAB VEK AI rover
b8f628da83 HAL_PX4: fixed bug in last_sent
2e24c35906 Rover: setup default esc scaling
d060fd2826 Rover: replace get_output_norm*100 for throttle with get_output_scaled
79f7cc5779 Rover: implement new style skid steering
17893958bf HAL_PX4: cope with brushed motors in read_last_sent()
a42c09d27a Tracker: Handle NAV_CONTROLLER_OUTPUT.wp_dist overflowing
57c9afb77e Rover: Handle NAV_CONTROLLER_OUTPUT.wp_dist overflowing
f0cb234228 Copter: Handle NAV_CONTROLLER_OUTPUT.wp_dist overflowing
df15a82f88 Sub: Handle NAV_CONTROLLER_OUTPUT.wp_dist overflowing
8691eae679 Plane: Handle NAV_CONTROLLER_OUTPUT.wp_dist overflowing
bc8c13d053 SRV_Channel: cope with large time jumps in slew rate limiter
74f5ddb823 SITL: add copter-beacon parameter file
a303c40f1f AP_Beacon: initialise counter in get_next_boundary_point
8a85b8be4c APMRover2: correct usage of set_output_pwm
b752594fe5 param_metadata: Markdown parameter formatter
06d40a7901 AP_NavEKF3: Fix terrain estimator innovation consistency check
ce8e935896 AP_NavEKF2: Fix terrain estimator innovation consistency check
284fc0f3c5 AP_NavEKF3: Fix bug in flow fusion for terrain estimation
b7e6e6f95f AP_NavEKF2: Fix bug in flow fusion for terrain estimation
0b26908359 Landing: Disarm on land for deepstall
a1508b58c1 AP_NavEKF3: use AHRS likely flying state
cbffc29f0b AP_NavEKF2: use AHRS likely flying state
0b40e853c9 Plane: call set_likely_flying()
9d7ed495da Copter: call set_likely_flying()
770f697cfc AP_AHRS: added set/get for flying state
647db728ce AP_NavEKF2: Improve is flying check for non fly forward vehicles
edee8396ba AP_NavEKF3: Improve in-flight check for non fly forward vehicles
a0e4ec0f3a AP_Compass: fixed bitmask typo
5da2e0b3fb Update code format
8fff1ec4d4 add QMC5883L driver for GPS compass module
e648f2e61e add QMC5883L driver for GPS compass module
06209a13d2 Sub: move MAVLINK_MSG_ID_REMOTE_LOG_BLOCK_STATUS handling up
ceec44350f Plane: move MAVLINK_MSG_ID_REMOTE_LOG_BLOCK_STATUS handling up
765a91c86b Tracker: move MAVLINK_MSG_ID_REMOTE_LOG_BLOCK_STATUS handling up
900f0cc774 Rover: move MAVLINK_MSG_ID_REMOTE_LOG_BLOCK_STATUS handling up
5c19f09cd7 DataFlash: handle mavlink messages, not just remote-log-block-statuses
4af3b31128 Copter: move MAVLINK_MSG_ID_REMOTE_LOG_BLOCK_STATUS handling up
cf918d233f GCS_MAVLink: move MAVLINK_MSG_ID_REMOTE_LOG_BLOCK_STATUS handling up
abd0831239 AP_Motors: changed BRUSHED16kHz to BRUSHED
11396919c8 HAL_PX4: changed BRUSHED16kHz to BRUSHED
1c741e78e6 AP_HAL: changed BRUSHED16kHz to BRUSHED
ba21c1e67d Copter: set RC_SPEED default to 16kHz for brushed
96627bc4e5 HAL_PX4: allow any pulse freq in brushed mode
92cdb54176 Plane: Fix a fly away when aborting a landing
97e88501c6 AP_OpticalFlow: support pixart 3901
762d5a649d Tracker: tell dataflash we're arming or disarming
75a89dbfeb Sub: stop using in_mavlink_delay as a proxy for disabling logging
31ac03368d Tracker: stop using in_mavlink_delay as a proxy for disabling logging
30dfd32b87 Plane: stop using in_mavlink_delay as a proxy for disabling logging
4163455d97 Copter: stop using in_mavlink_delay as a proxy for disabling logging
aeacc11573 APMrover2: stop using in_mavlink_delay as a proxy for disabling logging
6a03af8f3e DataFlash: make EnableWrites a frontend thing
b57a4e9685 Plane: call dataflash should_log method
cb41f09d2e Copter: call dataflash should_log method
bf510221e0 Tracker: call dataflash should_log method
0df30d03b1 Rover: call dataflash should_log method
e0e78d83e5 Sub: call dataflash should_log method
07e37281ef DataFlash: add a should_log method
001d3a7118 DataFlash: correct consts on CardInserted
244365767d DataFlash: remove DataFlash_Block and DataFlash_SITL
6a01c65197 AP_NavEKF3: Fix long description of EK3_OGN_HGT_MASK parameter (NFC)
7426bdb9b7 AP_NavEKF2: Fix long description of EK2_OGN_HGT_MASK parameter
1d03732ac5 Plane: Remove redundant status text on MAV_CMD_DO_GO_AROUND
cb77c1acc9 Copter: 3.5.0-rc8 release notes
a199604348 AP_Beacon: fix get_boundary_points num_points
b6816285e5 Tools: APM source is not required to be in Cygwin dir
b42fb31d7d AP_NavEKF2: Change default value of EK2_OGN_HGT_MASK
49ec2b4032 AP_NavEKF3: Change default value of EK3_OGN_HGT_MASK
fd25450632 AP_NavEKF2: Ensure reported local height = global height - origin height
6d14cf0ab8 AP_NavEKF3: Ensure reported local height = global height - origin height
798d5f85a2 DataFlash: Log EKF origin height
a3483d0d34 AP_AHRS: Update for compatibility with EKF interface change
3ae7998f51 AP_NavEKF3: Allow reporting of origin height for specified instance
77d21f72d4 AP_NavEKF2: Allow reporting of origin height for specified instance
e58ba8044d AP_NavEKF3: Improve protection for badly conditioned dVel bias covariances
bf963f8b65 AP_NavEKF3: Raise lower limit on del vel bias state variances
628d140319 AP_NavEKF3: Make target covariance time step larger
4c08622a7c DataFlash: Add logging for EKF3 state variances
2b97d0f5c9 AP_NavEKF3: Add public accessor for state variances
9f97cbfc3b AP_NavEKF3: Revert auto-code to original form and remove micro optimisations
f38fccd57c AP_NavEKF3: Prevent possible race condition re-zeroing state variances
7adaea6019 AP_NavEKF3: Improve partitioning and efficiency of the covariance prediction
a1c117360c AP_NavEKF3: Ensure Kalman gain calculatons respect deactivated states
5058405f8c AP_NavEKF3: add gyro bias state inhibit and rework index limit calculation
0cba133a1e AP_NavEKF3: Fix initialisation of state inhibit flags
36e7dfb5f6 AP_NavEKF2: Improve GPS reference height estimator
9da3caca47 AP_NavEKF3: Improve GPS reference height estimator
e7a5dd6a69 AP_Marvelmind: fix warning in example
5d0972f589 Arduplane: fix implicit cast to double warning in quadplane
914bc53100 Dataflash: fix shadowing of logstructure in SITL
af6eb4e41d DataFlash: remove unused NeedPrep function
9fb4ac2143 DataFlash: update examples for init simplification
91b62abfe5 DataFlash: simplify dataflash initialisation
5a0cb40c47 Sub: simplify dataflash initialisation
c6beb3a867 Plane: simplify dataflash initialisation
019dd02569 Copter: simplify dataflash initialisation
c1e07255b4 Tracker: simplify dataflash initialisation
8c074c7b73 Rover: simplify dataflash initialisation
6f7954298c Sub: do not reset LOG_BITMASK when no CardInserted
3bcc410048 AP_Beacon: fix pozyx west-east processing
af7f4fef0a DataFlash: protect against large testRatio from EKF
0800c6be52 Copter: add beacon object to avoidance object
7b0f6edf31 AC_Avoidance: add adjust velocity by beacon fence
cded78022c AP_Beacon: update_boundary_points calculates outer perimeter around beacons
c9475c2747 AP_Beacon: add get_boundary_points
b3bf72020f Tools: added my name to GitSuccess
3158cafefd AP_Beacon: Added Marvelmind beacon example.
3e130273a9 AP_AHRS: do not fallback to DCM if EKF can provide relative position
a07920c5b2 Rover: add init_compass method
eb2aa80fca Rover: compass set-initial-location uses ahrs location
584974fd74 Rover: set home from ekf position
0da6e73d76 Rover: add support for visual odometry
b56e246da6 Rover: add visual odometry to build
3534d0a0eb AP_Landing: Fix missing doc for LAND_TYPE
a5ea9420c0 Copter: landing gear position set less often
c9cc0de83d AP_LandingGear: set pwm only when set_position called
32cb3f8764 Tools: add e-flight convergence parameter file
6c3db3939e AP_GPS: Update comment on get_rate_ms()
b5029aad4f DataFlash: correct dataflash examples
6d1f42d1c5 Tracker: unconditionally start unstarted logging
10b69b46e1 Replay: StartUnstartedLogging replaces logging_started/start_logging
cdd0397bbf DataFlash: check all backends for sensor health
c1583da7d5 Sub: StartUnstartedLogging replaces logging_started/start_logging
76f7ad1252 Tracker: StartUnstartedLogging replaces logging_started/start_logging
4dc241fd22 Plane: StartUnstartedLogging replaces logging_started/start_logging
81b19204c3 Rover: StartUnstartedLogging replaces logging_started/start_logging
3ee56f5475 Copter: StartUnstartedLogging replaces logging_started/start_logging
7221b0def2 DataFlash: StartUnstartedLogging replaces logging_started/start_logging
2f7325a0bc Sub: simplify should_log
927cc75843 Plane: simplify should_log (NFC)
332e5059e2 Tracker: simplify should_log (NFC)
c5d40fd8b4 Rover: simplify should_log (NFC)
43a16b9327 Copter: simplify should_log (NFC)
32d02b1f18 Sub: eliminate calls to manipulate _writes_enabled
d36e8fa51e Copter: eliminate calls to manipulate _writes_enabled
d365a91bae Tracker: eliminate calls to manipulate _writes_enabled
bd747006aa DataFlash: eliminate calls to manipulate _writes_enabled
19a9690102 Sub: simplify start_logging
2bb22da599 Copter: simplify start_logging
0be2e7962f DataFlash: create a WritesOK method for WritePrioritisedBlock
1455c23230 Plane: fixed docs for tailsitter
e84b5c63be LandingGear: remove unused enabled method
45147af455 AP_Beacon: fit SITL beacon location
db45442de2 AP_Math: remove unused angle method
bcd305c821 AP_Compass: fixes for merge with master
04430457d5 AP_Compass: attempts to diagnose the twitches in MMC3416
36932a2959 AP_Compass: implement full state machine for MMC3416
167988b5c4 AP_Compass: implement MMC3416 temperature compensation
736fb715ec AP_Compass: MMC3416 magnetometer driver
51fa76d971 Sub: fixed startup order of setting mavlink system ID
a960c6526c AP_Rangefinder: set type for VL53L0X
d5cc1e64ed GCS_Common: rename send_rangefinder to send_rangefinder_downward
57ef598c07 ArduSub: change rangefinder msg for common one
e124cddeeb ArduSub: add support for DISTANCE_SENSOR
a26710d769 APMRover2: add support for DISTANCE_SENSOR
0bc9d294fb ArduPlane: change rangefinder msg for common one
9a121dc7c4 ArduPlane: add DISTANCE_SENSOR support
73038a0e09 ArduCopter: GCS_mavlink style correction
ac0a300415 ArduCopter: correct msg send by proximity
261eb387eb ArduCopter: change rangefinder msg for common one
156863d10a ArduCopter: add DISTANCE_SENSOR support
e9685ba13e GCS_MAVLink: add rangefinder msg
0848d96354 GCS_MAVLink: add send_distance_sensor_downward function
f0369bc507 GCS_MAVLink: add distance sensor msg
38540b4dcc AP_Proximity: add PROXIMITY_MAX_DIRECTION and PROXIMITY_SENSOR_ID_START
8b38bd2e33 AP_RangeFinder: add sensor type to backend
ba5189440e mavlink: update submodule
b29db0aa5b AP_RangeFinder: implement VL53L0X rangefinder
758414cfe5 Copter: allow mavlink messages to be exchanged on failed boot
5c15c1e4d2 AP_BoardConfig: add public method returning true if on sensor error
1ce2a7fcee AP_Compass: resolve AK09916 driver compiler warning
ca72f4d283 AC_Stats: NFC Statistics are read-only variables
ccee841578 Plane: NFC SYS_NUM_RESETS is a read-only variable
981807fe9a Rover: NFC SYS_NUM_RESETS is a read-only variable
1c8d169814 AP_HAL_SITL: sitl_airspeed simplify include
775ca9303a AP_HAL_SITL: sitl_airspeed correct style
0afc907b0a AP_HAL_SITL: rename sitl_ins & _update_ins to sitl_airspeed & _update_airspeed
b176ba53d7 SIM_Aircraft: move advance in time from update_position to time_advance
579f655e76 SIM_Aircraft: change define in favor of static constexpr
c25c92bfb6 Params: add battery monitor for SITL rover and gazebo
22dd81e298 AP_HAL_SITL: rangefinder const correctness
3f045a4905 AP_HAL_SITL: airspeed_simulated use is_zero
148e84320b SITL: Sim_aircraft correct style
4acf4538c7 AP_HAL_SITL: rangefinder don't adjust value from FDM on external data
599e3d7b83 SITL: make range finder a standalone sitl plugin
6607dafc66 ArduPlane: change is_tailsitter() to tailsitter_active()
53b82d1d4d ArduPlane: add comments on tailsitter pitch limits
65755454e0 ArduPlane: set tailsitter VTOL pitch limits using only Q_ANGLE_MAX
0e27d4bd6f AP_Soaring: fixed Log_Write call
f6b3c00b19 AP_Soaring: Fix initialisers in SoaringController. In-line method to get altitude in Variometer.
4cbff71689 AP_Soaring: Separate the vario functionality into a seperate class from the soaring/thermalling functionality.
c9e140a946 AP_Terrain: removed unused variable
3e2b5269a6 AP_Terrain: fix Coverity issue 91367
14b214eb9b Plane: remove FS parameters default values macros.
6a01494d4a AP_HAL: fixed setting of HAL_MINIMIZE_FEATURES for FMUv3
d946d5da6f AP_Compass: enable AK09916 inside a ICM20948
5936fc1ff8 Sub: compass set-initial-location uses ahrs location
7bae493138 Sub: consolidate set_home functions
cb76bd8f3d Copter: compass set-initial-location uses ahrs location
814cadac68 Copter: consolidate set_home functions
d02013c91b build: aerofc-v1: add default param file into ROMFS
f6d43aea25 build: px4: allow to embed defaults file into ROMFS
eb70dbc6f5 AP_HAL: add HAL_OS_POSIX_IO for aerofc-v1
ec491d3c6b Copter: init_compass get g.compass_enabled check
ac8234cdf0 AP_Notify: Change to the value of boolean.
4934ef1bae PX4Firmware: submodule update
c2fad4d466 mavlink: submodule update
33ef3bd51d AP_Proximity: MAV driver gets distance validity check
1409f0ca7e DataFlash: rename CURR/CUR2 to BAT/BAT2
26845cc66a DataFlash: add resting voltage and resistance to current logging
8def1d257e Copter: pass battery resistance estimate to motors
9e86732edc AP_Motors: accept external battery resistance estimate
7a2d8fd5fd AP_BattMonitor: add has_cell_voltages method
6d8dc0fccf AP_BattMonitor: replace int with uint8_t
d5e898156f AP_BattMonitor: allow using resting voltage for failsafe
8709fe58ec AP_BattMonitor: resistance learning
f64777849f AP_BattMonitor: rename VOLT_TIMER to LOW_TIMER
989677ddfd AP_BattMonitor: move has_current to backend
f02bfab7fe AP_Notify: OreoLED rework
34d305083d AP_Notify: Complete rework of notify device selection
6354ca7096 AP_AHRS: Set the new gps_fusion notify flag
545e417348 AP_Notify: Remove solo specific tones, align with px4 tones
771d2fb13c Rover: Be more explicit that a SPEED_TURN_GAIN value of 80% reduces "to 80%" and not "by 80%"
65cca6ae87 SRV_Channel: Improve the PWM parameters descriptions
ed07d5b5c9 RC_Channel: Improve the PWM parameters descriptions
2c867ec362 AP_RSSI: Improve the PWM parameters descriptions
89a0d2aa3b AP_Parachute: Improve the PWM parameters descriptions
1b062d9d29 AP_Motors: Improve the PWM parameters descriptions
eebf26ed9f AP_LandingGear: Improve the PWM parameters descriptions
d1f9633ed2 AP_Landing: Improve the PWM parameters descriptions
1ad5e58eb7 AP_Gripper: Improve the PWM parameters descriptions
67620e87f0 AP_Camera: Improve the PWM parameters descriptions
47514e275d Sub: Improve the PWM parameters descriptions
f8aa91681e Copter: Improve the PWM parameters descriptions
2e07f8824e AP_Motors: reserve parameter index 38
3e3db064d3 Tools: add my name to Git_Success.txt
d56eca036d AC_AttitudeControl: correct parameter markup
87c076da4d ArduPlane: Fix missing break in GCS_MAVLink
1985dcd366 AP_NavEKF2: Fix bug in declination fusion
2e096d76c6 sparse-endian: avoid clash with linux/types.h
edf667ad6e Tools: add my name to GIT_Success.txt
228cba2524 autotest: fixed default frame type in sim_vehicle.py
aa9891fe59 Tools: add my name to GIT_Success.txt
ed2aab5113 markdown fixes to README.md
6830a8b86c AccelCal: Continously report success/failure to the GCS that requested the calibration
c62e79b5c0 GCS_MAVLink: Update the accelcal signature to accept uint32_t
bc8df31fc3 MAVLink: Update submodule to include accelcal status
478fb60a5b AP_HAL: BeagleBone Blue fix HMC5843 I2C bus number
d9d3d97e54 AP_Compass: BeagleBone Blue add external compass HMC5843
447b20efa5 AP_InertialSensor: reduce accel filter to 10hz
010dc103be Copter: increase RC input deadzones for roll pitch and yaw
ad74769fb7 AC_AttControl: adjust default rate IMAX and Yaw Filt
c61d0a7373 Copter: reduce RC_FEEL default to 25
ffe701bda3 AP_GPS: Use a static assert to check that the init blob is small enough
0b7ec0dc64 AP_Proximity: validate range finder distances
fc42fda82d mavlink: submodule update
6c11abcb47 MAVLink: Update submodule
1877d09f7c AP_GPS: Don't track detection time to broadcast baud rate
84598544fb AP_GPS: Don't autodetect NMEA instances
3bdd4c0cd6 I added my name to the list in GIT_Success.txt because of assignment of 3rd course, "Drone software engineer".
f026438f22 AP_BattMonitor: Fetch remaining capacity
c389dd93d7 Rover: NFC - correct the units of the RNGFND_TURN_ANGL parameter
f7a683d38e AP_BoardConfig: remove redundant BRD_ prefix, it also made this parameter 17 characters long
b09ebbb891 autotest: add locations
4cc5587348 GIT_Success: add name
66b4c821c9 Sub: Add MAV_CMD_DO_SET_CAM_TRIGG_DIST support.
2cd6ff6dd5 AP_Math: Accept float epsilon in is_positive is_negative as a valid result
1a52acc99e Frame_params: Remove calibration parameters from bluerov2 standard
193e590592 Frame_params: add standard bluerov2 parameter file
f7e830cfad Plane: pixhawk mixer supports motors 9 to 12
75e770c83c Tools: add support for dodeca-hexa
c21b586ccc SITL: add dodeca-hexa support
1a76c28655 Copter: add dodeca-hexa
66fc49889b AP_Motors: add dodeca-hexa
d00725b2ed AP_Motors: rc_write handles motors 9 to 12
544d6aa8a0 SRV_Channel: define aux functions for motors 9 to 12
bf4a505494 AP_SerialMananger: Add missing @RebootRequired: True
3f6059397c AP_NavEKF2: Add missing @RebootRequired: True
405e0bb9d9 Plane: Add missing @RebootRequired: True
a1479c4138 AP_GPS: SBF report driver lag
3da3ad05bf AP_GPS: SBF report velocity accuracy
2ddf7f99b5 Tools: autotest: option to run different frame
96cfba971c Tools: vehicleinfo: factor out a default_frame method
3a9ac2ef40 Tools: pull out vehicle metadata into a library
75f744591e AP_Avoidance: Change the determination place of the index value.
c7a89d5aa0 AP_GPS: Set unknown DOP's to UINT16_MAX, rather then 9999
70ed572476 Copter: minor formatting fix
5f0214dd41 Copter: update AC3.5.0-rc7 release notes
9002a635e2 Copter: 3.5.0-rc7 release notes
a45dd30c1d Plane: Add MAV_CMD_DO_SET_CAM_TRIGG_DIST support.
9c6a7c170f Copter: Add MAV_CMD_DO_SET_CAM_TRIGG_DIST support
74d67f8d05 Rover: Add MAV_CMD_DO_SET_CAM_TRIGG_DIST support.
971c8d5948 Tools: use parm inheritance for gazebo iris model
d1fb2e7c53 Tools: use parm inheritance for copter models
26ff1acf55 Landing: Deepstall print travel distances
379a4fbfab Rover: Ignore landing message
c4cd6bdf86 Tracker: Ignore landing message
6ba53cf11c Copter: Ignore Landing message
07fb0d541d Sub: Ingore landing message
19a5475195 Plane: Send landing messages
16bd7a091e GCS_MAVLink: Add landing reporting
1e735324d4 AP_Landing: Add MAVLink reporting interface
5a15413513 AP_Math: Add is_negative and is_positive helpers
a491a393f4 Mavlink: Update module
397ae00526 AP_GPS: SBF report VDOP
7e5aa5bc4c AP_Mission: Prohibit resuming mission waypoints that are no longer in the mission
b57280125c Tools: add name to GitSuccess.txt
a3cb6a42c9 AP_BoardConfig: drop target temperature for cube to 45
fd6625e09d Frame_params: drop target temp for Solo to 45
9e74bfbc20 AP_BoardConfig: cope with bad config of pixhawk2
1f8d03d73a PX4Firmware: detect pixhawk2 and cope with header
a77f21da4a Copter: sport and acro trainer limits based on target attitude
5ac1293a52 Rover: Make base_mode armed status depend upon the arming library, not soft armed
a0c5ac1949 Copter: fix compassmot for oneshot ESCs
c459a25194 Copter: adjust autotune poshold
eb35b25b41 Sub: Freshen comments
79d5a2960f Sub: Remove unused #defines
ee0f46e3aa AP_HAL_Linux: RCInput_RPI: ignore unwanted signals
e803045d1f AP_HAL_Linux: Scheduler: increase stack for scheduler threads
010665f915 Copter: fix esc calibration for one-shot
b4d7d4f43f Copter: resolve compiler warnings in autotune GCS messages
9c027713d1 AP_BattMonitor: update current/voltage parameter documentation
079d2ff3be AC_WPNav: correct min limit
d5afd01ef2 Copter: remove duplicate autotune rotation warning
ca8ae06bba Copter: minor format fix to landing-gear update function
a1a5c9f239 AC_WPNav: sanity check wpnav-radius
34eae9d9cb Copter: AutoTune: include axis being tuned in output
0bc17645fb Copter: AutoTune: add gcs messages detailing wait-for-level state
586a5df814 Copter: add GCS messaging during autotune
aaa26af3f4 Rover: Fix constructor initialization order
c1eb9fb9c3 AP_NavEKF3: Spell in comments
f004f4b499 Rover: Spell in comments
023e3b6e30 Tools: Add comments explaining why a couple of units are not SI
02e7c49394 Tools: remove non-ASCII characters in comments, Travis chokes on them
d7c7deacdf Tools: Follow SI units conventions
5e938c8cc0 SRV_Channel: Use SI units conventions in parameter units
8661bdda8a RC_Channel: Use SI units conventions in parameter units
26771f5348 AP_Terrain: Use SI units conventions in parameter units
c417376ba8 AP_Stats: Use SI units conventions in parameter units
b4244efb87 AP_Soaring: Use SI units conventions in parameter units
78b7207ab4 AP_RangeFinder: Use SI units conventions in parameter units
a1de89a812 AP_Rally: Use SI units conventions in parameter units
2b5d33fa07 AP_RSSI: Use SI units conventions in parameter units
adc919c7fc AP_Proximity: Use SI units conventions in parameter units
5a2a82437a AP_Parachute: Use SI units conventions in parameter units
d3a57b5965 AP_NavEKF3: Use SI units conventions in parameter units
38b19b9eee AP_NavEKF2: Use SI units conventions in parameter units
823bf217d9 AP_Mount: Use SI units conventions in parameter units
9d9ebc91cd AP_Motors: Use SI units conventions in parameter units
44eca002f0 AP_LandingGear: Use SI units conventions in parameter units
2a16c20ce1 AP_Landing: Use SI units conventions in parameter units
5a9baaa8b3 AP_L1_Control: Use SI units conventions in parameter units
6ac8aeff05 AP_ICEngine: Use SI units conventions in parameter units
c892555c17 AP_Gripper: Use SI units conventions in parameter units
2d5033b132 AP_GPS: Use SI units conventions in parameter units
4c45b1c7ca AP_Compass: Use SI units conventions in parameter units
41a9402175 AP_Camera: Use SI units conventions in parameter units
a85b7af32d AP_BoardConfig: Use SI units conventions in parameter units
24aa52a24d AP_Beacon: Use SI units conventions in parameter units
25cfee9824 AP_BattMonitor: Use SI units conventions in parameter units
ed916327fc AP_Baro: Use SI units conventions in parameter units
8bd51fa068 AP_Avoidance: Use SI units conventions in parameter units
9941e910ee AP_Arming: Use SI units conventions in parameter units
4b49a84d8e AP_AdvancedFailsafe: Use SI units conventions in parameter units
98a43cc4b5 AP_AHRS: Use SI units conventions in parameter units
0f5d1ae2dd APM_Control: Use SI units conventions in parameter units
087b5b89f0 AC_Sprayer: Use SI units conventions in parameter units
de56459887 AC_PrecLand: Use SI units conventions in parameter units
1c300fa8a1 AC_InputMananger: Use SI units conventions in parameter units
9ac429ab13 AC_Fence: Use SI units conventions in parameter units
823bee8a31 AC_Avoidance: Use SI units conventions in parameter units
188dfb6936 AC_AttitudeControl: Use SI units conventions in parameter units
b996bb4a5d Sub: Use SI units conventions in parameter units
2f5f8eb323 Plane: Use SI units conventions in parameter units
f366095113 Copter: Use SI units conventions in parameter units
e6a7adb9a6 AntennaTracker: Use SI units conventions in parameter units
a2472e6787 Rover: Use SI units conventions in parameter units
d9546523a3 Tools: sim_vehicle.py fix for Python 3
9cb068d3f4 AP_NavEKF3: Spell in coments
95b09bc19e AP_Arming: fix a spell error in a parameter description fix { indentation
2fcb4932b7 AP_Beacon: minor formatting fixes for marvelmind
5060ebe626 AP_Beacon: order the stationary beacons in ascending order of address
8a5fcc82bd AP_Beacon: transform Marvelmind ENU to ArduPilot NED coordinates
119696bea3 AP_Beacon: added units in the comments documentation, to make the API easier to use
8f7b9323d2 AP_SerialManager: Rename Pozyx Beacon to Beacon
92d505598b ArduPlane: Poll AP_Landing for fly forward information
64fb09fb38 AP_Landing: Add an interface to poll if we should be setting fly_forward in AHRS
d80aecfd2d AP_Landing: Deepstall: Recompute approach heading until breakout
6c14f498f7 AP_Proximity: Add missing @RebootRequired: True
60aeade0f4 Copter: Add missing @RebootRequired: True
376b9e994f Copter: AC3.5-rc6 release notes
91d4b4777b Copter: respond to param list request after motor init
436d0f8c84 ArduCopter: radio fix passthrough range on heli/coax/single
888cd8e31c Sub: Fix fs_pilot_timeout parameter metadata
d58a056444 Sub: Fix ekf failsafe parameter metadata
46cba2c970 libraries: Delete the setting value for specific editor.
10c446f69d AP_Motors: Fit the indent column to the coding style.
caa2148e45 Copter: move esc calibration startup check to after servo function initialisation
0e7f12049c Copter: fix esc calibration is safety switch has been disabled
f9c8bb1b01 Copter: ensure esc calibration only occurs on next reboot
a3450a955d Copter: fix LED notify during auto esc calibration
b18c1853f9 GCS_MAVLink: count parameters in param thread
92f88e9b33 Plane: fixed climb rate for quadplanes in CRUISE
f870508b06 Sub: Update release notes for 3.5.0
379005ebc7 AP_Motors: Fix comment on expected variable range
cd52c5a5c5 Tools: make build_all.sh use waf
0c186de6fc mk: remove support for bare px4 build type
eb61bb86ee Tools: build_binaries: split configure, clean and build on waf
d04dab3a30 Tools: build_binaries: fix typo and binary name
46d9a1dcb5 AP_Motors: fixed tricopter tail servo in fwd flight
b6568b1c7e AP_AHRS: support set_origin and get_origin for EKF 10
47b79eb72d SITL: expose home location
57c0551260 AP_Notify: remove non-required initialisation of variables
ec37d863bc AP_Notify: simplify scrolling code
b1ef778215 AP_TemperatureSensor: use HAL_SEMAPHORE_BLOCK_FOREVER macro
6bb75a730f AP_HAL_QURT: use HAL_SEMAPHORE_BLOCK_FOREVER macro
7ce353e652 AP_HAL_PX4: use HAL_SEMAPHORE_BLOCK_FOREVER macro
c78f3b9e78 AP_HAL_Linux: use HAL_SEMAPHORE_BLOCK_FOREVER macro
e9ce3aa0ce AP_GPS: use HAL_SEMAPHORE_BLOCK_FOREVER macro
b39da462ec AP_Compass: use HAL_SEMAPHORE_BLOCK_FOREVER macro
ccc495e4c1 AP_Baro: use HAL_SEMAPHORE_BLOCK_FOREVER macro
cb2f472445 Tools: add aerofc-v1 to autobuild
d7976078a5 Copter: fix typo in comments
e31ac00f26 AP_GPS: fix spelling in comments
bdc4320fe8 AP_Motors: added MOT_BOOST_SCALE
2168222d4b SRV_Channel: added throttle_boot output function
c84024942b Tools: add name to Git_Success
8fd9c73b78 Copter: Add SuperSimpleMode "2" to Simple Mode setting.
d9223165c7 AP_AHRS: fixed get_accel_ef_blended() for SITL EKF 10
6eaad59115 Plane: improve vectored tailsitter takeoff
1f847132d7 AP_Motors: setup limits flags for tailsitters
3018728f50 AP_UAVCAN: rename macros to avoid conflicts
db64da7856 AP_TemperatureSensor: rename macros to avoid conflicts
607220d12b AP_Math: rename macros to avoid conflicts
e51bbcebec AP_HAL_SITL: rename macros to avoid conflicts
b72532164b AP_HAL_PX4: rename macros to avoid conflicts
279c1b9d9c AP_HAL_Linux: rename macros to avoid conflicts
3687b6bdf0 AP_GPS: rename macros to avoid conflicts
45f27ceb9c AP_Compass: rename macros to avoid conflicts
71158e3e74 AP_Common: added #pragma once
375c7b0f5f AP_Baro: rename macros to avoid conflicts
a46799d34e Plane: removed AP_Airspeed from vehicle code
3b33434695 Copter: removed AP_Airspeed from vehicle code
f08074c0d7 Rover: removed AP_Airspeed from vehicle code
1817974ce6 AntennaTracker: removed AP_Airspeed from vehicle code
560c802d7c mk: AP_Airspeed is needed for EKF linking
7b73004882 AP_Airspeed: added ARSPD_USE=2 for gliders
21b8d3cb3d Plane: Removed scary autotakeoff message.
db7cf388f2 AP_Notify: enable display for BeagleBone Blue
a124987a45 Sub: Update release notes for 3.5-rc2
094079039b Sub: Update release notes for 3.4.1
192ffdcca8 Rover: Creating beta release 3.2.0 Beta2
00204367fc APMRover2: Reduce the home position reset when disarm
67e79a30e8 SRV_Channel: limit pwm_from_angle return to +/-high_out
f725e9f2b5 APMRover2: correct some style after addition of velocity controler
ed26c103f9 APMRover2: prevent unless calculus when stoping
670e7b7914 ROVER: put all guided param in one structure
045d171ab9 Rover: add Guided velocity controller
c1d3384835 Rover: rename set_next_WP to set_auto_WP to clarify usage
d6b55b2d09 Rover: set_guided_WP accepts location
131e1bdef5 Sub: Bugfix for external baro failsafe handling when no baro is connected at boot
9bdf971336 AP_Baro: added set_pressure_correction()
99883ffc49 AP_Baro: added temperature sensitivity modelling in SITL
d50dcb5ad2 SITL: added SIM_TEMP_BFACTOR
ac82d1a65d HAL_SITL: moved SITL baro to AP_Baro_SITL
ee4161fa62 AP_Baro: moved SITL baro to standard sensor backend model
62b826953d AP_InertialSensor: use AP_Math rand_float()
2fcecaa7c5 AP_Math: added rand_float()
c1b6684b9f SITL: added temperature control parameters
7e24be95c9 AP_Param: added macro for var table extension in object
04cb1027b8 Copter: minor fix to release notes
f2131ed2d0 Copter: AC3.5-rc5 release notes
37166301c9 HAL_PX4: use sensor_config_error()
cbea29ad71 AP_Baro: use sensor_config_error()
e32e2f5b5d AP_BoardConfig: added sensor_config_error()
bffc5daeb0 AC_WPNav: unset yaw when setting new origin and destination
1691a39b36 AP_GPS: spell in comments
23b7f1e645 AP_NavEKF3: Improve comments, typos
ce37517268 AP_NavEKF2: Improve comments, typos
a6eb337438 AP_Notify: remove unused variables
bfd8d151c8 AP_InertialSensor: lower slave rate with fast sampling
ece0e84ddf AP_Notify: reindent (NFC)
ce5739f1a0 AP_Notify: remove semaphores protecting pixels
519a293af9 AP_InertialSensor: fixed instance usage in set_gyro_oversampling()
112b22516a AP_InertialSensor: fixed use of accel2_noise
a3f4a523b2 AP_Notify: convert unknown characters to spaces
b3ce03bfb0 Sub: stop appending lf to PERF message
378015691b Plane: stop appending lf to PERF message
b37e64b23c Copter: stop appending lf to PERF message
5a02219642 AP_HAL_Linux: use HAL_SEMAPHORE_BLOCK_FOREVER
3ff4cd8c07 AP_HAL_PX4: use HAL_SEMAPHORE_BLOCK_FOREVER
b11ca5d538 AP_HAL_QURT: use HAL_SEMAPHORE_BLOCK_FOREVER
2f79a5bd90 AP_HAL_SITL: use HAL_SEMAPHORE_BLOCK_FOREVER
85e5de15c4 AP_HAL_VRBRAIN: use HAL_SEMAPHORE_BLOCK_FOREVER
f130b4a580 Tracker: move init of DataFlash references into vehicle init
652292e5c0 Sub: move init of DataFlash references into vehicle init
74e0d6c60a Rover: move init of DataFlash references into vehicle init
084242cf03 Plane: move init of DataFlash references into vehicle init
069e0d1973 Copter: move init of DataFlash references into vehicle init
ee16205438 Tools: ardupilotwaf: include startup tone in ROMFS
5b67b33310 AP_GPS: Remove un-used AP_GPS::inject_data_all() function
5261654756 AP_GPS: Only inject RTCM data to the selected GPS device defined in GPS_INJECT_TO parameter
12f83ecf75 AP_GPS: SBF if RAW_DATA is enabled check that the GPS is succeeding at logging
708b483d77 Plane: prepare for 3.8.0beta5
6ccb7cf3f4 Copter: tidy dataflash Frame reporting
ac1484f60e DataFlash: clear format sent mask when backend starts new log
2876f1467c AP_InertialSensor: converge sensor rate quickly, then slowly
db25b6e966 AP_InertialSensor: estimate and log sensor rates for all IMUs
0a83281a29 DataFlash: added logging of actual sensor rates
49cc0965c0 AP_InertialSensor: separate handling of FIFO and non-FIFO sensors
74eb7a7243 AP_InertialSensor: make SITL sensor rate match a Pixhawk1
25cd16a275 AP_InertialSensor: fixed LSM303D registered sample rate
28030dd85c AP_AHRS: use SIM_ODOM_ENABLE to enable visual odom in SITL
67404e9660 SITL: added SIM_ODOM_ENABLE
56aa467d60 AP_Scheduler: adjust debug levels
5c62e4f4c2 GCS_MAVLink: don't use more than 1ms sending parameters
f465c37c65 GCS_MAVLink: added async parameter sending
5c4ca3bf0b GCS_MAVLink: added send_queued_parameters()
58861eb51c Sub: use common send_queued_parameters()
2706c9d57a Plane: use common send_queued_parameters()
22791b7272 Copter: use common send_queued_parameters()
37585f213a Rover: use common send_queued_parameters()
005797c327 AntennaTracker: use common send_queued_parameters()
f778954b84 GCS_MAVLink: split parameter functions into a separate file
60e4c0eb98 AP_Param: make count_parameters() thread safe
49b18819ce Copter: enable channels in ESC calibration
84114d067a SRV_Channels: added SRV_Channels::enable_by_mask()
2c4975ba31 AP_Motors: removed cork/push from AP_Motors
5c028897a3 HAL_VRBrain: cope with nested cork/push
266f99db93 HAL_QURT: cope with nested cork/push
9bdb6838e6 HAL_PX4: cope with nested cork/push
9b297ef5a1 HAL_Linux: fixed nested cork/push
2ba6e7af35 Copter: fixed aux servos in RC failsafe
f257a869ac HAL_SITL: make cork/push safe to call nested
351304ebcb Plane: don't set fly-forward when transitioning
2d4eee0cce AP_NavEKF2: documentation update
4a898037e9 AP_NavEKF3: documentation update
a04aff7a7d AP_NavEKF3: added inter-EKF scheduling cooperation
2de8777669 AP_NavEKF2: added inter-EKF scheduling cooperation
e62fdad12c AP_InertialSensor: added get_last_update_usec()
e78f55ef9b AP_AHRS: change order of EK2/EK3 update
36a633bc7a Sub: call BoardConfig.init_safety() at end of startup
3eeff938b0 Plane: call BoardConfig.init_safety() at end of startup
10b89db498 Copter: call BoardConfig.init_safety() at end of startup
c5d17a9d92 Rover: call BoardConfig.init_safety() at end of startup
f151fd3691 AntennaTracker: call BoardConfig.init_safety() at end of startup
4c36c77db1 AP_BoardConfig: split setup of safety switch init init_safety()
b1bd3f0364 AC_WPNav: yaw points along leash
ca5bf02d7c autotest: quote words as they go into generated ritw file
55ac480e91 Tools: added decode_devid.py
8ead9d6b19 DataFlash: Add logging of average EKF time step min/max
0bf50fd56f AP_NavEKF3: Add monitoring of average EKF time step
e48f46c98b AP_NavEKF2: Add monitoring of average EKF time step
7d777485d8 AP_NavEKF: Add monitoring of average EKF time step
3ce81967ae AP_NavEKF3: Improve calculation and use of average EKF time step
7abf9997e6 AP_NavEKF3: Correctly initialise dtIMUavg time step and apply LPF
4ce0a8e24e GCS_MAVLink: time limit GCS update() calls
dc10675965 ArduPlane: suppress differential thrust when throttle is zero
1301b9797a AP_NavEKF3: Fix solution validity reporting bug
082f429da3 AP_NavEKF2: Fix solution validity reporting bug
62c123bb08 AC_WPNav: correct straight line waypoint leash calculation
d4e6720b01 AP_BattMonitor: added BATT_VOLT_TIMEO
0ccb3a7688 DataFlash: added logging of timing statistics
adb281cd4e AP_NavEKF3: added timing statistics logging
ee5c032f27 AP_NavEKF2: added recording of timing statistics
ae3df89d17 AP_NavEKF: added ekf_timing structure
5a57aafb98 Plane: reduce pitch demand on takeoff on roll error
954905e0eb Plane: allow battery failsafe with usb connected
27e52695fe APMRover2: add initial support for MAV_CMD_CONDITION_YAW
ba011eef78 AC_WPNav: init z-axis feed-foward to correct stopping point calcs
3a397584a1 AC_PosControl: z-axis stopping point up to 3m above vehicle
6e92f74ca0 AC_PosControl: add clear_desired_velocity_ff_z method
aab27d8d0e Copter: auto loiter initialisation simplified
65e97a9503 Copter: rtl initialises wp controller earlier
22ab8de4d2 AP_BattMonitor: SMBus: Fetch pack capacity
f919c409bb AP_BattMonitor: Remove redundant state copy
3ab3face9b AP_BattMonitor: SMBus: Read serial number
302ea1204f Fixed header
7dca7933fa AP_HAL_PX4: fix UAVCAN armed state to depend on safety switch
e7bd64b7d6 PX4: remove mkblctrl driver initialization
2f326fe5e0 build: remove obsolote mkblctrl from PX4 builds
965eda69f3 AP_HAL_PX4: remove left-overs of legacy UAVCAN support
ca4cde9770 HAL_PX4: fixed safety switch light pattern
596b20eb07 AP_NavEKF2: close perf counter when doing early return
88469ce80c AP_NavEKF2: Reset covariance if bad mag fusion update
f208986d43 AP_NavEKF3: Reset covariance if bad mag fusion update
18b66f9eed AP_NavEKF3: fixed reset of coviariance matrix
d799bacd7d AP_NavEKF2: fixed reset of coviariance matrix
888edcd709 Plane: fixed duplicate include of AP_ADC library
1875d2adab Copter: fixed duplicate include of AP_ADC library
b344bd1071 Rover: fixed duplicate include of AP_ADC library
c5d2b5b62e AntennaTracker: fixed duplicate include of AP_ADC library
81f8ab3933 Copter: guided init uses vertical stopping point
e2cf836734 AC_WPNav: add get_stopping_point
a342b73604 Copter: guided velocity contoller inits accel and jerk
e0de1517c1 mk: add AP_ADC to global library include
e96332d346 AC_WPNav: reduce spline to straight twitch
f8d6b5fc9c AP_HAL_SITL: Allow to use a second type of gps for all type
e90c62ffc6 autotest: run_in_terminal_window gets SITL_RITW_MINIMIZE
44d84fca15 AP_Beacon: Added Marvelmind Beacon class
47ff9ddeec Rover: Added Beacon implementation
f6888d3544 Tools: remove often unsupported character from Git_Success
3250e4cc62 Added name to GIT_Success.txt
f0f7ca2386 SITL: State constrain rover motor input between 1000 and 2000
7f861aafd0 APMRover2: make on spot turn in skid and manual use full motor range
83bf1fdca5 APMrover2: remove useless variable
f13425aa28 APMRover2: make crash_check define static const
2eb0ed6242 APMRover2: Remove, correct some cast
409e8b5f26 APMRover2: Remove unused config define
91958fb96a APMRover2: Remove unused config define
20cc336885 APMRover2: const correctness
c41e695c98 APMRover2: correct some style
b634fe548d APMRover2: Use c++ cast
1a246851fc Copter: enable radio failsafe by default
7ea0f65590 Plane: removed incorrect comment
06b0742481 Plane: fixed jump in qhover on takeoff
b9debba509 Plane: make ground test easier for tilt
76870f8e01 Plane: improve fast/slow tilt in ground tests
aab20317a0 Plane: fixed position control in QLAND_FINAL
4240d3f739 Autotest: support tilttri-vec quadplane
1e69508322 SITL: added a vectored tilt tricopter quadplane
b1f1ace736 Plane: support vectored yaw tiltrotors
fedabd1ace Plane: added logging of quadplane desired yaw
2d9c3e3d93 Plane: added EKF yaw reset handling to quadplane
516bf26719 Plane: fixed QRTL change when coming from loiter
be1b50d6e2 Plane: support auto trim for separate elevon and vtail channels
b4ffcfa6bd Plane: added support for elevon and vtail servo functions
61fbaf0db7 SRV_Channel: added elevon and vtail functions
d91f89d24b AP_GPS: Remove stale ublox config files
1ba59b446c AP_GPS: log ublox sw and hw versions on dataflash log start
b7baca8d43 AP_GPS: move GPS type announcements into backend
b7fe410b52 Sub: log GPS detection state to DF on log startup
269c6c2fd9 Tracker: log GPS detection state to DF on log startup
d0f2e7bf3a Rover: log GPS detection state to DF on log startup
b5b8620d04 Plane: log GPS detection state to DF on log startup
afbdbcce26 Copter: log GPS detection state to DF on log startup
c46ea73426 AP_GPS: rename QURTGPS to QURT
2354a0ec5a AP_GPS: ability to log GPS detection state to dataflash
94a5e94ec9 AP_GPS: canonicalise statustext messages
4334a92ac9 AP_GPS: remove unimplemented method declarations
608d6d0a5f DataFlash: implement a printf-like Log_Write_MessageF method
385d1c1951 waf: cope with spaces in directory name in mavgen
cacfc4cb2f Tools: set mavlink log backend for Intel Aero RTF
afc382c342 Copter: moved beacon logging to dataflash
28a6ca7d75 Dataflash: add AP_Beacon logging
8f43b60247 Copter: set EKF origin from first do-set-home command
b255c7b370 AP_NavEKF: add setOrigin
0af9433c8e AP_AHRS: add set_origin
96f503d9d1 AP_Baro: Fix GND_EXT_BUS @Values formatting
e0d49e6d84 AP_BattMonitor: Use a unified SMBus temperature interface
9c3b97347a AP_BattMonitor: Unify read_word interface
3319c3ccdc AP_BattMonitor: Use a common PEC helper
35a965ebc5 AC_Avoidance: add configurable margin
3348ab4fa8 Copter: send upward DISTANCE_SENSOR message to GCS
496e8f3cdb Copter: integrate proximity method rename
3ad5c3775e AP_Proximity: rename get_distances to get_horizontal_distances
09e3d6b7f0 AP_Proximity_MAV: healthy if either horiz or vert positions received
3df5484a39 Tools: update intel aero default params
56281f9c79 Tools: update intel aero default params
58ad4dfc0d README: update project details
25bd57e85b Fix broken links in README
327ac07d54 AP_HAL_SITL: gps correct glitchs
949aa4d9ca AP_Frsky_Telem: replace VDOP with extra GPS status bits
2c22a17f85 Sub: version to 3.6-dev
fb8f4f8cd1 AP_UAVCAN: ESC numbering correction
a96772e46e AP_BattMonitor: get Solo battery voltage from sum of cell voltages
3b6d348241 DataFlash: Log battery temperature and cell voltages
341ac701d1 GCS_MAVLink: report temperature information to the battery status report
9cb0d8f99b GCS_MAVlink: Add battery cell backend
8f24d211ce AP_BattMonitor: Solo add support for temperature and cells
043b93d643 AP_BattMonitor: Maxell support temperature
de02bd52ed AP_BattMonitor: SMBus_Maxell request voltages
121ebebfef AP_BattMonitor: Add temperature interface
e39ae6d48c AP_BattMonitor: Add cell monitoring
c8d6311047 waf: added -Werror=switch
0cfc6f8e0f Sub: ignore MSG_AOA_SSA
1a8669201e Copter: ignore MSG_AOA_SSA
7cc1009dab Rover: ignore MSG_AOA_SSA
03430c98d1 AntennaTracker: ignore MSG_AOA_SSA
c9f413da38 GCS_MAVLink: AOA, SSA message
a144e79a50 DataFlash: logging of AOA and SSA
5c080ce875 AP_AHRS: calculation and reporting of AOA and SSA
ca84ab36be Plane: AOA and SSA estimations are added to parameters and data logs
aa0de36b2e Tools: fix wxpython package name on Arch
3bbdb64ec0 mavlink: submodule update
915f10dc8a AP_HAL: SPIDevice: prefer nullptr for pointer
c3d5aaa21c AP_Notify: add AP_BoardLED support for BBBMini
203073e543 AP_HAL: add LEDs for BBBMini
875538ccb5 AP_HAL_Linux: examples: small fixes to BusTest
0d1d430600 AP_HAL_Linux:examples: Example to test device bus with the new APM API.
be06c1e8ed AP_HAL_Linux:SPIDevice: Add functions to get possible spi registered device
1a8fa6ac5a AP_HAL:SPIDevice: Added functions for spi registered device.
16c1bc1b0e AP_HAL_Linux: Util: fix coding style for pointers
9aa2a3938c AP_HAL_Linux: Util: make get_custom_log_directory const override final
18d8f9ba9d AP_HAL: make get_custom_log_directory const
008e631147 AP_HAL_Linux: Util: fix overriden function signature
6f952fe3dd AP_HAL_Linux: fix checking wrong value for pthread function
9324d8e251 Dataflash: emit io thread warnings much less frequently
713c08672f Copter: integrate AP_VisualOdom
d5dd7e719a Copter: add AP_VisualOdom to build
0644314499 DataFlash: add visual odometry sensor logging
d2c89443df DataFlash: add logging for EKF body frame odometry fusion
90cd46f4d7 AP_AHRS: simulate body frame odometry sensor
3b82f60b08 AP_AHRS: add interface for use of visual odometry data
fb7104f4e3 AP_NavEKF3: add fusion method for body frame odometry data
595d37ec70 AP_VisualOdom: class accepts deltas from visual odom camera
9c6fc1f122 AP_Landing: Correct deepstall param doc strings
6f297deaf7 AP_GPS: Unify inject_data interface for all classes
88e02c7b35 Plane: log the throttle mix for quadplane copter control
fe3e7e8153 AC_AttitudeControl: added get_throttle_mix()
8e3f8f47c8 Plane: tilt motors fast in final stages of quadplane transition
5b47927937 Plane: pre-launch flaps incorrectly always disabled
873915d82b AP_HAL_SITL: Support both SBPv0 and SBPv2
abd408bf40 SITL: Support both SBPv0 and SBPv2
4bf9fc071c AP_GPS: Adds SBP Version 2: Swift Navigation Piksi Multi support
d5ec7b0aad Plane: fixed a sign error in the angle assist code
41d999994a Tools: update intel aero rtf default parameters
3415dfb46c HAL_PX4: implement split transfers for I2C
29adf300ee Tools: update default Solo parameters running AC3.5
5ee98879f3 Sub: Update ReleaseNotes.txt for 3.5-rc1
ebde6e1ce3 Copter: output any servo channels on motor output
032bfad79f Copter: move rc input check to esc_calibration_startup_check
fc675a1e4a Copter: do not allow motor test before initialisation completes
1bfbf0d43f Copter: enable motors at end of initialisation
6a1c58b5a5 AP_Notify: fixed RGB led output to use SRV_Channels
ce87bb7e39 SRV_Channel: added set_output_pwm_chan()
b541949262 WAF: Px4.py remove unused PX4_UAVCAN_ROOT and UAVCAN_LIBUAVCAN_PATH
004a7aceb7 Sub: Ignore mission commands with unsupported altitude values
287f2e3c56 Sub: Rework log opening/closing logic
20f7d75b5a AP_UAVCAN: multiple messages when more than 15 servos are sent
994790be0b Dataflash: Clamp GPS accuracy values
fd866d3e20 AP_Baro: removal of legacy UAVCAN support
67a6e651d6 AP_BoardConfig: removal of legacy UAVCAN support
0c4a68314b AP_HAL_PX4: removal of legacy UAVCAN support
b3d9126407 AP_Compass: removal of legacy UAVCAN support
8130d85b42 AP_GPS: removal of legacy UAVCAN support
e8117f5f46 PX4: removed attempt at formatting microSD
92f060bdef SITL: improved single-motor tailsitter plane
6b6ad6ddf2 AP_AHRS: fixed wrap of yaw in AHRS_View
7737c3445c Sub: Default CAM_SLEW_LIMIT to 30 deg per second
e24fef70f6 Sub: Workaround for more graceful servo mount initialization
e92dbad358 Sub: Fixup rcin initialization
05b19cbb7d Sub: Correct default flight mode button functions to match suggested setup
4c7f744863 Sub: Setup throttle channel default trim parameter value
d2629a13ee Sub: Remove handling of unsupported mavlink messages
697b095e99 Sub: Remove unused command_ack_counter
d0171395b8 Sub: Remove baro_alt and baro_climbrate members
3a501a42fb Sub: Set default param value instead of forcing at boot
8d93af112f Sub: Remove motors.set_air_density_ratio
8c6fa6f651 Sub: Remove unused ap.usb_connected flag
c093e1c37e Sub: Add failsafe mechanisms for depth sensor error
785f774887 Sub: Rework pilot input failsafe, add enable and timeout params
1ff656df2d Sub: Add arming check for ahrs health
b7de1eb88a Sub: failsafe.manual_control -> failsafe.pilot_input
8d1b6ef8a1 Sub: Don't set notify leak status if leak failsafe is disabled
f7c4810eaa Sub: Remove ignore_check argument from control mode init functions
0ff8dcf58a Sub: Reword stale comment
7a6318434f Sub: Fix throttle value in some calls to pos_control.relax_alt_hold_controllers
a83e1ad971 Sub: Refactor notify update after flight mode change
b28c3584d4 Sub: Add ekf failsafe check
0b1a2c3959 Sub: Remove ekf_check.cpp and unused ekf failsafe methods
3852427e0b mavlink: submodule update
5758532326 AP_AHRS: make AHRS2 quaternion available
961da9deb8 HAL_SITL: use quaterion instead of eulers
4de0daa7a1 SITL: make quaternion state available outside SITL
e440d22003 DataFlash: log DCM and SITL quaternion too
732915d417 DataFlash: log quaternions for EKF
248773a7c8 AP_NavEKF3: allow access to quaternion for each instance
9f3c2cb704 AP_NavEKF2: allow access to quaternion for each instance
835aa56777 Tools: intel aero params enable failsafes
6d1586044c APMRover2: unhide default CH_7_PWM_TRIGGER & make it static const
d4bd61d859 APMRover2: unhide default NAVL1_PERIOD with a define set the correct value to param
01e01d1df9 Sub: Fix logging bug where only one log was created after first arm
8b3c414ca7 Sub: Remove cliSerial alias for hal.console
6008689aa3 Sub: Implement spline waypoints
6a443fcce4 Sub: Fix redundant check in MAV_CMD_MISSION_START
84527d6e66 Sub: Remove unused auto_armed flag
8ebfcdec6e Sub: Remove stale commented code
eb36153752 Sub: Reorganize #includes
c599ba8c97 Sub: Disable Camera object by default and rework guards
9a35b4d7a4 Sub: Dont include AC_Rally if it's not enabled
4fb5a90446 Sub: Remove unused AP_Airspeed library dependency
6806989d86 Sub: Remove unused AP_ADC library dependency
5110c9cb40 Sub: Remove unused Buffer library dependency
d3927e34e4 Sub: Remove unused InputManager library dependency
af8514f1a3 Sub: Don't declare gripper functions if it's not enabled
854275459d Sub: Fix compile-time OPTFLOW enabling switch
b3beb5e1c4 Sub: Remove undefined methods from Sub.h
c16046aadf Sub: Remove unused motor emergency stop and interlock
2fac49a163 Sub: Remove unused pre_arm_check()
6f54eef857 AP_Motors: force roll motors to 0 in tailsitter when disarmed
b15b11e32d Plane: always stabilize with tailsitters
7992a21f6f AP_IRLock: added override keyword
5d4400f1b7 AC_PrecLand: added BUS parameter for precision landing
2eb363a950 AP_IRLock: allow specification of i2c bus
c73584c9b8 CPUInfo: example fix travis warning missing function declaration implicit cast some style fix
eb4298ca3e Hello: example fix travis warning missing function declaration implicit cast some style fix
a6fe6024c1 StorageManager: example fix travis warning missing function declaration implicit cast some style fix
90661c528a RC_Channel: example fix travis warning missing function declaration implicit cast some style fix
720edc0fde PID: example fix travis warning missing function declaration implicit cast some style fix
b2c8bc8074 GCS_MAVLink: example fix travis warning missing function declaration implicit cast some style fix
892a999ba5 Filter: example fix travis warning missing function declaration implicit cast some style fix
49c9e3c768 Dataflash: example fix travis warning missing function declaration implicit cast some style fix
4a2b90b707 AP_Rangefinder: example fix travis warning missing function declaration implicit cast some style fix
09364085ed AP_RPM: example fix travis warning missing function declaration implicit cast some style fix
7abd22a33e AP_Parachute: example fix travis warning missing function declaration implicit cast some style fix
45ca91808d AP_OpticalFlow: example fix travis warning missing function declaration implicit cast some style fix
2f50e865c2 AP_Notify: example fix travis warning missing function declaration implicit cast some style fix
0be022694a AP_Mount: example fix travis warning missing function declaration implicit cast some style fix
f2812c1efd AP_Math: example fix travis warning missing function declaration implicit cast some style fix
a2eeab4db7 AP_HAL_PX4: example fix travis warning missing function declaration implicit cast some style fix
8d357983ee AP_HAL_LINUX: example fix travis warning missing function declaration implicit cast some style fix
34199b4af0 AP_HAL: example fix travis warning missing function declaration implicit cast some style fix
292fa5f413 AP_GPS: example fix travis warning missing function declaration implicit cast some style fix
7fb816c812 AP_Declination: example fix travis warning missing function declaration implicit cast some style fix
d3e27d8720 AP_Compass: example fix travis warning missing function declaration implicit cast some style fix
2200302081 AP_Common: example fix travis warning missing function declaration implicit cast some style fix
3f4a3e535b AP_Airspeed: example fix travis warning missing function declaration implicit cast some style fix
fede727d38 AP_AHRS: example fix travis warning missing function declaration implicit cast some style fix
320c5e1b96 AC_PID: example fix travis warning missing function declaration implicit cast some style fix
9c587d8d67 AP_BattMonitor: fix warning in example
94eabed583 AP_BattMonitor: update volt and curr pin param descriptions
1abeb03d2b AP_Math: remove HAL_CPU_CLASS_16
1e84e07edc AP_HAL: remove HAL_CPU_CLASS_16
1adf247a60 AP_BoardConfig: fix board type number for aerofc
bf22919a8c Copter: add support for MANUAL_CONTROL message
8bb051af44 DataFlash: DataFlash_MAVLink: add comment concerning locking
ac34405272 DataFlash: DataFlash_MAVLink: avoid races by taking semaphore
9e436ec35c DataFlash: correct visibility
25930e5bf3 DataFlash: remove unused DataFlash_MAVLink method
3a8994b2ce Sub: Send BATTERY_STATUS
46790db751 AntennaTracker: Ignore BATTERY_STATUS message
7328a8ad41 Rover: Send BATTERY_STATUS
ea89bd1178 Copter: Send BATTERY_STATUS
b850c1041f Plane: Send BATTERY_STATUS
1e816b8be5 GCS_MAVLink: Support sending the BATTERY_STATUS message
597dbb2df4 Copter: Compare bit variables, change set values.
0638f16bfd mavlink: submodule update
70ab44a048 AntennaTracker: fix for mavlink update
3080f66d16 GCS_MAVLink: fixes for updated mavlink
4e63955ddb mavlink: merge upstream mavlink changes
792bf70c40 RangeFinder: Fixed the value labels for LidarLite
512cd11125 AP_HAL_Linux: RCOutput_ZYNQ: check for valid channel
46d910539c Plane: fixed a warning
f571b34fd7 AP_Motors: setup RC speed for tailsitters
1db3b31686 SRV_Channel: added set_rc_frequency
328541769d AP_Motors: allow control surfaces to move disarmed
642a6acfcb Plane: support thrust vectoring in tailsitters
37301f67a0 SRV_Channel: added left and right motor tilt controls
01de4b1176 Copter: clarify release notes for Intel Aero
013a480b6c README.md: update with UAVCAN maintainer
b121145c33 mk: compilation settings to include CAN bus drivers and UAVCAN protocol
59ef501a19 waf: add support for building with UAVCAN
0b54d5764c AP_BoardConfig: support for CAN and UAVCAN at board level
dfe9b0e6fc AP_GPS: support for UAVCAN connected GNSS receivers
3e044c7b8a AP_Compass: support for UAVCAN connected magnetometers
331419a51e AP_Baro: support for UAVCAN connected barometers
c43d91b92e SRV_Channel: support for servo and ESC commands to be send via UAVCAN
68a8d8615d AP_UAVCAN: library for support of UAVCAN protocol
7831a85f1c AP_HAL_Linux: definitions for CAN bus
d81af8700f AP_HAL_SITL: definitions for CAN bus
55a0bd081f AP_HAL_PX4: ESC scaling
7caeaf4be6 AP_HAL_PX4: RCOutput support for UAVCAN
865392f034 AP_HAL_PX4: CAN bus driver
d1792689f1 AP_HAL/utility: clear added to RingBuffer
a07033f938 AP_HAL: ESC scaling
9b98c304c4 AP_HAL: top level HAL definitions for CAN bus driver
7cd290af9b AP_HAL: added defaults offsets max for disco
2ed63d24bd XPlane: adding airfoils required to for XPlane
8250fe4943 AP_NavEKF3: fix documentation derivation references
78d1ea4727 SITL: Added missing files to win_sitl and removed -j4
024c91de20 SITL: Added setup scripts for Windows (Cygwin) users
bcec837f06 AP_BoardConfig: fixed warning in SITL build
6b523cbd46 AP_GPS: Fix a memory leak in QURT GPS
664e41cec6 Plane: bring in demanded climb rate over 1 second
17ba8b3304 Plane: raise logging rate for PID and servos
3236090d71 HAL_SITL: allow plane and rover to use SIM_ENGINE_FAIL
0cf571d338 Plane: moved Z altitude target reset
68e0b5b7fa SITL: support XPlane-11
a8b36a9be8 autotest: An X-Plane soaring mission file
c06cfc84ff autotest: Parameter file for an X-Plane RC sailplane model called Vee-gull 005
7478ae9eb4 Copter: TUNE parameter description fixes
7f93818d31 Copter: 3.5-rc4 release notes
1ee1c01e43 Sub: Remove two unused functions
563402c41d Sub: Don't wait for an XBee at boot
3e471e808a Sub: Refactor methods in navigation.cpp
b1906d6c04 autotest: (Sub) only execute one circle instead of four
dbfdfa2261 HAL_PX4: fixed a bug in setup of alt rates for upper channels
a8b12dcf3c HAL_PX4: never wait on a semaphore in interrupt context
1c5607b42d AP_RPM: fixed build for aero-fc
23c18335a3 Sub: failsafe_xxx -> mainloop_failsafe_xxx
6a80fe3c22 Sub: Remove DISALLOW_GCS_MODE_CHANGE_DURING_RC_FAILSAFE
1bd6480a41 Sub: Gripper is disabled by default
875fb3946b Sub: Remove remaining references to simple mode
d05454ec36 Sub: Remove ambiguous #define MAGNETOMETER
c2556dfe2e Sub: Remove helicopter log message
88ef426e22 Sub: Remove some dead lines
61d77c72fb Sub: Clean up stream rate var_info
ea8dbbf96c Sub: Remove HIL_MODE stuff
fc9eb797be Sub: Fix redundant call
4349eaba32 Sub: Clean up radio.cpp
1d3d6c064e Sub: Don't initialize ch5 mode switch
8634fb47ea Sub: re-arrange fast_loop for minimum latency
3df1aa09e8 Sub: Remove dead save_trim()
3b1827ca21 Sub: Remove throttle-zero flag
d794bf88cb Sub: Remove old/unused motor test code and motor_test.cpp
82cebe47dc autotest: (Sub) dont wait_alititude after mission
52d2ccaa29 autotest: Fix Sub RCInput channels
feb30b3b9b DataFlash: add mutex for WritePrioritisedBlock
2fa97c9906 DataFlash: improve privacy aspects of instance variables
33d0fa3e82 AP_AHRS: Fix an index out of bounds
7679b758b0 Plane: add parameter RUDD_DT_GAIN for dual motor tailsitter
a0cb34db57 AP_Landing: Leverage new nav_controller loiter radius interface
7b2da01836 Rover: Update for L1 constructor
876ffa351b Plane: Update L1 constructor for new arguments
93a18e7dc8 L1: Add loiter radius scaling based upon bank limits at sea level
2ac32ad204 AP_Navigation: Add a loiter radius interface
336b4a64d7 AP_Navigation: Whitespace (tab/spaces inconsistency)
6a837ca318 Sub: Correct mismatched log structure format
2940673994 default_params: (Sub) Remove old parameters from defaults file
f2d9f1585e Sub: Shift forward/lateral input channels up one to remove old ch5 gap
d629d4ba9e Sub: Change mode button function implementation
4e700ea4df AP_JSButton: Change mode button function implementation
69c9dbc286 Sub: Remove deprecated/unused CLI and AP_Menu
0e180f88ad Sub: Remove unused parameter enum values
fab139ecce Sub: Remove unused WP_NAVALT_MIN parameter
b4260c77be Add and update missing SITL command line usage information
06c073e448 AP_NavEKF3: Update tilt alignment check
c118deccb0 AP_BoardConfig: added BRD_IO_ENABLE parameter
acaef22416 Plane: improve transition from QSTABILIZE to FBWA or QHOVER
3defe584e7 DataFlash: extract common labels and formats into defines
9e5d6ab1e9 removed redundant code
510aa587ef DataFlash: add validation for logging structures
2746edfd32 DataFlash: move Init from LogFile.cpp to Dataflash.cpp (NFC)
a9b8e4b5d3 Plane: prepare for 3.8.0beta4
9e2cfabb8a AP_RPM: support RPM input on any AUX pin
564ff3a468 GCS_MAVLink: always allow HOME to be read by MISSION_REQUEST
4bfc3d46a2 Update Readme.md for Solo maintainer
36d8f730e1 Plane: setup better defaults for tailsitters
fafd940dd5 AP_Arming: use compass get_offsets_max()
ee2afd3242 AP_Compass: added COMPASS_OFFS_MAX
98b7dac870 AP_ServoRelayEvents: Remove constraint on 'channel' value
6ec32472c5 AP_Airspeed: average two readings for airspeed
48ae2f2de0 Plane: changed default THR_MAX to 100
4055869d7f Name added - gitsuccess.txt
724be3878c AP_HAL_PX4: correct output of system-id on px4-v3
b4d9397821 Copter: re-arrange fast_loop for minimum latency
a11dca5229 AP_AHRS: added optional skip_ins_update to AHRS::update()
0f671394e5 Rover: Creating Rover 3.2.0 BETA 1.
02976168cc HAL_PX4: fixed RC rate when BRD_PWM_COUNT=0
c952e58edb AP_InertialSensor: fixed invensense driver temp reading
41e54351d4 Travis: added testing of FMUv1 build
4932a8b9ef Airspeed: Sanity check MS4525DO data, and utilize a double read
6cd130a492 PX4NuttX: fixed FMUv1 build
8bb052d019 AP_Motors: update descriptions for new parameters
1793bac8d4 AP_Motors: add parameters for HELI_DUAL
d3b442d8b6 DataFlash_MAVLink: remove dead comments
d8c475ad04 DataFlash: use override keyword on many methods
65bd77cc67 PX4Firmare: fixed fmu init bug
38f0cd0957 Added myself to the GIT_Success list.
dbf95eaa57 PX4NuttX: setup I2C digital filter
d002643283 mavlink: added C++11 generator
61da757196 mavlink: fixed CRC check in mavlink2
9602345256 mavlink: submodule update
6a90257d2a Plane: fixed attitude logging for tailsitters
6c31a6982b DataFlash: added Log_Write_AttitudeView
5f02b7eddb AP_AHRS: added get_error_rp and get_error_yaw to AHRS_View
4cb43b1c27 DataFlash: correct repeated FMT logging bug
dcc4f69f7c AP_BattMonitor: confirm pec support before attempting to read voltage
884892be16 AP_BattMonitor: const some temp variables
6b4a46d467 AP_BattMonitor: fix to use the return value of get_pec_support
b052f96f6c AP_BattMonitor: check a PEC support using SpecificationInfo
eded4f90bb GCS_MAVLink: timesync sends nanoseconds
eddd6e5681 GCS_MAVLink: only respond to timesync messages with empty tc1
fdc310fe97 GCS_MAVLink: add TIMESYNC message handler
ec5bbbd2d0 DataFlash: fix BAR2 and BAR3 message format after baro log struct changed
5497030ebf Copter: version to 3.6-dev
587c50c1a1 Copter: Remove redundant nested #if CLI_ENABLED
b20b0fbbd3 default-params: Added parameter files for octa and octa-quad
442715ab1b autotest: Added new frame parameters for hexa, octa and octa-quad options
584890a864 AP_HAL_SITL: Fail motors with SIM_ENGINE_FAIL
204fcba8c1 SITL: Added SIM_ENGINE_FAIL to define failed motor
30dc71547e default_params: Added parameters for hexa testing in SITL
1b89021bf8 GIT_TEST: Added myself to GIT_Success.txt
21951569b7 Tools: Modified GIT_Success.txt
9979e4bbe5 AC_PrecLand: fix usage of distance_to_target
a772e1bd3d AC_PrecLand: add parameters for camera position relative to the CG
8f1d122766 AC_PrecLand: add ACC_P_NSE parameter
5dd5c22c39 AC_PrecLand: build IRLock on all boards
1fb6d468c6 AC_PrecLand: non functional changes including adding comments
2a29d7fedd AC_PrecLand: rework estimation, add EST_TYPE param
054aab738b Copter: remove const qualifier from do_precision_loiter
e3d6d4bcbe Sub: Implement JSButton function to toggle between forward/lateral input and roll/pitch input
1ad10d0903 AP_JSButton: Add button function to toggle between forward/lateral and roll/pitch adjustment
b70ec54083 AP_JSButton: Fix indices in comment
5f82984d7e Sub: Implement servo min/max button functions
ea054e322b AP_JSButton: Add servo min/max functions
030af45b34 Sub: Implement servo control button functions
ca651ea8fa AP_JSButton: Add buttons for servo adjustments
3aac2c114d Update GIT_Success.txt
0a93895812 Update GIT_Success.txt
2034918281 Added name to GIT_Success
16433cbf7a DataFlash: Log the ground temperature used for baro calculations
c37209a8d5 AP_Baro: Limit ground temperature used for the altitude
495358edbb mavlink: submodule update
5d642f98f5 Sub: add available memory to PM message
c76eadf4f6 Plane: add available memory to PM message
01206f9e59 Copter: add available memory to PM message
9cbfc4ddd3 Rover: add available memory to PM message
8387e1e69c autotest: added parameters for heli-dual model
6bb5c16fb8 Copter: allow for HELI_DUAL configurations
1ad5e1db4e AP_Motors: integrate AP_MotorsHeli_Dual
998231ab0d AP_Motors: added AP_MotorsHeli_Dual
5d06e4238f Plane: make the quadplane motors var_info dynamic
47803e73e4 AP_Param: allow for dynamic var_info tables
50523619b9 Copter: 3.5-rc3 release notes
dfe3922d82 Copter: modify pre-arm check wording
bff9189afc Copter: fixup fence pre-arm checks
c1a25c25f7 AC_Fence: return failure message
8171645876 AC_Fence: pre-arm check requires GPS if polygon fence enabled
69925d8b27 AP_Arming: shorten Accels failure message
c7a73e84d6 AP_NavEKF3: apply height innovation floor only when barometer is in use
c53125f3b5 AP_NavEKF2: apply height innovation floor only when barometer is in use
b32b552d1e Sub: Implement crash failsafe check/action
9d4b24c354 Sub: Move crash check logic under failsafe.cpp
bc5d9b1a19 Sub: Remove unused lost_vehicle_check
1a68fce2d0 Sub: Remove auto_disarm_check
4465d4ba69 Sub: Add some comments to describe failsafe functions
45328f220c Sub: set_leak_status() -> failsafe_leak_check()
7859f6426e Sub: Implement battery failsafe
6bd05e4bac Sub: failsafe_battery_event() -> failsafe_battery_check()
16fedbb9c9 Sub: Consolidate failsafe settings in defines.h
5809e2465b AP_RPM: replace board ifdef with feature ifdef
f91d23daab AP_HAL: add HAL_PX4_HAVE_PWM_INPUT
7c246847de AP_HAL_PX4: replace board ifdef with feature ifdef
7ca9c7a443 AP_HAL: add HAL_HAVE_SAFETY_SWITCH
ef1672befc AP_BoardConfig: replace board ifdef with feature ifdef
d3e9f7ce66 AP_HAL: add HAL_PX4_HAVE_PX4IO
7f5b551050 AP_HAL: add HAL_PX4_HAVE_MTD_SUPPORT
fab0358a0f build: document special fields in px4 boards
cc7633f272 ArduCopter: replace board ifdef with feature ifdef
c7fc3ffbc4 AP_HAL: add HAL_HAVE_BOARD_VOLTAGE
37a050eed9 AP_HAL: add comments and allow for board overrides
2e4e4365d0 AP_InertialSensor: enable fast sampling for aerofc
1018129ed9 PX4Firmware: submodule update
2ff720f99f Frame_params: add default params for Intel Aero RTF
9a83f05714 AP_BoardConfig: enable voltage monitoring on aerofc
7c1f255258 AP_HAL_PX4: add pin to monitor battery
05c5a2ac9b build: add adc driver for aerofc
ca8a9955fd PX4Firmware: update submodule
5787b5a5c5 AP_Compass: IST8310: rename macros
4bba643abb AP_Compass: IST8310: use variable periodic callback
ce1a13aa8f AP_Compass: IST8310: use FSR to reject samples
d84851d8fa AP_Compass: IST8310: improve initialization
c0691afc1f AP_Compass: reject outlier data in IST8310 data by detecting >14bit data
91dabbe418 AP_HAL_PX4: implement method to ajust periodic callback
8415fde697 AP_Compass: IST8310 chip does not follow right-hand rule format, flip z
b339050e45 AP_Compass: IST8310: account for errors in measurment requests
18ba1aa166 gitignore: do not ignore *.d inside PX4 build files
fd6df40745 ROMFS: do not connect USB for aerofc
81a9a70910 ROMFS: use different UART for errors in aerofc
3eb16fd881 build: PX4: install rc.<board-name> as init script
b1b07f4e70 build: make bootloader path relative to ROMFS
7d8bed8a55 ROMFS: standardize board-override script
8db111e0a0 build: do not add sercon for aerofc
2349909033 AP_BoardConfig: start mtd driver
da68612f4b AP_BoardConfig: make error function public and static
fb24a03faf AP_Baro: don't compile drivers for devices that don't use them
156efd6fec AP_Compass: use IST8310 for aerofc
fad583b259 AP_HAL_PX4: RCOoutput_Tap: map to [ RPMSTOPPED, RPMMAX ] range
5e26940070 AP_HAL_PX4: disable safety switch for aerofc
a682bb837a AP_SerialManager: uartA with 460800 baud for aerofc
b1a6b03cbf PX4Firmware: add upload tool to aerofc
d3df9c8d39 build: use dummy tone_alarm on aerofc
721e85c151 PX4Firmware: add dummy tone_alarm
20c5e9ec08 Add support for external mag on aerofc
327de91b5c AP_HAL_Px4: use RCOutput_Tap for aerofc
75977cd890 AP_HAL_PX4: implement motor output for aerofc
ce9013b8ee AP_HAL_PX4: add RCOutput skeleton for aerofc
87846fe049 AP_InertialSensor: use MPU6500 on aerofc
b4d0569339 AP_HAL_PX4: Use empty RCOutput driver for aerofc
00c2949dfb Add support for baro on aerofc
b17acfee12 Add aerofc support
d2aef41b08 build: add aerofc-v1 bootloader
197d99f38d PX4Firmware: update submodule
649ef0fc16 Plane: Only consider a takeoff as begun if the safety switch has been pressed
bc8a212b68 one SITL location corrected
bb2215bb9f Sub: Move failsafe functions into failsafe.cpp
0c4e426ddb Sub: Remove unused #defines from config.h
0b080c78d8 Sub: Remove unused gps_hdop_good parameter
65ad8ff7f1 Sub: Remove unused defines from old experiments
3934281b43 Sub: Remove esc calibration
b0e5a93099 Sub: Remove VELHOLD mode
5b4ec88f11 Sub: Remove one layer of abstraction for ServoRelayEvents.update_events call
cb38c66479 Sub: Move Notify update to ArduSub.cpp
2fa9d31787 Sub: Remove auto-trim
15a117dfb4 Sub: Remove ch6 tuning
6886952438 Sub: Remove simple mode
2d603c1cba SRV_Channel: fixed reversing on servo gimbals
353202e03c Copter: Fix parameter metadata
1b00dfb642 AP_GPS: Fix parameter metadata
a9a8521383 AP_OpticalFlow: Fix parameter metadata
646d68c76d AP_NavEKF2: Fix parameter metadata
84e5e088de AP_BoardConfig: Fix parameter metadata
ea8b870067 Sub: Increase timeout for MANUAL_CONTROL failsafe
0ea0f0c941 Sub: Update POSHOLD mode
4233ebd005 Sub: Improve depth hold behavior
fae6c084ac Sub: Add camera slew rate parameter
0966dcb665 Sub: Implement MAV_CMD_NAV_RETURN_TO_LAUNCH
e23bb6702d Add my name to GIT_Success.txt
af97a3974b Plane: initialise target height correctly on quadplane transition
1a781f44cc AP_Notify: Correct the display area clear of the text message.
c0238be345 AP_FrSky_Telem: fix sending messages 3 times
02c0885cfd AP_Frsky_Telem: fixes #5862
8a95550034 PX4Firmware: submodule update
5029dd1bab AP_HAL_PX4: GPIO: return correct FMU pin read even if IO not connected/detected
be04cf120d  doing my bit
f5e8facc87 Tools: LogAnalyzer: add NaN check
2aec41e0ef AP_HAL_SITL: Fix SIM_GPS_DISABLE not disabling the ublox GPS with PVT support
41fe4d0515 AP_Landing: fix to remove reorder warning
bb158a437e Plane: handle bad Q_FRAME_CLASS
1a374aa9f6 SIM_Gazebo: add a timeout to reset timestamp check
d4a0a92b8b SITL: cmdline reorder help and param for better readability and futher extension add missing options
29d35699f2 SITL: Gazebo, throw old paquet based on timestamp as we are using UDP Add some comments
d612209c19 SITL: Gazebo fix implicit cast
ee7355a301 SITL: Reduce some variables scope and include
8054405521 SITL: Change interface port to a generic solution for external simulator
6e0319d513 SITL: Add RCout port option to cmdline
a8d5079a38 SITL: Ensure that Instance parameter don't override manualy setted port
25fad0a8c2 SITL: Add more command line arguments for port selection.
5b8c89225a SITL: Make socket more verbose
567a8d68e5 SITL: Make socket error more verbose
8f2bdf51ea SITL: gazebo add socket drain
1bb4e3c9b7 AP_IRLock_SITL: make port variable
fb79c96448 sim_vehicle.py: add gazebo rover
63ea8c6f21 SITL: enable multi sitl for gazebo
fc4caf51e9 HAL_PX4: fixed RC failsafe for SBUS on FMUv4
551fa67673 Added myself to GIT_Succsess (and proud of it)
c35c722f4a Adding my name to GIT_Success.txt!
63da8dbb3c Update GIT_Success.txt
afb488c627 AP_GPS: fix implicit conversion warning from float to double
33f91b5af5 AP_Notify: whitespace changes
3a6f8d2136 AP_Notify: Preprocessor out EMOJI code group with character bitmap.
491b545fab SITL: fix gimbal connection on Windows
bcb0ead71a AP_Notify: improve display detection
bd4880b231 SRV_Channel: correct typo
7c817b2761 Adding SITL locations
4ee313c046 Build Rover: Fix build so correctly updates firmware-version.txt
c2c69702ba Update locations.txt
8212841b68 Rover: Bringing the releases notes up to date.
cfb11729a6 Rover: Setting crash detecting to off by default.
304c9b6e72 Rover: Fixed a bug in reverse
3410db5022 Rover: Fix motor_active check to checkout throttle output servo
2ef6473816 AP_ServoRelayEvents: fix do_set_servo
15d96b4b5d Copter: release notes for 3.4.6
54b852ebfe Copter: fixed var table loading for heli single parms
132979b12f AC_PosControl: protect against POS_Z_P,  ACCEL_Z_P divide-by-zero
d4c4daca16 AC_WPNav: speed-up and down parameter min to 10cm/s
8c6c2e46cc AC_WPNav: protect against LOIT_SPEED divide-by-zero
6ea2a74c54 Travis: split build of v2/v4 into separate builds
c2905fc7f6 Update
e3a8d477f5 Plane: improve tiltrotor transition strategy
3f7e7d456f Plane: in fixed wing mode slave quadplane attitude rate controller
2db8589f49 Plane: smarter Z controller initialisation for quadplanes
dd4f56dd98 Plane: added PIQ messages for quadplane PIDs
e3bca10e9a Tools: fix Solo param file name
6e47eaf3c2 Tools: initial Solo default params
ed66190ca2 Sub: log home and origin on logging start
0e175179a6 Plane: log home and origin on logging start
dae1567d6c Copter: log home and origin on logging start
3a7c541145 Rover: log home and origin on logging start
5fdebe23cc AP_TECS: disable bad descent for soaring
9f2f070439 AP_Soaring: adding const qualifiers to some of soaring controller's methods
2b2fed735b AP_Soaring: fixed SOAR logging
42f5b5a232 AP_Soaring: fixes for matrixN changes
819c70494f AP_Soaring: added SOAR_ENABLE_CH parameter
35d406aeab Plane: added a soaring controller to Arduplane
a1fa2a9de3 AP_Math: added matrixN for soaring controller
a3f3097941 AP_TECS: added function to reset integrator
acddf6bdf3 AP_SpdHgtControl: added function to reset integrator
ea534f0445 AP_Soaring: added AP_Soar library, formerly known as SoaringController
ddfe55849e mavlink: submodule update
375f7b15ff Copter: 3.5-rc2 release notes
7afcbf51ec AP_Math: also fix SEC_PER_WEEK
1982285e23 AP_Math: update MSEC_PER_SEC definition to fix GPS time calcs
b82098ca44 AP_GPS: fix blended ground course
3e628f30ff AP_GPS: fix blending when accuracy reported as 1mm
f340c118d4 AP_Arming: GPS blending health check renamed
2002827de3 AP_GPS: rename pre-arm blending health check
e9c881c668 AP_GPS: stop blending if too many blending failures
b7ad8da9b9 AP_GPS: minor bracketing fix
5de64273ec AP_GPS: more efficient initialisation of blending arrays
81b20e971b AP_GPS_UBLOX: use get_rate_ms accessor
ef1399a52f AP_GPS: fixups after peer review
2f21e3b40c DataFlash: rename GPS3/GPA3 to GPSB/GPAB
4f0333892d AP_Arming: clarify GPS inconsistency message
8140353c64 Copter: log event when primary GPS changes
b30d743812 Copter: AP_Arming calls parent's gps checks
e398bb5c68 AP_Arming: make gps-checks virtual
9f21649dc0 AP_Arming: add gps consistency and blend health check
729ce34ce3 AP_GPS: add all_consistent and blend health for use as pre-arm check
72dfe1127f AP_GPS: protect parameters from being accessed externally
3172657f26 AP_GPS: move constructor and complex accessors to cpp file
0066022a7f AP_GPS: check for valid instance in highest_supported_status
e764f0d5d0 AP_GPS: sanity check update rate
6b26bdd454 AP_GPS: Add option to blend  multiple GPS receivers
cd379b0e86 AP_GPS: move time_epoch calcs into proper file
a79474dcbc AP_GPS: minor comment fix
201504dbae AP_GPS: remove unused get_antenna_offsets()
2d0258b6a2 AP_GPS: remove unused highest_supported_status(void)
ac86c7999b AP_GPS_MAV: set have_accuracy as boolean
a82b6929f1 DataFlash: Allow logging of blended GPS instance
56a9e2c462 AP_NavEKF3: Reference correct derivation
44fa82d58c AP_NavEKF2: Reference correct derivation
18927395d7 AP_NavEKF3: log correct GPS for replay
407a60e599 AP_NavEKF2: log correct GPS for replay
01551a4423 AP_NavEKF3: handle position jump caused by change in GPS receiver
8c46d4316b AP_NavEKF2: handle position jump caused by change in GPS receiver
341b926a43 AP_HAL_SITL: add glitch for 2nd ublox
07ce7b8bd6 SITL: add GPS2_GLITCH parameter
8c64728ffd autotest: Add auto mission to Sub autotest
13b2b76cfe Sub: Enable circle nav parameters, and set default circle rate
7c552d3545 Sub: Remove unsused aux switch code
c1959952b3 Sub: Bug fix for camera_tilt_smooth() conflict with RC_CHANNELS_OVERRIDE
0ce2896e22 Sub: Remove rc receiver code
5acfc164df Sub: Implement crash check
93c6f64a91 Sub: Clean out/remove references to old landing code
9f5605ff57 Sub: Implement DO_NAV_LAND commands.
fb9499fc6d Sub: Clean out defines.h
40a27814e0 Sub: Remove unused flight modes
e4ff445ea7 AP_GPS_GSOF-NOVA: fix last_gps_time_ms
1bd863e36b ROVER: stop mission when leaving AUTO
1d70a337dd Copter: remove unused desired_climb_rate variable
8dc09440d8 Sub: Implement guided mode
c3b047cc5d Tools: Update runplanetest.py to reflect reworded ground start messages
9e893eacd1 Plane: Change some user facing statustexts
9e1345453f AP_HAL_Linux: BBBmini remove onboard OpticalFlow
ac60ddfdde AP_OpticalFlow: allow to search on I2C bus 2
ad208cab56 AP_OpticalFlow: BBBmini remove onboard OpticalFlow
81da61a68d AP_HAL: BBBmini remove onboard OpticalFlow
2f8e9db606 autotest: fixed update of pymavlink
de3e7e950a mavlink: submodule update
e4c9255cb9 PX4Firmware: submodule update (FMUv4 dma)
be1fd147fc Arming: Remove the SITL protection around GPS configuration, and rely upon the GPS library instead
398ff823c0 AP_GPS: Always consider ublox as configured in sitl
f6687a2d6c AP_Baro: fix example output
4a3917a349 Sub: Run rate controllers before AHRS/EKF update
8a24b074f7 Sub: Disable external baro check for SITL
15a7f7742f Sub: Implement circle mode
b98573d55f SITL: Improved Sub simulation
97396e65d1 Sub: Disable manual control failsafe for SITL
1ec592a2c5 Sub: Implement NAV_CMD_LOITER_TURNS
ca38a344f8 Sub: Remove unsupported autotune
dacdd542b7 Sub: Remove unsupported compassmot
44bcd74a57 AP_GPS: Remove dead SBF code
7a7f8eb7c1 AC_Avoidance: only stop below alt-fence if fence is enabled
3e039a6ba4 AP_NavEKF3: minor formatting fixes
a80c0a231d AP_NavEKF3: attempt to set-up every core
7a8783f35e AP_NavEKF3: Fix bug preventing reset to GPS
b7c4945000 AP_NavEKF2: Fix bug preventing reset to GPS
7f11cf3ca6 AP_Mount: Remove solo gimbal from the minimal build support
8e1d065d4e scripts: Generate Sub parameters
2631bdbe64 Add name to GIT_Success.txt
ca4cbaeb39 Copter: run rate controllers before AHRS/EKF update
67097c8d59 AC_AttitudeControl: use gyro_latest
d3aca5544e AP_AHRS: get_gyro_latest returns latest rates from IMU with drift correction
1bc1e3faeb Sub: Update Notify pre_arm_gps_flag
0803371956 Sub: Default mavlink message handling to GCS_Common
e2a41c0a6c Sub: Implement reset all params via MAV_CMD_PREFLIGHT_STORAGE
ce978595cd AP_BoardConfig: added support for ICM-20602 detection
875274e761 AP_InertialSensor: added support for ICM-20602
e7024d9203 AP_Landing: restructure parameters into a structure
041fe38ba6 Plane: Update build tools for deepstall PID dependency
547d06febf AP_Landing: Add deepstall support
cf10b7b841 Plane: Add support for landing PID's and servo control
8b20577b74 AP_Landing: Add a servo override interface and PID logging interface
ed359a5833 Dataflash: Add landing PID logging
1bb806edb2 Plane: Use new landing interfaces
c10fe2e7a4 AP_Landing: Add more interfaces from vehicle code
0ad46c2f72 Mavlink: Update submodule for landing
2f202441a0 PX4Firmware: added more wildcard patterns for board upload
c5c94949bf AP_Math: Extend vector2::angle(vector2) to distinguish parallel and antiparallel vectors
a62d728933 Sub: Move arming checks under AP_Arming_Sub
d21cd513cd Sub: Add AP_Arming_Sub class
abcc75009d Plane: move relay init earlier
05cbc19ad6 AP_RangeFinder: added type 15 for LidareLiteV3
cf3db7560c AP_BoardConfig: fixed AUAV21 board ID to not overlap with VRBrain boards
507b461388 AP_Motors: Initialize throttle range directly
b86513f503 AP_InertialSensor: support AUAV21 board
37c9e08316 AP_Compass: support AUAV21 board
d5cad2ae44 AP_Baro: support AUAV21 board
1989f31ae3 AP_BoardConfig: added AUAV21 board type
d79403707b AC_AttControl: add feed forward param descriptions
fd94ab43fa AP_Proximity: minor fix to param description
e8c5612587 Copter: fix reference to PosControl param descriptions
2c4e6a8fb6 web-firmware: Add Sub link to firmwares page
262f3213e7 Sub: Ditch relative include path
8afb7fc96a Sub: Remove call to set_esc_scaling
36bcabb4e4 SRV_Channel: add constraint to move_servo
eea7459c3c PX4Firmware: critical fix for oneshot
c9ff028ec3 Tools: update IRIS param file for AC3.5
7b3af58634 AC_Avoidance: fix AVOID_ANGLE_MAX parameter description
eb746eaeef Plane: fix SYSID_ENFORCE parameter description
b8f24fba98 Rover: fix SYSID_ENFORCE parameter description
627e3faf41 Copter: fix SYSID_ENFORCE parameter description
cc67335b26 Tools: update EnRoute frame parameters
51c97af5b5 Rover: Reset home to AHRS location rather then snapshotting GPS
fbf6050876 Plane: Reset home to AHRS position rather then snapshotting GPS
adf215998f SRV_Channel: added MotorTilt to docs for SERVOn_FUNCTION
0d1bcd3b94 Copter: added automatic yaw to autotune position control
fa119f8231 Copter: enable poshold in autotune only from LOITER or POSHOLD
37fca03db3 Copter: implement simple position hold during autotune
2b43c6aeed DataFlash: log range finder orientation
6798162a98 Sub: use only downward facing rangefinder
f29fe8bb88 Rover: always specify rangefinder instance
87df06c45f Tracker: update rangefinder declaration
c0f155fd27 Plane: use only downward facing rangefinder
c100f53ee6 Copter: add upward distance to proximity logging
34726208b2 Copter: clarify CHX_OPT avoidance and adsb-avoidance
51c00f8144 Copter: use only downward facing rangefinder
bc89432019 Replay: fix rangefinder instantiation
e725ae866b AP_OpticalFlow: fix example sketch
a74833a04a AP_AHRS: fix example sketch
65c8f87b17 AP_Frsky_Telem: only use downward facing rangefinder
3f6a734a71 AP_NavEKF3: only use downward facing rangefinder
563be389ee AP_NavEKF2: only use downward facing rangefinder
a093bcb05f AP_Proximity: add rangefinder driver
c98e598ae2 AP_RangeFinder: fix example sketch
e7dd21a0bb AP_RangeFinder: remove primary, add orientation
49f4afc2a1 AC_Avoidance: add 2m margin to upward avoidance
d170396acf Notify: Display: blank text line after 10s
da03cf29d6 Notify: Display: pad GPS status/sat count to fix stray chars
f972fed70b AP_HAL_PX4: rename method to follow AP_HAL
686e0f08d6 AP_HAL: RCOutput: add optional timer_tick() method
a589a84e32 ArduCopter: just call set_throttle_range()
ade1876318 AP_Motors: tie esc scaling with set_throttle_range()
e1eda3066c AP_HAL_PX4: SPIDevice: add missing ifdefs
2d50eb312c AP_InertialSensor: add support to MPU6500
8002df6e45 AP_HAL: add MPU6500 defines
4ff5bf5af5 Plane: zero integrators and set throttle mix
e5ed20d6f7 AC_AttitudeControl: added set_throttle_mix_value()
c061d5615b Plane: added manual input mask for tailsitter prop-hang
3bb25eb194 Plane: added Q_TAILSIT_INPUT
ea5186340b Plane: added Q_TILT_RATE_UP and Q_TILT_RATE_DN as separate parameters
ec15f0fee5 autotest: Add Sub
289aab06bc scripts: Add Sub
25663f5740 wscript: Add Sub
81935f6b7c Sub: Handle RC input for SITL autotest
053f0b4ce7 Sub: fixed AHRS_View update
e744460ff5 AP_AHRS: mark many functions as override
6ee4045878 AP_AHRS: mark new relative position functions override
35f876f853 AP_AHRS: examples: correct AHRS_Test
4ed7fb154f AP_AHRS: supply missing get_relative_position_D_home
24647fb2b0 AP_AHRS: make get_relative_position_D_home pure virtual
e2f15e5fdb Tools: create a GCS_Replay class
d6807d749c GCS_MAVLink: make send_statustext virtual
3f7d58fe2c sim_vehicle.py: allow a list of defaults files to be specified
c93942695f AP_Param: load parameters from a comma-separated-list
fe189fefbc AP_Param: Factor load_defaults_file (NFC)
0a381dfa1b AP_HAL: document method to split transfers
32d208dbe8 AP_HAL_Linux: move check for _split_transfers
df1da3c14e AP_RangeFinder: setup for split I2C transfers
a2e445cf24 HAL_Linux: implement set_split_transfers() API for I2C
dc26cbc074 AP_HAL: added set_split_transfers() API for I2C
8f252c4983 Rover: Incrementing version number to 3.2.0-dev
4ccd59f394 Plane: allow exiting loiter_to_alt in cases where you get stuck
f5c89117f6 Replay: remove unused variables
64d4e094fb Tools: sim_vehicle.py: correct formatting (NFC)
b256bc1dc0 Tools: sim_vehicle.py: add a warning when frame not found
3be8c1e70b Tools: sim_vehicle.py: move metadata into _options
fec23f6abe Tools: sim_vehicle.py: print possible frame types in help message
dd9de7dfb5 Tools: sim_vehicle.py: improve help about vehicle types
83b75db6b0 Sub: Increase interval between failsafe warnings
8495384031 Sub: Don't send battery percent remaining estimate
7b483a1460 AP_GPS: Ublox, always quickly set the rates until we have fetched the version
76dabf2dd9 AP_ADSB: cleanup
5adbf9b232 AP_ADSB: populate altitude via pressure for ADSB-Out
1de198883d AP_NavEKF3: Check gps vertical accuracy for aligning the GPS
8b69f1708e NavEKF2: Add optional check for GPS vertical accuracy before aligning the EKF
61023fc636 NavEKF: Add GPS vertical accuracy to nav_gps_flags
cde1452da3 AP_Motors: Use fabsf instead of fabs
870183f26b AP_TemperatureSensor: Use powf instead of pow
b4be9682df Sub: Add explicit cast to supress warnings
8c67c16664 Sub: Implement relay joystick button functions
06b394bf43 AP_JSButton: Fix param metadata for relay enum values
a4c5247fba Plane: prepare 3.8.0-beta3
69a10042eb Plane: always stream RPM data over mavlink when enabled
67486dc3f0 Plane: always log RPM when enabled
fb214ef95f AP_Baro: fixed spelling in comment
ec0b073fbc Sub: Check for BARO_TYPE_WATER before assigning depth sensor
84c3c0d234 Sub: Add support for AP_AHRS_View
68a7534f2c Sub: Use AHRS_VEHICLE_SUBMARINE as AHRS vehicle class
88b3e7e11d Sub: Use default StorageManager layout instead of copter layout
8c87868b5c AP_AHRS: Add submarine vehicle class
840521ac8c Sub: Remove transect mode
7b214a0088 Sub: Clean up parameter conversion code
dcafb2c894 Sub: Default FS_LEAK_ENABLE to FS_LEAK_WARN_ONLY
36096550b8 Sub: Set frame type flag for AP_Param
279b11e392 Sub: Set GND_EXT_BUS to 1 by default
ee07a06fa2 Sub: support for a GCS singleton
6fb2a6814f Sub: rename gcs[] to gcs_chan[]
1990aa7829 Sub: Update stale references to Copter
65cd28cc6c Sub: Only save baro calibration parameters when user zeros
942d6450d2 Sub: AP_Baro library takes care of baro type
fb8a61df22 Sub: Fix RC and SERVO parameter paths
3f38b99585 Sub: Set BRD_SAFETYENABLE to disabled by default
93e422ad53 Sub: Refactor MSG_RADIO_OUT to MSG_SERVO_OUTPUT_RAW
3031aab15b Sub: Remove reference to gps.crosstrack_error
2d29698df8 Sub: Use AP_Baro::baro_type_t
cb0cf2035d Sub: Refactor to fence.get_safe_alt_min() and fence.get_safe_alt_max()
868be023ee Copter: Refactor fence.get_safe_alt() to fence.get_safe_alt_max()
5829d4b645 AC_Avoidance: Refactor fence.get_safe_alt() to fence.get_safe_alt_max()
9c0ddf2808 Sub: Remove stale comments and devlist from ArduSub.cpp
4112fd1316 Sub: Remove mode header
8d60a34474 Sub: Switch to AC_PosControl_Sub
565afc23ad Sub: Switch to AC_AttitudeControl_Sub
5233b25910 Sub: Format all C++ with Tools/CodeStyle/astylerc
ea05804a94 Sub: fix frame report and -Wundef warning
e0cd1d0679 Sub: Remove frame-specific waf targets
16d27c05ea Sub: add version.h (missed in rebase on ardupilot master)
ed87bd9e59 Sub: fixes from rebase on ArduPilot master
e7a34b0fb3 AP_NavEKF2: Add set_baro_alt_noise method
e7caf05238 AP_HAL_SITL: Add support for Sub
613bc46592 AP_Baro: Add support for water pressure and Sub
3c6df7cc0e AC_Fence: Add minimum altitude limit
0e124d0be5 AC_PosControl: Add AC_PosControl_Sub class
925fa5d214 AC_AttitudeControl: Add AC_AttitudeControl_Sub class
3e97cc5b46 Sub: Log manual control failsafe occurances
852374ab4d Sub: Manual control failsafe
029cf3b388 Sub: Update to library changes
ac1e1b9460 AP_NavEKF3: Add set_baro_alt_noise method
098a716d41 Sub: Add TSYS01 'celsius' object
ca603e1517 AP_TemperatureSensor: Add AP_TemperatureSensor library and TSYS01 driver
c54e464e8c Sub: Update release notes for v3.4 release
6bc84a0e9a Sub: Finalize frame definitions and frame config metadata
6b3610ea70 Sub: Set frame configuration with parameter instead of make target
7c849f1e52 Sub: Fixup parameter metadata
173ee85ac7 Sub: Send invalid PWM to servo rail before rebooting
d237887d08 Sub: Require initial contact with GCS before entering failsafe.
7121910fa7 AP_Compass: Set default learn parameter to disabled for Sub
48d5bf7cff Sub: Change default depth hold pids
10ff379938 Sub: Change software type to 40 to identify as Sub instead of copter
bb3e32d391 Sub: Make checks stricter on flight mode init
3ddb714e20 Sub: Change default depth control parameters
21b5309e5d Sub: Configure default flight modes
b7e419cf9c Sub: Configure default joystick buttons
9ec79ab654 Sub: Remove RC radio failsafe
23122f4b90 Sub: Add camera tilt servo center parameter
6562e14634 Sub: Change default GCS failsafe to disarm
5bd2af6b77 Sub: Add throttle channel gain scalar parameter
e61bf46882 Sub: Implement mode_toggle joystick button function
b108620742 Sub: Change default pwm frequency to 200Hz
2bb3286faa Sub: Return MAV_RESULT_UNSUPPORTED for compassmot calibration
7b1347da79 Sub: Initialize control mode to flightmode 1
544ea2ecd4 Sub: Fix parameter metadata
4278ae8a64 Sub: Fix surface/bottom detector logic
fdf9e5fde0 Sub: Fix unused variables in acro and stabilize
45de3b1163 Sub: Disable Avoidance and Proximity by default
d11b07bd4f Sub: Remove PILOT_THR_BEHAVIOR parameter and disable auto_disarm_check()
cfc94b65f5 Sub: add AP_Beacon to wscript
8d2203b437 Sub: Remove use of throttle-hover
d83898db8c Sub: Change EEPROM format version to 1
538e3f9c8f Sub: Reorganize parameters
e66ba2ad74 Sub: Hide Circle Nav parameters from user
0d575681de Sub: Remove RTL
23e460d71d Sub: Disable Rally and Terrain by default
bb762092e8 Sub: Disable optical flow by default
3010114adb Sub: Disable CH6 Tuning
69d89c5871 Sub: Remove LAND parameters
19afd7a3dd Sub: Remove simple mode parameters, and disable simple modes
9aa05e1195 Sub: Remove (unused) PHLD parameters
ae4e53fc3f Sub: Hide Aux Switch parameters from user
f10f1a0bae Sub: Remove throw mode
4571dbc57c Sub: Fix -Wundef compile warnings
cfaf08ad31 Sub: Remove frame_orientation parameter
eeadfa0d92 Sub: Disable TRANSECT parameters
6426ceec27 Sub: Disable RCMAP
ee8670e73d Sub: Disable RPM
57013583ac Sub: Remove TELEM_DELAY parameter
4cb9ee947b Sub: Disable autotune parameters
9c5b304626 Sub: Remove RSSI
7e1c63aba3 Sub: Remove sprayer
9503e8d140 Sub: Remove ADSB
8aebeac6d7 Sub: Remove precision landing
db56bdf8b0 Sub: Remove landing gear
7b5d209aba Sub: Remove parachute
d75919eadc Sub: Remove deprecated parameters
a430f5a7ae Sub: Remove land/landed code
b6d76912cf Sub: Remove takeoff code
41d892666b Sub: Remove Drift mode
bc4084931f Sub: Remove Brake mode
2959ecc70f Sub: Remove Flip mode
e2f75d2451 Sub: Remove old RC-style arm and disarm checks
dd2d0711c0 Sub: Remove baro ground effect compensation
26fd201672 Sub: Let AC_PosControl handle z axis limiting at surface
6682e93bf3 Sub: Refactor delay()
cbddc7d814 Sub: Remove control_switch_state struct and reset_control_switch()
8367bb4626 Sub: Ditch control mode RC switch logic
eb9aa93486 Sub: Remove dead poshold function declarations
b4250bac6f Sub: Fix parameter metadata
e1065ff5d4 Sub: Change default arming check parameter to ARMING_CHECK_NONE
9ef9afd26d Sub: Constrain camera tilt goal to servo output limits
0faf2a1f8e Sub: Add cam tilt and lights step size parameters
5cc1d3293d Sub: Add gain parameters
5eb50d5d21 Sub: Log leak failsafe events, and send statustext even when disarmed
cd6ce2b208 Sub: elevate leak statustext message to MAV_SEVERITY_CRITICAL
f9622f7205 Sub: Remove statustext messages for surface and bottom events
93022a8a5e Sub: Update to match recent upstream changes
974af85f42 Sub: Check if depth sensor is present for sensor reporting
456f5e2e93 Sub: Update Sub to match relevant Copter and Library developments
4704faf60d Sub: Revert to 29f8ce95, prior to deadzone PR
e49f6fb8a6 Sub: initialize scale factor for dead zones correctly
330d31189e Sub: use get_throttle_control_dz in place of throttle->get_control_in
5ea7d3443d Sub: force min/max/trim on inputs 1~7
0b0cda02cc Sub: add method to get throttle channel control_in, while applying deadzone to center like angle type channels
7e7e53f517 Sub: Add method to uniformly scale the dead zones on all channels
a3565c90b5 Sub: Apply deadzone by using norm_input_dz instead of norm_input
36f3cae535 SITL: Add support for Sub
aec7091faa autotest: Add support for Sub in sim_vehicle.py
4cad8af600 Sub: Reenable rally to avoid errors.
e8f9b044ef Sub: disable transect mode, and hide associated params
2cb2633764 Sub: initialize pwm input on control channels to 1500 instead of 0
dcc96a5705 Sub: First attempts at AUTO mode
96303c3092 AC_WPNav: Add accessor for origin, and make get_bearing_cd() public
3da4dc7089 Sub: home altitude is always 0, referenced from water's surface
ad60e8476f Sub: add method to translate wpnav roll/pitch output to forward/lateral
d3442ae16b AP_RangeFinder: Bugfix for mavlink rangefinders to include out of range low/high
2c62158e20 Sub: turn counter improvements
0699acfcf0 Sub: Change LeakDetector parameter group name
ffa491b805 Sub: Add placeholders for new button functions.
56207ac284 Sub: AP_WaterDetector -> AP_LeakDetector
88e234272f Sub: add params for internal pressure/temperature failsafe actions
70d58cd0bc Sub: only update surface/bottom status when armed.
579f58e9f2 Sub: hold absolute heading in depth hold and poshold
9426849b8d Sub: Change default ATC_ACCEL_Y_MAX to 110k cd/ss
1143f98fad Sub: Add GCS warnings for high internal pressure/temperature
8f6b3900a3 Sub: stop pwm output before reboot
c62e882886 Sub: update control mode descriptions
0085cc8a27 Sub: rename modes loiter->velhold, sport->transect
e844e28a77 Sub: Replace sport mode with transect mode
3997bbcd8c Sub: new poshold mode implementation
5911785455 Sub: Add leak and gcs failsafe actions
e2a7ba5b0c Sub: replace land with surface mode
e1bf217422 Sub: remove heading hold debug message from stabilize
daccdec13c Sub: Hold absolute heading in stabilize mode
f4ad42c276 Sub: Update Notify with leak status
f3fa8403f8 AP_Notify: Add tone and light pattern for leak detection
a217b4c684 Sub: lock out depth hold mode if no external sensor is present
4a1c6fc46c Sub: Fix waf build for water detector.
b364d94c43 Sub: Warn for leak detection
a811cfe7fb Sub: Add WaterDetector object and parameters
bd2e37ae3f Sub: add WaterDetector to build
9c8fca02d9 AP_LeakDetector: New library and analog/digital sensor drivers
5a99da106a Sub: Force ch 3 trim to 1100 to match hardcoded radio settings
967ead31db Sub: Hardcoded scalars for manual mode to match stabilize mode
e1882d9596 Sub: Fix camera low pass filter and allow button holding.
f6b0d47e8e Sub: Change info print for gain changes.
f19442389e Sub: Add identify to speak gain and input hold messages.
a6a1004ff9 Sub: Remove unnecessary failsafe from motor test.
69cd30fd8e Sub: Revert "Sub: Remove gain control from joystick file."
e9c2ad9192 Sub: Changes to match upstream Copter changes.
1633ffb4e4 Sub: Reduce flight mode parameter options.
9534f41a53 Sub: Fix control_manual compile warnings.
2b822d0c55 Sub: Change altHold to depthHold for parameter values
4a25ed2d95 Sub: Change available flight modes in parameter values.
90580621de Sub: disable rate controller in manual mode
6696119ec7 Sub: allow arming from manual mode
38be177e47 Sub: Add manual mode functions
e016e906f5 Sub: Create new Vectored 90DEG (6DOF) class
0a6fc0cc43 Sub: Remove gain control from joystick file.
f19c20b29e Sub: Add low pass filter to camera tilt input
5adcb2cbef Sub: Changes based on diff with Copter.
814605c461 Sub: Make changes to match Copter changes
accbbce304 Sub: Turn counter (#23)
d3f5f59b8c Sub: fix surface bottom detection
fa5af82d4c Sub: Update default params
2ca103bbda Sub: Set crash detection to off by default
7265351a0d Sub: Fix joystick scaling to 1100-1900 range
9198b8cb29 Sub: Changes to match recent Copter updates.
7e33957af2 Sub: Fix typo in defines.h
26d0a922c1 Sub: Changes to match recent Copter updates.
e857f20784 Sub: Changes to match Copter
cf8e5f1337 Sub: Improve joystick button debounce
b97b6b8f8a Sub: Improve joystick button debounce and input hold
203b7fbaba Sub: Implement joystick button arm toggling
ae0e5dcb4b Sub: Implement video switch feature on joystick button
1447ba4c20 Sub: Implement input hold joystick button function
d628b0d022 Sub: Add 'SimpleROV' frame configuration for 3/4-dof ROVs
c711fedc4c Sub: Add camera source toggle and input hold button options
f26602ab6d Sub: Update param descriptions for better processing to QGC
80cb18335f Sub: Update default configuration options
4eb78aefdc Sub: Add missing terrain.cpp file
7ad2496f7b Sub: Update SURFACE_DEPTH param description
617b439d0e Sub: Match Copter changes
37118920ed Sub: Add upstream Copter changes.
95a9108a72 Sub: Clean parameter meta data for QGC
ca1ac03ecf Sub: Change to MAV_TYPE_SUBMARINE for GCS plugin
c082bd3c33 Sub: Set mode to stabilize be default
bf00aacc42 Sub: Add default deadband for lateral/forward
3b679808f3 Sub: Match Copter changes.
d0130136f0 Sub: Add pitch trim to joystick.cpp
3670fc3547 Sub: Change default pilot gain to 50% and add 25% option.
3c6b6ba8e9 Sub: Fix handling of SET_HOME_POSITION
c1f05b9e25 Sub: Match copter mode change stuff
99ad33411b Sub: Add pilot gain control
cc00feac29 Sub: Repair motor outputs for ROVs for +/-1.0 range
837f429bf0 Sub: Refactor 'strafe' to 'lateral'
3a942434e7 Sub: Change to cmath header.
eb6734083d Sub: Remove readme.txt file.
1252f6c03e Sub: Repair build
7e7b7c9afb Sub: Add low pass filter (from Copter)
46a9cea0be Sub: Update to match upstream, part 2
684bc249b6 Sub: Update to match upstream, part 1
e0d3eba5a4 Sub: Match Copter changes
802f4f617f Sub: Clean joystick code with helpers
ef53455e2d Sub: Implement joystick button actions
44904760cc Sub: Add JSButton parameters to necessary places
9d3bf13cff Sub: Add JSButton library to makefile for Sub
116f166a78 AP_JSButton: New library to map joystick buttons to vehicle functions
1a28ba3762 Sub: Add AP_JButtonMapper to wscript
af3807bc57 Sub: Move joystick interpretation to joystick.cpp
5ee68aee42 Sub: Fix compile error in control_althold
85f972ec65 Sub: Update to match Copter changes.
bd596c8ead Sub: Increase depth update rate from 10Hz to 25Hz
cd31451eb5 Sub: Refactor userhooks
39fd3054c9 Sub: Make ap.land_complete always false
577240b8d4 Sub: Fix units for surface_depth parameter (cm)
0c73ad5f4b Sub: Fix units for surface depth
9fabd7ced7 Sub: Changes to match Copter
ceab2ae759 Sub: land mode will surface the craft
fa4adee7a0 Sub: fix surface units for alt_hold
d159320ac0 Sub: Add throw mode to match Copter.
bde64bc919 Sub: top and bottom detection working well
b36300135a Sub: Add surface and bottom detection capabilities
66ff7844c2 Sub: change surface/bottom message severity to INFO
8cd41d305d Sub: Make surface_depth a parameter
19bac9a265 Sub: Config change to match Copter
58d1e18614 Sub: update the surface/bottom detector
8ff479ca1e Sub: Enable altitude fences for sub
00e1c847a6 Sub: top and bottom detection working well
de669c1d41 Sub: Change M_PI to match Copter.
584171cf3c Sub: Change gamepad controls for light brightness
48983c38f8 Sub: Top and bottom detection working for alt hold
8b337a9c7e Sub: Do nothing for update_throttle_thr_mix
e8b27b9d19 Sub: Removed unneeded control_rov.cpp.
b6a0237a63 Sub: Add surface and bottom detection capabilities
3869ce55e8 Sub: Changes to match Copter updates.
473016b41d Sub: Add support for Vectored 6DOF ROV
6cf24c2770 Sub: Remove heli support from sub.
105eae0e86 Sub: Remove ADSB support
5d78cacd58 Sub: Remove old file to match Copter
ccb6434831 AP_Scheduler: Set main loop rate to 400hz for Sub
c7bd04966a Sub: Temporary fix for nav check arming failure
6a12ff1f27 Sub: Revert MAV_TYPE to HEXAROTOR for mavros compatibility
94c7de36e1 Sub: ensure that gcs and crash failsafes always happen
1d0ddcc270 Sub: Changes to match Copter updates
65a1d4fca1 Sub: Update build script and added to build_ci.sh
0e2f0321f9 Sub: Address safety issues and ensure motors disarm during gcs failsafe
eb76fc7a3c Sub: Add light control to joystick
fb64195cc7 Sub: Change default build frame type
59926f99b9 Sub: Add solo shot message fixes
1d627a23ed Sub: Added COMMAND_INT message type
1853935b71 Sub: Fixed ROV motor parameters
771ce2f607 Sub: Separated motor files and frame types
321e92cf4c Sub: Minor bug fix in radio.
fc1f28ff2a git: Ignore Build.ArduSub/*
44c9efad50 AP_Vehicle: Add the ArduSub vehicle type.
c15d7299fa Sub: Sub changes to match newest Copter changes
c31ccd242f Sub: Remove unneeded camtilt input.
02b8069270 Sub: Fix ADSB file for compilation.
12464ab5b2 Sub: Added roll trim using gamepad buttons.
077b0283f3 Sub: Update camera mount for changes.
22b4c93101 Sub: Set EK2_ALT_NOISE on startup according to baro sensors detected.
b08e1e6919 Sub: Update land mode to move up instead of down.
e805dd5e30 Sub: Update land detector for sub context.
2837fac593 Sub: Fixed joystick button persistance issue.
511a87c066 Sub: Fix build error.
a299528194 Sub: Some more tweaks for water pressure. Change throttle_zero to mid stick.
3f4a6101ad Sub: Added mode switch to joystick buttons.
0bb4ab4dc9 Sub: Update Sub script to match others.
c6b3f46e04 Sub: Enabled control modes to operate at zero throttle
fc6f793aab Sub: Fixed joystick to camera tilt control direction
3af1dc8c93 Sub: Add support for external pressure sensor in ROV context.
1d9e037e95 Sub: Complete motor reversing parameters.
caa089c869 Sub: allow partial builds with new mavlink as submodule
af5bb3869a Sub: Implement cam tilt
83ff3931b8 Sub: Refactor "Copter" to "Sub".
aaf9bec83a Sub: Added joystick button arm/disarm
aab1f6ae69 Sub: Output correct values to motors
d313f932b4 Sub: Adjusted forward/strafe channels to not conflict with roll/pitch. Roll and pitch will be hard-coded to zero to stay level.
08a56ee6d2 Sub: Added function to transform MANUAL_CONTROL messages to RC override. This allows MANUAL_CONTROL to work properly without changing much else.
57b6303b07 Sub: Added a MAVLink message handler for MANUAL_CONTROL. It currently sends values to override the RC channels for testing. This will change.
2f3aff7499 Sub: Update forward and strafe rc channels in the control mode files.
c2d37ffd6e Sub: Change user config file for default options. Eventually these will be moved into the main config file as Sub defaults.
8b7ea6223f Sub: Added frame type BLUEROV to configure use with the new AP_MotorsBlueROV class.
e8464d73a9 Sub: Added control_rov file to hold the two methods needed for simple ROV control and basic testing of this project. Also added the code needed to pass the forward and strafe inputs to the motors class.
9eda7f1b5b Sub: Add forward and strafe input channels
2bacc2fea2 AP_RCMapper: Add forward and strafe channel mappings for Sub
1e8c1e8a78 Sub: Change user config file for default options. Eventually these will be moved into the main config file as Sub defaults.
54fa879116 Sub: Added frame type BLUEROV to configure use with the new AP_MotorsBlueROV class.
237ba87ca4 AP_Motors: New AP_Motors6DOF used by Sub
3da7c95e9b Sub: New vehicle type, derived from ArduCopter.
1217256898 AP_AHRS: correct infinite recursion in AP_AHRS_View
29b06d2d4a SRV_Channel: fixed output slew rate handling
3ce7e4b322 AP_GPS: fixed fake uBlox with PVT message support
97145f20fc Plane: fix startup of CLI menu system
fe93bdbc5e AP_IRLock: Change from magic number 0 to definition name.
eb6cdd27fb AP_Notify: Change from magic number 0 to definition name.
d9dbf6e1eb AP_OpticalFlow: Change from magic number 0 to definition name.
a3f5b4f319 AP_InertialSensor: Change from magic number 0 to definition name.
eb4d8963d0 AP_HAL_Linux: Change from magic number 0 to definition name.
bc7b2144e7 AP_Compass: Change from magic number 0 to definition name.
f5c3de2a61 AP_Baro: Change from magic number 0 to definition name.
af65be5aa4 AP_Airspeed: Change from magic number 0 to definition name.
07ab04897d Plane: reset roll/pitch integrators while tailsitter active
41b9d7c2c9 autotest: added tailsitter parameters
d338d9c0aa SITL: fixed whitespace on flightaxis code
83d055eceb AP_Motors: support twin-motor tailsitters
b3380ecfa7 Plane: support twin-engine planes
584fbf629b SRV_Channel: added k_throttleLeft and k_throttleRight
7845181f4b AP_AHRS: fixes for changes in AP_AHRS API from Michael
e8b11924f8 Plane: split out the tailsitter transition complete code
d5a3f844f1 Plane: changes for AC_WPNav
f1917dddd0 Copter: changes for AC_WPNav
17e1329068 AC_WPNav: converted to use AP_AHRS_View
94fb390bda autotest: added sim_vehicle.py support for tailsitter
3c8020862c SITL: support a builtin tailsitter vehicle type
92fdef5b97 Copter: changed for AP_AHRS_View on AC_AttitudeControl
aad412eaef Copter: support tailsitter frame class
ac2a9c4b4a AP_Motors: allow Copter to fly the tailsitter motors class
c62c64d27b AP_AHRS: added support for AP_AHRS_View
1345bf8737 AC_AttitudeControl: added support for AP_AHRS_View
c787f4c56f Plane: initial support for tailsitter transitions
3cb88d0a23 Copter: added tailsitter frame support
83f3cee99e Plane: initial hooks for tailsitter support
4e4f5a7ac9 Plane: allow tailsitters to takeoff with any attitude
8bd1fc63d5 SITL: support pitch90 and pitch270 in FlightAxis
1a74b7fc0c AP_Motors: started on tailsitter support
5acbf5d16e AC_AttitudeControl: use FF from AC_PID
b97bf5d15e AC_PID: added feed-forward to AC_PID
332735d2ee SITL: update default param for skid steer rover
7e746df82d Rover: correct crash checker to take on spot rotation
23f959b92f AP_NavEKF3: fix copied parameter descriptions
1a7b5538e5 AP_NavEKF2: Enable simple heading fusion to be set for specific cores
de7a679534 AP_NavEKF3: Enable simple heading fusion to be set for specific cores
ccb952ba31 AP_NavEKF3: Use the same mag fusion method for all cores
a1d41edc4e AP_NavEKF2: Use the same mag fusion method for all cores
8c7b214d71 AP_BattMonitor: fix param description
7efca1881c Copter: fixed a problem with initial parameter fetch
6b6d03eb8d Copter: fixed upgrade of parameters
e399f57ffa AP_NavEKF3: prevent NaN if RNGFND_GNDCLEAR is zero
5cd403c0b9 AP_NavEKF2: prevent NaN if RNGFND_GNDCLEAR is zero
bf51da224a AP_RangeFinder: Update min value for RNGFND_GNDCLEAR parameter
057819ccef DataFlash: zero-pad the number in the log filename
58d74230d5 DataFlash: correct error detection for asprintf
794f7a969e AP_Arming: Fix up ARMING_REQUIRE param documentation to try and be less confusing
395702ceff SRV_Channel: make SRV_AUTO_TRIM plane specific
fe4baf2904 Rover: setup frame type parameter flags
d8972d5344 Copter: setup frame type parameter flags
0fc04b0158 Plane: setup plane frame type parameter flags
4626b3a269 AP_Arming: mark ARMING_REQUIRE as plane and rover only
108cbe1dab AP_Motors: mark tricopter yaw as tricopter only
79b0c856b2 AP_Param: added support for frame specific parameters
c294519925 Plane: lower default Q_M_SPOOL_TIME to 0.25
2187417d74 AP_Motors: added MOT_SPOOL_TIME
18b5446765 Camera: Fix an incorrect label on CAM_DURATION
1d7994e9ba Plane: create GCS_Plane subclass
65a182a068 Copter: not in log download upon log erase
98c4b48161 Plane: not in log download upon log erase
82ac46e0ed Rover: not in log download upon log erase
9e42014387 Tracker: not in log download upon log erase
e12e51f502 Tracker: Support for a GCS singleton
14470573f6 Tracker: rename gcs[] to gcs_chan[]
45e0765b97 Rover: Support for a GCS singleton
407e251e1d Rover: rename gcs[] to gcs_chan[]
49bf336539 Plane: Support for a GCS singleton
d060670ba3 Plane: rename gcs[] to gcs_chan[]
029aeeb4fd Copter: support for a GCS singleton
f49f153da0 Copter: rename gcs[] to gcs_chan[]
89afa913f1 AP_Frsky_Telem: Support for a GCS singleton
cc28ff49e9 GCS_MAVLink: support for a singleton
29b16dbafd Plane: Refactor to request relative altitudes from AHRS
31f1545223 DataFlash: Update for AHRS NED changes
2d212e5bd4 AP_InertialNav: Update for AHRS NED changes
42b6ca9eed AP_ICEngine: Update for AHRS NED changes
d71533dc2b AC_PrecLand: Update for AHRS NED changes
50346de963 GCS_MAVLink: Update for AHRS NED changes
666c63da9f AP_TECS: Update for AHRS NED changes
95edf6ab66 AP_Module: Update for AHRS NED changes
3274f1dbb1 AP_AHRS: Split all NED methods into a collection of NED relative to home vs origin
c079532a7a AP_Avoidance: Remove unutilized get_destination_perpendicular
97c57764c4 AP_Math: Add a 3D location difference, returning NED
c716e76bfc AP_HAL_SITL: Apply a GPS noise parameter
ef0c51da42 SITL: Add GPS noise parameter
f183a2618f Plane: Don't lock home altitude to AHRS origin
7a1cbf76d3 Plane: Remove ALT_MIX
9535b45cc9 AP_InertialSensor: examples: fix double to float warnings
9814dc81e2 AP_Baro: examples: better output formatting
402f0cce85 AP_Baro: examples: fix coding style
dd1646aefc DataFlash: remove dangling semicolon
65f2c9eca1 build: remove batt_smbus from waf as well
dd98fc75a9 AP_Compass: BMM150: fix sampling time
9f09442548 AP_GPS: rename UNIX_OFFSET
30151c8253 Global: Define MSEC_PER_SEC, MSEC_PER_WEEK, SEC_PER_WEEK and UNIX_OFFSET.
d2cc340587 Copter: 3.4.5 release notes
8b5aae37e0 AP_Motors: remove Hexa-H, change Octa-H factors
8f478a62d7 AP_HAL: remove HAL_PARAM_DEFAULTS_PATH for SITL
872e0567be AP_Motors: add H frame support for hexa and octa
a52b1dd18f Build: remove batt_smbus from build
ebb60e8d2f AP_BattMonitor: remove PX4 driver
3e445fd4b8 AP_BattMonitor: add Maxell Battery support
d30350276c AP_BattMonitor: I2C driver becomes Solo driver
bad8910b93 AP_BattMonitor: example sketch uses Solo battery
e4c99a22bc AP_BattMonitor: add override specifier to Bebop
93aa40a9e0 AP_AHRS: Fix EKF3 gyro bias reporting and improve code clarity
f9bf825094 Tools: Add analysis file for optical flow calibration data
3aa17d17eb Copter : set land_complete to false during guided takeoff (same fix as for auto takeoff bug)
f1bce549ef SRV_Channel: improved doc string
d6d94bd26c RC_Channel: improved doc string
a14265359f Copter: reduce default MOT_THST_HOVER to 0.35
c4419739c4 Plane: rename MSG_RADIO_OUT to MSG_SERVO_OUTPUT_RAW to better describe what it is
4161c34e61 Copter: rename MSG_RADIO_OUT to MSG_SERVO_OUTPUT_RAW to better describe what it is
5012b2e899 AntennaTracker: rename MSG_RADIO_OUT to MSG_SERVO_OUTPUT_RAW to better describe what it is
7f5ef7cf3a Rover: rename MSG_RADIO_OUT to MSG_SERVO_OUTPUT_RAW to better describe what it is
285c02b8b6 GCS_MAVLink: rename MSG_RADIO_OUT to MSG_SERVO_OUTPUT_RAW to better describe what it is
043b7598d1 Tools: correct error path for corrupt logs
496ed18530 autotest: sort libraries by name
2b9478f430 AP_Math: tests: make both arguments double
00ef0cec2e build: shut up cmake regarding deprecated macros
3d29010366 build: allow to pass flags to cmake
bbc7a8b3e4 build: make instal-apt-ci.sh easier to synchronize with .travis.xml
85eadca7ad AP_Param: shut up float comparison warning
4e7b65260d GCS_MAVLink: shut up mavlink warnings
8b0c427802 AP_Landing: add double casts to printf-like function
008ac0a2a8 AP_Math: remove unused double instantiation
87038d8ef1 AP_Math: add casts to consider literals as doubles
48d94db259 AP_Math: double constants need a type
747f15b514 AP_GPS: add casts to consider literals as doubles
a500aced3c AP_Math: remove unused double constants
38b6ced640 Tools: sim_vehicle add option to disable mavproxy launch && better exit handling
b7f982d7ce Copter: support for arming and disarming using an auxsw
2bb3d395cf autotest: setup for firefly6 quadplane parameters
af44e9fdbd AP_Motors: added frame type 11 for Y6 to match FireFly6
0171b64feb SITL: setup simulator to match firefly6 AvA servo outputs
00711f5a98 Copter: fixed typo in param generation
de59f27e14 autotest: fixed parameter generation for recursive libraries
90d9e74054 Plane: fixed parameter path
79b23dff0e Copter: fixed parameter path
e12a1c4772 Tracker: fixed parameter path
36cf57c0fa Rover: fixed parameter path
11afd0c7d4 RC_Channel: split RC_Channels.cpp out to separate cpp file
325e24a378 SRV_Channel: split SRV_Channels.cpp out to separate cpp file
eb6826f7de SITL: avoid use of uninitialised memory
49e3ce8e75 Copter: Now recognizes DO_FENCE_ENABLE mission command.
bdf49c8a01 AC_PrecLand: add override and fix formatting
974a6f48c6 AC_PrecLand: remove check of type when using distance-to-target
438ffd870a AP_PrecLand: consume distance_to_target as alternative to rangefinder_alt
b77941c4f2 AP_GPS: Delete unnecessary code.
bf51d5a3c9 AP_SerialManager: add comment that Lidar360 protocol covers TerraRanger
27c5aca6b5 AP_Proximity: add support for TeraRangerTower
b77ce1df6c Tools: update BBBmini Device Tree location
655a6e0df7 Tools: remove BBBmini DTB
a6c82a0919 SITL: add an option to launch SITL from a directory
021f68897a mavlink: submodule update
287614b415 Plane: fixed auto-takeoff throttle trigger for inverted launch
787a2093ec HAL_PX4: fixed motor test for brushed motors
2165a8832b Reduce the risk of the buzzer affecting IMU's during the battery alarm
99ba8bdc08 APMRover2: add advance failsafe
dd0f1a4466 PX4Firmware: submodule update
4ea1ff65e1 PX4Firmware: submodule update
1bf17fa50f build: remove version that is not required anymore
1a58d3c447 build: px4: pass px4io name directly
da297d2028 build: px4: pass board name directly
c81d32a0b2 build: px4: pass bootloader name directly
1455f8c513 Copter: correct advance failsafe
01da36295d AP_InertialSensor: support the L3GD20H gyro
9abb0bba7f Plane: use abs() instead of labs() for int16
2326eee9a0 Plane: Move loiter_radius to vehicle
302e80d72c AP_Vehicle: Move loiter_radius to vehicle
5d7d190394 autotest: setup PKG_CONFIG_PATH for Parrot libiio
6747f42986 waf: ensure that we can link to a package before using it
5baf37f7a3 Plane: release 3.8.0beta2
9d592e005d waf: removed install of oreoled.bin
b5a04f1f43 mk: removed oreoled.bin
64a8f00a77 AP_Compass: disable esoteric compass drivers on FMUv2
3f38b8c945 mk: enable uavcan on FMUv2
c0cc2faefd AP_GPS: disable esoteric GPS types on FMUv2
977cd3c486 waf: re-enable uavcan on FMUv2
2bb1043c23 AP_HAL: added HAL_MINIMIZE_FEATURES
7ea0baefb1 AP_GPS: re-fix SBP fix status
512bd08326 AP_GPS: fix SBP supported status
d3d6099540 Copter: update 3.5-rc1 release notes
4f5ca37df4 Copter: 3.5-rc1 release notes
87c82ce0c6 AP_Math: add some more tests for constrain_value()
82d210144b AP_Math: remove warnings from constrain_value()
2605c7265b AP_Math: remove warnings from safe_asin()
69a9cd3625 AP_Math: add tests to is_equal()
4f8d2059f8 AP_Math: use right epsilon for is_equal()
784fa6fed8 AP_NavEKF3: fix compiler error
6d53ab7b76 AP_GPS: minor comment change
2c36da2b21 AP_NavEKF3: relocate perf monitor to count all three mag components
a63eac8073 AP_NavEKF2: Add missing perf_end
4d958952f6 AP_NavEKF3: use standard unit descriptor for milliseconds
7ea37029b6 AP_NavEKF2: use standard unit descriptor for milliseconds
4a490d522e AP_GPS: use standard unit descriptor for milliseconds
013eb254a2 Plane: use standard unit descriptor for milliseconds
b5ba1d0346 AP_NavEKF3: protect against large delay values returned by the GPS library
be0096e812 AP_GPS: Allow the user to specify the GPS time delay
4540faf6af AP_NavEKF3: Improve waiting for GPS configuration
52e8f687d9 AP_NavEKF3: fix logic bug introduced by magnetometer use changes
a133d55b6d AP_NavEKF3: Allow copters to fly with magnetometers disabled
2e5ac40ef6 AP_NavEKF3: remove unnecessary stdio includes
8688d1ddac AP_NavEKF3: Improve range finder selection logic
7e8f3fca53 AP_NavEKF3: Address review comments
b723966b8d AP_NavEKF2: Add protection against bad GPS time delay values
e2757c17c8 AP_AHRS_NavEKF: fix ekf variable naming and initialisation
c8bdf2fab8 Replay: enable replay to ignore EK3_ENABLE setting in log
59ee074560 AP_NavEKF3: Remove EKF2 names
b862f0d7ad AP_NavEKF3: Enable use of GPS delay value from returned by the driver
bdc0630ccf AP_GPS: added all_configured() function
5d18f3a453 AP_GPS: added backend specific get_lag() function
69a47d7522 AP_NavEKF3: Improve reporting of buffer allocation
ceb42225fd AP_NavEKF3: Ensure enough time to fill buffers when starting filter
a8fd1d8bcd AP_NavEKF3: fix potential time-stamping bug
8d1733cee6 AP_NavEKF3: Use FIR filtered airspeed
9261c34097 AP_NavEKF3: Update default GPS delay
ed5039823f AP_NavEKF3: Adapt sensor buffer lengths
2cc48f78a7 AP_NavEKF3: Update range beacon fusion
ed0a90ae5f AP_Beacon: Apply correct conversion from Pozyx beacon earth frame
a02a84560f DataFlash: log 3-state range beacon estimator states for EKF3
92b8c33b19 AP_NavEKF3: publish 3-state range beacon estimator states
7c53573a0c AP_NavEKF3: Allow range beacon use with intermittent GPS
e5e4883c72 AP_NavEKF3: Fix GPS use inhibit interface documentation
c7e1828238 AP_NavEKF3: improve variable name
32b60432b4 AP_Baro: Add format specification.
37a55c38a1 StorageManager: Unify from print or println to printf.
9de6318b77 PID: Unify from print or println to printf.
4a60850558 GCS_MAVLink: Unify from print or println to printf.
474569c91b GCS_Console: Unify from print or println to printf.
81ef065c53 AP_RPM: Unify from print or println to printf.
17c62ffe4c AP_RangeFinder: Unify from print or println to printf.
59454b0c6f AP_Param: Unify from print or println to printf.
60b63bb69e AP_Parachute: Unify from print or println to printf.
77c402556b AP_OpticalFlow: Unify from print or println to printf.
334da0d9d5 Tools: Unify from print or println to printf.
3ce2ca488a AP_Notify: Unify from print or println to printf.
2d32211c81 AP_Mount: Unify from print or println to printf.
92eb179acf AP_Motors: Unify from print or println to printf.
9481e0d158 AP_Mission: Unify from print or println to printf.
aa3fb830af AP_Menu: Unify from print or println to printf.
0733d760f6 AP_HAL_VRBRAIN: Unify from print or println to printf.
67fdbf5c2d AP_HAL_SITL: Unify from print or println to printf.
3200f24106 AP_GPS: Unify from print or println to printf.
37873717de AP_Declination: Unify from print or println to printf.
50eead63cc AP_Common: Unify from print or println to printf.
f18b8844bf AP_BattMonitor: Unify from print or println to printf.
78a4cab06b AP_Baro: Unify from print or println to printf.
743d6e6db4 AP_Airspeed: Unify from print or println to printf.
836c8aa684 RC_Channel: Unify from print or println to printf.
9b1dadd93e AP_HAL_PX4: Unify from print or println to printf.
5e11497332 AC_PID: Unify from print or println to printf.
1b2ea27a68 DataFlash: Unify from print or println to printf.
30bbe7abb6 AP_HAL_Linux: Unify from print or println to printf.
ec4cce15a1 AP_Math: Unify from print or println to printf.
2643e7e906 AP_InertialSensor: Unify from print or println to printf.
03bf57219b AP_HAL: Unify from print or println to printf.
af47a8e91c AP_Compass: Unify from print or println to printf.
2492b9db7e Plane: Unify from print or println to printf.
8f926bd177 Copter: Unify from print or println to printf.
0c813c5afa Rover: Unify from print or println to printf.
577d19f91d Tracker: Unify from print or println to printf.
a73c1daa2e AP_HAL: Device: remove unused function to read registers
f6a4a4dbe8 AP_Airspeed: MS5525: use common macros to deal with endianness
14519e90ff AP_HAL: Device: remove trailing whitespaces
ee188f4a89 README.md: Add me as BeagleBone Blue maintainer
2f8452b8a6 AP_Notify: Add BeagleBone Blue
d0fce3b1d7 Linux_HAL_Essentials: Restructure BeagleBone PRU firmware for BBBmini and BeagleBone Blue
6d99bb0937 AP_HAL_Linux: Add BeagleBone Blue to GPIO_BBB
954267fc22 AP_HAL_Linux: Add BeagleBone Blue to RCInput_AioPRU
d16ab890e8 AP_HAL_Linux: Add BealgeBone Blue
093407e8e8 AP_HAL: Add BeagleBone Blue
61a88a9b5e ardupilotwaf: Add BeagleBone Blue
848c03650b AP_RangeFinder: removed old PX4 rangefinder drivers
92933f7f04 mk: removed remaining PX4 rangefinder drivers
1dd6d568ab waf: removed remaining PX4 rangefinder drivers
99d5f538f5 mk: removed PX4 trone driver
2add60bc37 waf: removed PX4 trone driver
3b42289475 AP_RangeFinder: added doc listing for TrOneI2C
683e549ed7 AP_RangeFinder: added WHOAMI and crc check
67a2441b12 AP_Math: started a set of crc functions
68ff71e4c0 AP_RangeFinder: added trone in-tree driver
71febb0a57 mavlink: submodule update
ad7e21b860 AP_HAL_Linux: fix compiler warning in AnalogIn_IIO
99ba42c26d Build: do not build PX4Firmware rgbled driver
82b1b41a61 PX4: do not start px4 firmware rgbled driver
0ce8cf3cf4 AP_Notify: remove ToshibaLED_PX4
98db17e9a1 AP_Notify: example sketch uses ToshibaLED_I2C driver
d8ae56f455 AP_Notify: pixhawk and vrbrain use in-tree ToshibaLED
eedfe13f9c AP_Notify: fix ToshibaLED_I2C and check both I2C buses
0e20c8040c AP_Notify: rgbled methods protected and add override
4aaeb4bfed Copter: get mav heartbeats out when board detection fails
6726d94537 Copter: update notify during ESC calibration
a25f51c893 Copter: delay up to 2sec for first radio pulse
855125381d AP_Compass: relax compass cal fitness and consistency checks
b5573f6665 AP_Notify: add PX4_V4 check to PixRacerLED
4467a2cd16 AP_Notify: enable PixRacer onboard LED
8041a7f183 AP_Notify: add PixRacerLED
e6a643f805 AP_HAL: define pixracer LED pins
315f7c6a9a AP_Notify: Represent the base of ASCII numeric code with letters.
1a34221db9 Plane: remove old commented code
da48b24a5c AP_Landing: add logging as new "LAND" field
644f75942b AP_Landing: refactor bool variables into flag stucts
bdafc2c025 AP_Landing: re/move complete flag into backend
4cf1c74c62 AP_Landing + Plane: Check for land complete before requesting disarm
2ccd91d88f AP_Landing: rename stage enum
650e694eb1 Plane: move landing.reset to landing.do_land()
61bc0a6206 Plane: check stage==LAND instead of landing.in_progress
3e66dd10d7 Plane: Move landing stages inside AP_Landing and refactor
ac27241a42 AP_Vehicle: Remove unused flight stages
e9ec1d3a30 AP_Landing: Internalize the flight mode slope stages
b570c11e26 AP_Landing: allow separate handling for verify_land() vs verify_abort()
e709705ab8 Plane: describe flight stages without using specific stage name
bf835c7aee AP_TECS: abstract out the landing stage checks
6c0296ba13 AP_Landing: shadow copy of plane flight_stage into landing
d1434602a5 AP_TECS: bug fix - use takeoff integrator during land abort
817efe9b6d Tools: expect message for EKF readiness rather than sleeping
1fc0dbe0bd AP_GPS: fix GSOF highest supported status
8e9f382240 AP_GPS_GSOF: update for new GPS_FIX's
0cf41c9288 AP_GPS: Force ublox baud rate if we are allowed to config the GPS
7c96f8e6a2 AP_HAL_Linux: rename APM to ardupilot.
07cedd8a66 Plane: prevent stability shutdown in transition
0d4405106f Plane: removed forcing of trim for motors in quadplane
642e5aa5b7 SITL: match simulated tilt rate for CL84 to real vehicle
715db62a85 autotest: added quadplane-cl84 support
5c820adad4 Plane: fixed tilt transition with binary tilt servo
586f8a9ca8 Plane: fixes for tilt quadplane after rebase
2feaa9926c Plane: prevent fwd motor when throttle in dead zone for tiltrotor
54bca768b8 Plane: added Q_TILT_TYPE for retract servo tiltrotors
855d91145a AP_GPS: ublox - fix incorrect step ordering
1c1e6e9398 AP_GPS: Support more fix types
9346117c01 Notify: Update for GPS types
d05b0d5885 AP_GPS_UBLOX: add pvt message support
fc6ab3e29e mavlink: update submodule reference to include SYS_STATUS_SENSOR_BATTERY
0fec4af54b Copter: Support the SYS_STATUS_SENSOR_BATTERY bit
f017073077 Plane: Report battery failsafes via sys_status
e12b932432 MAVLink: Update reference to include MAV_STS_STATUS_SENSOR_BATTERY
b67512aae9 Tracker: send text to notify
a04cdce1bc Tracker: notify initialised after parameters loaded
c701d6a715 Rover: send text to notify
cc64c5e44a Rover: notify initialised after parameters loaded
fc4741395d Plane: notify initialised after parameters loaded
1300a9d3c6 AP_Notify: minor formatting fixes
4691bc76f3 AP_Notify: display gets semaphore protecting display buffer
80c1433682 AP_Notify: Display backend methods become void
0b8ebe36dd Rover: send flight mode string to Notify
fad2ba608f Plane: send flight mode string to Notify
26919b4ab6 Copter: send flight mode string to Notify
cb1d1df03a AP_Notify: reorder flags
e085ae1ec8 AP_Notify: add set_flight_mode_str method
acff67c718 AP_Notify: Display_SH1106 command stucture clarification
fd365de5f8 AP_Notify: Display structures PACKED
843210cac2 AP_Notify: Display bus passed into contructor
682fc759f1 AP_Notify: minor formatting and comment changes
d12e0d6a82 AP_Notify: Display send_text made not static
07c08c09a3 AP_Notify: small change to Display health logic
847c68bf72 AP_Notify: remove comment
21a95a3b0a AP_Notify: Display screenpage variable made part of class
af514eb101 Copter: remove some comments
c5ba54c3fe AP_Notify: adjust Display class structure
0690315814 AP_Notify: remove unused methods and member from Display
f0c6fd3038 AP_Notify: resolve compiler warning in Display
497a4bd4a5 ArduPlane: Support for OLED display by Alexey Kozin
3e993f955e ArduCopter: Support for OLED display by Alexey Kozin
9eb6d18d8e AP_Notify: add override to display methods
ed4115c4e3 AP_Notify: Support for OLED display by Alexey Kozin
4687785185 AP_Param: fixed a bug in default file handling
33a84624c6 AP_AHRS: use const reference
c31522c2c3 AP_HAL_Linux: fix focal lengths calculation
677a2f600f AP_OpticalFlow_Onboard: remove gyro_cb
710875d3b9 OpticalFlow_Onboard: remove gyro cb
c08587fb09 AP_HAL_Empty: adapt to new api
4646428ac0 AP_HAL: remove ahrs cb from opticalflow
305239b467 AP_OpticalFlow_Onboard: fix scale in gyro calculation
59404f686d OpticalFlow_Onboard: add gyro integration support
d2afa1cac8 AP_AHRS_NavEKF: Push gyro bias for optical flow
3d9dacb227 AP_InertialSensor: push gyro data for opticalflow
8a57e1a4a7 AP_HAL: Add methods for optical flow
a5523a4b94 Frame_Params: Remove unexisting param
77950301ed SRV_Channel: fixed set_default_function()
acb5ddd140 GCS_MAVLink: issue MISSION_COUNT packet if seq request too large
34e491f168 AP_Notify: Add a NULL pointer check.
19b21b4012 autotest: fixed quadplane-tilttri params
09c969477f AP_AHRS: fixed fallback to DCM for get_position
d472fbde0c AP_GPS: fix PX4 GPS driver leap seconds
591bb32496 AP_Mission: correct off-by-one check when fetching mission items
53d1585ebf Compass: relax compass consistency checks for pixracer
0c4e3cd8e4 Compass: pixracer calibration fitness default relaxed
b27e4dbd0c autotest: added FRAME_CLASS for gazebo-iris
01b1916de5 Copter: ensure logging is working as part of prearm
e7d3219a58 Copter: check all channels have been configured, not just throttle
d2b2ddcb02 RC_Channel: make min_max_configured const
a481e52861 AP_Param: make configured() const
ab13b3beaf Copter: make rc checks verbose on failure
078866046a Copter: correct rc-arming checks concerning trims
fdc536e024 Build: update build.md to add bebop2 instructions
055acd2a89 Build: add description of where binaries will appear
a6ecb94d24 AP_Motors: MotorsTri does not need its own var_info now
332820aa88 Copter: fixed load of var_info for attitude_control and motors
8a32d09264 AP_Notify: Change arming time count check.
83c7217911 AP_IRLock_SITL: correct packet timestamp
fd0e4164b9 AP_Notify: DiscoLED: keep includes sorted
c27c414e5a AP_HAL_Linux: Led_Sysfs: small fixes
701d91f20c AP_Notify: Disco: use new led sysfs backend or, if not available, legacy pwm backend to drive leds.
7d4d14a409 AP_HAL_Linux: add Led_Sysfs class.
dd0d09175b AP_Beacon: Changed if statements to switch statement.
bad1c879d9 AP_HAL: Bebop & Disco: move default param file path
fdb2a9c99b AP_HAL: Bebop & Disco: rename APM to ardupilot in paths
d5a5a97a3d SITL: Use the GPS_LEAPSECOND define
c696137a42 AP_GPS: Update the number of leapseconds
cb1f7ba4bb Copter: remove setting position control's altitude max
62a4867cd4 Copter: use avoidance adjusted climb rate in all modes
b15d341850 Copter: add avoidance adjusted climb rate
ebbfa9391d Copter: remove comments from package place
ff042528fe AC_PosControl: remove alt_max
127404acea AC_PosControl: add get_pos_z_kP accessor
e799e3a342 AC_Avoidance: stop based on upward facing proximity sensor
2133fd94ca AC_Avoidance: adjust_velocity_z uses inav get_hgt_ctrl_limit
f73efd5249 AC_Avoidance: add adjust_velocity_z
12dd6e11fb AC_Avoidance: constify get_position
a47e215a8e AP_Proximity: add get_upward_distance
e7ba2420c1 AP_InertialNav: expose get_hgt_ctrl_limit to parent class
d2431dafd0 AP_AHRS: fix description
e903cb9945 AP_Math: Change mask value to hexadecimal number.
8b38ce666d SITL: SIM_XPlane: fix fabsf/abs warning; location alts are in integer cm
cc86011d20 Copter: use abs() on integers; Location alts are in integer cm
96d73affae Copter: fix float warning; get_velocity_z() returns float
e9a0e98863 AP_HAL_SITL: use fabs on double values
b561837b41 RangeFinder_Bebop: Fix mode selection
8a1f4e048f RangeFinder_Bebop: fix spi speed
e627bbc912 AP_HAL: Board fix typo for baro BMP280_SPI
189b766f2b AC_AttControl: remove redundant parameter set
36b6218e31 Copter: integrate attitude control's set-throttle-mix-manual
c6d2fc3d5d AC_AttitudeControl: add rpy mix manual
becc56da0b Copter: AP_Arming internal references start with underscore
f476c706f6 Copter: add override to AP_Arming_Copter::pre_arm_checks
cc217550c0 Copter: rename arming_checks to AP_Arming
a52db9f29d Copter: fix motors_checks to AP_Arming
ee9588c674 Copter: fix proximity arming checks
b89d3564c7 Copter: move set_pre_arm_check to arming_checks
4ea6cf4ce3 Copter: transfer old ARMING_CHECK value to new location
ac980fdd47 Copter: use compass_checks from AP_Arming
f3a31b988a Copter: use ins_checks from AP_Arming
bd6ffc025e Copter: start conversion to AP_Arming_Copter
ae18c25070 Copter: add AP_Arming to build
d35a208dae AP_Arming: remove unused set_enabled_checks
34a850e1a5 AP_Arming: formatting and comment fixes
593f035c53 AP_Arming: remove required, min-volt, min-volt2 params from Copter
5be3d14648 AP_Arming: rudder_arming moved to AP_Arming_Plane
1f37366c5b AP_Arming: make expected magnetic field strength available to subclasses
8159c4b747 AP_Arming: add comments on parameters only currently used by plane
e906310b71 Plane: rudder_arming moved to AP_Arming_Plane
7cc8b7232c Plane: rename arming_checks to AP_Arming
fc28beacea Plane: AP_Arming: use callback in place of variable reference for home state
ddf172c75b Rover: AP_Arming: use callback in place of variable reference for home state
362c6e1b9e AP_Arming: use callback in place of variable reference for home state
b31d2a59da APMRover2: Fix skid steer in when in skid steer out
e0a3caea13 APMRover2: Steering fix style
363574244b AP_Stats: Add missing parameter units
bebb128d22 AP_Proximity: Add missing parameter units
cae557fb4c AP_NavEKF3: Correct display names, bitmask and units
715d094678 AP_NavEKF2: Correct display names, bitmask and units
2243d900d5 AP_Gripper: Add missing parameter units
0d4ca03dcd AP_HAL_Linux: init SPIDevice speed by default
0b85921505 Tools: update param file for sitl optflow testing
6aeef76768 AP_Proximity: fix get_boundary_points in case of multiple sensors
8aa100d164 AP_Baro: fix for change to timer API
4e06be38ac AP_HAL: Add Bosch BMP280 driver
1ce5e5360a AP_Baro: Add Bosch BMP280 driver
58a0a6a2fc AP_Compass: disable lis3mdl for now
5472bc4de1 Global: change Device::PeriodicCb signature
5aa4bc4368 AP_Params: fix seg fault in debug function otherwise at start, when loading paramter is could fail at AP_Param.cpp:611, Debug("scan past end of eeprom")"
4daa4e9df9 Tools: remove deleted parameters
b8784e2c4a Plane: do not crosstrack after a land abort
07e5b43132 Tools: add FRAME_CLASS to bebop parameter files
87c2dfd921 AP_Baro: Change to secure code, from magic number to sizeof value.
960da45275 mk: fixed px4-v3 build with make
e52cff3f0b autotest: fixed throttle range for default parameters
746b0dd376 Tools: fixed build_binaries for new build names
978d32ff12 autotest: fixed JSBSim plane defaults
1297a7dedb Copter: convert the rest of motors class for tricopter
d005cbffd8 AP_Param: added convert_parent_class()
7aee3500e1 Copter: added conversion of tricopter tail servo parameters
05e9462a9c AP_Param: added CONVERT_FLAG_REVERSE and CONVERT_FLAG_FORCE
a3220944d8 Copter: make conversion tables constant
a56090113c autotest: fixed sim_vehicle.py with -f heli
6a12ed0d65 Copter: upgrade heli servo parameters
e248078401 SRV_Channel: added AP_Motors servo channel parameter upgrading
bf889e01e1 Copter: load objects from storage after allocation
d430cd62a6 AP_Param: fixed loading defaults file after storage
3fe1a69a32 Copter: always allocate a motors backend
7a3c4fd2ee mk: removed most frame build targets
fda31e67d9 autotest: fixed arducopter binary name
370e893fb3 waf: fixed build docs for arducopter
c0c25e0588 Copter: fixed parameter doc paths
8504a8baad autotest: fixed sim_vehicle for new frame builds
34a7d47b3f autotest: fixed frame class for quadplane tri frames
8dcde8ee92 Copter: make binary names arducopter and arducopter-heli
e85df47b06 Copter: fixed parameter handling for pointer objects
3338b4295e Plane: use reload_defaults_file()
0c32178d07 AP_Param: added reload_defaults_file()
ccae8979c1 AC_PID: expose filt_hz as a AP_Float
2f100b0804 Plane: removed separate tricopter quadplane build
2a1408becf Tools: no need to build tri separately
556cda13e1 Copter: reduced copter frame build
4a4fc8ab06 Copter: adjust for change to AC_PID
2086b591a2 AC_PID: expose ff() method in AC_PID
8e3bf71aa9 AP_Motors: allow single, tri and coax to be part of multicopter class
0f6d0c5ba9 Copter: combined tri, single, coax and multicopter into a single build
5cf1c0869d AC_AttitudeControl: expose all functions via abstract class
3df55b575f Tools: fixed copter tri reverse default
8799094278 AP_Motors: use SRV_Channel for tri tail servo
3c1517f583 Copter: added automatic SRV_Channel parameter upgrade
9fe3eba2a0 Rover: added automatic parameter upgrade for SRV_Channel
68504dbcbb Plane: auto-upgrade old parameters for SRV_Channel split
86e0b8a91f SRV_Channel: added automatic parameter upgrade
77a7e7ca01 RC_Channel: give access to internals to SRV_Channel
c133b515e0 AP_ServoRelayEvents: fixed trim bug
cb4ebdd7b4 Plane: fixed throttle_percentage()
2513b27058 Tracker: use k_tracker_yaw and k_tracker_pitch
26f9a5569f SRV_Channel: added tracker_yaw and tracker_pitch for antenna tracker channels
37c6bec902 HAL_QURT: fixed a bug in new_input()
1bd9d0b7f9 HAL_PX4: cleanup whitespace
6b4e5304cf Plane: fixed mixer outputs
1879eddfa0 Plane: adjust for limit_slew_rate API change
ea2e32c102 SRV_Channel: implement limit_slew_rate()
51864b23eb SRV_Channel: cleanup header
b6aa4205b4 RC_Channel: cleanup API and comments a bit
cf636a2ea5 autotest: fixed default parms for more vehicles
081909bf6a Plane: removed use of pwm_to_angle()
c638be54a3 Rover: removed use of pwm_to_angle()
3f71fd98a0 AntennaTracker: adapted to new SRV_Channel API
93d6b012c2 Rover: convert to new SRV_Channel API
5a87ae3f01 Copter: use new SRV_Channels API
b83f50be0f Plane: use new SRV_Channels API
4cb9f772f2 mk: link SRV_Channel library
929fbce2c2 AP_LandingGear: use new SRV_Channels API
b3d30cbd4b AP_Gripper: use new SRV_Channels API
5817cc400c AC_Sprayer: use new SRV_Channels API
a10e8b9b4b Tools: fixed quadplane parameters
d07d2d9a40 Tools: adapt to new RC_Channel API
1ac5776b8b AC_Sprayer: adapt to new RC_Channel API
39ab1a0abc SITL: adapt to new RC_Channel API
0942291e74 GCS_MAVLink: adapt to new RC_Channel API
ede66aae17 AP_Tuning: adapt to new RC_Channel API
f73f3bedda AP_ServoRelayEvents: adapt to new RC_Channel API
7706741b9b AP_Parachute: adapt to new RC_Channel API
4173432542 AP_Mount: adapt to new RC_Channel API
ee7b9a3f8e AP_Camera: adapt to new RC_Channel API
638f1364be AP_Motors: adapt to new RC_Channel API
04ce73d8d7 AP_ICEngine: adapt to new RC_Channel API
117974ef0f HAL_SITL: obey enable mask for output channels
9dc7dbfa16 AP_AdvancedFailsafe: adapt to new RC_Channel API
fd081a8cc6 SRV_Channel: split SRV_Channel into separate directory
0791186cd2 RC_Channel: split SRV_Channel into separate directory
64aa13e7f4 RC_Channel: 2nd stage of SRV_Channels conversion
62fabca19d AP_InertialSensor: Enable I2C bypass for MPU9250 conntected via I2C to access internal AK8963
11b635df12 Copter: correct limit status to fence status
712fbfe84b Copter: Update descriptions of stream rate parameters
ab9e88299f AP_HAL_SITL: Scheduler remove unreachable code & minor fix
63b3618fc7 AP_HAL_SITL: RCOuput minor fix
ff46964d22 AP_HAL_SITL: RCInput minor fix
7f5b32f59f AP_HAL_SITL: GPIO minor fixes
8ade9d1fe8 AP_HAL_SITL: style fixes
5b2b4430b3 AP_HAL_SITL: AnalogIn minor fixes
d35433b253 gitignore: ignore generated parameter documentation files
b1e494a209 Copter: return MAV_TYPE as quadcopter by default
1432763ca5 Tools: permit overriding shell to use when running in terminal window
7c7144fd8f AP_Proximity: minor comment spelling fix
74f1899aeb AP_Proximity: boundary_points requires only one valid distance
20ca021cab Copter: pass distance-sensor messages to AP_Proximity
a0a8472a44 AP_Proximity: fix consumption of distance-sensor messages
742cdf6b13 Copter: fix arming while armed bug
b910f230fb AP_HAL_Linux: RCInput: replace volatile with atomic
bdbb07a3b1 Copter: remove version from Copter.cpp
1dec5ba723 mavlink: submodule update
0a18f5e7b2 HAL_Linux: fixed a bug in RCInput::new_input
9b7f0f7957 AP_HAL: make new_input() API clearer in comments
d4daa10045 AP_Proximity: add MAV type to parameter descriptions
c6875e1756 AP_NavEKF2: remove editor information wrongly added in d408d25
e65887c393 Copter: Change sprintf method to secure snprintf method.
974d63a6b5 AP_HAL: Change the format of the return value of the method header.
c0be20ece2 SITL: XPLANE fix member shadowing
9d315b0829 Tools: sim_vehicle spelling correction
90516f1064 autotest: fixed checkout bug in build_binaries.sh
cc5e9da6ef autotest: added some debug to build_binaries.sh
b7f32e216d AP_GPS: update parameter descriptions
9389ec2274 AP_NavEKF2: fix parameter descriptions
195e32c2fc AP_NavEKF3: fix some parameter descriptions
8032ed295d AP_Avoidance: add units to param descriptions
2101f7c0c1 autotest: fixed stable build of multicopter frame types
eaf5676636 SITL: fixed unselection bitmask bug in XPlane
538410205b PX4Firmware: submodule update
da45aef5c6 AP_HAL: fixed a logic bug in the srxl state machine
713b08d830 AC_WPNav: Reduced WPNAV_SPEED minimum to 20cm/s
35d6dc141a SITL: only de-select data types in xplane once
c2521dd650 AP_Proximity: Change sprintf method to secure snprintf method.
9a250c3bf4 Plane: clarify some variable names and protect against divide-by-zero
ac2880db7c Plane: waypoint logic change for overflow/underflow
a81f5cefbe AP_Mission: don't wrap when masking via HIGH/LOWBYTE
dc3d10a28b AP_Mission: waypoint command parsing
5bf45dbffd APMrover2: publish SPEED2THR_ parameters
0054df9907 APMrover2: Correct AUTO_TRIGGER_PIN Values format
9aaeb6fe1a AP_GPS: Add missing GPS Types
908d9a8a8c AP_ADSB: Change sprintf method to secure snprintf method.
d408d25f92 More spelling stuff
8419045aea Spell in comments
2416e66103 Copter: 3.4.4 release notes
6b4acebd26 Copter: bigger buf when sending frame string to frsky telem
bc9facf608 AP_Mount: Fix Alexmos gimbal Mavlink targeting mode
b9e83755f3 Copter: Notify GCS that Flight mode change failed
946d30476a AP_InertialSensor: fix whoami for MPU6k
a4108251e3 AP_Baro: fix get_last_update(instance)
e32ddaa7fa Copter: reorder beacon and proximity declaration
af9729c126 Plane: correct compilation when parachute disabled
a233024e05 Copter: fix compilation when fence andd proximity are disabled
d3e331e1f2 Copter: correct compilation when rally disabled
cf4be25d61 Copter: correct compilation when camera disabled
4ef927ebea Copter: correct compilation when AFS enabled (using make)
d40187fac7 Plane: correct compilation when geofence disabled
12d0241e51 Rover: fix compile when logging disabled
4865bec871 Plane: correct compilation when logging disabled
8033e0c315 Copter: fix compilation when gripper disabled
889ec829fc AP_OpticalFlow: fix warning in SITL compilation
588e59f524 Tracker: correct compilation when logging disabled
61430a51b3 Rover: correct compilation when camera disabled
990d5fd0e5 Copter: fix compilation when logging disabled
07ad28f8b0 Tools: rename FRAME to FRAME_TYPE
e950d93d49 git_test: first commit
7df30ffe4d scripts: avoid building redundent binaries for copter
063f517424 Plane, TECS, AP_Landing: rename stage LAND_ABORT to ABORT_LAND
04f32b6ec6 Plane: simplify flight stage landing check to use landing.in_progress
84e11fd899 Plane, AP_TECS: do not pass auto_land flag to TECS, it already knows it
c286ceba43 Plane: move enum FlightStages to AP_Vehicle::FixedWing
502768c979 AP_Landing: move enum FlightStages to AP_Vehicle::FixedWing
8019cedf5b AP_Vehicle,AP_SpdHgtControl,AP_TECS: move enum FlightStages to AP_Vehicle::FixedWing
90b2458a27 Plane: remove redundant flightstage update
1c4bf77cf6 Plane: added custom conversion of Q_FRAME_CLASS parameter
0d6801fbe6 AP_Param: added find_old_parameter() method
d011783d76 Copter: fix FRAME_TYPE param description
bdfb12123f AP_Motors: fix frame-type enum for Y6B
e31d6d051d Copter: get_frame_mav_type switch fix
037e411e35 AP_Motors: fix example sketch
ffa6d1a5b9 AP_Motors: init fixes for frame_class, type and initialised_ok
12d024e0c6 Copter: rename FRAME to FRAME_TYPE
934ef55338 Plane: quadplane instantiates motor matrix outside of case
daea22d4ac Tools: autotest scripts set FRAME_CLASS
c6dec5c3f6 Plane: quad plane uses consolidated multicopter classes
01bcf5e528 Copter: add arming checks for motor setup
217757fdc8 Copter: default FRAME_CLASS
0ac00dbfd6 Copter: add FRAME_CLASS parameter
a276f5dc90 AP_Motors: fix example sketch
7be0f437a9 AP_Motors: consolidate matrix multicopters
41189758b8 AP_Motors: move some functions to protected
13ad06e652 AP_Notify: Change on / off of LED to ternary operator.
7a5ee29b6e AP_AHRS: fixed a build warning
a276b9c271 ReadMe: add Francisco, remove duplicate
7131b20b81 Rover: test.cpp correct whitespace, remove tabs
52aa6b5767 Rover: system.cpp correct whitespace, remove tabs
c2adb04a93 Rover: setup.cpp correct whitespace, remove tabs
51aaa7efa7 Rover: sensors.cpp correct whitespace, remove tabs
25fbfeb5cf Rover: radio.cpp correct whitespace, remove tabs
fb8446ffd5 Rover: navigation.cpp correct whitespace, remove tabs
fa0b007efb Rover: failsafe.cpp correct whitespace, remove tabs
ffaa355bee Rover: defines.h correct whitespace, remove tabs
5232dce268 Rover: control_modes.cpp correct whitespace, remove tabs
597423fffc Rover: config.h correct whitespace, remove tabs
283a199268 Rover: commands_process.cpp correct whitespace, remove tabs
0c420f931f Rover: commands_logic.cpp correct whitespace, remove tabs
d68c7f935b Rover: commands.cpp correct whitespace, remove tabs
f32de5e21b Rover: Steering.cpp correct whitespace, remove tabs
84f70f722d Rover: Rover.h correct whitespace, remove tabs
0f89f6918e Rover: Parameters.h correct whitespace, remove tabs
70d0997b73 Rover: Parameters.cpp correct whitespace, remove tabs
5858c84f83 Rover: Log.cpp correct whitespace, remove tabs
d33f67e0c4 Rover: gcs_mavlink.cpp correct whitespace, remove tabs
aea1c81437 Rover: APMrover2.cpp correct whitespace, remove tabs
ad518f0cc7 AP_AHRS: fixed EKF type 10 EKF nav scaler return
ef637e4add a better way to determine if were running inside a vagrant box
21ca1d3835 AP_Beacon: fixed comment. NE is correct.
f6cc506791 APM_Control: Added derating of steering wheel
e497dedf35 AP_Proximity: add MAV type
8215b92371 AP_RangeFinder: MAV only accepts DISTANCE_SENSOR with orient 25
653030b038 AP_NavEKF2: Changed if statements to switch statement.
a2f6d7c102 AP_HAL: minor comment fix to Device.h
2076da3a72 AP_Proximity: minor comment fix
d56bad781f AP_InertialSensor: change if statements to switch statement
398b7b83dd AP_InertialSensor: minor formatting fixes
6045612011 AP_Beacon: combine duplicate checks into device_ready method
3551609a21 Copter: payload place requires 30% throttle reduction to release
c191a44b27 Copter: payload place skips releasing states if gripper not valid
6fd771afc9 AP_Mission: starts_with_takeoff uses get_next_nav_cmd
b4d1d0f918 AP_Gripper: servo gripper not valid unless aux channel assigned
4c320373eb AP_AHRS: Change indentation.
f747716172 Copter: Changed if statements to switch statement.
490571ba44 Rover: Changed if statements to switch statement.
adad75756d Rover: release-notes.txt typos in 3.1.0
77319bb7b2 Rover: Creating Stable release 3.1.0
bbccdce229 AP_Terrain: prevent use of invalid Location
b845668f23 Copter: 3.4.4-rc1 release notes
71eb46dd04 AP_NavEKF3: Fix bug in loss of aiding fallback
6dc7d25fde AP_NavEKF2: Fix bug in loss of aiding fallback
fd153f2861 AP_GPS: Change search method of GPS type to switch statement.
22fd2025de AP_AHRS: fixed EKF type 10
372837b959 Update AP_ADSB.cpp
753638851e AP_Baro: Changed if statements to switch statement.
47f1a754c5 AP_Math: add some test for vector2 equality test
eae093cd2a AP_Math: add test for is_equal for int
da49149d19 AP_Math: is_equal correct comparison for integer as epsilon doesn't exist. Credit to Kwikius for the right solution
dbbf6cae5c Copter: arming check ignores proximity if avoidance disabled
e7f2c9870a AC_Avoid: add accessor for proximity enabled
b114d3928e AC_Avoid: fix distance to lean angle logic
38478638de Copter: aux switch for enable/disable proximity based avoidance
5f0a4c2097 Copter: integrate non-GPS avoidance into althold
1b582b2009 AC_Avoid: avoidance for non-GPS flight modes
fbbd13db75 AP_Proximity: add get_object methods for use with non-GPS avoidance
802206baed AP_AHRS: remove use of uninitialised value
378bd84b29 Rover: Fixed a bug in the wp loiter functionality
9569ed94a9 AP_InertialSensor: Invensense: use capital letters for define
86406199a9 AC_PrecLand: reserve parameter indices
bebf16b804 Tools: added FMUv3 to autobuild
a2649949df AP_Compass: Changed if statements to switch statement.
bf135aeff7 SITL: Aircraft correct some syntax, implicit cast, make some local variable const, remove tabs and whitespace
ce734b5f7b AP_Math: Remove unecessary check
9ca0873042 Autotest : add simple test for Rover
377a747065 Copter: minor format fix for fall through for payload-place
2371b05696 Copter: init avoid-adsb and prec-loiter enabled from switch positions
2365036e5c Copter: move #if within case statement in switches.cpp
70feff487e Copter: format fixes to switches.cpp
a43229de0f Copter: fix z-axis accel parameter description
3ed9eb98f3 SITL: minor comment fix for SIM_Multicopter
5d0be2de9f AP_Gripper: minor comment fix
f1c05ee320 AP_NavEKF3: Allow accel switch on bias uncertainty to be adjusted
a30745903a AP_InertialSensor: use ACC2_BIAS
65c3d0e060 SITL: added ACC2_BIAS
7d4a50f483 AP_NavEKF3: Prevent unwanted core switch on startup
cd6fd0ea45 AP_NavEKF3: Improvements to range finder selection logic
0e14992b34 DataFlash: hide direct EK2/EK3 logging
4cf509a693 Plane: fixed EKF3 logging
1c3fefa150 Tracker: fixed EKF3 logging
0266cb61e0 Rover: fixed EKF3 logging
bebc7e4519 Replay: removed EKF_ENABLE parameter
e71ee51a9c autotest: removed use of EKF_ENABLE parameter
f3ee9fe9bd travis: split up jobs to keep below time limit
b7081f42cd waf: exclude some files from ROMFS
a8280262a6 PX4NuttX: update gitignore
979c3a6270 mk: support px4-v3 with make
0870e02584 AP_AHRS: fixed example build
29bc07f410 AP_HAL: setup for building ucavcan on FMUv3 but not FMUv2
bc304a21a2 travis: test build FMUv3
321cad640c waf: trim PX4 config to reduce firmware size
95b848f2b6 waf: fixes for FMUv3
67b97b21db AP_BoardConfig: switched to always using in-tree sensors
da2638e424 PX4Firmware: submodule update
74a871576c waf: added FMUv3 to build
bd0a0510ed AP_HAL: define FMUv3
60ebe97e10 AP_InertialSensor: remove unused EKF1 include
509709ce9d AP_Motors: remove unused EKF1 include
453ced4a38 AP_GPS: remove unused EKF1 include
bb29c74e52 AP_NavEKF: remove EKF1
a222ebfaa5 README: remove EKF1
809bfc1154 GCS_MAVLink: replace call to EKF1
f70cc3cf34 AP_InertialNav: remove EKF1
6d086e0c31 AP_Mount: remove EKF1
78f89e0663 AP_Beacon: Update parameters for EKF3 testing
33a7c682a3 AP_AHRS: Add EKF3 and remove EKF1
38ad778ff1 make.inc: Add EKF3 and remove EKF1 library from make.inc files
35bed59bd4 Tools: Add EKF3 and remove EK1
2facebff80 Rover: Add EKF3 and remove EKF1
38a0e8a6ae ArduPlane: Add EKF3 and remove EKF1
c3b9dbf5c8 ArduCopter: Add EKF3 and remove EKF1
33943de4a0 AntennaTracker: Add EKF3 and remove EKF1
b00ec26957 DataFlash: Add EKF3 and remove EKF1
75688c8342 AP_OpticalFlow: Add EKF3 and remove EKF1
7202acc1b5 AP_NavEKF3: Default EKF3 to off
39969e7d8e AP_NavEKF3: added EKF3 for EKF experimentation
ab05472e0e AP_AHRS: added EKF3 for EKF experimentation
fd8916ef38 DataFlash: fix Baro 3 labels
cd669738a5 AP_Beacon: fix SITL param error
fe69d9a0ea AP_NavEKF2: remove duplicate include
a8f3a374e2 AP_NavEKF2: replace sqrt function calls with sqrtf
b0ddf81687 Remove stdbool.h include for C++ sources
790d186c6c AP_Compass: switched to unified Invensese driver for AK8963
65b9b86099 AP_InertialSensor: unify MPU6000 and MPU9250 drivers
c846cc249d Copter: fix heli pos-hold run-up-complete issue
0f486aeecb AC_Fence: shorten calculation of return value
b7b56b94a3 Plane: convert landing.complete to landing.is_complete()
3e2098192b AP_Landing: add is_complete() accessor
4b683edac9 Plane: simplified logic where landing complete overrides the calc value
83f0a8114b  Plane: use a common reset for uniform landing wipe
f09007cbe9 AP_Landing: use a common reset for uniform landing wipe
7daf1a87be AP_Landing: non-functional change - re-organizing header declarations
e061e1734c AP_Landing: abstract land abort request method
8c1509ad47 Plane: abstract land abort request method
3dcf4cfb55 Plane: removed resetting integrators on mode change
d41467424b DataFlash: fix to suppressing comment for case fall through
0dd7e78c2b RangeFinder: fix to suppressing comment for case fall through
a2474667a8 Copter: minor formatting fix
c3b6fd4315 Plane: fix suppressing comment for case fall through
5f60961866 Copter: fix suppressing comment for case fall through
2da7ea746b MotorsHeli: minor formatting updates
a09d4db4fd AP_MotorsMulticopter: fix battery resistance calculation
4ae9c0cf49 Tracker: minor formatting fix
37a165f5bf Tools: Added some Georgia fields to locations.txt
76106889d5 AP_NavEKF2: Prevent unwanted core switch on startup
8a1275356d AP_Baro: moved MS5611 reset before prom read
439cc3e4c5 add name
b48ea53f60 Revert "AC_Fence: Activate the create flag."
be9ac273ce AP_Param: apply notify check to AP_ParamV too
a440ac4c9d AP_Compass: use a set_and_notify for external and IDs
eaa68f32e3 AP_Param: avoid a notify if value is already correct
69f3c83c20 AP_NavEKF2: Don't use speed switch criteria when speed estimate is invalid
14a0155f5e AP_NavEKF2: Allow threshold speed for range finder use to be adjusted
899fce53ff AP_Compass: IST8310: minor fixes and refactors
f061572e13 AP_Compass: add IST8310 support
c63a6a2738 AC_Fence: Activate the create flag.
0ab0658849 Copter: 3.4.3. release notes get compass cal fix
3d3fb6e74b Copter: fix version in release notes
3c993a76e2 Copter: 3.4.3 release notes
1ef298a06a Tools: Added Flicker field to locations.txt
b296bc1d00 GPS: MAV driver fix for sanity checks of cog, sat count
8118222946 GPS: MAV driver fix for GPS_INPUT altitude
4efbc29490 Plane: pass HIL_GPS to gps driver
c1d1ac5c6f Copter: pass HIL_GPS to gps driver
f096234c2a Tracker: pass HIL_GPS to gps driver
75aaf33d58 Rover: pass HIL_GPS to gps driver
9e62f12dd7 GPS: MAV driver gets support for HIL_GPS message
9fc0bc19e7 AP_Beacon: fix potential out-of-bounds write to beacon_state
d4d35bdcbd AP_HAL_Linux: Scheduler: added _timer_tick for uartD
25e47cce6b AP_NavEKF2: Changed sqrt method to sqrtf method.
05d9455f87 Revert "HAL_PX4: Add input parameter check."
dec954bb0c Rover: added crash check
a3ccca17ff Plane: use fabsf instead of fabs
6e47bed97d AP_RangeFinder: fix hard fault with LightWareI2C
556993d7f0 AP_Math: Vector2 add == operator for int
6bf1322633 AP_Math: polygon.cpp correct float comparison
5900653b7f Copter: Commands_logic fix  comparing floating point with ==
8d4bad0742 Copter: Commands_logic fix implicit cast to double
385e5badd8 Ap_Compass: LIS3MDL  fix order
c49c851a57 Ap_Compass: AK09916  fix order
8ef5067e12 AP_Motors: MotorsHeli_Single utilize an explicit type cast to avoid the loss of a fractional part.
03b5523b43 AP_Landing: abstract out init_start_nav_cnd work to landing lib
b299b9c0bb Plane: abstract out init_start_nav_cnd work to landing lib
669dc01b67 Plane: correct on_flight_line landing stage check
3e89580383 Revert "AP_Landing: abstract out init_start_nav_cnd work to landing lib"
1380a35f70 Revert "Plane: abstract out init_start_nav_cnd work to landing lib"
e2288d5262 Plane: abstract out init_start_nav_cnd work to landing lib
8d8775125a AP_Landing: abstract out init_start_nav_cnd work to landing lib
2d8c9c5129 AP_Landing: added missing break
f9acca67d3 AP_Mission: Align with spec better
84bdf15203 AP_Airspeed: updated comment to match PR
efd0f0b832 modify NavEKF2 for AHRS Test
d619d33374 AP_HAL_PX4: UARTDriver: Delete the condition that does not hold.
eea7758a63 AP_Baro: added GND_EXT_BUS option
57facb4a9d autotest: removed ARSPD_ENABLE parameters
7c058c922f Tools: removed ARSPD_ENABLE parameters
43bac678cd AP_Airspeed: Added MS5525 airspeed driver
04731dccd6 AP_Airspeed: rename MS4525 driver
e2192d5b4d HAL_PX4: report user bus number not system bus number
c657ad449b AP_HAL: added get_bus_address()
60c29417f1 AP_HAL: added uint16 access functions
bc33c19f21 AP_IRLock: fixed build
8b8837ab72 GCS_MAVLink: fixed build
bdc41446ae AP_OpticalFlow: fixed build
1e691cdefc Plane: fixed build
14a1f559c7 AP_Airspeed: added ARSPD_TYPE and use standard driver backend methods
b614b41d6d AP_TECS: fixed compiler warning
725a9c40a6 AP_Landing: fixed compiler warnings
79a9e8dfad AP_Math: Matrix_alg fix implicite cast from bool to float
da1f784e78 Plane : quadplane change to float to avoid the loss of a fractional part
f54cf6e097 AP_NavEKF: storeIndex remove second initialisation
de05e6ba29 InertialSensor : MPU9250 utilize an explicit type cast to avoid the loss of a fractional part
13c16e187f InertialSensor: MPU6000 utilize an explicit type cast to avoid the loss of a fractional part
a5161edc97 SITL: remove duplicate
421524951f AC_PosControl: remove unnecessary parentheses
f2ea388a69 Copter: control_auto remove misplaced parenthesis
3fc17a5ed5 Copter: avoid must be initialized after fence as it use it
fb7a00799f AP_Math: quaternion fix missing return
3bdeac78c7 Tools: Add Range11 to locations.txt
556eb88fe5 Copter: fix compile when precland is not selected
e150ff369b Tracker: Add compass cal capability
31e0c02030 Rover: Add compass cal capability bit
8c077a357c Copter: add compass cal capability bit
da400dc643 Plane: Add compass cal capability bit
abc2cdb61b AP_FrSky_Telem: fixed sign of vertical velocity (+ve up)
f9c8827809 SITL: Scheduler correct misplaced parenthese && switch to do while loop
86e495f415 AP_Arming: Do not set check results each time.
202c33491e RangeFinder: remove useless returns and update comment
a99bde9dad RangeFinder: Change type determination from if state to switch state.
7e33ba04a9 AP_HAL: Add BBBmini PX4FLOW I2C bus number
9dd46aa03a Plane: post msg if aborting via throttle
608da33d80 AP_Landing: merged GCS text for aborted landing
5f41b09fde HAL_PX4: Add input parameter check.
696828c144 Plane: increase landing airspeed scaled to headwind
3a9ad24907 AP_Landing: compute wind_alignment and half of head-wind
5367c81d43 mavlink: reference NAV_CMD_PAYLOAD_PLACE message
4aab4f72b6 Copter: move to releasing payload if we are landed
0e2b3781ae AP_Gripper: a valid() method
4a1439ca0b AP_Gripper: add grabbed and released method
289aba4350 Copter: support for NAV_CMD_PLACE
20b83861e9 AP_Mission: support for NAV_CMD_PLACE
20b86605fa SITL: gripper closes faster, vary load carried by gripper
b751f836bb SITL: attach a string with a mass on the end to servo gripper
f8918d15b1 SITL: add a hagl method to aircraft
f1c23dc9be SITL: remove argument to on_ground
e24f3f9419 SITL: correct on-ground correction
319cfa766b RC_Channel: add method to get current radio out for a function
23480a92ad HAL_PX4: only include parts needed for build
6bc0c76d54 HAL_PX4: update for new AP_FlashStorage API
bfd137e36a AP_FlashStorage: added erase_ok callback
0e00c3cf9b AP_FlashStorage: reduced sector size for example
cd506834b7 mk: added AP_FlashStorage to makefile build
a66924422f HAL_PX4: implement optional flash backend for storage
7e0d904657 Tools: link in AP_FlashStorage
b0832e6c15 HAL_PX4: factor out storage functions
d4f679f954 HAL_PX4: removed support for old storage files on microSD
4cfd63c30a HAL_PX4: refactor storage to use bitmask class
6adad11e2f AP_Common: added simple bitmask class
ed8f9b444a HAL_PX4: fixed whitespace
7ba957b946 HAL_SITL: flush stdout on panic
fc21e0f16f AP_FlashStorage: a flash storage driver
a1bce2b54d AP_Compass: use get_random16()
a8d10e8c2c AP_Math: added get_random16()
cd57422eed AP_Baro: set retries high during init of MS5611 on I2C
4f1f6ec019 AP_Compass: added retries during init for i2c devices
28a318145c AP_HAL: move set_retries() up to Device class
e735a56c82 AP_BattMonitor: add default PM definitions for Navio boards
128b4562a5 Copter: 3.4.3-rc1 release notes
cff13e4672 Pozyx: update uno sketch to work with AP_Beacon
b2a1e0cdce Pozyx: add Arduino Uno sketch
6d65b351cd AP_Mount: allow computation of gps point target in earth fixed frame
fc5f4c20cd AP_NavEKF2: remove redundant check of beacon nullptr
08619a96be AP_Beacon: remove debug and editor settings
292257eaf2 AP_Beacon: checksum check uses XOR
bcdd836820 AC_AttControl: remove unnecessary check of thr-mix-min
9426b0b366 Copter: set land_complete to false during auto takeoff
665ba1c009 AP_NavEKF2: Fix bug in reporting of vertical position reset
7f347e39dd AP_NavEKF2: Fix bug in reporting of horizontal position reset
656d9bb2c4 AP_NavEKF2: Fix bug in reporting of yaw reset
5135a11fbc Copter: protect against arming while already armed
865ff753f3 AP_Compass: use LSM9DS1 as primary for Navio 2
96db31635d AP_Compass: set orientation ROLL_180 for LSM9DS1 on Navio2
163fa07ac0 AP_Compass: make orientation of LSM9DS1 compass configurable
181e4de343 Rover: resolve compiler warning
a517db4b5e AP_OpticalFlow: resolve compiler warning
dfd58cc57b AP_InertialSensor: fix build warning for MPU9250
699279ed1f AP_InertialSensor: fix build warning for MPU6000
5009e83b6d AP_Compass: fix build warning for HMC5843
d1f944d0c9 Replay: remove call to EKF1 logging
277ec38adc Replay: add AP_Beacon to build
ae366c0217 Tracker: include AP_Beacon
465c5cc4b9 Tracker: remove call to EKF1 logging
2ee42734f3 Tracker: add AP_Beacon to build
55f316034c Rover: include AP_Beacon
bdfae696ae Rover: remove call to EKF1 logging
0a04bb26f0 Rover: add AP_Beacon to build
d95baf51c9 Plane: include AP_Beacon
d9462d5dbc Plane: remove call to EKF1 logging
3587961be6 Plane: add AP_Beacon to build
74c9c4aa9d Copter: add beacon data flash logging
f2a6a4f4f9 Copter: update beacon updates to 400hz
7a6e30e7b5 Copter: remove call to EKF1 logging
3847975844 Copter: give the AHRS access to the range beacon sensor
21c7ea1df7 Copter: integrate AP_Beacon
8ab5124489 Copter: add AP_Beacon to build
431a74e0b4 DataFlash: log range beacon fusion data
bbdf3982c6 DataFlash: remove Log_Write_EKF
66a9093cd0 AP_NavEKF2: getRangeBeaconDebug returns false on failure to get beacon data
0ec8f0932a AP_NavEKF2: Prevent output of NaN's in range beacon debug output
fbecda7eeb AP_NavEKF2: change order of variable initialisation
82854953e7 AP_NavEKF2: minor comment fix
14a73e499a AP_NavEKF2: initialise two range beacon structures
2ee8250807 AP_NavEKF2: Changes from code review by @muramura
1f4606e48a AP_NavEKF2: protect against null beacon
51ccfca31c AP_NavEKF2: fix format of statustext for beacon init
ef03a85cd3 AP_NavEKF2: add range beacon interface and fusion method
b4961971e0 AP_AHRS: add beacon object to ahrs
4482743af5 AP_Beacon: Improve simulator testing of beacons
1225e18898 AP_Beacon: add sitl testing parameter file
5b83fa3a77 AP_Beacon: added SITL backend
821fc516fb AP_Beacon: library to accept distances from beacons
c4aa37525e SerialManager: add beacon to list of protocols
8af192ed9d AC_AttControl: allow MOT_THR_MIX_MAX to be 2.0
c442082daf PX4Firmware: enable DMA on SPI2 on FMUv2
8468add63e AP_Motors: mark PWM_TYPE as reboot required
ce5ed66b45 HAL_PX4: auto-scale brushed output with ESC output range
e25b7e13e6 PX4Firmware: submodule update
ce517384e1 AP_Motors: support MODE_PWM_BRUSHED16KHZ
b3286c3da0 HAL_PX4: support MODE_PWM_BRUSHED16KHZ
fac8f1db03 AP_HAL: added MODE_PWM_BRUSHED16KHZ
bc45ab5409 DataFlash: add a heartbeat for the io thread in DataFlash_File
e11c276b35 DataFlash_File: stop trying to stuff a uint64_t into a uint32_t
f712dd5d7e Plane: add arming check for logging actually started
fff2068a5a AP_Arming: add arming check for logging actually started
3fbcf40a1a Tracker: do not reset LOG_BITMASK when no CardInserted
09f16fbe79 Rover: do not reset LOG_BITMASK when no CardInserted
7069730d5f Copter: do not reset LOG_BITMASK when no CardInserted
3a095f00f1 Rover: check CardInserted in AP_Arming
784da9d1eb Plane: check CardInserted in AP_Arming
5776b3fddb AP_Arming: check CardInserted in AP_Arming
98b5ab4656 Plane: remove incorrect comment about logging/in_mavlink-delay
d11578f203 Plane: do not reset LOG_BITMASK when no CardInserted
a191792e4b autotest: added octa-quad sim_vehicle.py option
a2e92c4054 AP_BoardConfig: increase uavcan bus settle time to 2s
dab0d8e6e2 Rover: inform dataflash of vehicle arm state
17f5ef4610 Plane: inform dataflash of vehicle arm state
f9802204df Copter: inform dataflash of vehicle arm state
2c8a0a9123 DataFlash: rotate files when vehicle is disarmed
fc79fb4ab4 DataFlash: know about armed state of vehicle
68446722b6 PX4Firmware: submodule update
bcea3ac8d4 Copter: handle rangefinder glitches in alt tracking
939fb8ddd1 Rover: Creating Rover v3.1.0beta6
bac5deed43 AP_IRLock: health reporting based on successful I2C transfer
28b3de91cf AP_Compass: fixed orientation of internal i2c compass for FMUv1
515ceb3ccd Rover: Added logging of the guided commands
40bd3a8861 HAL_PX4: tidy up thread wait code
f039a37971 HAL_PX4: set names on all bus threads
00ccacb2ab AP_HAL: expose device bus number
f04b186879 HAL_PX4: fixed bug in instantiation of I2C bus threads
12e0c840e8 HAL_PX4: set thread names for main threads
4ef4016e5e mk: removed PX4 irlock driver
c62b64a600 AP_IRLock: improved sync protocol for IRLock I2C driver
50db4d362d AC_PrecLand: use new in-tree IRLock driver
c6ea451c56 AP_IRLock: new in-tree IRLock driver on I2C
ca75f1fc12 mk: remove px4flow from build
752a5035d0 waf: remove px4flow from build
22717f23be AP_OpticalFlow: apply yaw for flow in all drivers
06dfbc3e09 AP_OpticalFlow: added common driver for PX4Flow
52715c5d16 AP_OpticalFlow: fixed default pixart flow scaling
9b93e12bbb AP_OpticalFlow: retry config register write up to 5 times
ea462d80e6 AP_OpticalFlow: added _applyYaw method to backend
abc42c737c AP_OpticalFlow: added update function for Pixart flow driver
0be1b1aac2 AP_OpticalFlow: give access to AHRS from all backends
def6e014cf HAL_SITL: removed old optflow simulation
42435e700b SITL: expose height above ground to all models
2e2f8ad8cf AP_OpticalFlow: added SITL flow driver as normal driver
a96ed8c188 AP_HAL: added virtual destructor for Semaphores
0889b25afa AP_OpticalFlow: initial code for Pixart optical flow chip
c37c38f873 PX4NuttX: submodule update
54a87ad35c AP_Proximity: set minimum boundary distance
115bc44d3f Copter: log proximity sensors closest object
7485de3498 Copter: add send_proximity to send distances to GCS
57ae14ab4c AP_Proximity: add get distances, distance_max, distance_min
218c8b2d16 Copter: proximity pre-arm check displays closet object
b46cc623a0 AC_Avoidance: adjust_velocity_polygon accepts body-frame points
55d79d9a32 AC_Avoidance: proximity sensor method re-uses polygon fence boundary code
cdee68174d AC_Avoidance: rename adjust_velocity_polygon_fence
79280036de AC_Avoidance: rename adjust_velocity_circle_fence method
40c4e75ae7 AC_Avoidance: remove unnecessary const float arguments
6293fa1595 AP_Proximity: add boundary points for object avoidance
26332251f5 AP_Proximity: add ignore areas
87dea46f5d AP_Proximity: add get_closet_object for use in pre-arm checks
a56c9545bd AP_Proximity: SITL driver filles in backend sector data
f594a5a7d6 AP_Proximity: move sectors to backend
f9845c93b1 AP_InertialSensor: keep transfers nicely setup for DMA on stm32
37a9a78725 HAL_PX4: avoid bounce buffers for SPI when possible
f3d401abb9 HAL_PX4: fixed FMUv1 build
619cdbe065 Tools: fixed bash syntax error in install-prereqs-ubuntu.sh
df60b4252a HAL_PX4: reduced noise in PX4 console
771cedca3d AP_InertialSensor: reduced number of SPI transfers
fdc94ec28a AP_HAL: fixed frequency init for register checking
dc85ffa834 Plane: move jump_to_landing_sequence() to AP_Mission
40777e9e74 AP_Mission: move jump_to_landing_sequence() to AP_Mission
d4d186058d AP_Landing: move jump_to_landing_sequence() to AP_Mission
1a70e2f353 AP_Landing: new param LAND_TYPE to split current behavior into AP_Landing_Slope.cpp
ac1dced3bf Plane: set landing params as private and use accessors
c7bbb6998a TECS: set landing params as private and use accessors
fe4cd7bbbd AP_Landing: set landing params as private and use accessors
98ae77d6a3 AP_Landing: Migrate the rest of "LAND_" params from Plane to AP_Landing
6544afbcba Plane: Migrate the rest of "LAND_" params from Plane to AP_Landing
d53b177877 AP_Landing: migrate aparm "LAND_" params from plane to AP_Landing
8a5a62cfdc Plane: migrate aparm "LAND_" params from plane to AP_Landing
9f184a1490 Plane: migrate aparm "LAND_" params from plane to AP_Landing
9035dcbbc5 AP_TECS: migrate aparm "LAND_" params from plane to AP_Landing
15ec551990 AP_Vehicle: migrate aparm "LAND_" params from plane to AP_Landing
8f36fe7705 AP_Landing: migrate aparm "LAND_" params from plane to AP_Landing
bfbfc3ea3d Plane: migrate aparm "LAND_" params from plane to AP_Landing
fa991297db Plane: create new "LAND_" param block for AP_Landing
e919afad1e Plane: update comment and remove redundant work
fc84c61672 AP_Landing: add const to all possible vars in function calls
1b0a263761 Plane: remove landing.cpp entirely
fc2f518f31 Plane: revert auto_state.checked_for_autoland back to Plane
3814b5a38b AP_Landing: resorted functions so they line up with plane/landing for easier compare
db42252168 Plane: port the rest of plane/landing.cpp to AP_Landing
75e625fd30 AP_landing: port the rest of plane/landing.cpp
9a79b79f1e AP_Landing: port more from plane
10027b21d6 Plane/AP_Landing: port setup_landing_glide_slope()
f556f705e6 Plane: move various g params to aparms
5dbb2d4c2a Plane: move two functions out of landing.cpp
d2376b7c8b Plane: migrate two helper functions to AP_Landing
896b931a7c Plane: Move auto_state variables to AP_landing members
61b02cb41d AP_Landing: add new library for fixed wing landing abstraction
ce8db1fdba Plane: move struct Rangefinder_State to AP_Vehicle
0ffeed644c Plane: remove define RANGEFINDER_ENABLED - always enabled
3576d06638 Tools: EX700 proximity ignores legs
eaf378cbf0 GCS_MAVLink: updated optical flow send
d3fc878c99 mavlink: submodule update
4530d212f6 mavlink: submodule update
f7273d0e93 Copter: Change from printf statement to print, println statement.
bbf0cfb564 APMrover2: Change from printf statement to print, println statement.
0ee8edc29d Plane: Change from printf statement to print, println statement.
8f80aa9c94 Tracker: Change from printf statement to print, println statement.
f2246326bb AP_Baro: added MS5611 probing, and support 3 baros on Pixhawk2
954728c9e9 AP_HAL: added set_chip_select() API
638e89bd1d HAL_PX4: implement set_chip_select for SPI
60801314e0 HAL_PX4: added different modes for external SPI
bcb6663187 HAL_PX4: added table of actual bus speeds for SPI
27605b0258 AP_InertialSensor: run invensese reg checking at low speed
7100272f14 AP_HAL: default to register checking every 10th call
0e793e1214 HAL_PX4: lower SPI bus speed on invensense devices
7d57f00ca0 AP_Compass: removed debug line
0f984290c3 AP_InertialSensor: enable fast sampling by default on some boards
026c65d364 PX4Firmware: submodule update
f62972d966 AP_Compass: fixed build on bhat
1f403b02ef AP_Compass: switch to continuous 155Hz mode for LIS3MDL
62805f59fa AP_Compass: added AK09916 driver
17a117b324 AP_Compass: be a bit less verbose in startup
0e4b8781b2 AP_Compass: auto-detect LIS3MDL compass
b6b2919126 AP_Compass: don't panic on too many compasses
40ef68f104 AP_Compass: added a LIS3MDL compass driver
f3a778f980 AP_InertialSensor: fixed freeing of fifo buffer
6f28c61c8d AP_InertialSensor: changed SIZE to LEN
cb7f46d653 AP_InertialSensor: fixed handling of user_ctrl register
29bbee421e HAL_PX4: enable sharing of SPI bus with PX4 with DMA
7ad1e98de9 PX4NuttX: support DMA on SPI
9b4c588c09 AP_InertialSensor: adapt drivers for SPI-DMA capable systems
3fad5ca065 HAL_PX4: implement DMA allocation routines
e42bb20052 AP_HAL: added dma allocation routines to hal.util
28daddaaf2 AP_InertialSensor: don't use accumulate approach on Linux or I2C
d9c8db7024 AP_InertialSensor: implement a new strategy for fast sampling
b165e025d9 Filter: added new constructor for 1p filter
7220dc15f9 HAL_PX4: adjusted bus speeds on invensense sensors
5934a099a4 AP_HAL: added support for more SRXL varients
65ce9821be PX4Firmware: submodule update
0a177d04fd AP_NavEKF2: Simply core switch implementation
7d48054e6f AP_NavEKF2: Group GPS innovation tests when compiling error score
e9ea06bd10 AP_NavEKF2: minor comment fix
a32068a973 AC_WPNav: remove ekf position reset handler
1012333eef AC_PosControl: add ekf position reset handling
c615bac1cd AP_AHRS: add getLastPosDownReset accessor
6406e34016 AC_WPNav: remove unused _loiter_step member
0df45703f1 AP_NavEKF2: Fix errors in position reset delta publishing
f6021c959d AP_NavEKF2: capture and publish vertical position reset deltas
e62863f9a1 AP_NavEKF2: Reduce unnecessary EKF core switching
de153ce1d7 AP_NavEKF: Correct the setting process of variable dAngBiasSigma.
ec42ddfb4e AP_NavEKF: style changes (tab to spaces, etc.)
5ed9d22bf6 Rover: correct indentation and style on GCS_Mavlink Remove trailling whitespace, tabs, limit single line if-statement scope, add missing space
326e0f224f Rover: added SYSID_ENFORCE parameter
8c0de11d6d APMrover2: remove double include stdarg.h
e9feb7bdda AP_RangeFilnder: moved the const buffer definition to the header and changed from '8' to 'sizeof(send_request_buffer)'
f97ede9865 AP_RangeFilnder: change send_request_buffer member variable to const and other fixes
e8ff156fa6 AP_RangeFilnder: add clear buffer at INIT state and change send_buffer to member variable to reduce CRC computation for sending request
c1c643e56e AP_RangeFinder: remove clear buffer in send_request
ea0e413b04 AC_AttControl: do not limit rate if ATC_ACCEL_MAX param is zero
ae927e1775 DataFlash: Adjust the return value to the type of the method.
f9b0f9164a AP_HAL_Linux: add TODO to AnalogIn_Raspilot
87c6d5da13 AP_InertialSensor: replace panic() with return
c2125a0078 AP_Baro: wait forever for semaphore on startup
6f82ec0642 HAL_Linux: convert RASPilot drivers to thread per bus
6129b1abb6 AP_InertialSensor: wait forever for semaphore on startup
d50fd3a6cd AP_OpticalFlow: fix onboard init
75a2a1cd6c Tools: Don't install libc6-i386 on 32bit Ubuntu
d97861d685 AP_GPS: Ublox: Skip SBAS request if we don't want to alter it
b7f95d9c25 AP_RangeFinder: remove serial.end and begin
99fafcb495 RangeFinder: add uLanding to TYPE parameter description
148fa03d6b AP_RangeFinder: support MaxBotix Serial rangefinders
44c5fee90d AP_RangeFinder: formatting fixes for uLanding
69bc4c42c9 AP_RangeFinder: Add support for Aerotenna uLanding radar altimeter
faa534cf64 AP_SerialManager: Add support for Aerotenna uLanding radar altimeter
22517422f9 AP_Motors: add option to disable motor PWM output while disarmed
f2a0bf9ad1 PX4Firmware: lower pin speed of external SPI bus
2ed32a3ac0 Copter: added raw RFND logging
6c09758447 AP_RangeFinder: removed momentary spikes in PulsedLight I2C Lidar
252f90ba36 HAL_PX4: drop I2C speed to 100kHz
b3ac4fcb72 GCS_MAVLINK: speed up USB log download
504de3ea9e AP_HAL_Linux: RCInput_RPI: fix whitespaces
aadc1643fc AP_HAL_Linux: reduce speed of MPU* devices
8d3361cef4 AP_HAL_Linux: RCInput_RPI: fix using Util class on constructor
bc476e1987 AP_ADC: fix ADS1115 instantiation
216cf53922 AP_InertialSensor: handle FIFO overflow for MPU6k and 9250
c6b0a71c47 AP_Compass: Calibrator: use inplace initializer on array
b36ee10e7c AP_Compass: fix wrong memset in compass calibrator
451c2f146d AP_AccelCal: fix bug preventing accel cal fit to run more than one iteration
11229d2588 SITL: fix whitespace
631b5c3ebc adding turbulance to SITL
18d4286166 AP_InertialSensor: fixed pixfalcon 9250 detection
78b73d659f PX4Firmware: update bl_update and flash config
e72f5a6240 ArduCopter: enable/disable precision loiter on a switch
2fd6be8ccb ArduCopter: neaten reading of aux switches
9e4628af58 Copter: precision loiter
fd5f79b238 AC_PrecLand: a pure-ArduPilot simulated SITL precision land backend
4df4ba1956 AC_PrecLand: make SITL_Gazebo an alternate backend
d2285ace6c AC_PrecLand: remove unneeded empty handle_msg
03710beb18 AC_PrecLand: make handle_msg impure and do nothing
b9808662b8 Copter: remove dead code
469f0f0bf0 Copter: remove incorrect comment from PRECISION_LANDING block
1eca4e128d AC_WPNav: method to retrieve current desired pilot accels
cb1a5d4c74 AP_InertialSensor: take semaphore for update of accumulators
84aaca7c6e SITL: add missing break
6c9f46bafb Replay: fix shadowed declaration
cf5ed25c9e AP_HAL_Linux: do not attempt realtime when compiling Replay
78d7a144b1 Replay: add close-on-exec to fopen flags
4543f1c548 Replay: check return value from fopen() of output files
1ec7d9befe Tools: add new name to Git_Success
ac3f49b06f RPIOUART_Driver: fix warning
dc86a53862 OpticalFlow: move onboard alloc to init()
f3f1f6b0b6 AP_InertialSensor: fixed gyro orientation on l3gd20H on pixhawk
fbeafa0d0a Update AP_BoardConfig.cpp
e7e3478a58 AP_BoardConfig: add extra uavcan options
c6107d812d waf: Don't use lttng in static builds
32cd49264e travis: revert commit 52854a
7f6ecfca3d Copter: 3.4.2 release notes
37c2c0a822 AP_Stats: fix variable reset time bug
e94c23e0a1 mk: stop ignoring exit status of mavlink header generation
c3cbd7c6f4 mavlink: submodule update
6af00027ab AP_InertialSensor: removed unused variables
86c8145bd9 SITL: Change Flighgear port with instance number
c4b5bd4bd9 SITL: revert fg view to activate by default and use flag to disable it
e2b939df39 SITL: rename simin to rcin for better readability
59c84c637e SITL: make fg view optional
bfbb275577 AP_InertialSensor: on accel cal failure don't save values to zero
a3fcebc501 AP_Param: add set_and_notify to vectors
4c8d151190 Plane: support MAV_CMD_ACCELCAL_VEHICLE_POS
84436ff5ae Copter: sipport MAV_CMD_ACCELCAL_VEHICLE_POS
2879e78230 Tracker: support MAV_CMD_ACCELCAL_VEHICLE_POS
e870c4bf99 Rover: support MAV_CMD_ACCELCAL_VEHICLE_POS
e763896b6a AP_AccelCal: send and receive MAV_CMD_ACCELCAL_VEHICLE_POS
7463d4c8f7 GCS_MAVLink: add function to send command requesting vehicle position during accel cal
bc661f013e AP_AccelCal: use vehicle position values from MAVLink enum
c07f377eb1 AP_AccelCal: make collect_sample responsible for state changes
34649ef66a mavlink: submodule update
b507679630 CPUInfo: Updated the Makefile to use WAF commands
624178f3be AP_InertialSensor: added INS_FAST_SAMPLE parameter
95134d87b0 add support for a user locations.txt file to sim_vehicle
cd67c4c75c Tools: sim_vehicle.py strips comments in locations.txt
c0303ffe8a AP_InertialSensor: temporarily disable fast sampling
ae2dc5570e AP_Proximity: added SITL proximity backend
0168493d8a Tools: correct LogAnalyzer VCC test
4dae7a6f3d Plane: Simplify parameters
ff3eff83bd Added name to Git_Success
b16226dddf AP_Baro: fixed a bug with corrupted conversions in MS5611 driver
ac4b100ae4 AP_BoardConfig: use in-tree drivers for FMUv1
14a26bee6c AP_HAL: fixed ms5611 address on FMUv1
5ed8418305 Plane: move radio init after boardconfig init
00938f7dbb HAL_PX4: fixed enabled channels in init
0502eca7fc HAL_PX4: removed unused variable
c794ad9ee8 AP_InertialSensor: use smaller FIFO buffers
5b411aef65 Rover: Fixed LOITER_UNLIM to be an active loiter
4b04c6d46b autotest: fix MSL altitude, adjust heading
c9d9a94f46 Tools: add name to Git_Success
c62050dc1b AP_GPS_SBF: fix accuracy reported by driver
ac3744ad2b Update GIT_Success.txt
5f3c14ea01 AP_RangeFinder: fixed tabs -> spaces
41018feb3a HAL_PX4: split I2C transfers
0c7dd99d7e AP_RangeFinder: support LidarLite V2 using in-tree driver
52854aab3b travis: temporarily disabled waf build of PX4 boards
a5171834ee Tools: add name to gitsuccess
d12a55f33c Plane: fixed spelling
fd7b313e34 AP_RangeFinder: removed pwm_input_main
a69ff34c80 AP_RangeFinder: try bus 0 and 1 for PulsedLightI2C rangefinder
516141edf3 AP_RangeFinder: start PX4 rangefinder drivers on demand
0fb959a309 AP_RPM: make pwm_input driver start on demand
08f770125e AP_BoardConfig: moved optional sensor startup out of AP_BoardConfig
950fde477d autotest: add two new locations
8d19808152 AP_InertialSensor: fixed missing checked register goto
49856c37f2 AP_InertialSensor: reduce checked register count
4be8f05ad4 AP_InertialSensor: added register checking for LSM9DS0
77a83c091a AP_InertialSensor: added register checking for MPU6000/ICM20608
95a849f472 AP_InertialSensor: added register checking for MPU9250
3289e90134 AP_InertialSensor: added error count increments in drivers
bc614de4b3 AP_HAL: added checked registers interface
4ebf3309f7 AP_InertialSensor: auto-handle invensense sensor changes
8e61b15384 HAL_PX4: added ICM20608_EXT SPI device
e4454c5056 AP_Compass: setup for new PX4 board IDs
41b132e576 AP_Baro: setup for new board PX4 IDs
4f50d67790 AP_BoardConfig: added board type auto-detection
c565c9df35 AP_HAL: added ICM20608 external SPI name
4bf6eb1736 Update GIT_Success.txt
af0ec41652 AP_InertialSensor: fixed accel clip detection with fast sampling
0eac781559 AP_Compass: don't run the AK8963 on the external MPU9250
70c27a85de AP_InertialSensor: on PH2 run the first MPU9250 at 8kHz
111d8c05dc waf: link in less drivers on Pixracer
73122adb78 AP_BoardConfig: removed unused startup functions for Pixracer
3d5c57c5dc AP_Compass: fixed orientation of PH2 in-tree compass drivers
4ba00720aa AP_Compass: make init() private
1ea4c6938c AP_InertialSensor: allow auxiliary bus with fast sampling
8da42b7a8b AP_InertialSensor: fixed temperature for fast sampling case
cb70bae167 AP_InertialSensor: use in-tree drivers for PH2SLIM
c68a6451cb AP_Compass: use in-tree drivers for PH2SLIM
d716bbedee AP_Baro: use in-tree drivers for PH2SLIM
e7a9de9b41 AP_BoardConfig: use in-tree drivers for PH2SLIM
fea7040aff AP_Baro: don't panic when we can't find MS5611
e27a76e460 AP_InertialSensor: fixed auxiliary bus with FIFO enabled
46785e8ecf AP_InertialSensor: improved method for FIFO integrity checking
8a3f6a8902 AP_InertialSensor: use FIFO and implement fast sampling for MPU9250
f94e4b4375 Filter: allow 1P LowPassFilter to work without alpha recalc per sample
2a3d722d8c homework seki
bec09b9a57 autotest: python3 support
5786d66ea1 autotest: simplify start_sitl
4462dcdd4d sim_vehicle.py: add python3 support
f9add59b58 Global: Aggregate the same definitions.
c1647b13eb AP_HAL_Linux: fix leaking strings
3b022c837d PX4Firmware: submodule update
e25a391a8f AP_InertialSensor: fixed typo
d2f6a514b9 AP_InertialSensor: catch FIFO alignment errors using temperature reading
4602b4d679 AP_Compass: improve init and calibration of hmc5843
d248b33104 AP_InertialSensor: simplify config of MPU6000
7137d5c6f2 AP_InertialSensor: switch pixracer to always use in-tree drivers
3d48a72f59 AP_C0mpass: switch pixracer to always use in-tree drivers
b8c789cf35 AP_Baro: switch pixracer to always use in-tree drivers
b0b93f8928 AP_BoardConfig: switch pixracer to always use in-tree drivers
84c3e29891 AP_InertialSensor: use AP_HAL rotations for MPU6000
fd8955a737 AP_HAL: define default rotations for mpu6000 based boards
2f01dfe81c AP_InertialSensor: fixed from review by Lucas
81b933d9d0 AP_InertialSensor: use int32_t summation for fast sampling
b00fd95725 AP_Math: define Vector3l for += op
565f1986e0 AP_Baro: fixed FMUv1 baro and enable in-tree driver for PHMINI
fcf0a4ea59 AP_BoardConfig: use in-tree drivers for PHMINI
b363a65c2e AP_Compass: enable in-tree drivers for PHMINI
03b7bc9e65 AP_InertialSensor: use internal drivers for PHMINI
af1c5fd6d3 AP_InertialSensor: always use FIFO on MPU6000
96e42696b7 HAL_PX4: added icm20608-am SPI device
d778ee2db0 AP_HAL: define device for icm20608 on ACCEL_MAG CS line on px4
07515aa7f7 PX4Firmare: submodule update
b34ab2956b HAL_PX4: added access to external SPI connector on FMUv2
fde80a9408 AP_InertialSensor: modify LSM303D settings to match PX4 driver
875fa60452 AP_Compass: fixed external I2C HMC5983 rotation on pixhawk
01fadb6e90 HAL_PX4: added per-device perf counter for I2C devices
a9a5e50bd1 AP_InertialSensor: removed timer callback for MPU6000
42f242a07b HAL_PX4: fixed build on PX4-v1
bd8867be38 AP_Compass: cope with NULL dev pointer in driver probe functions
ba9b475782 AP_HAL: added MS5611 on I2C for px4-v1
4cf6dd1818 HAL_Linux: removed panic on bad SPI device
20cd165476 HAL_PX4: allow for missing SPIDevice table entries
bd84e592f8 AP_InertialSensor: check for NULL device pointer in probe()
731691ba51 PX4Firmware: submodule update
3b53caad87 AP_Compass: keep old hmc5843 ID
02c2ba1331 AP_Compass: fixed dup semaphore bug
f31a017ace AP_Compass: changes to HMC5843 driver
f62851f780 GCS_MAVLink: added remote device operations
922d5a74f7 HAL_PX4: print msg when I2C device is closed
df3e434607 Copter: use handle_common_message()
90c4214a3e Tracker: use handle_common_message()
84179588a9 Rover: use handle_common_message()
cb57945e9e Plane: use handle_common_message()
da7ed73051 GCS_MAVLlink: added handle_common_message()
e5a4dd4e56 HAL_PX4: added perf counter on SPI devices
8bca8545a2 HAL_PX4: removed unused devname field in SPIDevice
05769640d1 AP_Compass: support rotations on AK8963
2716ab8408 AP_Compass: added support for per-instance rotations
fac895b0e6 AP_Compass: setup read flag for SPI transfers
18df213069 HAL_PX4: fixed initial SPI bus speed and report new SPI instances
3d7d773883 AP_InertialSensor: added support for ICM20608 on Pixracer
4dc5dc87b5 HAL_PX4: added ICM20608 to SPI table
ea74f8c12c AP_HAL: added ICM20608 INS name
2c1e9024f1 AP_InertialSensor: detect missing accels or gyros
106a91c64c AP_InertialSensor: use init_gyro() on startup
408593465f AP_InertialSensor: fixed rotation for mpu9250 on pixracer
790dd4769b AP_InertialSensor: simplify rotations for MPU9250
38a1f51b53 AP_HAL: define rotations for the MPU9250 in board/linux.h
147b253e65 AP_Compass: make device IDs match PX4 drivers
aa4025bdf9 AP_InertialSensor: make INS sensor IDs match for PX4
76b2759317 AP_OpticalFlow: fixed shadowed variable build warning
9e7e1b2f01 AP_InertialSensor: fixed merge conflicts with patches from Lucas
1990aa96e1 AP_HAL: added get_bus_id_devtype()
104e29acf2 AP_InertialSensor: MPU6000: change accel scale to 16G
dc09661b9e AP_InertialSensor: MPU6000: save driver version
0d3adef8b2 AP_InertialSensor: MPU6000: remove TODO leftover
0a1616cc71 AP_InertialSensor: use correct device IDs on PX4 driver
469efb00f6 AP_InertialSensor: save id for gyro and accel instances
bbb9bfa95e AP_InertialSensor: save only gyro calibration
f81dba2100 AP_InertialSensor: add doc to get_id() of backend
6b88f3367b AP_Common: remove AP_PRODUCT_ID_* macros
ace61087a1 AP_InertialSensor: remove product_id
a6ac02b61f HAL_Linux: implement device IDs for I2C and SPI
de7913e8e9 AP_Compass: implement device IDs for compass drivers
64a5d3938c AP_InertialSensor: implement device IDs for MPU6000 and MPU9250 AuxilaryBus
ac2c25539b AP_InertialSensor: implement device IDs for AuxilaryBus
16489d2a13 HAL_PX4: implement device IDs for I2C and SPI
3d48b6bb3a AP_HAL: added device id tuples to Device class
4ef92b5e39 AP_InertialSensor: enable all 3 IMUs on PH2
e08babb7df HAL_PX4: added new SPI devices for PH2
26ca2dd392 AP_HAL: added more px4 SPI device names
ac0ea12b42 AP_Compass: enable HMC5843 on SPI for PH2
88e24dd8bd AP_BoardConfig: added board type 103
66026100c3 AP_Baro: enable dual baro on PH2
4df9b093c3 AP_Baro: fixed missed samples in ms5611 driver
7c36e14524 AP_ADC: fixed thread usage in AP_ADC_ADS1115
dbd192971f AP_Notify: fixed threading on toshibaled i2c
a9cb03ad74 AP_Notify: fixed threading in two notify backends
6e2fbf1988 AP_OpticalFlow: fixed threading in opticalflow for linux
5cf768ced2 AP_InertialSensor: fixed missing return
4f231f9355 AP_BattMonitor: fixed thread usage for SMBus_I2C
e88519364f AP_RangeFinder: fixed maxbotix I2C semaphore and bus usage
bedee31f61 AP_Baro: fixed semaphore and thread usage in baro drivers
38ff8b3536 AP_InertialSensor: removed unused product_id function in L3G4200D
1c631ea037 AP_Compass: cleanup use of backend semaphores
9afd51350e AP_Compass: use thread per bus in more drivers
974827aa82 AP_Compass: enabled AK8963 on PX4
a06137bb68 AP_HAL: define 9250 devices
4bc5b715bf HAL_PX4: define 9250 and fix SPI bus speeds
a5c5e033d2 AP_InertialSensor: fixed threading and locking in remaining backends
2e4151d14e AP_Compass: enable lsm303d mag on FMUv2
36190ba545 AP_Compass: use thread per bus for lsm303d mag
b92c48548a AP_InertialSensor: added per-instance rotation for LSM9DS0
2df6ed08c2 AP_InertialSensor: added optional per-instance orientation
ac2572384d AP_InertialSensor: added start() method for LSM9DS0
b9e1490740 AP_BoardConfig: added px4io auto-update to AP_BoardConfig
7e803df221 AP_BoardConfig: startup core peripherals for PX4
84f93439ca HAL_PX4: delay peripheral starup
95de899229 mk: removed more drivers from rc.APM
497b87fa65 AP_Airspeed: switched to in-tree I2C driver for all boards
af947dbd38 mk: removed PX4 airspeed drivers
0c13c73aa0 AP_BoardConfig: removed PX4 airspeed drivers
dc439d281e Tools: removed PX4 airspeed drivers
7832f1a1b6 AP_InertialSensor: allow for in-tree drivers for PX4
7bd52eb112 AP_Compass: allow for in-tree drivers for PX4
72c2e3a4d5 AP_Baro: select in-tree vs PX4 drivers at runtime
ce174489c3 AP_BoardConfig: added get_board_type() for PX4
e91b1318fb HAL_PX4: reformat
1bb450c722 HAL_PX4: moved to common DeviceBus class for thread management in I2C and SPI
972f85c490 HAL_PX4: go direct to NuttX for SPI transfers
bf0b0c1773 AP_HAL: fixed HAL_SEMAPHORE_BLOCK_FOREVER to be zero
c7bef33ab7 HAL_PX4: fixed lsm303d SPI name
b697c978e6 AP_HAL: fixed lsm303d SPI name
919aa61918 AP_InertialSensor: support AuxiliaryBus without register_periodic_callback()
e79b4f1c11 AP_HAL: added defines for ms5611 on other SPI buses
5db65cdb6d AP_HAL: added subtype for PX4 FMUv4
254b71468c HAL_PX4: added ms5611_int SPI descriptor
0a28a3a83a HAL_PX4: run SPI priority above boost prioriity
3aa36185e4 HAL_PX4: drop mpu6000 speed to 11MHz
2b66df68a1 AP_InertialSensor: use thread-per-bus for lsm303d and mpu6000
ed6df09d12 HAL_PX4: added lsm9ds0 entries to SPI table
3927994905 AP_HAL: added SPI device names to px4
c2c7284a94 HAL_PX4: implement SPIDevice code for PX4
90dc9e3327 AP_InertialSensor: dummy implementation of register_periodic_callback()
96adfccae3 AP_Compass: switch hmc5983 driver to use periodic callback on the bus
4d5562764a AP_HAL: provide default hmc5983 i2c bus address
0b27478d7b AP_RangeFinder: use thread per bus for LightWareI2C driver
88df9c7029 HAL_PX4: added thread-per-bus implementation for I2C
66d83c12fb pull request test
81bdabe6cb Update index.html
8ede423b34 Update index.html
60ba91aead Disco: add buzzer support
60c59bea4d AP_Frsky_Telem: make frsky_telemetry available to GCS_MAVLINK
8d0fd7cea8 Tools: add AP_Frsky_Telem
9f8d2f0506 GCS_MAVLink: send status_text messages to Frsky lib queue
8761ecca6c Copter: move AP_Frsky_Telem for waf to ardupilotwaf
6dc71beb1e Plane: move AP_Frsky_Telem for waf to ardupilotwaf
ff23658784 Rover: move AP_Frsky_Telem for waf to ardupilotwaf
4a7c9873ef AntennaTracker: include AP_Frsky_Telem lib
37237a5735 Disco_LED: Do not alloc PWM_Sysfs_Bebop objects
0fa441a8a5 PWM_Sysfs: add an init method to do hal dependent stuff.
91c4bf470f AP_InertialSensor: add O_CLOEXEC in places missing it
b7e5f56bd7 AP_Gripper: add O_CLOEXEC in places missing it
8cec2c188f Tools: add O_CLOEXEC in places missing it
4936fd8623 AP_Terrain: add O_CLOEXEC in places missing it
f6d475c1e6 AP_HAL_SITL: add O_CLOEXEC in places missing it
c9eff28c44 DataFlash: add O_CLOEXEC in places missing it
932d1ae244 AP_RangeFinder: add O_CLOEXEC in places missing it
7968736b1c AP_HAL: add O_CLOEXEC in places missing it
490841a814 AP_HAL_Linux: add O_CLOEXEC in places missing it
2e4c1818a3 AP_Common: add missing O_CLOEXEC definition
57aec40acb build: disable O_CLOEXEC for PX4 and VRBRAIN
5b66062f85 AP_GPS_PX4: unsubscribe on driver destruction.
ae8aea482f Copter: 3.4.2-rc2 release notes
69fd0939d9 Copter: 3.4.2-rc1 release notes
e8202d82c0 add my name last line. by tanaka 2016/11/07
3ed66309ec Tools: split pip install into two cmds
d3ad0fb52c mavlink: submodule update
fa9412512c mavlink: submodule update
31b5941c45 SITL: revert increase speed of yaw in copter sitl
b87ad8378b Copter: ACRO_Y_EXPO default to 0
7e031262c3 Tools: remove duplicate from Bebop2 params file
d9e476c96f Tools: Bebop2 param get radio failsafe
fb47480b51 Tools: Bebop params get ground effect compensation
93b88a68a0 Copter: only log proximity if sensor is enabled
53fcbcb6c3 Copter: send ahrs groundspeed estimate instead of GPS groundspeed in VFR_HUD message
b2a6b93d30 Plane: send ahrs groundspeed estimate instead of GPS groundspeed in VFR_HUD message
e8fc5b9552 Tools: add set -x to install-prereqs scripts
30a2472b89 add name
ceaa9474ed AP_RangeFinder: change enum name, add "state" word
4329cdbf2c AP_RangeFinder: change comment about fall through LEDDARONE_MODBUS_INIT case
3b8d36314c AP_RangeFinder: add comment about no break at LEDDARONE_MODBUS_INIT case
0eeca3ee0b AP_RangeFinder: remove case indent
4ca1eefd50 AP_RangeFinder: change magic numbers to define
6254787186 AP_RangeFinder: remove break in LEDDARONE_MODOBUS_INIT case and  and use () around (read_len == 0) for clarity
5e5a806979 AP_RangeFinder: modified regarding to advices from @magicrub - san.
4b127edd5e AP_RangeFinder: fixed LeddarOne busy wait
c843fedd77 Added name to GIT_Success.txt
02da4d58a9 GIT: Added name success.
e54cf6c2b6 Test Committed from MAC Computer
b34c14ef67 Tools: update EX700 parameter file
530955c15f AP_Frsky_Telem: remove arming check for transmitting params
039d12bd55 AP_Gripper: add parameter unit and remove print on grab or release
d9cbcd9487 SITL: a simulator for the EPM grabber
7200692137 RC_Channel: make EPM a subclass of AP_Gripper_Backend
236b8ab6b7 Copter: make EPM a subclass of AP_Gripper_Backend
48cd35609c AP_Gripper: make EPM a subclass of AP_Gripper_Backend
15b271ec13 AP_EPM: rename in preparation of becoming a AP_Gripper backend
920868145c Copter: support for AP_Gripper
d2e798d549 RC_Channel: alias k_epm to k_kgripper
d439bbe5bf SITL: SIM_Gripper_Servo, a simulated servo gripper
a8435de65a AP_Gripper: a general gripper frontend
5a96db5a44 AP_Frsky_Telem: replaced timer cond > with >=
e43b2a73da AP_Frsky_Telem: increase sending params priority
75905be376 AP_Frsky_Telem: simplified set_is_flying and moved to header file
bc4ab70c1c AP_Frsky_Telem: added const to some declarations
68b10979c3 AP_Frsky_Telem: added extra parentheses around pointed to values for readability
328e6d6886 AP_Frsky_Telem: removed sending redundant VSpd, Alt, and VFAS sensor values, which can now be handled by OpenTX
0638ec7dfe Tools: add pkg-config-arm-linux-gnueabihf package
25f6d29d97 Tools: rename BEBOP to generic ARM_LINUX
530d3230df Linux: Scheduler: don't ignore return values
f66be99f96 PX4Firmware: removed LED breathing on PH2
c19ef757ef Tools: add IRIS AC3.4 params file
1df8acf5cd Copter: remove intermediate variable from throw mode
c5407462d1 Update GIT_Success.txt
3ff965a0c0 DataFlash: remove infinite loop from loop() method
3620529c22 Replay: remove infinite loop from loop() method
2b5f9fdd6b AP_HAL_Linux: teardown scheduler threads
89420e4b2d AP_HAL_Linux: add signal handler for normal termination
fa540429f9 AP_HAL_Linux: allow to teardown bus threads
312a27dd20 AP_HAL: RCInput: rename deinit() to teardown()
89599f7bea AP_HAL_Linux: add unit tests for Thread implementations
992abd170d AP_HAL_Linux: allow to join threads
3b2de6de46 AP_HAL_Linux: allow PeriodicThread to stop
20650e14b7 AP_HAL_Linux: allow PollerThread to stop
da65a5c349 AP_HAL_Linux: allow to wakeup pollable
efe819e21e AP_HAL_Linux: Poller: allow to fail constructor
e5003c3116 AP_HAL_Linux: Poller: add some documentation
da821e69eb AP_HAL_Linux: Thread: allow to use Thread from stack
c430bb29e3 build: allow to have unit tests in HAL implementations
705f96dd3e Build: More changes as we move to WAF
c808ee2f49 Global: To nullptr from NULL.
5386edb791 AP_Frsky_Telem: fix setting of land_complete flag
bae9ce20c1 Plane: update sensor status error flags independently of sending a sys_status message
1aab5eec38 AP_Frsky_Telem: send ap_status only once initialized
e15c234a4f AP_ADSB: Set in the sprintf method.
0028bd7b3c AP_ADSB: Set in the sprintf method.
bf0e7fb3a9 Copter: add compass health to arming check
b9dcf1108d AP_ADSB: do not transmit by default
c5f8d8a695 AP_GPS_SBF: change reported altitude from geoid to MSL
63771707fb Copter: 3.4.1 release notes
2b0f3bd2d8 PX4Firmware: submodule update
7002778871 build: rephrase the need to read waf book
0c1f2ba144 scripts: add cmake to install-prereq scripts
c99a4a6973 Update build_autotest.sh
6c9924f3e9 Add Rahul Nunna to List
594bca2ccf Copter: 3.4 release notes
df23c4857e AP_RangeFinder: disabled LeddarOne driver
8739858658 Rover: redo of commit b24d850695b6e044a1af4f6bf9c0a946c7198c39
aa8cae82b0 Copter: redo of commit b24d850695b6e044a1af4f6bf9c0a946c7198c39
a6a9678e94 Rover: Creating 3.1.0 Beta Release 5
86d4fcfb32 Rover: Station Keeping is implemented via NAV_LOITER_COMMAND
960fd58c9c Rover: Whitespace change only
ab99ea54eb Plane: To nullptr from NULL.
aeb1de08f5 AP_GPS: fix MAV compile error
1997a4e044 SITL: include mass of sprayer payload in vehicle mass
d877a00825 Copter: call run rather than enable for sprayer
0cea47ae54 AC_Sprayer: disentangle ENABLED from permission-to-run
bae89d43fa AC_Sprayer: correct HOWTO, minor cleanups (NFC)
a7867603a0 SITL: SIM_Sprayer: a simulated sprayer
36c0bacada Rover: support for AP_Stats (flight time, bootcount, runtime)
f1b776e4eb Rover: change motor_active to be based on servo out rather than radio in
cfee3b6c0e Rover: add support for ParametersG2
98ae6c776a Plane: support for AP_Stats (flight time, bootcount, runtime)
1bd96ae558 AP_Stats: ability to reset statistics
e6adbceb3e AP_Stats: runtime
d2b7749af3 Copter: AP_Stats flighttime
77064852c4 AP_Stats: AP_Stats flighttime
1bb6350a67 Copter: periodically call stats update
be13de79a4 AP_Stats: a periodic update function, flttime and runtime
df07cb525a Copter: use AP_Stats to store statistics about vehicle
7eff99b053 AP_Stats: keeps track of vehicle usage statistics
9290ee65cc AP_GPS: MAV driver uses existing baud rates
be15fe4100 Copter: version to 3.5-dev
f3b6acb7a1 Git test Yay!
a71e889f51 Rover: To nullptr from NULL.
965a6a5719 Copter: To nullptr from NULL.
cc8dd92a8c Tracker: To nullptr from NULL.
629af84ca1 Rover: update sensor status error flags independently of sending a sys_status message
1b46a71596 Copter: also update sensor status before mavlink send
34718b130a Copter: update sensor status error flags independently of sending a sys_status message
6864864797 JapanDrone school homework
066d066048 AP_BoardConfig: correct parameter metadata
dee3bdbae9 AP_SerialManager: correct parameter metadata
58a03b83ca AP_Terrain: add missing parameter metadata
daf9a45efd AP_TECS: correct parameter metadata
c1f455f904 AP_RangeFinder: correct parameter metadata
ecd061dad5 AP_RPM: add missing parameter metadata
06b616f761 AP_Motors: add missing parameter metadata
9d0d451c48 AP_Mission: add missing parameter metadata
755e76ced9 AP_L1_Control: add missing parameter metadata
7b75a4ec09 AP_GPS: add missing parameter metadata
e4001e67e2 AP_Compass: add missing parameter metadata
a660ffa3fc AP_BoardConfig: add missing parameter metadata
dbecb1bc25 AP_Baro: add missing parameter metadata
42f3f7195b AP_Airspeed: add missing parameter metadata
9a8d3d6e7c AP_AHRS: add missing parameter metadata
71e42a4eac APM_Control: add missing parameter metadata
2e2d39e628 AC_AttitudeControl: add missing parameter metadata
33b7750c7d Plane: remove duplicate parameter metadata
7045013933 AP_Frsky_Telem: use airspeed value w/o constraints of ground speed and AHRS_WIND_MAX
217da05c64 build: Add Urus board to waf
cdfd057690 AP_HAL_LINUX: Added urus macro RCInput_RPI
cae0c11720 AP_HAL_Linux: Added URUS Macro to Util_RPI
37877f1530 AP_HAL_Linux: Added URUS macro to Scheduler
7000124f6a AP_HAL_Linux: Added URUS Macro for GPIO_RPI and UtilRPI
a7b79dc0e2 AP_HAL_Linux: GPIO_RPI: Added URUS Macro.
3742c3b243 AP_HAL: Added subtype board URUS.
473add51f7 AP_HAL_Linux: RPIOUARTDriver: remove dma mention
d3b5089a12 AP_HAL_VRBRAIN: UARTDriver: remove commented out code
a3140df24a AP_HAL_PX4: UARTDriver: remove commented out code
ec4d1eefca AP_HAL_PX4: UARTDriver: fix trailing whitespaces
d60b4842b6 AP_HAL_Linux: reduce scope of dummy buffer
76f1e4243a AP_HAL_Linux: remove double assignment
c898b28962 AP_HAL_Linux: use MIN where possible
05a7eef1a2 RingBuffer: use explict "if" and return early
e8b9c815fc Copter: updates for EKF API changes
b65c559558 Plane: updates for EKF API changes
82365f8670 AP_NavEKF2: save some memory in the position offsets in EKF2
a05d216ce4 AP_NavEKF: make posOffset const ref for optflow
772209b3f3 AP_AHRS: make posOffset a const reference
703ef0ca0e AP_RangeFinder: added get_primary() API
afe2c31ae7 AP_Inertial_Sensor: use const reference
af332cb336 AP_GPS: use const reference
27cdf220de AP_RangeFinder: use const reference
047a09c391 AP_OpticalFlow: use const reference
f722ddf615 AP_RangeFinder: Update parameter documentation
1bde180f98 AP_OpticalFlow: Update parameter documentation
1dec6dd9b0 AP_GPS: Update parameter documentation
7460d97c9a AP_InertialSensor: Update parameter documentation
470f5c4562 AP_InertialSensor: Correct SITL IMU1 accel for position in body frame
d830f68901 SITL: Add angular acceleration to simulator states
747f3a8cfd AP_HAL_SITL: Simulate range finder position offset
a9f63abc6f AP_HAL_SITL: simulate effect of GPS antenna offset
3afe2b1694 AP_HAL_SITL: simulate optical flow sensor body frame position offset
27dab27565 SITL: Add parameters for sensor position offsets in body frame
4499ed437c AP_RangeFinder: remove space before preprocessor directive
3ca6c12344 AP_RangeFinder: Improve consistency of parameter naming
c93c3d54f3 AP_NavEKF2: Don't correct for zero IMU position offset
1890bbdafa AP_NavEKF2: Don't correct GPS for zero position offset
f025c96e63 AP_NavEKF2: Don't correct range finder for zero position offset
9a0ce1d5eb AP_NavEKF2: Don't correct flow sensor for zero position offset
b40016db62 AP_NavEKF2: Fix documentation errors
54a431a51d AP_InertialSensor: Update position offset parameter documentation
13ca62b1c7 AP_NavEKF2: Correct velocity and position outputs for IMU offset
21dcf42c27 AP_NavEKF2: Add missing documentation
8922861359 AP_NavEKF2: Correct optical flow data for sensor position offset
16f021c466 AP_NavEKF2: Correct range finder data for body frame position offset
e884e9cc6e AP_NavEKF2: Correct GPS data for antenna body frame offset
064a106808 AP_NavEKF2: Get IMU accelerometer body position offset data
397033b7c3 AP_NavEKF2: Add flow sensor body position offset to data buffer
92c086b40e AP_NavEKF2: Add rangefinder body position offset to data buffer
3148ad4623 AP_NavEKF2: Add GPS antenna position offset data to data buffer
72db2ebd81 Plane: Add compensation for optical flow sensor body position offset
209e364190 Copter: Add body position offset to optical flow interface
fd905c23e1 AP_NavEKF2: Add body position offset to optical flow interface
8160eca47e AP_NavEKF: update flow sensor interface
6069c37b19 AP_AHRS: add position offset to optical flow interface
9c7ab639a1 AP_OpticalFlow: Add parameters for flow sensor position offset
24f9e7365d AP_RangeFinder: Add parameters defining sensor position offset
6db93d8a21 AP_InertialSensor: Add parameters defining accelerometer position offset
b51c9dea6c AP_GPS: Add parameters defining antenna offset in body frame
0d1e50b50b Plane: fix typo, check wp_nav is initialized
a91da2e803 DataFlash: Change ::bufferspace_available return type
3f1896b9b7 RingBuffer: Remove 'old style' version
c112e1c889 DataFlash: Make use of ByteBuffer class
80cf1207b7 AP_HAL_VRBRAIN: UARTDriver: fix writting with failures
68fc08fe52 AP_HAL_VRBRAIN: fix resetting TX buffer
e8bfcf02a0 VRBRAIN UARTDriver: Make use of ByteBuffer class
4df627693d AP_HAL_PX4: UARTDriver: fix writting with failures
4346f1dd83 AP_HAL_PX4: fix resetting TX buffer
c7a65a026c AP_HAL_PX4: UARTDriver: Make use of ByteBuffer class
26650049c0 AP_HAL_Linux: UARTDriver: fix writting/reading with failures
ce81c45f80 AP_HAL_Linux: UARTDriver: Make use of ByteBuffer class
8526b25654 RingBuffer: Add a faster method to read a single byte
4e86ef9b47 Tracker: Allow compass to manage buffer space for MAG_CAL
b5684e7eb4 Rover: Allow compass to manage buffer space for MAG_CAL
790ddeb04e Copter: Use the compass calibrator autoreboot behaviour
fd24e944b8 Plane: Allow compass calibrator to manage size of buffer
deec4ec6af Compass: Rework compass calibrator
964ddfb0d2 SITL: increase speed of yaw in copter sitl
6869dace08 AP_Frsky_Telem: moved msg queueing of fw string
56432f04d3 AP_Frsky_Telem: fixed airspeed; now same as VFR_HUD
5e42800b5e Disco: add LED support
42672de606 AC_PosControl: set Alt_Hold filter for PID not just D
0523570c5f Copter: reduce dead zone for roll, pitch and yaw input
53486a5725 Copter: increase Autotune test time out for large copters
0a6714f4ae Copter: rename variable ROLL_PITCH_YAW_INPUT_MAX
2698f14d39 Copter: apply yaw expo to all modes
160df59c79 PX4Firmware: submodule update
5a7f9a38fe DataFlash: fix RCIN and RCOU structure types
762a66c9e5 AP_GPS_SBF: Adjust the initial value of HDOP
30233ab9b8 Tools: unhide groups when generating parameters in autotest
2bd13af43d AP_Param: unhide groups when generating parameters in autotest
dd7d41b1f3 SITL: unhide groups when generating parameters in autotest
bc0965bb08 Copter: 3.4-rc7 release notes
d2287caf1c HAL_SITL: removed old servo slew rate code
5e03358b0b SITL: added servo filtering
729765bd30 Tools: correct firmware-version.txt file creation
90979b6db5 Tools: skip malformed firmware-version.txt files
b9270712e4 Tools: fix manifest generation (skip files.html)
10638d72a7 Tools: useful plane run script
539b727e5e AP_HAL_Linux: Remove misleading constant
e88995385a Rover: Creating 3.1.0 Beta Release 4
ce98f032ae Modules: Update to mavlink
2d09db4ecb Rover: added a new form of GUIDED mode
79cb4ea595 Tools: set Disco battery capacity in frame parameters
832fec68b7 Tools: set Bebop battery capacity in frame parameters
3a89421c70 AP_BattMonitor: remove Bebop fixed capacity
c0b913a975 build: Add Dark board to waf
0e19b8c9a0 AP_HAL_Linux: Set initial rotation on Dark to None
6f6112d7c2 AP_HAL_Linux: Add setting for GPIO for Dark board
d2d3119b66 AP_HAL_Linux: PCA9685: Add quinary address
37b85fd3cd AP_HAL: Add Dark Linux board
152edf7189 Global: remove mode line from headers
53d3a799e7 emacs: add a .dir-locals.el
d188504b8b AC_Fence: remove unused variable _boundary_revalidate
6e72c899d1 AP_GPS: AP_GPS_GSOF: remove unused variable
216a6493c9 AP_Compass: AP_Compass_LSM9DS1: remove unused variable
64154feaef DataFlash: remove unused semaphore variables
c664eec93b AC_WPNav: remove unused variable _last_update
6f200cdc3d SITL: SIM_Rover: remove unused variables
e17a71c6cc AP_GPS: AP_GPS_NOVA: remove unused variables
d3422d1653 SITL: SIM_Tracker: remove unused variable
5dad8745d5 DataFlash: remove bogus function declaration
13a0b112c3 Tools: add name to Git_Success
9d6a5c6f04 HAL_PX4: make ready_to_arm state latching
17883f6683 AP_InertialSensor: fix INS_generic example (call BoardConfig.init())
d61775226f Tools: add name to Git_Success
0ad8e180c0 Tools: add name to Git_Success
38110cd469 PX4Firmware: submodule update
2a44e6a7d7 HAL_PX4: cope with no px4io on FMUv2
5ac62c27e2 Plane: reduce change of false rangefinder readings triggering a flare
68f0777dac AP_Param: fixed bug with deeply nested parameter trees
1e2e24eeac Copter: fix wrong range in Throw mode
603f061f58 (retry) Added my name to GIT_Success.txt
80f46c925b Add name to git test
1f160f2903 Copter: minor comment update
00836eea99 added my name to GIT_Success.txt
32a74e37d2 Plane: update version to 3.8.0beta1
8dd122e6df Plane: updated release notes for 3.7.1
9205416695 Copter: setup default safety mask based on motor mask
7bf81c44b0 AP_BoardConfig: allow programmatic setting of default safety mask
750aa2ef8a PX4Firmware: submodule update
0bd3b8ecbd AP_BoardConfig: fixed bug in fmu safety mask set
c825c7b4cc HAL_PX4: disable FMU outputs again on re-engaging of safety switch
8cb93ae7c3 AP_BoardConfig: call PWM_SERVO_IGNORE_SAFETY on fmu as well
07c09ad6dc AP_BoardConfig: expanded bitmask to 14 channels for safety mask
d2e4b73eda Revert "GCS_MAVLink: default to MAVLink2 enabled"
3d1db89655 ArduPlane: Fix typos
01804063f6 Disco: set SCHED_LOOP_RATE to 200
6ccbbb0074 Disco: set WP_LOITER_RAD to 30
352551a239 Bebop2: Remove CR in param file.
15d6c77087 Plane: fixed vtail rudder only planes
bd0d37e2fd Tools: added cmake to ububtu prereqs install
1171b33419 AP_TECS: added TECS_SYNAIRSPEED parameter
7ee42d3a7e AP_TECS: fixed missing doc comment
0bcbf726ac Tools: move Vagrant to 16.10 LTS (Yakkety Yak)
9779511425 AP_NavEKF2: Fix bug in median filter code
d0ba259d0d AP_NavEKF: Fix bug in median filter code
83b8208b8b Copter: fix PRX_ parameters duplicate underscore in param name
2cefaf8a4d autotest: update gazebo-iris parms
6ccf36439d AP_Frsky_Telem: actually set _ap.value flags based in is_flying
d967074183 autotest: disable rebuild-on-failure by default
e6e6e36da7 AP_GPS_MAV: fix hdop conversion
227bd3d13c Frame_params: enabled FS_THR_ENABLE on Bebop and Bebop2
a847520da8 GCS_MAVLink: send RC_CHANNELS_RAW if using MAVLink1
350ed20460 Plane: ensure rangefinder last_time resets
fe3d57b19c Frame_params: fixed scaling errors in Bebop parameters
20dcd6e082 RCOutput_Bebop: fix motor order
8a64106faa Plane: return false when throttle is not suppressed
38581669ec Plane:  slow down home update
54c1efe5e1 Connection to last_letter once again successful
24d3399fd5 AP_Module: report loaded hooks on startup
114b885162 Rover: fixed startup order of setting mavlink system ID
30da64f8ef Tracker: fixed startup order of setting mavlink system ID
c3aaff122b Plane: fixed startup order of setting mavlink system ID
c01a7718c1 Copter: fixed startup order of setting mavlink system ID
33bff3c79c HAL_Linux: fixed transmitter failsafe with SBUS RCInput
8f88d7c784 AP_HAL: fixed comment on XPlus channels
10c3d82c67 Tools: update ci install script
f7d19a6cd7 Tools: update ubuntu install script
110355f14e HAL_Linux: fixed SRXL and DSM
03f5fba021 PX4Firmware: improved SRXL encoder in PX4Firmware
4d44591e62 AP_HAL: fixed decoding of XPlus channels
e9633553fb HAL_Linux: update for changed SRXL API
ec8c22f26e AP_HAL: support up to 20 channels on SRXL
ece0a8721f AP_HAL: added standalone test program for dsm
03f9496549 HAL_Linux: lock onto a single decoder on the 115200 port
513156a4cc HAL_Linux: make 115200 R/C decoders return a bool
710d08da6d HAL_Linux: support SRXL R/C input
7b3d0234d1 AP_HAL: added an SRXL protocol decoder
bb1a787852 AP_Scheduler: To add a comment to _loop_rate_hz variable.
5724aef8b3 Plane: support automatic servo trimming
f9dd31b6e5 RC_Channel: support automatic servo trimming
e391da7aec PX4Firmware: submodule update
e6d5bac527 AP_Param: don't used reserved word in macros
59366b058a Tools: update ci install script
2942b1b56d Tools: update arch install script
08cf58a027 Tools: update ubuntu install script
70375720f3 Plane: fixed throttle slew handling with SERVO_RNG_ENABLE=1
29f4fe2398 Plane: fixed accel based launch with timer enabled
8b7c60dcd7 Rover: use handle_rc_bind
57830784e2 Copter: use handle_rc_bind
6878a9a270 Plane: use handle_rc_bind
792f3b8a15 GCS_MAVLink: added handle_rc_bind()
ba60cce0c1 AP_HAL: simplify the processing of milliseconds from the time
5a9276a5c4 Copter: added SYSID_ENFORCE parameter
3a8e38ee12 Plane: added SYSID_ENFORCE parameter
f01f711ff6 GCS_MAVLink: added accept_packet() hook
16bd04ba7e Tools: update frame parameters for Disco
992bf2368e RC_Channel: cope with SERVO_RNG_ENABLE changing while booted
be1109174e Plane: apply elevon and vtail mixers after SRV_Channel remap
4a9ddf52e0 RC_Channel: constrain output to servo range
2ceddddd3b RC_Channel: don't call output() in SRV_Channel
a369b4833a Plane: fixed throttle channel during startup failsafe
d49f50db4b Plane: don't output aux channels on termination
856b4f4d14 Plane: disable AUX passthrough during termination
78ef3b77c6 RC_Channel: added disable_passthrough() method
57ddc8f58f Plane: use SRV_Channels set_esc_scaling()
2ec439d7e3 RC_Channel: added set_esc_scaling() to SRV_Channels
fcd98e2c44 Plane: implement AUTO_TRIM for SERVO_RNG_ENABLE=1
73b9123495 RC_Channel: added set_trim() API to SRV_Channels object
a23c373f16 Plane: fixed servo mixing for AFS and failsafe case
8170df7ba8 Plane: added servo remapping object
c7f8b255e7 RC_Channel: added SRV_Channels object for remapping output channels
fea7903aa8 RC_Channel: added get_radio_out_normalised()
96c7d9dde8 RC_Channel: make output_trim() go via _radio_out
c7f738c284 Plane: separate out the output channel mixing
eb67c97bb2 Plane: split out flap output functions
a2cdd75870 Plane: removed THROTTLE_OUT define
40c6ebf61a Plane: refactor more of servos output code to be easier to read
6aa3ded666 Plane: split main servo output functions into a separate file
cb977bca6f Copter: 3.4-rc6 release notes
5894a54a16 Copter: althold uses current alt target if active
fec24437f2 Copter: load accel throttle I term from attitude controller input
a124001b8b Copter: get_pilot_desired_throttle gets thr_mid argument default
bead957a78 AP_MotorsMulticopter: limit hover throttle
5c47f3f9e5 Copter: add acro throttle and yaw expo and smoother manual pilot throttle
041ec327a2 ci: add ~/.local/bin to PATH
cc683c1db1 build: use gcc/g++ first
e71c71fcac AP_HAL: correct casting of get_system_clock_ms
0aab175051 Copter: move proximity to g2
fa36b563bc Copter: add advanced failsafe enable to APM_Config
f705bd0d83 Copter: reduce intermediate storage of arming_check results
602d6b1295 PX4Firmware: irlock distortion correction
8df4add729 AC_PrecLand: trust initial velocity less
ec73f563ad AC_PrecLand: do not fuse EKF velocity
7cb9ad6e2b Copter: descend normally from 35cm
f2ef8eec8c Copter: use velocity output from AC_PrecLand
7405f82d61 AC_PrecLand: add ekf to estimate vehicle-relative target velocity
5a8db4f271 AC_PosControl: add interface to override horizontal velocity process variable
25a14fe0dc AP_AHRS: add interface to retrieve corrected delta velocities in NED frame
ccc99c772f Copter: remove union from aux_con for switch state
b23823a934 Copter: delete unused variable from aux switch structure
c1bf23e090 GCS_MAVLink: fixed comment
fcc89a2577 autotest: fixed RC_CHANNELS_RAW -> RC_CHANNELS
ebbcabcb5f Copter: fixed comment
b5a2bf2c6f Plane: only revert a tuning parameter if it has been set
f0f4322500 Plane: add AP_Proximity to build
574976a3b7 Plane: include AP_Proximity in quadplane
89c660eab5 Copter: add pre-arm check for proximity sensor
1665f4d416 Copter: report altitude and position control of new modes in sys-status message
4afa49eebe Copter: report proximity health in system-status
a07ecfe2b3 Copter: log proximity sensor at 10hz
bba7369e9a Copter: pass AP_Proximity to AC_Avoid
fcc2a1b378 Copter: integrate AP_Proximity into main vehicle
5f749a0597 Copter: add AP_Proximity to build
4808664fb6 AC_Avoidance: allow use of AP_Proximity
c3087edbe8 AP_Proximity: add library and SF40C driver
cc0bfcddcb AP_SerialManager: add Lidar360 to protocol list
70265f9100 Plane: fixed bug in transmitter tuning
412dca1615 Rover: deprecate RC_CHANNELS_RAW
27d50988ca Tracker: deprecate RC_CHANNELS_RAW
652b6b7564 Copter: deprecate RC_CHANNELS_RAW
a2aa89dc1e Plane: deprecate RC_CHANNELS_RAW
53260969bb GCS_MAVLink: removed deprecated RC_CHANNELS_RAW and use RC_CHANNELS only
bba5b0e530 autotest: update gazebo-iris parms
a9ccefd547 PX4Firmware: submodule update
e78651e8f2 HAL_PX4: fixed DSM bind on Pixracer
5e829e7720 GCS_MAVLink: most users don't have signing keys
9722c3a1c3 DataFlash: fix logging of ekf core
26c3295042 Copter: ignore first ekf core switch
ec1462dccf autotest: use minimal params for zephyr gazebo model
860f1918e8 autotest: update gazebo-iris parms to be minimal
4c14707611 SITL: set simulation names gazebo-iris and gazebo-zephyr in sim_vehicles.py
7cae83581b SITL: add Gazebo SITL params for Iris with IRLocak tracking, Zephyr elevon flying wing model, and update sim_vehicles.py with GazeboIris and GazeboZephyr labels.
fc13efa673 SITL: update SIM_Gazebo SITL interface servo packet to have 16 floats, matching sitl_input struct.
a8cf38b366 SITL: implement Gazebo SITL for IRLock tracking.
e20687fbce AP_AHRS: cache trim rotation
80d9092993 AP_Math: remove rotateXY and rotateXYinv
dac59cb5da AP_NavEKF2: use exact matrix for trim rotation
3eba985afd AP_NavEKF: use exact matrix for trim rotation
5ff78b8e47 AP_AHRS: fix rotation of acceleration into earth frame
a03fa2d3cf AP_AHRS: use exact matrix for trim rotations
7f09d20e3b HAL_Linux: implement cork and push for remaining RCOutput backends
c8179a0887 HAL_Linux: implement cork/push for RCOutput_AioPRU
e356797888 AP_HAL: make cork() mandatory in RCOutput
0640b6539c HAL_Linux: implement cork()/push() for Raspilot
1d6e4673da HAL_Empty: add cork() and push() for RCOutput
7ea75aaf95 HAL_QURT: implement cork() and push() for RCOutput
5530e3782d HAL_VRBrain: fixed cork() for RCOutput
c493ba81e4 HAL_PX4: fixed cork() for RCOutput
a80eea5de4 HAL_Linux: implement cork()/push() for HAL_Linux RCOutput_Sysfs
97d0553938 HAL_SITL: implement cork() on RCOutput
7cd7f03d56 AP_Motors: fixed use of trim on heli servos
0cd3054a4c HAL_Linux: document the Disco PWM pinout
a5c9fb56af Tools: updated arch install script
b66c3d3915 Tools: added lxml and future for ubuntu users
f3a035694a Copter: fix ekf check to always call mode_requires_gps
c64a020384 GCS_MAVLink: default to MAVLink2 enabled
0445b51143 Plane: fixed throttle slew rate in manual for quadplanes
8432c5fb4a AP_RangeFinder: remove number_detections member variable and add number_detections reference argument to parse_response
43f2482abd AP_RangeFinder: modify spelling and change C type cast to static_cast
6123fad124 AP_RangeFinder: change error and ok status defines to LeddarOne_Status enum
de5b40d70e Update locations.txt
e6eafc4506 SITL- Add EPI Gijon location
77dbf99cee AC_PosControl: fix bug related to ekfNavVelGainScaler
ae53920e5b build: don't build examples with old build system
414977b6c5 Tools: sitl_calibration: add sitl_autonomous_magcal command
226290158b Tools: sitl_calibration: fix PWM values for angular velocity
06c3102701 SITL: SIM_Calibration: bring angular velocity controller back
8358809a02 Rover: Support GPS_RTCM_DATA
ea45e5e6f1 Copter: Support GPS_RTCM_DATA
c255aea358 Tracker: Support GPS_RTCM_DATA (as well as GPS_INPUT)
05d0696b0d Plane: Support GPS_RTCM_DATA
9caf44b494 AP_GPS: update drivers for changed inject_data() API
500df1edf2 AP_GPS: support GPS_RTCM_DATA fragmented MAVLink message
cf5e79f80e AP_GPS: ublox support user controlled rate updates
86c2b1d84a AP_GPS: u-blox Remove 5Hz warning
3e3f539a6a AP_GPS: Raise target baud of u-blox devices
49e47fd679 AP_Frsky_Telem: airspeed scaling factor fix
7041d2587b Travis: added dependency on python future and lxml
b4e56aefb4 mavlink: submodule update
263f685683 Copter: ekf failsafe can trigger in LAND
0a56d69d54 AP_MotorsMulticopter: Use same throttle value used by motors
d74ae535d1 Copter: log EKF lane switch
35864c6226 Copter: move check_ekf_reset to ekf_check.cpp
8c1b551ad9 Added my name to GIT_Success.txt
5d09c78f34 AP_NavEKF2: Always perform optical flow takeoff check when receiving data
a75a383ef2 AP_NavEKF2: Update protection for out of focus flow data
635826c056 AP_NavEKF2: Fix reporting of terrain estimator innovations
b0072b587c AP_NavEKF2: fix reporting of optical flow use status
ed9ecb28fb AP_NavEKF2: Enable entry into relative position mode on start-up
e0b8c54194 AP_NavEKF: Update GPS type parameter description
f9018fcc1b AP_NavEKF2: Enable simultaneous optical flow and GPS use
f135ca5ae7 Copter: reduce repeated string constants
af5a2ea0c6 mavlink: submodule update
3b6e56d1a0 Copter: minor formatting fixes
61fa73f25d Copter: remove return after the Switch statement
ab55991b33 AP_NavEKF2: Report position jumps due to lane switches
337461c16c Copter: pre-arm check of GPS configuration
068c310ed5 Tools: remove hard-coded FRAME global, specify same via parameter
2c0b687b9d Tools: Make default udpout ports scale by instance in sim_vehicle.py
02f49398be Added name to GIT_Success.txt
57c61ace62 Copter: To remove a break after the return statement.
2b144d5c3d Plane: allow rudder arming in CRUISE and FBWB modes
b3eecb87ac Plane: To define the same wording.
c6846062ca mavlink: submodule update
1ece4b6f53 Rover: To add a judgment of 0 degrees longitude.
7148cc6239 Copter: Return value is changed to Enum Value.
60137e0f0b Copter: replace if statement with switch statement
a393bd26d7 Copter: add stick gesture to begin compass calibration
36b5d43efb AC_Avoid: delete variable that is only used once in a simple calculation
cb61840ad2 Plane: tell TECS to use synthetic airspeed during transition
2fab15dcd5 AP_TECS: added use_synthetic_airspeed() API
eec491a1f9 Rover: To add a judgment of 0 degrees longitude.
0d113b265c Examples: fix examples for px4
467da77c77 AntennaTracker: To add a judgment of 0 degrees longitude.
2f18d1de73 Plane: To add a judgment of 0 degrees longitude.
41f2450bf4 mavlink: submodule update
4fc8d99cdf mavlink: submodule update
0b86532b5c Global: Remove '\r' character from all source code files
1fc4a6b19f PX4Nuttx: submodule update
7b981ff83b mavlink: submodule update
714c8fd318 AP_InertialSensor_MPU6000: Add support for fsync bit for Bebop
4e017bf5b3 Plane: fixed loiter mode when Q_GUIDED_MODE=1
0f000efc6f ArduPlane: Fix use of logical op instead of bitwise op
b24d850695 ArduCopter: Fix use of logical op instead of bitwise op
b4a3e8a9c9 APMrover2: Fix use of logical op instead of bitwise op
0ad3b0421f waf: let wrapper exit with error
4b2eedac05 AP_HAL: Split the AP_HAL_Boards.h header into per board sub headers for legibility
841828541d Plane: fixed auto ICE engine cut in QLAND final
3adf8c3e51 AC_AttitudeControl: comment odd math in get_att_target_euler_cd
602b81a4d7 AP_Frsky_Telem: add ekf_status check
27e977289a AP_AHRS: add the get_variances method found in AP_AHRS_NavEKF to AP_AHRS
64a2fca812 Arduplane: simply invalid cmd msg
6f79a8c37c Arducopter: simply invalid cmd msg
c08584d219 APMrover2: simply invalid cmd msg
04ee4141e0 ArduPlane: uniformize verify_command
94e42e870e ArduCopter: uniformize verify_command
6cb71fef0c APMrover: uniformize verify_command
6d09897b19 Plane: fixed VTOL motor termination in AFS
a10cde35f5 DataFlash: stop logging before filling SD card on PX4
25bee93fcc DataFlash: fix EKF5 message
99d48d8bbd AP_FrSky_Telem: cleanup, non-functional change
fcfaa98bb6 AP_Frsky_Telem: reworked _statustext_queue.empty() check
8001cc403b AP_Frsky_Telem: fix is_flying assignment
5e022bf631 AP_Frsky_Telem: fix *_ap.value issue for Plane
620cd06347 PX4Firmware: submodule update
72da58960c Rover: log to dataflash statustext messages from my_gcs
748beb094d Copter: log to dataflash statustext messages from my_gcs
31321b3b60 Plane: log to dataflash statustext messages from my_gcs
42cd8e9721 AP_NavEKF2: Handle yaw jumps due to core switches
8da22e441b Revert 3 commits about yaw reset core switch
ff0d0b1aa5 AP_Frsky_Telem: use ringbuffer for Frsky message queueing
d58c193c90 AP_RangeFinder: To define the OK status to LEDDARONE status.
94f83c3e78 Plane: frsky telem init to utilize default arguments
1bd882a07c Rover: frsky telem init to utilize default arguments
b3d5375aa0 AP_Frsky_Telem: simplify init by assuming everything is nullptr
6991ca53b3 AP_Frsky_Telem: allow default arguments in init() to set things to nullptr
94aa6c4cfb AP_Frsky_Telem: consolidate into a single frsky.init()
4f6a8a017c Plane: consolidate into a single frsky.init()
4c4648bdf8 Rover: consolidate into a single frsky.init()
9c4b3ec1e1 AP_GPS: Fix incorrect incrementing of last_baud rate
7091daa1cf Copter: remove out of date comment regarding autotune
b81074d83a Copter: simplify auxsw duplicates check
edf6964487 Tools: autotest: emit lockfile name in case of contention
36ea946cf5 AP_Compass: use board defined compass ofs max in calibrator
e7656fb7ac AP_HAL: raise compass offset max again for Disco
17fb7dc88f AP_Compass: initialize offset before beginning sphere fit
419f1bc00e AP_Compass: change fixed point format for more range
0652d71a72 AP_Compass: correct wrapping behavior in conversion to fixed point
68df5b7606 Plane: change sensor health check to prevent false positive
5910c94b65 Copter: change sensor health check to prevent false positive
93f2de6780 Rover: change sensor health check to prevent false positive
2ab03c2b83 Update README.md
3a1cd20f11 AP_RangeFinder: To move to the place that use the variable definition for the first time.
8eb7a062c7 AP_Frsky_Telem: tiny text change in statusText
9e0cfc81ea AP_Frsky_Telem: updated sensor_status messages according to what is found in Mission Planner
b8d53e1c58 Plane: change how is_flying bool is assignment in fysky lib
0b666d4933 Plane: Plane support for Frsky passthrough protocol
5125846ac0 AP_Frsky_Telem: Plane support
b2b6c88edf AP_Frsky_Telem: renamed vars and funcs for consistency/clarity
3eb8b5e99f HAL_Linux: added RCInput_Multi
5909552f67 HAL_Linux: added RCInput_115200
2edd914634 AP_HAL: added st24 R/C protocol decoder
9a7af89b30 AP_HAL: added sumd decoder
e913b9a8f7 HAL_Linux: fixed incorrect include
2ebb81b02f AP_NavEKF2: switching compass message to GCS downgraded to INFO
79ed5c7091 AP_BattMonitor: fixed typo
06cccd6d3b AP_BattMonitor: update disco battery lookup table
dac7f45326 Plane: fixed use of multicopter mix_max
5512b6de02 AP_RangeFinder: Cleanup and added comments
e928e20b11 AP_RangeFinder: Ensure no divide by zeros in LeddarOne
b6867e085d AP_NavEKF2: Don't report range finder variance on mavlink if not required
95db9f61cc AP_Module: added velocity_ned to AHRS state
11c376588d AP_GPS_NOVA: support tersus/novatel/comnav gps
8f376944aa DataFlash: immediately restart logging after erasing logs
f94f7e2aa0 AP_RangeFinder: add leddarone to TYPE parameter description
3123bd6d7d AP_RangeFinder: add LeddarOne support
084862a999 Tools: build_ci.sh: make target not required in Replay directory
c23ee3d35c Tools: tag run-in-terminal-window output with RiTW:
909f7779c7 Tools: rearrange sim_vehicle.py to put all functions first
c9435963c8 autotest: use ArduPilot mavlink tree
c275e7c61d SITL: added SIM_SPEEDUP parameter
13fe8cb4d0 AP_OpticalFlow: Changed short boundary the i2c_integral_frame.
06388b0417 Global: Fix typos
a4c1bc3fd3 HAL_Linux: avoiding setting the SPI mode on every transfer
19d580d60f Disco: adjust default Disco parameters
52caf8419e SITL: fixed sense of wind direction
66073413a8 GCS_MAVLink: announce MAVLink2 capability
7936eea1ac mavlink: submodule update
f0290848c0 mavlink: submodule update
a69c1a6f90 build: added pymavlink submodule auto update
8f35305496 SITL: added a simpler compass cal simulation
2d2ed7b06e autotest: added autobuild of disco
65bcead1bd autotest: build bebop static in build_binaries.sh
dd3d5152f6 Frame_params: added more Disco info
94460949e1 Frames: added Parrot Disco parameters
08dc5fab12 Plane: fixed pilot throttle based motor test
d89b82b69f Copter: fixed parameter description typos
f82827ce79 AP_Compass: removed disco special compass offsets
9b8b45b218 Copter: 3.4-rc5 release notes
bb65f4df76 AP_Arming: use HAL defined compass offset max if available
bf67d4277d AP_HAL: define a larger compass offset max for Disco
d6890495aa Plane: added swapped channel version of elevon/vtail/flaperon output
ba5db0c5d8 Compass: add CAL_FIT parameter description values
cb1d3c7ed2 AP_NavEKF2: Allow for terrain gradient when using range finder for height
60d8adcca0 AP_NavEKF2: Fix height drift on ground using range finder without GPS
8797714203 AP_NavEKF2: Fix bug in handling of invalid range finder  data
175faf1e41 AP_NavEKF2: Fix bug in published yaw reset value found during code review
77fad065d1 AP_NavEKF2: use a struct for all yaw step class variables
885bfd1b4e AP_NavEKF2: Handle yaw jumps due to core switches
9b1b18b15b Copter: add sprayer to aux switch options
f37c17bd80 Copter: include spray in build by default
c78dfd4aa4 AC_Sprayer: Change the comment of the variables in the form of doxygen.
fce798bc7a DataFlash: avoid integer underflow
95d4475d45 DataFlash: avoid time going backwards in logs
a8f0291711 Copter: parameter conversion only for matrix multicopters
d0dd10aeea Copter: added DEV_OPTIONS parameter
9b83781b4f Plane: fixed mixer arming error with FMUv4
cc28c8e6ee AP_Airspeed: AP_Airspeed_I2C: get the right status according to datasheet
b1a62d6c8e AP_HAL_Linux: RCOutput_Bebop: fixed potential deadlock
074e9dc9b0 Tools: special --aircraft mavproxy pass-through for sim-vehicle.py
f5be0823f9 sim_vehicle.py: move exit handler and start message
0a75e2f12a sim_vehicle.py: fix indent on epilog
2e240699e6 Plane: final release notes for 3.7.0
26e1c30b19 autotest: avoid a race condition in quadplane test
aa4cde1aae AP_BoardConfig: work around issues with bad components on some FMUv4 boards
9b89b4f561 AP_HAL: Correct HAL_PARAM_DEFAULTS_PATH for Parrot Disco
45bc95edeb Tools: LogAnalyzer: handle changed RCOU and parameters in motorbalance
f42df1bc54 Tools: LogAnalyzer: handle MODE lines appearing before vehicle MSGs
214bca8b30 Tools: LogAnalyzer: correct CTUN test
f1641161d7 Tools: LogAnalyzer: correct Vcc test
b63666d188 AP_Motors: increase MOT_THST_HOVER parameter description range
cadd95fdd8 GCS_MAVLink: Added sanity check for DO_JUMP command on mission load.
e13d5fa0bf ArduPlane: updated Mixer error message
f0247a7be1 Plane: always check that the mixer has been configured as arming check
c5adb91017 Rover: Creating Beta Release 3 with recent parameter corruption fix.
f22f10460a Copter: 3.4-rc4 release notes
85a3fda879 Copter: removed reliance on home_distance and home_bearing which are only in copter
4d03be94cf AP_Frsky_Telem: removed reliance on home_distance and home_bearing which are only in copter
33bd359463 AP_Frsky_Telem: LANDCOMPLETE switched to to ISFLYING flag
4dc98faa48 AP_Frsky_Telem: transmit airspeed instead of groundspeed, if available
8deba69715 AP_Frsky_Telem: added 1 to control_mode passed on Frsky link
4f8cea6844 AP_Frsky_Telem: simplified constructor
1f2d17e8e7 Copter: increase chance that parachute will deploy
7a18d59099 GCS_MAVLink: On mission_set_current report the requested item if the set was a success
d0da7411b2 Plane: Fetch mixer status for assessing mixer success
f2997901bd PX4Firmare: submodule update
d50bf93ac9 Plane: update 3.7.0 release notes
46c72a809d mavlink: submodule update
6e2c600fe7 autotest: make px4-clean between px4 builds
670dd22ad9 mk: make px4-clean remove vehicle object files
fdcdcb0033 AC_PosControl: check Z-axis accel imax can always overpower hover throttle
aafd1512e4 HAL_PX4: limit IMU target temperature to 65
c0d21c5730 AP_Module: added gyro_bias to AHRS structure
334db0a1a5 AP_AHRS: added get_primary_accel_index() and get_primary_gyro_index()
902daff3a3 AP_Module: added FSYNC state to raw accel report
6f9530ebaa AP_InertialSensor: added optional FSYNC external sync bit
c62fc336cb AP_AHRS: use current EKF2 IMU core in gyro estimate
dd812cfc0c AP_NavEKF2: added getPrimaryCoreIMUIndex()
d529b5e3b8 autotest: build each set of px4 binaries separately
4c22c59933 mk: fixed bad parameter bug on px4-v2
cfd7268bd5 GCS_MAVLink: check the signing key magic on load
b9c4a948d1 AP_BoardConfig: fixed startup ordering change in canbus vs external mag
f1f8233220 Rover: Return RESULT_FAILED for GET_CMD_HOME if home is unset
bec4bfa2ba Copter: Return RESULT_FAILED for GET_CMD_HOME if home is unset
2843e266b5 Plane: Return RESULT_FAILED for GET_CMD_HOME if home is unset
95d5752011 build: fix configure check for headers
5c5ddc9d4a AP_HAL: reformat AP_HAL_Boards.h
6a9addb2a8 waf: Add Intel Aero to waf build
13287f61e3 AP_Compass: Make COMPASS_AERO probe BMM150
68fe536da3 AP_InertialSensor: use BMI160 for Intel Aero
025082b280 AP_HAL_Linux: add port to Intel Aero
0b0be31a29 AP_HAL: add defines for Intel Aero
b6c0e11200 AP_InertialSensor: BMI160: convert it to use Device periodic callback
b259356703 AP_Compass: BMM150: convert it to use Device periodic callback
667fca60f5 AP_Compass: BMM150: reduce lock region
c32dc3bc37 AP_HAL_Linux: Add AeroIO communication module
4858afae6c AP_Motors: param description update that MOT_SPIN_MIN should be higher than MOT_SPIN_ARM
b6b10505f1 Rover: New BETA release of Rover 3.1.0Beta2
d149a2e613 Plane: updated release notes for 3.7.0
bf1e0e1536 AP_AHRS: fixed EKF GPS arming check for fixed wing
6849f2223d Plane: set initial alt target on takeoff completion
232347569f AP_RPM: use RPM_SCALING in SITL
acbeb29fbe AP_Frsky_Telem: use const references where possible
3052e8f80b Plane: quadplane calls attitude control parameter check
4832ba4bf0 Copter: call attitude control parameter check
44830be172 AC_AttControl: add parameter check of throttle mix
535158e0d8 AC_AttControl: move var_info declaration
63a6b28065 param_metadata: change Ardupilot site to old Ardupilot site
59ecccd4aa autotest: remove old apm_unit_tests
9e1ffcae5d Tools: update python coding style
38b3d3ff3a AP_GPS_MAV: initialise location while handling_msg
42cca17df4 Copter: update 3.4-rc3 release notes
f6f3718e80 Copter: 3.4-rc3 release notes
a8a31b1c24 Copter: fix health reporting to GCS for optical flow and precision landing
59796aaf9c AP_OpticalFlow: The first value of the register to the value of the definition.
5d7ca3fd27 waf: build_summary: don't call size for empty list of nodes
71212942da AP_HAL: AP_HAL_Linux: align I2CDevice::read_registers_multiple()
cba480d02b Copter: add auto calibration to ESC_CAL parameter description
e4efa4c07c Tools: EnRoute EX700 param file gets flow orientation
198a7d7710 sim_vehicle.py: add arguments to pass args to waf build and configure
e7020b218a AC_Fence: revert param Enable to be FLAG_ENABLE
47c030c4a8 Plane: prepare for 3.7.0beta1 release
3d0516fd57 Plane: added Q_ASSIST_ANGLE
5b81920737 AP_HAL: AP_HAL_Linux: add comment to I2CDevice::transfer()
25c7e8bf60 AP_HAL: AP_HAL_Linux: perfect I2CDevice::transfer()
9eca21c26a AP_Compass: Removed duplicate code
631d4a1152 Replay: add clean target for CI
833f565f09 AP_HAL_Linux: prefix threads with ap
e1ab44f4a3 Global: remove get_fd() from Device API
ead01855df AP_HAL: remove default params for minlure
4fbc686e68 Tools: EnRoute EX700 params get SF10b
33f17588b2 Plane: added auto fence enable on VTOL takeoff
c81d8364ac Plane: check for safety switch state in quadplane motor output
e17c8ac851 Copter: remove non-working reset-to-armed-yaw
d3f8b1b846 Plane: TELEM_DELAY parameter range to 30sec
eded2dee23 Copter: TELEM_DELAY parameter range to 30sec
d39190ff30 Rover: TELEM_DELAY parameter range to 30sec
dfb16dc6e5 PX4Nuttx: submodule update
d186e1c648 Copter: improve the reliability of ESC calibration with OneShot ESCs
e9e3a3f491 AP_Motors: added get_pwm_type()
1a3fc56682 APMrover2: fix typo in parameter
b16369ec8c APMrover2: define ENABLE as ENABLED
fdafa4561c waf: allow to run wrapper on windows
87862a08ab waf: ap_library: make headers whitelist portable
733786830d Copter: config.h fix typo
1a1c749501 Copter: fix typo in parameters.cpp
df99941fc8 Rover: Added support for COMMAND_INT
28715106d6 Tools: update Bebop2 parameter gains
b9d05f4374 uavcan: submodule update
28830f720d waf: update submodule for SAVED_ATTRS fix
d620efbcb7 Rover: if statements is simple.
fd87a4f180 DataFlash: fix unused result warning
f18e0dadc9 Copter: added optional AdvancedFailsafe for copter and heli
1181acc4e4 Rover: add support for SET_POSITION_TARGET_GLOBAL_INT
29e18dba5b Tools: add battery failsafe to EnRoute EX700 param file
28552d5cc9 Copter: Supports COMMAND_INT in the code so added it to capabilites.
777af546e0 Rover: ensure height calcs are using the same origin.
ea7e62df17 Copter: use a constant string for frsky_telemetry init
a4ca4dbd9e AP_FrSky_Telem: use a constant string for firmware version
62388fc991 AP_FrSky_Telem: use constant strings in message queueing
183283ba07 AP_FrSky_Telem: make _msg non-static
2f54e67996 AP_FrSky_Telem: fixed sending last message chunk
893614897e Copter: moved MAV_TYPE to Copter.h
96de005591 Copter: moved MAV_TYPE define to defines.h
a0fb426a34 Plane: fixes for Fraky_Telem API changes
a14ff8ac77 Copter: fixes for Frsky_Telem API changes
203e0c7472 Rover: fixes for Frsky_Telem API changes
185ef73684 AP_Frsky_Telem: fixed usage of sensor error bits
f4d59d720a AP_FrSky_Telem: removed use of pointer to control_mode
a5f20d8c44 Plane: fix for AP_FrSky_Telem API change
0bcc9c4cb0 Copter: fix for AP_FrSky_Telem API change
08b0ba99db Rover: fixes for AP_FrSky_Telem API change
ab77fdfa02 AP_FrSky_Telem: removed dependency on inertialnav
b71e0d73b9 AP_FrSky_Telem: added SPort passthrough protocol
baa3357b21 Copter: changed init for SPort passthrough protocol compatibility
157db51b9d Copter: make control_sensor vars available outside of send_extended_status1
c0bd21d9f2 Copter: compatibility with revised AP_Frsky_Telem class
43006a31a3 Plane: compatibility with revised AP_Frsky_Telem class
b5f75459f2 Rover: compatibility with revised AP_Frsky_Telem class
50eecf58a4 AP_SerialManager: added SPort passthrough protocol
ec157bd4c2 AP_BattMonitor: Get pack_capacity_mah function
a9b01b470c AP_FrSky_Telem: cosmetic changes
5066a5bc73 AP_SerialManager: syntax and minor lib rework
de2a7013b4 AP_FrSky: simplified lib rework
f73fa1fc80 Copter: removed frsky_telemetry_send scheduled task
71921f3aa4 Plane: removed frsky_telemetry_send scheduled task
4030851207 Rover: removed frsky_telemetry_send scheduled task
f09277a0ed PX4Firmare: submodule update
a6b55d90a7 waf: cmake: define a dictionary of supported generators
07592d650e waf: px4: copy with shutil module instead of cp program
e31a06cfdb waf: fix programs searches
f430ef3825 waf: toolchain: override find_g{xx,cc}() instead of wrapping configure()
97613ef961 Copter: By multiple bit synthetic, can this method once access.
e6bef2526c Plane: By multiple bit synthetic, can this method once access.
0e17cff099 Plane: if statements is simple.
bf3f8c05e7 GCS_Mavlink: Correctly check if a channel is streaming
31965689cb waf: persist implicit dependency information across clean
6abcf6150c waf: ap_library: use ap_persistent_task_sigs for header checking tasks
ef4fd0e2d3 waf: add --clean-all-sigs option
0b7a98d40c waf: allow persisting tasks signatures across clean commands
a98c42fef9 waf: define ap_groups in ardupilotwaf tool
a6ec802d28 ap_library: always check included headers when necessary
51bef96811 waf: px4: accommodate use of ap_library
b8e518a533 waf: use ap_library tool
9a6fcafade waf: ap_library: add tool
b191269cc8 waf: px4: run firmware task after link task
8fb6ccc8b7 waf: px4: use copy of "use" in px4_import_objects_from_use()
424f6490fc waf: px4: add missing import Errors
b4403ea0b0 mavlink: submodule update
3aba0d8359 SITL: fixed rover altitude
d26af6c25b Plane: change is_flying() groundspeed threshold to 1.5m/s
a4d0ad8571 AP_InertialSensor: Fix name of sensor
cbbc4d6774 Plane: don't flare due to crash detection unless crash detection enabled
68dfe42443 Autotest: Update logo.png
30e1ee2c8f Autotest: Delete Logo
25f1dbd8c2 HAL_SITL: allowed SITL to reopen uart connections
49b82b767f SITL: added RPM for heli sim
c87fa13e77 AC_WPNav: added WP_RFND_USE parameter
569a7a4abd Tools: sim_vehicle.py - correct process termination
211175efac Autotest: Update Logo
121c7f1136 Update Logo
ac8b17c177 Autotest: Updated website names
798e678615 Rover: By multiple bit synthetic, can this method once access.
6834308fbf waf: always load git_submodule tool
0395141450 Tools: Add name to GIT_Success.txt
dc9c101594 Tools: Git_Success.txt added my name
2d89c631ea Tools: Git test.
9722e921d5 Update GIT_Success.txt
0c2d01b60c add my name
7f0a4e3874 added name to GIT_Success.txt
c2f23b88ed Add GIT_Success.txt
aaebfc9239 added my name to GIT_Success.txt
e9d34c07d2 Copter: reduce scheduler max-time for avoid-adsb from 400 to 100
5c1d49b985 Copter: add new avoidance recovery modes
2da33e41e9 Plane: add Avoid_ADSB support to plane
330c63b010 AP_Avoidance: handle condition where avoid is disabled while avoiding
c06b63b4cd AP_Avoidance: provide different default params for copter vs plane
a1bf791529 Copter: do not report collision warning when action is COLLISION_ACTION_NONE:
b187e1f9a6 Plane: add reason to set_mode()
285e41bac6 Plane: add avoidance_adsb framework for object avoidance
399fa195bb Plane: add comment to FLTMODE param to include AVOID_ADSB
ca32bcc58d Plane: add new flight mode AVOID_ADSB to mimic GUIDED
c4460a285c Plane: remove adsb sensor library based avoidance
8b021c2498 Plane: pre-arm check includes adsb failsafe
fa326de7fa Plane: add adsb to failsafe structure and report in heartbeat to GCS
b564616db0 Plane: GCS_MAVLink passes packets to AP_Avoidance This allows treating GLOBAL_POSITION_INT packets from other vehicles in the same way as ADSB packets
46ec812d6c Plane: add AP_Avoidance to build
85c58e30ec Rover: remove unused defines
44791268ac Rover: use SPEED_CRUISE define from config.h
1612110d16 AP_ADSB: fixed signed int compare compile warning/error and reject >24bit ICAO
78e7acf25c AP_ADSB: do not detect, and thus avoid, yourself
7445fac577 Plane: move mavlink msg handling into library
06b64000e1 Copter: move mavlink msg handling into library
b6810006eb AP_ADSB: move mavlink msg handling into library
d04a5d58fd Copter: decode correct ADSB packet
d482c7f4b7 Plane: decode correct ADSB packet
3ecf2850a8 SITL: fixed send of MAVLink2 pkt
19ac9bce48 SITL: add Ping2020 simulated device
25136ea15a Tools: correct tracker build
f67d247a46 Copter: factor pre-arm checks, continue testing after a failure
08ef3271c1 Tools: bump Vagrant Ubuntu to Wily
ec4c17e630 Copter: Delete a comparison that does not become a true forever.
38fff6d43d RC_Channel: expanded docs for RCn_FUNCTION
c4c7a3051a Plane: added support for secondary throttles
62f3818b83 RC_Channel: added k_throttle
06154fc4ab Copter: use rangefinder to prevent auto-disarm in the air
7ce7eb5a60 Plane: added Q modes to parameter docs
c1480315f5 AP_AdvancedFailsafe: update AFS_TERMINATE on GCS on termination
cee1e37391 AP_AdvancedFailsafe: make relationship to OBC clearer in comment
b29b609bcc Plane: added AFS support for quadplanes
adb5a3ee1f Plane: re-work AFS for new AP_AdvancedFailsafe API
838728348f AP_AdvancedFailsafe: re-work for use as vehicle derived class
5d6dfd927b Plane: changes for AP_AdvancedFailsafe naming
8163db1adb AP_AdvancedFailsafe: cleanups for new naming
cef4635ad9 AP_AdvancedFailsafe: rename from APM_OBC
636188014d APM_OBC: make the ENABLE flag control presence of the parameters
b357a254f6 Plane: use force_safety_no_wait() when re-enabling safety off in mixer
31fb4cc427 Plane: force trims for VTOL motors
119e312cd3 AP_BoardConfig: wait up to 0.4s for safety to be off on boot
dddaded8d4 HAL_PX4: fixed a race condition in force_safety_on/off
76b6cbbda1 Plane: prevent motor startup on reboot in quadplanes
1fa137caad GCS_MAVLink: added handle_preflight_reboot()
00eb5ed355 Git: added name to GIT_Success.txt
e4564de837 Copter: fixed heli criterion for unsetting land_complete
a67b9372fd Copter: check that climb rate is low in landing detector
3041a75798 Copter: limit attitude on landing using WP_NAVALT_MIN
89c10a2db9 Copter: rename WP_TKOFF_NAV_ALT to WP_NAVALT_MIN
8f1f9481eb Tools: added name to GIT_Success.txt
51e8d8a294 AP_GPS: Don't send config blob to GPS unless AUTO_CONFIG=1
7c3b8dceb9 AP_GPS: Fixed GPS serial speeds starting at 1 instead of 0
3dd4f30460 AP_GPS: Adding 19200 as serial speed for GPS
6e643d64b7 Tools: add Kouichi Nakajim to Git_Success.txt
46be2cf026 Tools: build_binaries: fix generation of firmware-version.txt
cd333cb43a Tools: build_binaries: fix check for wrong file
dbdd86ad46 Copter: set SYS_STATUS and HB_Flag Guided bits when in AVOID_ADSB
4cd66d54d1 Copter: fixed adsb pre-arm error text. "Arm" and "PreArm" were swapped
29d4790fc7 AC_AttControl: reduce max_rate_step based on hover throttle
0051ecb288 Copter: fix LAND_SPEED_HIGH
3dfc07789b mavlink: reference MAV_SYS_STATUS_LOGGING commit
6d98dd5233 Rover: add dataflash as a bit for the mavlink SYS_STATUS message
cb7686001f Plane: add dataflash as a bit for the mavlink SYS_STATUS message
4371223738 Copter: add dataflash as a bit for the mavlink SYS_STATUS message
8d253dec8e DataFlash: support for mavlink SENSOR message
a511f97971 Tools: build_binaries: fix inverted condition
30bcea73cc PX4: Added detection for MPU6000 on px4slim.
38150a5544 AP_BoardConfig: defined and managed VRBRAIN board type and all functions for sensors startup
e6c8653302 AP_IRLock_PX4: enabled sensor driver startup on bus2 if don't start on bus1
316e5acaec AP_OpticalFlow_PX4: enabled sensor driver startup for all VR boards
451390ddec VRBRAIN: removed sensor driver startup now managed into AP_BoardConfig
9be5e37faa VRBRAIN: moved common modules into vrbrain_common.mk and disabled unnecessary modules
11fb43e0c9 mk/vrbrain_targets: removed vrubrain-v52 from vrbrain target for mass building - board configuration in progress
80b04ecb41 scripts: update command with sim_vehicle.py
8a3974f08f vagrant: update commands to sim_vehicle.py
06b0dec15e Tools: remove sim_vehicle.sh in favour of sim_vehicle.py
38ebe582cc AP_BoardConfig: fixed for VRBrain build
eaa88b1223 AP_BoardConfig: FMUv1 does not have pwm_input driver
39676d686c AP_BoardConfig: FMUv1 does not have an L3GD20
7da89c611d AP_BoardConfig: use a STATUSTEXT to show better in MP
82382a7e9c Plane: changed startup order
ba7d0d6cd8 Copter: changed startup order
80bad445b8 Tracker: changed startup order
a0d4feb216 Rover: changed startup order
78b2924c00 AP_OpticalFlow: auto-start px4flow driver if enabled
74182b6b3d AP_Notify: auto-start oreoled driver if enabled
e24cebec33 AP_IRLock: auto-start batt_smbus driver if enabled
d05a08ff4d AP_BattMonitor: auto-start batt_smbus driver if enabled
00f3113e83 PX4: removed driver startup from rc.APM
0d59935847 AP_BoardConfig: fixup for merge after VRBrain changes
77bee322e9 AP_BoardConfig: support the PHMINI as BRD_TYPE=5
61e15af3ca AP_BoardConfig: added BRD_TYPE
7c5171e9b9 AP_BoardConfig: set default temperature on PH2 to 60
7806aa4274 AP_BoardConfig: moved optional sensors to the sensor startup
36e0c7229a AP_BoardConfig: implement PX4 driver start in C++
4643d6f314 AP_BoardConfig: break out PX4 setup from main code
e82384990d AP_BoardConfig: moved px4 variables to px4 structure
45fa8faf08 PX4Firmare: submodule update
b310e1f987 Readme: Add coverity badge
53968e5d78 Tools: build_binaries: add bebop to arducopter-quad
6553e428c0 Tools: build_binaries: add navio/navio2 to antennatracker
6e9686a16b Tools: build_binaries: use waf for Linux boards
4eee3b1317 Copter: fix underflow in scheduler
0ed5665193 Copter: change parameter order of guided_set_angle
6dd4e1a2aa Copter: accept yaw rate commands in Guided atttude controller
270fa95a8d AP_Morors: scale colyaw to match previous behaviour
431f7da5b3 Tools: add Shinya Oda to GIT_Success.txt
65ee71075c Tools: set GND_EFFECT_COMP for Bebop2 params
9842840346 Copter: GND_EFFECT_COMP parameter to enable ground effect compensation
68630a86fe Copter: fix logging after log download
f0590581e4 autotest: standardize name of param files
127e86562a AP_Relay: remove FixedWing dependency on airspeed
a66e248f5c AP_Airspeed: remove AP_Vehicle::FixedWing dependency
e0136dc545 Plane: remove AP_Vehicle::FixedWing dependency in ap_airspeed
ce7b766d8b AP_Airspeed: remove AP_Vehicle::FixedWing dependency
f85fc7c1dc Plane: pass in max airspeed via function call instead of using aparm
ae46c38ff7 AP_Airspeed: pass in max airspeed via function call instead of using aparm
ad697243b3 AP_MotorsMulticopter: initialise some members
728e8f8f56 Copter: land_state uses enum
3c87f67212 AC_PrecLand: initialise some members
575795fa84 Copter: CTUN logging checks return value of height_above_terrain
542677f1d5 Copter: land vertical control uses current_loc.alt instead of get_alt_cm
3be76743bf Copter: precland checks get_alt_cm return value
83c3659acc Copter: report version print fix
f4fee69f29 Copter: add div-by-zero check to get_pilot_desired_throttle
20ade3bb17 Tracker: minor formatting fix
0e5a91bb1b Tracker: fix return results from preflight calibration
8bb536b366 Copter: 3.4-rc2 release notes
50b694444b AC_AttControl: correct method comments
3349e24492 Copter: fix autotune unit conversions for step sizes
e6f36f04db AP_NavEKF2: Enable automatic use of range finder height
1586abab8d Revert "AP_Airspeed: Converted library to be stand-alone from APM:Plane."
fc50f145ce Revert "ArduPlane: Convert references to AP_Airspeed.  Added automatic migration of ARSPD_FBW_MIN and ARSPD_FBW_MAX (plane parameter) to ARSPD_FBW_MIN and ARSPD_FBW_MAX (library parameter)."
82777873af Revert "APM_Control: Convert references to AP_Airspeed."
e5bd23e34a Revert "AP_TECS: Convert references to AP_Airspeed."
44037c13a1 Revert "AP_Vehicle: Removed unused airspeed_min and airspeed_max as now part of AP_Airspeed."
aa65fda01c Revert "Replay: Convert references to AP_Airspeed."
8dad05d12e Revert "Airspeed: store reference in libraries and populate it"
d8367ecbef Tools:add Kenji Koseki to Git_Success.txt
be398864b7 Git: add Tatsuya Yamaguchi to Git_Success.txt
5987cc273f AP_HAL_VRBRAIN: added some new modules for I2C wrapper
7ee8898948 AP_BoardConfig: updated defines for VRBRAIN
95ae69eb1c VRBRAIN /AP_BoardConfig: changed definition of PWM_SERVO_MODE_12PWM only for VRBRAIN
bda59b890d VRBRAIN / mk: updated all makefiles and ROMFS for all VirtualRobotix boards
cab1acee46 VRBRAIN / vrbrain_targets: updated makefile for all VirtualRobotix boards
f9e1235593 VRBRAIN / targets: defined all VirtualRobotix targets
810f4bd44c VRBRAIN / environ: added vrcore (VR Core 1.0) and removed vrhero (not used)
024d3311b3 VRBRAIN / AP_BoardConfig: enabled PWM configuration and safety management for all VirtualRobotix boards
9f8b66758c VRBRAIN / AP_OpticalFlow: enabled OpticalFlow_PX4 for all VirtualRobotix boards
6748bdb1a4 AP_Notify/ExternalLED: added HIGH and LOW definition
858c22ae21 VRBRAIN /AP_Notify: enabled tone_alarm for all VirtualRobotix boards
13e3150023 VRBRAIN / AP_HAL_Boards: definition of new board VR Brain 5.4 and VR Core 1.0
b5cf0308cd VRBRAIN / AP_BattMonitor_Analog: definition of default value for battery monitor for all VirtualRobotix boards
4d8e7f1783 VRBRAIN / AP_Airspeed: defined ARSPD_DEFAULT_PIN for VR Brain 5.4 and VR Core 1.0
d8cc2668cb VRBRAIN / AP_AHRS_NavEKF: set AP_AHRS_WITH_EKF1 to 1 only for VR Brain 5.4
998033286d AP_HAL_PX4 / Semaphores: removed AP_HAL_VRBRAIN (for now it's better to have different AP_HAL for PX4 and VRBRAIN)
fde5992b6d VRBRAIN: updated AP_HAL_VRBRAIN
5255f55cc3 Copter: add comments to RTL's compute return target
68d3655195 Copter: fix rtl's use of rally point alt
57977e2d76 Copter: ensure RTL to rally point does not breach the altitude fence
43ad1f372d Copter: change function from computing return altitude to computing return target
e732cda577 Copter: when calculating RTL return alt use rtl_path directly
5b1d22f35d GIT_Test: add Yasuhide Horiuchi to GIT_Success.txt
ab8a6da397 Tools: add name to Git_Success.txt
650d6756bf Tools: update EnRoute EX700 parameter defaults
5b5385715e Copter: manual modes set_land_complete to false
c3d71f733c Copter: remove get_takeoff_trigger_throttle
ac4f36a992 Copter: remove LAND_REQUIRE_MIN_THROTTLE_TO_DISARM feature
d1e257d5b6 Copter: remove unused get_throttle_pre_takeoff
cb5d3238cb Copter: poshold provides throttle feedback from mid-stick when landed
6d9d3c1458 Copter: autotune provides throttle feedback from mid-stick when landed
88da5bd453 Copter: sport mode restructured to match althold and feedback from mid-stick
53f0216269 Copter: sport - fix call to relax_alt_hold_controller
5061b29031 Copter: poshold - fix call to relax_alt_hold_controller
aa4661835e Copter: brake - fix call to relax_alt_hold_controller
5b277f4fb5 Copter: autotune - fix call to relax_alt_hold_controllers
205bac91a1 Copter: loiter spin-up to throttle min (and remove a state)
d9deab9e8e Copter: AltHold pilot feedback only spins up to min throttle
34055944cd AC_PosControl: fix relax_alt_hold_controllers
24044e5611 AC_AttControl: get_throttle_avg_max always returns value in 0 to 1 range
ac04fcd836 AC_AttControl: fix set_yaw_target_to_current_heading
011bc0a350 AC_AttControl: add reset_rate_controller_I_terms()
0582cd254e assignment
de7ec550ae waf: readme:  update instruction with basic usages
97cb766c0f build: add waf wrapper
5fd3c79202 Plane: Fix typos
7a9fe95ccb ArduPlane: Fix typos
1b872b88f8 AntennaTracker: Fix typos
e63e7a5336 AP_NavEKF: comment that param "Enable" index is moved to top
9b33280795 APM_OBC: set param "Enable" to be FLAG_ENABLE and move to top
28648665b9 AP_Terrain: set param "Enable" to be FLAG_ENABLE
ebe829614d AP_Parachute: set param "Enable" to be FLAG_ENABLE
b1ef848de6 AP_EPM: set param "Enable" to be FLAG_ENABLE
0d14941eea AP_Avoidance: set param "Enable" to be FLAG_ENABLE
c07b85f9bb AP_Airspeed: set param "Enable" to be FLAG_ENABLE
dd5ed7e2e0 AC_Sprayer: set param "Enable" to be FLAG_ENABLE
ccb0151816 AC_PrecLand: set param "Enable" to be FLAG_ENABLE
5e811b8463 AC_Fence: set param "Enable" to be FLAG_ENABLE
c090ba2257 Airspeed: store reference in libraries and populate it
96b287735f Replay: Convert references to AP_Airspeed.
bf7ab052c1 AP_Vehicle: Removed unused airspeed_min and airspeed_max as now part of AP_Airspeed.
09d53eaeca AP_TECS: Convert references to AP_Airspeed.
cc5a2417a6 APM_Control: Convert references to AP_Airspeed.
da1b18d918 ArduPlane: Convert references to AP_Airspeed.  Added automatic migration of ARSPD_FBW_MIN and ARSPD_FBW_MAX (plane parameter) to ARSPD_FBW_MIN and ARSPD_FBW_MAX (library parameter).
5439257236 AP_Airspeed: Converted library to be stand-alone from APM:Plane.
63317e9430 Plane: added throttle suppression for quadplanes
66c4995c9d AP_Motors: added get_desired_spool_state()
699d5bf99c Homework at Dronecode seminar
0b492288e7 Git: add Ikegami Atsushi to GIT_Success.txt
22422bd7b3 Copter: autotune bug fix to autotune_updating_p_up_d_down
3b86ef71ca Tools: update EnRoute EX700 parameters
b6c27b58a8 AC_Fence: magic number 4 changed to size of uint32_t
80f3541933 Copter: add configurable arming delay
4a6cc75ebb Copter: whitespace change
f5b4a482b0 Git: add Yu Kuwahara to Git_Success.txt
0141fa972f Git: added Hiroshi Kitaoka to GIT_Success.txt
de24d2ca3b Tools: add EnRoute EX700 frame parameters
9b786559d4 Fixed missing definition error UAVCAN_IOCS_HARDPOINT_SET
fccdcf50c1 EPM: fixed build
8af6af004d EPM: fixed parameter comments
accf118e38 UAVCAN hardpoint control
19d94737a0 autotest: move all default params to default_params directory
ec59a83219 Git: add Murata Katsutoshi to Git_Success.txt
077e03678f Global: Adapt Stream class to be used with Ringbuffer
b856d26087 RingBuffer: ::set_size now returns true or false
f7f203efa9 RingBuffer: Add ::clear() method to discard the buffer content
75a1b102fb RingBuffer: Handle zero sized better
bf5a035024 Git: add Shingo Matsuura to Git_Success.txt
fe48901db0 AP_ADC_ADS1115: Remove resource leak.
36bdd7f1f1 AP_InertialSensor: MPU6000: Add missing read() check
0d4caa3ccc AP_Math: remove declaration of not implemented functions
70942472d3 AP_Math: Matrix: Change deallocator to match allocator used
e17fdb2aa9 DataFlash: Avoid null pointer dereference
595aea236a Copter: consolidate throw mode state into structure
381397c7bd Copter: set throw mode stage on init
807e930251 Copter: throw uses motor spooling instead of interlock
f4f13bbe6b Copter: add throw mode logging
8c5c8eec44 Copter: minor throw mode comment fix
8e58ea9277 Copter: add throw mode defines for required speed
25940c8e0f Copter: add THROW_TYPE and allow dropping vehicle to trigger motors
f0f87a2f0c Copter: add throw_nextmode
64ac18da6c Copter: move throw state into structure
40db19549e Copter: allow taking off in Guided mode's attitude control sub mode
4e92f08bf1 Copter: only accept attitude targets in Guided mode
1161417d7f Copter: add GUIDED_NOGPS flight mode
cc4fafc3e4 AP_GPS_PX4: fixed GPS epoch calculations
5ccd3dfec8 waf: create ap_version taskgen in the corresponding function
2e1ac0de8d waf: make get_legacy_defines() "public"
f2dec971e7 waf: add "ap_" prefix to keywords "libraries" and "vehicle"
282817eeb9 AP_ADSB: revert default enable = 0
b5ec37b9d8 AP_ADSB: change adsb.enable param to be a flag
f90957e7ed Plane: remove all threat logic in adsb lib in favor of avoidance lib
2be32e9daa AP_ADSB: remove all threat logic in adsb lib in favor of avoidance lib
b2b63b4d80 AP_ADSB: change param ADSB_ENABLE default  from 0 to 1
89271c29ab AP_ADSB: move variable into struct like the rest
f7c2df8e91 AP_ADSB: sanity check data via valid_flags before forwarding to avoidance lib
5c0b5f5cd1 AP_ADSB: reject packets that are invalid or already stale
b12edf6a71 AP_ADSB: fix bug where the update timeout wasn't being stored correctly
e0bb77726e AP_ADSB: do not service transceiver if it is not detected
07eb170b39 Autotest: correct mavproxy unloaded map error
bd8526fd68 waf: update to version 1.9.2
2844190e5b AP_RangeFinder: correct DisplayName comments
1bb73383ec AP_RangeFinder: group _ADDR with other first-rangefinder params
d5ffc8a863 AP_RangeFinder: define 3_ADDR when we have three rangefinders
d5c18dc987 AC_AttControl: remove unused 100hz definition
2dc111ff39 Copter: reduce WPNAV_LOIT_MINA parameter description range
7d0cac15fb AP_ICEngine: add casting to avoid compiler warnings
e217faacab AP_Baro: MS56XX: cosmetic changes to members
f7b453359d AP_Baro: MS56XX: convert to threaded bus
052f30bc70 AP_HAL: remove macros to use MS5611 in the main thread
929348ff75 AP_Baro: MS5611: always use timer thread
7b7e73680f AP_Math: add USEC_PER_MSEC
8541d5339d AP_HAL_Linux: Implement threaded SPI
ea0595c7ac AP_HAL_Linux: SPIDevice: move implementation to outside
590539f674 AP_HAL_Linux: implement threaded I2C
11ddbb8fb8 AP_HAL_Linux: add PollerThread
7d451ac876 AP_HAL_Linux: allow to check if thread is running
eca6f45b68 AP_HAL_Linux: remove unused part of Poller infra
0f865a019a AP_HAL_Linux: Add Pollable/Poller
c859c5ecd9 AP_HAL_PX4: update Device interface
eaa1c39a15 AP_HAL_Linux: update Device interface
7669d54265 AP_HAL_Empty: update Device interface
37de995960 AP_HAL: update Device interface for periodic tasks
8e5aba8653 AP_HAL_Linux: I2CDevice: move implementation to outside
7b39f3d0a7 AP_HAL_Linux: do not warn for empty table
f37a560295 AP_HAL_Linux: remove private headers
e8f71a5bd2 AP_HAL_Linux: change define and members visibility
f36e8d9c05 AP_HAL_Linux: remove AP_HAL_Linux_Namespace header
5edb03d184 waf: add option --no-autoconfig
b65f63ffc1 waf: keep non-variant options definitions together
5597cc40e9 waf: update submodule for autoconfigure fix
b044fac4b6 AP_HAL_Linux: rename variable to follow I2CDevice convention
57ec968b44 AP_HAL: remove SPIDriver
dc91dfb446 AP_HAL_Empty: remove SPIDriver
7b140da6d1 AP_HAL_Linux: remove SPIDriver
5ab1c6ff51 AP_ADC: remove ADS7844
ef81e71afa AP_ADC: remove example tailored to a single ADC
3a5e8a17c7 AP_HAL: remove enum id for Ublox and RASPIO
945556bbc3 AP_HAL_Linux: remove id for SPIDevice_Ublox and RASPIO
065592e7df AP_HAL_Linux: SPIUARTDriver: add some cosmetic changes
e3c0476b8a AP_HAL_Linux: SPIUARTDriver: initialize device once
418cc817a3 AP_HAL_Linux: SPIUARTDriver: fix conversion to SPIDevice
cbbd6f9d78 AP_HAL_Linux: SPIDevice: implement fullduplex transfer
9fda608d4a AP_HAL_Empty: SPIDevice: implement fullduplex transfer
01452bf922 AP_HAL: SPIDevice: add fullduplex method
7ded01cf24 AP_HAL_Linux: SPIUARTDriver: use SPIDevice interface
c8bb5e6469 AP_HAL_Linux: RCInput_Raspilot use SPIDevice interface
e8d3229492 AP_HAL_Linux: RPIOUARTDriver: use SPIDevice interface
bfd840c5ca AP_HAL_Linux: RCOutput_Raspilot: use SPIDevice interface
86ac9bc367 AP_HAL_Linux: AnalogIn_Raspilot: use SPIDevice interface
81345cc112 AP_HAL: Remove enum for Dataflash
8681d23cbd AP_HAL_Linux: remove unused Dataflash
f936291a52 waf: set variant of BuildContext classes in configure
9749b91d46 SITL: initialise sigaction structs - valgrind fix
2c41459fe9 Copter: loosen accelerometer consistency check in z-axis
b1f204e2a6 Copter: use constrain_float for target_roll assignment
d1ecc63bf1 AP_NavEKF2: change priority of statustext messages
9666b1478a mavlink: submodule update
5f5c200625 ArduPlane: Fix filename in header
1841313f73 AP_HAL_VRBRAIN: remove I2CDriver
d418338e22 AP_HAL_SITL: remove I2CDriver
13848f0f3f AP_HAL_QURT: remove I2CDriver
2ef78051c1 AP_HAL_PX4: remove I2CDriver
73bb371918 AP_HAL_Linux: remove I2CDriver
3eb0a48d59 AP_HAL_Empty: remove I2CDriver
b21ad36676 AP_HAL: remove I2CDriver
8f11bf7373 AP_ADC: ADS1115: fix typo
c27ebd10c2 ArduPlane: Remove i2c lockup count
c0b49f6aeb ArduCopter: Remove i2c lockup count
3223a1a542 APMrover2: Remove i2c lockup count
d854b55b9f AntennaTracker: Remove i2c lockup count
4595a2b7d8 AP_Compass: Remove i2c lockup count
84f45f09a3 AP_HAL_Linux: convert CameraSensor_Mt9v117 to I2CDevice
cb1c7b66cb waf: add post build callbacks in separate function
d1c5691501 waf: build_summary: let the user register the post build callback
ff8c772776 sim_vehicle.py: correct url
40a594e137 sim_vehicle.py : style correction
9acffc8868 AP_HAL_Linux: use Empty version if not implemented
47d2f8dc6d AP_HAL_Linux: AnalogIn_ADS1115: return 5V on board_voltage
59135fc615 AP_ADSB: fixed comment for default chan -1 means transceiver is not detected
faa6e2fefa Tracker: version to 1.0 including release notes
4d5f1f9a33 Tracker: rename calc_body_frame_target to convert_ef_to_bf and formatting fixes
e174014477 Tracker: fix PITCH_MIN parameter description
33abb619b9 Tracker: roll compensated slewing
16c9023cf0 Tracker: update how current_loc gets location
a693f9ead6 Tracker: compensate for tilt while tracking
c6d3f07b5f AP_RPM: provide an RPM quality in SITL
4ca1b58408 AP_HAL_Linux: add ConsoleDevice a handler for TTIN signal
8d2b587f71 AP_HAL_Linux: RPI: set signal handler iff nobody has already done it before
5e8edcb1db AP_HAL_Linux: use NSIG instead of a hardcoded number in RCInput_RPI
d69aeb4808 AP_HAL_SITL: use sigaction over signal API in SITL_State
61e066513d FlightGear: remove the application
bd8c61542d Replay: make use of sigaction instead of signal API
9576be3a21 Replay: encapsulated signal handling
70c4038751 Replay: changed Makefile to use waf
d19c074ba1 AP_ADC_ADS1115.h: changed member declaration order to resolve compiler warning
3ae36c4a6c AP_HAL_Linux:RCInput: Minimun input channels defined
4a6447575c AP_HAL: fixed and updated RCInput example.
9df58e1e0a AP_Arming: don't show the GPS arming error in SITL
388b7ad6bd Plane: fixed is_flying_vtol() for non-quadplane
a159eedd8c AP_RangeFinder: fix bus for Lightware on some boards
cb01280d77 AP_HAL: define bus for Lightware rangefinder
4dfb277683 AP_RangeFinder: fix LightwareI2C conversion to I2CDevice
5108b4cbb6 AP_BattMonitor: move vehicle dependant code to be c-file only, not header
7721290160 AP_Scheduler:time_available value type invalid uint16_t to valid uint32_t.
d8b58690ad AP_TECS: Remove useless 'if' statement
c6edae7e8e Revert "Global: workaround toolchain problem on windows"
6082472990 AntennaTracker: Delete (wrong) filename out of header
ef0fb97fe4 waf: reduce scope of ant_glob() patterns
e3934fac80 ArduCopter: Delete (wrong) filename out of header
1ad0c685eb waf: add git_submodule post build callback
4bd17ab90c waf: git_submodule: allow warning about skipped submodules updates
4cd70842d9 waf: git_submodule: don't update submodule if non-fastforward
65e19fd9af waf: don't update submodules if not a git repository
2c6340bb10 AP_ADSB: compiler warning: init value before use even though it already is
dce734d196 AP_ADSB: treat invalid vehicle same as out-of-range: ignore and/or delete it
726d1d515e AP_ADSB: use correct units (sec) in time since last update for vehicle update
a8f04bd030 mavlink: update to use mav-collision items
49674abb21 Copter: guided mode's velocity controller stops before fence
7a6e0a981b Copter: simplify guided mode's velocity controller's accel limit calcs
f27cf8d388 AC_Avoidance: add adjust_velocity that accepts Vector3f for convenience
692ff22453 AC_Avoid: move closest_point to AP_Math
2047d53470 Math: move closest_point in from AC_Avoid
dc52f3b2df Copter: guided mode applies acceleration limits to velocity controller
866487608e Copter: rename guided mode's posvel controller target variables
6118bf1b14 Copter: remove adsb sensor library based avoidance
d50987f976 Copter: avoidance_adsb implements copter avoidance using ADSB
df55704875 Copter: pre-arm check includes adsb failsafe
68899ed921 Copter: add adsb to failsafe structure and report in heartbeat to GCS
f4db4bdb08 Copter: GCS_MAVLink passes packets to AP_Avoidance
61844b3062 Copter: add AP_Avoidance to build
89fbf23012 AP_Avoidance: get_location becomes a method on adsb rather than a abds vehicle
b5c1019aac AP_Avoidance: adsb based avoidance library
1cdb97e605 AP_ADSB: support for provision of samples to other libraries
4639d12f0e AP_ADSB: break circular dependency with Avoidance
aae84b3edc GCS_MAVLink: send_collision_all
7bc9a1cf83 GCS_MAVLink: break out a packetReceived function
779f78d471 AP_Math: vector3 perpendicular function
f6cb0ffb6f AP_Math: add Vector2f perpendicular
b6d0b028c3 AP_Math: add operator[] to Vector2
db665e6de7 APMrover2: Fix filename in header
f65b46385c Plane: added engine cut on land final in quadplane
d25396543c AP_ICEngine: report takeoff height set
622d26b122 SITL: expand to 16 output channels
37f71bc6d6 AP_Mission: support DO_ENGINE_CONTROL
327a057ee0 Plane: added internal combustion engine support
db8bf48747 build: added AP_ICEngine to build
461be7ff0e AP_ICEngine: added IC engine control library
be2b6e47aa RC_Channel: added output types for choke, ignition and starter
e73d43d4f9 SITL: improve ICEngine simulation
02babb71b3 ArduPlane: adjust for 16 channels in SERVO_OUTPUT_RAW
387da40fc5 ArduCopter: adjust for 16 channels in SERVO_OUTPUT_RAW
a4270b1bb6 APMrover2: adjust for 16 channels in SERVO_OUTPUT_RAW
53e71ccf12 AntennaTracker: adjust for 16 channels in SERVO_OUTPUT_RAW
306487cad4 GCS_MAVLink: adjust for 16 channels in SERVO_OUTPUT_RAW
995fb7cd86 SITL: added IC engine simulation
87f9d9ebb5 mavlink: submodule update
9602d208a2 Plane: fixed disarm by rudder in quadplane
7ea68f8f80 RC_Channel: fixed function indexes above 64
8e959d4704 AP_Button: check for space before sending BUTTON_CHANGE
65038c753c AC_PrecLand: re-order init to resolve compiler warning
35422e169b Rover: Creating v3.1.0 BETA
cb91f25dd7 AP_ADSB: change adsb-out param desc and defaults
cd0d65dc3f AP_InertialSensor: don't check {gyro,accel}_available twice
9b390fcc1b AP_ADSB: add mavlink handlers
3f195df9f0 Plane: handle ADSB-Out packets
07a838937e Copter: handle ADSB-Out packets
5c3cca7911 Plane: handle incoming ADSB transceiver packet
ebc3a28539 mavlink: add uAvionix vendor for ADSB-out
4ab1d7cf41 AP_RangeFinder: MaxsonarI2CXL: add some fixes
f2d5eb9a97 AP_RangeFinder_MaxsonarI2CXL: Fix driver after I2CDevice conversion
c167364fa0 AP_RangeFinder: MaxsonarI2CXL: use I2CDevice interface
ae259bc563 AP_RangeFinder: LightWareI2C: allow detect method to fail
0193517f30 AP_RangeFinder: LightWareI2C: use be16toh
66fdfbb850 AP_RangeFinder_LightWareI2C: Fix driver after I2CDevice conversion
49d1520850 AP_RangeFinder: LightWareI2C: use I2CDevice interface
a372f33cc0 AP_RangeFinder: fix PulsedLightLRF detection
d653139c5d AP_RangeFinder: PulsedLightLRF: use be16toh
c8094e2593 AP_RangeFinder: PulsedLightLRF: fix coding style
0dc33410ff AP_RangeFinder_PulsedLightLRF: Fix driver after I2CDevice conversion
e1342eb533 AP_RangeFinder: PulsedLightLRF: use I2CDevice interface
a7fddc0594 AP_RangeFinder: add method _add_backend()
64d17702e6 AP_BattMonitor: AP_BattMonitor_SMBus: fix after conversion to I2CDevice
0cf4353382 AP_BattMonitor: AP_BattMonitor_SMBus: use I2CDevice interface
4301faeac9 SITL: map X-Plane Mixture inputs to channels 6 and 7
308ee5fe45 mk: px4: remove misleading warnings about "old trees"
3489f7b576 autotest: use builtin plane sim for autotest
69da7e9f86 SITL: added elevrev option for plane sim
d7faeada87 HAL_SITL: notify GCS on GPIO changes
fd0f31dc44 Rover: added AP_Button support
cb5ca713a9 Copter: added AP_Button support
3f0a8d1761 Plane: added AP_Button support for plane
5b081a704c HAL_SITL: added GPIO simulation
f075fcd79f SITL: added SIM_PIN_MASK
241b6edfcf Build: added AP_Button to build
2ce7b465c1 AP_Button: button monitoring library
c3d39e9906 Rover: added PLAY_TUNE and LED_CONTROL
e943a48eba Copter: added PLAY_TUNE message
7b147e3941 Plane: handle PLAY_TUNE message
7fe1c58575 AP_Notify: added handling of PLAY_TUNE message
c93ba0dcc6 mavlink: submodule update (PLAY_TUNE)
59dc222f41 mavlink: submodule update
90a4b36263 Copter: remove pre-arm check for rally points
25fefe77b7 Copter: add AP_Rally_Copter
ef28be9ce8 AP_Rally: add is_valid method
b8011fd46c Rover|Plane: Just fixing a spelling mistake.
69405cc99a AP_InertialSensor: fix timing debug macro
cfb3124f2c AP_HAL_Linux: remove types for spi drivers
b23f7a8be4 AP_HAL_Linux: examples: remove BusTest
dd36952efe AP_InertialSensor: BMI160: Register poll function with the timer lock
319856b8c7 PX4Firmware: update submodule to fix broken build
fd286498af PX4: added otp to the build
b6addea10b PX4Firmware: submodule update
44a60f278a SITL: change default of SIM_ADSB_RADIUS from 1E3 to 10E3
a5f256229f AP_ADSB: remove mavlink specific source, xml not ready yet
d136737c87 Copter: add ADSB-out support for copter
3177dc2f31 Plane: ADSB service needs to run at 10Hz for dynamic ADSB data
ab38b12f2c Plane: adsb specific status updates
8617880714 AP_ADSB: check buffer space before sending
8b9057f23c AP_ADSB: run dynamic at 5Hz and static/cfg at 5sec
ea0a5c973c AP_ADSB: simplify logic in update_vehicle()
cf77ff6d4f AP_ADSB: convert all function calls to use const and use Location_Class
4c9642ac08 AP_ADSB: callsign gen should use ICAO in hex
69887e1646 AP_ADSB: do not init variables in header class definition
f5bf98041e AP_ADSB: do not spam to all mavlink ports, require the transceiver health heartbeat
b6e25e7d64 AP_ADSB: add support for ADSB transceiver mavlink packets
2223216ca2 AP_ADSB: add param ADSB_LIST_RADIUS to ignore distant aircraft
454560ca4c  AP_ADSB: organize variables into in_state and avoid_state structs
b78255cc25 AP_Common: avoid using AP_Math is_zero() because it is classless
3edd95b99b AP_Common: add Location::is_zero and ::zero member functions
26efd90603 Plane: allow landing height adjustment on wp before land (aka approach wp)
4da3236c07 Plane: separate out landing height adjustment from barometer changes
2b1b23cabf build: fix static linking through --static option
9ea4a9233d autotest: updated OBC2016 mission
003c94830b AP_Airspeed: added ARSP_PSI_RANGE parameter
28d5103435 AP_Airspeed: initial support for MS4515DO on Disco
e0047d81a2 AP_RangeFinder: enable sonar on Disco
018d8f732a AP_Compass: work around poor magnetic setup on Disco
39dac57b56 AP_BattMonitor: support Disco battery monitoring
d30e55fa44 AP_InertialSensor: initial support for Disco
96095b0942 HAL_Linux: fixed comment typo for SBUS input
b69170febd HAL_Linux: fixed build for Disco with I2C changes
f5a20d28bc HAL_Linux: fixed comment in SBUS
a78b875ec3 HAL_Linux: fixed ULTRASOUND GPIO for Disco
1d8e4cdea9 HAL_Linux: added debugging line for Heat_Pwm
55d692708b HAL_Linux: fixed set_esc_scaling on Disco
298f7bffb9 HAL_Linux: fixed motor output for Disco
9b057ee4f1 HAL_Linux: separate out the GPIO table for Disco
677a38a10a HAL_Linux: make SBUS input much more robust
29135a0158 HAL_Linux: use termios2 for SBUS RCOUT on Disco
a40d704126 HAL_Linux: added RCOutput_Disco
cf83a43b56 HAL_Linux: support SBUS input on Disco
aaaa6d38c7 HAL_Linux: initial support for Disco
e407caaa41 AP_HAL: added support for Parrot Disco
3769e0fc64 waf: build support for Disco
9e812d3bda Plane: don't auto-update home and baro on large height change
78fa23440c AP_AHRS: remove use of uninitialised variable
7be15be185 AP_TECS: slew the hgt_lag_filter when starting a land
2527859b59 AP_TECS: update comment on underspeed clearing
293f94b355 AP_HAL_PX4: Util: fix check for PX4_V4
c4b009f4b5 AP_HAL_PX4 : remove unused variable
a1c759e491 SITL: added sensor smoothing
4faa57074a SITL: removed vehicle specific ground handling
e7a54c83d1 SITL: allow SITL to use terrain data for ground height
569cc1c108 Plane: support the LED_CONTROL MAVLink message
c471b635b3 AP_Notify: added NTF_LED_OVERRIDE parameter
567d5cdbe6 AP_NavEKF2: use mavlink messages not printf for state change notifications
bd7bf21475 AP_NavEKF2: Speed improve switch-over to backup magnetometer
e34cdc6666 AP_NavEKF2: Fix bug preventing planes recovering from bad magnetometers
e2b8807260 AP_NavEKF2: Fix bug causing switching in and out of aiding
fcc07b5560 AP_NavEKF2: Prevent multiple aiding mode changes per update
f4f347fb75 AP_NavEKF2: add missing parenthesis and console message
9a23152ee4 AP_NavEKF2: Fix bugs and consolidate aiding switch logic
18c4327a2a autotest: reduce copter test run time
230ba2700f AP_NavEKF2: fix documentation errors
b3bfb71431 AP_NavEKF: fix documentation errors
01ce3e7f1e AP_AHRS: fix documentation errors
7700b1417d AP_InertialNav: Use separated EKF horiz/vert position interfaces
cc0d3b89d3 Replay: use separated EKF horiz/vert position interfaces
5454f76702 AP_AHRS: Add separate interfaces for local horizontal and vertical position
a8cd037f56 DataFlash: update to match revised EKF1 and EKF2 interface
341d070db8 AP_NavEKF2: Separate filter status update and get functions
b1717649b1 AP_NavEKF2: remove combined NED local position interface
e374ec634d AP_NavEKF2: Add separate horizontal/vertical local position interfaces
487bbc3ed2 AP_NavEKF: Fix reporting of position status
04e8726d8a AP_NavEKF2: relax bias convergence check
280395afa1 AP_NavEKF2: Don't declare ready to do aiding unless gyro bias is learned
169cd6625d AP_NavEKF2: clean up output predictor
e0d87bf529 autotest: Increase startup wait time to allow EKF and GPS checks to pass
aaab250f13 AP_NavEKF2: Don't start GPS aiding until gyro calibration has stabilised
601ab9dad0 Plane: remove GCS send_statustext spam
8437de8bff PX4Firmware: update submodule for fixing extra flags
4e2b30b413 Global: workaround toolchain problem on windows
913f88f2be AP_BoardConfig: fix check for PX4_V4
9a9b59a97f waf: boards: fix funny CXXFLAGS typo
6d1acc5813 AP_InertialSensor: BMI160: remove stray call to set speed
6776f8ac76 DataFlash: fixed GPS2 log format
a978277619 mavlink: Doing a submodule update
57c23c7fe3 Rover: Adding support for rovers driving in Reverse.
8d6b417adb AP_SteerController: Adding support for Rovers driving reverse
b56799f444 AP_L1_Control: Adding support for rover's operating in reverse
4e8666cee9 AP_Mission: Adding new MAV_CMD_DO_SET_REVERSE for Rovers.
647602ed4d AP_Navigation: Adding set_reverse to virtual parent class
acaf0c6a5d SITL: LPF the SIM_WIND_DIR and SIM_WIND_SPD values to eliminate step inputs
4e8b4f29d9 SITL: added -heavy option to fixed wing model
d3d2ce3e0d AP_TECS: use full throttle in initial takeoff
a5bac15bbe gitignore: sort entries
fef684c0fb gitignore: ignore logs/ and terrain/ in all vehicles
d1843816ed gitignore: remove entries about APM Planner
ee7c40be61 AP_InertialSensor: BMI160: add backend
a1f151a79b AP_HAL_Linux: do not create unnecessary consoles in UARTDriver
7b3a5e3158 AP_HAL_Linux: use factory method for creation of UARTDriver backends
0ca635bfb8 AP_HAL_Linux: close() console in dtor
e7a5945056 AP_HAL_Linux: make flow_control a property of SerialDevice rather than UARTDriver's
897d2fb1fb AP_HAL_Linux: use OwnPtr for _device in UARTDriver
3f1e999fc8 AP_HAL_Linux: remove ConsoleDevice construction from UARTDriver constructor
fdb43fdc6a Frame_Params: fix param name for bebop
1b8da3bce2 HAL_PX4: implement I2CDevice driver for PX4
fc41e0e44e PX4: updated elf of bootloaders to match
2d3fef72cd PX4: updated bootloaders
1f0f36d603 AP_Notify: NavioLED_I2C: use I2CDevice interface
24cdef24b8 AP_HAL_Linux: remove wrong ifdef
3e765e23a9 AP_HAL_Linux: RCOutput_PCA9685: use I2CDevice interface
d5449a6f20 AP_HAL: Add read method
08ea1ea263 AP_HAL_Linux: RCOutput_Bebop: follow coding style
7fb5db8077 AP_HAL_Linux: RCOutput_Bebop: use I2CDevice interface
a34a5c1aa3 AP_Notify: Display_SSD1306_I2C: Fix after conversion to I2CDevice
f26692de92 AP_Notify: Display_SSD1306_I2C: use I2CDevice interface
213c38afaf AP_Notify: ToshibaLED_I2C: add part number comment
5618008935 AP_Notify: ToshibaLED_I2C: Fix driver after I2CDevice conversion
0b69e43464 AP_Notify: ToshibaLED_I2C: use I2CDevice interface
e5d519edec AP_ADC: AP_ADC_ADS1115: release bus lock as soon as possible
85c0c98194 AP_ADC: ADS1115: fix driver after conversion to I2CDevice
038389f583 AP_ADC_ADS1115: use I2CDevice interface
de5025a46f AP_Airspeed: I2C: fix after conversion to I2CDevice
6c87b2aa7c AP_Airspeed: AP_Airspeed_I2C: use I2CDevice interface
5ef1568137 AP_HAL_Empty: fix sitl
849a83315a waf: git_submodule: fix for Waf 1.9
f579c3e6eb mk: added a global make.inc
7d48b25207 AP_Module: use ifdef in function, not caller
eee9fc88a1 AP_InertialSensor: avoid ifdef for AP_MODULE_SUPPORTED
e82468a529 AP_AHRS: avoid ifdef for AP_MODULE_SUPPORTED
5ce472ab8a AP_Module: changed hook prefix to ap_hook_
e8d8ca5eef AP_Module: updated example module
847bfda48a HAL_Linux: adjust include ordering
dd5d0ffbad HAL_Linux: use default module directory
f29323871f AP_Module: added default module directory
d25db426a3 waf: added AP_Module to the build
33ce1213a2 AP_InertialSensor: call gyro_sample and accel_sample AP_Module hooks
6b6a02e67e AP_Module: also allow export of raw gyro and accel samples
36181b78de AP_AHRS: fixed build for px4
7a2d67bde9 AP_Module: added AP_MODULE_SUPPORTED define
107f76828d HAL_Linux: added AP_Module support
15a01eefb1 AP_AHRS: added AHRS_update hook
bd00beaf99 AP_Module: added external module hook library
59e4e8def6 autotest: make bat files work with multiple versions of flightgear
d1799884b2 Rover: Implemented MAV_CMD_NAV_LOITER_UNLIM
32d5e6162a mavlink: submodule update
b375b33189 waf: allow to disable tests
8967220652 waf: pass uselib_store in check_package()
1b12371e25 waf: use define_name in libdl check
a5adae5fb4 waf: make linux check for libdl
3322d7c321 waf: don't build bebop static
2980d47e23 waf: added check_package() function for pkg-config checks
55e91f0325 waf: added --static option
e64fc08e09 PX4Firmware: submodule update
bf8d36fbe0 mk: add STDC format macros
ee62b61fc7 waf: use STDC format macros
f3f34be9c4 SITL: added comment on heli interlock
8681911a0b Copter: small fix to precision land descent rate
a4827aff53 Copter: slow down precision landing descent based on position error
e22220ab62 Copter: refactor landing to reduce duplication, use vertical vel ff
e311139a21 Copter: use terrain alt for precland if rangefinder is unavailable
0f4367744f Copter: update precland at 400hz, log at 25hz
630e5378da AC_PosControl: add get_horizontal_error
8fe0c1b05b AC_PrecLand: don't run if not enabled
e84d1581ab AC_PrecLand: use new irlock interface, refactor backend interface
6254608c45 AP_IRLock: refactor interface
d16e641709 PX4Firmware: include jshall's IRLock improvements
4f17093add SITL: give a bit more pitch on tail in XPlane heli
fdd20830d6 SITL: use flaps for collective on helis in X-Plane 10
6e224158f1 AP_GPS_MAV: use GPS_INPUT_IGNORE_FLAGS
e34aa0bc72 AP_GPS_MAV: minor formatting fixes
1aaeceac2e Rover: support GPS_INPUT mavlink message
c479fcab39 Plane: support GPS_INPUT mavlink message
860773260f Copter: support GPS_INPUT mavlink message
4249f7dbe6 AP_GPS: Add GPS_MAV type and accept GPS_INPUT message
da71e7667f mavlink: submodule update to include GPS_INPUT
84ce499a0d AP_Baro: remove zero-init in constructor
1d81df8144 Revert "AP_Baro: coverity scan - variables not initialized in constructor"
7751bee3be Revert "Plane: coverity scan - variables not initialized in constructor"
9fb4a928e5 Revert "AP_Airspeed: coverity scan - variables not initialized in constructor"
fc02908c0d Revert "GCS_MAVLink: coverity scan - variables not initialized in constructor"
773372d2f3 Revert "AP_TECS: coverity scan - variables not initialized in constructor"
c38c3ae7fe Revert "AP_TECS: coverity scan: init variable struct"
be752164f4 Revert "AP_L1_Control: coverity scan - variables not initialized in constructor"
871219d199 SITL: support helicopters with X-Plane 10
e8976d3a89 Plane: check for optflow enable in more places
d018a32545 Plane: Only init optflow when enabled by parameter
8793c75da0 AP_NavEKF2: clean up mag field learned logic
e6592186fc AP_NavEKF2: Tuning update
10470b2dc1 AP_NavEKF2: fix bug in initialisation of declination co-variances
6b04a81b8d AP_NavEKF2: Fix plane in-flight yaw reset bug
51dbed2338 AP_NavEKF2: remember mag field states between flight on same power cycle
136df7cb5c AP_NavEKF2: reduce declination errors on start of 3-axis fusion
744f19cd2d AP_NavEKF2: Improve scaling of output predictor I gain
a49c16d63c AP_NavEKF2: Update output filter tuning
55dee347e0 AP_NavEKF2: Fix bug in averaged filter delta time
cc7caa27bc DataFlash: Use a unique struct for EKF2 logging
772c719df3 DataFlash: log tracking error for active instance of EKF2
927186339c AP_NavEKF2: Improved output predictor tracking
00b66ddc07 DataFlash: Log EKF2 output predictor tracking data
253f744824 AP_NavEKF2: Collect output predictor tracking data
14bb4f4574 AP_NavEKF2: Publish output observer tracking errors
fa435d0323 AP_NavEKF2: Allow for faster accel bias change in-flight
191c34612d AP_NavEKF2: Fix bug in use of corrected IMU data
118d5b88b2 AP_NavEKF2: Clean up output observer and reduce pos vel time constant
b9f65996bc AP_HAL: sparse-endian: unconditionally use byteswap.h
471de28967 AP_Common: provide minimal byteswap.h and endian.h
8a27680fbb build: check for endian.h and byteswap.h
a014d0c790 mk: define missing headers for px4/qurt/sitl
40338c3272 AP_HAL: sparse-endian: use pragma once
6a80c3d70d AP_HAL: RingBuffer: remove trailing whitespaces
24c7f76034 AP_HAL: RingBuffer: remove C++11 initialization
3e1acdcbbf AP_HAL: Use atomic instead volatile on RingBuffer head/tail
b7dd4dad64 AP_HAL: Fix ByteBuffer::reserve() breaking buffer state
43d4012884 AP_HAL: Fix TOCTOU in ByteBuffer::peekiovec()
9951b94d40 AP_HAL: Change the return type of 'peekiovec'
625f47def7 AP_HAL: Improve ByteBuffer::set_size
e9e31172c0 AP_HAL: Simplify ByteBuffer::readptr logic
fbefe32017 AP_HAL: Add method to reserve space in the ring buffer
e3b676ba89 AP_HAL: Add method to peek non-contiguous parts of a ByteBuffer
c926d7d41f Plane: fixed typo in quadplane landing detector
1a3b292aa3 autotest: fixed run_in_terminal_window() on Linux
efb6b4c57e DataFlash: ifdef both __APPLE__ and __MACH__
d65f453da1 AP_HAL_SITL:use common fenv function
c728b6c164 AP_Common: missing/fenv: fix coding style
484db9ff82 AP_Common: add replacements for fe control functions systems without them
e2498a1090 autotest: add function to kill tasks on MacOS
4f0dad19ea autotest: support mac osx terminal launch
71c2f69a63 waf: add support for sitl build on mac
1923d9029e mk: use SYSTYPE for Darwin and append to LIBS
98c97a689f MK: remove unused and undefined librt as build flag for macosx
8903bc9eab AP_HAL: add support for get realtime on Darwin systems
3a8ed06267 Copter: added TKOFF_NAV_ALT parameter
f090e9b27c HAL_Linux: fixed makefile build with PRIu64
3ba27df405 AP_Compass: BMM150: minor refactors
6e53854122 AP_Compass: Add BMM150 backend
fd2eb8bb31 Tracker: Adding altitude difference calculation using relative altitude.
ca22f6612d Tracker: Changing pitch_range to pitch_min and pitch_max
18e51da12d Tracker: Changed yaw slew margin
b6f58bdd98 Plane: don't give tuning errors when VTOL inactive
50bfd6e7fd Tracker: set armed state in mavlink heartbeat
a079c7bf4c Tracker: bug fix re ignoring invalid START_LAT message
51bf638ad3 PID: Remove unused method get_pid_4500
19713200e5 AP_TECS: coverity scan: init variable struct
6d0cf22358 AP_TECS: spelling
753c0d47f0 AP_TECS: coverity scan - variables not initialized in constructor
5f16d873b8 AP_L1_Control: coverity scan - ignoring get_position() result
a74e86c234 GCS_MAVLink: coverity scan - computed value overwritten without use for SITL
bd8debdf8b GCS_MAVLink: coverity scan - variables not initialized in constructor
8d2872d3ab AP_Baro: coverity scan - variables not initialized in constructor
93462d0fe3 AP_Airspeed: coverity scan - variables not initialized in constructor
9b807fa8a5 Plane: coverity scan - variables not initialized in constructor
d558f32142 AP_L1_Control: coverity scan - variables not initialized in constructor
96d785f1c6 Plane: added auto_navigation_mode flag
0be442d34b SITL: improved throttle input in XPlane
f387f248d3 SITL: added support for servo slew rates and retract servos
c368cb07c2 Git: ignore ral.txt files
334233d48f AP_BoardConfig: fix spelling in parameter description
877a144dea Copter: pre-arm check that rally points are within fence
2647bed484 Copter: guided mode uses modified check_destination_within_fence
e820506c5a AC_Fence: add polygon fence check to check_destination_within_fence
a9d1dcd6ac AC_Fence: trigger reloading of polygon fence if update from GCS
0eac5a5c8f AC_PrecLand: remove zero terms from math
b5e80148c6 AC_WPNav: remove shift_loiter_target
91a5b26725 Copter: use simplified precland interface
f74e162451 AC_PrecLand: redo math, simplify interface
7fddf20f0b Copter: enable precision landing in auto mode
543d5701e7 Copter: remove unused log_write_startup
2484486999 Plane: log rally points on startup
5d5a85c38e Copter: log rally points on startup
4bedc57cbe DataFlash: rename SBFE's Long field to Lng
032e834849 Dataflash: log rally points
11975223dd AP_Motors: added H_RSC_POWER_NEGC and H_RSC_SLEWRATE
918c41b1e4 AP_BoardConfig: fixed IMU_TARGTEMP index
0597dbd033 Plane: allow SET_ATTITUDE_TARGET to set rpy and throttle
3377714300 RC_Channel: fixed typo
a331542958 GCS_MAVLink: fixed typo
4dcff15603 DataFlash: fixed typo
50958bc026 AP_RangeFinder: fixed typo
1f2216982d AP_Mount: fixed typo
bc7488e2f2 AP_Motors: fixed typos
cb858d2c99 AP_InertialSensor: fixed typo
081df44d92 HAL_QURT: fixed typo
6e065b3fe2 AP_HAL: fixed typo
86ceee4a53 AC_WPNav: fixed typo
6737bc21b9 Copter: fixed typo
8df07741c1 Tracker: fixed typo
45c72eb442 AP_BoardConfig: added BRD_IMU_TARGTEMP
834acaffee AP_InertialSensor: provide IMU temperature to HAL for all boards
7c2e4d0419 HAL_PX4: implement IMU heater in hal.util for Pixhawk2
461c159b22 HAL_Linux: use set_imu_target_temp() API
8617db89dc AP_HAL: added hal.util->set_imu_target_temp() API
8957ed30cd PX4Firmware: submodule update
fe68fe65e2 AP_Motors: Single and Coax fix flap gains
e15b1a8f2e SITL: add Sterling to locations.txt
f426e2c681 Replay: build: use separate library
85afd9e245 Plane: remove  guided roll flag, handle it with timer=0
8ac433f991 Plane: Can now command roll from a companion computer.
fc9283964a HAL_SITL: fixed segv on cygwin
d477905fbd autotest: fixed XPlane with sim_vehicle.py
82f131667d SITL: added flaps control in XPlane
b1de768756 autotest: added quadplane-tilttri parameters
ec367d4a09 Plane: re-order channel initialisation
934d2b6ae4 RC_Channel: added setup_failsafe_trim_mask()
8fd31111ad Plane: fixed waf build with tricopter quadplane
a071fa3921 AP_Param: display defaults path on startup
0f7b4a0cd1 autotest: fixed tricopter quadplane for sim_vehicle.py
a748c52f06 waf: bump to version 1.9.0
753f734a39 mavlink: submodule update
b5ccd458d3 Copter: added 10Hz logging of controller RMS values
beb3591f67 HAL_Linux: improved help output and errors for udp and bcast
72b5cecdb2 HAL_Linux: added udpin support to HAL_Linux
4a8689aa97 AP_NavEKF2: remove duplicate if statements from mag fusion
094dd9d769 Replay: Fix bug preventing use of IMT data during replay
e117bedf6a AP_NavEKF2: Adjust output observer tuning
5c59922574 AP_NavEKF2: Fix bug that could publish bad compass offsets
165335b9e3 AP_NavEKF2: Improve ability to tune magnetic field learning
6523481c76 AP_NavEKF2: Improve tracking accuracy of output predictor
fe06606193 AP_NavEKF2: Ensure corrected IMU data used by EKF
1400dc9d02 AP_NavEKF2: Add tuning parameters for magentic yaw fusion
dc6836988c AP_NavEKF2: Improve ground based magnetic anomaly protection for copter
703f56908f AP_NavEKF2: Correct comment
26815ace7a AP_NavEKF2: Remove redundant logic check
bd8c804ab5 AP_NavEKF2: correct comments
ebae95d7f6 AP_NavEKF2: apply corrections to new inertial data when using for output prediction
2f709dfe86 AP_NavEKF2: improve inertial prediction
262c5fe56d AP_NavEKF2: Make setter loop through all instances
8baf064317 AP_NavEKF2: setTakeoffExpected and setTouchdownExpected loop through instances
ec5c460584 AP_NavEKF2: Fix predicted nav reporting
99f481e098 AP_NavEKF2: always calcGpsGoodForFlight
3382e09580 AP_NavEKF2: add height constraint during takeoff
4bb46af861 AP_NavEKF2: Increase allowable gyro bias offset
af23a681e0 AP_BoardConfig: improved docs for BRD_SAFETYENABLE
b23f983459 autotest: add --gdb option to autotest.py
1f96336f7c Global: rename bus type enum entries
f6bebc96c0 AP_InertialSensor: INS_generic: remove unused includes
e85ac8b2c5 AP_InertialSensor: inform maximum gyro average difference
e6f62080f5 AP_InertialSensor: fix best_diff on gyro initialization
de94392759 AP_InertialSensor: MPU9250: remove _bus_type field
83feb2e2ae AP_InertialSensor: MPU9250: let Device handle read flag
1e99a7125c AP_InertialSensor: MPU9250: remove _register_write_check()
a6e5eb9e14 AP_InertialSensor: MPU6000: remove _bus_type field
0718649c8b AP_InertialSensor: MPU6000: let Device handle read flag
309fe4a88c AP_InertialSensor: MPU6000: remove _register_write_check()
d35cf60ce1 AP_HAL_Linux: I2CDevice: use read flag in read_registers_multiple
66f1ad9ed0 AP_HAL: Device: add support for read flag
b6a1d598e3 AP_HAL: Device: document write_register()
4693501d9d AP_HAL: Device: add bus_type field
7edb6e76f0 Copter: set terrain capabilities only if terrain code is compiled in
c2da36d505 GCS_MAVLink: fix race condition when recieving last waypoint
689595080a AP_Airspeed: ensure we have at least 10 samples for airspeed cal
bf2e30f858 Plane: removed demo_servos()
66e43bf6a2 Plane: start with low integrator on back quadplane transition
37f990bfad AP_ADSB: allow param based VEHICLE list sizes, 1 to 100.
3a5bc141bb build: use format macros in all linux boards
b70b9ed8d1 AP_HAL_Linux: fix warning on 64b printf
dd5e8f3780 Copter: git ignore fence.txt
52d81f630f Copter: pass polygon fence mavlink messages to fence
865aad7598 AC_Avoid: add support for stopping at polygon fence
26a6234a29 AC_Avoid: do not attempt to stop at circular fence if already breached
c6f9889a25 AC_Avoid: constify get_max_speed
5153c3d195 AC_Fence: merge with add polygon support
d91805edbf AC_Fence: add support for polygon fences
f0bb1ac1d2 AC_Fence: AC_Polygon_loader loads points from eeprom
249d95b413 AP_Math: add Polygon_outside and Polygon_complete functions
80bda572ba AC_AttutudeControl: Yaw shift fix
b61ae1a4a1 Copter: log EKF yaw reset event
f1bca63094 Plane: consolidate input_euler_angle calls to use smoothing gain
07cadc7ddd Copter: rename limit_angle_to_rate_request to use_input_shaping
3b7658c502 Copter: land and crash detector use thrust angle error
7d54c268f6 Copter: consolidate input_euler_angle calls to use smoothing gain
a5bb3c206e Dataflash: Log rate to degrees
8737f6b62d AC_AttitudeControl: enhanced quaternion attitude controller
117ae89505 AC_AttitudeControl: increase SLEW_YAW default to 60deg/sec
e0eecd56b2 AP_Math: use is_zero and float constants
7f933140c7 AP_Math: small formatting fix to quaternion rotation_matrix
8afd29cc85 AP_Math: add quaternion::rotation_matrix_norm
a1548405c1 AC_AttitudeControlHeli: fix althold lean angle max
75c4367cfc Copter: Change fabs to fabsf
1256c2f351 Plane: changed for AP_Vehicle API change
1f29b51dd6 AP_Vehicle: moved roll_limit_cd into AP_Vehicle
8a03b3ba22 APM_Control: reduce elevator when past LIM_ROLL_CD
a8e5255b90 autotest: look in parent directories for vehicle type in sim_vehicle.py
043b1d321d Copter: remove paths for documenation for non-multi frame
7742503ef3 Copter: include AC_AttitudeControl parameter documentation
a6e927d434 SITL: default gyro cal off in XPlane and FlightAxis
f9cb760691 AP_Mount: use ARRAY_SUBSCRIPT instead of bytes field
174cefa8a5 AP_GPS: use ARRAY_SUBSCRIPT instead of bytes field
1962acad49 AP_Common: simplify ARRAY_SUBSCRIPT macro
5154369e9d AP_Common: define the ARRAY_SUBSCRIPT macro
480cbcd87c mavlink: submodule update
4a18108600 AP_HAL_Linux: rename min, max and avg fields
b8e3e549c7 AP_HAL_Linux: Perf: add debug method
a9919420c6 waf: allow to disable libiio at configuration
348678888b waf: allow to disable lttng at configuration
1727418dc9 AP_HAL_Linux: Perf: make lttng use internal fields
619ce23799 AP_HAL_Linux: Perf: rework integration with other tools
febba9112f sim_vehicle.py: simply ignore any failure to kill tasks
2266223665 sim_vehicle.py: shell out to pkill if psutil is not available
b687473174 AP_HAL_Linux: ignore unused result on panic
8a58c06adb AP_Common: add macro to ignore unused result
d3ed17f047 waf: reconfigure for any changes in loaded modules
2566a13e1b waf: use Configure.autoconfig = 'clobber'
b44f73e7eb waf: update submodule in favor of autoconfig
d2365c25c6 Plane: increase update_waypoint() distance threshold during update_loiter()
ac90527da5 AP_Common: change check from GCC version to glibc version (and Cygwin)
eb44d75ed8 AP_HAL: Remove trailing spaces from AP_HAL_Namespace.h
d9ad962b33 sim_vehicle.py: allow starting mavproxy without --sitl option
51020387c8 sim_vehicle.py: allow model to be overridden on command line
f514e76f52 Plane: reset ground_start_count if we lose 3D fix
a427768087 AC_Avoidance: reduce maximum acceleration to 1m/s/s
a7422153cb SITL: disable avoidance so we can trigger fence failsafe
82bd847e11 Plane: add AC_Avoidance, AC_Fence to build
9201a57c83 QuadPlane: include AC_Avoidance, AC_Fence
87be8daf0e Copter: integrate AC_Avoidance library
5022a45495 Copter: add AC_Avoidance to build
8a6aa24525 AC_WPNav: use AC_Avoidance to stop at fence during Loiter
ff7bc7c0cb AC_Avoidance: add library to stop at circular fence
e60710332b AC_Fence: add accessors to return radius and safety margin
d1b28aaed9 AC_AttitudeControl: fixed factor of 1000 error in init_takeoff
752c1834e1 Tracker: version to 0.8 and release notes
df55760d77 Tracker: remove unused servo_limit structure
2b7203e4d1 Tracker: Changed PID to AC_PID
39d4fa2cf8 Revert changes to cmath according to gcc version
9738be0ed6 AP_HAL: remove tabs and trailing whitespaces
ab66e3a69a AP_HAL_Linux: Perf: simplify function to get current time
f58ce71a77 Update initvagrant.sh
a8e5ff93b5 AP_Math: Correct missing declaration warning
1d9d0a40db AP_HAL_Linux: GPIO: reduce macro and variable scopes
4f14b9b7e2 AP_HAL_Linux: ToneAlarm_Raspilot: add fixme comment
e122b2b651 AP_HAL: GPIO: remove unused functions
0bb86ae498 AP_HAL_Linux: GPIO_RPI: remove unused functions
2108127712 AP_Common: gcc 4.9.2 behaves differently from 4.9.3
224c714c83 AP_Common: this workaround for missing/cmath is also needed for gcc 4.9.3
309ac53806 SITL: correct adsb initialisation
569443231a SITL: improved altitude data in XPlane
51fff00871 SITL: report data and frame rates in XPlane
6530c3bd91 autotest.py: exit with error if requested step not found
b7395ee74b SITL: fixed sign of magnetic inclination
5b7b799046 SITL: fixed mag field in JSBSim and last_letter
ba2382c409 AP_MotorsCoax: Fix servo 3 and 4 feed through sign
16595d2f3b SITL: auto-set AHRS_EKF_TYPE to 10 for XPlane and FlightAxis
6ecf0daa9f gitignore: add *.generated.h to match px4Firmware implementaion in their submodule
66d4caeeb0 Copter: add ADSB_streamrate
07b22dc6eb Rover: ignore ADSB_VEHICLE packet handling
24b7f69dad Tracker: ignore ADSB_VEHICLE packet handling
746e2211e9 AP_ADSB: remove extra include
9b973fb899 Plane: add ADSB_streamrate
4fe94bdea3 GCS_MAVLink: add ADSB_streamrate
4cd1721bf9 AP_ADSB: add ADSB_streamrate
3a38e29b39 GCS_MAVLink: do not auto-forward ADSB_VEHICLE packets
2db2486b3a AP_AHRS: send zero EKF_STATUS_REPORT with EKF type 10
2f88c24f49 SITL: added debug showing UDP ports for XPlane
ec5534bd6a SITL: explain the throttle_magic code for XPlane
f76a7e64ca SITL: auto-select correct data fields from X-Plane10
acc76f80b0 HAL_SITL: added xplane support
d9d53c82d0 autotest: added xplane as vehicle type
4f99c17aae SITL: added X-Plane 10 SITL backend
7a9b4c7572 AP_Motors: fixed motor load calculation
55b0bbd3f1 SITL: Add simulation of 3D earth magnetic field
2cf5493b40 AP_HAL_SITL: Ensure simulated magnetic field is always used
078284e2e2 SITL: Add magnetic field environment to simulation
ec7c1ab0b0 AC_PosControl: comment fix to set_alt_max method
e185bab775 AP_MotorsMulticopter: add HOVER_LEARN option to learn but not save
23f8227e36 AP_Motors: bug fix to save params on disarm
a2ffd9ec7d AP_MotorsMulticopter: fix comment for get_throttle_limit function
ef1385c9ed QuadPlane: add comment that eeprom 28 and 41 were used for THR_MIN, MID
036349cd2f SITL: set copter MOT_THST_HOVER default
ed90d00fff SITL: throttle to 50 percent now that hover throttle automatically updates
413f82bac1 Plane: remove unused definitions
30cba1a59c Rover: remove unused definitions
b456a38432 QuadPlane: remove throttle_mid
2523ba892b QuadPlane: set attitude vs throttle priority in attitude controller
f2b0f09d6f QuadPlane: remove THR_MIN
9864750336 Copter: rename CTUN desired_velocity to target_velocity
a614a17b3a Copter: log hover throttle in CTUN message
901e8cc23f Copter: convert THR_MIN to MOT_SPIN_MIN, THR_MID to MOT_THST_HOVER
48eb4cf674 Copter: remove THR_MID
e9d8a28ec0 Copter: AP_Motor's throttle_hover replaces throttle_average
dec9323127 Copter: remove THR_MIN
6a1bdebf25 Copter: remove THR_MAX definition for changing throttle input range
e08e112c6d Copter: land detector sets att vs thr priority in att controllers
dcbb071c07 AC_PosControl: Move hover throttle calculation to AP_Motors
b27da7699e AC_AttitudeControlMulti: get_throttle_avg_max made private
da946288a2 AC_AttitudeControl: rename throttle_ave_max to throttle_avg_max
570920c7d7 AC_AttitudeControlMulti: run control_monitor_update in rate_controller_run
1639e22b74 AC_AttitudeControl: set desired_vel for reporting purposes even when not used
558f29b95c AC_AttitudeControl: control mixing made protected
9bd8878c8b AC_AttitudeControlHeli: fix update_althold_lean_angle_max
096bdd67f8 AC_AttitudeControl: add ATC_ANG_LIM_TC parameter
dafc45eb26 AC_AttitudeControl: move get_althold_lean_angle_max to parent class
3d27ecca92 AC_AttitudeControl: add TC for Alt_Hold angle limit
7ff0fcb25d AC_AttitudeControl: multicopter specific rate_controller_run
b7431b7d0c AC_AttitudeControl: update throttle rpy mix on every iteration
ca2977decf AC_AttitudeControl: set throttle vs attitude priority for flipped state
1fb4c12cd0 AC_AttitudeControl: move in throttle vs attitude prioritisation
0870ce9fc1 AC_AttitudeControl: remove get_throttle_boosted from parent class
25c77c154f AC_AttitudeControl: rename get_boosted_throttle to get_throttle_boosted
35ef761deb AC_AttitudeControl: Move set_throttle_out to _Multi and _Heli
a1b573ed0a AP_Motors: rename throttle_ave_max to throttle_avg_max
ef106e4b0f AP_Motors: spool_mode moved out of flags struction
8fff32bde3 AP_MotorsSingle: fix stability patch use of throttle_hover
e0f9fc8e40 AP_MotorsSingle: rename rpy_scale, thrust_min_rpy variables
da05902805 AP_MotorsCoax: fix stability patch use of throttle_hover
9bc866e771 AP_MotorsCoax: rename rpy_scale internal variable
8bdb906b2b AP_MotorsCoax: fixes negative thrust
71d1818103 AP_MotorsMulticopter: minor comment update
818965fa57 AP_MotorsMulticopter: output_to_motors and output_logic become protected
02881b59ff AP_MotorsMulti: float constants
79a73a5c2f AP_Motors: fix example sketch
bee6c29b89 AP_MotorsMulticopter: current limit keeps battery from sagging below BAT_VOLT_MIN
be25ac4acf AP_MotorsMulticopter: Add current limit time constant variable
7e0e0ca874 AP_MotorsMulticopter: battery voltage compensation improvements
0ee7b00b0b AP_MotorsMulticopter: rename _thrust_curve_min to spin_min
142a67bb6d AP_MotorsMulticopter: minor comment change
5cace33ca5 AP_MotorsMulticopter: SPIN_MIN replaces min_throttle
2c811364d3 AP_MotorsMulticopter: SPIN_ARM param replaces SPIN_ARMED
488f90b39d AP_Motors: add calc_spin_up_to_pwm to reduce repeated code
25778a24e2 AP_MotorsMulticopter: add HOVER_LEARN param
4f0db2bc36 AP_Motors: learned THST_HOVER replace THR_MID
5a8fc6283e AP_Motors: replace throttle_rpy_mix with throttle_avg
4d964fbf2f AP_BoardConfig: allow channels to be moved regardless of safety switch
918d79451c PX4Firmware: update dependency for channel ignoring
63d0c040e4 AP_Scheduler: expose loop rate on all builds
86d8450666 Copter: use loop rate for copter
255bda9f9c AP_Motors: allow setting of loop rate
fb4cdafef8 AP_Scheduler: allow SCHED_LOOP_RATE for copter in SITL
95e9c1fd97 Rover: Fixing version number typo in release notes.
2279c20ed7 Rover: Rover Release 3.0.1
e360c6117e SITL: make SIM_* variables available to simulator backends directly
f05c698176 Plane: fix compile error for RANGEFINDER_ENABLED
fb73d9e5fc updated contributors url. Was pointing at missing file, now its at landing page url
ed7af8c717 scripts: Add libc6-i386 to px4 package install.
40db90cebe Plane: limit roll and pitch to Q_ANGLE_MAX in Q modes
b1b73e2d99 Plane: improved quadplane landing detector
34fa2a39bd AP_InertialSensor: Changing the default gyro filter from 10 to 4
1770f314ac SITL: change SIM_ADSB default to -1 to default disabled to leave telem port available
027788f72b SITL: fixed gimbal simulator for recent MAVLink2 changes
145ab1d626 SITL: fixed send of ADSB_Vehicle packets with recent MAVLink2 changes
3b7ddbabc0 waf: readme: clarify explanation on program groups
c67b48bcc6 waf: rename README-WAF.md to BUILD.md
4d632a5bb2 waf: readme: add an shortcut example using a main product group
a8c370a0cb waf: readme: add section regarding firmware upload
9bdbf7785f Tracker: minor parameter description and comment fix
ef60c202b4 Tracker: Added altitude offset based on alt_source
6f88da07aa Tracker: Adding alt_source enum
ce3f3012c5 Tracker: Change vehicle info used to calculate offset
17355baa83 Tracker: Added parameter for mavlink update rate
8036912173 AP_ADSB: clarified some minor logic
0ed868d97b SITL: compiler warning, comparing float to 0
c3b241ca88 SITL: change ADSB_VEHICLE update rate to 1Hz instead of 2Hz to match PING behavior
52fcc36249 AP_HAL_SITL: remove -A --adsb argument, feature is now always enabled controlled by param
f2b5f5f4a5 AP_HAL_SITL: adsb is always enabled in the sim, controlled by param SIM_ADSB_COUNT
95da4accfb SITL: add SIM_ADSB_COUNT, RADIUS, ALT params
ad81e56a64 AP_ADSB: allow buffer to add to the max, instead of one less than the max
0af8b42ade build: include ap_config.h in libgtest
120564f094 RC_Channel: set_radio() should not constrain values
b4b0ec404c GCS_MAVLink: flag a link as active if it ever sends a message
773962940c Plane: quadplane for fwd_throttle integrator inhibit reverse thrust and allow min>0 for petrol
b6196dfa92 Plane: compiler warning in print: float to double promotion
107691b7a7 Plane: fixed initial descent rate in quadplane auto land
f8e0e91cbd Plane: prepare for 3.6.0
eb8cd13a50 Plane: update release notes for 3.6.0
e05c7b3367 Plane: check if terrain following is enabled in AGL calculation
19834c12e2 Plane: log start of quadplane transition
8156b3f7de Plane: fixed quadplane landing transition altitude
07564aa03f Plane: fixed an attitude control bug in quadplane transition
69f29b51d1 Plane: new param Q_VFWD_ALT to disable VFWD motor below this altitude. Also uses rangefinder
021aebeac0 Plane: check for high ratio of rmsD to rmsP in tuning
e070aeebe3 AC_AttitudeControl: added accessors for P and D RMS controller values
1c463e3f3b AC_AttitudeControl: log rms P and D separately
1a08f4b13f Tracker: version to 0.7.8 including ReleaseNotes
0e3dfb9e5e Tracker: fix formatting issues
f3461d182f Tracker: Added vehicle position log
d151b4481a Tracker: changing baro log data
b3fcab8044 AP_Motors: minor comment fix
65e0e31a7a Plane: parachute low-alt check should not require auto mode to ever be set
0b5ab7162d AP_HAL_Linux: Changes in RPi version detection
15a915edd3 AP_HAL_Linux: Simplification of the code
1fc4063117 Copter: correct TERRAIN_FOLLOW parameter comments
204abfd45e Plane: set heartbeat.system_status to Critical for low-battery failsafe events
263931b4b1 Plane: allow manual parachute releases on the ground
ef3d17cc4c Plane: parachute code can not rely on is_flying() because it is unreliable in a stalled aircraft
3140ce6ab6 Plane: change MAVLINK_MSG_ID_SET_POSITION_TARGET_GLOBAL_INT gcs msg to remove abbreviations. Hope it fits!
bd270720da Plane: whitespace formatting
429e348824 Plane: Can now change current WP alt via mavlink.
01e636065d Plane: non-functional: mostly whitespace and removed extra set result statement
2c0f0a04d8 Plane: Only allow speed changes in GUIDED and AUTO modes.
6284d513f5 mavlink: submodule update
cdeef9d692 Plane: Fence breaches can go to RTL mode with new FENCE_ACTION setting.
7d824247af Differential spoilers support, elevon offset
eefdc32f51 Replay: print message when gap perceived in log
f6c7a73170 Replay: command line option to disable FP exceptions
037a7980d6 Plane: fix calculation of override PWM
8fc494cfcd AP_AHRS_DCM: changed estimate to use prev values for dir & vel
ee29f38cdf Plane: moved takeoff flap check to NORMAL checks.
296b279f0d Plane: fixed issue with preflight flaps. Flaps now go down in preflight mode
41c9cace68 AP_Mission: mavlink parsing should use check_lat/lng functions
00aaa78757 AP_Math: add separate check_lat() and check_lng()
fb07b8c4cc Mission: fix bounds checking of MISSION_ITEM lat/lon
41bb237799 Plane: remove throttle surpressed message
5a544002cb Plane: fixed memory leak in mixer setup
bb9086b87f Plane: setup mixer in the one second loop when disarmed
fc3ab7b691 Plane: rename var to avoid a var with the name of a c++ keyword
c54d553df1 Plane: prevent continually loading the mixer
a06e46a84c DataFlash: log 14 output channels in RCOU
53df307c2d sim_vehicle.py: older python has no accessors for proc.status
91e72de302 sim_vehicle.py: remove unused parameter
7f73da535a Plane: if setting a mixer fails then clear the last crc so that it will be attempted again
eae2bf54ca Plane: fixed gcc 6.1 build error
2239fd6a6e AP_GPS: fixed hexdigit in NMEA detector
efef39732e autotest: pass any supplied -j through to waf make
3969bde84a AP_Math: fixed coverity warning in example
0166ab2038 HAL_SITL: check for SIM_RC_FAIL
4e3dd315cb RC_Channel: fixed double channel assignment
eb0e3c993d Tools: build_examples.sh implemented in terms of build_examples.py
b6289af522 Tools: autotest uses waf directly for building examples
8cf49d4e3e Tools: create build_examples.py, a replacement for build_examples.sh
cb16d0b6c6 AP_Math: correct examples build on px4
be26988b93 AP_Tuning: don't warn of controller errors when disarmed
8d3a58f0a2 Plane: allow tuning of more parameter sets
835235127c Plane: prevent divide by zero in SITL
9e9a048016 SITL: make heli RPM rpm1 in FlightAxis
f58d837026 AP_Motors: fixed heli RSC output range and float conversion
a512e807dc AP_HAL_PX4: disarm motors on reboot so ensure they are off during bootloader upload
b9cee76bbe Plane: fix quadplane integrator to always clip to at least 0 to throttle_max
82763ec8a9 Plane quadplane to use relative_ground_altitude() to take advantage of rangefinder easier
f3ceee5389 Plane: use relative_ground_altitude
b3f182157c Plane: take advantage of rangefinder support in relative_ground_altitude()
55ad1548e4 Copter: fixed heli rotor speed control from AP_Motors refactor
79ffc28f68 SITL: fixed ground accel for helis in FlightAxis
7c227ac96c SITL: debug code for logging raw SITL data
f6a7c1839a SITL: use FlightAxis body accel
f6e42cb3e2 SITL: cope with restarting RealFlight while connected
9c13ac997e SITL: use FlightAxis accel when not touching the ground
77b7852ff0 Plane: adjust recommend ranges for quadplane Q_VFWD_GAIN and Q_WVANE_GAIN
0b9fca6ef9 SITL: use quaternion attitude from FlightAxis
0c06e62bce Tracker: fixed calibration bug
5df2e57209 AP_HAL_SITL: do not compile terrain class when terrain is not disabled via compile flag
6fa97c2289 waf: px4: require cmake version at least 3.2
03728ac2f7 waf: cmake: enable minimum version checking
8b405e26ea GCS_MAVLink: battery2 current is in 10*mAh over mavlink
a8c14e68da AP_Tuning: compile warning: float to double on print
d2c9b02ca5 AP_BattMonitor: remove voltage2() since we have voltage(x) available
4e4bc0bee4 GCS_MAVLink: use voltage(x) instead of voltage2()
a1564bd337 AP_BattMonitor: check actual battery instances instead of max possible instances
8939c5308f AP_Arming: check actual battery instances then max possible instances
3ed2fafefa DataFlash: Log new CUR2 entry for battery2 data
a596aa5907 Plane: do not log CURR.Throttle because it's already logged elsewhere
a96abde4bf Copter: do not log CURR.Throttle because it's already logged elsewhere
098e531d53 Rover: do not log CURR.Throttle because it's already logged elsewhere
43c7b4d518 DataFlash: do not log CURR.Throttle because it's already logged elsewhere
7a397475af DataFlash: log POWR.vcc and Vservo as float in volts instead of int16 mV
608fbee867 GCS_MAVLink: send current2 over mavlink
f83a6ca1ff Plane: fixed variable misspelling
978a89efa6 Plane: added new ESC calibration method
860587ece7 Plane: disable parachute checks when min alt is zero
ee5290c178 Plane: avoid switch statement for enabling fence if no fence present
0924ae0d25 Tools: add cmake as a dep for PX4 in Vagrant
954c987075 Plane: do not parse GEOFENCE packets when geofence is disabled via compile option
af1407a155 Plane: disable parachute code when not enabled via compile option
ea9e39212f Plane: use new check_latlng helper
b433250da5 Copter: sanity check gps latlng
698017d0b1 APMrover2: sanity check gps latlng
7b4c503052 AP_Math: use new check_latlng helper
ce9ecf9f3d AP_Math: added check_latlng helper
64c2510be9 AC_AttitudeControl: fix compile warning float to double promotion in string conversion
da5ce37bbc Plane: fixed gain on -ve stick mixing past 50%
b17c800f44 Plane: use axis specific tuning controller error
b4bdfa2451 AC_AttitudeControl: return roll, pitch and yaw controller error separately
d56e2b6a39 APM_Control: Get steer rate using earth frame.
27ae46dfda Rover: Creating v3.0.1 beta release.
a00edcbbb6 Rover: sonar_trigger_cm of 0 will now only log
094d571196 Rover: Skid steering disarming fixes
501284f65a ci: remove clang temporarily from APT packages
50527f6088 travis: temporarily remove clang builds
a80a87eb09 Plane: simplify TECS prep logic by utilizing auto_state.land_in_progress
4db5b80b37 Plane: add flag for auto_state.land_in_progress
4ebaab86ec Plane: override is_flying for quadplane
b855c70139 GCS_MAVLink: don't route RADIO and RADIO_STATUS packets
cfaacf031b Rover: use ahrs.groundspeed() in more places
dece35e465 mk: fixed px4-cleandep warning
24d8cc62e2 AP_NavEKF2: rework yaw and magnetic heading reset logic
a6cbc5d4a5 AP_AHRS: use EKF for groundspeed estimate if available
2815af81ad Copter: rename RTL_CONE_SLOPE_DEFAULT definition
a16018f9fe AP_Motors: Missed Single fix
ad4d23c34d Tracker: move telemetry_delayed up into base class
87a7907a63 Rover: move telemetry_delayed up into base class
28361afc2a Plane: move telemetry_delayed up into base class
e977d85e0c Copter: move telemetry_delayed up into base class
1e146256cc GCS_MAVLink: move telemetry_delayed up into base class
944541b287 PID: Added PID_Info to class for PID logging
35a132f74e Rover: Added throttle PID logging
abe850c397 PID: fixed example build
38965f4617 DataFlash: fixed example build
9de8b63814 mk: removed the attempt at highlight in warning
645a42c120 Tracker: update 0.7.7 release notes
2d3966e4fb mavlink: submodule update
04f87a452e HAL_SITL: fixed tcp client mode
475579e8ff autotest: skip build of boards we don't support
e828525c94 GCS_MAVLink: adjust_rate_for_stream_trigger is no longer virtual
ddd956f8e1 Tracker:  move adjust_rate_for_stream up
de452eb760 Rover: move adjust_rate_for_stream up
9ee62aac30 Plane: move adjust_rate_for_stream up
3cf174c343 Copter: move adjust_rate_for_stream up
43fed65f37 GCS_MAVLink: move adjust_rate_for_stream up
f4f0ae8c8b SITL: auto-reconnect FlightAxis on reset button
03ded35d7c GCS_MAVLink: update routing example for mavlink namespacing
df190d1e86 Tracker: subclass GCS_MAVLink in place of defining its functions for it
a1c97f4585 Rover: subclass GCS_MAVLink in place of defining its functions for it
bb19c57615 Copter: subclass GCS_MAVLink in place of defining its functions for it
af5a52e2aa Plane: subclass GCS_MAVLink in place of defining its functions for it
56114dd37a GCS_MAVLink: use subclasses in vehicle directories
d67f83559c AP_Motors: Single and Coax Fixes
e5bdf0a0a2 SITL: Single and Coax fixes
f96836ab9a Plane: prevent a discrepancy between EKF origin and home for altitude
ba3576f027 Plane: added tuning error reporting for quadplanes
26ef71e130 AP_Notify: added tuning error tones
006aafab3f AP_Tuning: added monitoring of controller output
6330060e49 AC_AttitudeControl: added monitoring of controller error
fdac1d26cc AP_Tuning: added TUNE_MODE_REVERT parameter
47c5eaa3ac Tracker: Version and ReleaseNotes for 0.7.7
5fb6e4edae Copter: 3.4-rc1 release notes
be3b1cb6ab Copter: convert STB_ params to ATC_ANG_
72b86a3f99 AP_Motors: remove unused stabilizing flag
b56d784ae4 Plane: limit to zero pitch in quadplane on initial transition
7ec513668e GCS_MAVLink: reserve some space when param fetch fails
f02c8f732c DataFlash: fixed BAR2 format for drift offset
ee168bee8d APMrover2 : correct arming and failsafe in skid steer mode
168f4e52cf autotest: try to fix build of binaries
20cf326093 Plane: lower throttle threshold for quadplane is_flying
a94a19bd09 AP_NavEKF2: Fix bug causing continual yaw resets
57d6ccc0dd AP_HAL_PX4: skip the 100ms delay on first px4io safety_state async attempt
e3930b45df Plane: force the safety_state immediately because we want it to be in effect while we make mixer changes
4785650c95 Plane: remove redundant calls to safety_state
d3ac1dc161 AP_HAL: defer calls to safety_state switch to queue an async attempt.
67aaf7e226 AP_HAL_PX4: defer calls to safety_state switch to queue an async attempt.
97e2203e70 AP_NavEKF2: don't do 3D mag fusion on 2nd EKF2 core
084a37d4fa autotest: enable LOG_REPLAY and LOG_DISARMED in autotest
480e142cfb autotest.py: remove TARGET no longer required
3548f90d3a autotest: create SIL object to hold valgrind logpath
ced07906ad Tools: correct valgrind run in autotest.py
7b86a05722 Tools: convert autotest build.X and fly.X to use waf build system
9933069679 Plane: fixed motor test by percentage in quadplane
d17e3b17bf AP_AHRS: special handling for flying fixed wing with no compass
de15928921 AP_NavEKF2: prevent potential arithmetic error in declination fusion
722eb0d706 AP_NavEKF2: Fix bug for start of wind speed estimation
ac329ec31c AP_NavEKF2: use observation noise to set initial magnetic field variances
830751c0ae AP_NavEKF2: remove un-wanted functionality from mag and yaw reset
11c6ea7ef6 AP_NavEKF2: attitude co-variance reset for all post alignment yaw resets
cdd09df9ac AP_NavEKF: Add function to zero attitude state co-variances
6d34ac5ceb AP_NavEKF2: improve switch-over to use of mag field states
fe9ddfdfeb AP_NavEKF2: remove code that prevents attitude updates after mag reset
fe85c68344 AP_NavEKF2: move yaw reset for no compass case
da0622827d AP_NavEKF: update tuning defaults
4c66e14563 SITL: fixed air resistance bug for heli, balloon and singlecopter
d26a9d4a22 SITL: fix compiler warning by defaulting frame_type
b76a993f7e autotest: support coaxcopter
969b6ebea9 HAL_SITL: support coaxcopter in SITL
a2ed8fb313 AP_Motors: prevent negative thrust
9f33ece3ef SITL: support coax copter
6855899cbf AP_Motors: fixed servo constructor for coax
4e5e301c4e AP_Motors: fixed servo constructor for heli
ba3703303a autotest: added SingleCopter
a80e233836 HAL_SITL: added SingleCopter
8944d298ed SITL: added SingleCopter simulator
f9fb098222 AP_Motors: fixed channel output for SingleCopter
163783fefd AP_HAL: define CH_NONE
53fc095d4c Copter: fixed motor test build on heli
c605f09859 Copter: fixed motor test with percentage
65eb9ceb32 AP_Motors: expose min/max pwm
3ad0190693 PX4Firmware: submodule update
dda35a366c HAL_PX4: prevent rate changes once oneshot is setup
a44b0e0011 AP_Motors: don't setup oneshot for a zero output mask
ec0a80b6f4 ci: increase ccache size
1e44251d35 Replay: include a minimal set of FMT messages at start of log
366d95f45e Replay: fixed FMT messages in replay output
8e9752c3d3 waf: px4: setup build summary
d65a7897e4 waf: px4: keep ELF files around
260de62f94 waf: print build summary
4f3af94c57 waf: build_summary: add Waf tool
afcabda21c waf: use better style for add_option() calls
64b8ec61c7 waf: set lib as output dir for static libraries
236a62f4b9 waf: create program_dir directory
844222870c waf: boards: bind get_board() to configure and build contexts
80f03b618b waf: toolchain: add find_toolchain_program()
06a515645e waf: px4: reconfigure PX4Firmware for each program
fee5053493 waf: cmake: reconfigure when configuration data change
ce0ae66b19 waf: cmake: add CMAKE_VARS to task uid()
b6a5052a97 waf: cmake: use CMakeConfig class instead of taskgen
fe0c49ec54 ci: only run make builds for PX4 or when it is a scheduled job
abddef9784 travis: set cron env var
eb23e461d4 travis: change matrix and add fast finish
292251e2aa ci: add time to complete make builds
fedc07a766 travis: remove pip cache, it adds more trouble than benefict
a74a7e5dfe ci: update ccache and improve its support
736c162d21 Replay: added --param-file option
d90a2f7deb DataFlash: added get_structures() API
ac8c4d9beb AP_Mount: use zero length flexible arrays in unions
af116d238f AP_GPS: use zero length flexible arrays
741fe9464e PX4Firmware: submodule update
146a59eed3 Copter: fixed ESC calibration on PixRacer
191d6df0ea Plane: moved EKF2 to a new parameter index
045e3c179a Copter: moved EKF2 to a new parameter index
bb9783e3f4 Rover: moved EKF2 to a new parameter index
cb9ca94dd1 Copter: remove unused pv_location_to_vector_with_default
390d06a400 Copter: add and use FLIP_COMPLETE mode reason
ae3cb0557d HAL_PX4: disable "Overtime in task" msg
9eef97d108 AP_NavEKF2: use consistent parameter naming
68e4a83f44 Tracker: fix formatting and gps based alt difference
1293b16589 Tracker: Allows choice of altitude source
fd61a903f9 Tracker: Changing name of altitude_difference to alt_difference_baro
600c23f3bf Replay: use SCHED_LOOP_RATE for loop rate if available
75d5c87788 AP_Motors: Fix setpoint bug with 0~1 conversion in AP_MotorsHeli
0c70f0fc35 sim_vehicle.py: correct rebase
c9e877b3a5 sim_vehicle.py : reorder frame by type
25066be990 sim_vehicle.py : add hexacopter
6e4c0dd3d7 Plane: allow non-blocking calibrations while armed
0f50f483b8 Plane: update for new airspeed calibration
1fd4cbffb2 DataFlash: update for changed AP_Airspeed API
4131b98f8c AP_Airspeed: use non-blocking airspeed calibration
d3494d1369 Plane: don't stall EKF during baro cal
8c3bbdaf73 AntennaTracker: don't stall EKF during baro cal
f61ba903dd Rover: don't stall EKF during baro cal
1581a5e354 AP_Param: fixed forced save of constructor override parameters
7e1ef905d3 Copter: removed 30ms delay on arming
c9284e5f64 Copter: fix flip after throttle changed to 0 to 1 range
52755c893d Rover: Print message when running skid steering SITL
2f7a386b30 Rover: Added the new skid steering parameters file for SITL.
d993c25cb1 Rover: Added skid steering rover as frame type for SITL.
6d675dfcb7 Rover: Just fixing a type in the default params.
d2ec395cdf Tracker: Making servo type customizable
8d1f50e78f AP_Motors: rename get_pwm_min to get_pwm_output_min
0c225cf498 AP_MotorsMulticopter: fix typo in comments
ff93524ba4 AP_Motors: rename MOT_THST_MAX to MOT_SPIN_MAX
f1cbdbe914 AP_Motors: update some comments
f28666e7cd Copter: pass throttle for esc calibration in 0 to 1 range
49b14b3cb6 AP_Motors: add PWM_MIN, MAX
bbe3a94175 AP_HAL: remove support for main without argc
92411402b6 Tools: remove support for flymaple
8bec17e05b mk: remove support for flymaple
33f5fc5f38 ArduCopter: remove support for flymaple
d773d68025 APMrover2: remove support for flymaple
b067bce140 AP_InertialSensor: remove support for flymaple
346bdf5f8f AP_HAL: remove support for flymaple
7703e5f1d1 AP_Common: remove support for flymaple
e448f161d2 AP_BattMonitor: remove support for flymaple
62f048c417 AP_Airspeed: remove support for flymaple
7503c1b6d4 AP_InertialSensor: update doc about used ids
01b9316114 AP_HAL_AVR: remove examples
dfde4a27e6 AP_HAL_FLYMAPLE: remove hal
3dea2c08fb mavlink: submodule update
64e105464d GCS_MAVLink: fixed disabling of signing remotely
563614e84b waf: check for libiio for all linux boards
04fc1e22da waf: check for lttng-ust for all linux boards
9ac6c399e9 waf: accept env variable to append library
3457dbcdf8 AP_HAL_Linux: rename lttng define
635a975486 HAL_SITL: use a smaller buffer for real SITL UARTs
595d5c0002 AP_HAL: added set_size() to RingBuffer API
eb4707f65c mavlink: submodule update
0bbddd38cf GCS_MAVLink: fixed some places where packets are sent without space
13722b8858 AP_HAL_Linux: support 16 RCInput channels on Navio2
7132aec6db GitHub: update issue template
d21e2ceaf2 mavlink: update submodule
08c258d44e mavlink: update submodule
0f07a5d55b mavlink: update submodule
5f7af390ec AP_Common: a useful debug macro for SITL
ef210217dd HAL_Linux: cope with MAVLink2 in UDP driver for packetising
7654c9ce38 mavlink: submodule update
a1c52415e9 waf: pass mavlink include path into cmake build
8486d4ab5e AP_AHRS: disable EKF1 on all PX4v1 and PX4v2 boards
4a5e001053 PX4Firmware: switched to MAVLink2 headers for uavcan
3f84ece625 mavlink: merged with upstream master
5b4bbf08fd Plane: use send_heartbeat wrapper
a922b98ac0 Copter: use send_heartbeat wrapper
57c39cbfa0 AntennaTracker: use send_heartbeat wrapper
01caa7388a Rover: use send_heartbeat() wrapper
273c80116a GCS_MAVLink: added a wrapper for sending HEARTBEAT
2094cb2d88 RC_Channel: fixed example for MAVLink2
8899455ea3 GCS_MAVLink: use extended MEMINFO message
7e7c21d114 waf: update for MAVLink2 build
16901ffb2b AntennaTracker: use HAVE_PAYLOAD_SPACE()
fde0652d81 DataFlash: use HAVE_PAYLOAD_SPACE()
cd1f43a6ce GCS_MAVLink: use generated target_system and target_component offsets
018b1143d2 GCS_MAVLink: handle difference between SERIALn_PROTOCOL=1 and 2
78e9ef427e AP_SerialManager: remove special case for console
4a7dea0c5b Plane: simplify UART setup
8913dc32b0 Copter: simplify UART setup
99cc737693 Rover: simplify UART setup
d3c19de9df AntennaTracker: simplify UART setup
b3f94184f2 GCS_MAVLink: always build with MAVLink2 headers
f377787444 AP_Mount: always build with MAVLink2 headers
94feae9eaf AP_HAL_QURT: always build with MAVLink2 headers
6f7d6269a8 AP_HAL_Linux: always build with MAVLink2 headers
9f47e6417b Plane: always build with MAVLink2 headers
31866c66d8 Copter: always build with MAVLink2 headers
181eb9e4ef AntennaTracker: always build with MAVLink2 headers
ad7fe48991 Rover: always build with MAVLink2 headers
309dbef2ec Plane: fixed mavlink1 dependency on px4
ef4d7e5618 GCS_MAVLink: fixed build with mavlink1
048fc8d39e GCS_MAVLink: adjust for min_length mavlink2 API change
318ec69465 GCS_MAVLink: added periodic saving of signing key
d521852f84 autotest: make -P2 only control mavproxy mavlink protocol version
40d1a23a13 AP_Terrain: use HAVE_PAYLOAD_SPACE()
ec62d8f4ca AP_Mount: use HAVE_PAYLOAD_SPACE()
eee06da1b5 Plane: use HAVE_PAYLOAD_SPACE()
d477ecc24e mk: default to building with MAVLink2 support
12c1d58511 GCS_MAVLink: cope with different packet overheads with signing
d4cb7b8970 AntennaTracker: use GCS_MAVLINK::packet_overhead_chan()
006b9728d0 GCS_MAVLink: updates for 24 bit msgid
4571b5e3ad mk: always define MAVLINK_PROTOCOL_VERSION
a05679fb3b GCS_MAVLink: fixed build after rebase
7aae93e3e0 GCS_MAVLink: fixed auto-switching to MAVLink2
4ba09671a4 GCS_MAVLink: support disabling signing with zero key
c96ed2b4c6 GCS_MAVLink: fixed calculation of GPS timestamp
be14714fa4 ArduPlane: update signing timestamp on GPS lock
57870cccb9 ArduCopter: update signing timestamp on GPS lock
b8fa1bc9f7 APMrover2: update signing timestamp on GPS lock
5bf13ecc69 AntennaTracker: update signing timestamp on GPS lock
970dbf3c8d GCS_MAVLink: fixed build with MAVLink1
24eb6afbe9 GCS_MAVLink: provide signing streams and accept_unsigned callback
a103e70460 ArduPlane: handle SETUP_SIGNING message
b85f129cc5 ArduCopter: handle SETUP_SIGNING message
7c27e0dbec APMrover2: handle SETUP_SIGNING message
b5d1dc6643 AntennaTracker: handle SETUP_SIGNING message
ed9a43ca46 GCS_MAVLink: support for mavlink2 signing operations
ca39ece6cb StorageManager: added storage region for signing keys
8ea9e29fee GCS_MAVLink: use a fixed signing key for testing
b0be3e7423 mk: fixed building with mavlink2 headers
0ead0ab978 GCS_MAVLink: support mavlink2 build
0ef5d8995b AP_Mount: support mavlink2 build
4eadab7a90 HAL_QURT: support mavlink2 build
f6511e8337 build: added mavlink2 build option
31f8d26784 HAL_Linux: support mavlink2 build
511ca6d764 autotest: support -P2 option for SITL with MAVLink2
74121fdaeb AP_NavEKF2: fix bug preventing in-flight alignment
16cb7078cd AP_NavEKF2: Fix misleading pre-flight status reporting
38d61f5281 AP_NavEKF2: Update status reporting to handle no-magnetometer startup
9aa3cdfaae AP_NavEKF2: Update GPS yaw re-alignment function
e3c966661b AP_NavEKF2: Remove unnecessary variance reset
1179c08473 AP_NavEKF2: Handle case where we are in-flight and haven't yet aligned the yaw
581c1aa0d4 AP_NavEKF2: Adjust attitude variance values used after a heading reset
5ec8d523f6 AP_NavEKF: remove unwanted co-variance reset
66e4d9d6e8 AP_NavEKF2: Reset co-variance values when doing a pos,vel,hgt reset
cf8175a073 AP_NavEKF2: Allow immediate use of GPS in-flight for plane without compass
08de4e6d95 AP_NavEKF: Do not perform start-up yaw alignment if no compass
d2694fe5dc AP_NavEKF2: Remove duplicate transition into GPS aiding
7201f7d2fd AP_NavEKF2: fix comment
64a8153b68 AP_NavEKF2: update function name
addd213af0 AP_NavEKF2: reduce effect of acceleration on non-GPS mode attitude
d33bbf8cc7 AP_NavEKF: remove debug code
54213ad871 DataFlash: Improve reporting of normalised ekf2 magnetometer innovations
a3b78e6231 AP_NavEKF2: update tuning defaults
65f63341d7 AP_NavEKF2: Improve numerical error protection in optical flow fusion
42da33593d AP_NavEKF2: fix yaw fusion numerical health reporting
6eb9d43507 AP_NavEKF2: add numerical error checking and isolation to mag decl fusion
b325c5faeb AP_NavEKF2: add error checking and isolation to mag heading fusion
a0b1dc5325 AP_NavEKF2: add error checking and isolation to 3D amg fusion
51a3df0319 AP_NavEKF2: Add error checking and isolation to pos vel fusion
b1e9207c0f Replay: extend ekf fault status reporting coverage
fcee82f9b2 DataFlash: extend ekf fault status reporting coverage
597ec61673 AP_AHRS: extend ekf fault status reporting coverage
d59d8cc6e3 AP_NavEKF: extend fusion fault reporting coverage
71b589c89c AP_NavEKF2: extend fusion fault reporting coverage
0982bd0b2b AP_NavEKF2: update parameter documentation
46a2993a0d AP_NavEKF: use intuitive units for imu bias process noise parameters
8c374fd679 AP_NavEKF2: correct comments
6be9eaa524 AP_NavEKF2: use receiver estimated accuracy
dddc213836 AP_NavEKF2: Open up tuning limits
cf05e110fc AP_NavEKF2: fix scaling error in use of IMU noise parameters
5461002eea Copter: read rangefinder at 20hz
e6b3638d84 Copter: minor change to land mode's logic to use rangefinder
8171532dc5 Copter: allow rangefinder to be disabled from definition
e489c3184c Copter: rangefinder.enabled false if no range finders are configured
00445ce7bd SITL: parameter file to enable rangefinder in copter
59070653cc Copter: provide filtered range finder altitude to AC_WPNav
2bafc36ded AC_WPNav: support rangefinder for terrain following
e18bf3af56 Copter: remove unused definitions
5ac13c0355 Copter: move rangefinder variables into structure
70463dc572 Copter: auto_spline_start handles triggers terrain failsafe
3688636736 Copter: RTL ignores terrain during terrain failsafe
273b9acad8 Copter: prearm check that RTL_ALT is below rangefinder max alt
c7f80324fa Copter: tilt correct rangefinder
ba38b0234f Copter: use rangefinder class's valid_range_count
949d5f7109 Copter: add rangefinder_alt_ok
7689315ba2 Copter: rename sonar to rangefinder
028946ae9e Copter: rename CONFIG_SONAR to RANGEFINDER_ENABLE
e0bf08abe0 Copter: fixes to guided mode target check is within fence
4829dbb55d AC_Fence: rename check_destination_within_fence and accept distances in meters
bc22419286 Copter : Modified set_guided_destination() to reject requests for guided waypoints outside the fence.
ff843448aa AC_Fence: Added a new function to check whether the guided waypoint is within the fence
a5db4194bd Tools: update PrintVersion.py for new firmware version location
b7fe96188d Plane: raise range of THR_FS_VALUE
e0a9a8196c Plane: fixed throttle failsafe with THR_PASS_STAB=1
9a100afede AP_HAL_Linux: Thread: add doc about rounding function
359417d544 AP_HAL_Linux: Thread: make sure pointer is aligned
7e49d0c53f AP_HAL_Linux: Thread: fix alignment warning
18af4da690 AP_HAL_Linux: Thread: fix warning regarding shadow member
684ac12dd6 AC_WPNav: fix compile when using AP_TERRAIN_AVAILABLE 0
f085666032 AP_Common: fix compile when using AP_TERRAIN_AVAILABLE 0
3555e439a4 AP_HAL_Linux: Simplify I2C initialization in HAL_Linux_Class
cb9cd9008a AP_HAL_Linux: fix bhat spi device driver build error
035937ea7e AP_GPS: add some safety checks to _parse_decimal_100()
994b2fc966 AP_GPS: add unit test for _parse_decimal_100()
fc6dd97e61 AP_GPS: make _parse_decimal_100() a static function
7379d120e1 AP_GPS: fix _parse_decimal_100() with negative numbers
0e09d0b996 waf: rename config_header variable to config_hash
aaa8709194 AP_RPM:  Added an example script
151686ce9d ArduPlane: SET_SENSORS_OFFSETS support for third compass
97d361333d ArduCopter: SET_SENSORS_OFFSETS support for third compass
4743a34cf7 APMrover2: SET_SENSORS_OFFSETS support for third compass
bc62164ac9 waf: mavgen: scan for implicit dependencies
0f60c8ed4f waf: boards: check for librt when necessary
f10c150e70 waf: cxx_checks: add check_librt()
e630c2b33f waf: cxx_checks: define ap_common_checks() instead of configure()
83244dfe10 waf: cxx_checks: add copyright notice
468e8284f0 waf: cxx_checks: use check() instead of check_cxx()
89ebe34992 mk: board_native: link with librt
ed2718a183 AP_Notify: Buzzer: change pin 11(P8_31) to pin 12(P8_32)
a9ae5476f3 waf: fix configure not using WAF_BUILD
a9d16f3373 Copter: move auto's take-off check to beginning of auto_init
54731a139f AP_Mission: rename starts_with_takeoff_cmd
26e41fee7a Copter: prevent Auto tipovers caused by missing takeoff command
9ec0000691 AP_Mission: add check_takeoff_cmd
1f4ba62456 Rover: handle new MAVLink rangefinder input
793e3da904 Copter: rename variables used for NAV_DELAY command
55f66b7696 Copter: Add support for MAV_CMD_NAV_DELAY
d771017c25 AP_Mission: support MAV_CMD_NAV_DELAY command
28b52a6b78 Modules: update mavlink to include MAV_CMD_NAV_DELAY
67620f312d AP_HAL: fix comment for get_time_utc
faec752801 AP_HAL: add get_system_clock_utc functions to Util
4080c6091d AP_NavEKF2: fixed an assumption that _ahrs->get_compass() always works
71e10c9132 AP_HAL_Linux: fix include order
45c6b750f2 AP_HAL_Linux: remove ifdef checks for HAL_BOARD_LINUX
c4306de122 AP_Common: fix build on windows
11e508e3a6 waf: define WAF_BUILD to allow different behavior in make
9ccce2c980 AP_Compass: explicitely add compasses for erlebrain2, pxf and pxfmini
8372e74c0f AP_Compass: simplify handling of sensors for Linux boards
1ddbafabdd AP_Compass: add name field to internal compass drivers
f7f90546d1 ci: build PX4 with waf again
057124bd90 waf: px4: use lib/rc for v4
8578d7c16f waf: px4: don't add libarm_cortexM4lf_math.a to extra libs
de96ca95a6 CPUInfo: cast result of sizeof to unsigned long
2410575d6c PXFirmware: submodule update
f29d8bd42c waf: px4: set ARDUPILOT_BUILD cmake variable
5b91a6e065 Tools: magcal_graph: add mavproxy module
2b57c146fe Tools: sitl_calibration: add note on using calibration model
91e7f02d9d Tools: sim_vehicle: add calibration frame
41f5602fea Tools: sim_vehicle: add local mavproxy modules path to PYTHONPATH
ede0360ee1 Tools: sim_vehicle: allow passing keywords to run_cmd_blocking
ef61096e08 AP_Math: geodesic_grid tool: show triangle number for sections too
a6deb65d95 AP_Math: geodesic_grid tool: add option --section
524b0870ff Tools: remove unused Linux scripts/sources
f7ac6c8d86 AP_Compass: make internal compasses use a higher cal threshold
d67b1edf10 AP_NavEKF2: (potential) compiler warning of float to double promotion
3c6323dd82 AP_TECS: Log TEC2.LF as Aerodynamic Load Factor
36a1054f77 Plane: remove Tom Pittenger as an author since he's now listed as a lead
c9167f89eb Plane: add Tom Pittenger as co-lead developer
30c5c9eb5d Plane: log SONR.DistCM in cm as SONR.Dist as meters
00863623d7 Plane: SONR logging, remove BaroAlt,GSpd,Thr
32d51e346d DataFlash: optimize logging climbrate - call function one and reuse result
b2fb2f3949 Plane: optimize millis() calls by reusing result
bc5fb10ddc Added name to GIT_Success.txt
ad11f3815b AP_HAL_SITL: rename aspd variables to arspd
c77a5e6764 SITL: rename aspd variables and params to arspd
d55401aa18 AP_Tuning: fixed float->double promotion compiler warning
ae91804aaa AP_Arming: updated comment for z-axis accel threshold
f9335e9d8c AP_TECS: fixed float->double print warning
1a066cadd2 Plane: fixed float->double print warning
1ac712fa65 AP_Math: fix is_zero() after template conversion
6746b4227a Plane: handle large negative baro offsets (corner case) to self-trigger a land-abort go-around
a1c4103cef Plane: print to GCS the newly calculated glide slope angle
f048aafb76 Plane: store auto land slope
034cd2413e Plane: re-calc landing glide slope to gracefully handle baro offset during long flights
4a6dd5a781 Plane: reset baro drift when setting home while disarmed
472dae3ed9 waf: don't use hard-coded path for environment cache path
cda21a3d78 Fix argument 'valgrind' issue about fly.CopterAVC test
7b47d54d6b AP_Common: workaround for SITL on windows
e3b2e90a27 Plane: cleanup unnecessarily complex gcs[] usage
e4948544e7 Copter: cleanup unnecessarily complex gcs[] usage
7957f25f32 Rover: cleanup unnecessarily complex gcs[] usage
23197b0689 AntennaTracker: cleanup unnecessarily complex gcs[] usage
fa6f2c6b67 AP_Math: fix some coding style mistakes
0c31354539 AP_Compass: implement completion mask
390b196eda AP_Math: AP_GeodesicGrid: add notice for auto generated code
b3068baa11 AP_Math: add geodesic_grid toolset
9d34b3b996 AP_Math: AP_GeodesicGrid: make all methods static
3b05ec1157 AP_Math: make vectors and matrix constructors constexpr
77223a7fcb AP_Math: AP_GeodesicGrid: make data static
fd2428db34 AP_Math: AP_GeodesicGrid: reduce number of _neighbor_umbrellas items
43d9e00ab7 AP_Math: AP_GeodesicGrid: use uint8_t for _neighbor_umbrellas
54889e4175 AP_Math: AP_GeodesicGrid: reduce number of inverses by half
f31161ecb6 AP_Math: AP_GeodesicGrid: remove triangles
b34c04a4f9 AP_Math: test_geodesic_grid: test also non-centroid vectors
8e8ab3af96 AP_Math: AP_GeodesicGrid: remove section_triangle() function
c7eb46fae2 AP_Math: AP_GeodesicGrid: optimize _from_neighbor_umbrella()
eb90ef23a1 AP_Math: AP_GeodesicGrid: fix algorithm for null vector
c28c3265c8 AP_Math: AP_GeodesicGrid: optimize with neighbor umbrellas
0ff05b7af3 AP_Math: test_geodesic_grid: test triangles indexes
4398e1e49b AP_Math: AP_GeodesicGrid: change order of triangles
ea412ad629 AP_Math: benchmark_geodesic_grid: add benchmark
797a2da031 AP_Math: test_geodesic_grid: test when inclusive=true
b299261ad4 AP_Math: AP_GeodesicGrid: add first implementation
3f2ad764ca AP_Math: Matrix3: add inverse() and invert() functions
06eea2838f AP_Math: Matrix3: add det() function
fe4aaaac95 tests: add macro for printing test parameter
26959f1448 AP_Math: define golden ratio constant
48c243bed0 ArduPlane: Do not use is_zero() for non-float types
3bc97ae356 ArduCopter: Do not use is_zero() for non-float types
f8540f1a80 AP_Compass: Do not use is_zero() for non-float types
7ff8004f8f AP_Math: Replace is_zero() with a template function
ebd993dabb AP_Arming: updated z-axis accel threshold comment
368a72044c APMrover2: fix indentation leading to compiler warning
7af888633d Plane: 3of3 add loiter_xtrack option flag for post-loiter navigation
9073ac91ff AP_Mission: 2of3 add loiter_xtrack option flag for post-loiter navigation via param4
02eeb2d4f0 AP_Common: 1of3 add loiter_xtrack option flag for post-loiter navigation
2246343ec7 AP_HAL_SITL: pass signed value to abs()
421b9ef54a AP_Mount do not use flexible array in union
39bd196481 AP_GPS: do not use flexible array in union
d615628367 AP_HAL_Linux: I2CDevice: add missing stdio.h include
8d5ceda534 AP_HAL_SITL: ensure specified SITL model is found
27e7c870ed Tools: remove absolute paths in run_in_terminal_window
4116f80901 Replay: added --no-params option
8ec0e687db mk: don't make mavlink generation depend on CHECK_MODULES
18e0131680 sim_vehicle.py: avoid requesting process name on zombie process
c6620b03b4 HAL_SITL: added --rtscts option to SITL
38010cf3f3 sim_vehicle.py: wrap jsbsim version fetch in a try
39fc17f384 DataFlash: Fix parameter description for param_parse.py
848420648e PX4Firmware: submodule update
8571202199 AP_RPM: allow for low RPM measurements on PX4
78d6291e2c Plane: corrected land abort gcs msg
38b7d7e1c6 DataFlash: log baro drift offset
f1f58e2026 AP_Baro: created baro drift offset accessor
6c0579a895 Plane: for better helical landings allow for instant approach stage if previous nav cmd was LOITER_TO_ALT
f1186b8b5c AP_Mission: store previous nav cmd id
d900988a23 DataFlash: Log airspeed.Use
ba5b4e694c Plane: log NTUN:ArspdErr airspeed error (in meters)
1551b9d881 Plane: remove redundant logging in NTUN
8a58f5a5eb Plane: convert airspeed_error_cmd to airspeed_error (in meters)
0281b948df AP_Arming: loosen accelerometer consistency check on Z axis
d55050e5e3 AP_Baro: slow down the LPF for slewing to a new GND_ALT_OFFSET
37ee3b44d2 AP_Baro: add accessor for baro drift
2e1eef7cf0 AP_Airspeed: airspeed healthy should also check if enabled
25dfb583d5 Plane: adjust target_airspeed with and without airspeed sensor (pitot)
2a0476483b Plane: make takeoff less noisy with zero timeout
e3107a7e10 AP_HAL: fixed optflow typos
574ba71ef3 Plane: update for AP_TECS API change
1b7830c577 AP_SpdHgtControl: update for changed API
98a86bd205 AP_TECS: create TEC2 log message for detailed energy internals
ff97f52555 AP_TECS: removed log_tuning structure
bc911d15d1 AP_TECS: convert to using Log_Write
9a6ac77c64 AP_TECS: prevent large glitches in the specific energy integrator
c52451b01b AP_TECS: rename some variables to make them clearer
e698d1f47e AP_TECS: use 64 bit micros
e006754cda mk: Fix typos
e129326be2 docs: Fix typos
1fad971851 ArduPlane: Fix typos
63f2ab38dd APMrover2: Fix typos
6b93f974d3 AntennaTracker: Fix typos
042fa1177c cfg: Fix typos
ce241dd97a ArduCopter: Fix typos
1062aed91e Tools: Fix typos
64d14356b9 AP_NavEKF2: Fix typos
2f88e32657 AP_HAL_FLYMAPLE: Fix typos
2236640f66 AP_HAL_Linux: Fix typos
267a74ebb2 AP_NavEKF: Fix typos
4047fb63fc AP_GPS: Fix typos
481e3a2af6 AP_Math: Fix typos
00b1915034 AP_HAL_Empty: Fix typos
892cc2ea6f AP_HAL_PX4: Fix typos
1efa4a4115 doc: Fix typos
2bf9aa94ad AP_AHRS: Fix typos
2802775e7d AP_Motors: Fix typos
dfe38b61de AP_Mission: Fix typos
91e9dd10ba AP_HAL_SITL: Fix typos
eb418f54ee AP_HAL: Fix typos
aa4b66509f AP_AccelCal: Fix typos
fcbed13533 AP_Mount: Fix typos
af13e2cca4 AP_Declination: Fix typos
e6564c2efa AP_BoardConfig: Fix typos
2e58653983 AP_Compass: Fix typos
5237c86bca AP_BattMonitor: Fix typos
d5a2c57c5e AP_InertialSensor: Fix typos
08a022fa6a AP_Frsky_Telem: Fix typos
8d6cc587c5 APM_Control: Fix typos
3033c53834 AC_WPNav: Fix typos
a8889e5765 AP_Common: Fix typos
f6ad89103c AP_Arming: Fix typos
3f92a64b99 GCS_MAVLink: Fix typos
e31a37e7a8 AP_Notify: Fix typos
287eb69502 PID: Fix typos
dc7acdf03f DataFlash: Fix typos
2ee6a85e67 AP_RangeFinder: Fix typos
099fc69032 RC_Channel: Fix typos
388a6683ad AP_OpticalFlow: fix optical flow initialization
1ae85be918 autotest: fix copter_mission
ae5fdc2fde autotest: if auto mission fails, land the copter
c873524966 autotest: change wait_waypoint mode check
e06c900812 Tracker: add Vbar dataflash message
8fb318a6e1 Copter: fix do_loiter when executed in same location
8ce8551669 Copter: fix detection of 0 values for lat, lng and alt in waypoints
0732ad3957 Copter: add comments to set_land_complete
747344a8ba Copter: add disarm on land detect option to PILOT_THR_BHV
cfb2a6b2f9 Copter: update brake-timeout to work with master
0a2336a5a8 Copter: update solo-buttons to work with master
67cd2bae08 Copter: implement SOLO_BTN commands
c99cac773b Copter: add brake_timeout_to_loiter_ms
14e2fa5642 sim_vehicle.py : load Rover default params
bd3a58a727 Copter: fixed drift mode
f33cdaa212 sim_vehicle.py: add --strace option
4529028c8a waf: ardupilotwaf: ap_get_all_libraries: ignore non-directory files
37f6b51746 AP_HAL_Linux: Scheduler: set stack sizes to 256k
b2d4da4b0a AP_HAL_Linux: Thread: allow to set stack size
d970451331 AP_HAL_Linux: Scheduler: debug stack usage
f5f4aa7c21 AP_HAL_Linux: Thread: allow to debug stack usage
20a569a4d5 AP_Mount: block forwarding of MAVlink by bitmask
c8b3c527f9 GCS_MAVLink: add route mask for blocking MAVlink forwading
9bf0ada875 AC_AttitudeControl: removed use of AFF for tail control in heli
a6404cf1ea AC_PID: removed AFF from heli PID
75d76ac3bd Copter: fixed scaling of old heli parms
cf08c46f30 AC_PID: fixed default leak min for heli
b012d5bb7b sim_vehicle.py: fix error to find binary
ad8cedc452 sim_vehicle.py: remove unused AUTOTEST variable
e772c70536 sim_vehicle.py: use helper function to execute blocking command
1ef9eb637f sim_vehicle.py: configure project only once
7a548e45f9 sim_vehicle.py: default to -j1 if running in compat mode
03e565ee47 sim_vehicle.py : change default number of jobs
aa974399d0 AP_Math: use inline wrappers for constrain_* functions
3bae8373e6 AP_Notify: play vehicle lost tone
c1dd3cb921 AP_Notify: add support for for Buzzer on BBBMini
efc3f5058b ci: simplify build script
7142bacfaa Plane: improve user friendliness of throttle fs msg
bb648280ae  sim_vehicle.py: correct APMrover2 typo
b7d1e047aa sim_vehicle.py: correct binary to use for --debug
12e0012b16 Plane: allow for NAV_LOITER_UNLIM and NAV_LOITER_TIME in quadplane
3fc43b94f9 Plane: separate out auto and guided VTOL states
7510e4d0a7 SITL: setsid() when starting JSBSim so Ctrl-C doesn't kill it in GDB
eeef28be5e AP_HAL_PX4: fixed hexacopter on Pixracer
8a7627474f Revert "AP_HAL_PX4: use new I2CDevice interface"
8c06e6cddc Revert "AP_HAL_PX4: embed PX4_I2C object into I2CDevice"
bcc64e0b4a Plane: fixed tiltrotor build failure
a2ae662b3e AP_Compass: add an extra rotation for internal LSM9DS1 on Navio2
2e5cfc2849 AP_Compass: added external compass autodetection on Navio
62f2695e83 AP_Compass: added several compasses' autodetection on Navio 2
8be5ef1642 AP_HAL: added possibility to use several compassed on Navio 2
71736a0ecc AP_Compass: enable LSM9DS1 magnetometer for boards without default one
f7846403e1 AP_HAL_Linux: enabled SPI-driven LSM9DS1 for Navio 2
b677f975e7 AP_Compass: added LSM9DS1 magnetometer support
691d4b6ca7 Plane: added local reached_loiter_target()
52ea443d65 Plane: added Q_THR_MIN
45609bb568 autotest: don't use --sitl if using flightaxis
a61d608915 Plane: fixed numerical error if starting VTOL landing at destination
357ed1f4b9 Plane: enable weathervaning in GUIDED and TAKEOFF quadplane modes
6b358a5618 Plane: added Q_GUIDED_MODE parameter
3bd5b42c69 Plane: refactor quadplane land controller as general VTOL position controller
6fdaaa7d98 Plane: new tilt compensation method
401b8d4fa6 autotest: use channel 13 for firefly tilt
88b910c13d SITL: changed firefly motors to be suitable for a pixhawk
cafc3f131e autotest: improved firefly default parameters
5b3e4fc47a autotest: adjust tricopter parms for default yaw servo
3e1cad5df2 SITL: adjust tricopter so default yaw servo values will work
46bf2b83f5 Plane: use equal thrust in tiltrotors when over Q_TILT_MAX
48ca1a8d92 SITL: increase the mass of the plane to 2kg
12e5b7881f autotest: use more default parms for quadplanes
b3cb83731c autotest: added quadplane-tilttri model
eab42c5740 Plane: fixed attitude logging with fast logging off
9c90709872 SITL: fixed namespace of SITL classes
91abc636f4 SITL: fixed quadplanes with elevons
bbb5f68bb7 Plane: added initial support for tiltrotors and tiltwings
a41ffc176c RC_Channel: added motor tilt auxillary channel
2d47ca8095 SITL: fixed moment of rotated motors
60b3625950 AP_Motors: added hook for vehicle based thrust compensation
37d6b5fdaf AP_Motors: added output_motor_mask()
bd8cd71745 SITL: fixed fwd motor angles for tri and y6 frames
125a9feb3d SITL: added tilttri frame type
89a2a92885 Plane: support better build time selection of multicopter frame type
cb0ffc0e07 Replay: fix build error due to missing noreturn
68ae619448 AP_Compass: detect compasses for minlure
424434e31e AP_HAL: allow to build without HAL_COMPASS_DEFAULT
3315f46800 AP_HAL_Linux: inline I2C bus options for minlure
91246ad8af AP_Compass: HMC5843: apply HMC5883L "arrow" rotation only if external
35cddc7af0 AP_Compass: HMC5843: move hardcoded rotation to before call to rotate_field()
ad91a810b3 AP_Compass: Backend: add method is_external()
670b0071f9 AP_Compass: HMC5843: add parameter force_external to constructor
54fd3702c3 AP_HAL_PX4: embed PX4_I2C object into I2CDevice
f767918e0e AP_HAL_PX4: use new I2CDevice interface
f04b954a1c build_binaries.sh: fix typo on rebase
06f5a3ac39 build_binaries.sh: replace tabs with spaces
9814955eef Update build_binaries.sh
df84cde3e6 Added erlebrain2 in build_binaries.sh
3c7d80a270 AP_Baro: BMP085: use a moving average of 10 samples in BMP085
18f1f8bea8 Filter: add AverageFilter variant to save current sum
8da5275b03 AP_Baro: BMP085: don't average temperature in BMP085
c5c52076ca AP_Baro: BMP085: rename private member
e40b88aa70 AP_Baro: BMP085: use DigitalSource interface in BMP085
56fa1b6214 AP_Baro: BMP085: change oversampling in BMP085 without EOC
37e2f6c52e AP_Baro: BMP085: allow to easily change oversampling in BMP085
bd6e268122 AP_Math: fix coding style
6f87195eb7 AP_L1_Control: remove tabs and trailing whitespaces
1dbffef7ea AP_Math: remove trailing whitespace on headers
ab1fa4b435 AP_Math: reorganize headers
6d3b491c02 AP_Math: Replace is_equal with a type safe template function
503867b7dc AP_Math: Replace safe_sqrt() by template function
5deb0e8e03 AP_Math: Replace safe_asin() by template function
846b4927ec AP_Math: use if/else chain instead of 2 ternary operators
174f899a29 AP_Math: Replace the constrain_* functions by a single template
348b07609c AP_Math: remove macros from unit tests
41661f815f AP_Math: Replace the pythagorous* functions with a variadic template
880f130670 AP_Math: fix loss of precision on float addition
76362caee0 AP_Math: Replace wrap_* functions with template versions
49cfd6fd9b AP_Math: Add gtest support for some functions
ceea7540fd AP_Math: rename test file
3343391409 mk: deprecate build system for linux boards
a38d350502 mk: fix mavgen dependency
a136e42d39 Tools: sitl_calibration: fix mavlink_packet() for magcal
4d769497c9 ArduPlane: RC_Channel refactor
e9e2f9020d ArduPlane: RC_Channel refactor, reimplement stick_mix_channels
c0c8f1a5cc RC_Channel: RC_Channel refactor
de5130fa13 AP_Motors: RC_Channel refactor
4980c8bc94 ArduCopter: RC_Channel refactor
49d3410896 ArduCopter: fixup RC_Channel data member accesses to function calls
12cf65baed AP_Tuning: Fix up after RC_Channels refactor
662cefd086 AntennaTracker:  Fix up after refactoring RC_Channel class
8c9e55edfa APMRover2:  Fix up after refactoring RC_Channel class
6f200fa923 ArduCopter: Fix up after refactoring RC_Channel class
7f29903287 ArduPlane: Fix up after refactoring RC_Channel class
c4aa55a6d9 AP_ServoRelayEvents: Fix up after RC_Channels refactor
8b9c96814b AP_Mount: Fix up after RC_Channels refactor
daec4ea10e AP_Motors: Fix up after RC_Channels refactor
ba9462d13d APM_OBC: Fix up after RC_Channels refactor
d16659331f RC_Channel_aux: Rename static member functions
d9ab3baf84 RC_Channel: Refactor to make data members private
c77e763eca Tools: sitl_calibration: add sitl_magcal command
fcc80de20a Tools: sitl_calibration: add sitl_accelcal command
363f241e9a Tools: sitl_calibration: add initial implementation
b594b5a08b AP_Math: matrix_alg: disable FE_OVERFLOW in inverse4x4() for SITL
a7543d369f AP_Math: matrix_alg: protect inverseixi() against overflow
39f72610e2 AP_Math: quaternion: fix style
8c4c9ccfa6 AP_HAL_SITL: add calibration model
9fa85d9bcf SITL: add SIM_Calibration
45754ef37c SITL: Multicopter: remove leftover comment
ce8766e1cd SITL: remove set_yaw_degrees()
84d45cce40 Replay: fixed log rate detection
fcd7611248 waf: ensure we don't build a library twice
9f84a22d22 Plane: removed unnecessary libs
3c9b063eb1 Copter: removed unnecessary libs
2f656c187a waf: cope with -ve return from mavgen on segv
9653aae21f waf: fixed link of antennatracker on windows
5ef0c4d3fe waf: added AP_RPM to build
237b63284b waf: fixed typo
e5a21cd459 waf: allow mavgen to segfault without failing
50908edc91 RC_Channel: added parameter docs for missing RCn_FUNCTION values
31ed1eabfb AP_Tuning: use better tones for next parameter
3e75fc4f3d AP_Notify: improved tones for AP_Tuning
276f5dd3f1 Replay: use a larger LOG_FILE_BUFSIZE for Replay
248ce2e0e6 Replay: enable LOG_REPLAY in replay
ea508f1b80 AP_NavEKF2: use LOG_REPLAY and EK2_LOG_MASK parameters
202eb3af35 DataFlash: added imu_mask to Log_Write_IMUDT
c0172516af Rover: use DataFlash::log_while_disarmed()
111eb2ccc1 Copter: use DataFlash::log_while_disarmed()
dcb24f2bc1 Plane: use DataFlash::log_while_disarmed()
8ca6ed54c5 DataFlash: added LOG_REPLAY and LOG_DISARMED parameters
5398283c9b DataFlash: fixed BAR2 and BAR3 log formats
5d24f0de23 sim_vehicle: use waf --debug option to create debug builds
25c7b43628 AP_Tuning: removed chans 1 to 4 from TUNE_CHAN choices
2a2abb8be6 GCS_MAVLink: log parameter changes to DataFlash
51877a20d6 Plane: added some more tuning sets
35ef20b23a Plane: use separate definition for TUNE_PARM
d72df80968 AP_Tuning: added a small dead-zone on mid-point detection
aa38539ecb AP_Tuning: move to using a nested parameter set for AP_Tuning
7a8bf033e1 Plane: allow for tuning of single parameters
8a65481551 AP_Tuning: allow for tuning with no selector switch
f69806deff AP_Tuning: detect change to TUNE_PARMSET while tuning
6d1c7c9082 AP_Tuning: make it possible to tune a single parameter
f23bd7e09d GCS_MAVLink: Use a single stream_trigger() implementation
40ea8225b6 reformat: remove mention to .pde files
6bb9023221 docs: remove mention to .pde files
0eab8847f2 ArduPlane: remove mention to .pde files
668ebf160e APMrover2: remove mention to .pde files
b07acea6b6 Tools: get version exclusively from version.h
ff46384258 waf: add --debug configuration option
50330e22d4 sim_vehicle.py: set default_waf_target, clearer help
39c29820c4 sim_vehicle.py: avoid exception when frame information not found
db5f50e08e Plane: convert tuning to use AP_Tuning library
9cd4f8a856 AP_Notify: added tones for tuning stages
d1a2749317 waf: fixed build for AP_Tuning
ebee79fb3a AP_Tuning: added transmitter tuning library
a9f1b608ed APM_Control: expose parameters as AP_Float
412dc10353 AC_PID: expose parameters as AP_Float
dbe9091d58 Replay: set last sample time for GPS
5ddb872b79 AP_GPS: allow Replay to set last sample time
2f4f38b85f DataFlash: log the last message sample time for GPS
428923b4b1 AP_GPS: use 3D velocity for uBlox
7abaa75653 Replay: added --logmatch option
679b43efc9 DataFlash: make timestamps in EKF messages all match
32af886ba9 AP_NavEKF2: use consistent logging timestamps for sensors
35c3adb1ad DataFlash: use caller supplied timestamps for sensor logging
6aa02f06a9 DataFlash: use INS_USE to prevent logging of unused IMUs
3853aa0fe3 Plane: fix for changed API
874fae931f Copter: fix for changed API
efe3e19a51 Rover: fixed for changed API
c2aeb058cd Replay: mark GPA as generated
d24bbcd1ff AP_GPS: convert vdop to cm
468f020b51 Replay: cope with GPS ground couse in degrees
b424c49bc7 AP_GPS: change ground course to be in degrees
e8142b0b5b AP_Math: added wrap_360()
9300092840 DataFlash: changed GPS ground course to float and add VV for GPA
2bcd3c48f0 Replay: use baro last update time if available
8b7bf5cf7a AP_Baro: allow setHIL to set last update time
1bf057be45 DataFlash: log last update time in BARO msg
d61ba14037 DataFlash: switched to float for GPS ground speed
0571f86c17 Replay: handle float ground speed in GPS
d116071054 Replay: use new setHIL API for baro
0b71652afc AP_Baro; allow for exact replay of baro data
d97074dc9d DataFlash: round baro temp to nearest centi-degree
73d3797a7e AP_AHRS: finish implementing have_ekf_logging()
4e4c575f16 AP_NavEKF2: added have_ekf_logging()
b7ba0fa458 AP_NavEKF2: added ad-hoc logging example to EKF2
cbbf26a1f6 Plane: removed Log_Write_IMUDT
3bbc6353d8 Plane: use have_ekf_logging()
827551c99f Replay: added replay of GPS speed accuracy
4e5f1374da AP_GPS: added setHil_Accuracy()
772acf056b Replay: fixed overriding of parameters
295c65277d Replay: restore exact timestamp in HIL
88a1ebaf0e AP_Compass: allow setting of exact timestamp in HIL compass
4318fd0ab8 HAL_SITL: update for changed API
61da827c16 DataFlash: added sample timestamp to mag messages
315d3854db Replay: improved log rate detection
9da3b8db60 Copter: only log baro, gps and mag if ekf not logging them
795080742e AP_AHRS: added have_ekf_logging() API
71b121837a AntennaTracker: adjust for changed logging APIs
ac4da762d1 Rover: adjust for changed logging APIs
b31e896ef3 Replay: closer to goal of bit-accurate replay
7ab1367ec4 DataFlash: removed logging of relative alt in GPS messages
223c512188 AP_NavEKF2: added logging of sensor data in EKF2
2718b0649b HAL_SITL: fixed GPS rate in SITL when speedup used
8a987bf67d AP_Baro: removed filtering of baro data in HIL/SITL
c85607b80c AP_GPS: added time_epoch_convert() function
07060051cf AP_AHRS: added API for forcing EKF to start
f92279f436 AP_NavEKF2: allow logging of IMT data from inside EKF2
2965e67d5d HAL_Linux: cope with non-root for Replay
640a04a1ee Replay: fixed to handle IMT copter logs
b235304235 Copter: reduce IMU logging to 25Hz
a5c55c3fbd Copter: fix get_non_takeoff_throttle
4a06ca4be2 AC_AttControl: remove unused call to motors.set_stabilizing
e41f798ba1 AP_Motors: remove unused set_stabilizing
2eb0484142 Copter: rename Loiter states and swap order within select statement
1c4db779a1 Copter: Loiter stabilizes roll and pitch while landed
9c12b64ba5 Copter: rename AltHold states and swap order within select statement
932cd907d4 Copter: AltHold stabilizes roll and pitch while landed
3ead74c4be Copter: remove zero-throttle check from AltHold takeoff state
2a7edfd3d1 Plane: fixed setting of failsafe for motors in quadplane
ab0b76764f RC_Channel: added set_servo_failsafe_pwm()
46f257fd9b DataFlash: convert Log_Write() to use a linked list
9a1cbff850 DataFlash: allow access to DataFlash instance as a static singleton
11dd254498 DataFlash: Log_Write optimisations
cf15bb5f6e DataFlash: AllTypes example also covers Log_Write
b273514cf9 DataFlash: create example outputting all field types
518fabe035 DataFlash: StopLogging method, virtual stop_logging on backends
77dd170e03 DataFlash: Log_Write support
334af1ecd7 DataFlash: base class method for resetting state on log open
eea2d5dcb5 DataFlash_File: avoid integer wrap when checking minimum time
b096e1404d Plane: Add MAVLink message handler for CMD_DO_CHANGE_SPEED
62a7074dd7 AP_Mission: Added mavlink_cmd_long_to_mission_cmd method.
a14bdf949a Adding Lee Field to locations.txt
ddbce5b130 waf: change mavgen generation to blue
fea084a596 Global: use ap_version.h
9e3ec3a16d waf: define git versions in a generated ap_version.h header
baa287e5e5 ArduPlane: use separate header for version macro
352e103f1a ArduCopter: use separate header for version macro
d3ee998fa6 APMrover2: use separate header for version macro
49a46e463f AntennaTracker: use separate header for version macro
1238c872a9 AP_Common: remove unused Arduino.h header
2363c92c30 readme: fix link to CONTRIBUTING.md
d6012c535e Copter: remove unused dt passed to precland
d01db0edd6 AC_PrecLand: remove PI controller, speed limits as they are unused
6bcd9e6f65 Copter::pre_arm_rc_checks: fix logic checking that throttle min and max are configured
134ea338da RC_Channel: remove unused control_mix method
3c00324fd2 Plane: Parachute uses altitude above ground (not home) to check suitability for deployment.
9fdf39baf0 Plane: Added a method that returns current altitude relative to terrain, if available, or home otherwise.
9c4dd024bf AP_NavEKF2: auto change EK2_GPS_TYPE for NMEA
75c965f512 sim_vehicle.py: interface improvements based on feedback; waf support
826cb0887a AP_SerialManager: changed default for SERIAL4_PROTOCOL to 5
25c8027606 Plane: handle new MAVLink rangefinder input
cf11776150 AP_HAL: fix signed and unsigned comparison warning
9ac63d7128 AP_HAL: examples: fix coding style
c82f28f35a Tools: CPUInfo: fix warnings on printf
2c029ae1f9 waf: fix undef warnings in examples
b5d3094738 AP_ADC: fix warning on printf
53785d1f72 AP_RangeFinder: add Bebop and MAVLink types
96f665061e AP_RangeFinder: call handle_msg for all backends
9b940687c1 AP_RangeFinder: rename CompanionComputer files to MAVLink
c541cb27f8 AP_RangeFinder: rename CompanionComputer to MAVLink
7960e3bb8f Copter: pass DISTANCE_SENSOR messages to rangefinders
d3831e4a5d RangeFinder: add MAVLink rangefinder
7cdab2a6c9 SITL: FlightAxis can support 8 channels
9081310ff1 HAL_SITL: support simulator RC input
3b0cd9f101 SITL: added RC input from FlightAxis
3897e03d39 Frame_params: fix Bebop param names
5b88ae90fd waf: be compatible with git < 1.8.5
33a699f29c AP_RangeFinder: Add support for bebop Rangefinder
c22d791bfc AP_HAL_Linux: Add SPI driver for bebop
d0114eac05 AP_HAL: Add bebop SPI Device to spi devices
738096b3ae AP_HAL_Linux: Add support for Sonar GPIO
5418f71aae waf: add libiio support for bebop
384ad94e73 Rover: Fixing the 3.0.0 release notes.
664ce5c16e AP_AHRS: don't use disabled gyro in rate controllers
0e32c047c3 AP_Compass: allow for COMPASS_EXTERNAL=2 for forced external
e7974702d4 Copter: Ignore POSITION_TARGET_GLOBAL_INT
06b9fa293c AntennaTracker: Ignore POSITION_TARGET_GLOBAL_INT
b327ed671b Rover: Ignore MSG_POSITION_TARGET_GLOBAL_INT for now
0fcfcdc169 Plane: Broadcast POSITION_TARGET_GLOBAL_INT as part of the EXTENDED_STATUS stream
a17ea5c121 GCS_MAVLink: Add POSITION_TARGET_GLOBAL_INT to the list of messages
5db22f57a9 mavlink: submodule update
cd56061b24 ArduPlane: support MAVLINK_MSG_ID_MISSION_ITEM_INT
5848d8a5e6 ArduCopter: support MAVLINK_MSG_ID_MISSION_ITEM_INT
8816c5c681 ArduRover: support MAVLINK_MSG_ID_MISSION_ITEM_INT
848fa27d1c GCS_MAVLink: support MAVLINK_MSG_ID_MISSION_ITEM_INT
e8ce7abdd2 Mavlink update
fb3fc118f1 AP_Mission: support MAVLINK_MSG_ID_MISSION_ITEM_INT
226e6f1d6c Plane: only save compass offsets when disarmed and learning enabled
54d1cc7e50 Copter: only save offsets for Compass::LEARN_EKF
ed999a283f AP_Compass: added get_learn_type() API
ebe552bdc5 autotest: remove condition_change_alt
dfa86cff63 Plane: update release notes for 3.6.0beta1
a99616bd10 Plane: prepare for 3.6.0beta1 release
3a35f8f528 Plane: update release notes for 3.5.3
abfcf89f5e Plane: reduced the rate of EKF and attitude logging to 25Hz
0fd044c1f7 Plane: added Q_RTL_MODE parameter
66d3668ac4 Plane: rapid climb in QRTL if below target altitude
4666b25258 Plane: initial implementation of QRTL for quadplane RTL
460885c478 Plane: refactored quadplane landing controller
fff21a1db9 Mission: Remove support for CONDITION_CHANGE_ALT
c97888f524 Copter: Remove support for CONDITION_CHANGE_ALT
de1e299754 Plane: Remove support for CONDITION_CHANGE_ALT
d455e2a33f Copter: fix auto-circle comment
a6b6fb2473 Copter: fix TERRAIN_FOLLOW parameter description
3d31c3b936 Copter: log error if circle does not initialise correctly
85963cecb4 Location: add additional comments
5161d63f8b Location: operator= uses const reference
d6309a3a1a Location: remove unused methods
caf6bbc2e0 Copter: rename set_alt to set_alt_cm in control_rtl
fac7b7c566 Copter: rename set_alt to set_alt_cm in control_guided
f8f6c135e9 Copter: rename set_alt to set_alt_cm in control_auto
d92154a44e Copter: rename set_alt to set_alt_cm in commands_logic
1bfb565e18 Location: rename set_alt to set_alt_cm
3f31a4a1ff SITL: add copter terrain missions
cd97aa97a3 Copter: provide terrain reference to AC_WPNav
cac79f297e Copter: guided can trigger terrain failsafe
9100cf605a Copter: auto can trigger terrain failsafe
43d14defd4 Copter: RTL handles terrain data failure
47658fe964 Copter: add terrain failsafe
8e43be1511 Copter: fixes to allow compiling without terrain support
74e02d2c82 Copter: rename TERRAIN_USE to TERRAIN_FOLLOW
13c26eab67 Copter: update current_loc at 400hz
f45c69e7ad Copter: log terrain altitude in CTUN message
25c676c3b4 Copter: report terrain capability to GCS
ddffbe27aa Copter: add terrain pre-arm check
91f6c7b503 Copter: add TERRAIN_USE parameter
267c1c3934 Copter: guided mode handles terrain alt
e8b14e59fc Copter: spline mission commands handle terrain altitudes
81d244c9bd Copter: do-circle accept terrain altitude
70630e9774 Copter: auto loiter handles terrain
4892446c55 Copter: do-loiter accepts terrain altitudes
27517004c0 Copter: slow to land-speed 10m above terrain
39dc2d7176 Copter: while landing use land-speed from 10m above home
ffd86744ce Copter: do-land accepts terrain
352b6ae82a Copter: RTL supports terrain altitudes
06ee6a7bd4 Copter: auto takeoff accepts abs and terrain alts
9449776e3c Copter: straight line waypoints accept terrain
2134e8bfb9 Copter: add terrain and navigation dataflash error codes
84fd8da944 Copter: current_loc to Location class
3d646a26e2 AP_HAL_SITL: calls to terrain:height_amsl provide extrapolate and corrected params
1c4b2be16a AC_WPNav: simplify use of terrain to just current location
c5a3781507 AC_WPNav: accept terrain library reference
e23c869c5d AC_WPNav: fix reporting of set_wp_destination failure
9fbfea951a AC_WPNav: spline handles terrain altitudes
8b2c479d62 AC_WPNav: straight line waypoints accept terrain
cd999a2091 Location: initial class implementation
83922f9b65 AP_Terrain: update comments for height_terrain_difference_home
d84321be2e AP_Terrain: height_amsl can correct for non-zero terrain alt at home position
7474e827ce AP_Terrain: get_statistics made public
74b9f624a3 Added temperature to the Airspeed.cpp example script Fixed the formatting of the output data
2b77bc02bf build: add navio 2 target to build server
1605e34f7d Tools: added Navio 2 build to CI
1a9c574317 Readme: removed duplicate board
53940e11c4 sim_vehicle.sh: tracker needs to be armed
f4d8ddaf48 sim_vehicle.sh: remove unused variable sets
47436b9680 sim_vehicle.sh: remove unused SIMIN variable
4ee1e3d804 sim_vehicle.sh: remove useless variable set
47e037cada sim_vehicle.sh: set options properly for heli-dual and heli-compound
409a7e1c97 APMRover : Updated handle_guided_request() to report error.
a03941ba02 ArduPlane : Updated handle_guided_request() to report error.
867360c350 ArduCopter : Updated handle_guided_request() to report error.
052fc6b85e AntennaTracker : Updated handle_guided_request() to report error.
8fcf5cf0c1 Changed the prototype of handle_guided_request() to report error while setting guided points.
6839ee4f37 AP_OpticalFlow: remove trailing whitespaces
5a52533084 AP_OpticalFlow: move bus definition to AP_HAL header
46fb57fcf1 AP_OpticalFlow: use I2CDevice interface
106f26d204 Linux_HAL_Essentials: Add missing make command in README.md for aiopru
731c68f273 Plane: Change mode to RTL on end of mission rather then staying in auto
a9940a8ca5 sim_vehicle.py: create from sim_vehicle.sh
ab5ca53e2f Plane: lower default VTOL ANGLE_MAX to 30 degrees
19a1edcd2b Plane: lower default velocity controller gains for quadplanes
68e17af070 SITL: allow for changing FlightAxis controller IP
6f4d66f346 Plane: support building quadplane with forced motors class
e3f5d4552e autotest: added params for quadplane tricopter
9c0d984a4e Plane: support forced motor class in quadplane
e428d1e72d SITL: support tricopter quadplanes
ff96085bd3 AP_Motors: allow arbitrary motor mapping with tricopters
4908350ccb AC_WPNav: limit WPNAV_ACCEL to that implied by ANGLE_MAX
c7664291f9 AC_AttitudeControl: fixed comment on function
23a64e1227 AC_AttitudeControl: fixed accel limit trigonometry
bec8bf8880 autotest: support multicopter frame variants
9e01d7de6c SITL: added support for "quad-fast" frame
00c2b4b30f Plane: reload airspeed after VTOL landing
60426faa52 AP_HAL_Linux: changed ADC logic a bit for Navio 2
3feade792a AP_Airspeed: changed default pin for Navio boards
e83b10cbc5 AP_HAL: move definition of callbacks structure out of C linkage
4a10156b13 AP_HAL_Linux: Fix RCInput::read from stopping at any zero channel
08e5959923 autotest: correct path to mavtogpx
197e72acc0 GCS_MAVLink: fixed null termination bug
69e233a39d AP_GPS: fixed init string for SBF GPS
785ad0614a SITL: fixed coverity 125055
ed4e8b635a SITL: fixed fd leak
97d27ce58f AP_Math: fixed memory leak
847483d744 SITL: fixed coverity warning
909a46a33b Replay: pass delta angle time if available
be41d402b5 AP_InertialSensor: added set of delta angle time for replay
bcefb45e0a DataFlash: added DelaT to delta-angle logs
4401cbec72 AP_InertialSensor: cope with zero delta angle time from Replay
f367180f47 Replay: support 2 IMU EKF2
c869516a0b Replay: abort if field type not known; understand double
1ebe0a2583 Plane: prevent a division by zero in takeoff code
831ae72908 AP_Mission: Remove DO_SET_PARAMETER
6e546ba181 AP_HAL_Linux: Fix compiler warning unused hal
b381045d5e AP_HAL: BBBmini rework for dual MPU9250 and external HMC5843 compass
c3a6a56ebb AP_InertialSensor: Add second MPU9250 autodetection to BBBmini
3df5a02448 AP_Compass: Add HMC5843 and second AK8963 autodetection to BBBmini
2aba5a4643 AP_HAL_Linux: BBBmini add second MPU9250
afb3e94fe6 Revert "Copter: clipped param cmd float to zero"
64315bfed8 Revert "APMRover2: clipped param cmd float to zero"
9b6de75203 Copter: clipped param cmd float to zero
cbbee1149d APMRover2: clipped param cmd float to zero
472f54ce45 Copter: initialise compass_mot interference_pct variable
f70072c54b AP_AccelCal: check return of get_calibrator
39560f9af8 DataFlash: remove unused num_format_types and _structures
6ef735c41e AP_RSSI: use fabsf  instead of abs
7af9892bd1 AP_MotorsMatrix: make const a float
a50f5bfaf8 AP_L1_Control: replace fabsf with labs
b2153fb97f AP_L1_Control: remove unused _xtrackVelPos
58e65c836f HAL_Linux: remove unused pru_chan_map from RCOutput
d6d5bac419 RCInput_UART: remove unused _count, _direction
3c7b2232b0 AP_GPS_GSOF: remove unused last_hdop
ea3c44f9fa AP_Frsky_Telem: remove unnecessary abs
4aba25d2ef AP_Compass_AK8963: remove unused _bus_sem, _last_accum_time
04b2e65627 AP_Airspeed: remove unused _last_pin
722095e56d APM_Control: remove unused _last_error member
da443417f1 Copter: remove unnecessary abs
381b5c8f5d Rover: remove unnecessary abs
69c6cfe5b9 Revising ardupilot.com to .org
16c9e8c105 Revising ardupilot.com to .org
a3698e7da7 Revising ardupilot.com to .org
2addd0bd8d Revising ardupilot.com to .org
b64d28b825 Revising ardupilot.com to .org
ae90945836 Revising ardupilot.com to .org
f5466992e9 Revising ardupilot.com to .org
7dbc97ec35 Revising ardupilot.com to .org
90942f019d Revising ardupilot.com to .org
b8a1dfa066 Revising ardupilot.com to .org
343b4cb81a Revising ardupilot.com to .org
5b60d1514f Revising ardupilot.com to .org
bbbb3047fa Revising ardupilot.com to .org
72e03a0fb7 Revising ardupilot.com to .org
4e594287eb Revising ardupilot.com to .org
4e70665f17 Revising ardupilot.com to .org
0d9ea7597c Revising ardupilot.com to .org
75ffc0618a Revising ardupilot.com to .org
73ac146b7e Revising ardupilot.com to .org
a16e9b3606 Revising ardupilot.com to .org
40b58606d5 Correcting ardupilot.com to newer .org
72a7f674ec AP_Motors: protect against out-of-bounds memory access
54f7aeed83 RC_Channel: extend channel mapping to 16 channels
38a7bfd81f Plane: added Q_ENABLE=2 for starting AUTO in VTOL
0aa1ae048d Plane: fixed is_flying() for VTOL flight
76400a9959 Plane: support DO_VTOL_TRANSITION as a mission item
3a5e4c80ca AP_Mission: support DO_VTOL_TRANSITION command
07168c3db4 Plane: fixed places that assumed mission command IDs are 8 bit
09c3c36c00 AP_Mission: allow for 16 bit command IDs
bcc2838a37 APM_OBC: changed param RC_FAIL_MS to RC_FAIL_TIME in float seconds
f2d744b7c9 APM_OBC: non-functional change - cleaned up logic
4e7e84fc99 Plane: Modified last_valid_rc_ms AFS failsafe input to work when standard failsafe is on
48a7363608 APM_OBC: Added params for AUVSI student competition
af6d8e3c36 AP_Param: explicitly cast to float to avoid Clang warning
71692044f8 AP_Parachute: resolve compile warning re init order
4291139b6c Plane: ack DO_MOUNT_CONTROL messages
699816400e Copter: ack DO_MOUNT_CONTROL messages
a5ed3c9b12 Rover: ack DO_MOUNT_CONTROL messages
762c9ed4b0 Copter: remove unused FS_CLOSE_TO_HOME definition
554affeaf5 Copter: fix scheduler comment
9aa25cb7a0 Plane: update flight stage on successful restart_landing_sequence()
2ba9a04bf5 Plane: smooth-out the end of takeoff pitch by reducing takeoff pitch min via TKOFF_PLIM_SEC
431b3c7160 AP-TECS: constrain proportion to 0-1 for spdweight scale so it doesn't grow backup after land point
f12658dd20 Plane: more comments on landing flare
fefcf39335 Plane: must be on land approach before flare alt/sec are used
12663eaa48 Plane: simplify flare logic
183369b92a Plane: take advantage of L1 stale flag and correctly inhibit flight stage if not lined up on approach
25c3367341 AP_L1 - add a stale flag
c5a3b1b134 Plane: non-functional change - change labels for approach flight stage criteria
c238645e53 Plane: limit roll before calculating load factor
aadd9a18ce Plane: log L1 xtrack error integrator and remove extra yaw logging
2ce964c8ac AP_L1_Controller: add accessor for xtrack_error_integrator
85913bd237 Plane: rely on flight stage to know if we're doing auto_land in TECS
595badce3e AP_TECS: rely on single flag for all land stage differences
6a83ad419a Plane: moved update_flight_stage() inside setup_glide_slope()
ec3e9014e4 Plane: move target land_airspeed logic to top layer
0af878703f AP_TECS: move target land_airspeed logic to top layer
525c7b24e3 AP_TECS: created accessor for TECS_LAND_ARSPD param
0af322e90d HAL_PX4: added comment on oneshot
ca6bb27a3c PX4Firmware: submodule update
5ce7ae71a7 HAL_PX4: fixed enabling oneshot on a subset of motors
fd7c87e629 AP_Motors: allow enabling oneshot on a subset of motors
bcd0d48ced HAL_PX4: fixed non-contiguous motor outputs
05e9f360b2 autotest: fixed quadplane test with new valgrind option
180a7905e5 SITL: make Z down in motors
da548e934a autotest: control tilt with chan7 in in firefly
a549225e60 Plane: support Y6 frame class in quadplane
199d4fd6c1 autotest: added parameters for elevon plane, vtail plane and fireflyy6
46f368f17d HAL_SITL: support fireflyy6 as quadplane
aa80851138 SITL: support fireflyY6 quadplane model
8880635fe1 SITL: support vtail and elevon planes in builtin plane sim
b4d24d8e03 SITL: fixed rotations of motors by large angles
6165c42535 AP_Math: added from_axis_angle() method on Matrix3f
8774f15b9a Tools: add valgrind option to autotest.py
f2c63e24c5 AP_Motors: allow tricopter motor 7 to be moved to any output
0e775f595d AP_BattMonitor: make param BATT_WATT_MAX plane only
df922dacfa Plane: Suppress throttle when parachute release initiated, not after release.
2a1985d0f9 Plane: fixed loiter radius at end of mission
de33779382 Plane: added Q_WVANE_MINROLL
bcc4a653d7 autotest: added Y6 to sim_vehicle.sh
21fb38da8f HAL_SITL: support Y6 frame
71ca534ec6 SITL: added Y6 frame
dea1fec14d autotest: support -f tri for sim_vehicle.sh
41b3cb2ff7 HAL_SITL: support tri sim
49822effca SITL: added tricopter simulator
c262d6a1b4 SITL: break up multicopter into Motor/Frame/Multicopter classes
a39a4a6243 Copter: mark a few more log messages as critical
f32b7684a0 Copter: removed unused startup log message
5149a49daa Copter: added logging of dropped log messages in PM message
fd51c3cc16 AP_TECS: Remove hgt_afe from update_50hz()
475e731e34 AP_SpdHgt_Control: Remove hgt_afe from update_50hz()
ef348473eb Plane: Remove tecs_hgt_afe from the 50hz tecs update
f5749b44cd Plane: Move position update to 50hz loop rather then the 10hz
cf7b6123a9 Plane: log the number of lost log messages
c765979f9a DataFlash: expose the number of lost log messages
8683616d8c Plane: redo scheduler table and improve perf logging
ced4cce358 AP_Scheduler: added optional perf counters at SCHED_DEBUG >= 4
a7006a7784 Plane: refactor perf variables into a structure
a5de231a21 SITL: ease gps_glitch_auto_test
bd24dd79a8 Rover: Fixing up some of the outdated parameter comments/doco
4419b3c617 AHRS_NavEKF: fix get_position by using ekf origin
a7f959e6f9 AP_Notify: add ToneAlarm_PX4_Solo
19f80dbcb4 PX4: add startup tone file
246cf113df PX4: clean up whitespace in startup scripts
d2ca2d2e0e AP_Notify: change OREOLED config to ifdef
06ccf88cc9 AP_BattMonitor_SMBus: set AP_Notify powering_off flag
dba55182af AP_Notify: add flags.powering_off
ac60901b0c AP_NavEKF2: use vector comparison for new mag vector
c9b1b02b8e Copter: loop through compasses and save offsets
6a5f1c0bec AP_AHRS_NavEKF: reflect changes to getMagOffsets
97112ccd44 AP_NavEKF2: check mag instance id when returning mag offsets
6938e3d57b AP_NavEKF: check mag instance id when returning mag offsets
1185cd1be7 AP_NavEKF2: move getMagOffsets into outputs
acfaafe276 AP_NavEKF2: detect changes to magnetometer offset parameters and reset states
d013878c17 Plane: improved speed limiting on landing approach in VTOL mode
835c0b1759 HAL_SITL: follow sqrt law to 60m for wind
d8b0d17fe4 Plane: added weathervaning to landing reposition
f34af03891 Plane: added Q_WVANE_GAIN
e9e43dc016 Plane: added Q_VFWD_GAIN for forward motor in VTOL modes
57aef8e1e9 SITL: added basic wind support in multicopter, plane and quadplane
28aa4c40cc HAL_PX4: fixed order of wifi and frsky on FMUv4
4a35f8e9fc HAL_PX4: fixed comments for FMUv4 uarts
4ef977c68b HAL_SITL: fixed initial path for uartF
ef180710db AP_SerialManager: fixed doc strings
62986957b4 GCS_MAVLink: raise number of mavlink buffers to 5
0baf8ee2eb AP_SerialManager: added SERIAL5_* support
6120631977 HAL_VRBRAIN: added uartF
0d27409511 HAL_SITL: added uartF
9c9f66e5f3 HAL_QURT: added uartF
18ccaf7e2b HAL_PX4: added uartF
c7dabad02c HAL_Linux: added uartF
543604731f HAL_FLYMAPLE: added uartF
a78e23d6fb HAL_Empty: added uartF
76868dd070 AP_HAL: added uartF
5f80858cba waf: use system extensions
e6907a607b waf: link with winmm on cygwin
b8cb88092f Tools: install-prereqs-ubuntu: fix exporting PATH
0fae368635 Tools: install-prereqs-ubuntu: allow to run from repository
757f48ff83 Tools: install-prereqs-ubuntu: fix return code checking
4c6dac2d5d Tools: install-prereqs-ubuntu: install python-setuptools
03f5362538 Tools: install-prereqs-ubuntu: remove 32-bit variants
1a24a3174f Tools: install-prereqs-ubuntu: fix string concatenation
b6b593b6fb Tools: install-prereqs-ubuntu: update for Ubuntu 16.x
2a214f1e46 AP_GPS: support a wider variety of NMEA receivers
0d9b9433da GCS_MAVLink: fix home position unit
0095f6168e ArduPlane: fix handling of SET_HOME_POSITION
a310d3735e ArduCopter: fix handling of SET_HOME_POSITION
9398531811 Mavlink: change mavlink commit to reflect changes to the flags
c17ea21a97 Plane: Add support for DO_REPOSITION via COMMAND_INT
bb7cf6c0b6 AP_Math: Update location_sanitize to sanitize for lat/lng
62574b35b5 Plane: fixed negative loiter radius values
b7135175c9 AC_AttitudeControl: fix heli documentation
be1186f47f travis: readd builds - reverts 375c9d1
0f69b49ff1 ci: add ccache to clang builds
95343255e1 ci: use updated version of ccache
b5faf9c361 ci: allow build systems to use ccache more efficiently
d3b20f9fd1 waf: px4: allow git version to be defined externally
c2391797d6 mk: allow git versions to be defined externally
056145df92 travis: hack to make Travis cache ccache properly until https://github.com/travis-ci/travis-ci/issues/4393 is solved
f289c596b5 travis: add cache
e2db7a9125 travis: change to container-based builds
95bdbd6d8a travis: clean up install step
25f9832717 ci: split configure script between installing APT packages and other configurations
d8f8f1bc45 travis: use apt addon
3c5287e8db mk: create bootloaded directory for FMUv4
edd15f15c0 Plane: added some fixed wing in-flight transmitter tuning
8586b0ae5a APM_Control: added tuning accessors
27fb35253c Plane: added in-flight transmitter tuning
9020a34a34 PX4Firmware: submodule update
a731caa4ab HLA_PX4: prevent timer disturbance in oneshot mode
6df4d11d3f AP_Motors: ensure OneShot125 is within 125 to 250usec
3acfe8bea3 PX4Firmware: submodule update
d9d6f87195 HAL_PX4: fixed bug in pwm send code
c9dfccfb26 HAL_PX4: improved oneshot support
ebd89bd078 PX4Firmware: submodule update
5db94ec6e7 PX4Firmware: submodule update
2304c41f44 AP_BoardConfig: use hal.rcout->enable_sbus_out()
6f284d673a HAL_PX4: enable oneshot support on px4io
b94e577cb8 AP_HAL: added enable_sbus_out() call in RCOutput
436062ef37 Plane: improved crash detection
2887e48178 Plane: Fixed bug with landing flare for high values of LAND_FLARE_SEC
ff10d1136c AP_GPS: reorganize includes
e83a3d8185 AP_Camera: clearer parameter docs for trigger pin
bb5db870cb PX4Firmware: submodule update
9f31fbb895 AP_Camera: support fast timer capture on AUX4 on Pixhawk
5b8401cbbc AP_BoardConfig: allow setup of more complex modes for aux pins on PX4
154fe15c67 Plane: fixed build warning
1ecc206eee AP_NavEKF2: Allow use in planes without a magnetometer
daa210729c AP_HAL_PX4: correct systemid output for PX4v4
ff57884eca Plane: renamed variable, non-functional change
55ffee25b1 Copter: remove unnecessary control_mode_t casts
8f41215569 Copter: fix warning
2a36c32cf3 Copter: add prev_control_mode and prev_control_reason
18240107f0 AP_AHRS_NavEKF: add getGpsGlitchStatus
8ded496f8b Copter: log mode change reason
a0e291bf89 DataFlash: add reason to MODE
1356deab8b Copter: add control_mode_reason
6b5ba86f21 Copter: simplify GCS failsafe
a0ce8af633 Copter: use enum type for control_mode
16b3fe75d1 AP_RSSI: default to analog RSSI on pixracer
471e0a67a3 PX4Firmare: submodule update
abb667fac3 AP_Notify: enable/disable buzzer in Linux based boards
c00cbcf076 AP_Notify: enable/disable buzzer in PX4 based boards
c9862b1502 AP_Notify: New parameter to enable/disable buzzer
5861b754cc Rover: fixing a bug the Rover simulation
0366bce9c1 AP_SerialManager: Fix FrSky baudrate comment
fe2065cd72 AP_Motors: rename MOT_PWM_MODE to MOT_PWM_TYPE
c3546dfbb0 AP_BoardConfig: default to 6 PWM on FMUv4
8b6322082e AP_SerialManager: default wifi port to MAVLink at 921600 on Pixracer
8695668da3 HAL_PX4: enable wifi port on FMUv4
3a242ee4a9 Plane: support up to 16 output channels
5922e67785 HAL_PX4: allow sbus output on channels beyond BRD_PWM_COUNT
759b0d6629 HAL_PX4: only support oneshot on FMU outputs for now
8408428339 travis: disable px4 builds in waf for now
2061264679 PX4Firmware: submodule update
f54bcc6c7f AP_Motors: added oneshot support via MOT_PWM_MODE
934b4dd475 HAL_PX4: support OneShot on PX4
e24d600e78 AP_HAL: added hal.rcout->set_output_mode()
a658a78364 mk: cope with recursive submodules in all modules
ccddd07d27 PX4Firmware: submodule update
5bd0adf980 waf: mark build as ARDUPILOT_BUILD
61050e55d0 mk: disable pager in git during submodule check
3de9426088 mk: update modules list to include all submodules
36528965f7 AP_BoardConfig: added 7s timeout on uavcan startup
d8f08591d5 PX4: fixed build with uavcan dependence on mavlink
1d5deed72a HAL_PX4: fixed build for new px4 param functions
d1e1941a46 PX4: pass -a 16 to lsm303d start
b3d58d220e PX4Firmare: submodule update
4ef27ce446 mk: fixed px4io build
8d77bdec15 AP_MotorsMulti: minor comment fix
affa759fb4 AP_GPS: add missing override
bd6aa982e7 AP_Arming: Fetch GPS configuration failure reason
2538c17ee0 AP_GPS: add fetching of gps configuration failure reasons
27fadb2572 Tools: rstemit: render parameter information in h tables
78442b7e81 Plane: make the initialization of the gcs instances follow the define
f68df0e15a github: fixed typo
1a28f9ce2b Github: Add and update github templates
375c9d1776 Travis: reduced travis build time
fa36d6cac1 Travis: added force-yes to try to fix build
06bcf0df4b Plane: change default loop rate for quadplanes to 300Hz
1fe9582ac3 Plane: back to velocity controller for quadplane landing
4a5c4a5189 Plane: not in vtol mode when quadplane not enabled
d03a232659 AC_AttitudeControl: added set_limit_accel_xy() API
ed2f26d7b8 RC_Channel: allow for pass-thru from low channels to any channel
6eac84812c ArduCopter: remove readme file
577b7e3f49 AntennaTracker: remove readme file
c232184914 Fix wiki links that always go to Home
7814841cd6 AP_HAL: Add RCOutput interactive example with Menu
cc24f323d2 waf: add messages to the things we are checking for
169c350e85 waf: rename AP_Config.h to ap_config.h
a0ca38a03f make: hardcode missing/cmath defines
730dc87b56 make: start using 'AP_Common/missing' to all boards
5bd034a5a8 Global: start using cmath instead of math.h
60d141c717 missing: add cmath
5e45c9dfb0 waf: add cxx_checks tool
14dbc16d46 waf: start using 'AP_Common/missing' to all boards
637c3902b4 travis: remove Travis cache since it isn't used currently
97a7192f76 Plane: make it more obvious that AUTO_FBW_STEER is not for normal use
2c4aaf7cb3 Rover: Commit for Rover release 3.0.0
801ced34a5 Rover: added the VIBRATION message which is sent to the GCS.
8e69b66cf0 Rover: added the VIBE logging to the Dataflash logs.
ff74792fd4 Rover: MAV_CMD_DO_SET_HOME support in APMRover2
981f5a132e README: added Peter as Tools maintainer
6c8f0ffad4 mavlink: update submodule
009bb7fa9c build_binaries: regenerate manifest after building binaries
d7977dfcc2 Tools/scripts/generate-manifest.py: json description of binaries directory
a8ca41abf1 autotest: use 60% engine speed for stability test
9db618c73c AP_AHRS: disable EKF1 for plane
5f1ad68bd9 Plane: improved velocity controller for quadplane landing
8b30569ad1 Plane: setup quadplane earlier in startup
5cc4b20c73 Plane: smooth out final descent for landing
7dcd17a2fa SITL: make multicopter motors only effective above 10%
6bff07397e AP_Math: added linear_interpolate() function
197cefaaa7 Plane: prevent large nose-down on start of velocity controller
ae51e51c6a Plane: use velocity controller for initial quadplane landing
b1266603a6 Plane: setup immediate pitch limit on quadplane takeoff
602ff03c41 AP_TECS: limit both negative and positive pitch on quadplane transition
ae5b8849ec autotest: added CMAC VTOL mission
27934a893e autotest: raise timeout again
913cf9dd37 Plane: set min quad throttle to 10%
7f85c14c96 Plane: fixed landing detector for new AP_Motors code
70679a06aa Plane: fixed quadplane throttle control in AUTO
52cc369f15 Plane: fixed typo in AP_Motors conversion
e7f7afcc4d Plane: added correct filter defaults
9cf909607f Plane: setup reasonable quadplane defaults
86416e8f05 AP_Param: added set_default_by_name()
dd6c4d6225 Plane: fixed up parameters for quadplane
0530af93aa AP_Param: allow top level parameters to be pointers
b96ea15220 Plane: quadplane uses AC_AttitudeControl_Multi
87399776a3 AC_PosControl: hover throttle default to 0.5
41b584ac9e Plane: fix quadplane qstabilize throttle input
52caed2573 Plane: QTUN df messages angle boost field as float
f6eabfdab2 AP_MotorsMulticopter: formatting fixes
6807b961e2 AP_MotorsMulticopter: protect against div-by-zero if MOT_SPIN_ARMED is zero
b39798ad90 AP_Motors: remove unused DESIRED_SPIN_MIN_THROTTLE
dc86e1472c AP_MotorsTri: protect against div-by-zero if MOT_YAW_SV_ANGLE param was set to 90
9b5b6f3779 AP_MotorsHeli: constrain filtered throttle
b4a61e6ccf AP_Motors: remove constrain on throttle input
fce426409e AP_MotorsTri: fix stab patch
49562c5ca3 AP_MotorsMulticopter: reduce num bits used for spool-up-down-mode
c035ade402 Copter: removed slow_start() from throw mode
3ee88fd8c7 AP_MotorsCoax: remove output_min
8566a61660 AP_MotorsSingle: remove output_min
8621774040 AP_MotorsTri: remove output_min
f4d94806e5 AP_MotorsMatrix: remove output_min
b4b33db79b AP_MotorsMulticopter: promote output_min from Matrix class
2e8acf1f74 AP_MotorsHeli: calculate_scalars made protected
165d739b45 AC_AttControl_Heli: roll, pitch, yaw passthrough to motors in -1 to +1 range
344d86a095 AC_AttControl_Heli: fix parameter description
685be4083c AC_AttControl_Heli: remove unnecessary cast to AC_HELI_PID
6c91e50f8c AC_AttControl_Heli: remove scaling for centi-degrees and legacy motor input
32d238187f AC_AttControl_Heli: get_althold_lean_angle_max in 0 to 1 range
db04dddba5 AC_AttControl_Heli: adjust rate gain param descriptions
35c6ea994d AC_AttControl_Multi: fix parameter descriptions
ace58d114f AC_AttControl_Multi: reduce rate gain defaults
b30606bb22 AC_AttControl: remove scaling for centi-degrees and legacy motor input
70f81ee338 Plane: remove multicopter PID parameters
badfdcf54c Tools: autotest params renamed after copter moves PIDs to attitude controller
5090e6f4fb Copter: init G_Dt with MAIN_LOOP_SECONDS definition
a9cda8b384 Copter: add convert_pid_parameters to ease migration to new PID gains
479a789325 Copter: remove call to attitude_control.set_dt
c352e1bedf Copter: fix attitude control parameter declaration
1f20a5ef69 Copter: access angle and rate PIDs through attitude controller
bde498375c Copter: remove attitude PIDs
7f2c1f830f AC_AttControl_Heli: add rate PIDs
5edc16dfb4 AC_AttControl_Multi: add rate PIDs
75042e5e27 AC_AttControl: remove rate PIDs
17c9db08f3 AC_AttControl: add angle and rate PIDs
de537390c2 AC_HELI_PID: adjust parameter descriptions
3465f05bec AC_HELI_PID: shorten FILT_HZ to FILT, I_L_MIN to ILMI
425caeabf7 AC_PI_2D: fix parameter description
227e4f86d7 AC_PID: fix parameter description
920425567c AC_PID: shorten FILT_HZ to FILT
bc1b8f415a AP_Motors: example sketch output limit flags
c9055ccdb1 AP_Motors: example sketch tests Single and Coax
41c55ffbe7 AP_MotorsTri: use YAW_SV_REV to reverse yaw output
13d727c2c6 AP_MotorsTri: add YAW_SV_ANGLE parameter to capture yaw servo lean angle max
c939cc1551 AP_MotorsTri: clarify YAW_SV parameter descriptions and comments
267513d864 AP_MotorsTri: fixes to output_armed_stabilizing
250a444e57 AP_MotorsCoax: fixes to stab patch
20565580ed AP_MotorsCoax: remove disabling of output ch7
63fefae7cf AP_MotorsCoax: use calc_pwm_output_1ot1 instead of local calc_pivot_radio_output
840e60c930 AP_MotorsSingle: fixes to stab patch
af9b18329c AP_MotorsSingle: use calc_pwm_output_1to1 instead of local calc_pivot_radio_output
ef5dbae707 Copter: remove setting of heli_servo_rsc pwm range
1f37f5a0e7 Copter: remove tradheli swash, yaw and rsc servos
c4b88aafef AP_MotorsHeli: swash and tail servo objects moved into class
08a485eec4 AutoTest: reduce heli rate P values
12d9ffee12 AutoTest: remove H_RSC_MIN and MAX from heli params
d2a42a7a0e Copter: remove heli_radio_passthrough
ce1fb7fb06 Copter: passthrough pilot input to motors to allow wiggling servos
4f1e62d551 AP_MotorsHeli: remove reset_radio_passthrough
b5593431bf AP_MotorsHeli_Single: replace collective_mid_pwm with collective_mid_pct
9790245bf1 AP_MotorsHeli: replace collective_mid_pwm with collective_mid_pct
a39bbc5421 AP_MotorsHeli: servo_test in range -1 to 1
a42706bdcc AP_Motors: remove unused example sketch to test timing
a3450b712c AP_Motors: fix example sketch
753b72b28c AP_MotorsY6: call normalise_rpy_factors in motor setup
13ab3ecfea AP_MotorsQuad: call normalise_rpy_factors in motor setup
7ac4fc5569 AP_MotorsOctaQuad: call normalise_rpy_factors in motor setup
e182c10625 AP_MotorsOcta: call noramlise_rpy_factors in motor setup
733b89cf3c AP_MotorsHexa: call noramlise_rpy_factors in motor setup
8f8eb7e214 AP_MotorsMatrix: add normalise_rpy_factors
e7ba5ae451 AP_MotorsMulticopter: fix get_hover_throttle_as_high_end_pct
39f795d9fd Plane: quadplane sets motors desired spool state
0abea7af68 Copter: remove slow_start from stabilizing
1c98cd9d52 Copter: remove slow_start from althold
f6c26ad285 Copter: remove slow start from acro
3c3b74adc8 Copter: remove slow_start from takeoff
4514e8d100 AP_MotorsHeli: remove slow_start
c41a5dc3bd AP_MotorsMulticopter: remove slow_start
b436dde60c AP_Motors: remove slow_start
8180fad4b4 Copter: tradheli sends radio passthrough in 0 to 1 range
e863f0b9c0 AP_MotorsHeli: use AP_Motors set_radio_passthrough in 0 to 1 range
68a6408a23 AP_MotorsMulticopter: remove set_radio_passthrough
5ba3a6c536 AP_Motors: add set_radio_passthrough
f0575de776 Copter: tradheli logs rotors speed in 0 to 1 range
3eaf7a4582 Copter: set tradheli rotor speed using 0 to 1 range
7fc37e7801 Copter: set tradheli external gyro gain in 0 to 1 range
fe4733121d AP_MotorsHeli_Single: ext_gyro_gain in 0 to 1 range
e1e4e37c92 AP_MotorsHeli_Single: use RSC class's get_idle_output function
2cdc5da226 AP_MotorsHeli_Single: rotor speed functions in 0 to 1 range
68945df45d AP_MotorsHeli_Single: write_aux uses 0 to 1 range
b3334c3ae5 AP_MotorsHeli: rotor speed function in 0 to 1 range
832a226f13 AP_MotorsHeli_RSC: rotor speeds in 0 to 1 range
4775843e3c AP_MotorsHeli_RSC: add get_idle_output accessor
a63dba5b13 AP_MotorsHeli_Single: servo_test becomes protected
cefd114964 AP_MotorsHeli_Single: remove unused accessors for tail_type, ext_gyro_gain, phase_angle
f2fc39943e AP_MotorsHeli_Single: remove unused delta_phase_angle
381f538aca AP_HotorsHeli_Single: remove unused definition
27fed39671 AP_MotorsHeli_Single: remove roll_scalar, pitch_scalar
756236af35 AP_MotorsHeli: remove unused delta_phase_angle
16ac92be82 AP_MotorsHeli: remove unused definitions
aeef6692cb AP_MotorsHeli: remove unused roll_scalar, pitch_scalar, collective_range
1a690772e1 AP_Motors: example sketch outputs headers
361b64f817 AP_Motors: example sketch uses AP_Motors set_desired_spool_state
d4998089c8 AP_Motors: example sketch provides roll, pitch, yaw in -1 to +1 range
93597d152f AP_Motors: example sketch can test helicopter
47873c1d34 AP_MotorsHeli: fix RSC_SETPOINT param description
bcbe6b279e AP_MotorsHeli: explicitely set ServoControlModes enum
8febcedf4b AP_MotorsHeli: remove unnecessary static declaration
f022e504b0 AP_MotorsHeli: remove unused get_collective_mid and out methods
a18722a2fc AP_MotorsHeli: output_min uses new move_actuators in -1 to +1 range
1197a439af AP_MotorsHeli: move_actuators to -1 to +1 range
8057d2fc58 AP_MotorsMatrix: remove unnecessary virtual declarations
c49a914597 AC_AttControlHeli: remove unnecessary virtual declaration
2b123ee15d AC_AttControlHeli: fix rate_bf_to_motor_roll_pitch and yaw output in -1 to +1 range
71866be652 AP_MotorsHeliSingle: move_yaw in -1 to +1 range
f6120b801b AP_MotorsHeliSingle: move_actuators in -1 to +1 range
61cf8e1698 AP_Motors: add calc_pwm_output_1to1 and 0to1
be7ad2d83a Copter: loiter uses AP_Motors set_desired_spool_state
02ac2d0e4e Copter: land uses AP_Motors set_desired_spool_state
94b35d659e Copter: guided uses AP_Motors set_desired_spool_state
4deb6fd39d Copter: flip uses AP_Motors set_desired_spool_state
f91874afad Copter: drift uses AP_Motors set_desired_spool_state
83ae78b38e Copter: circle uses AP_Motors set_desired_spool_state
10f8e36f9b Copter: brake uses AP_Motors set_desired_spool_state
965f3827b4 Copter: poshold uses AP_Motors set_desired_spool_state
478b9af0f3 Copter: autotune uses AP_Motors set_desired_spool_state
4f192d0bc7 Copter: auto uses AP_Motors set_desired_spool_state
a927db3e6a Copter: rtl uses AP_Motors set_desired_spool_state
d37f70f767 Copter: sport uses AP_Motors set_desired_spool_state
f6a6b360a8 Copter: stabilize uses AP_Motors set_desired_spool_state
d2642065dd Copter: althold uses AP_Motors set_desired_spool_state
668561ff0e Copter: acro uses AP_Motors set_desired_spool_state
56f05e6a96 AP_Motors: add set_desired_spool_state
2716126e40 AP_MotorsMulticopter: use desired_spool from AP_Motors class
93d1f1969c AP_MotorsMulticopter: remove set_desired_spool_state
4dd4d38b9b AP_MotorsMulticopter: fix output_to_motors definition
c5e5b4f783 AC_AttControl: fix rate controller max definitions to -1 to +1 range
3ae9b606ff AP_Motors: remove unnecessary output_to_motors declaration
f2ff9e34ad AP_Motors: remove output_armed_zero_throttle
979534279a AC_AttControl: roll, pitch, yaw output to motors in -1 to +1 range
879e12ba43 AP_MotorsHeli_Single: roll, pitch, yaw input in -1 to +1 range
97f0b00e3e AP_MotorsHeli: roll, pitch, yaw input in -1 to +1 range
b701c109cf AP_MotorsSingle: roll, pitch, yaw input in -1 to +1 range
1a308c2eb8 AP_MotorsCoax: roll, pitch, yaw input in -1 to +1 range
4d208fcd47 AP_MotorsTri: roll, pitch, yaw input in -1 to +1 range
027284fba0 AP_MotorsMatrix: roll, pitch, yaw input in -1 to +1 range
ae4e495698 AP_Motors: roll, pitch, yaw input in -1 to +1 range
90b3d7ca39 AP_Motors: example sketch tests stab patch more thoroughly
cef3f42df5 AP_Motors: fix example make.inc
6c40d6f774 Copter: remove single frame's servo objects
8d0a6765f1 Copter: removed unnecessary #define for motor declaration
44180e44df Copter: remove coax servo objects
5dde87734c Copter: heli acro, stabilize use pilot throttle as float
07b311f6a8 Copter: brake sets desired spool state
7366bc8a56 Copter: pos_hold uses 0 to 1 throttle and sets motor spool state
80a11e4d3d Copter: autotune uses throttle in 0 to 1 range and sets motor spool state
068fc7feac Copter: flip uses 0 to 1 throttle and sets motor spool state
8a49745e96 Copter: sport uses throttle in 0 to 1 range and sets motor spool state
263052da21 Copter: drift uses 0 to 1 throttle and sets motor spool state
100fcf799e Copter: land sets desired spool state
f71157c508 Copter: circle sets desired spool state
cce426dcb8 Copter: rtl uses throttle in 0 to 1 range and sets motor spool state
f8d03b58d1 Copter: loiter uses 0 to 1 throttle and sets motor spool state
42f5de44d4 Copter: guided sets desired spool state
f221d4d757 Copter: auto sets desired spool state
70433d25e3 Copter: althold uses 0 to 1 throttle range and spool logic
2180514dde Copter: acro uses 0 to 1 throttle and sets desired spool state
f56ff4d564 Copter: stabilize uses 0 to 1 throttle and sets motor spool state
76a8de8a53 Copter: CTUN logs throttle_in, angle boost in 0 to 1 range
7bcdc76655 Copter: get_pilot_desired_climb_rate accepts control_in as 0 to 1000
20debc962a Copter: update get_throttle_pre_takeoff for 0 to 1 range
37e6977813 Copter: update get_non_takeoff_throttle for 0 to 1 range
74983669be Copter: set_accel_throttle_I_from_pilot_throttle uses 0 to 1 range
c3403a128c Copter: throttle passed to compass in 0 to 1 range
a44f7f650b Copter: throttle sent to GCS uses 0 to 1 range
f8d7b677d4 Copter: update_thr_average uses 0 to 1 range
fd2509f6ed Copter: get_pilot_desired_throttle outputs in 0 to 1 range
e132ea34d9 Copter: g.rc_3.control_in range 0 to 1000
a00a9601a4 Copter: AP_MotorsCoax now uses 4 servos
1174ad3e66 AC_InputManager_Heli: get_pilot_desired_throttle in 0 to 1 range
d312e52aee AC_InputManager: add f for float constants
c64a505906 AC_PosControl: relax_alt_hold_controllers accepts throttle in 0 to 1 range
15be80a25d AC_PosControl: accel_to_throttle outputs 0 to 1
e5d6d45851 AC_AttControl_Heli: angle_boost to float
2822b93cd4 AC_AttControl: add get_throttle_in accessor
c0f209fa42 AC_AttControl: angle_boost to float
6f29bbafb4 AC_AttControl_Multi: get_althold_lean_angle_max uses motor thrust in 0 to 1 range
24f975c16a AC_AttControl_Multi: fix throttle boost for 0 to 1
bab08cbcc1 AC_AttControl_Multi: add divide by zero check
a0409e4f9e TradHeli: dynamic flight check uses throttle in 0 to 1 range
d2a1cdf906 MotorsHeli: replace throttle_control_input with throttle_in
f02e8f8e01 AP_MotorsHeli: remove output_armed_not_stabilizing
5cd4b78918 AP_MotorsSingle: remove reverse parameters
6264159f4d AP_MotorsSingle: move servo objects into Single class
21d304b86d AP_MotorsSingle: output_to_motors implements spool logic
24a100e429 AP_MotorsSingle: stability patch uses 0 to 1 range
cffdced838 AP_MotorsSingle: support 4 servo outputs
f53d6e95e8 AP_MotorsSingle: rename _rev_roll to _roll_reverse
4db73d86af AP_MotorsSingle: remove output_disarmed
46ab198ebc AP_MotorsSingle: remove output_armed_not_stabilizing
40c18891cf AP_MotorsCoax: remove reverse parameters
260006dcb3 AP_MotorsCoax: move servo objects into Coax class
110d41ee24 AP_MotorsCoax: fix SV_SPEED param description
8d8f52b22f AP_MotorsCoax: output_to_motors implements spool logic
b85c20bb65 AP_MotorsCoax: stability patch in 0 to 1 range
7df9b2eb8c AP_MotorsCoax: support 4 servo outputs
7d6c6b5556 AP_MotorsCoax: rename _rev_roll to _roll_reverse
5cb44901ff AP_MotorsCoax: remove output_disarmed
3df52aad5f AP_MotorsCoax: remove output_armed_not_stabilizing
45a16d6dad AP_MotorsTri: implement output_to_motors for spool logic
d0a7579fa0 AP_MotorsTri: stability patch in 0 to 1 range
80f77bc30b AP_MotorsTri: output_min does not set limits
ba659be5cb AP_MotorsTri: rename _yaw_servo_reverse to _yaw_reverse
8c4d6d6fbe AP_MotorsTri: remove output_disarmed
a2fdcfaf3f AP_MotorsTri: remove output_armed_not_stabilizing
397940a9a4 AP_MotorsMatrix: implement output_to_motors
cdec8f3387 AP_MotorsMatrix: remove output_disarmed
b965857229 AP_MotorsMatrix: remove output_armed_not_stabilizing
d0c6d087a5 AP_MotorsMatrix: do not set limits in output_min
3fef60da45 AP_MotorsMatrix: stability patch in 0 to 1 range
5841310ac7 AP_MotorsMulticopter: update_throttle_filter limits throttle to 0 to 1
420b90953c AP_MotorsMulticopter: throttle_radio_min, max to multicopter class
2c9a02066d AP_MotorsMulticopter: remove unused functions and variables
290e657f61 AP_MotorsMulticopter: update_battery_resistance captures resting voltage while disarmed
bc42cb2a66 AP_MotorsMulticopter: update_battery_resistance uses get_throttle accessor
8228d9e72c AP_MotorsMulticopter: current_limit_max_throttle uses get_throttle accessor
3cbc15bb5b AP_MotorsMulticopter: add get_throttle_thrust_max accessor
d7dc37bda0 AP_MotorsMulticopter: remove apply_thrust_curve_and_volt_scaling_pwm
06f25b669d AP_MotorsMulticopter: add roll, pitch, throttle and yaw pass through
d7c27c949c AP_MotorsMulticopter: add spool_up_complete accessor function
983d2dc97a AP_MotorsMulticopter: update_throttle_filter does not set throttle_in
3fc3858fbd AP_MotorsMulticopter: set_throttle_range calcs _min_throttle before use
b26318c178 AP_MotorsMulticopter: output_logic implements spooling
b7fe6aa16e AP_MotorsMulticopter: remove update_max_throttle
be64c71065 AP_MotorsMulticopter: add get_current_limit_max_throttle
64ba45a683 AP_MotorsMulticopter: add spin_when_armed_low_end_pct
49819d822f AP_MotorsMulticopter: add get_hover_throttle_as_high_end_pct
e625c105a4 AP_MotorsMulticopter: remove get_throttle_warn
3854f2eda7 AP_MotorsMulticopter: rename _throttle_thr_mix_desired to _throttle_rpy_mix_desired
65bbc23a08 AP_MotorsMulticopter: apply_thrust_curve_and_volt_scaling in 0 to 1 range
cb39f8aab7 AP_MotorsMuticopter: calc_thrust_to_pwm converts thrust in 0 to 1 range to pwm
80ddce103f AP_Motors: move set_throttle_filter_cutoff declaration
649a8c461d AP_Motors: remove unused throttle_radio_min, max
e84011603c AP_Motors: remove unused throttle_pwm_scalar, rpy_pwm_scalar
8e1351e474 AP_Motors: init member to resolve compiler warning
ed51c7a28d AP_Motors: replace throttle_control_input with throttle_in
c96b91efb6 AP_Motors: add output_to_motors
ac579685df AP_Motors: remove output_armed_not_stabilizing
666a92ae2f AP_Motors: set_throttle accepts 0 to 1 range
3c74b4cc69 Motors: add get_roll_thrust which returns roll input in range 0 to 1
f73c8ab8ed Plane: allow testing of all motors in sequence
72e4ed5665 autotest: no need to check other repos now
36ef4d422c Revert "autotest: added a temporary web bug"
6e034a3e02 waf: readme: update information regarding groups
f304fcf4da AP_InertialSensor: examples: add coding style fixes
10e7d43007 AP_InertialSensor: Add output of all IMUs to example
40839cb288 PX4NuttX: fix concurrency while building apps
20cd06da09 autotest: added a temporary web bug
051e8a6bda waf: px4: use explicit list for ROMFS static files
218dc3fdf2 waf: px4: fix log output for px4_copy task
f19922fec5 Copter: added LAND_SPEED_HIGH parameter
a502c0924c GCS_MAVLink: simplify sanity check
d3e149e5d7 GCS_MAVLink: ignore Clang out-of-range warning
d54a22baaa waf: boards: change no-unknown-pragmas to all compilers instead of only Clang
d1910a9e5e mk: don't error on unknown pragmas
e90edd0abc autotest: build in a constant directory
e0a465f8f4 autotest: added some parallelism to px4 build in build_binaries
0eaf6f17c8 waf: toolchain: fix Clang toolchain detection
5bcd1b02ef RSSI channel is not limited to 5-8.
6718241dad cleanup comments
af68fa94c0 autotest: fixed build_binaries.sh script bug
4d20ccadbc travis: add PX4-v4 build to Travis
5b3543bd60 travis: add one more job so Travis doesn't fail for lack of time
894e07a0bd AP_Parachute: added CHUTE_DELAY_MS parameter
2806171839 autotest: use recursive forced update in build_binaries.sh
1c1abb7701 Readme: Update Links to new ardupilot.org website
6074385873 ArduCopter: waf: build all frame types
9bec8e5133 ArduCopter: waf: add missing library AC_InputManager
93473f68ce waf: use program group for main products build commands
a4c099feaa waf: create program groups for main products
b251d14778 waf: ardupilotwaf: allow multiple program groups for program
22b0b7e833 waf: ardupilotwaf: add program_dir option to ap_program()
a6868461c3 README: Fix more links
df765f0d43 autotest: raise lock timeout
dc9d87fde3 Plane: prepare for 3.5.2 release
73a2c99d56 SITL: limit rotational rate to 2000dps
4d01cb1716 HAL_SITL: fixed SITL engine mul error
8a6e5ffe80 Plane: fixed bug in rangefinder landing
b4c6a0e30e AP_TECS: added logging of speed_weight and state flags
8ff932b61c AP_TECS: allow underspeed to end faster
1ecfa6b487 RC_Channel: fixed example in SITL
5c92adddf9 HAL_SITL: allow examples to run under SITL
39ab0e5b7d autotest: buildand retain version files
e135659165 Tools: PrintVersion.py; print version of vehicle code
1e4fe7996e HAL_Linux: update URL
9737050a23 HAL_FLYMAPLE: update URL
664d91802e HAL_AVR: update URL
fa15057792 Tools: update URLs
012abb28ef README: update URLs
b47b558246 Plane: change code URL
224c99af72 Copter: change code URL
374595781e git: changed URLs for modules
dea708b368 Tools: switch to ardupilot.org for firmware and autotest
4d7beab8cc Plane: added QTUN logging for quadplane
0a199945a2 Plane: added copter RATE logging for quadplane
31000ac756 Copter: moved Log_Write_Rate() to common code
075dd49afe DataFlash: added Log_Write_Rate()
1fa075e7a8 Plane: change default quadplane gains
ab07781c66 APM_Control: raise default P and I gains, and set a lower limit on I for pitch
0883fb72ac waf: add shortcut for antennatracker
19d1895d96 PX4Firmware: submodule update
46936767c1 AP_Compass: LSM303D: check for overruns in compass values
cf2d866d51 AP_Compass: LSM303D: used AP_HAL::Device interface
5164fbb81b AP_Compass: LSM303D: cleanup driver
20a4a42cb3 AP_Compass: don't store raw and unfiltered fields
f258b66627 ArduPlane: Update path locations for parameters
34155c09e6 ArduCopter: Update path locations for parameters
56eccd6e41 APMrover2: Update path locations for parameters
3cb99d5567 AntennaTracker: Update path locations for parameters
e6059f5197 AP_Compass: rename files to follow other libraries
286697b844 AP_Compass: don't rebuild tree when single driver changes
d3831dbb98 AP_Compass: AK8963: use AP_HAL::I2CDevice abstraction
41c1209169 AP_Compass: HMC5843: improve readability
0291ad869b AP_Compass: HMC5843: use AP_HAL::I2CDevice abstraction
5411057ec6 build: allow qurt to use sparse-endian.h
57f8db5672 AP_HAL: sparse-endian: conditionally include byteswap header
c5dc54dac7 AP_HAL: utility: import sparse-endian header
0ed3a93142 AP_HAL: define compass locations for linux boards
6e658452ec waf: toolchain: filter supported compilers for cross-compilation
1b6a87d8b4 waf: toolchain: clang: use waf to find toolchain path
019cf3d483 waf: toolchain: clang: use configure wrapper
7ede9600db waf: toolchain: gcc: use cross-compilation prefix wrapper
95aeb0346e waf: load compilers tools in toolchain tool
19d6a88e84 waf: toolchain: refactor configure function
ceda86bbd8 waf: toolchain: get rid of suffixes variable
dbd27a9f39 waf: update submodule
e33812e1cb AP_InertialSensor: added missing brackets
14b51080a9 Tools: remove erroneous space in rst output
a8bea0af03 Copter: allow switching to throw without position estimate
9f9e3843e0 Tools: formatting changes for rst parameter file
f77eed8f95 Copter: add break after prec landing case clause
0442c2c659 Plane: prepare for 3.5.1 release
4643c7bf9e travis: add Clang builds
dd93f62bdd ci: fix PATH export
34de26502d ci: add Clang package
72b246e52c AP_HAL_Linux: fix use of 0-length array
02af9b6ab1 waf: toolchain: support Clang in toolchain for cross-compilation
a8aae048c2 waf: boards: change toolchain to a board class attribute
f8727f7362 waf: boards: fix bug in boards environment merge
bf3dda9156 waf: boards: support Clang by adding necessary flags
3b3d59efd1 waf: boards: load toolchain and compiler before configuring env
da2a71a3de AP_BoardConfig: raise uavcan startup delay to 2s
abbe419823 AP_Compass: fix mismatched tag
d5d6a10e63 AP_Compass: LSM303D now is part of LSM9DS0
a671b7f5b2 AP_Compass: remove misleading message
1d1d224c18 AP_InertialSensor: Enable dual IMU for raspilot
9d787e44cc AP_HAL_Linux: update spi table for raspilot
c5022ef5c9 AP_HAL: add names for LSM9DS0 on raspilot
f75c12f57c AP_InertialSensor: LSM9DS0: change mode of drdy pins to input
c83e4df002 AP_InertialSensor: LSM9DS0: Disable I2C at init to avoid SDA hanging by slave.
557beb4bb1 AP_InertialSensor: LSM9DS0: Fixed wrong call to _register_read_xm()
c1623c21cc AP_HAL_Linux: rename ToneAlarmDriver to follow other names
d52ee7c0a1 AP_HAL_Linux: ToneAlarmDriver_Raspilot: cleanup driver
6de5b52974 AP_HAL_Linux: separate class for tone alarm driver
92106a944f AP_GPS_UBLOX: add data injection support
f0eddd6366 Plane: ensure we always eventually capture a loiter
eb89b5bbb6 AP_L1_Control: prevent possibly fly-away when passed waypoint in L1
7d92202db9 AP_Param: save flash space for parameter strings
30ca9fbb01 Plane: cope with upgrade to shifted indexes for quadplane
692e042eac AP_Arming: set AP_PARAM_NO_SHIFT
4deb01b8d5 RC_Channel: set AP_PARAM_NO_SHIFT
018c7425a4 AP_Param: added AP_PARAM_NO_SHIFT
1d42b0281a SITL: ADSB: fixed heading and fixed windows startup
71b6d3e33d AP_Param: add in nested group offset in load for conversion
c15fa950c0 AP_Param: convert_old_parameter becomes public and accepts scaling
12067b27b3 AP_Param: cope with multi-level nesting and zero-idx
d8eb0d401d AP_Compass: fix missing rename
48f7aa1556 Tools: build_parameters.sh also stashes Parameters.rst
6a44cb244d Tools: factor build_parameters.sh
b3d26c5988 AP_Compass: remove trailing whitespaces in header
cb8355c315 AP_HAL: fix compass define for bebop
057822b51c AP_InertialSensor: AuxiliaryBus: fix return value
6a6175df1c AP_HAL_Linux: move dirname to I2CDevice core
f8c3ceca3a PX4Firmware: submodule update
a8e9fc19b0 Tools: allow param parser to emit ReStructured Text
a66da7be00 AP_Motors: correct parameter documenation
35bb6a634e Plane: Make base_mode armed status depend upon the arming library, not soft armed
1d46ca048a Silence unknown warning options
cae7ea0d13 Add @Volatile, @ReadOnly support
6d9ba8c527 AP_NavEKF2: Improve protection against ground based mag interference
36336e17b3 Tools: replace header guard with pragma once
e01d49ff53 ArduPlane: replace header guard with pragma once
e88ba38595 ArduCopter: replace header guard with pragma once
dd8014dd2f APMrover2: replace header guard with pragma once
a503bc74f2 AntennaTracker: replace header guard with pragma once
08cc7b2472 RC_Channel: replace header guard with pragma once
96c30aea39 PID: replace header guard with pragma once
c2b5ad46b4 GCS_MAVLink: replace header guard with pragma once
96ad73d198 GCS_Console: replace header guard with pragma once
ec36e06c63 DataFlash: replace header guard with pragma once
80749af698 AP_Vehicle: replace header guard with pragma once
8fcf551505 AP_Terrain: replace header guard with pragma once
9271e97c0b AP_TECS: replace header guard with pragma once
0d2f661a6c AP_SpdHgtControl: replace header guard with pragma once
9c28730815 AP_ServoRelayEvents: replace header guard with pragma once
d82369b293 AP_SerialManager: replace header guard with pragma once
336e04ca60 AP_RSSI: replace header guard with pragma once
109f807260 AP_RPM: replace header guard with pragma once
0332cde374 AP_Relay: replace header guard with pragma once
41d5f4a3b1 AP_RCMapper: replace header guard with pragma once
f6712c8bc4 AP_RangeFinder: replace header guard with pragma once
f908dffbeb AP_Rally: replace header guard with pragma once
b180f3a83f AP_Parachute: replace header guard with pragma once
5518cb2b01 AP_Navigation: replace header guard with pragma once
bb0d96cedd AP_NavEKF: replace header guard with pragma once
e40b87cd0e AP_NavEKF2: replace header guard with pragma once
3a771bf0e3 AP_Mount: replace header guard with pragma once
7d9153feb8 AP_Motors: replace header guard with pragma once
d82e80c749 APM_OBC: replace header guard with pragma once
2790c16905 AP_Mission: replace header guard with pragma once
9c4f93244e AP_Menu: replace header guard with pragma once
382b6f87fe APM_Control: replace header guard with pragma once
b4a8a0b961 AP_Math: replace header guard with pragma once
83f11145d5 AP_LandingGear: replace header guard with pragma once
7ad0036a11 AP_L1_Control: replace header guard with pragma once
152f169b76 AP_IRLock: replace header guard with pragma once
79837c343f AP_InertialNav: replace header guard with pragma once
44bc2eceb4 AP_HAL_VRBRAIN: replace header guard with pragma once
bcdc3336de AP_HAL_SITL: replace header guard with pragma once
6f028502b0 AP_HAL_QURT: replace header guard with pragma once
28f67f0947 AP_HAL_PX4: replace header guard with pragma once
f7a983e525 AP_HAL_FLYMAPLE: replace header guard with pragma once
cd266fbf4f AP_GPS: replace header guard with pragma once
761ed7ae03 AP_Frsky_Telem: replace header guard with pragma once
37d7a8214d AP_EPM: replace header guard with pragma once
d721ad70eb AP_Camera: replace header guard with pragma once
235d64b7b9 AP_BoardConfig: replace header guard with pragma once
39f39afa7b AP_Arming: replace header guard with pragma once
ffe36afeb2 AP_Airspeed: replace header guard with pragma once
e0153faa85 AP_AHRS: replace header guard with pragma once
5047f2b6f8 AP_ADSB: replace header guard with pragma once
155fb6f600 AP_AccelCal: replace header guard with pragma once
3ae4c222e0 AC_WPNav: replace header guard with pragma once
65680c8b8d AC_Sprayer: replace header guard with pragma once
4e9ca31cb9 AC_PrecLand: replace header guard with pragma once
f637a29ab6 AC_PID: replace header guard with pragma once
498693d0b8 AC_InputManager: replace header guard with pragma once
7dc3942ad4 AC_Fence: replace header guard with pragma once
f42484bcc5 AC_AttitudeControl: replace header guard with pragma once
ff04871fc5 AP_Param: fixed a reporting problem with AP_Vector3f
bfed1658c4 mavlink: update from upstream
df150cd8dd ci: add missing ppa for Trusty
02619b4a25 ci: install cmake >= 3.2
425c9bcd0b AP_Arming: use AP_BATT_MONITOR_MAX_INSTANCES instead of fixed array size
5872512d85 AP_Arming: added more info to battery arming failure
b6378e2827 Rover: Use arming voltage
0117522998 Plane: Use arming voltage
21bdf32d33 AP_Arming: Add minimum voltage to arm
bb44f20c57 gitignore: ignore mav.parm in the entire tree
f416f1e5a1 waf: px4: implement --upload option
e6fa2d54e8 waf: px4: build firmware
bf91286ade waf: px4: prepare ROMFS
a36a766e1a waf: px4: make program as single library
79d9bf2f8a waf: px4: define dynamic environment
95848488e7 waf: boards: define PX4 boards
658bead862 waf: px4: add initial implementation
4613b68efb AP_InertialSensor: waf: skip VibTest example
6729475b25 AP_Math: fix eulers example for PX4
d9bb696fa3 AP_Math: avoid bias in rand_num() in eulers example
7ba3df8c80 Tools: waf: build Replay only for linux boards
841771096d waf: let toolchain loading in charge of the Board class
b7e3071ba3 waf: gtest: disable for PX4 boards
6753b54b52 waf: git_submodule: support recursive submodules
d57851e2a9 waf: git_submodule: add function git_submodule_head_hash
33fce2bfe5 waf: ardupilotwaf: add option --upload
0329cb14ed waf: ardupilotwaf: export program_name and program_group
45d1af8833 waf: ardupilotwaf: allow to build ap_program as a static library
32402b93af waf: ardupilotwaf: remove SITL from common libraries
03c067921e waf: ardupilotwaf: allow extra features for ap_program and ap_stlib
12946db4dc waf: ardupilotwaf: remove common_features()
9c5593ef09 waf: ardupilotwaf: don't use common_features() unnecessarily
8664c0344d waf: allow boards to tweak build
1fe795f283 waf: boards: set Board as an abstract board
93156e4325 waf: boards: allow defining abstract boards
b53f38bb02 waf: boards: cache board in a variable
36b49debf6 waf: boards: allow defining board name
4f55c75767 waf: boards: pass configure context to configure_env()
2f324c056f waf: cmake: live output!
1f60e9e3e8 waf: cmake: refactor methods to accept cmake_config parameter
b0e7fe26d5 waf: cmake: fix target processing for cmake_build
07700a821c waf: cmake: add method get_cmake_bldnode()
b077613f28 waf: cmake: use BLUE color for cmake tasks
03146c5d15 waf: cmake: move cmake build task creation to a function
049abec55b waf: cmake: add keyword parameter cmake_output_patterns
4f82120c8f waf: cmake: improve documentation regarding target option
76bae701a8 waf: exclude build directory in collect_dirs_to_recurse()
6619af2e22 PX4Firmware: update submodule for cmake build
b0ac6c26e0 SITL: support octaquad in quadplane sim
f2411ac46e PX4Firmware: support 16 channel SBUS out in px4io
89970e4eaa Plane: support motor_test for quadplanes
d644474817 Plane: support octaquad planes
2a6e64e358 HAL_PX4: send all channels to px4io
4bf3ec0e91 AP_HAL_PX4: implement RCOutput::read_last_sent
6663d30728 AP_HAL: add RCOutput::read_last_sent definition
7b4a4f6232 PX4Firmware: submodule update
d7d528560d Plane: don't start summing for loiter until we reach loiter circle
f3638f421e Plane: fix short loiters exiting early
8ae6e0d613 Rover: remove "Command received" statustext
f60b3fd6c7 Plane: remove "Command recieved" statustext
a85d4f2f4b AP_TECS: reverse-thrust cleanup
4a2f2483cb PX4Firmware: submodule update (SBUS frame rate)
36177526cf AP_BoardConfig: allow setting of SBUS output frame rate
4467929692 AP_Notify: add class to turn LED off
e5de4f2348 AP_Compass: AP_Compass_test: code enhancements
a61f9855d3 AP_Compass: AP_Compass_test: report multiple compasses
16acca865f AP_Compass: AP_Compass_test: fix style
0efbe8c80c AP_Compass: allow calling calculate_heading() for different instances
f4ccf94dfc Plane: added QLAND mode
927efa90f8 Plane: fixed log printing of Q modes
155043ac08 mk: give recursive submodule status
3315859411 .gitignore: add .tags, cscope.in.out for sublime user
0d9a3840d8 autotest: Added submodule update and removed old modules update
1df7baa5c5 Plane: update quadplane param description increment
e9651dacfe Copter: update parameter description increments
6358876f58 AP_HAL: add missing MPU9250 name for BH
71eefdfd2c AP_Compass: remove trailing whitespaces
a46ca4c810 AP_Compass: HMC5883: reorganize header
37056e8738 modules: updates for uavcan auto-detect and new upstream
d2b6eb7700 AP_BoardConfig: wait for UAVCAN initialization complete signal
503e196546 AP_BoardConfig: allow to enable UAVCAN plug-and-play mode
d0b67ce007 AP_AHRS: allow for EKF without GPS on plane in VTOL modes
e6d2617936 PX4Firmware: submodule update (fmuv4 reset)
7c7e8b21e8 mk: don't ask for a build restart on module init
5d5c398344 AP_BoardConfig: raise UAVCAN startup time
dbefd87dd0 mk: support uavcan submodules
9c2d4b6a7f modules: updates for uavcan
2e669a35e7 Copter: deploy landing gear when parachute is released
47be4b5868 AP_OpticalFlow: fix use of undefined variable
86c1c6da5c waf: fix environment boolean values
79b724dce8 waf: ardupilotwaf: fix board env processing
ff249788bf Plane: add a default Navigation option as explained in the param docs
f66d5f7a8c Plane: use ahrs.get_origin instead of ekf.getOriginLLH
62435d3a11 Rover: use ahrs.get_origin instead of ekf.getOriginLLH
0dffeec07f Copter: use ahrs.get_origin instead of ekf.getOriginLLH
a93a0d370a Copter: add throw mode to aux switches
dca89e7fe7 Copter: throw static variables moved to global scope
24cfbeebd0 Copter: add throw_exit
959c0eccfd Copter: reject changing to throw mode while armed
20b6688e77 Copter: add throw to FLTMODE param descriptions
1aade494fc AP_State: enable use of motor interlock during throw mode
1e8af3dea4 AP_Notify: Add tone sequence to alert user when throw detector is armed
a7b69366a1 Copter: Add flight mode for throw launch
67e2db7975 AP_TECS: add TECS_LAND_PDAMP
fcb802cccc AP_TECS: add TECS_LAND_I_GAIN and TECS_TKOFF_I_GAIN
a139789693 AP_TECS: add TECS_LAND_TDAMP for land damp
75be40ea59 Plane: add LAND_THR_SLEW
ed6aa4ed17 Plane: added throttle limiting via max power (current*voltage)
035f3b16a1 AP_BattMonitor: add new param BATT_WATT_MAX
bf5005103c Plane: allow loiter waypoints to have a zero lat/lng or alt to mean use current
278fb2e60d AP_Math: add location sanity checker/fixer util
be3941efdf Plane: unify loiter mission items to require heading to next wp
1c513a99a0 AP_Mission: removed LOITER_TO_ALT heading requirement param field
3933ac2a63 AP_GPS: Added ERB to AP_GPS
7e2c822499 AP_GPS: Structure for detect ERB
97190c89d1 AP_GPS: ERB GPS driver
e946e047e6 AC_AttitudeControl: add attitude_controller_run functions, call from input functions
c0a6a94936 AP_IntertialNav: ensure we work on valid updated data
38b3625ed8 AP_NavEKF2: Fix bug in initial alignment calculation
e770cf059d APMRover2: initialize variable to fix build
2888bdd6d5 AP_NavEKF: Protect against possible div by 0
7d6b926749 AP_NavEKF2: Improved magnetic heading fusion
e502e0fc2e SoloGimbal: resolve compiler warning re float comparison
438769c8ae SoloGimbal: resolve compiler warning re initialisation order
bb74371c58 AP_NavEKF2: Do not use GPS height if GPS accuracy is poor
cca8a86962 Tools: Use GCC 4.9 as an Ubuntu prereq
e88e8835b1 Tools: Use GCC 4.9 as an Ubuntu prereq as older version is no longer available.
b1ea82079e AP_Rangefinder: compiler warning float to double on atof()
9e452838ab Plane: loiter missions to default to loiter_radius if mission says 0 or 1.
ed98617d42 Plane: utilize radius for loiter commands
068374658c AP_Mission: utilize radius for loiter commands
f35d05e374 Plane: improved quadplane default gains
93ac82e1f6 Plane: write voltage/current much more frequently
e428abde42 Copter: enable precision landing by default
8b5fa9d23d SITL: Initialise yaw_rate and pitch_rate
6f43b7121c DataFlash: Cast msg to uint8
723e166c13 AP RPM: Initialise backend with _instance
0a60d713af AP HAL SITL: Use fully qualified SITL namespace
8c98eb2b84 APMControl: Cast type to uint8
fabe235130 ArduPlane: initialize the fail_test variable
5f5035933f ArduPlane: static cast to uint8 on initialization of struct
968f07f583 Plane: allow live quadplane PID tuning
1233022c78 waf: cmake: synchronize cmake build tasks of same configuration
8734432196 waf: ardupilotwaf: don't use Node object for ap_program target
dc66f68295 waf: update submodule
5b3627f83e AP_Notify: made DiscreteRGBLed more generic
ef4e3aa333 AP_Notify: renamed Navio2Led to DiscreteRGBLed
0bd7839b9f AP_Notify: made Navio2LED a little easier to configure
da550e5e98 AP_Inertial_Sensor: do not rotate MPU9250 on Navio2
f93e790717 AP_HAL_Linux: make Ublox work on the higher frequency
a327a8779e AP_HAL_Linux: added Navio2 support
7187f26220 AP_HAL_Linux: use Raspberry Pi GPIO for Navio2
6680baf777 AP_HAL_Linux: use MPU9250 for Navio2
c9869e768a AP_HAL_Linux: use Util_RPI for Navio2
23a2cf45aa AP_HAL_Linux: added RCInput for Navio2
2ea69571ef AP_Notify: disabled boardled for Navio
3223802431 AP_Notify: enabled leds for Navio2
fc6351b929 AP_Notify: added Navio2LED driver
a24e9df765 AP_HAL_Linux: added AnalogIn_Navio2
1107190656 waf: boards: add navio2
f5df5e61bb build: add navio2 target
392165c6a2 AP_HAL: added Navio2 board definitions
6172ed078e GCS_Mavlink: send power status from all boards
672acdc8ef AP_Math: Created location.h header for location functions
7f685a12bd AP_Math: remove trailing whitespaces and tabs
5148e41c1a AP_Math: Cleaned macro definitions
7c4c8ea579 AP_Math: Remove ROTATION_COMBINATION_SUPPORT
6144226c51 AP_HAL: always define HAL_OS_SOCKETS
c9d5c548a6 Corrects a bracket error for the LSM9DS0 IMU
287a3367ad AP_HAL_SITL: Force the simulated gps time to be on valid intervals for u-blox hardware
b8fc524954 Plane: enforce expected flight_stage in TECS
993e5b438c Plane: add to LAND_NEUTRL behavior
ead51a9d19 AP_Math: Removed useless "undef INLINE"
ef7cf7c4aa AP_Math: Removed useless header "float.h" does not exist. It is useless and wrong to include it.
ff334f426c mavlink: submodule update
15945c50cb scripts: ensure we have clean build for px4
04bac8a446 AP_GPS: removed duplicate dataflash write of ublox version
14bd4ba2c7 AP_GPS: removed console print for GPS type
1426ff2732 AP_GPS: Broadcast what type of GPS is found and at what baud rate
077999d2aa Copter: 3.3.3 release notes
fe3812c51b GCS_MAVLink: re-worked text send in terms of ObjectArray
2120913ac2 AP_HAL: added ObjectArray template
9718ee23d1 AP_HAL: fix peekbytes casting
0709cc6b25 Tracker: convert to using static send_statustext
6568402b28 Copter: convert to using static send_statustext
6399d00950 Plane: convert to using static send_statustext
0372b52378 Rover: convert to using static send_statustext
54d2a263fe GCS_MAVLink: create queue scheme for static statustext msgs
09dd2a1b3d Copter: use set_dataflash() for static logging
db9bed573f Tracker: use set_dataflash() for static logging
c38bec6385 Rover: use set_dataflash() for static logging
ad78a31255 Plane: move set_dataflash(0 for static logging
faa4238370 SITL: fixed warning comparing signed vs unsigned
e777176c4d PX4Firmware: submodule update
c288c7d761 PX4: re-order startup to start mtd before ms5611
7fede90df3 HAL_PX4: work around a bus locking issue on Pixracer
0a72c2bbd5 AP_Baro: prevent bad ground pressure from making a board unbootable
1df2512935 AP_HAL: added update() method for object ringbuffer
181b6f5c2e waf: cmake: do a clean configuration
eacf9d8a0e waf: cmake: declare CMAKE_BLD_DIR as a value dependency
6c914349d0 waf: cmake: define proper uid() functions
b5f20459e7 waf: cmake: set CMakeCache.txt as output of cmake_configure task
ed288ed345 waf: cmake: ensure order of cmake_vars
c609b27afc waf: gbenchmark: use cmake tool
e883242c31 waf: cmake: add Waf tool
38da32853a ci: use --enable-benchmarks in waf configure
b7d97b6354 waf: add option --enable-benchmarks
662e45fda2 waf: move --check-verbose option declaration
8c4d4f3f2a waf: make options groups accessible for any tool
fd88e39408 waf: make all options belong to an option group
1d528d552f AP_HAL: rename RingBuffer.force() to RingBuffer.push_force()
7459bfb96b AP_NavEKF2: Eliminate simple compass fusion singularities near +-90 deg pitch
17378bd42a autotest: Add Rotherham
881dabf048 Plane: add missionLoaded arming check fail for mis.len <= 1
4ff396dfa8 AP_HAL: added force() and peek() method for object ringbuffers
1acf25b6e2 Plane: use set_dataflash()
5080201be6 GCS_MAVLINK: added set_dataflash() method
119cf6bb13 ci: added sitltest target
b84b480086 Plane: added PID tuning for quadplane modes
e2abaefc44 Plane: check SCHED_LOOP_RATE for quadplane
898c2faaab waf: git_submodule: fix uid() method for python3
4aefe1caee AP_NavEKF2: Fix sign error in magnetic heading innovation calculation
7e4ae39b8e AP_Arming: fixed GPS_CFG mask bug
3566052d6a waf: add option --no-submodule-update
9bb039accd AP_HAL: PXFmini add HAL_BARO_MS5611_NAME
0b22b520b8 ArduPlane: remove unused CMAKE define
09e7cbe005 ArduCopter: remove unused CMAKE define
0ccd2de12b AP_AHRS: fix use of undefined macro
7d24b4d1ca AP_Notify: add missing include to use board config
69f6a73c19 Global: fix missing renames for HAL_BOARD_SUBTYPE_LINUX_ERLEBOARD
15ce176818 waf: add -Wundef to all boards
f0277cecb4 waf: ignore -Wundef for gtest
4ba769d4a3 mk: native boards get -Wundef
475a2040a1 AP_NavEKF2: avoid use of undefined #defines
11760c33f6 AP_NavEKF: avoid use of undefined #defines
80bc7a50d7 AP_Math: define MATH_CHECK_INDEXES
ca4017d093 Plane: defines.h should not use defines from config.h
44c63b8873 Copter: move use of defines after config.h and defines.h
3ace8b52de AP_HAL_Linux: use AnalogIn_IIO for minlure
f865e085b1 AP_BattMonitor: add defaults for minlure
4e034cd2e1 AP_HAL_Linux: AnalogIn_IIO: add scale for minlure
f56a80cd80 AP_HAL_Linux: AnalogIn_IIO: return fixed board voltage
d387deb2f5 PID: fix example using wrong type
edd3e3c34a Filter: silence warning about unused function
1f072c4353 AP_HAL: fix unused variable
cc626d2fc7 PX4Firmware: submodule update (SBUS fix)
c454631be8 AP_InertialSensor: work around gyro and accel errors on startup
047e9fabaf AP_NavEKF2: Fix bug in simple heading fusion
bf9cf74c38 StorageManager: replace header guard with pragma once
98904825cb Filter: replace header guard with pragma once
f5437f30ac AP_Scheduler: replace header guard with pragma once
008e3c9810 AP_OpticalFlow: replace header guard with pragma once
09d926fa11 AP_Notify: replace header guard with pragma once
705393b30c AP_HAL_Linux: replace header guard with pragma once
dbf2aedf1e AP_HAL: replace header guard with pragma once
2bed317c6c AP_HAL_Empty: replace header guard with pragma once
1a71c169fe AP_Compass: replace header guard with pragma once
246f940d01 AP_Buffer: replace header guard with pragma once
62f50aede7 AP_BattMonitor: replace header guard with pragma once
6623246cf5 AP_ADC: replace header guard with pragma once
393bea8945 waf: boards: use classes for boards definition
49a4bde5d9 AC_AttControl: lower minimum accelerations for large copters
8e790d3f91 Copter: autotune adjustment for large copters
8da58226ae AP_HAL_Linux: Fix BBBmini IIO scaling
d868fe4eff AP_HAL: Remove unused GPIO leds for BBBmini
d3c9a0aef1 AP_NavEKF: Limit heading innovations after the consistency check
6a34e4c384 AP_NavEKF2: Fix bug in magnetic heading and declination fusion equations.
59bf29198d AP_NavEKF2: Remove unnecessary logic preventing constant position
7e05646316 AP_NavEKF2: Improvements to non-GPS performance
a9c985bfb3 AP-Mount: compiler warning
d0edfa5dfa Plane: compile warning fix
0b26a34f22 Plane: new param LAND_THEN_NEUTRL
10abec277d AP_HAL: functor: use std::remove_reference
1b55f5f994 mk: fixup qurt and qflight boards with -DHAVE_STD_REMOVE_REFERENCE=0
d80a0e47bc AP_Common: missing: move definitions to standard headers
75d58bcfb6 Global: rename HAVE_NULLPTR_T with HAVE_STD_NULLPTR_T
815d653283 mk: fixup qurt and qflight builds with HAVE_STD_MOVE=0
29100937bc AP_Common: allow for nullptr_t but not std::move replacement
52e36908ff AP_Common: fixed std::move() for qurt build
cc4504e613 AP_Airspeed: fix coding style
02a7fa5c2b AP_InertialSensor: MPU9250: use AP_HAL::Device abstraction
d2b267d026 AP_InertialSensor: LSM9DS0: use AP_HAL::SPIDevice abstraction
58f4624f8c AP_InertialSensor: L3G4200D: use AP_HAL::I2CDevice abstraction
af846636e4 AP_InertialSensor: MPU60x0: use AP_HAL::Device abstraction
f1ade970a3 AP_Baro: MS5611: Use AP_HAL::Device abstraction
b05954660a AP_Baro: BMP085: use I2CDevice interface
3060c3da3c AP_HAL_Linux: Add fake device to SPIDriver
61ef653181 AP_HAL_Linux: implement SPIDevice
0d1bb7aa84 AP_HAL_Linux: export number of SPI devices
cb40444bf8 AP_HAL_Empty: implement SPIDevice
66f644c50d AP_HAL: add interface for SPIDevice devices
30ce8ad311 HAL_QURT: fixed for addition of i2c manager
00249dc8bb AP_HAL_VRBRAIN: use empty I2CDevice
8de329fc81 AP_HAL_PX4: use empty I2CDevice
c3d8ba3ea5 AP_HAL_SITL: use empty I2CDevice
f22f4928dc AP_HAL_FLYMAPLE: fix constructor after I2CDevice
e40785b002 AP_HAL_Linux: Add fake device to I2CDriver
5194f7e5ce AP_HAL_Linux: I2CDevice: method to read multiple times
c394de31a0 AP_HAL_Linux: register I2CManager instance
bc2f7f2783 AP_HAL_Linux: implement function to transfer data
2fc534d18d AP_HAL_Linux: implement methods to open the bus
cd0e1dff82 AP_HAL_Linux: Add skeleton for I2CDevice
a117c22c34 AP_HAL_Empty: add I2CDevice
2250d9d768 AP_HAL: initialize I2C manager
f8e6c5b379 AP_HAL: add helper method to read registers
b4ff2d7595 AP_HAL: add helper method to write register
872b255384 AP_HAL: Add interface for I2CDevice
0eb450d379 AP_HAL: Add interface for I2C/SPI devices
2e60e1b1f2 AP_HAL: utility: Add OwnPtr implementation
ae5da864e7 mk: make PX4, QURT and QFLIGHT use wrapper cstddef
e1ae79688d AP_Common: add directory to add missing C/C++ symbols
7fda3ba178 mk: fix SITL windows build
c2db6bfb9d AP_Param: Fix warning
f4bc5c60ba mk: px4: replace cp -f with cp
529a0166d5 mk: px4: correct manipulation of files
92fea608f3 Rover: add item_reached_msg to GUIDED
786d14cd3c AP_RangeFinder: For LightWareSerial, write 'd' to support more devices
b76aff2dcb AP_Arming: allow unconfigured GPS in SITL arming checks
7debd14683 AP_HAL_Linux: Scheduler: remove unused _in_io_proc
fbb3bb2fd0 AP_HAL_Linux: Scheduler: remove unused _timer_event_missed
f39a6745d1 Global: remove unused _timer_pending from scheduler
0ad436c337 AP_HAL_Linux: Scheduler: bring back scheduler table
a1b62b4984 AP_HAL_Linux: Scheduler: use PeriodicThread
48e81c8589 AP_HAL_Linux: Thread: add PeriodicThread helper
860d5aaf84 AP_HAL_Linux: Scheduler: move rpcmem initialization to setup phase
0282ebb8ff AP_HAL_Linux: add method to check caller same as thread
e3beef0f77 AP_HAL_Linux: Scheduler: remove unused parameter
2b61eaf9f2 Global: remove {begin,end}_atomic from scheduler
9aa49cda93 Global: remove system_initializing() from scheduler
9cf9fc152b AP_HAL_Linux: use pthread's barrier instead of polling
2b0e214168 AP_HAL_Linux: Scheduler: move synchronization to common method
66e6cd60d8 AP_HAL_Linux: Thread: allow to override run method
a183ff8d32 AP_HAL_Linux: Scheduler: use Thread abstraction
3e0a83ede9 AP_HAL_Linux: add Thread abstraction class
5e9b45ebc2 AP_HAL_Linux: Scheduler: make microsleep() public
8ecf54bf75 Plane: use throttle slew when in quadplane assisted flight
12fab6c59a AP_GPS: save cfg only when needed
18163bd01f AP_GPS_UBLOX: save cfg only when needed
55e64b3622 AP_GPS: u-blox: copy paste typo in a #else
217a06322b AP_GPS: u-blox: don't throw 5hz update warnings if no fix
da01ceee53 AP_TECS: change order of update_speed() so it's not using the previous EAS_dem
afe9f544e5 AP_TECS: remove incorrect comment about TECS running at 5Hz, it runs at 10Hz.
a280396645 Plane: nonfunctional change, comment only. Units were in old in comment
c837fbca2f Plane: 3/3 new param TECS_LAND_SRC for Land Sink Rate Change
b38e27cadc AP_SpdHgtControl: 2/3 Land Sink Rate Change
67ce22660e AP_TECS: 1/3 new param TECS_LAND_SRC for Land Sink Rate Change
8ac6343730 Plane: removing mission_cmd in TECS and making it bool is_landing
e40bba3d13 AP_TECS: removing mission_cmd in TECS and making it bool is_landing
215ecb6b71 AP_SpdHgtControl: removing mission_cmd in TECS and making it bool is_landing
bac29be0b7 AP_Common: remove warnings from headers
517a7f0f35 mk: add missing warnings from AP_Common.h
a01b933cb9 waf: add missing warnings from AP_Common.h
6515a15843 mavlink: submodule update
a0755a84e7 AP_TECS: change param TECS_LAND_SPDWGT default from +1 to -1
358dcd56e8 mk: put FMUv4 bootloader in ROMFS for Pixracer
726bf110cc AP_GPS: update save_cfg description
18f55eccea AP_Arming: Add GPS configuration checks to arming
4251ee0e4b AP_GPS: u-blox verify ublox settings
7259ac33f0 waf: git_submodule: override uid()
d04b5e735f Plane: add SYS_STATUS reverse_motor
fa53263ca9 Plane: make throttle_percentage() signed
a7079b730a AP_GPS: GPVTG can give new velocity
4beb1748c5 AP_GPS: better handle corrupted NMEA sentences
cb60384dc4 AP_HAL_SITL: allow auto-baudrate detection in GPS driver in SITL
9500dc6b77 mavlink: update submodule
149cc7c5da AP_TECS: increase range of TECS_LAND_PMAX to include negative
ebec68c55b Plane: param desc to increase THR_MIN range to include negative thrust
f369899509 Plane: restrict rudder arming where reverse_thrust is enabled and commanding negative
a920b7322d Plane: more desc for param USE_REV_THRUST
bf1cd5deae Tracker: version to 0.7.6
5ca00d5877 Tracker: 0.7.6 release notes
901e318652 Tracker: do not save data stream rate updates to eeprom
ab74c043f4 Tracker: fix attitude target logging
e62cb36298 Tracker: log mode changes
123550a447 mavlink: submodule update
f435c5ee50 AP_Baro: tolerate GND_ALT_OFFSET step inputs
046741d23b Plane: abort landing at 90% throttle instead of 95%
b098466e87 Plane: reduce redundant logging of STAT from 6 Hz to 5 Hz
66fcd8f58a Plane: run is_crashed at 5hz instead of 1hz
4fcd471d77 Add Tom Pittenger as Plane maintainer
93185be1ff Plane: reset land_pre_flare on mode change
13c217c060 AP_TECS: make demanded airspeed during landing stages clearer
2e92089ce6 Plane: Reverse Thrust
5ba2bff85f AP_TECS: Reverse Thrust
19c7859d04 AP_SpdHgtControl: add mission item to AP_TECS
96833a0b73 AP_Vehicle: new params for pre-flare
1cb094f12e Plane: make throttle signed (pos and neg)
5338a76a58 AP_TECS: add flight stage LAND_PREFLARE
b8d5369ebd Plane: add flight stage LAND_PREFLARE
4bc30f6479 AP_SpdHgtControl: add new flight stage LAND_PREFLARE and reorder them all
f20841f491 SITL: add reverse thrust to Plane Sim
1f714ed75d SITL: handle negative throttle
f695f37ca3 AP_HAL_SITL: handle negative throttle
b55294920b AP_Compass: AK8963: remove logging on fail to get semaphore
27999b339d AP_HAL_Linux: Scheduler: include cleanups
adfa03ce69 PID: add parameter descriptions
942da17b7d Tracker: parameter descriptions for FORMAT_VERSION
d1babdb0fb AP_OpticalFlow: Enable optical flow onboard for BBBMINI
5b8de06beb AP_HAL_Linux: Enable optical flow onboard for BBBMINI
f777a25de8 AP_HAL: Enable optical flow onboard for BBBMINI
898673f5e8 web-firmware: fix link to companion computer images
f15e20936d README: update bad link
434fe919d6 web-firmware: add link to companion computer images
ae8b3233ed PX4Firmware: submodule update
f8d8616598 Plane: support all types of multicopters in quadplane
eeda1b56de Plane: don't do throttle nudge while in geofence failsafe
d820eeaec6 SITL: use AP_Motors conventions for multicopters
fd3ae0f931 PX4Firmware: submodule update
5efe98a814 SITL: allow quadplane simulator to simulate other frame types
8655fdfd7f waf: use git_submodule tool through GIT_SUBMODULES variable
fdc87df074 waf: create taskgen for gtest in _build_common_taskgens
264c3e2d28 waf: prepare for using git_submodule tool
1a17d63114 waf: reorganize imports in main wscript
049feb3e9e waf: git_submodule: add git_submodule tool
e09e9a313e Copter: interpret MAV_FRAME_GLOBAL_RELATIVE_ALT as MAV_FRAME_GLOBAL_RELATIVE_ALT_INT
0b8162aa0d Copter: add support for COMMAND_INT DO_SET_ROI
a1b0a53e17 Copter: remove AP_Limits from comments
970b171414 waf: remove AP_Limits from ignored libraries
a735db2870 Tools: remove AP_Limits unit test
b01406e671 AP_Limits: Remove unused module
05f4c8b5b1 waf: ardupilotwaf: reset LAST_IDX on every build
f13e71a80c waf: explicitly distinct routines in build
1d92a54429 waf: reorganize recursion
9157f634eb Plane: Add Tom Pittenger to authors list
2296139516 AP_HAL_Linux: remove unused constant
5ba20b1763 AP_Notify: sanitize includes
0e09975fa6 AP_HAL_SITL: fix typo
21b2d5d34c AP_HAL_Linux: AnalogIn_Raspilot: rename classes to follow other names
87e7704b1c AP_HAL_Linux: ADS1115: rename classes to follow other names
4562c0cffc AP_ADC: ADS1115: coding style fixes
c1d19fa4dc AP_InertialSensor: LSM9DS0: sanitize whitespaces
9c6bd38e91 AP_InertialSensor: sanitize includes
1ca03006ad AP_InertialSensor: MPU9150: remove driver
22f2a2ee09 AP_InertialSensor: L3G4200D: fix coding style
637b53f4ce AP_InertialSensor: L3G4200D: sanitize includes
5088dca072 AP_InertialSensor: MPU60x0: coding style fixes
ed653f8dbb AP_InertialSensor: MPU60x0: add comment about 8G/16G
56e4de0bdd AP_Baro: MS56XX: remove initialization to 0 from constructor
5bb2716081 AP_HAL_Linux: add name to SPI device table
9d5fb97819 Global: rename enum SPIDevice to SPIDeviceType
eb68f039d7 waf: update README with current status
a06359c0c6 waf: format README into GFM
14947da5e5 waf: rename README
7b0a6d301d ci: use command 'all' instead of 'build' for waf
4c6dbe725d waf: Makefile.waf: use check-all command instead of --alltests
fff14f6262 waf: add check-all shortcut
8718f5be4f waf: ardupilotwaf: rename build_shortcut() to build_command()
6901a2cdf6 waf: define command check as a build shortcut
1682be2596 waf: add documentation for build shortcuts
8be2db4d01 waf: ardupilotwaf: add parameter doc to build_shortcut()
9d7eaa7913 waf: create build shortcuts for program groups
c5c129d15f waf: ardupilotwaf: add parameter program_group_list to build_shortcut()
a867dcdd07 waf: ardupilotwaf: make build_shortcut create build context class
51505a82bb waf: set variant for all build context classes
5699bf04d0 waf: rename parameter blddestdir to program_group
b93c3d1772 waf: add option --program-group
8630874ef3 AP_NavEKF2: Send correct data over mavlink status message
1950008248 AP_NavEKF: Send correct data over mavlink status message
e84506679e PX4Firmware: submodule update (ms5611 fix for FMUv4)
d844b90d5e waf: remove duplicated warning flag
f21774d3e8 AP_Vehicle: define vehicle type APM_BUILD_Replay
f0c165f0e4 AP_HAL: ensure CONFIG_MAIN_WITHOUT_ARGC_ARGV is always defined
ede7ffedfc AP_GPS: correct #if from UBLOX_DEBUG to UBLOX_DEBUGGING
afafcbc4f3 AP_BattMonitor: correct names of #defines
09525e8568 AP_Mount: remove redundant include dependant on bad #define
4548466701 DataFlash: correct use of #defines
a77dd59dc6 Copter: single and coax copters become mav_type quadrotor
379ca5ac00 Plane: prepare for 3.5.0 release
e62d6711c3 SITL: added very simple tiltrotor simulation
c85f9e8b44 PX4Firmware: submodule update
eeb77c3413 AP_TECS: updated TECS_LAND_SPDWGT param description
954674890d PX4Firmware: submodule update
99847da297 Plane: release 3.5.0beta2
1839b73b39 PX4Firmware: submodule update
125af1b856 Plane: added OVERRIDE_SAFETY parameter
bcc939930c Plane: Only resend the mixer configuration if its changed
6f59c4ae53 DataFlash: added GPSAlt to CAM and TRIG log messages
8dba91658c ArduPlane: log a picture if AP_Camera::control() returns true
5be21cc178 ArduCopter: log a picture if AP_Camera::control() returns true
39b9ae7e91 APMrover2: log a picture if AP_Camera::control() returns true
dc998a2eaf AP_Camera: make AP_Camera::control() return bool for picture trigger
2099f40d89 AP_Camera: added CAM_FEEDBACK_POL option
0be28999ea AP_Camera: updated docs for timing of trigger pin
d82c8dcd6d ArduPlane: update for changed AP_Camera API
4efb9bd785 ArduCopter: update for changed AP_Camera API
eed575886c APMrover2: update for changed AP_Camera API
061ee5e4fd AP_Camera: use timer for faster camera trigger pin detection
f731a0dc53 APMrover2: Added precise camera trigger logging
90bf13279b ArduCopter: Added precise camera trigger logging
9bba55f937 ArduPlane: Added precise camera trigger logging
1001e53140 DataFlash: added TRIGGER message to Logs
2f3510023d AP_Camera: Support for camera feedback signal
b5cb48ba6d AP_BattMonitor: Add BBBMINI defaults
c622ff1539 AP_HAL_Linux: Enable AnalogIN_IIO for BBBMINI
fe404c8a5d AP_HAL_Linux: AnalogIIO: Remove unused code, add scaling for BBBMINI, rework
5e24443a0a Copter: 3.3.3-rc2 release notes
9a09a86bb8 AP_Motors: add AP_MOTORS_DENSITY_COMP_DISABLED option
68cf1b6956 HAL_QURT: automatically find broadcast address for UDP network
a0af5515b8 mk: show submodule status on failure
869b5e96b1 mavlink: submodule update
e78595bf48 Frame_Params: remove defaults from Bebop2 params
27ed9e1561 Copter: allow mount to be disabled
9000756c80 Plane: reflect changes to AP_Mount
f1db10c337 APMrover2: reflect changes to AP_Mount
ac3b5a4400 GCS_MAVLink: add messages to routing switch statement
22c3397657 Copter: make AP_Mount calls required by AP_Mount_SoloGimbal
5b834330cb AP_Mount: merge SoloGimbal from solo master
eabede692e AP_SmallEKF: move to AP_Mount/SoloGimbalEKF and merge solo version
02d8b28fa3 DataFlash: add GMB1, GMB2, GMB3
cbf2309023 AP_AHRS: add get_mag_field_NED and get_mag_field_correction
4c2e6af6ee AP_InertialSensor: statically register with AP_AccelCal
49ad2d26c6 AP_AccelCal: make client list static
5f610fdcba Copter: support SET_POSITION_TARGET with WGS84 altitudes
081beacb8d AP_InertialSensor: replace sqrt with safe_sqrt to resolve compiler warning
82322144ee Copter: remove unnecessary header file
53f22f4982 waf: fix legacy defines
c2e3f05dbf waf: ardupilotwaf: prefix build context methods with ap_
a2d2661765 waf: use methods from bld instead of ardupilotwaf for the remaining
3d22490397 waf: examples: use methods from bld instead of ardupilotwaf
e9d3dc9e72 waf: vehicles and antennatracker: use methods from bld
a89a1a8a8a waf: use ardupilotwaf as a Waf tool
12cfe222eb waf: ardupilotwaf: decorate build methods with @conf
cf432e8b3e waf: ardupilotwaf: rename vehicle_stlib to ap_stlib
a35c0d48b0 waf: ardupilotwaf: rename program to ap_program
90d266698d Frame_Params: Bebop 2 tuning by Leonard
2d9b230be1 AP_RangeFinder: Load .data section for HC-SR04 PRU driver used by BBBMINI
417176c0b2 autotest: reduce speedup on quadplane test to 10
06411958b9 README: add CI build status for master branch
36d669a2ab ci: switch linux/sitl compiler to 4.9
921da676db travis: start using configure-ci.sh
1cd20c50a6 ci: integrate ccache configuration
c8d01f4bf4 ci: add configure-ci.sh
0db54e7b36 ci: change TRAVIS_BUILD_TARGET to CI_BUILD_TARGET on build_ci.sh
e816a4845a ci: rename build_all_travis.sh to build_ci.sh
115d089904 Plane: continue limiting pitch during last phase of transition
926c37a876 autotest: increase timeout in quadplane test
0223218c39 Plane: use altitude_error for quadplane climb rate assistance
69b2421563 Plane: ensure TECS is updated at 10Hz only
5da6082d78 GCS_MAVLink: raise the waypoint receive timeout to 8s
6baae735de SITL: updated fixed wing model based on last_letter skywalker_2013
c2a12b55a0 scripts: raise max lockage in autotest
b8c6bee132 autotest: raise overall timeout
15c8a27d5e scripts: added some debug to travis script
6ca58eac78 travis: fix verification for calling waf check
bc5210d6f2 AP_Arming: don't reporting IMU inconsistencies if IMU not enabled
3a3afe42be Plane: don't force disarm on parachute release
c7e8a48a55 Plane: deploy parachute as fs action
24d8610013 AP_InertialSensor: use SIM_GYR_SCALE in SITL
a828db792e SITL: added SIM_GYR_SCALE_{X,Y,Z}
23eef91c59 Plane: added parameter RTL_RADIUS
56f8e3d414 scripts: added runfliptest.sh example script
889da98ca6 scripts: cope with older releases that don't support FMUv4
d7f50ab668 travis: call waf check for linux
54d938e2c4 waf: fail the check if not all test programs succeed
e9195a3989 waf: link tests with gtest library from submodule
8d0522f6ef waf: gtest: add gtest Waf tool
58c9ef6b18 gtest: add submodule at version 1.7.0
86e335b6b6 AP_HAL_Linux: Prevent buffer overflow
5d28fbfa1b Compass: Erle-Brain 2 and PXFmini fix
3ea05759d1 travis: setup BUILDROOT to try to make builds faster
1c73549451 travis: don't save ccache between runs
1416780976 scripts: copy px4-v4 binaries to autobuild published directories
d19c722963 autotest: fixed hex LOG_BITMASK for quadplane
3a9ebe3a8a Plane: added Q_TRAN_PIT_MAX
7e29761b99 Plane: try to smooth auto VTOL transitions
640332113c AP_L1_Control: calculate dt for crosstracking
4adda34439 Plane: limit pitch to zero during airspeed wait VTOL mode
4f9927beda AP_TECS: added set_pitch_max_limit() API
acb4885989 AP_NavEKF2: use get_delta_angle_dt() API
ee453783eb AP_InertialSensor: added get_delta_angle_dt() API
f0d9f91650 travis: move some builds to the first thread
2d3a62eae3 AP_HAL_Linux: RCInput_RPI: revert PWM support
c8947c3e9c AP_HAL_Linux: RCInput_RPI: provide signal information
5629f38b2c AP_HAL_Linux: RCInput_RPI: fix use of uninitiliazed value
45d668df47 AP_Compass_AK8963: support for timesliced timers
d15097f3fc AP_Baro_MS5611: Support for timesliced timers
4acc121bd6 AP_HAL_Linux: support for timesliced timers
d5c4917bcd AP_HAL: add default support for timesliced timers
7f04e0106e waf: change binary names
d663a748f2 waf: fix blddestdir
eb6c89d09c waf: use os.path.join() for joining paths
c13cf70163 GCS_MAVLink: system id output as severity INFO
df64a63243 scripts: use BUILDROOT in build_all.sh and build_binaries.sh
2311affd0f waf: Makefile.waf: add check-all target
5c41b48621 waf: run tests failed before on check
60abd4ff2f waf: don't differentiate taskgen names from targets for programs
386c12f8ff waf: Makefile.waf: simplify waf calls for vehicles
5f6debd186 waf: create build shortcuts for the vehicles
2448ea1611 waf: ardupilotwaf: add function build_shortcut
0b8eff79af waf: remove extension from programs' names
ad0f2080c6 waf: reorganize destination of binaries in Tools
f4a6d13cef waf: make benchmarks and tests be placed in common directories
59562ad693 waf: add option program_name to ardupilotwaf.program()
2ad91dc1bc waf: add option use_legacy_defines to ardupilotwaf.program()
d281067bcc waf: make example binaries be placed in 'examples' dir
c933b94f4d waf: add shortcut function for examples build
e549d0a3eb waf: use blddestdir to define task generator name
a55d803638 waf: make program() use blddestdir param
4c60dd5e44 AP_HAL_Linux: improve yuyv_to_grey() performance
3748760ead AP_HAL_Linux: improve crop_8bpp() performance
210c90e784 AP_HAL_Linux: add benchmark for crop_8bpp() and yuyv_to_grey()
43307d95c8 OpticalFlow_Onboard: fix body rate calculation
753f7d864a AP_HAL_Linux: add a shrink by software option in OpticalFlow
553d36c860 AP_HAL_Linux: add shrink_8bpp() to VideoIn
9e243f50ca mavlink: submodule update
d65ace2e34 scripts: make build_examples.sh much faster
51fd0b3d55 AP_HAL_Linux: RCInput_RPI: fix coding style
79d56073f7 AP_HAL_Linux: support PWM input for BH hat
f449107563 AP_HAL_Linux: Add Perf Lttng
85f0ef9265 waf : use LINKFLAGS for pthread
3a24531ade mk: fix dynamic linking option for board native
f5f2e6dcd9 mk: fix dynamic linking option for board linux
f6c2b55c3f mk: fixed dependency on mavlink header generation
ff02adf57e waf: mavgen: reorganize configure
46449ee032 waf: mavgen: use output_dir instead of target
282c254897 waf: define include path for mavlink only if necessary
17e5d99509 waf: allow partial builds with new mavlink as submodule
ce294e841c waf: ardupilotwaf: make vehicle_stlib pass **kw to bld.stlib
5816dcba03 waf: mavgen: set system env during build instead of configure
e5c66de554 waf: mavgen: ensure order without bld.add_group()
c9ca75e2cb waf: mavgen: set task signature for dynamic output
b3c1c2efd9 waf: mavgen: expand tabs to spaces
abc2d712c3 submodule/mavlink:update mavlink submodule
d7fcc7cd85 GCS_MAVLink: remove obsolete files from GCS_MAVLink dir
11b82474de waf: generate mavlink headers for waf build
dd65495668 mk: generate mavlink headers using mavlink module files
9a534da18c modules: add mavlink submodule
d989cf29e2 Copter: cancelling no-gps-land switches to AltHold
dc2ec5db18 Copter: add Bitmask param description for PILOT_THR_BHV
2c5f9422d4 Copter: log event if pilot cancels land
8965185587 Copter: add "high throttle cancels landing" option
9e0cd7a5cf Copter: allow arming in Drift and Sport modes
3751dbef91 ArduCopter: include precision landing sensor in mavlink system status
25de3c74c5 README: add github for Julien BERAUD
b8aef20ee8 Frame_Params: Fix bebop compass orient
287ebe8e6a AP_NavEKF2: Fix bug in application of sensor bias corrections
20923da23a AP_NavEKF2: Allow tuning of non-GPS mode
23038e7243 AP_NavEKF2: Use measurement uncertainties to initialise covariance
360d9fafb6 waf: force linking of phtread with gbenchmark
81fc4ec838 SITL: add NFSC flying club location
97725c3187 Copter: add DISALLOW_GCS_MODE_CHANGE_DURING_RC_FAILSAFE to APM_Config.h
cc1f27ad95 Copter: add DISALLOW_GCS_MODE_CHANGE_DURING_RC_FAILSAFE option
5cc969f01b Copter: simplify battery and radio failsafe logic
91187899fd Copter: initialize capabilities earlier
89c147184f Copter: log guided mode targets
d5e7b321f6 waf: add most linux boards
e21d41afe3 waf: enable fully static linking
c90b0e8659 waf: add static_linking tool
41e2a8cf1e waf: gbenchmark: disable cross-compilation
e7312a1f81 waf: add toolchain tool for cross-compiling
7aa43d36d2 waf: process board and project configuration before toolchain
82a33399ef waf: gbenchmark: call _configure_cmake() in waf configuration
a31816c039 waf: gbenchmark: move cmake configuration to a separate function
7e8d25a56a waf: gbenchmark: use dict for cmake variables
7d94095497 travis: unset CXX and CC at the beginning
237a7207fc README: add Pritam as raspilot maintainer
a3cac102cd AP_HAL_Linux: AnalogIn_Raspilot: rename misleading variables
0cff40ed7b AP_HAL_Linux: AnalogIn_Raspilot: remove unused debug
60636c1653 AP_HAL_Linux: rename RaspilotAnalogIn.cpp to AnalogIn_Raspilot.cpp
1fde473afc AP_HAL_Linux: AnalogIn_IIO: normalize names
be2af0877c AP_HAL_Linux: AnalogIn_IIO: formatting fixes
8195631fac HAL_Linux: AnalogIn_IIO update reopen_pin
b9c83da8c6 HAL_Linux: AnalogIn_IIO, replace reopen by select
da1b529415 HAL_Linux: AnalogIn_IIO add init_pins
546fbd1f25 HAL_Linux: mv AnalogIn_PXF to AnalogIn_IIO
4820e0b2c7 HAL_Linux: AnalogIn_PXF changes in AnalogIn
c117b41188 AP_BattMonitor: add PXF default pins
506db4eaf5 AP_HAL_Linux: add ADC support for PXF cape
0817fe6033 AP_HAL_Linux: default USE_FRAM to 0 for all boards
2a33b6bf33 AP_HAL_Linux: OpticalFlow: remove unneeded panic
7adbccac9a AP_HAL_Linux: add support for OpticalFlow to MinnowBoardMax
8aded390e7 AP_HAL_Linux: add yuyv_to_grey() and crop_8bpp() to VideoIn
27f909319e AP_HAL_Linux: add get_pixel_formats() to VideoIn
979184607d OpticalFlow_Onboard: fix comment
f9f6cbaf9e SITL: use (larger!) font6 as default xterm font
6e418c2cf5 autotest: always sleep for 3 seconds on starting SITL
decb6dbab0 autotest: added option of autotest with gdb
097c2011e1 HAL_SITL: prevent abort on select with -1 fd
9bb251a3fa autotest: disable DF log for QuadPlane test
6cf1fd762b autotest: don't show line noise in log download
bd111bd90b autotest: lower log bitmask for QuadPlane
deb0b9c197 HAL_SITL: read in larger chunks
655f57ad01 HAL_SITL: cleanup class names
492c733750 HAL_SITL: added RingBuffers to UART driver
eabceb34e1 Plane: update release notes for Pixracer support
d6b4e98a88 waf: remove already fixed TODOs
2c617cf8f0 scripts: stop building flymaple for plane
62b6057249 autotest: switch QuadPlane mission to full OBC2016 mission in Dalby
eec1b95f69 autotest: added quadplane test
9e43d5a4bb autotest: added defaults_file option to start_SIL()
5a24e93cc5 Plane: removed debug code and add quadplane setup checks
9e3c1fddef Plane: updated release notes
ebe1fe0b17 Plane: raise version to 3.5.0beta1
db8a2f7e8b AP_TECS: changed land_spdwgt to be sliding scale
7978872e32 AP_Plane: set path_propportion in TECS
89ce0b062b AP_SpdHgtControl: added new path_propportion var
ee819959b6 Plane: smoother takeoff and land transition in VTOL auto
2679cb2c50 Plane: improve yaw and position control in takeoff and landing
0986474eed Plane: call set_frame_orientation() before Init for quad motors
7667ad3af0 autotest: don't see dynamic vars in defaults file
52c4715c94 Plane: fixed init bug on low memory for quadplane
787a6994a4 Plane: added Q_THR_MID parameter
4da798129e Plane: fixed zero throttle in QSTABILISE mode
cfb74406b6 Plane: fixed call to motors->Init() for quadplane
0a0e191284 Plane: init rc output after quadplane setup
13a71c5cde Plane: use default motor mapping for channel setup
626b468930 autotest: added quadplane parameter file
b1177521ef Plane: show throttle level in vtol modes
71b0d5fb6d Plane: disable quad motors in TRAINING and ACRO too
9c5ec5e74b Plane: allow yaw control in auto-throttle VTOL modes
70018ee0cb Plane: fixed final descent for VTOL auto landing
f259cf4b3f Plane: added Q_YAW_RATE_MAX parameter
f5a15fb7c5 Plane: don't yaw quad when disarming
ecd7d53cfc Plane: auto set trim on quad motor channels
ef151944b8 GCS_MAVLink: regenerate headers
7010fd27ff Plane: fixed Q_THR_MAX_PWM parameter
780d1459f0 Plane: fixed force descend in VTOL land
4592085963 Plane: better VTOL land detection
fdd86c10ba Plane: smoother transitions to auto from VTOL takeoff
418464ab8c Plane: added quadplane version of is_flying()
f068a8c913 Plane: added support for VTOL_TAKEOFF and VTOL_LAND commands
ad59cb9f5c AP_Mission: support VTOL_TAKEOFF and VTOL_LAND
712a45eb22 GCS_MAVLink: added VTOL_TAKEOFF and VTOL_LAND
5e784ddb5c Plane: consider flying status for throttle_wait
7afa2a493d Plane: implement VTOL flight stage
b3bd83b1c6 AP_TECS: no underspeed when in VTOL
4f70ca22c1 AP_SpdHgtControl: added VTOL flight stage
aab98ff757 Plane: fixed quad yaw assistance during transition timer
9ae4c3ec99 Plane: mark Q_ENABLE parameter as an enable parameter
0d6b353bcb Plane: added quad assistance and auto support for quadplane
48e1a0641f Plane: added throttle wait to quadplane
2983576067 Plane: added QLOITER mode
00ca292160 Plane: improved quadplane transition
ca85c332d6 Plane: separate QSTABILIZE and QHOVER modes
6468fc6d93 Plane: Initial implementation of quadplane
b187a0c6eb AP_Motors: added quadplane frame type
22e25cc792 HAL_SITL: added Flightaxis support
7a7bd0607f SITL: first version of FlightAxis SITL support
76e3ae190a GCS_MAVLink: partial merge of common.xml from upstream
b742ee9cfb AP_Motors: fix example sketch
8c9eafeb3c AP_GPS: Fix param docs that had incorrect spaces
4280dacced Rover: add xtrack_error to DF log
6cb20b679d Plane: add xtrack_error to DF log
6a67ad706c Copter: add Relays to aux switch parameter descriptions
3918987507 Copter: aux switches for relays 2,3 and 4
e216f814c5 Copter: add CAL_ALWAYS_REBOOT to APM_Config.h
d916413a15 Copter: add CAL_ALWAYS_REBOOT option
60bd7de2d7 README: Add Julien BERAUD as bebop maintainer
8c7f36563c AC_AttControl: bug fix to angle_boost reporting
a42b286c01 AP_GPS_SBF: update logging based on vendor recommendation.
b54bb757df AP_Param: fixed flymaple build
2aa195e39b waf: update waf submodule to v1.8.18
1744bc0850 AP_Notify: Use display with bbbmini
2457558624 AP_Notify: Add display support
dee20a31f1 AP_Notify: Add gps_num_sats
a803cfd1e8 AP_HAL_Linux: RCInput: use GPIO5 for PPMSUM in bhat
321803919c Revert "AP_HAL_Linux: support PWM input for BH hat"
c829ec0c2c AC_PrecLand: add missing parameter description
e16cccf218 Copter: RTL config formatting fix
2927d6b2df Copter: add RTL_CONE_SLOPE param description values
3800c66f07 Copter: add RTL_CONE_SLOPE
dcd16696a2 Copter: refactor RTL to compute full path on initialization
f299fa7b3d CodeStyle: xmlpretty.py considers nodes with only text children to be one-liners
3e4b931d18 CodeStyle: update xmlpretty.py
8fdbb36827 AP_BattMonitor: add is_powering_off
85b4288990 Copter: update 3.3.3-rc1 release notes
bfa69ed543 Copter: 3.3.3-rc1 release notes
15e673f5ae Copter: fix precland parameter description prefix
5ddd332277 AC_AttControl: add ANGLE_BOOST param
6c458b07cb MotorsHeli_RSC: resolve compiler warning re init order
f6b909d0a5 AHRS_NavEKF: resolve compiler warning re signed vs unsigned comparison
67c3cf3d9b autotest: fixed incorrect default parms for plane
5692ed629a PX4Firmware: submodule update (smbus battery update)
e7d7ab5ef6 autotest: no need to forceload parms now
70a45680ed AP_TECS: fixed param desc for TECS_LAND_THR
be456fc33d Rover: always call load_all
f17ec284f7 Tracker: always call load_all
907a680a3b Copter: always call load_all
f201552f6d Plane: always call load_all
0d26e3a445 autotest: automatically use sensible defaults for each vehicle type
415d800957 AP_Param: use get_custom_defaults_file()
b4cc3d9668 HAL_SITL: implement get_custom_defaults_file()
5f4bd10477 AP_HAL: added get_custom_defaults_file() to Util
f8b52c6a67 AP_AHRS: try to start EKF2 slightly before EKF2
a6c39dee84 AP_NavEKF: don't allocate EKF1 unless it will leave 4k free memory
9188670e03 AP_TECS: added get_height_rate_demand() call
a07a8aece1 RC_Channel: added pwm_to_angle_dz_trim()
7c9ee9363b AP_Motors: added rc_map_mask() function
dfccf8f713 AP_Motors: also wrap set_freq and enable_ch for motor mapping
77af00c5e1 AP_Motors: allow arbitrary mapping of channels on multirotors
2777ff63ba SITL: heli-sim: prevent ground rotation and reduced affect of ground impact
e80fb8b3fa AP_NavEKF2: Improve non-GPS in-flight attitude accuracy
a3d781bf3f GCS_MAVLink: fixed a valgrind error
0e8dbe92f0 GCS_MAVLink: fixed string overrun found by asan
519afc7a06 HAL_PX4: debug code for FRAM corruption
9941c91d36 RC_Channel: prevent a warning message for assigned RC channels
6c064ae8bd HAL_SITL: flow control is enabled on SITL
68a46bc1ff GCS_MAVLink: use AP_Param::count_parameters()
93f0707679 AP_Param: added count_parameters() API
ff8008d81a DataFlash: remove unused callbacks, unimplemented functions
ca9af3ee42 README: Add PXFmini maintainer and update
d73fc4c0b2 AP_Notify: Add PXFmini support
41da1a4fc5 mk: add pxfmini target
fa3dad928b HAL_Linux: Add PXFmini to Linux_Class
e1de1f5f80 HAL_Linux: Util, add PXFmini support
e493bfcae4 AP_InertialSensor: add PXFmini support
a0b9181198 HAL_Linux: Scheduler add PXFmini support
1c49b086eb HAL_Linux: SPIDriver add PXFmini support
e0d19dc87d AP_HAL_Linux: RCInput_RPI: fix coding style
fdf490dad1 HAL_Linux: RCInput support for PXFmini
4e883e033f AP_HAL_Linux: GPIO: remove ifdef comment
8ce8045033 HAL_Linux: GPIO, add support for PXFmini
0aee50b99e HAL: Add PXFmini board
b5a364504a waf: make each board a build variant
f338b917d0 waf: gbenchmark: get build node from variant
f577c1702c waf: gbenchmark: catch WafError instead of Exception
ea823a818c AP_AHRS: enable EKF2 by default in AHRS
a0a4b698f6 AP_NavEKF: disable EKF1 by default
c34626ec4e AP_NavEKF2: automatically cut back EK2_IMU_MASK to suit number of IMUs
cc25575b3a AP_Scheduler: prevent a startup crash in autotest for Rover
d72a833ad4 sim_vehicle.sh: remove unused -e option and unused variables
607201a9b1 Plane: zero course error for straight bungee launch
62b2a2117d SITL: only report ground contact at most once per second
dd07ffce08 HAL_SITL: enable debug of rcoutput channel enable and frequency
526fb65dd1 HAL_PX4: fixed setting of rcout frequency on alt channels
224b2e2dda AP_Param: allow group entries as duplicates
b6155d2cb6 RC_Channel: fixed output for k_motor*
1b682e3c8f AP_Motors: swash servos are output only
238e912000 RC_Channel: allow find_channel() to be called early
47f25a0aa0 AP_HAL_Linux: remove _export_pins() method
ba0ed84039 AP_HAL_Linux: Refactor GPIO_Sysfs
0c0d595b55 AP_HAL_Linux: Export GPIO pin inside of pinMode()
7033e4d8ed AP_HAL_Linux: OpticalFlow swap crop and scale order
cbb313ec2c AP_HAL_Linux: Fix OpticalFlow crop calculation
9123ef9f38 RC_Channel: added find_channel() and channel numbers
d31ba2b380 AP_Motors: added rc_write function
79c90d37f6 AP_Motors: apply HELI_RSC output type if available
6a58264c6b RC_Channel: added set_aux_channel_default() API
2c78b4f537 SITL: encourage bash to create a subshell when spawning ardupilot
eb73a2b0c9 autotest: fixed fg_quad_view for new FlightGear versions
ccd3725f63 AP_Mount_Servo: remove out of date comment
e1f4814068 AP_Motors: only set output side of range for RSC
7cc53b6449 RC_Channel: setup only in or out part of channels for aux channels
74883ddaeb Copter: use set_range_in() for tuning channel
48b774bc63 RC_Channel: allow more complete separation of input and output of channels
0ef61b1637 AP_NavEKF: moved ENABLE param to front of list
ac64effc74 AP_Param: allow group entries in any order
57f580fdfc AP_Param: enable param debug by default
60af7a6087 AP_Math: removed matrix3 parameter support
1b8cf84801 AP_Param: allow for up to 512 top level vehicle parameters
0831661b3c AP_NavEKF2: mark EK2_ENABLE as an ENABLE parameter
29cb0dcf2c AP_Param: enable variables to be marked as enable variables
37b2e23322 AP_Param: allow objects containing parameters to be dynamically loaded
2dd8a0af74 HAL_SITL: allow visualisation of quad motor speeds in flightgear
568b1da797 autotest: added VTOL mission at KSFO airport
881ada9694 autotest: added windows flightgear view scripts
c3829dfb64 AP_Scheduler: allow for arbitrary loop rates
bd272390bc Rover: support up to 14 input channels on all boards
5c94b61f49 Copter: support up to 14 input channels for all boards
7b6d862316 Plane: support up to 14 rc inputs for all boards
27b43f4036 AC_PID: fixed example build warning
1450f33b51 HAL_SITL: support 16 RC input channels in SITL
0966398d8d SITL: improved realism of fixed wing sim somewhat
83c8505b3c HAL_SITL: send state to flightgear viewer
55e8e0742a autotest: fixed fg_plane_view.sh
9672b525f5 autotest: prevent duplication locations
f3ee7a9a85 AP_AccelCal: use union instead of reference
841f34effa AP_Arming: add param for accel error threshold
72edfcd1f6 Plane: update for changed peak hold API
b2745bb545 AP_InertialSensor: we only need peak hold for negative X for now
7cde90553d Plane: new param CRASH_ACC_THRESH
21205f8b41 Plane: improved crash detection logic and agility
3aaf2b1d2b AP_InertialSensor: add pos/neg peak detector
b052959c61 GCS_MAVLink: re-generated headers
c2b4235662 GCS_MAVLink: merge mavlink-solo
41c881cc9e GCS_MAVLink: temporarily remove GIMBAL_ and GOPRO_ messages pending solo sync
2a3fe35731 GCS_MAVLink: run xmlpretty.py on ardupilotmega.xml
ee18a1c5ed Tools: add xmlpretty.py
22873ee687 SITL: reduced drag in plane model
619a4c0925 SITL: use common dynamics code for QuadPlane
2f4933ec41 autotest: added two new locations
33998a58ac SITL: prevent aircraft going below ground level
d425965f6d SITL: expose home yaw to FDMs
630d4410d4 SITL: removed debug code from QuadPlane
8a98ce427c SITL: moved to common code for attitude/pos update
e6555aae6d HAL_SITL: added quadplane model
d0896a1fb2 HAL_SITL: fixed init of channel 8 out in plane and rover
8932c21155 autotest: added quadplane model
f2c8193f8b SITL: added a QuadPlane model
6f9e9d761f SITL: move calculations into multicopter frame class
c6b6d7137d HAL_SITL: added plane simulator
16e0a6d7b0 AP_Math: fixed angle between two vector3s
fcfd11ef53 SITL: very simple fixed wing simulator
cfff57257e Copter: shorten precision landing param prefix
1155b1f557 Copter: remove precision landing PI controller
bea69521c8 AC_PrecLand: velocity PI controller into parent class
8e4586b4a2 AP_Param: allow for nested groups without subclassing
0e85f55cfc Copter: remove OF_LOITER entirely
d969154391 Copter: incorporate AP_ADSB function rename
3b06260358 Plane: refactored interface
4e4c1831f0 AP_ADSB: added guided mode handling
0bfe235d6b Plane: use abort landing logic with mavlink GO_AROUND cmd
d18c25a0f9 Plane: add item_reached_msg to GUIDED
dc1846447e Copter: ensure Ch6 tuned value does not go out of range
e2879b375d Copter: fix Ch6 Tuning when no RC Receiver on boot
93fc595d4d Copter: check if compass cal requires reboot
cd977b3142 Tracker: add Notify parameters
b4c02d8cd7 Rover: added group parameter for AP_Notify library
3b3205304b Copter: added group parameter for AP_Notify library
9743e32f70 Plane: added group parameter for AP_Notify library
4e9f82a0e7 Notify: fix parameter description
0d5e59eaa3 AP_Notify: configurable RGB LED brightness
180359d6dd AP_Math: fix unit test
ba3325ffd3 AP_Math: rename rotation
02cfbb25b0 travis: fail build on parameter parse errors
09ebbac7ab waf: fix unsorted library
bae16a61e2 AP_InertialSensor: fix segfault
83d5a6664a AP_Math: minor changes to matrix_alg in response to review
0a3c2774e9 AP_InertialSensor: fixes in response to review
24e413c6af AP_AccelCal: fixes in response to review
660d9e86d5 AP_AccelCal: basic sanity check on fit parameters
5cd0ca851a Copter: check if accel cal requires reboot
1482614a7d AP_Arming: add accel cal requires reboot
137ace473d AP_InertialSensor: add accel_cal_requires_reboot
f6a41a8936 AP_InertialSensor: ensure that accel calibration object isn't allocated more than once
57d2594bd7 Tools: add AP_AccelCal lib to waf library list
1a4b4fa85e AP_Math: add inverse matrix test to check if inverse(mat)*mat = I
65915bbe71 StorageManager: fix example build
027e622a3c RC_Channel: fix example build
2c0657f326 GCS_MAVLink: fix example build
b85631bec3 DataFlash: fix example build
94543d55bb AP_Scheduler: fix example build
780d0de4bb AP_RangeFinder: fix example build
b0de3957ea AP_OpticalFlow: fix example build
99636b3e8b AP_Notify: fix example build
62701448ca AP_Mount: fix example build
b803907163 AP_Motors: fix example build
30a563044e AP_Mission: fix example build
f376510524 AP_HAL_PX4: fix example build
ac152b564f AP_HAL_FLYMAPLE: fix example build
d7639ce03a AP_HAL: fix example build
04dc7130f5 AP_GPS: fix example build
9b5644fdb6 AP_Compass: fix example build
a3789542cd AP_BattMonitor: fix example build
dcfc95fadf AP_Baro: fix example build
a1c7b32387 AP_Airspeed: fix example build
5cb7331095 AP_AHRS: fix example build
9e6be648b9 AC_PID: fix example build
065c67af57 Replay: fix replay build
0e18b5eaad Tracker: wire up accel cal for tracker
53d3e7dc61 Rover: wire up accel calibrator for Rover
78566bda36 Plane: wire up accel calibrator for plane
9a976963aa Copter: support AP_AccelCal
fe62a049bd AP_Math: implement LU decomposition based matrix inverse
a0c3cbffee AP_Math: add inverse matrix test example
5af0cc8eaf AP_Math: add inverse rotate example function
7ed8b3814f AP_Math: add rotate_inverse to Vector3
492223cb84 AP_InertialSensor: support AP_AccelCal
d24b5023f4 AP_AccelCal: Add separate lib for accel calibration
f70d9d26ba HAL_QURT: fixed README formatting
70877ebd50 HAL_QURT: fixed open of new storage file
aae7dd952c HAL_QURT: document command line options
f832f29bfb HAL_QURT: allow cmdline to specify UART, RCin and RCout paths
dafc9b4c6b AP_HAL: allow getopt_cpp on QURT
ea1e3f4928 HAL_QURT: pass argc and argv into main thread
bd2f548130 AP_HAL: allow argc and argc on QURT
7a5808276e Plane: fixed two build warnings with clang
97022a4161 AP_HAL: RingBuffer: fix macro expansion
fe8070bd51 DataFlash: move lock to protect just buffer IO
1a0f613a0f AP_Curve: remove unused library
e5e8bf3203 ArduCopter: don't link unused AP_Curve library
8d252955f5 AP_Motors: don't link unused AP_Curve library
326e74f64f AP_Mission: don't link unused AP_Curve library
5d3a519277 APM_PI: remove unused library
8cee02cde7 AP_PerfMon: remove unused library
6ac48b4dac Copter: minor formatting fix
750cacc875 Copter: barometer ground effect compensation
a2999ece54 AP_AHRS_NavEKF: add setTakeoffExpected, setTouchdownExpected
c90d7dd86e AP_HAL: fixed vprintf segfault
fa2a39f6c6 HAL_QURT: small cleanups
e46f23f538 RCOutput_Bebop: Increase max_rpm on Bebop 2
b6f51233db AP_HAL_Linux: Make RPI get_hw method public
cadef09542 AP_HAL_Linux: Fix comment and panic on Bebop
3a8bd7b829 AP_Progmem: remove unused library
a096703b06 Global: don't link with AP_Progmem
52ef8c10a5 AP_Param: stop using Progmem.h
360855f109 StorageManager: stop using Progmem.h
5f26c951d8 GCS_MAVLink: stop using Progmem.h
5d07e5bdbf DataFlash: stop using Progmem.h
eb9fd96d5c AP_Scheduler: remove trailing whitespace
3375b6b01c AP_Scheduler: stop using Progmem.h
25c289b74c AP_Menu: stop using Progmem.h
502077d763 AP_Math: stop using Progmem.h
520b0384fd AP_HAL: remove unused in_progmem flag to print_vprintf
8e0c125f56 AP_HAL: print_vprintf: follow coding style
c35730058a AP_HAL: print_vprintf: stop using Progmem.h
5bb4e3eda9 AP_GPS: stop using Progmem.h
88319f52f7 AP_Declination: remove line continuation slashes
3ae0082f52 AP_Declination: stop using Progmem.h
cfb5bbeb9f APM_Control: stop using Progmem.h
29ed01189d AP_HAL: ftoa_engine: replace tabs with spaces
e751d632e6 AP_HAL: ftoa_engine: stop using Progmem.h
f19e1e6c70 Tracker: update ver to 0.7.5 including ReleaseNotes
ecf01732d9 Tracker: add dataflash logging
2829dc67ac Tracker: remove unused CLI_ENABLED definition
8aa286eaaa Tracker: update time last heartbeat packet sent
6a5c5969fa AP_AHRS: fixed example build
3fb0b8f69d AP_InertialSensor: fixed example build
26ced77ebc Replay: fixes for AP_Scheduler change
782ba00d4b Tracker: convert to Hz based task table
7daab1ee62 Rover: convert to Hz based task table
4dd8714880 Copter: changed to Hz based task table
513d5c17b9 Plane: allow for settable main loop rate
23cef70846 AP_NavEKF2: use get_loop_delta_t() from INS
28a684ea03 AP_NavEKF: use get_loop_delta_t() from INS
17fc58f3cd AP_InertialSensor: re-work for more flexible main loop rates
93ef881109 AP_InertialSensor: added get_loop_delta_t() API
58d9b030ea Plane: update for Hz based AP_Scheduler
1b1be7e4a2 AP_Scheduler: switch to Hz based scheduler config
6bc19cd44c HAL_QURT: added README.md
bc8ee8af36 AP_GPS: added QURT GPS
b967140572 DataFlash: enable minimal file mode
a042845da8 AP_NavEKF: avoid an optimiser bug in clang
493ab96b29 AP_Compass: added QURT driver
6639c23685 AP_InertialSensor: added QURT driver
ff44a63007 AP_Baro: added QURT driver
285294a9cd AP_Common: added debug code for qurt
a509daff54 build: added qurt build target
7c431b40f2 AP_HAL: enable HAL_QURT
0816937ab1 HAL_QURT: initial implementation
3b546bb242 AP_Compass: added qflight driver
1f4e503d91 AP_Baro: added qflight driver
28230556bb AP_InertialSensor: added qflight driver
0bbf4362e0 HAL_Linux: added qflight README.md
dc8a3bbf92 HAL_Linux: added qflight board subtype
cfd54c5683 AP_HAL: moved dsm implementation into AP_HAL/utility
fec9ffd1a0 AP_HAL: support UARTs on timer thread
ac1e75ae77 AP_HAL: added qflight linux subtype
2fc60de500 build: added qflight build target
e1c890eb58 RC_Channel: added RC_UART example
eab8a8679d ArduPlane: fix invalid Range meta data
605fedc1c0 AP_TECS: fix invalid Range meta data
34d5dd0257 AP_NavEKF: fix invalid Range meta data
8573245963 AP_NavEKF2: fix invalid Range meta data
ed7cd8d3f4 AP_Motors: fix invalid Range meta data
e891ae8a89 AP_L1_Control: fix invalid Range meta data
47586dae07 AP_InertialSensor: fix invalid Range meta data
2b1bc22b2a AP_BoardConfig: fix invalid Range meta data
07c0c6d519 autotest: Validate Range meta data for correctness
964d02065a Mount: add missing RebootRequired to param description
1f3fa3e272 Copter: formatting fixes to arming checks
933ffb2b10 Copter: move prearm logic to arming_checks.cpp
bde9a9421d AP_Param: panic on failure to load defaults file
0ffba07ec8 AP_HAL: Set default params for Bebop
e9f4d4f1ed waf: use better and simpler syntax to find program
6579277578 Tracker: version to 0.7.4
f843302c87 Tracker: release notes for v0.7.4
9fda13d965 Tracker: request baro pressure from vehicle at 1hz
86bb03aa79 AC_AttControl: use ahrs get_rotation_body_to_ned
46e6ff3ca9 AC_AttitudeControl: modify comment on kinematic correction feedforward
829d6037fc AC_AttitudeControl: convert euler rates to angular velocity using the correct attitude
ae3357baee AC_AttitudeControl: rotate angular velocity feedforward into vehicle frame
3d4bd92b48 AC_AttitudeControl: add helper functions to retrieve rotation matrices
e22fe34259 Params: add arming check for bebop
c94b30b7bc Rover: fixed flymaple build
52666232ed AP_Arming: Allow arming without the hardware safety switch having been pressed
2f1297f30c DataFlash_File: Check return values of lseek
ce84ba049f DataFlash_File: protect against fopen failing
15265a45ed DataFlash_File: check fname before using it
74902012fd GCS_MAVLink: better mission errors
7cd3d8bfdc AP_Mission: better mission errors
ac08eece84 AP_HAL_Linux: instantiate BH hat objects
4d7db9bba3 AP_HAL_Linux: add ifdefs for BH hat like other RPI-based boards
a712e9572f AP_HAL_Linux: instatiate SPI device for BH hat
5d5e75c8ad AP_HAL_Linux: RCOutput_PCA9685 add new address for BH hat
f437e7a67c AP_HAL_Linux: add GPIO definitions for BH hat
8cca0beba9 AP_HAL_Linux: support PWM input for BH hat
800c142ac0 BH: Support UBLOX GPS M8N
766252cd87 AP_Compass: don't use ternary operator in place of if/else
5a085b1610 AP_Compass: add support to BH hat
3a31970056 AP_InertialSensor: add support to BH hat
fc2e810fb2 AP_Notify: add 1 RGB and board LEDs to BH hat
c7a77af47f AP_HAL: add BH HAT board info
736e3e6f46 build: support BH HAT build
65e2fb5367 Makefiles: add px4-v2-upload-solo
05e04ee1a7 HAL_SITL: added semaphore support
d14056fa1e Copter: fixed build warnings
025e4edd17 DataFlash: fixed warning
a73039d515 HAL_Empty: use 5V voltage for HAL_EMPTY
2442c45558 Tracker: fixed dependencies
ef83f39029 AP_Baro: renamed _C* vars to avoid conflict with qurt
fbacb4c01f AC_AttitudeControl: fixed M_PI -> M_PI_F
d24f6f4050 AP_NavEKF: fixed static const bug
02d7867d79 DataFlash: added locking for multi-thread logging support
c77e3c89c5 HAL_Linux: implement new_semaphore()
02bee8810d HAL_PX4: added Semaphore support
9d4b31ca3c AP_HAL: added a new_semaphore() interface to Util
9fe25f9c71 HAL_Empty: fixed I2CDriver for use in Linux subtypes
ec6a679482 AP_HAL: added ByteBuffer and ObjectBuffer in RingBuffer
cf170b2aa7 GCS_MAVLink: generated files
7af717fead GCS_MAVLink: ADSB msg bug: vert_velocity is supposed to be signed
f0f3986f46 AP_InertialNav: Typo correction in comment
6f5387c48d ArduPlane: Camera options for better camera control
eb0daee4b3 ArduCopter: Camera options for better camera control
80f19aefc7 APMrover2: Camera options for better camera control
6da7e76990 AP_Camera: Camera options for better camera control
b0f58248a5 AP_TECS: reflect renamed function in AP_AHRS
63caca1d3f AP_Mount: reflect renamed function in AP_AHRS
ee8090e25f AC_AttitudeControl: reflect renamed function in AP_AHRS
07d87d8877 Replay: reflect renamed function in AP_AHRS
05eb723429 Plane: reflect renamed function in AP_AHRS
cee706edd9 Copter: reflect renamed function in AP_AHRS
cac49e4ce0 AntennaTracker: reflect renamed function in AP_AHRS
6c4f070685 Rover: reflect renamed function in AP_AHRS
6682b27456 AP_AHRS: rename get_dcm_matrix to get_rotation_body_to_ned
2a953c4e35 AP_HAL_Linux: add missing casts
ba5dd88a0b AP_HAL_Linux: move mt9v117 patches inside class
a32738fd5f AP_OpticalFlow: Update test declaration
c28a71ec63 Rover: Update Optical Flow declaration
8e66ce6f27 Plane: Update optical flow declaration
f897356fd9 Copter: Optflow constructor update
780104dc9c GCS_MAVLink: Fix build
924a94633d AP_AHRS: Fix build
6f55f3734c AP_HAL_Linux: Add optflow declaration
8b21dc9b22 AP_OpticalFlow: follow coding style
c5cca02bc8 AP_OpticalFlow: Add support for onboard optflow
eccef24fa7 AP_HAL: Add optical flow params for bebop
f13cd00e59 AP_HAL_Linux: Update namespace and private
83c50e12ca AP_HAL_Linux: OpticalFlow_Onboard: follow coding style
ea89308d90 AP_HAL_Linux: Add Onboard Optical Flow interface
db5f49f49f AP_HAL_Linux: Flow_PX4: follow coding style
0476e698af AP_HAL_Linux: Flow_PX4 interface
c75704bde3 AP_HAL_Linux: VideoIn: follow coding style and minor fixes
25df4d03ff AP_HAL_Linux: Add support for Video Input
24d20f89c4 AP_HAL_Linux: make CameraSensor follow coding style
c84d9bf702 AP_HAL_Linux: Add support for mt9v117 camera
736f78a7a2 AP_HAL_VRBRAIN: add empty optical flow
d8bcb36530 AP_HAL_SITL: add empty optical flow
c0f65ff6e1 AP_HAL_PX4: add empty optical flow
0e29a7193a AP_HAL_FLYMAPLE: replace tabs with spaces in HAL_FLYMAPLE_Class
d08d7ce125 AP_HAL_FLYMAPLE: fix indentation
c114ad2b95 AP_HAL_FLYMAPLE: add empty optflow driver
e825eb12f5 AP_HAL_Empty: follow coding style
b3a751a199 AP_HAL_Empty: sort include headers
d14f4104ea AP_HAL_Empty: add support for OpticalFlow
c7668479bb AP_HAL: follow coding style
2b681f2f13 AP_HAL: Add support for an Optflow driver
d003e24189 AP_ADSB: fix unit conversion
63e1d0753e AP_Notify: Add a new RGBLed implementation that works over RCOutput
d74bd533c8 AP_Math: Add function to convert frequency to/from microseconds
38575dd87a AP_Math: Fix parameter name in nsec_to_hz()
a27d7f8a93 AP_InertialSensor_MPU6000: Fix FIFO reset
514b60cf5e Tools: add bebop build to travis
0a36503742 HAL_Linux: fixed a bug with UDP packetisation
4f612f5d69 Frame_params: Bebop2 parameters
8be0f9371f Frame_params: update recommended Bebop parameters
0a701088d4 AP_Math: fix bug in Quaternion::operator*=
326e68544c DataFlash: remove unused functions
eeb4613b0c waf: call waf always from root in make wrapper
c4c9ce6a2a waf: ardupilotwaf: use name without board extention
dc81a2410e waf: use single entry point for make wrappers
bbf146197c RCOutput_Bebop : Update motor order
c8661f804f AC_AttControl: reduce compiler warnings by fixing member init order
02eda4dcab AC_AttControl: remove comment, fix formatting
3c4d226b64 AC_WPNav: call renamed functions in AC_AttitudeControl
709fcf37cc Copter: call renamed functions in AC_AttitudeControl
e8345fbaab AC_AttitudeControl: rename getters for attitude target and attitude error
a0b36e0eff Copter: use renamed functions in AC_AttitudeControl
3a06edcee3 AC_AttitudeControl: rename local variable to match naming convention
846ee7d2af AC_AttitudeControl: fix regression in angular velocity controller
b8223771d3 AC_AttitudeControl: properly protect sqrt_controller from nonpositive acceleration limits
0fe0787265 Copter: call renamed AC_AttitudeControl functions
162d2a9112 AC_AttitudeControl: naming changes in response to Leonard's review
a48f201a04 AC_AttitudeControl: comment changes in response to Paul's review
0baf86c485 AC_AttitudeControl: fixup more names
41e580e53a AC_AttitudeControl: add input_att_quat_bf_ang_vel and use for ACRO
dfab21171b Copter: call renamed functions in AC_AttitudeControl
5919e95635 AC_AttitudeControl: add input_ prefix to input shaper functions
bba360ea2b AC_AttitudeControl: correct bugs found in review
9208003aab AC_AttitudeControl: remove unused variable
f8c709478a AC_AttitudeControl: quaternion acro controller
8b886bc479 AC_AttitudeControl: minor comment changes and reorganization
edda7e4e1e AC_AttitudeControl: keep _att_target_euler_deriv_rads updated in euler_angle_roll_pitch_yaw
9d8b0f3d58 Copter: call renamed functions in AC_AttitudeControl
1afab89991 AC_AttitudeControl: extensive renaming and recommenting
b906767a45 Copter: change acro to use modified attitude_control functions
06c8457efd AC_AttitudeControl: rename and modify frame_conversion functions to follow conventions
7330de86e5 AC_AttitudeControl: change internals to use radians instead of centidegrees
fff275fd99 AP_Math: add wrap_2PI
37054d9571 SITL: update units for new adsb mavlink msg
87fccce9e2 AP_ADSB: update units for new mavlink msg
40a84f0589 GCS_MAVLink: recompiled common.xml for adsb
0026b56f0a GCS_MAVLink: updated adsb mavlink msg - remove floats
decac5cb15 AP_ADSB: delete furthest when buffer is full
4b40a884e9 Plane: Don't disable compass checks for HIL mode unless actually in hil mode
7236b48518 SITL: compiler warning: double to float demotion
48ae0d645d AP_HAL_SITL: compiler warning: float to double promotion
d9b2ef43fa waf: update README_waf.txt
9b7f365e3a travis: fix waf calls
4f012b2b32 AP_HAL_Empty: sort namespace classes
a9def97344 AP_HAL_VRBRAIN: rename AP_HAL_Empty instances
c72f812944 AP_HAL_SITL: rename AP_HAL_Empty instances
503533c6fe AP_HAL_PX4: rename AP_HAL_Empty instances
6011eefb55 AP_HAL_Linux: rename AP_HAL_Empty instances
2ffb08b9ca AP_HAL_Empty: remove prefix from classes
f69208d47d AP_HAL: remove state leftover from SPIDeviceDriver
27dafa8f1b AP_HAL_Linux: remove state leftover from SPIDeviceDriver
7900359fac DataFlash: LOG_FILE_BUFSIZE sets buffer size for DataFlash_File
c118130dda DataFlash: fixed mispelling
59a44008d7 AP_RPM: Move timeout check into synthetic quality check.
fd106b20c7 AP_RPM: Add Minimum Quality Parameter
1f8b90e876 AP_RPM: Move filter step outside of min/max rpm check
f04668307d AP_RPM: Add Minimum RPM parameter
968599b795 AP_RPM: Add Signal Quality synthetic method.
77877ba5fc ModeFilter: Add get() method and support for Float type
9848d05a9d Copter: Always send RPM data when sensor is enabled
a08fa50fda AP_RPM: Add enabled() method to check if sensor is enabled
1c1eea6119 AP_GPS_SBF: add sd logging by default, improve init
0bcc6e324a AP_GPS_SBF: formatting fixes
f8b0a6a977 AP_Math: compiler warnings - undeclared function
103af93ec3 AP_Math: compiler warnings - float compare to constant (zero)
41746733fe AP_Common: remove crazy #define float double
e6cf86801d APMrover2: compiler warning - float to double promotion for print
4e3864049a DataFlash: compile warning - float to double promotion
4ee2fb6c7a Filter: compiler warnings - unused template <double>
0aa0380db8 AP_Compass: compiler warnings - float to float compare and bool cast
113961b66e Plane: compiler warning - double promotion
3035fb282d DataFlash: fix example
1e119c2182 waf: remove AP_ADC_AnalogSource from common libraries
3a13db9333 AP_MotorsHeli: Add more parameter checks.
652283a570 Copter: Helicopters to force descent when motor is shut off
58f0abaf4c AC_AttitudeControl: fixed one usage of zero accel limits
7479bc5734 Plane: return success or failure of get home position
a697d34b98 Tracker: return success or failure of get home position
0950c97866 Rover: return success or failure of get home position
c8cc83505b Copter: return success or failure of get home position
78e9b0a4e3 HAL_PX4: check for servo counts changing after boot
00811f8509 PX4Firmware: submodule update
b9f6439313 README: add Gustavo as build system maintainer
02937f2f84 PX4Firmware: submodule update
f55effa562 Copter: remove unnecessary frame ifdef
5678ae54db AP_ADC_AnalogSource: remove unused library
8f9fa568b4 Tools: remove unused AP_ADC_AnalogSource
1308dd888f ArduPlane: remove unused AP_ADC_AnalogSource
164b9f345c ArduCopter: remove unused AP_ADC_AnalogSource
767f126eaa APMrover2: remove unused AP_ADC_AnalogSource
c64b7cc7e4 AntennaTracker: remove unused AP_ADC_AnalogSource
cee770f5f7 StorageManager: remove unused AP_ADC_AnalogSource
e8e48fd8e0 RC_Channel: remove unused AP_ADC_AnalogSource
9f0ff6ec24 GCS_MAVLink: remove unused AP_ADC_AnalogSource
f584543ea1 DataFlash: remove unused AP_ADC_AnalogSource
c59490677d AP_Scheduler: remove unused AP_ADC_AnalogSource
fb24056ca9 AP_RangeFinder: remove unused AP_ADC_AnalogSource
1ba22398a5 AP_OpticalFlow: remove unused AP_ADC_AnalogSource
a4213166ae AP_Notify: remove unused AP_ADC_AnalogSource
f1de9c25fe AP_Mount: remove unused AP_ADC_AnalogSource
c9d1456a66 AP_Motors: remove unused AP_ADC_AnalogSource
3818a8a703 AP_Mission: remove unused AP_ADC_AnalogSource
f5c03c786d AP_Math: remove unused AP_ADC_AnalogSource
e1d90c78d8 AP_InertialSensor: remove unused AP_ADC_AnalogSource
fe5d6f2d49 AP_HAL_PX4: remove unused AP_ADC_AnalogSource
a1c3912bd8 AP_HAL: remove unused AP_ADC_AnalogSource
2b5417046b AP_GPS: remove unused AP_ADC_AnalogSource
0bcbcd07cc AP_Compass: remove unused AP_ADC_AnalogSource
0a1dbab24e AP_BattMonitor: remove unused AP_ADC_AnalogSource
5b1769cd2b AP_Baro: remove unused AP_ADC_AnalogSource
7c78955591 AP_Airspeed: remove unused AP_ADC_AnalogSource
2b26a2eebe AP_AHRS: remove unused AP_ADC_AnalogSource
247195512f AC_PID: remove unused AP_ADC_AnalogSource
3a3394ce36 HAL_AVR: fixed branch URL for AVR
45d80080c3 Replay: use IMT in preference to IMU
3fcda53d11 GCS_MAVLink: regenerated headers
4f1a7c6427 DataFlash: remove use of AddLogFormats
0f9e7a905d AP_GPS: remove use of AddLogFormats
fb197c9255 Rover: DataFlash-over-MAVLink support
84b53e58d5 Plane: DataFlash-over-MAVLink support
826912c3e4 Copter: DataFlash-over-MAVLink support
0ca07e5245 DataFlash: DataFlash-over-MAVLink support
31b8432545 GCS_MAVLink: add remote logging messages
574f95bd76 Plane: support multiple simultaneous backends
5d46a9add0 Rover: support multiple simultaneous backends
f57d237181 Copter: support multiple simultaneous backends
faabe0b83d DataFlash: support multiple simultaneous backends
121967d1b1 DataFlash: factor log structures into LogStructures.h (no functional change
2f97f9f416 AP_GPS: Fix incorrect values docstring on RAW_DATA
7837bbfd81 waf: add a make wrappers
6856950bd3 waf: use ConfigSet for board environments
8456cb4532 travis: support waf build
16eceec09f waf: add command 'list_boards'
f27b8869a6 waf: add missing AP_ADSB library to ArduCopter
3100736c9f waf: add missing AP_ADSB library to ArduPlane
bf7b08f9fa waf: add missing AP_Arming library to APMrover2
eef784fbe6 AP_Math: add benchmark for matrix multiplication
2828f66a6a waf: enable writing and building benchmarks
119948f263 waf: add gbenchmark Waf tool
1dfd8bc3c7 gbenchmark: add submodule for Google Benchmark at version v0.1.0
e2790f4f3b waf: use -O3 for all current boards
4266e924d0 AP_Math: add unit test for vector rotations
6b4a6f5389 waf: use gtest for tests
8556b5dfb8 waf: add support to run (unit) tests
d77b308f72 waf: make collect_dirs_to_recurse() accept list of patterns
1cdc233bd2 waf: add missing AP_Parachute library to ArduPlane
3be4144b72 waf: enable clang build database
6e7b73610d waf: add waf support
b9650696b7 waf: add waf submodule at version 1.8.16
6d7678d2a3 AP_HAL_PX4: fix passing callback to member function
036eb21c09 AP_HAL: remove init() method with unused argument
bf24d0ef31 AP_HAL_VRBRAIN: use init() method without arguments
4c82c535cc AP_HAL_SITL: use init() method without arguments
0c3733601b AP_HAL_PX4: use init() method without arguments
2439826c19 AP_HAL_Linux: use init() method without arguments
0514aadaec AP_HAL_FLYMAPLE: use init() method without arguments
00f17466a8 AP_HAL_Empty: use init() method without arguments
6bc07da0ee AP_HAL: use init() method without arguments
6b1c5e6f72 AP_HAL: add init() method without argument
d9baf334c4 Copter: remove unused definitions
f60f0e80c3 AP_ADSB: update msg sizeof comment
55f84e9c05 SITL: update ADSB for squawk
c0c3500d06 GCS_MAVLink: regenerate headers
5a9e632ace GCS_MAVLink: added squawk to ADSB_vehicle msg
49abb78372 AP_HAL_Linux: fix warning due to derived PWM_Sysfs
8eee888b3e AP_Baro: BMP085: move data-ready macro to a method
c5e97129c1 AP_Baro: BMP085: follow coding style
81a298c9c8 AP_Baro: reduce header scope
30f631de8f AP_Baro: MS5637: fix CRC check
7457588d7c AP_Baro: Move initialisation code from MS56XX constructor to init()
29791c9cec AP_Baro: Make _check_crc more readable
8eb0b559f2 ArduPlane: avoid comparison between signed and unsigned
fef364e4e8 AP_TECS: avoid comparison between signed and unsigned
83ff0476a8 ArduCopter: fix signed/unsigned comparison warning
aa9168e0e9 AP_Math: remove unused maxf()
798b743660 AP_NavEKF: use MAX() instead of maxf()
6f88fba8e5 AP_Math: remove unused minf()
e0a0514c79 AP_Math: turn MIN/MAX macros into inline functions
2591261af6 Global: rename min and max macros to uppercase
efbe350182 Tools: firmware.diydrones gets reference to companion computers
d9a14d05f4 Copter: 3.3.2 release notes
1e8c391024 AP_AHRS: fixed float exception on start in SITL
f19be28e89 autotest: allow delaying the mavproxy instance in SITL
d19c5035b6 Global: Rename printf format attribute
520b9de48a HAL_PX4: expose do_transfer() in API
44c280e9fb AP_HAL: fixed typo in do_transfer declaration
88236821c0 AP_HAL_Linux: Adapt Heat_Pwm to use PWM_Sysfs
0fa362ff5c AP_Notify: Fix GPIO declaration for Linux boards
8c4803af10 AP_HAL_Linux: GPIO Sysfs for Bebop
2136866594 AP_HAL_Linux: fix I2CDriver indentation
af6bbb806e AP_HAL: add do_transfer method to I2CDriver
26163b6640 AP_HAL_Linux: Add do_transfer method to i2c driver
04f601d42f AP_HAL_Linux: PWM_Sysfs: minor changes to Bebop/mainline integration
8733f34ce1 AP_HAL_Linux: PWM_Sysfs for bebop
4c1a70eb66 Plane: print start of land approach
ef56d952cd Linux_HAL_Essentials: Add HC-SR04 README.md
fe442d35df Linux_HAL_Essentials: Add AioPRU README.md
52f2fce1d5 RC_Channel: prevent float exception with bad RCn_MIN/MAX/TRIM
6eca767db0 Copter: reduce autotune min D param default to 0.001
7bbe73b233 Tools: fix up URL in readme to SITL via Vagrant doc
dfa107c7bb autotest: added Dalby OBC2016 mission and geofence
a6ed3e5e80 autotest: added Dalby location
6fdc6074d6 autotest: fixed "Reached command" string
ffa316c1f3 autotest: fixed copter for new strings for arm/disarm
1768e806bb PX4Firmware: submodule update
672fc86d44 Travis: added px4-v4 to the travis build
af82ca3c43 PX4: removed old Images in clean
412bba0192 PX4: use Makefile.make
1aa43b23f4 PX4: clean generated uORB topic headers in px4-clean
00276273cf PX4Firmware: submodule update (major update from upstream)
335e621932 HAL_PX4: cope with PX4 header changes
1f9ed423c4 PX4Firmware: submodule update (fix ppmsum)
9781e46e7f PX4Firmware: submodule update
ea38448372 AP_Relay: don't default to using two PWMs as relays on FMUv4
155e82c1b3 HAL_PX4: fixed PWM output for FMUv4
344cd926a8 PX4Firmware: submodule update
5105650304 PX4: added FMUv4 support in startup nsh script
015c110114 PX4: disable px4flow and oreoled on FMUv4
c34100f6a2 GCS_MAVLink: support FMUv4
774e257a88 AP_InertialSensor: support FMUv4
9835043dd5 HAL_PX4: support FMUv4
8739c55d27 AP_Common: added ID for FMUv4
6dd45998f4 AP_BattMonitor: support FMUv4
09276ce068 build: added px4fmu-v4 support (for XRacer)
4722a388b9 Plane: Text revisions
d7ff90326b mk: Fix build with removed header files
19f5c8f209 Copter: remove debug comments
3199829d45 Copter: revisions to text strings sent to GCS
f5d73a9d10 Copter: fixed deadzone for acro with extgyro and no flybar
d8ee9feaac AC_AttitudeControl: fixed external tail gyro with no flybar
06880e8b04 Copter: fix input_manager init order to resolve compiler warning
47b9f6598a AP_Motors: allow change to heli rotor speed controls while armed
4eafd90864 Copter: remove old comment
9e74222a3a ADSB: minor update to parameter descriptions
e6f8d812d3 Copter: adsb handling simply logs error to dataflash
4ef53427f2 Copter: allow ADSB to be disabled
34d6d985e9 Copter: Add support for ADS-B
084b607862 autotest: updated string for "Flight plan received"
e80ca592c4 AP_ADSB: update for new message format
2804434596 SITL: update ADSB for new format
76209de08e GCS_MAVLink: regenerate headers
2c7bfc7984 GCS_MAVLink: update ADSB_VEHICLE message
ddb7d92fc8 AP_NavEKF2: Fix timing jitter in airspeed fusion
5e290daac5 GCS_MAVLink: libraries_Text_revision
f02e13b107 AP_Terrain: libraries_Text_revision
40caec8afb AP_NavEKF: libraries_Text_revision
e9ba768bae AP_Arming: libraries_Text_revision
9b38c7fd72 travis: enable ccache
b8f7f2306b travis: cache compilers
17d9da4036 travis: use container infrastructure
b7f3782e4e Plane: Text revisions
999e99c6f3 Rover: revise text messages
6dd28f632c Tracker: revise text messages
ce1b68cce8 AP_ADSB: ensure stack allocation Location is initialised
f9e865ef5e AP_ADSB: don't disable ADSB permanently on init fail
eaad72c192 Plane: Add support for handing ADS-B traffic
d8d1343735 Plane: include AP_ADSB library in build for Plane
426e40d30e AP_ADSB: new ADS-B library support
bb4f0783ad AP_HAL_SITL: created ADS-B simulator to generate additional ghost aircraft within SITL
f88de986bc SITL: created ADSB simulator to generate additional ghost aircraft within SITL
4b5af2d726 GCS_MAVLink: files generated from new ADSB_VEHICLE msg
af93c8da4e GCS_MAVLink: new mavlink msg ADSB_VEHICLE
3014eb4001 AP_NavEKF2: Rework measurement buffer refactor
b3c8dcee34 AP_NavEKF2: measurement buffer refactor
77a67d73e7 SITL: fill in RPM from JSBSim
45ea2a9b68 AP_RPM: added a SITL RPM backend
223ce2b6aa SITL: allow FDM models to provide voltage, current and RPM
7a5c4ec65d HAL_SITL: use battery info from FDM if available
8b456be8c6 SITL: added battery voltage and rpm to SITL state
585e6dabb8 SITL: FDM structure is no longer a network protocol structure
a6ef064950 HAL_SITL: removed support for the old FDM protocol
9cdd5f3944 AP_InertialSensor: catch NAN errors in accel and gyro filters
5b7f2a3de3 Filter: added reset method on vector filters
fc7cdc1266 autotest: support a wider range of heli backends
b3e6129fd4 AP_AHRS: added EKF type 10 for SITL
802ced201d Copter: 3.3.2-rc2 release notes
90416ac81d Copter: 3.3.2-rc1 release notes
db16b94e7f Plane: update RTL altitude param description
c2a810d72a Copter: update RTL altitude param description
7b38f2185f AP_AHRS: use the right DCM matrix for right EKF
01665282f7 AP_HAL_VRBRAIN: Remove unused extern declaration for HALs
bb165d8a4c AP_HAL_SITL: Remove unused extern declaration for HALs
c43474fbf4 AP_HAL_PX4: Remove unused extern declaration for HALs
6773e18bc4 AP_HAL_Linux: Remove unused extern declaration for HALs
d9a3876851 AP_HAL_FLYMAPLE: Remove unused extern declaration for HALs
ee542aac8b AP_HAL_Empty: Remove unused extern declaration for HALs
1ee7963edb AP_ADC: fixed example build
7375f395f9 AP_RPM: added optional PWM logging
cbaa57c7be AP_HAL_VRBRAIN: remove unused functions
783db23a0f AP_HAL_SITL: remove unused functions
1de0e0a5a6 AP_HAL_PX4: remove unused functions
e0a6d83457 AP_HAL_LINUX: remove unused functions
f3cc27e04a AP_HAL_FLYMAPLE: remove unused functions
420dfc7ce2 AP_HAL_Empty: remove unused functions
c5fc0deee9 AP_HAL_Scheduler: remove unused functions
d343bfdc6c SITL: use millis/micros/panic functions
e839892524 PID: use millis/micros/panic functions
a096c2b72c GCS_MAVLink: use millis/micros/panic functions
51a6455ac0 Filter: use millis/micros/panic functions
578b31e7f8 AP_DataFlash: example uses millis/micros/panic functions
753956bd77 AP_Dataflash: use millis/micros/panic functions
0aa520a273 AP_Terrain: use millis/micros/panic functions
c70dda526c AP_TECS: use millis/micros/panic functions
7c9a5dc1b9 AP_ServoRelayEvents: use millis/micros/panic functions
81186e5416 AP_Scheduler: use millis/micros/panic functions
82a14b183d AP_RangeFinder: use millis/micros/panic functions
5344d95ef5 AP_Rally: use millis/micros/panic functions
9639add306 AP_RPM: use millis/micros/panic functions
26c06ae3a9 AP_PerfMon: use millis/micros/panic functions
d186704724 AP_Parachute: use millis/micros/panic functions
5b06924779 AP_OpticalFlow: use millis/micros/panic functions
daee8e8e76 AP_Notify: use millis/micros/panic functions
8d882b06dd AP_NavEKF2: use millis/micros/panic functions
e3c317b96b AP_NavEKF: use millis/micros/panic functions
0b2184b818 AP_Mount: use millis/micros/panic functions
513f4fe986 AP_Motors: example uses millis/micros/panic functions
01e4265ce1 AP_Mission: example uses millis/micros/panic functions
f20a4e413c AP_Mission: use millis/micros/panic functions
8257e6ab89 AP_Math: examples use millis/micros/panic functions
5292bc0054 AP_HAL: example uses millis/micros/panic functions
d7601095fa AP_InertialSensor: use millis/micros/panic functions
87b9b4463e AP_IRLock: use millis/micros/panic functions
2314578f6f AP_HAL_VRBRAIN: use millis/micros/panic functions
85d12efbef AP_HAL_SITL: use millis/micros/panic functions
a76c9e0051 AP_HAL_PX4: use millis/micros/panic functions
7675913d5b AP_HAL_Linux: use millis/micros/panic functions
f03eec59d6 AP_HAL_FLYMAPLE: use millis/micros/panic functions
c33b86a783 AP_GPS: use millis/micros/panic functions
2b982d6391 AP_FrSkyTelem: use millis/micros/panic functions
032acaaee4 AP_EPM: use millis/micros/panic functions
0ae2fe6fcd AP_Declination: example uses millis/micros/panic functions
cd7cfdef91 AP_Compass: examples use millis/micros/panic functions
86954cda0e AP_CompassCalibrator: use millis/micros/panic functions
0d3fbbdd37 AP_Compass: use millis/micros/panic functions
89d6acaeaa AP_BoardConfig: use millis/micros/panic functions
3b4e18043b AP_BattMonitor: examples use millis/micros/panic functions
9eb945d24f AP_BattMonitor: use millis/micros/panic functions
8cce3067f4 AP_Baro: examples use millis/micros/panic functions
5a280838f8 AP_Baro: use millis/micros/panic functions
b8f0beab83 AP_Arming: use millis/micros/panic functions
410bbe4c26 AP_Airspeed: examples use millis/micros/panic functions
2b10e0fac0 AP_Airspeed: use millis/micros/panic functions
3a17c858e3 AP_AHRS: use millis/micros/panic functions
4ea45b8df1 AP_AHRS_NavEKF: use millis/micros/panic functions
55e61538b3 AP_AHRS_DCM: use millis/micros/panic functions
b293fb150c AP_ADC: use millis/micros/panic functions
b331ffdd91 APM_OBC: use millis/micros/panic functions
fe718a6ce8 APM_Control: use millis/micros/panic functions
e867a06383 AC_WPNav: use millis/micros/panic functions
70d0ea9151 AC_Sprayer: use millis/micros/panic functions
ccd03bcf60 AC_Fence: use millis/micros/panic functions
ea08b6115d AC_AttControl: use millis/micros/panic functions
071d8e541e Replay: use millis/micros/panic functions
ee7e3e34c0 Tools: CPUInfo use millis/micros/panic functions
c8888329e1 Plane: use millis/micros/panic functions
c7acc46d09 Copter: use millis/micros/panic functions
dd3fb0a689 Tracker: use millis/micros/panic functions
ee073787c8 Rover: use millis/micros/panic functions
7662c2e73f AP_HAL_VRBRAIN: implement new AP_HAL functions
79721feb14 AP_HAL_FLYMAPLE: implement new AP_HAL functions
8db8b9b355 AP_HAL_PX4: implement new AP_HAL functions
ff016c4b5a AP_HAL_Linux: implement new AP_HAL functions
3ef77617fd AP_HAL_SITL: implement new AP_HAL functions
efbc7648b1 AP_HAL: create AP_HAL namespace and use for some HAL functionality
50e3c2ce3a Copter: minor comment updates
945bdee452 Copter: PILOT_VELZ_MAX and PILOT_ACCEL_Z take effect immediately
f9c7f15052 AC_WPNav: WPNAV_LOIT_SPEED WPNAV_LOIT_MAXA take effect immediately
674bedd867 Copter: acro sets alt target to zero for reporting
a5e4f64b20 Copter: refuse to enter manual throttle modes while landed with throttle high
ff2782b790 AP_NavEKF2: Parameter changes to reduce noise on gyro bias estimates
2193103586 AP_NavEKF: Reduce time to switch after an IMU fault
20798316e1 AP_NavEKF2: fix bug in performance timer
b2b8dcb8ff Copter: guided calls velocity controller at 400hz
c9340dbeb6 AC_PosControl: run velocity controller z-axis at 400hz
dbc8ce1d69 AC_PosControl: default z-axis controller to 400hz
323a527734 AC_PosControl: velocity controller uses feed-forward althold
4b41710261 AC_AttControl: minor comment fix
a348424551 AP_HAL: remove unused function
5561efde2b AP_NavEKF: we can assume get_sample_rate() returns a non-zero number
e32e6cfa67 AP_NavEKF: Protect against bad delta time from the INS library
2fb5a4489b AP_NavEKF2: Prevent airspeed faults from causing excessive loss of accuracy
fc6978e4d9 AP_NavEKF2: Fix error in parameter documentations
f9cadaf15c AP_NavEKF2: Increase resolution of innovation consistency gate parameters
08ef00b431 AP_NavEKF2: fixed build with IMU_BUFFER_LENGTH change
af3507ef3c AP_NavEKF2: Stop bad INS velocity spoiling height reset
97799ef0b3 AP_NavEKF2: Ensure that GPS origin is set before using data for height
b8427e5d95 AP_NavEKF2: Only allow rangefinder height option during optical flow nav
c9eea98142 AP_NavEKF2: Improve terrain height estimation
d820a538d5 AP_NavEKF2: Make magnetometer data available status global
04228e0b3b AP_NavEKF2: Rework selection of height measurements for fusion
80bc64ee7a AP_NavEKF2: Update parameter documentation with GPS height source option
4c72a14e22 AP_NavEKF2: Add function to LPF and spike filter baro data
34311bedfa AP_NavEKF2: Add data buffers for range finder data
104a0fcc6a PX4Firmware: submodule update
99da195e37 AP_NavEKF2: make IMU buffer length depend on main loop rate
1b29a1af46 Copter: consolidate setting of using-iterlock state
4192c3d0ad autotest: calibrate 2nd accel in SITL for rover
f36b2e415a AP_InertialSensor: fixed flymaple build
32ed0d58f3 AP_InertialSensor: fixed filter setup on 2nd accel/gyro
0c92331762 Copter: fixed build for SITL changes
9108179322 Plane: fixed build for SITL changes
e1cb9beeef SITL: expose update rate to HAL_SITL
95ca0b39a8 HAL_SITL: moved virtual INS sensor to AP_InertialSensor_SITL
4a768d47f3 AP_InertialSensor: created a SITL specific backend
2675edcb96 HAL_SITL: removed unused variables
ccd915eb67 AP_InertialSensor: moved raw gyro and accel logging to common code
75ea8f3dc0 AP_InertialSensor: removed "have sample" logic from drivers
0e4bab74ba AP_InertialSensor: simplify sensor backends
36c0beb918 GPS_UBlox: reorder init to resolve compiler warning
5086168b03 Copter: add RTL_SPEED parameter
9b82b2200c AP_NavEKF2: Fix plane in-flight yaw reset
e8706db382 AP_NavEKF2: Update IMU tuning parameter limits
0562529729 AP_NavEKF2: Tuning changes to make attitude less sensitive to GPS and compass errors
3549c717db Filter: removed reference to old 'Desktop' build
8f4ce7f20b build: removed all nocore.inoflag files
1ffe899a18 PID: fixed example build
9ea99cba29 HAL_Linux: fixed example build
c81d4fa07b AP_Declination: fixed example build
a9372ad5d7 Filter: fixed example builds
6cf5e582b9 AP_Common: fixed examples build
d43ef07f98 autotest: switched examples build to navio
2f49fa1531 AP_GPS_GSOF: add second comport to base config
1a033f3b73 HAL_Linux: don't flood the link with errors on uninitialised perf counter
2f610a400a AP_HAL_Linux: fix perf
259f5f07e8 AP_NavEKF_core: fix init of perf
05246ea0c7 Copter: fix RTL compile error when rally disabled
731c44d053 Copter: allow terrain to be excluded from build
2b111c2bd6 Copter: fix Helicopter no-build issue
f8f2833c88 AP_HAL_Linux: use I2C_SLAVE_FORCE in case of error
9214b85cf1 Copter: fixed path for AC_InputManager for heli
cefb32566f GCS_MAVLink: fixed corner case in MAVLink routing
a6d2e0d4df Copter: Don't auto-disarm helicopters if rotor is still spinning.
5ff67a41a1 AP_HAL_Linux: Implement perf API
bf5ac43142 mk: build the bebop statically
f00d4f0b3e AP_HAL_Linux: Improve loading firmware
4f7246c432 SITL: Helicopter parameter updates
b89b0d7f9e AP_MotorsHeli_Single: Move Servo_Test static variables to be class members
02b8dd5ffd Copter: Heli to set hover roll trim scalar
1bc13fb9c0 AC_AttitudeControl_Heli: Add Hover Roll Trim Scalar
bb7f8c1999 AP_MotorsHeli: Create Servo Test functionality
eeb544d098 AP_MotorsHeli: Create SV_MAN=5=Oscillate servo setup mode.
4443ca9602 AP_MotorsHeli: Yaw servo to move when using SV_MAN param for setup.
c2dff8749e AP_MotorsHeli: Change SV_MAN=2=Center to output _col_mid_pwm instead of 0 collective
212eb85ff2 AP_MotorsHeli: Add min and max collective to manual servo modes
22729e6927 AP_MotorsHeli: Change servo manual #defines into enum
750728fa1e AP_MotorsHeli_Single: Add motor enable aux output functionality
58e918341d RC_Channel: Add motor_run_enable aux function
0b33ef3862 AC_AttitudeControl: Add Hover Roll Trim functionality for helicopters.
5fd7fe3e53 AP_Motors: Add manual servo override to center swash-plate for set-up in AP_MotorsHeli.
ca28a49fa6 AP_Motors: Circular swash-plate limits for AP_MotorsHeli
5cc4f41d85 Copter: Helicopter: to use new Stab_Col and Acro_Col functions.
34fb600c4f Copter: Utilize Input Manager Class
afcc304cbf AC_InputManager: Initial class creation
c66af9b788 AC_HELI_PID: Add Leak-Min param and functionality.
62864c9e2b AC_AttitudeControl_Heli: Remove commented out Cyclic Cross-Coupling code. Will resurrect in future.
b8ce23970d AC_AttitudeControl_Heli: Implement Pirouette Compensation
f39ac7c900 AC_AttitudeControl_Heli: Add initialization of _flags_heli members
7ad623dc70 Copter: Helicopter, fix so servos move after arming in Acro and Stabilize.
2632a2e348 Copter: Rework arming proceedures for interlock/Estop
8630df00b3 build: disable warnings for unused params for FLYMAPLE
6522fb2621 AP_NavEKF2: Allow user to relax pre-flight GPS checks
d13b4c2dc3 AC_PrecLand: init members to resolve compile warning
175f5654c1 AC_PrecLand: fix backend compile error
fc05ad81eb DataFlash_File: cache oldest log to avoid directory scans when downloading
0b653bb82b AP_NavEKF2: Update MAVLnk parameter documentation
17e105640e AP_InertialSensor: Add HAL_COMPASS_AK8963_MPU9250_I2C to _detect_backends()
6ece4d60aa AP_HAL: HAL_COMPASS_AK8963_MPU9250_I2C to the supported list
bdc36349b4 AP_Compass: AK8963: Add support to use a AK8963 behind of a MPU9250 over I2C
d1ff4286c2 AP_InertialSensor: Make detect_backends() public
0cbe99a862 AP_InertialSensor: MPU9250 I2C: Connect the auxiliary I2C bus to the main bus
b3322ed1ae AP_InertialSensor: Add MPU9250 over I2C to detect_backends()
b3f030f650 AP_HAL: Add MPU9250 over I2C
607ab5b005 AP_InertialSensor: MPU9250: Add I2C support
c3dae6fcec AP_InertialSensor: MPU9250: Remove methods not used anymore
1fc29a2654 AP_Compass: AK8963: Use MPU9250 auxiliary bus
588df53429 AP_InertialSensor: Add support to get auxiliary bus of multiple instances of the same sensor
3e1b974fd2 AP_InertialSensor: MPU9250: Export auxiliary bus
206f0fb773 AP_InertialSensor: MPU9250: Add BusDriver abstraction
5c499484a8 Added a default astyle options file and a linux script to run it.
977f6aaf15 AP_Baro: MS5611: remove empty statement
94d01934f7 AP_Baro: MS5611: reduce OSR to 1024
ea5cd99651 RC_Channel: use is_bounded_int32()
090c02e6bd AP_Common: rename is_bounded() to is_bounded_int32() and make inclusive
e1b608d56d autotest: added arming to the Rover autotesting.
039ea59d7e Rover: Whitespace/formatting change ONLY for Steering.cpp
bbbbd07935 Rover: GPS fix to ensure we only look at new GPS messages
e81973cd29 Rover: motor_active method similar to the plane is_flying but simpler
ba8dbf6696 AP_Common: Added a new is_bounded global function.
3636b53313 Rover: Implementation of the ARMING functionality
7edf8c0e0a RC_Channel: New method to detect if channel is in trim location
2d1745ab6a Rover: Implemented the HOME state update from Plane
1d51e60571 AP_HAL_Linux: move Util instantiation
ca31ced2b4 AP_NavEKF2: Fix bug preventing use of optical flow with multiple IMU's
01766e7069 AP_HAL_Linux: RCOutput: Add LinuxRCOutput_Sysfs
392879112e AP_HAL_Linux: document functions to write file
821814007e AP_Common: add scanf format macro
c66c61180a AP_HAL_Linux: rework PWM_Sysfs
39bd5fa80e AP_HAL_Linux: Add PWM_Sysfs
d53911e3f6 AP_Math: Add functions to convert microseconds to/from nanoseconds
ca533a9d94 AP_Math: Add functions to convert frequency to/from nanoseconds
3d8993ff33 build: added sitl-asan build target
577670ccee AP_NavEKF2: Reduce memory required by 6KB when running at 400Hz
5e2382ea09 AP_GPS:UBLOX: send save cfg msg once per 5s and 5 times only
360c09f9bd AP_GPS_UBLOX: send cfg save msg only once every 1 second
bc708f9808 AP_GPS: add SAVE_CFG parameter make ublox config saving optional
e82df48631 AP_GPS: save configuration to non-volatile memory in UBlox GPS
89b593b1f4 APM_OBC: status text severity to INFO or ERROR
b601ef2f9e AP_Arming: status text severity to INFO
9d88508cc3 GCS_MAVLink: handle_mission_item text severity to info
6784fd8625 AC_AttitudeControl: reserve parameter IDs
825d10c81a Filter: remove filter with double type
e33aa7898a AP_NavEKF2: Prevent return of uninitialised variable
3d8e74df26 AP_NavEKF2: Don't switch magnetometers when on the ground or just started
3099d94e78 AP_NavEKF2: Retrieve correct time-stamp for active compass
6698d4379d AP_Compass: Enable usec timestamps to be retrieved for specified instance
42b47acdfc DataFlash: Fix logging error for EKF second instance
5d2f78996a AP_NavEKF2: Remove un-used data in IMU buffer
88cc1e2ffe DataFlash: Publish the EKF2 magnetometer selection index
f00b1ff22d AP_NavEKF2: Publish the magnetometer selection index
7294c8004b AP_NavEKF2: Enable use of  backup magnetometers after a timeout
6deabe28c2 AP_NavEKF2: Require all magnetometer axes to pass innovation test
afeadfca51 AP_NavEKF2: Don't attempt to compensate for external mag calibration
6524222397 Copter: adapt auto disarm check to use a timer
e8305c5653 AP_NavEKF: Prevent front-end from returning uninitialised data (garbage)
840c9e65bb AP_Baro: don't notify the GCS of new pressure reference too often
e873ff1e5f AP_Param: copter with vectors when sending parameters
3624162b18 PX4: added size of binaries to build
e18181e5c2 Plane: Uniformization of severities
1b13315092 AP_Baro: notify GCS of calibration
5f9b1c5f4e AP_Param: provide facility to notify GCS of param set
046b008889 AP_Param: send saved param values to all GCS
368363531f GCS_MAVLink: provide facilities to send param values to all GCS
5c3486d003 Plane: power-off rangefinder at high alt without terrain avail
73c5234633 AP_Terrain: cache status
3d8211696c build: allow -j on top level makefile
178bbb080b Plane: improve crosstrack error while navigating to loiter point
f08a4af751 AP_NavEKF2: Remove redundant if statement
0f8cfa02ab AP_NavEKF: Remove redundant if statement
2243f95074 AP_NavEKF: Enable clean entry into GPS aiding whilst in-flight
9efc2152fc AP_NavEKF2: Fix comment
a8983d075f AP_NavEKF2: Enable clean entry into GPS aiding in-flight
f99dbc70f9 AP_NavEKF2: Don't return ready to use GPS true if user has inhibited GPS
d6f7156f4e AP_NavEKF2: Fix timing offset in position reset calculation
803817821d AP_AHRS: Support changes to EKF2 interfaces that specify the instance
138315af21 DataFlash: Add logging for second NKF instance
0b64ad0123 AP_NavEKF2: Enable EKF instance to be specified when requesting public data
dfdacf2ddc GCS_MAVLink: Accommodate change to EKF2 interface
5b1d6f2aa2 DataFlash: accomodate change in EKF2 interface
243888e923 GCS_MAVLink: accomodate change in EKF2 interface
6c2dc3ccf8 AP_NavEKF2: Publish the number of instances
46e4c45537 DataFlash: Only log EKF messages when enabled
624f169b9b AP_NavEKF: Publish enabled status
65e4a4ab94 AP_NavEKF2: Use correct casting of integers when printing
987d261109 DataFlash: Update logging of EKF2 primary core index
2dcaeb0304 AP_NavEKF2: Update publishing of primary core index
1858da8307 AP_NavEKF2: Better switching in response to faults
5f6d1d8d25 AP_NavEKF2: Add fault score calculation
4884b2d38a DataFlash: Log the primary EKF2 index
b24507d33c AP_NavEKF2: Publish the primary EKF index
04165a60a7 AP_NavEKF2: Reduce false positive on EKF health check
49f9ea317c AP_NavEKF: Update console message and param descriptions for multiple EKF's
2340e18fdc AP_NavEKF2: Offset the fusion time horizon between multiple instances
3eeff8dbc6 AP_NavEKF2: Remove unused code
d48454ee2d AP_NavEKF2: Use nominated IMU unless unavailable
392fce76b2 AP_NavEKF: define getGpsGlitchStatus function
c823d64073 PX4: removed unused mixer files
05e533e6fc Copter: don't accept disarm commands in stabilize and acro unless also landed
2ffabe9e05 AP_BoardConfig: fixed PX4v1 build
d52279af27 AP_NavEKF2: don't try to allocate last bytes of memory to EKF2
ee78e2d618 AP_NavEKF2: set primary to first healthy core
2ab2afc86a AP_NavEKF2: added EK2_IMU_MASK for multiple IMUs
56909ce973 AP_NavEKF: split EKF1 into frontend and backend
98ef21bc69 PX4: don't auto-start uavcan, use BRD_CAN_ENABLE instead
c334bd0ddf AP_BoardConfig: added BRD_CAN_ENABLE option
e9c6702269 AP_HAL_VRBRAIN: fix typo using comma operator
0d95a9c41d AP_OpticalFlow: reduce lock region
70edf31ca6 AP_OpticalFlow: make error path common
7b726d824d AP_OpticalFlow: remove num_errors increment due to busy bus
41ddb67712 AP_OpticalFlow: pack struct passed to I2C layer
6bad33c922 scripts: use px4-clean for all binaries targets
49799257ea GCS_MAVLink: handle available memory of over 64k in mavlink
883ac59e4a HAL_Linux: always report 256k of available memory
567ea0e420 HAL_VRBRAIN: make available_memory() uint32_t
81e34006a5 HAL_SITL: make available_memory() uint32_t
ac1c0bba15 HAL_PX4: make available_memory() uint32_t
8a4c0593f2 AP_HAL: make available_memory() uint32_t
a3ca732403 AP_Airspeed: show health status in examples
e7efaa45c5 Tracker: text message severity uniformization
a64689600f Rover: text message severity uniformization
549695181c Copter: revised and uniformization of severity messages
420b1ca715 Copter: minor comment and order change to takeoff
082c1f77fb Copter: soften takeoff
75d2aed6e1 HAL_SITL: added help for uart command line checks
ad9d50a457 autotest: changed -A to be used for arbitrary command line options
d5d1bfae8c AP_HAL_Linux: Adapt code to common RPI layer
b1a53c383c AP_HAL_Linux: Add AnalogIn_ADS1115, common code
47d43c64ef AP_HAL_Linux: Add RCInput_RPI, merge common code
112df0a0a6 mk: Add Erle-Brain 2 support
4a2fe12652 AP_Notify: Add support for Erle-Brain 2
b54b8aa8af AP_HAL_Linux: AP_BoardLED add support for Erle-Brain 2
30faf7e92a AP_InertialSensor: Add Erle-Brain 2 support
739fc0df35 AP_HAL_Linux: UtilRPI, add Erle-Brain 2
30153b6eac AP_HAL_Linux: Scheduler, add Erle-Brain 2
8ae8f47538 AP_HAL_Linux: SPIDriver, add Erle-Brain 2
68c92eab25 AP_HAL_Linux: GPIO, add Erle-Brain 2
90a00553cb AP_HAL: Boards, add Erle-Brain 2
466f6b5ef8 README: Add Erle-Brain 2 board
fe8d471490 Tools: RCInput_UART PIC firmware: keep status led on
2c9472c634 Tools: RCInput_UART PIC firmware: blink status led when idle
6a8420aa48 Tools: RCInput_UART PIC firmware: remove code out of place
2a7e4baa7d Tools: RCInput_UART PIC firmware: add informative comments
8110104361 Tools: add PIC assembly code for RCInput_UART
d16a924a15 scripts: don't install avr tools
5c29703732 build: remove tools to find arduino
dd784189a1 AP_AHRS: remove comment about avr-libc
e5595ff11c ArduPlane: don't use avr include dir for tags
b76f498799 APMrover2: don't use avr include dir for tags
633e9dc036 build: remove wrong comment about avr-gcc
0e6da397d1 build: remove AVR boards
0151853c21 ArduPlane: remove check for MAVLINK_COMM_NUM_BUFFERS
030fd046c7 ArduCopter: remove check for MAVLINK_COMM_NUM_BUFFERS
91dbfce5f9 APMrover2: remove check for MAVLINK_COMM_NUM_BUFFERS
2b37906f0d AntennaTracker: remove check for MAVLINK_COMM_NUM_BUFFERS
1a9b57da1f AP_GPS: remove check for GPS_SKIP_SIRF_NMEA
c32d323cd6 GCS_MAVLink: remove check for GPS_RTK_AVAILABLE
e31595c60c AP_GPS: remove check for GPS_RTK_AVAILABLE
c75c1d84d9 AP_GPS: remove check for GPS_MAX_INSTANCES
c74b1a660d DataFlash: remove DATAFLASH_NO_CLI
c55c07eaf6 ArduPlane: remove check for AVR CPUs
e0639ac029 ArduCopter: remove check for AVR CPUs
1a084e5dcd APMrover2: remove check for AVR CPUs
cb8ae444d1 AntennaTracker: remove check for AVR CPUs
2a91d2169e RC_Channel: remove check for AVR CPUs
45c472205b GCS_MAVLink: remove check for AVR CPUs
1e839f97ed DataFlash: remove check for AVR CPUs
ca4ae1c9e0 AP_Motors: remove check for AVR CPUs
fb28f426da AP_Math: remove check for AVR CPUs
255e04a841 AP_HAL: remove check for AVR CPUs
4cef751aef AP_GPS: remove check for AVR CPUs
8eef58a8c2 AP_Baro: remove check for AVR CPUs
da86e29c27 AP_AHRS: remove check for AVR CPUs
d1be74c87e ArduPlane: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
3e889b005f ArduCopter: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
45ba94343d APMrover2: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
3b0a1ef563 AntennaTracker: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
bdf92e8c79 StorageManager: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
2847af905e RC_Channel: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
039f42d916 GCS_MAVLink: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
7cc96f3845 GCS_Console: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
0dfeae2556 DataFlash: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
3ba00feda4 AP_SerialManager: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
8d9dfcab27 AP_Relay: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
8d86d79c0b AP_RangeFinder: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
0c6b47e331 AP_Parachute: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
d2c18a5c7b AP_Notify: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
d00c8e3a34 AP_NavEKF: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
e0e7b73ceb AP_NavEKF2: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
ad094b9073 AP_Mount: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
3941bb7347 AP_Mission: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
c7871d1bca AP_Math: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
266bb3b759 AP_L1_Control: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
3142f21363 AP_InertialSensor: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
cf8203c08b AP_HAL_SITL: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
8e65e88d06 AP_HAL: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
973c3c6bc6 AP_HAL_FLYMAPLE: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
24e5deb906 AP_GPS: remove comments about AVR boards
eb75d73952 AP_Compass: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
b734777b95 AP_Common: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
1c8f6c2ee5 AP_Camera: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
12c88570d7 AP_BattMonitor: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
4bd8b2ae35 AP_Baro: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
221d822573 AP_Airspeed: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
124937ab61 AP_AHRS: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
4ae35c9a74 AP_ADC: remove checks for HAL_BOARD_APM2 and HAL_BOARD_APM1
c495bdb299 Remove AP_HAL_AVR
8e351a058d AP_InertialSensor: MPU6000: enable data-ready pin for minlure
3d1d6286e9 AP_InertialSensor: fix example build after PSTR removal
a5a1680fb3 HAL_SITL: added support for real UART devices
6984168a45 AP_HAL_Linux: don't log on failed semaphore
99b448d1bb Copter: make EV log messages critical
9b37c29efa AP_NavEKF: Improve mag earth state reset accuracy
0dd5a7c4fa AP_NavEKF: Use correct blended delta time for all vel and pos integration
42214ec303 AP_NavEKF: Fix failure to start mag cal due to gyro noise
707089178f AP_NavEKF: Update default parameter values:
3d8f720aaf AP_NavEKF: Improve initial accel bias learning
64ad7d6a50 AP_NavEKF: handle case where one IMU fails to return a delta velocity or angle
69d4bd2481 AP_NavEKF: Protect against baro data errors in constant position mode
778b1c3e18 AP_NavEKF: Remove dead code for constant velocity mode
fb8e01a73c AP_NavEKF: Do not automatically accept DCM alignment data after 30 seconds
be11e12f81 AP_NavEKF: Improve height reset during climbs and descents
59df23bc0f AP_NavEKF: Reduce EKF health pre-arm check false positives
aa14de9d39 AP_NavEKF2: Fix failure to start mag cal due to gyro noise
2ebce110b7 AP_NavEKF2: Explicitly define plane build type for default parameters
7ed36d8e65 AP_AHRS: Enable pre-flight GPS check status reporting for EKF2
b6d63d4b4e AP_NavEKF2: Fix reporting of pre-flight GPS checks
7bd61a484c AP_NavEKF2: Faster initial accel bias learning
f1bcfa9d49 PX4: update to latest FMUv2 bootloader
b15bf3243e AP_NavEKF2: Remove potential for division by zero
5533a9a149 AP_NavEKF2: Add improved health monitoring when using simple compass yaw fusion
f539b597a3 AP_NavEKF2: Improve initialisation of magnetic field learning
844ed95718 AP_NavEKF2: Add method to rotate output quaternion history
a1e32d71ec AP_NavEKF: Prevent large rotation rates corrupting the in-flight mag reset
1ce03c53a6 AP_Curve: remove wrong comment about PSTR
9203e2b929 AP_Common: remove PSTR definition
92016e9229 AP_Progmem: remove dead code
79230bc68d APMrover2: fix passing AP_Float to printf
68bef1ec64 AP_Param: fix wrong printf format for printf
c3fe71a0d5 APMrover2: fix wrong printf format for printf
cfe6e209db ArduPlane: fix wrong printf format for printf
d2a259cef0 DataFlash: fix wrong printf format for printf
bdd1d5e9d4 AP_Menu: fix wrong printf format for printf
62ba8266ef AP_InertialSensor: fix wrong printf format for printf
b02661b478 APMrover2: fix wrong printf format for 32 bits
d40349d6ae ArduPlane: fix wrong printf format for 32 bits
f4e71affa1 ArduCopter: fix wrong printf format for 32 bits
a6fd94c6fe ArduPlane: fix wrong printf format for 32 bits
e9b6c76454 ArduCopter: fix wrong printf format for 32 bits
c397e550e2 ArduCopter: fix warning due to wrong type
5244559010 Minimize AP_Progmem.h includes
a65c98485c AP_HAL: UARTDriver: remove _P() variants
1b07dabeb7 Replace prog_char and prog_char_t with char
b52d1cfabb DataFlash: remove DataFlash.Log_Write_Message_P()
4ab9821624 Replace use of Log_Write_Message_P() with Log_Write_Message()
132303db4b AP_InertialSensor: use printf() rather than _printf_P()
2556fc8dbe BetterStream: use common macro for printf formatting
20c6ffc5e3 Replace use of UARTDriver::printf_P() with UARTDriver::printf()
7ceffb1e2b Replace use of vprintf_P() with vprintf()
6f4904189b Replace use of println_P() with println()
a964ac38ec Replace use of print_P() with print()
ee72254ff9 APMrover2: remove undefined function from header
65e719ccc3 AP_Param: replace find_P() with find()
af88ebf477 GCS_MAVLink: remove send_text_P() in favor of send_text()
89fc4f4b62 Replace use of send_text_P() with send_text()
831d8acca5 Remove use of PROGMEM
d595e41003 Replace use of strncmp_P() with strncmp()
0aa117f65d Replace use of strnlen_P() with strnlen()
1336d621be Replace use of strcpy_P() with strcpy()
e4b313d2ca Replace use of memcpy_P() with memcpy()
f8f3f5a024 Replace use of strlen_P() with strlen()
aa370fe758 Replace use of strcmp_P() with strcmp()
6f0db45b57 Replace use of strcasecmp_P() with strcasecmp()
84da1f5039 Rename gcs_send_text_P to gcs_send_text
a8455aa4e3 AP_HAL: Remove Util::{v,}snprintf_P()
84d5fb006f Remove use of Util::{v,}snprintf_P()
2c38e31c93 Remove use of PSTR
bd0f0a7536 ArduPlane: convert dos linefeeds to unix
4d458833dc AP_NavEKF2: remove unnecessary PV_AidingMode check
b459d937ad AP_NavEKF2: Clean up GPS fusion timeout logic and comments
61d556afb1 DataFlash: Fix shorthand variable names for EKF position reset delta
adee13d729 AC_WPNav: handle ekf position reset in Loiter and Brake
94adaba305 AP_NavEKF2: constify getLastPosNorthEastReset
3f29365cae AP_NavEKF: constify getLastPosNorthEastReset
4e959ef6f9 AP_AHRS: constify getLastPosNorthEastReset
52ed075405 AP_NavEKF2: constify getLastYawResetAngle
758c5a7d7f AP_NavEKF: constify getLastYawResetAngle
7c20577ee0 AP_AHRS: constify getLastYawResetAngle
040ec481f4 AC_WPNav: loiter uses pos_control.shift_pos_xy_target
550ba478c9 AC_PosControl: add shift_pos_xy_target
16a0281c92 AC_PosControl: remove unused set_vel_target
0b1a6a2157 AP_NavEKF2: Clean up GPS timeout logic
f67f6b01f4 AP_AHRS: Publish the EKF position and velocity reset deltas
74da4d8e57 AP_NavEKF2: Remove GPS glitch offset logic
4fdec67546 AP_NavEKF2: Publish the position and velocity state reset deltas
7c40448bab AP_NavEKF: Remove GPS glitch offset logic
5489ff9118 AP_NavEKF: publish position and velocity state reset data
0d36c4c07b GCS_MAVLink: version update after generate
bf9d4b5898 GCS_MAVLink: generate adds abort Alt label in MAV_CMD_NAV_LAND
c52f16b86f AC_WPNav: increase param description max for LOIT_JERK
606a0e0d0b Copter: set jerk to default for circle and guided
49c4a133d7 AC_WPNav: set jerk separately for wpnav and loiter
ee0abb1750 AC_PosControl: add set_jerk_xy
853f8bfaf4 AC_WPNav: stop gradually in loiter
411e75b917 Copter: feed forward only used for AltHold, Loiter, PosHold
73f4533995 AC_PosControl: minor comment update
895a40893d AC_PosControl: use_desvel_ff flag added
aec66c5db6 AC_PosControl: faster z-axis slowdown when over speed
245f7ce268 AC_PosControl: allow desired vel z to be above speed limit
f55c31a157 AC_PosControl: add alt hold without feed forward
3c3392aae5 Plane: improve error messages on failed parachute release
5d1d54a8cb Plane: added CHUTE_CHAN parameter for manual release
d20b86b95e Plane: suppress the throttle in auto-throttle modes after parachute release
9affddcaa3 Plane: initial support for AP_Parachute library
aee2543b75 AP_Parachute: fixed release bug
0d9715cfe8 AP_Parachute: added a released() function
76871ef0cd Tracker: fix start lat, lon sanity check
ca942f39dd AP_Motors_Heli: remove unused allow_arming check
b49fda4a94 Copter: remove rotor spinning arming check from TradHeli
724f5511aa SITL: support multiple jsbsim aircraft types
da3961e4a6 Copter: support MAV_CMD_DO_SEND_BANNER
e9cec1203a GCS_MAVLink: version update after generate
e51498aa45 GCS_MAVLink: generate after adding DO_SEND_BANNER
36bb5a25a2 GCS_MAVLink: add MAV_CMD_DO_SEND_BANNER
02c4fdf519 Copter: 3.3.1 release notes
9de2ec04f6 AC_PrecLand: update comments to reflect change from bf_angle to angle
9e7099f5ee AC_PrecLand: implement frame of reference
e409bd0a58 AC_PrecLand: rename bf_angle to angle
c228ea4371 AP_NavEKF2: prevent a valgrind error on startup
c762865d66 AP_Mount: use configured function to determine if MNT_TYPE has been configured
5486be34b1 Copter: use configured function to determine if heli_servo_rsc has been configured
f0f5239d8f AP_L1_Control: use set_default for runtime param defaults
28f55766fd Copter: use configured to check whether radio has been calibrated
21e7d46944 RC_Channel: use set_default for runtime param defaults
39246c13ad AP_Param: add set_default, configured
87ea9acc7f AP_NavEKF2: Fix mavlink parameter label
1cf626692c AP_NavEKF: Reduce impact of altimeter flow disturbance error on Copter alt hold
e692e30988 AP_NavEKF2: Reduce allowance for magnetometer timing errors
4c5ba60578 AP_NavEKF2: Remove dead code
142aa59bce AP_InertialSensor: fixed vibration logging after recent changes
3dd47adafe Plane: fixed a condition where takeoff switches to land
537f22cdd1 Plane: changed thresholds for LAND_APPROACH
f9fbb8a0f7 Plane: restrict land_approach stage change with tighter criteria
ddc3988b4a Travis: add minlure target
9eaf7c5660 AP_HAL: add format attribute to panic()
2322b8014d AP_HAL: use common macro for printf formatting
dc95145de2 AP_Common: add attribute to sanitize prinf-like functions
3650eb468f AP_HAL_FLYMAPLE: Scheduler: implement variadic version of panic()
e2d1fab863 AP_HAL_Empty: Scheduler: implement variadic version of panic()
6027a02fe9 AP_HAL_SITL: Scheduler: implement variadic version of panic()
e9d92c446c AP_HAL_VRBRAIN: Scheduler: implement variadic version of panic()
f791767fb2 AP_HAL_PX4: Scheduler: implement variadic version of panic()
4b54bcbfad AP_HAL_Linux: use variadic panic()
2af4244854 AP_HAL_Linux: Scheduler: implement variadic version of panic()
ad61a93c14 AP_HAL: turn panic() into a variadic method
0b4aa5ac85 AP_HAL: Scheduler: reorder includes
55ac8f0230 AP_NavEKF2: Update parameter values.
1e7ac873b9 AP_NavEKF2: Improve handling of GPS loss and recovery for planes
cd5ec3a3e0 AP_NavEKF2: Reduce angle errors when flying without GPS
1eaf318b9b AP_NavEKF2: Faster learning of gyro scale factors
a2f5962f77 AP_NavEKF2: Reduce effect of baro disturbances
5eb7cf1fbf AP_NavEKF: Reduce roll/pitch disturbance when magnetic field is reset
5da7d6eac2 Replay: set INS_GYRO_CAL to never to avoid losing samples
79dee5aaa9 AP_HAL: fix warning due to missing prototype after HAL rework
b326856635 AP_HAL_Linux: fix warning due to limited storage
11b599bcd0 SITL: use #pragma once
288dc2a385 SITL: clean up includes
8a55b26443 SITL: no need to use #ifdefs
f27f8f2f5d Tools: include SITL only for SITL board
62d4c05a8e ArduPlane: include SITL only for SITL board
bf6d1afd59 ArduCopter: include SITL only for SITL board
bad68829ae APMrover2: include SITL only for SITL board
a3fb1c0e4f AntennaTracker: include SITL only for SITL board
e2fa456742 SITL: remove "constructor" comment
5ddd802320 SITL: use coding style in class declarations
f0a20cdc7c SITL: remove trailing whitespace
49a42dc985 SITL: use a SITL namespace
be8070e335 AP_InertialSensor: MPU9250: publish gyro raw sample rate
887f81274d AP_InertialSensor: MPU6000: publish gyro raw sample rate
31a49d318c AP_InertialSensor: PX4: publish gyro raw sample rate
25a499a41f AP_InertialSensor: use raw sample rate terminology
6feea5f64f AP_InertialSensor: Backend: remove function _publish_delta_angle()
7fef515555 AP_InertialSensor: unify delta angle calculation
4e83f7b02c AP_InertialSensor: PX4: don't calculate delta angle
9e05041234 AP_InertialSensor: allow publishing gyro raw sample rate to frontend
dfd671c54e AP_InertialSensor: Backend: add hook for new gyro sample arrival
a3e2c82491 AP_InertialSensor: Backend: remove function _publish_delta_velocity()
75fdac648f AP_InertialSensor: unify delta velocity calculation
f769a39449 AP_InertialSensor: PX4: don't calculate delta velocity
e502f353c1 Replay: handle df format changes - IMT vs IMU
44f42fe72d AP_NavEK: Reduce settling time after start-up disturbance
29aa7001bf build: add minlure target
cdaf67b749 AP_HAL_Linux: use PCA9685 for output in minlure
b75524a152 AP_HAL_Linux: use UART RC input for minlure
f915d2ff6f AP_Notify: don't define devices for minlure
f72a5614d5 AP_HAL_Linux: add I2C buses for minlure
959e061514 AP_HAL_Linux: add spi device for minlure
ed36ae9ef7 AP_InertialSensor: MPU6000: add rotation for minlure
386547427d AP_Baro: support MS5611 on second i2c bus
e6b942ffb0 AP_Compass: use HMC5843 behind MPU6000 for minlure
4992375bab AP_HAL_Linux: add GPIO definitions for minlure
8153f57f06 AP_HAL: add board definitions for minlure
7daa3201fd AP_HAL_Linux: add test for GPIO
cdf70f6fe5 AP_HAL_Linux: add GPIO_Sysfs
88146f1f02 AP_HAL_Linux: make board specific GPIO inclusions last
20e209120f AP_HAL_Linux: add support for RCInput through UART
6c017ffcb5 AP_NavEKF: Predict covariance more often to prevent instability on startup
63b42e0632 AP_Compass: Calibrator: make calculations for theta only once
f8433f82e6 AP_Compass: simplify calibration transition to COMPASS_CAL_RUNNING_STEP_ONE
f21ee7694a AP_HAL_Linux: don't use relative includes
eef4d5819f AP_HAL: HAL: don't use relative includes
74ccbdb6f7 AP_HAL: AnalogIn: add missing include
6b048b4045 HAL_SITL: use SimRover
05876b7e1b SITL: Changed Rover to SimRover
b08817554e AP_NavEKF2: Ensure consistent position and velocity fusion rates when not using GPS
1c347e8859 AP_NavEKF: Prevent high measurement data rates from overflowing buffers
d1a090dda8 AP_NavEKF: Fix bug fetching data from measurement buffers
aabb9b4e02 AP_NavEKF2: handle uncertain build type
e6312d91ce AP_NavEKF2: Correct variable name
4640673cb1 AP_NavEKF2: Fix bug causing incorrect fusion timing
6b687ea7bc PX4: try to start both hmc5883 sensors for FMUv1
4a8a24a1a2 AP_Compass: don't update last_update_usec for raw fields
695efb8df3 AP_L1_Control: added integrator to help xtrack error converge to zero
f7c73fbb13 AP_AHRS: remove AHRS_EKF_USE_ALWAYS define
05ae7858e8 Copter: explicitly ask for always using EKF
9d2e3157fe AP_AHRS: add a runtime flag for always using EKF
e87db31149 AP_AHRS: remove unused define
5db4549d79 Rover: use simple log entry numbers to download logs
07842e211d Plane: use simple log entry numbers to download logs
080c31c15e Copter: use simple log entry numbers to download logs
38ca9dee03 GCS_MAVLink: use simple log entry number to reference df logs
e481497574 DataFlash: delete oldest file rather than the lowest-numbered file
ab7148386c AP_HAL_AVR_SITL: Limit SITL compass reports to 100Hz
da9118fbd0 AP_Baro: average SITL baro measurements using update()
d276029e35 AP_BattMonitor: fix class name after rename in AP_HAL_Linux
2ac96b942c AP_HAL_Linux: remove prefix from AP_HAL_Linux classes
19b31ccff1 DataFlash: remove check for max compass instances
1a4a26de2b AP_Compass: remove check for max compass instances
4004d5bf34 AP_Compass: remove check for HAL_CPU_CLASS
36150348bb GCS_MAVLink: remove check for max BARO instances
d83609b24c DataFlash: remove check for max BARO instances
4d3229daa2 AP_Baro: remove check for HAL_CPU_CLASS
d1ac6cbd4c GCS_MAVLink: remove check for vibe check
121eeb4b58 DataFlash: remove check for vibe check
30a50b362f AP_InertialSensor: remove check for vibe check
db62e55753 AP_InertialSensor: remove check for max INS instances
ae77c4b692 GCS_MAVLink: remove check for max INS instances
f99d64e621 DataFlash: remove check for max INS instances
3114a988f8 AP_Arming: remove check for max INS instances
09f185eb5e ArduCopter: remove check for max INS instances
a147b97d2b AP_InertialSensor: remove check for HAL_CPU_CLASS
4480956c68 AP_InertialSensor: MPU6000: remove dead code for !FAST_SAMPLING
75add595a0 AP_HAL_Empty: remove empty example
5781164624 AP_HAL_PX4: remove unnecessary includes from example
22137b51e3 AP_PerfMon: remove unnecessary board include from example
ff13a7bf1f GCS_Console: remove unnecessary board include from examples
5ad8077016 AP_Parachute: remove unnecessary board include from examples
417651b1dc AP_Motors: remove unnecessary board includes from examples
1fc801c2c9 AP_ADC: remove unnecessary board includes from example
918a339660 AP_Declination: remove unnecessary board include from example
42a111f5df AP_Mount: remove unnecessary board include from example
de98ec7c1a AP_OpticalFlow: fix build of example for PX4
ae9bc62e84 AP_OpticalFlow: remove unnecessary includes from example
817248b2f5 AP_Airspeed: remove unnecessary includes from example
db1491f079 AP_GPS: remove unnecessary board includes from examples
d840fc0680 AP_Notify: remove unnecessary includes from examples
d51adf2523 AP_Notify: fix build of ToshibaLED_test in PX4
191cff2035 AP_InertialSensor: remove unnecessary includes from examples
118de8d01f AP_Mission: remove unnecessary includes from example
5d2279a554 AP_RangeFinder: remove unnecessary includes from example
6566deff66 AP_RangeFinder: fix compilation for Linux/SITL
4731f87683 AP_Common: add Makefile and clean up includes
a3169d0a34 AP_Compass: remove unnecessary includes from example
9b73fcb6f8 AP_AHRS: remove unnecessary includes in the example
24178c3e10 AP_Baro: remove unnecessary includes in example
b028219c94 DataFlash: remove unnecessary includes from example
03b0c76553 StorageManager: remove unnecessary includes from example
d32207008d Filter: remove unnecessary includes from examples
8e1e77007e AP_BattMonitor: remove unnecessary includes in example
9a2e0c2fd9 AC_PID: remove unnecessary includes from example
09579cb6e3 GCS_MAVLink: remove unnecessary includes
e8d9c4dc9b PID: remove unnecessary includes from example
36ffef97c0 CPUInfo: remove unnecessary includes
12850742f9 AP_Scheduler: remove unnecessary includes from example
b98bf2a65e AP_HAL: remove unnecessary includes from examples
c95a89411c AP_HAL_Linux: remove unnecessary includes in example
e36728d1db RC_Channel: make example compile again
01b11ba48f Hello: remove unnecessary includes
5020db4481 AP_Math: remove unnecessary includes
ef615a5da1 Replay: implement HAL::Callbacks
b648715496 AntennaTracker: implement HAL::Callbacks
06b2c966c1 APMrover2: implement HAL::Callbacks
db3e501aec ArduPlane: implement HAL::Callbacks
3e3f13659d ArduCopter: implement HAL::Callbacks
b29d6eff5d AP_HAL: add an AP_HAL_MAIN_CALLBACKS() macro
19b4ca60c4 AP_HAL: provide AP_HAL_MAIN()
e30457a84d AP_HAL_VRBRAIN: merge init() and run()
cb61bdd8d1 AP_HAL_PX4: merge init() and run()
e18884a328 AP_HAL_AVR: merge init() and run()
1649104382 AP_HAL_FLYMAPLE: merge init() and run()
3c22564307 AP_HAL_Linux: merge init() and run()
e4ef0e43c0 AP_HAL_SITL: merge init() and run()
0c837326b5 AP_HAL_Empty: merge init() and run()
6fc60e2d5e AP_HAL: remove unused init() from the interface
fe1dd1be25 AP_HAL_VRBRAIN: implement HAL::run()
0dab23c4df AP_HAL_PX4: implement HAL::run()
3fe1d86c80 AP_HAL_AVR: implement HAL::run() for APM1 and APM2
51bc25a2ab AP_HAL_FLYMAPLE: implement HAL::run()
32dc822470 AP_HAL_Linux: implement HAL::run()
c6292ff097 AP_HAL_SITL: implement HAL::run()
346ab77c27 AP_HAL_Empty: implement HAL::run()
72cd5ef185 AP_HAL: add run() method
ec52df991c build: compile only the HAL files needed by the board
2e464a53c2 AP_HAL: make code not depend on concrete HAL implementations
79d85f7e10 AP_AHRS: wait for up to 10 samples to get a valid accel vector
eac91430a2 AP_AHRS: update _dcm_attitude() on reset()
c35605fa04 AP_AHRS_DCM: align tilt during initialization
78af6d61de AP_Compass: only play compass cal cancel tone if a cal was running
3b480bd6ec AP_InertialSensor: fix order of accelerometer corrections
562db11159 AP_Compass: fix potential AP_Notify concurrency problem
3af4a7fee7 autotest: make CopterAVC use EKF2
cd8b9c7d26 AP_NavEKF: prevent high rate mag data locking out other data fusion
ab8c28a7cc AP_NavEKF: Fix bug allowing takeoff in GPS modes without aiding
e076ed7f66 AP_NavEKF2: Remove compiler warning message
b0aa7cb990 DataFlash: use new perf API
cb0f7cb370 NavEKF2: use new perf counter API
f66966ccae NavEKF: use new perf counter API
8dbb51c64e HAL_PX4: implement AP_HAL::Util perf calls for PX4
28fa05c965 AP_HAL: added generic perf counter
3f9d62d6b4 Copter: 3.3.1-rc1 release notes
1858a0544f Copter: guided takeoff checks auto-armed status
16bc7d8b2e Tools: fixed datestamp on compiler download
279a320f44 Tools: switch autobuild to 4.9 compiler
60c2e81d19 AP_NavEKF2: Apply optimisations to declination fusion covariance update
0054291cf4 AP_NavEKF2: Apply optimisations to side-slip fusion covariance update
5e4bc4e954 AP_NavEKF2: Apply optimisations to airspeed fusion covariance update
a29147d6d2 AP_NavEKF2: Apply optimisations to optical flow covariance update
b5e43288d4 AP_NavEKF2: Down to 12 from 14 usec for perf test[8]
0f530bb5a0 AP_NavEKF2: Correct comments
d1dfd5fd01 AP_NavEKF2: use common header for optimisation level and irq disable
a017ae7e00 AP_NavEKF2: down to 218us for test[9]
fc23be8025 AP_NavEKF2: enable fine grained perf tuning for mag fusion
b6c1352e4c AP_NavEKF2: added 10 test perf counters
824436dfb6 AP_NavEKF2: Explicitly define constants as floats
2fbd050418 AP_NavEKF2: Use blended accelerometer data
240ea92947 AP_NavEKF: Re-center gyro bias limits on arming
8515dda727 AP_NavEKF: Fix bug in vertical position derivative calculation
2b13020c19 AP_NavEKF2: Fix bug in vertical position derivative calculation
f6ad79688e AP_NavEKF2: Update start sequence console messages
6b3e114cd6 AP_NavEKF: Enable EKF1 to be disabled to reduce frame over-runs
1a1236f764 AP_NavEKF2: Update magnetometer fusion documentation
8526a8ba7e AP_NavEKF2: Level processor loading between frames
225b81baf4 AP_NavEKF2: Prevent users breaking filter by setting excessive time delays
a1d6c7ae1e AP_NavEKF2: Improve timing accuracy
e0ed2dab63 AP_NavEKF2: Adjust IMU FIFO buffer for different IMU data rates
baa8692960 AP_NavEKF2: Allow use of magnetometer learning during optical flow nav
1b8a93ef0c AP_NavEKF2: Update function header comments
6899767d28 AP_NavEKF2: Disable magnetic field learning if we have no absolute position reference
75a61df627 Copter: Enable access to EKF2 height tuning
d0aba09503 Copter: Access EKF healthy through AHRS object
19785c1033 Copter: Access EKF origin through AHRS object
7c6b31b585 Copter: Access EKF variance checks through AHRS object
0722ebe8a0 AP_AHRS: Add EKF variance checks
242b9641c8 AP_NavEKF2: Fix in-air logic bug
e7de2d3ea3 AP_NavEKF: Update magnetic field learning options
495809f211 AP_NavEKF2: Allow magnetic field learning to be faster
84a02efd52 AP_NavEKF2: Improve efficiency of Z magnetometer fusion
35b08849f7 AP_NavEKF2: Reduce effect of rounding errors on covariance prediction
4e928bf294 AP_NavEKF2: Fix bug preventing pre-takeoff reference measurements
71c399674a AP_NavEKF2: Delay use of magnetic field states until off-ground
99c2dc41e0 AP_NavEKF2: Miscellaneous tuning changes
2d44441d6b DataFlash: Make EKF2 PosDownDerivative interface follow coding conventions
ae830b44c4 AP_AHRS: Make EKF2 PosDownDerivative interface follow coding conventions
840f307d58 AP_NavEKF: Make EKF2 PosDownDerivative interface follow coding conventions
1323db10e8 DataFlash: Make EKF2 PosDownDerivative interface follow coding conventions
e8037f94ad AP_AHRS: Make EKF2 PosDownDerivative interface follow coding conventions
47ae0f35f6 AP_NavEKF2: Make EKF2 PosDownDerivative interface follow coding conventions
f63c32531c AP_InertialNav: Address peer review comments
58d57994f4 AP_AHRS: Rectify coding errors found during peer review
27393855f1 AP_NavEKF2: Change assumed gyro calibration accuracy
67a669fcdc AP_NavEKF2: Correct comments for height measurement
0dc570b5a5 AP_NavEKF2: Improve optical flow takeoff detection logic
d3a6690e4f AP_NavEKF2: Fix bugs preventing use of optical flow navigation
24c0309e85 AP_InertialNav: Enable flight using EKF2
e65ae51564 AP_AHRS: Enable AP_InertialNav to access all EKF functions via AP_AHRS
f062ed4180 AP_InertialNav: Add output method for rate of change of vertical position
dab658f6ed AP_NavEKF: Add methods to output and calculate vertical position derivative
9e3d9d15fc DataFlash: Log vertical position derivative output
52fd369b2f AP_NavEKF2: Add methods to output and calculate vertical position derivative
a39b341308 PX4: clean out .d dependency files from uavcan on px4-cleandep
f5b5a3b0f8 AP_NavEKF: added EKF_DISABLE_INTERRUPTS
7ae5d3220a PX4: allow up to 1300 bytes frame size
10fddf4c7e AP_NavEKF: enable optimisation level 3 for the EKF
c9ec8b3f67 AP_Math: added O3 optimisation to core math libraries
2ae0811458 AP_NavEK2: fixed perf counter names for EKF2
756d564b7c Mission: sanity check command altitudes
acd8252e4b Common: add location alt max definition
d03489263d Copter: remove gyro cal on first arming
b751d2bb18 InertialSensor: remove gyro cal on first arming
2ea23d66b0 PX4: use -fsingle-precision-constant for PX4 APM build
598925f8d2 Copter: EKF failsafe action always Land if RC failsafe active
6d266d2063 Update 3DR_X8-M_RTF.param
7c0239e59c Update 3DR_X8+_RTF.param
11ae5a64d0 Update 3DR_Iris+.param
4e220284e0 PX4: allow I2C airspeed sensor on either bus
073828a764 Plane: add ahrs health pre-arm check
09aef3a3b8 AP_Arming: remove ahrs check from ins
53b39b201b AP_Arming: make ins check virtual
304a23923a AP_Arming: add Bitmask parameter description
0cc4b6977e AP_Arming: add compass consistency check
342651cc9b AP_Arming: add board voltage checks
f5f31e4b31 AP_Arming: move ahrs health check after Accel/Gyro checks
0a21fe65e9 AP_Arming: do not report prearm_failure_reason when ahrs unhealthy
78c6287f95 AP_Arming: check health of all barometers
c716bfce88 AP_Arming: remove most exclamation marks
6b91beb3ff AP_Arming: formatting changes
6f36267a66 AP_NavEKF: fixed EKF error message during 10 second warmup
9889f826b3 AP_HAL_Linux: RCInput_UDP: Fix compiling warning
e6f0ba6c8b AP_HAL_Linux: Compile RCInput_UDP in all Linux boards
a4690a7b0a SITL_State: fixed _set_param_default
c581a702a0 ArduCopter: Fix typo: auxiliar to auxiliary
30610fb17d AP_InertialSensor: Remove misspelled and unused method
3888579c07 AP_Compass: HMC5843: Use the correctly spelled method
daa32725ac AP_InertialSensor: Fix typo: auxiliar to auxiliary
c53e9d1ff0 AP_Baro: Fix typo
9a98eb35fc AP_Baro: Add MS5637 over I2C to init()
6215a3d224 AP_HAL: Add MS5637 over I2C to the supported barometers list
c373ce34d1 AP_Baro: MS56XX: Some minor fixes
d9931b5f34 AP_Baro: Add support to MS5637
6bdeae97b6 Compass: update param descriptions
131536a3a7 Compass: resolve compiler warning
35769035d4 AP_NavEKF2: resolve compiler warning related to init order
0caaef7394 AP_Compass: mention mag field unit in existing documentation
9927cf066f AP_Compass: remove use of milligauss_ratio
b603641d7c AP_Compass: AK8963: fix where to apply sensitivity adjustments
6198e81bb3 AP_Compass: AK8963: scale mag field internally
256c9c06c9 AP_Compass: HMC5843: scale mag field internally
814442563e AP_Compass: HMC5843: fix _calibrate()
88a1a928e9 AP_Compass: remove get_{field,offsets}_milligauss() functions
f0dee75ab3 GCS_MAVLink: use compass get_{field,offsets}() functions
363f9cf82a DataFlash: use compass get_{field,offsets}() functions
2cc07d2899 ArduPlane: use compass get_{field,offsets}() functions
fb5320bb25 ArduCopter: use compass get_{field,offsets}() functions
7c725bb59e APMrover2: use compass get_{field,offsets}() functions
afccf615d5 AP_NavEKF: use compass get_{field,offsets}() functions
99a55f9379 AP_Compass: use compass get_{field,offsets}() functions
9a2808a593 AP_Arming: use compass get_{field,offsets}() functions
84f811fe76 AP_AHRS: use compass get_{field,offsets}() functions
4375606eeb AP_Compass: make get_field() and get_offsets() return milligauss
e357be3d85 LogAnalyzer: adjust for change in vehicle definition MSG string
0c61e09b70 AP_NavEKF2: Critical big fix - states not initialised
e3013b493b AP_NavEKF2: Critical bug fix - perf counter not initialised
9b80ab18ae Copter: position_ok when optical flow ok
b068f51c45 SITL: update copter_optflow params
82d36520ad LogAnalyzer: fix for 64-bit ints
4f01aaf5e3 AP_Arming: fixing up some ARMING_CHECK param doco
f49aedb639 LogAnalyzer: turn times from strings to ints before doing maths
3479a0e209 AP_NavEKF: Prevent blocking of synthetic position fusion
a895b16fa6 AP_NavEKF: Prevent GPS glitch activating EKF failsafe
fd0a442c92 autotest: added a timeout check
461eff25d5 Rover: Fixed a build issue on Windows with the new RPM library
f3cbbef418 Copter: fix guided attitude type_mask check
a142688fea Copter: guided attitude timeout to 1sec
a82c8b241f DataFlash: Update NKF4 data logging
20a3f9782e AP_NavEKF2: Add full set of selectable pre-flight GPS checks
f451a81ef9 AP_NavEKF: Add missing GPs check report
a3a1dabb94 AP_NavEKF: Update GPS check description and default setting
db4dfce7b1 AP_NavEKF2: Add fix status to GPS check report message
ef5049862a AP_NavEKF: Add fix status to GPS check report message
ba6387f206 DataFlash: Add logging of EKF GPS check status
5177746c00 AP_NavEKF: Add reporting of GPS check status
22920aafad AP_NavEKF2: Improve GPS status reporting
d0080b66cd AP_NavEKF: Define a structure for reporting of GPS checks
1cb2220107 AP_NavEKF2: Critical Bugfix
f467a89fa3 AP_NavEKF2: Update comments for filter status output function
b142cc7fd2 AP_NavEKF2: Rename files and re-distribute content
1ce3276d74 AP_NavEKF2: split EKF control and output get functions from state specific libs
2e388fb2f9 AP_NavEKF2: split otp flow from PosVelNED
290ea0e1e8 AP_NavEKF2: split up EKF_core into different files
b5abab9d37 AP_GPS_GSOF: minor tweak to avoid warning
7c631d860f mk: fix list of warnings for board_native
e20038a453 Copter: support SET_ATTITUDE_TARGET in guided mode
3af95cc3da scripts: add catkin_pkg and python-empy to Ubuntu prerequisites
d93200f3b1 Linux_HAL_Essentials: Update README.md
2b0434f089 AP_NavEKF: Improved detection of GPS glitch behaviour
d48d4ac950 AP_NavEKF: Add GPS glitching monitor to EKF status report
8a9d9c04c5 AP_NavEKF: Add public function to declare GPS glitch
21e4910149 AP_NavEKF: Allow user to select preflight GPS checks
cdae84aec1 AP_NavEKF: Additional pre-arm GPS quality checks
041dd3c855 Frame: new Bebop default parameters
8a66c9c2ed AP_NavEKF: Critical Bugfix
825abdbedc Compass: example sketch displays in milligauss
d3066fcdad GCS_MAVLink: send compass vector to GCS in milligauss
e9254ca1a9 DataFlash: log compass as milligauss
2deaf5280e RangeFinder: add User to param descriptions
b37c52f7a3 AP_InertialSensor_MPU6000: Add heat support
f231182cd9 AP_HAL: Add support for a Heater
ffbb892a01 AP_HAL_Linux: add support for a pwm heater
1aadcdf538 AP_InertialSensor_MPU6000: read temperature
af4ad01f23 DataFlash: make CAM a critical message
8ec9ab6ad3 AP_GPS: add SBF and GSOF to gps documentation
0fceb76493 AP_GPS_GSOF: add trimble gsof driver
18589f1ec7 Update README.txt
0dad58ae8b AP_HAL_Linux: RCOutput_Bebop: group writes
24f41538cb AP_HAL_Linux: RCOutput_PCA9685: group writes
f43f6c53f7 AP_Motors: Group writes to motors
fb643fbb53 AP_HAL: RCOutput: add methods to allow grouping writes
ddb8e67954 AP_Compass: Add support for more then one AK8963
22af74bfe6 AP_Menu: Fix warning
1c46205c2b AP_HAL_Linux: fix warning
6145794da2 AP_Math: remove duplicate RADIUS_OF_EARTH definition
c4f1cf2a64 SITL: add Karuizawa to Locations
cde140354a AP_NavEKF2: Clean up control logic
f4db78fc11 AP_NavEKF2: Allow for larger gyro bias errors
325f4139fe AP_NavEKF2: Clean up mode change logic
ef624199f9 AP_NavEKF2: Enable GPS velocity fusion to be inhibited
012b632d09 Tracker: send home position when home is set or get-home msg received
17ed125e41 Plane: add no break comment to suppress compiler warning
32c5b0e63c Plane: support set_home_position message
d54e28e129 Plane: send home position when home is set or get-home msg received
93b0dd4d61 Rover: add no break comment to avoid compiler warning
836fff2119 Rover: send home position when home is set or get-home msg received
1dcf58bc20 Copter: support set-home-position message
330961b524 Copter: send home position when home is set or get-home msg received
9b96a2c385 GCS_MAVLink: send_home and send_home_all methods
88f32bc86f GCS_MAVLink: version update after generate
544220b599 GCS_MAVLink: generate after importing home-position messages
b84b069080 GCS_MAVLink: home-position message defs from upstream
53716f9022 Git: update gitignore for way.txt
d3e8e8fd43 AP_InertialSensor: disable backend's copy constructor
a58bb0fc32 AP_InertialSensor: MPU6000: Fix using copy instead of reference
aa4d16622e HAL_Linux_Class: Init spi before rcin & rcout, because raspilot rcin & rcout use spi.
831bb554e7 AP_Baro_MS5611: suspend timer when init to prevent other SPI drivers grabbing the bus.
ba4db34c83 AP_Baro: Prevent busy waiting
5dc18b9a54 HAL_Linux_Class: Fix the broken declare of "LinuxUtilRPI utilInstance" at building raspilot.
1a2b5ff677 AP_Compass: AK8963: Remove unused AP_HAL::Semaphore attributes
a9d34ac3bd AP_Compass: AK8963: Rename some SPI/I2C method parameters
3d7ec3704d Mount: add param descriptions to allow RC9 ~ RC12 inputs to be used to control gimbal
e938075581 AP_MotorsCoax: get rid of _motor_to_channel_map
ec4ebfde83 AP_MotorsSingle: get rid of _motor_to_channel_map
537599c01b AP_MotorsTri: get rid of _motor_to_channel_map
1572c9d4f4 AP_MotorsMatrix: get rid of _motor_to_channel_map
43268b9822 AP_MotorsHeli: get rid of _motor_to_channel_map
7ea141b774 AP_Motors_Multi: get rid of _motor_to_channel_map
d97d97dc54 AP_Motors: get rid of _motor_to_channel_map
139b88f544 AP_HAL_VRBRAIN: remove unused write method
7d9c75478f AP_HAL_SITL: remove unused write method
ce674f6926 AP_HAL_PX4: remove unused write method
191ec10554 AP_HAL_Linux: remove unused write method
9b4be3bf74 AP_HAL_FLYMAPLE: remove unused write method
302252d096 AP_HAL_Empty: remove unused write method
f1e53a9bdd AP_HAL_AVR: remove unused write method
666dc3e440 AP_HAL: RCOutput: remove unused write method
a5cc0be531 AP_HAL_FLYMAPLE: remove the only user of multiwrite
26329c5a03 Copter: 3.3 release notes
fd5d449210 autotest: enable EK2 for autotest
b9aad88d17 SITL: moved ignition to channel 6
64410b10fb Rover: use ahrs.send_ekf_status_report()
38bae40ca0 Copter: use ahrs.send_ekf_status_report()
213bed99e1 Plane: use ahrs.send_ekf_status_report()
232fc8a64d AP_AHRS: added send_ekf_status_report()
7ba6f92eb5 AP_Common: give some type safety to ARRAY_SIZE macro
617626f9f5 Plane: log flight_stage
9ed6e6afa4 Copy paste errors and naming issues in documentation help.
017ebc440b Plane: added SENSOR_RC_RECEIVER reporting in SYS_STATUS
e0810c2e54 AP_RSSI: fixed doc prefixes for RSSI variables
53e58f1075 AP_NavEKF2: Update default parameters
73686dfa89 DataFlash: fix error in NKF descriptor
2fb72b6e6a AP_NavEKF2: Clean up loss of GPS logic
df0eb9d9d7 AP_NavEKF2: Don't run GPS checks when not required
1986af021f AP_NavEKF2: Remove un-used flight mode and duplicate variable
7230472516 AP_NavEKF2: Adjust parameter defaults
8bcedb228b AP_NavEKF2: Bring pre-flight GPS checks up to date with EKF1
5cb088fe14 Copter: pass display_failure to AP_Motors heli check
f22a1d3e6d AP_Motors: display message in heli parameter_check()
94eb23ef56 Copter: consider flight to be dynamic at greater than 2m above ground
49ee4b7965 Copter: tell motors library when to use acro gyro gain
9da2b2b430 AP_Motors: added H_GYR_GAIN_ACRO
ac363c5447 AP_RPM: added RPM_MAX parameter
e3f7b002c2 AC_AttitudeControl: use non-flybar leaky I handling
1c26ed0fca Copter: fixed deadzone handling for external tail gyro
458e967d06 Plane: added RPM logging
cdd4570f02 Copter: fix init order of ekfYawReset_ms
317779f976 Copter: check_ekf_yaw_reset uses ahrs method
e47175862a Copter: use modified getLastYawResetAngle function
9f59b6f7b5 AP_AHRS: getLastYawResetAngle returns reset time
015f700bc0 AP_NavEKF2: getLastYawResetAngle returns last reset time
b5c49e0792 AP_NavEKF: minor comment fix
51fb13a329 AP_NavEKF: fix getLastYawResetAngle to return yaw reset system time
06c0ad987e AP_AHRS: fixed divide by zero in SITL
6cf1c5fdd6 Tools: add raspilot to travis builds
fc2a1d27b4 AP_HAL_Linux: fix build for raspilot after Util change
55e1d60b54 AP_HAL_Linux: Use from() method for downcast in Util class
cf6e6b7e82 DataFlash: Remove stale UBX3 message
75c0644b9a AP_GPS: Use state.instance instead of trying to track instance numbers inside of the ublox driver
5adb6d2b89 AP_GPS: Support UBX messages for dual UBLOX GPS setups. Add extra DOP information to UBX precision messages.
eee9522ca5 AP_Compass: Add MPU9250 multiple instance support
840f583d23 AP_InertialSensor: Add MPU9250 multiple instance support
15b3717d89 AP_HAL_Linux: Move RPi version check to util class
2590db378a AP_HAL_Linux: remove extra spaces in RCInput_Navio
e96a1bae8a AP_HAL_Linux: cleanup pointer casts in RCInput_Navio
80e182f827 AP_NavEKF2: Update EKF2 data logging
86ad1e6e66 DataFlash: Update EKF2 data logging
f77bdd90fc AP_AHRS: Update EKF2 data logging
4acd6c129a AP_NavEKF2: Update parameters
9c5e48e7e9 AP_NavEKF2: Remove unused variables and improve variable names
4a7714e15d AP_NavEKF2: Remove unused parameters and improve naming consistency
8afb26087d AP_NavEKF2: Remove unused function
02408861a1 AP_NavEKF: Remove unused function
c14dbcfc44 Plane: set version to 3.4.1dev
38d51ddb32 Plane: prepare for 3.4.0 release
643178fbe3 Replay: handle EKF2 replay
fe76662faf AP_NavEKF2: added set_enable() API
ba8e63d8e7 DataFlash: handle unitialised EKF2 in logging
dde8330077 AP_AHRS: rename using_EKF to active_EKF_type()
f270573acc AP_NavEKF2: Use library functions for quaternion corrections
2470cf0e76 Copter: use resetHeightDatum() and getLastYawResetAngle()
f9348887c5 AP_AHRS: added getLastYawResetAngle() and resetHeightDatum()
0677c2c80c AP_AHRS: run astyle for formatting
cbc62238a9 AP_NavEKF2: run astyle for reformatting
7a3b59652f GCS_MAVLink: show EKF2 status via AHRS3 message
ce9fa45b3a DataFlash: added logging of EKF2
13f72e5ba9 AP_AHRS: expose EKF2 for logging
760dafbb9d AP_NavEKF2: added enabled() function
b71678b901 Replay: fixed build with NavEKF2
277f2f3b27 Tracker: added EKF2 instance
7ba45444a2 AP_AHRS: added selection of EKF type using AHRS_EKF_TYPE
ed25c85d21 AP_AHRS: added NavEKF2 to constructor
b4555f30a5 AP_NavEKF2: added frontend calls to core code
3ac75aeffb AP_NavEKF2: added EK2_ENABLE parameter
91f990af06 Plane: added EKF2 to parameters as EK2_*
053194fd51 Copter: added EK2_* parameters and EKF2 instance
3dcb840816 AntennaTracker: build NavEKF2
5cac948ed0 Rover: added EK2_ parameters and EKF2 instance
f500474a86 AP_NavEKF2: initial import of new maths EKF
583c1fc229 GCS_MAVLink: Add "Abort Alt" description to NAV_LAND mission item p1.
fa5fb0a56a mk: ERLEBOARD add targets and help
3b5d73b1fe AP_Baro_MS5611: Fix state machine in case of error
17f9712254 PX4Firmware: submodule update
0ed7f94bfc AP_HAL_SITL: use method for downcast
6c19f741df AP_BattMonitor: use method for downcast
294298ea34 AP_InertialSensor: use method for downcast
54c2c5f682 AP_HAL_Linux: use method for downcast
0d26252bdb AP_Terrain: don't allocate cache array when terrain not enabled
96d6b8eb61 Copter: 3.3-rc12 release notes
e2fde36ec6 AP_NavEKF: index out of range due to incorrect assignment
d2b103b323 AP_SmallEKF: replace incorrect quaternion rotations with library call
0592bd4e6f Plane: update release notes
b735999848 Plane: prepare for beta3
eabdee2b3c DataFlash: only log two rangefinders
5800f0c884 AP_RangeFinder: default to two rangefinders
803ca92f73 Replay: remove INS start style
b6229288a1 Tracker: calibrate gyros on accel cal and trim
7f0aad63b9 Tracker: remove INS start style
bcc87a9a3b Rover: replace SKIP_GYRO_CAL with INS_GYR_CAL
6da53ae3b2 Plane: replace SKIP_GYRO_CAL with INS_GYR_CAL
57c5840f0d Copter: add EKF attitude arming check
f3d4b20a80 Copter: calibrate gyros during accel calibration
01c0b20930 Copter: calibrate gyros depending on INS GYR_CAL parameter
5c32bb8858 AP_NavEKF: Add pre-flight check for gyro quality
73e7e64bb8 AP_Arming: remove unused set_skip_gyro_cal
87cada1d54 Scheduler: remove INS start style from example sketch
b5e1ad89b3 AHRS: remove INS start style from example sketch
ada26082ca InertialSensor: remove INS start style from example sketch
ec82aa68c4 InertialSensor: add GYR_CAL to control when gyro calibration occurs
038ad31f81 AP_HAL_FLYMAPLE: Add support for using SPI devices of the same type.
07d50b5fbb AP_HAL_Empty: Add support for using SPI devices of the same type.
f48bdc281f AP_HAL: Add support for using SPI devices of the same type.
93941c3349 AP_HAL_Linux: Add support for using SPI devices of the same type.
8f1471c137 DataFlash: leave room in buffer for non-startup messages
63a45000b4 DataFlash: take log messages after putting FMTs out
a15d27194c Scripts: JSBSim now runs when user selects HIL mode in sim_vehicle.sh
9e7c38b933 Plane: moved logging of mode to Log_Write_Vehicle_Startup_Messages
42ed989da0 Rover: log mode in dataflash callback
d019f83bee Plane: allow for higher roll limits on takeoff
004c5b8416 Copter: mission_start always restarts mission
1b5e6849d9 AP_Compass: fix milligauss code in LSM303D driver
2c62a3a1c5 Rover: Adding Logging of RSSI data.
2085156a07 Plane: Adding Logging of RSSI data.
985be6dd86 Copter: Adding Logging of RSSI data.
ce6fe0e746 AP_RSSI: add enabled method
f633733b3b AP_RSSI: make parameters private
9a648117a7 AP_RSSI: use is_zero and add break for avoid compile warning
1369179046 AP_RSSI: formatting fixes
4dcf6b8dc3 DataFlash: Adding Logging of RSSI data.
0f55b2a0eb Copter: replace vehicle compass consistency check
8cfde42e15 AP_NavEKF: Ensure bad mag data cannot cause the heading to reset too often
930f730612 AP_NavEKF: Reset mag and heading states to try and pass pre-flight checks
fff5ec09eb AP_Compass: fix consistent check for less than three compasses
87bbf1a487 AP_Compass: add consistent() function
39340e70f8 Math: add Vector2 is_zero method
094b9cb35e AP_TECS: reformat using astyle
86e8c7ed2f Plane: add some safety to detect bad lidar readings
36432e6515 AP_TECS: use climb rate filter consistently between DCM and EKF
97b901a5fb Rover: Support do_digicam_x via command_long
7365701d13 Plane: Support do_digicam_x via command_long
30ed2508d6 Copter: Support do_digicam_x via command_long
bc06d67645 AP_Camera: fix configure command id sent to components
8391764c60 AP_Camera: add support for do_digicam_x via command_long
9a76f0ecf0 Plane: Fixing FS_SHORT_ACTN parameter doco
b2751d876c AP_AHRS: Fixed spelling error in parameter desc.
417188d7eb APM_Control: Fixed spelling error in parameter desc.
f871f040fb scripts: Adding AT to autotest build
69a65a7234 autotest: Adding AntennaTracker to build and test results
5602e4055b AP_Compass_AK8963: Fix Rotation on the Bebop
6b22a59eff Plane: Fixing up the ARMING_ parameters autogen doco
3eaed29e38 PX4Firmware: submodule update
64d1f378b5 build: speedup PX4 build
fa9ff5b604 AP_Compass: added parameter for compass calibration fitness threshold
eea54c9e09 DataFlash: fixed flymaple build
5aa54be718 GCS_MAVLink: send SCALED_PRESSURE3 for 3 baros
afe1fce94e GCS_MAVLink: regenerate headers
91623322f9 GCS_MAVLink: added SCALED_PRESSURE3
a5462fec0b AP_Baro: allow selection of primary barometer and add 3rd baro
61441ab35d HAL_Linux: fixed apm2 build
bf001f19ff HAL_Linux: don't panic on runtime failures
582318448f AP_HAL: make new GPIO functions optional
e0db1ad93e AP_Notify: added support for raspilot LED
9f91eb020e AP_HAL_Linux: new files for raspilot
30a2fe0857 AP_HAL_Linux: added scheduler hooks for raspilot
25cddbcbaa AP_HAL_Linux: added SPI support for raspilot
7d329205ec AP_HAL_Linux: added tonealarm support for raspilot
a6736d8e61 AP_HAL_Linux: fixed ublox debug message
444081d38d AP_HAL_Linux: added support for raspilot objects
f057fe3d02 AP_HAL_Linux: added support for raspilot GPIO
9a73df1bea AP_HAL_Linux: added support for raspilot RCInput
0134d105bf build: added support for raspilot
1421cf600a AP_InertialSensor: added support for raspilot
309e75f9ac AP_Compass: LSM303D: use c++11 initializer to avoid Wreorder
3a017c8702 AP_Compass: LSM303D: rename members to follow convention
19b4f5559a AP_Compass: added LSM303D driver
6df83f46c5 AP_HAL: new GPIO APIs
dcc7cf2739 AP_HAL: raspilot board type
76aa1a9704 SITL: ensure zero rotor speed with ignition off in gas heli
9346596949 autotest: allow for multiple heli frame types
6fbe88ba3a AP_GPS: improved fake ublox to give enough for EKF health
e87139eb32 AP_GPS: fixed a build warning
d43d070e75 Plane: ensure throttle reverse is obeyed in all states
5c055220f5 Plane: cope with bad values of ARMING_REQUIRE
43ac3f86c5 DataFlash: added RNFD logging and 3 baros
8538aa9840 AP_Rangefinder: allow for up to 4 rangefinders
73f454133b Plane: log RFND packet for multiple rangefinders
1f287da70b Tools: first draft Parrot Bebop parameters
a403e5aef0 Copter: fix severity of super simple message to GCS
6c74981010 Copter: report simple mode status to GCS as text
3a7036fd67 Copter: pass LANDING_TARGET message to precland lib
9fe3abf5ca Copter: precision landing uses sonar alt if available
58b7bf1588 AC_PrecLand: add companion computer implementation
2f92876865 AC_PrecLand: remove const from get_angle_to_target
21ac12f1c3 AC_Precland: bug fix to update ef angles only with new readings
db8f28f2aa GCS_MAVLink: version update after generating LANDING_TARGET
3aa0063f31 GCS_MAVLink: generate after updating LANDING_TARGET msg
eba8dcffde GCS_MAVLink: update LANDING_TARGET from upstream mavlink
cf6d0db0f1 Copter: 3.3-rc11 release notes
d07d2f3a46 AP_GPS: removed UBX3 message
c5cd310818 DataFlash: added GPA and GPA2 messages for GPS accuracy
c59bdc12df AP_Compass: fix the milligauss handling
3699932417 AP_Compass: fixed SITL compass
f1322252ae GPS: fix GNSS_MODE param descriptions
684dfaf26f DataFlash: fix OSX build
88cf710f94 AP_GPS_SBF: add accuracy estimates
1103451d36 Copter: ensure 10% free space when initialising logging
d6e380496c Rover: ensure 10% free space when initialising logging
3c0355e9e2 Plane: ensure 10% free space when initialising logging
60010e794e DataFlash: ensure 10% free space when initialising logging
8efc02fe0c Copter: delay for 200ms instead of 50ms before reboot
1fbdf11eca Copter: set firmware_update flag instead of event
95c66a794e AP_Notify: sync oreoleds before a reboot
a887c1d1f2 AP_Notify: fix oreoled race causing startup flicker
d48f1b0ccf AP_Notify: oreoled - remove dangerous send_bytes
662a3aa4cb AP_Notify: oreoled - always use full brightness
d205de2d7e AP_Notify: use new macros for white/red pattern
872e6769b0 Notify: change firmware_update event to flag
068cdfe6a3 Notify: workaround for OREOLED problems
5085fd025d mk: start oreoled driver before batt_smbus
cde4e582cd mk: only update oreoled firmware if required
93672add06 mk: always update oreoleds
cdced64e27 mk: oreoled firmware v1.3
a88e10d3a0 DataFlash:  Log vDOP with GPS messages.
9f02834f6d AP_GPS: Broadcast vDOP data over mavlink
0e3a188f6f AP_GPS: Read the vdop information from a ublox GPS
f9a1102e96 DataFlash: correct compilation for new DataFlash signature
a2f1bf581a DataFlash: fix test for SITL and linux
b1ce6136c4 DataFlash_test:make it works with pixhawk2
18ec6aa7b4 Tools: gittools: add git-subsystems-split
fea8299ff3 Tools: gittools: add git-commit-subsystems
c2a940ddea Tools: gittools: add scripts that list subsystems
bd7c313bee AP_Compass: fixed Compass::get_raw_field()
375724b319 Arming: use milligauss as compass units
db94c8d53d Plane: make Plane use milligauss
8bb7e2d4b0 Rover: make Rover use milligauss
68e0d57998 Copter: make Copter use milligauss
4b948f5bb1 AP_AHRS: make DCM use milligauss
b5b6d767bd AP_NavEKF: make EKF use milligauss
e93ff44a97 AP_Compass: make a transition to milligauss in Compass library
693613aa0f AP_Compass: convert AK8963 measurements to uT
c207d8c6a8 AP_Compass: add milligauss counterparts to get_field() and get_offsets()
4431b33686 mk: ERLEBOARD legacy support
5036be6771 Linux_HAL_Essentials: ERLEBOARD legacy support
6d762f62b3 AP_InertialSensor: ERLEBOARD legacy support
728921f7c5 AP_HAL_Linux: ERLEBOARD legacy support
b87fd58214 AP_HAL: ERLEBOARD legacy support
c5c74eebfc Plane: Using the existing function to check for throttle failsafe
571b4478fd Rover: Using a new method to check for throttle failsafe
122e88dbed RC_Channel: remove the unused test function get_failsafe
a1b96f659b Plane: Fixing issue 302
f5c7ac7a00 Rover: Fixing issue 302
dd22b19ddd mk: add 'upload' target to copy fresh ELF to Linux board using SCP
d4daf19151 AP_Math: Move simple math function implementations to header for better compile time optimization
fc2c94f78f Plane: utilize NAV_CONTINUE_AND_CHANGE_ALT for land abort
036e1fff12 Plane: a bit more caution in unsuppressing throttle pre-takeoff
fe083c8ffa Plane: consider extended launch throttle delays
4f46c5331a Plane: added time for flying in any mode
a3c51698cb Plane: fix throttle when restarting mission in-flight with takeoff
0cc165308d Plane: use 4 degrees if zero takeoff pitch
953efa9b6c Plane: fixed parameter docs for LAND_ABORT_THR
d36ee786e4 Plane: init hold_course in do_takeoff
25da4ec0ea Plane: added flight stage FLIGHT_LAND_ABORT and abort mechanism
cb20325593 AP_Mission:  added flight stage FLIGHT_LAND_ABORT
46a83c7ae9 AP_TECS: added flight stage FLIGHT_LAND_ABORT
0961e1d907 AP_SpdHgtControl: added flight stage FLIGHT_LAND_ABORT
d9a4b6b089 AP_HAL_Linux: Allow PCA9685 to be used on non-default I2C addresses.
9d9e6d0b34 AP_HAL_Linux: Only use enable pin for PCA9685 if we need to.
21b9f96ce3 AP_HAL_Linux: Enable use of all 16 channels for non-Navio PCA9685.
e734e9745d Plane: TKOFF_TDRAG_SPD1 is needed if holding nose wheel down.
6e55b44b63 Plane: change NAV_CONTINUE_AND_CHANGE_ALT behavior
4771d19073 AP_Math: added locations_are_same(loc1,loc2) helper
1026e7df45 AP_Mission: updated comment
6afb3895c0 AP_RangeFinder: added doc strings for new rangefinder types
cbd43ee6ea HAL_PX4: added hal.i2c support on PX4 boards
da2ad49276 Replay: fix for changes to AP_RangeFinder API
b87ed96825 Rover: fix for changed AP_RangeFinder API
f2b0f8f4db AntennaTracker: fix for changed AP_RangeFinder API
d6b244670b Copter: fix for changed AP_RangeFinder API
0a66fcce20 Plane: fix for changed AP_RangeFinder API
80c85a2c3f AP_SerialManager: added enum for serial lidar
7d30ce2e36 AP_RangeFinder: added lightware serial rangefinder
0ca534bfab AP_NavEKF: only call calcGpsGoodToAlign if we need to
dff9fe9cb2 Copter: use prearm_failure_reason()
7e13edd4c7 AP_Arming: use prearm_failure_reason()
c10ce3ffbd AP_NavEKF: added prearm_failure_reason()
c18c6d894e AP_AHRS: added prearm_failure_reason()
05192ea9ab Plane: added severities to send_statustext_all
d7a7741d15 APM_OBC: added severities to send_statustext_all
b65739a8cc AP_Arming: added severities to send_statustext_all
bc4d37c91e GCS_MAVLink: added severity to send_statustext_all()
f92f46ee99 Plane: update for changed AP_Arming API
c48bef1552 AP_Arming: removed the need for the GCS print function
f3e8819d1e GCS_MAVLink: make send_statustext_all() take a format string
f953f03916 Plane: Fixing issue 327 - reporting Baro alt instead of GPS
90b48fe46a Rover: Fixing issue 327 - reporting Baro alt instead of GPS
00e6cd40e5 scripts: Support to build for frame specific tags
0129110502 Copter: limit throttle mid to throttle min + 50
6b01c1117f Copter: keep thr-mix at min when landed
bec21a51a4 AP_RangeFinder: Just fixing the parameter name in the description
c8872e082d AC_AttControl: rename set_throttle_out parameter
0eaf815411 Copter: guided mode vel controller integrates althold lean limit
543f6fdcd4 Copter: AltHold limits lean angle to maintain altitude
5ab2a19173 AC_WPNav: loiter limits lean angle for alt loss
cf5db31053 AC_PosControl: allow limiting lean angle to avoid alt loss
29ff5035b4 AC_AttControl: limit lean angle from throttle
1024790633 MotorsMulti: add throttle_max accessor
b58cc7ea8d AC_PosControl: move accel constraint to accel_to_lean_angles
61d6c44e3b Copter: tricopter yaw rate filter to 100hz
993904f01c AP_GPS_SBF: add init string and increase union size
a057a8a009 AP_HAL_Linux: Add Support for RCInput_UDP
3b1844d5c9 AP_Arming: Moved the plane centric arming code into plane
3cb0c1bba8 Plane: Move the plane centric arming code into arming_checks.cpp
305ec7b08a AP_InertialSensor: MPU6000: publish sample rate
eb480e959c AP_InertialSensor: MPU9250: publish sample rate
a76eb9c15f AP_InertialSensor: MPU9250: use macros for sample rate
a0b1337646 AP_InertialSensor: PX4: publish sample rate
77a4f10d89 AP_InertialSensor: PX4: don't call calc_vibration_and_clipping()
6aa973dd47 AP_InertialSensor: Backend: calculate vibration and clipping on new raw sample
e06627dfcb AP_InertialSensor: Backend: add hook for new raw accel samples
5329e63742 AP_InertialSensor: allow publishing sample rate to frontend
ac3a677626 AP_InertialSensor: remove param rotate_and_correct from publish functions
a56c8deaee AP_InertialSensor: Oilpan: apply correction on each new sample
fc38691e0b AP_InertialSensor: MPU9250: apply correction on each new sample
b844b220c3 AP_InertialSensor: MPU9150: apply correction on each new sample
487135afa2 AP_InertialSensor: MPU6000: apply correction on each new sample
f946f48dce AP_InertialSensor: LSM9DS0: apply correction on each new sample
0963159bb8 AP_InertialSensor: Flymaple: apply correction on each new sample
2ea8f1de3f AP_InertialSensor: L3G4200D: apply correction on each new sample
e12c20bd22 Plane: prepare for 3.4.0-beta2 release
16d06ef0a9 Plane: set throttle trim to min on startup
2d60934335 Plane: require 5 channels to run failsafe passthrough
6991a1b9e9 AP_Compass: ensure we have payload space to send MAG_CAL messages
2baa0ac2f2 AP_Compass: disable COMPASS_LEARN when mag calibration used
6c74782997 autotest: added QMAC to locations list
745a5998f2 AP_Camera: added CAM_RELAY_ON parameter
dc4923a88d Copter: suppressing comment for switch case fall through
8c1212d4a6 Plane: support do-mount-control via command-long
958d279b7c Rover: support do-mount-control via command-long
5e38adfae3 Copter: remove support for configure as command long
fa0aa6f5c9 Mount: remove support for do-mount-configure as command long
8320c06700 Copter: Support do-mount-control via command-long
cc58ec917c Mount: add support for do_mount_control via command_long
079161ef3a AP_Compass: fixed raw_field init in AK8963 driver
5710697847 DataFlash: fixed some build warnings
cce46cf0c5 AP_GPS_SBF: add support for Septentrio gps
52577e4105 DataFlash: add sbf event message
b861233677 AP_HAL_SITL: add file based gps
0000ff45cb AP_HAL_Linux: RCOutput_PCA9685: remove trailing whitespace
18321a77c4 AP_HAL_Linux: rename RCOutput_Navio to RCOutput_PCA9685
e1f0284df2 AP_HAL_Linux: PCA9685: build on all Linux boards
c0caed1b64 AP_HAL_Linux: RCOutput_Navio: allow to use internal clock
6c042b6666 AP_HAL_Linux: RCOutput_Navio: allow to have other offset
3beaf34aa1 AP_HAL_Linux: RCOutput_Navio: allow to have other OE pin
fdb1cc38b0 Copter: removed redundent copter dereference
e4b2fc711d AP_Compass: added message for compass cal when armed
347d1f0a25 Copter: use handle message function for compass cal from compass library
0c004c13a1 AntennaTracker: implement on-board compass calibration for Antenna tracker
aea1db7348 ArduPlane: implement on-board compass cal for arduplane
b8a9f9ebc5 APMrover2: implement on-board compass calibration for APMrover
f4cdf57d8f AP_Compass: added handling of compass calibration mavlink messages
1ffbffa0e7 AP_Math: check if failed to allocate memory
75829f5533 AP_Compass: remove extra compass field correction
3abdf85796 AP_Compass_Calibrator: remove unrequired variables
c126017035 AP_Compass: reduce to if healthy check from if-else
2fb002798c generate.sh
63973bff31 AP_Compass_AK8963: move variable declarations before goto
3fc47b33e8 message_definition: add autoreboot option for mag cal
6a603eb594 Compass_cal: implement the concept of auto and mandatory user reboot after cal
9cf2998bba Copter: update send text severity for compass cal
46774136a6 AP_Compass: standardize inclusion of libaries headers
cdd8bae6ac AP_Compass: publish raw and unfiltered field for HMC5843 compass
8cdc9748b3 AP_Compass: publish raw and unfiltered field for AK8963 compass
f085e274c7 AP_Compass: add explaination for sample acceptance based on angular distance
f108383c11 AP_Compass: initialize CompassCalibrator _sample_buffer to NULL
358736a592 AP_Compass: correct calibrator sample acceptance math
bff9b9065e AP_Compass: CompassCalibrator comment update
1c100498d4 AP_Math: use is_zero instead of defining our own epsilon
1dc373fa20 Copter: correct compile errors after compass cal merge
7d67a00aa3 Copter: add compass_cal update function
137bd25220 AP_Compass: add info about compass calibrator procedure
f5fbc2fac1 AP_Compass: use AP_Math inverse library
b654b1c21b AP_Math: add inverse matrix to math library
eec5c2a5eb Copter: send NACK if compass.start_calibration_all fails
0edf1df28e AP_Compass: loosen calibration acceptance tolerance
987f55387e AP_Compass: style cleanup
5ef713f3db AP_Compass: set AP_Notify::compass_cal_failed
5a12991d29 CompassCalibrator: remove dependence on AP_Notify
de600ca3da AP_Compass: configured() only checks compasses with _USE set
2864d58474 Copter: refuse to start mag cal if armed
fa6bfee433 Copter: add arming check for compass calibration running
3739318d2f Copter: Hook up compass calibrator
53fe649016 GCS_MAVLink: add MSG_MAG_CAL_PROGRESS and _REPORT
72c8d0f530 AP_Compass: add samples to calibrator when published
cc36401b7c AP_Compass: add calibration interface
28ee63c855 AP_Notify: add events.compass_cal_canceled
adef826a42 AP_Notify: play tones for compass cal
89007c13cb AP_Notify: add compass_cal flags
05d3616e0d AP_Compass: fix sitl build
7cb9fa8898 AP_Compass: Correct parameter checks in compass cal
6d45660568 AP_Compass: refactor run_fit_chunk logic
f2acf2cb88 AP_Compass: more parameter checks in compass calibrator
929ddb5685 AP_Compass: fix a math error in the compass calibrator
328cf82c3d CompassCalibrator: update AP_Notify on failure
bfdbb55528 AP_Compass: make compasscalibrator running() public
d31d385490 AP_Compass: changes and fixes to LMA-based compass calibrate
c66bfc95e1 Compass: Add Levenberg-Marquadt for ellipsoid fit
7711dde2ad Compass: implement 9 parameter ellipsoid fit
35555c7b21 Compass: Add math for 9 parameter fitting
7295537e8a Compass: decrease sphere coverage to 1/3rd for faster sample collection
a2bd4e8997 Compass: Add less complex equations to calculate jacobians
2ca0e80dc5 Compass: Add conditions to check sanity of results
54bc28c96d Compass: Add Levenberg-Marquadt optimiser for sphere_fit
c0a662c819 AP_Compass: CompassCalibrator initial commit
f20ef69777 Compass: add soft-iron corrections
ee1209c03f Copter: run compass_accumulate at 100hz
5fe6db0dc9 AP_Compass_PX4: use new compass backend interface
ade39abc7f AP_Compass_HMC5843: use new compass backend interface
8800d03fce AP_Compass_HIL: use new compass backend interface
cd5cf45ba8 AP_Compass_AK8963: use new compass backend interface
add1b8c257 AP_Compass: modify backend interface to push raw samples to frontend
b990eaed68 AP_Compass: add interface for raw and unfiltered field
b2fff2021f GCS_MAVLink: re-generate libraries
1b485ef6ab GCS_MAVLink: add MAG_CAL messages
43adcd39ab Replay: DataFlash needs a version string
2b02911546 DataFlash: make mode and messages critical
c2d61391ef Plane: DFMessageWriter; ability to trickle messages out to DF
6e3687f8af Rover: DFMessageWriter; ability to trickle messages out to DF
51a761656e Copter: DFMessageWriter; ability to trickle messages out to DF
8f8493225c DataFlash: DFMessageWriter; ability to trickle messages out to DF
ab35ac41a5 AP_Param: Add parameter to print out all the keys/indexes
f6f2e901b8 AP_Notify: Disable ToneAlarm for BBBMINI
00da3ccc49 Copter: set in_arm_motors to false on all arm failure returns
64a8e66dd7 Copter: automatically set H_RSC_MIN/MAX from RC8_MIN/MAX on upgrade
2ce0f4c171 AC_Precland: fixed build under cygwin
6ec532694d git: turns out .autotools is a file not a directory
7d7ea69611 git: ignore .autotools directory for eclipse users
dff235dc36 AP_RangeFinder: support LightWare I2C laser rangefinders
bcd5dff774 AP_Baro: MS56XX: do not change change state on error
1f29e18375 AP_Baro: make AP_SerialBus::write() return success or failure for MS56XX
458f587656 AP_HAL_FLYMAPLE: SPI: adapt to the new signature of transaction()
4e27d19107 AP_HAL_Empty: SPI: adapt to the new signature of transaction()
93f5abb274 AP_HAL_AVR: SPI: adapt to the new signature of transaction()
4af2a9a9cc AP_HAL_Linux: SPI: adapt to the new signature of transaction()
e05928a7e8 AP_HAL: make SPIDeviceDriver::transaction() return success or failure
a6bdee076e ArduPlane: remove comments identifying task
53b5b70960 AP_Scheduler: use also task name besides the id for logging
b59154103f AP_Scheduler: use function name for AP_Scheduler task name
36b457a536 ArduPlane: use function name for AP_Scheduler task name
19d1c28c06 ArduCopter: use function name for AP_Scheduler task name
2c9d9e8060 AntennaTracker: use function name for AP_Scheduler task name
d6778fbf53 APMrover2: use function name for AP_Scheduler task name
8fe466ce27 AP_Scheduler: add initializer for task field "name"
8018748fe2 AP_Scheduler: add field "name" to task structure for logging purposes
79b8b15053 ArduCopter: use designated initializers for tasks structs
2e6074c108 AP_Scheduler: use designated initializers for tasks structs
b0258d902c ArduPlane: use designated initializers for tasks structs
9820cb0c07 AntennaTracker: use designated initializers for tasks structs
30ffd0cbd2 APMrover2: use designated initializers for tasks structs
a3d7156f28 SITL: raise default simulation rate to 1200Hz
ee91a41405 autotest: added H_RSC_MIN/MAX to heli parms
717c04d507 autotest: fly CopterAVC mission as a helicopter
6701d53d49 GPS: add GNSS_MODE parameter bitmask
a21eed9695 AutoTest: reduce MOT_THST_EXPO to 0.5
ccfefac2fe build_all: Remove the all target as it just builds SITL.
2351e84592 IRLock: replace tabs with spaces
7db77482f5 Copter: precision landing velocity PI object
f4b152f0e3 Copter: add Precision Landing to GPS land
0da38ba2bf Copter: add Precision Landing log message
26ded641db Copter: integrate Precision Landing lib
5a4729a966 Make: include AC_PrecLand and AP_IRLock libs in Copter
bf08fc317c AC_PrecLand: correct include paths
c06593f987 AC_PrecLand: precision landing lib for IR-Lock and companion computer
7706102d1e AC_WPNav: add shift_loiter_target method
8e6bb3164c Make: start irlock
25c59f954a Make: add irlock to px4 build
6f3ff0866f IRLock: adjust to px4 lib calculating bf angles
04c682542c IRLock: correct include paths
cf8ce867e6 IRLock: many changes to integrate with PrecLand library
59928ed677 IRLock: Initial implementation
2769487ac0 build_all: Need to remove APM2 from the default master build
1595c137f8 AC_PID_test: fixed AC_HELI_PID constructor
16805123c7 PX4Firmware: update submodule to include irlock fix
e92296a0b7 TradHeli: integrate RotorControlMode enum
e3ff4ed9c4 MotorsHeli: integrate RotorControlState
cb47311416 MotorsHeli_RSC: add RotorControlMode enum
72efc85ee8 MotorsHeli_RSC: RotorControlState enum
d99bb66f8a TradHeli: remove duplicate code in update_rotor_speed_target
bde43412d8 AP_MotorsHeli: Fix RSC Mode 3
38ccd6e04f AP_MotorsHeli_RSC: Fix tail_type control
c51b57e71c Copter: Remove Armed check from heli RSC controls
535da1d79a AP_MotorsHeli_Single: DDVPT to use it's own ramp and runup times
28318c4116 AP_MotorsHeli: Move Output functions into parent class
84102c3e3f AP_MotorsHeli: Rework how servo setup is done.
345663f705 AP_MotorsHeli: Simplify servo init/reset
b11600aebe AP_MotorsHeli: Move set_delta_phase_angle into _Single class
b331799dac Copter: Add handle to control Throttle Curve RSC.
3756c6b3f3 AP_MotorsHeli: Create RSC Throttle Curve mode for controlling gas engines.
f853979816 AP_MotorsHeli: run RSC Control function in Output Min function
c968ec3a63 Copter: Helicopters to use motor interlock logic.
161ce5c11d Copter: Change name of rotor speed function to match that in library
315f0408ae AP_MotorsHeli: RSC controller to use speed ramp as simple float scalar
91c7663ca2 AP_MotorsHeli: Set range of new RSC Servo object.
990761a13b Copter: Create new heli RSC RC Channel object.
cefa0c28a6 AP_MotorsHeli: RSC Mode 0 no longer a valid mode
981c96d8bc AP_MotorsHeli: Add more parameter checks
ed08e9d531 AP_MotorsHeli_RSC: Split out rotor speed estimate into it's own function
064cc63512 AP_MotorsHeli: Colyaw function to check if rotor speed control is above idle
77e4bf39aa AP_MotorsHeli: rework RSC output() function to implement idle speed function
c3e7eed299 AP_MotorsHeli_Single: Fix recalc_scalars function
214d60abb9 AP_MotorsHeli: Create RSC_IDLE param
27f8d6bcd5 AP_MotorsHeli: Change RSC output() function into a state machine.
10b0be9e75 AP_MotorsHeli: Fully detail tradheli output functions and move manual servo handling
7dda0f651a AP_MotorsHeli: Rename tradheli servo objects for clarity
457d939e77 AP_MotorsHeli: Update includes so that it builds
e6119cf51f AP_Motors: Fix param indices in AP_MotorsHeli.
411947ea7c AP_Motors: Rename output_yaw to move_yaw in AP_MotorsHeli_Single.
1e8be73a27 AP_Motors: Fix formatting in AP_MotorsHeli_RSC.
e6957df54a AP_Motors: Fix param range comment in AP_MotorsHeli.
66d9d38750 Copter: Use AP_MotorsHeli_Single for HELI_FRAME.
97e09fa9b0 AP_Motors: Move traditional helicopter controls into AP_MotorsHeli_Single.
af69a20ba5 AP_Motors: Break out yaw output in AP_MotorsHeli.
feb32f40ed AP_Motors: Break out servo init and reset in AP_MotorsHeli.
ae9a16dc27 AP_Motors: Move rotor speed control into AP_MotorsHeli_RSC.
1bb6b65ce0 AP_Motors: Use C++11 initializers in AP_MotorsHeli.
ff934d5bca Copter: added FS_CRASH_CHECK parameter
90909f2b4a Copter: added DISARM_DELAY parameter
f6f2973acd AC_WPNav: make changes in WPNAV_ACCEL take effect immediately
2c7a113790 AP_GPS: ensure all GPS drivers give headings as 0..360 degrees
15b242832e AP_Mission: lat/lng == 0 bug fix
81f8358705 Plane: restart landing by jumping to DO_LAND_START or decrement mission
41508457e1 AP_Mission: add get_prev_nav_cmd_with_wp_index()
722dd29370 Plane: Moving to RSSI library for reading various kinds of RSSI, with the possibility of adding more.
7cb494d8e2 Copter: Moving to RSSI library for reading various kinds of RSSI, with the possibility of adding more.
a315b980bf Rover: Moving to RSSI library for reading various kinds of RSSI, with the possibility of adding more.
c5f70d22c5 AP_RSSI: Adding RSSI library for reading various kinds of RSSI, with the possibility of adding more.
1b67e49df4 exampleLowPassFilter2p: fixed simple typo error - now build success
cbfbd46547 Copter: Release notes for AC3.3-rc10
4bf36d787b Plane: use labs for int32 values
cc68260478 Plane: sanity check do-set-home, do-set-ROI and fence-point locations
a66a201bf5 AP_Compass: HMC5843: Add support for MPU6000 auxiliary bus
a44ab9ed98 AP_HAL: define constant for HMC5843 on MPU6000
628e446e3e AP_Compass: HMC5843: use a struct for raw value
9ecd1daf81 AP_Compass: HMC5843: remove useless delay
c66c9c41f2 AP_Compass: HMC5843: be agnostic to I2C bus
3eb6be64c9 AP_Compass: ignore first two readings in a clearer way
633330db14 AP_Compass: rename calibration array in HMC
d8bddcbf3a AP_Compass: fix indentation in HMC's driver
79ffddc6db AP_Compass: add a macro for checking calibration values in HMC
f61386ae43 AP_Compass: HMC5843: release the lock before read
a9e8c1c464 AP_Compass: encapsulated calibration in HMC
0fbc295d97 AP_Compass: encapsulated version detection in HMC driver
868d0bf3c3 AP_Compass: AK8963: refactor constructors
a5df93bf10 AP_Compass: AK8963: be agnostic to I2C bus/address
d92c2ac9f5 AP_Compass: pass backend instead of pointer to function
c66800dfec AP_InertialSensor: add singleton interface
565c18603d AP_InertialSensor: MPU6000: export auxiliary bus
caae933c28 AP_InertialSensor: Add support for auxiliary buses
3cb6f391d4 AP_InertialSensor: MPU6000: split detection and initialization
7d9579c5d8 AP_InertialSensor: identify backend with ID
22c787058e AP_InertialSensor: allow to split detection and initialization
f7954ee885 AP_InertialSensor: MPU6000: allow to read generic block
b5da8ad61f AP_InertialSensor: MPU6000: rename method
d9a4d3e777 AP_InertialSensor: MPU6000: fix leaking samples
f18dd17377 AP_InertialSensor: fix typos
c0a28c45f8 scripts: using the wrong variable for the board type
7eedf2cafe Travis: removed APM2 from .travis.yml
b03c6137a8 Travis: don't do APM2 build in travis any more
1608cffe95 Copter: increase failsafe close-to-home to 5m
426dab5078 GCS_MAVLink: update severities and remove old enum
4a51dcc14d GCS_Console: update severities
583c087eca Plane: update severities
dfc35cca8b AP_InertialSensor: update severities
ddda407ff3 AP_Arming: update severities
d4ed30a023 Plane: releasenotes update
be603da579 Copter: fix optflow position_ok check
21f873662c AP_NavEKF: Prevent false triggering of optical flow takeoff detection
53b65675b2 SITL: param change to for copter optflow testing
4cdb5bf2bd Copter: sanity check do-set-home and do-set-ROI location
a9c6d34a9e Tracker: sanity check home location parameters
84252405c3 Rover: sanity check ROI target
1271e531e2 Mission: sanity check location
81d4864c10 autotest: added more autotest build logging
b966f7fc3e autotest: ensure we start on master branch
9ef6abf613 AP_GPS: config file for Ublox M8N
50b732d2af web-firmware: Added an icon and link for AntennaTracker
0424b3f93c Copter: pre-arm check of EKF compass variance
920d5cefbb Copter: always check GPS before arming in Loiter
749c0c190f AP_Baro - fix BARO_ALT_OFFSET param
e4c62811ea Plane: fix link to BATT parameter descriptions
536311744d Rover: fix link to BATT param descriptions
71cc89d107 Copter: add ACCEL_Z_FILT_HZ parameter description
bb891a62d3 BattMonitor: fix parameter descriptions
ee9a66bd02 Plane: fix compiler warning re double promotion
3db22a9c27 Tracker: update version to 0.7.3
767b4da5b6 Copter: update send text severities
f1d9b3570c Tracker: update severity values
b4cf0ce2bb Rover: update severity values
9d3a906602 GCS_Common: accept any type of severity, not just the old enum
da37769e33 Copter: Added include guards for Copter.h
dda229aecd Plane: Added include guards for Plane.h
816d1f0e1b AP_GPS: resolve compiler warning re init order
072d35b9cc AP_HAL_PX4: remove unused var
39dae7a156 Mount: fix for STORM32 serial ver 78e and higher
fed50aa5c5 Plane: is_crashed flag gets reset too easily
e1d566f9e7 Plane: simulator sets is_crashed
6caea9e07c autotest: fixed sim_vehicle.sh with no realpath
6f77d3ae98 Linux_HAL_Essentials: Add PRU firmware files. Prevent user to install PRU compiler
019f2af930 Plane: fixed build with HIL disabled
c357cb8f84 Copter: increase default thrust expo to 0.65
f4f111775e Plane: Log height of zero instead of old value
b9dd6b7aac Plane: prevent delayed compass HIL data from disabling compass at system startup only
0b1a997800 AP_IntertialSensor: don't require acceleration calibration in hil mode
43fa9c8ae3 Copter: fix Autotune param descriptions
a10a74d498 Copter: AUTOTUNE_MIN_D param to allow controlling minimum D
a2d17b87c7 Tools: add realpath to ubuntu prerequisites
15fc689085 AC_WPNav: remove unused get_wp_radius
6a4f4c5f8d Copter: failsafe RTL vs LAND decision always based on 2m
58e2ac4e56 Filter: Template implementation for <Filter>
37336bbbe1 Plane: moved is_flying related code to its own file
204ff7b158 Plane: move statics into new struct
6d0ad05192 GCS_Mavlink: added is_crashed to mavlink heartbeat status which shows EMERGENCY
da8f4f9e95 Plane: reworked is_flying
2620a57700 AP_InertialSensor: Added is_still() check
fb1bb3f571 GCS_MAVLink: make arguments mandatory for send_autopilot_version
d421644f3a Plane: define and send FIRMWARE_VERSION
979763c341 Tracker: define and send FIRMWARE_VERSION
06eb53402f Rover: define and send FIRMWARE_VERSION
e889886e07 AP_HAL: start with the vehicle disarmed
31f20db139 AP_GPS: provide hdop and speed accuracy with UAVCAN GPS
a11227af84 Copter: define and send FIRMWARE_VERSION
c4c63da163 GCS_MAVLink: send_autopilot_version accepts version
a317fb40fc GCS_MAVLink: version update after common.xml change
c10e90f837 GCS_MAVLink: regenerate common
79c9269891 GCS_MAVLink: rename FIRMWARE_VERSION_TYPE and fully qualify items
6621ecc68f GCS_MAVLink: Add FIRMWARE_RELEASE_TYPE to common.xml
426fcc95fb PX4Firmware: submodule update
220163e269 AP_InertialSensor: correct USE param storage index
f20beecb0b Plane: Climb/descent "intent" param with CONTINUE_AND_CHANGE_ALT
a5e1d8e902 AP_Mission: Give CONINTUE_AND_CHANGE_ALT a parameter: climb/descend
f66174a1ce Plane: improved 3.4.0 release notes
0c833b76b7 Plane: update release notes for 3.4.0beta1
f0b992f01e Copter: AC3.3-rc9 release notes
b1f810fbb9 Plane: prepare plane 3.4.0beta1 release
1cd5b9da9b scripts: use AVR specific branches for builds for APM1/APM2
ec2bc5e41d NavEKF: use maxf when retrieving vibration levels
46c652e42f Math: maxf and minf functions
629a5fd714 NavEKF: IMUSwitchState enum
c179ed5253 NavEKF: IMU ratio set to primary accel when neither IMU is used
559cc29635 AP_NavEKF: Add hysteresis to IMU switching logic
12e884ba6b AP_NavEKF: Modify method used to check for vibration errors
a7569e3a61 AHRS_NavEKF: integrate INS use_accel
7f46cc9059 AHRS_DCM: integrate INS use_accel
0b981d38e8 NavEKF: incorporate use_gyro and use_accel
e5615ec349 INS: add USE parameters
affbd67c43 InertialSensor: add vibration monitoring of 2nd IMU
85027e1997 Tracker: moved gcs code to be more common
2319bdb068 Rover: queue MISSION_ITEM_REACHED
87d0b12c7c Copter: implement try send mission_item_reached
86e3116fb6 Plane: implement try send mission_item_reached
1dd8b9d363 GCS_MAVLink: add support for try send mission_item_reached
545d926d20 Rover: bring rover mission callback inline with copter and plane
3ad0188488 HAL_VRBrain: Rework of support for FLOW_CONTROL_AUTO from PX4 HAL
6e9756ff79 HAL_PX4: Rework support for FLOW_CONTROL_AUTO.
c87a7c7df9 GCS_MAVLink: Pause to allow serial port to drain.
f1eb2f88df Plane: post "Distance from LAND point" on every land
fa060a6124 AP_Param: add missing header StorageManager.h
eb2ca91f1c Plane: Fixing unambiguous spelling errors in Parameters.cpp file.
1f90d43c57 Tools: allow script to fixup a single file
29740ccb8a AP_HAL_AVR: standardize inclusion of libaries headers
42fadb1845 GCS_MAVLink: standardize inclusion of libaries headers
327a3a4298 DataFlash: standardize inclusion of libaries headers
d446381623 AP_HAL_Notify: standardize inclusion of libaries headers
2011c4d988 AP_HAL_Mount: standardize inclusion of libaries headers
2c44f3e313 AP_HAL_InertialSensor: standardize inclusion of libaries headers
c007720fb7 AP_HAL_InertialNav: standardize inclusion of libaries headers
c47df44f44 AP_HAL_VRBRAIN: standardize inclusion of libaries headers
ffa37e6de2 AP_HAL_SITL: standardize inclusion of libaries headers
83cfaf4a59 AP_HAL_PX4: standardize inclusion of libaries headers
dabfeff440 AP_HAL_Linux: standardize inclusion of libaries headers
ca17b6155e AP_HAL: standardize inclusion of libaries headers
55beb6bc0f AP_GPS: standardize inclusion of libaries headers
7e997564bf AP_Compass: standardize inclusion of libaries headers
b43bddc0af AP_AHRS: standardize inclusion of libaries headers
85ab1c3444 SITL: added ignition control for gas heli
c55e4e275d Rover: fix spelling errors in Parameters.cpp
d1f5a2988d Copter: fix spelling errors in Parameters.cpp
f77b06175e Copter: update flighttermination capability
5cd78e722e GCS_MAVLink: version update after generate
a77329e855 GCS_MAVLink: generate after flight_termination change
91479aa39f GCS_MAVLink: rename flighttermination capability enum
2b36457261 Tracker: add handle_guided_request to allow cmake to work
829c4e6201 PX4Firmware: submodule update
e73ac418df HAL_PX4: prevent error on GPIO line on change of pinMode
1a6beb2a44 PX4Firmware: submodule update
dc455a5fd6 AP_InertialSensor: setup for MPU9250 support on PX4
baeddfe4f3 PX4: enable probe of MPU9250 if available
d8cee50878 PX4Firmware: submodule update
6186b7a453 Plane: disable TRIM_RC_AT_START by default
dc785fd2ed Copter: shorten disarm counter to 10 seconds
94fb94d67d Copter: adapt auto disarm for sprung throttle stick copters
cc96f80f02 Plane: make TRAINING mode obey stall prevention roll limits
ac2e1552b2 Plane: don't do battery failsafe when disarmed
c8ecb1bac7 Copter: fix PILOT_TKOFF_DZ param description
c324d4e89b Copter: fix ANGLE_MAX param description
2e5d517691 autotest: added basic helicopter parameters
c2e68eaf79 SITL: tidy up frame handling a bit
e2027a8414 SITL: Add HELI_DUAL_FRAME and HELI_COMPOUND_FRAME.
4f9fbc5aa7 AP_GPS: Fix a bound error when calculating GNSS minimum channels.
730b5d228e autotest: cope with symlinks in vehicle path
596cac58d0 autotest: removed the need for run_cmd.sh
8b17d32994 NavEKF: check baro health before consuming
79efad339f Tools: add ccache setup to arch setup script
a112e08e42 Tools: add script to set up Arch Linux
a42674b0b0 Copter: implement do_flighttermination
5dfd1ff8d6 Copter: add velocity control timeout in guided mode
f4d319ba83 Rover: Including the sonar/rangefinder status in SYS_STATUS message
fdb104b5b6 AP_RPM: fixed build error
67cd777899 PX4Firmware: submodule update
58e829553f Plane: prevent build error with MSG_RPM
3f04c6415f AntennaTracker: prevent build error with MSG_RPM
3ce5f62420 Rover: prevent build error with MSG_RPM
129f33c26d AP_RPM: define a minimum acceptable period for PWM input
80ad9aa605 Copter: added RPM dataflash logging
ab7e400a89 DataFlash: added RPM logging
1fdf7ec83f Copter: added RPM sensor support
0fdeb276e3 GCS_MAVLink: regenerate headers
8f1e1a1b4a GCS_MAVLink: added RPM MAVLink message
39c219d452 AP_RPM: first version of RPM sensor driver
f2c1010501 Plane: prevent mode switch changes changing WP tracking
7199b57fde Copter: check frame for SET_POSITION_TARGET_GLOBAL_INT in guided
580c0ad9de Copter: guided SET_POSITION_TARGET accepts frame
b781f85948 Copter: convert fn from body-frame to NE
59d5a4fad8 Copter: landing with guided velocity controller
85c39348f3 Copter: update copter's capabilities
64a013071a GCS_MAVLink: update common.h enum
4cdc87fa62 Common: add 21196 for emergency disarm
acb33cacac Common: add two new capabilities
1162503199 RC_Channel: fixed example build
c72372722e AP_HAL: fixed example builds
980659d346 AP_InertialSensor: removed AVR1280 specific ifdef
69a86a78a6 AP_Compass: removed AVR1280 specific ifdef
b5c5297d68 mk: remove include paths from make.inc
ae9a314295 Tools: add script for standardize includes of libraries headers
ce0cb248ce StorageManager: standardize inclusion of libaries headers
a02e7730ea SITL: standardize inclusion of libaries headers
d2780623f7 RC_Channel: standardize inclusion of libaries headers
e925820d90 PID: standardize inclusion of libaries headers
d7a2ef3e35 GCS_MAVLink: standardize inclusion of libaries headers
f551312361 GCS_Console: standardize inclusion of libaries headers
a1af0c2051 Filter: standardize inclusion of libaries headers
709204c01d DataFlash: standardize inclusion of libaries headers
5eea2683f2 AP_Vehicle: standardize inclusion of libaries headers
fcd1d4938a AP_Terrain: standardize inclusion of libaries headers
1fbbe3ed81 AP_TECS: standardize inclusion of libaries headers
b287bc05f0 AP_SpdHgtControl: standardize inclusion of libaries headers
c7d8682969 AP_ServoRelayEvents: standardize inclusion of libaries headers
a4f67ba77d AP_SerialManager: standardize inclusion of libaries headers
c04b984e6c AP_Scheduler: standardize inclusion of libaries headers
5893c48582 AP_Relay: standardize inclusion of libaries headers
5d39587469 AP_RangeFinder: standardize inclusion of libaries headers
6dd38079d6 AP_Rally: standardize inclusion of libaries headers
480e07a932 AP_RCMapper: standardize inclusion of libaries headers
794e4ad46c AP_Progmem: standardize inclusion of libaries headers
0900cefba9 AP_PerfMon: standardize inclusion of libaries headers
159c5b8b44 AP_Param: standardize inclusion of libaries headers
c6eb15f443 AP_Parachute: standardize inclusion of libaries headers
f32c4ceda9 AP_OpticalFlow: standardize inclusion of libaries headers
6d667e19b1 AP_Notify: standardize inclusion of libaries headers
3479dedc93 AP_Navigation: standardize inclusion of libaries headers
f7fd9e3d99 AP_NavEKF: standardize inclusion of libaries headers
8011579c5a AP_Mount: standardize inclusion of libaries headers
1e619c6c59 AP_Motors: standardize inclusion of libaries headers
34d1a29ec1 AP_Mission: standardize inclusion of libaries headers
8e5fc67903 AP_Menu: standardize inclusion of libaries headers
4790371f9b AP_Math: standardize inclusion of libaries headers
023f56aa70 AP_Limits: standardize inclusion of libaries headers
105255eadb AP_LandingGear: standardize inclusion of libaries headers
4278bfcec5 AP_L1_Control: standardize inclusion of libaries headers
7789aec85b AP_InertialSensor: standardize inclusion of libaries headers
669ccd439e AP_InertialNav: standardize inclusion of libaries headers
f714540d8b AP_HAL_VRBRAIN: standardize inclusion of libaries headers
27b9d71e2c AP_HAL_SITL: standardize inclusion of libaries headers
08333f1ffe AP_HAL_PX4: standardize inclusion of libaries headers
124b750c10 AP_HAL_Linux: standardize inclusion of libaries headers
9f357ca812 AP_HAL_FLYMAPLE: standardize inclusion of libaries headers
ca5afbfdc9 AP_HAL_Empty: standardize inclusion of libaries headers
12423814ef AP_HAL_AVR: standardize inclusion of libaries headers
0456eccca8 AP_HAL: standardize inclusion of libaries headers
67db430583 AP_GPS: standardize inclusion of libaries headers
00219c5e0c AP_Frsky_Telem: standardize inclusion of libaries headers
26ffd4f3b1 AP_EPM: standardize inclusion of libaries headers
23f634835d AP_Declination: standardize inclusion of libaries headers
fdec221d40 AP_Curve: standardize inclusion of libaries headers
58f300e78e AP_Compass: standardize inclusion of libaries headers
e32ad93ae3 AP_Common: standardize inclusion of libaries headers
4887d8eb94 AP_Camera: standardize inclusion of libaries headers
c16b46fd23 AP_BoardConfig: standardize inclusion of libaries headers
ff20124f1d AP_BattMonitor: standardize inclusion of libaries headers
f18802bc46 AP_Baro: standardize inclusion of libaries headers
597562c69c AP_Arming: standardize inclusion of libaries headers
d42b132507 AP_Airspeed: standardize inclusion of libaries headers
54d5277842 AP_AHRS: standardize inclusion of libaries headers
af76fa05d7 AP_ADC_AnalogSource: standardize inclusion of libaries headers
a552390125 AP_ADC: standardize inclusion of libaries headers
d13c97e112 APM_PI: standardize inclusion of libaries headers
da6ee4f744 APM_OBC: standardize inclusion of libaries headers
db9f037e4b APM_Control: standardize inclusion of libaries headers
ee2c388bb0 AC_WPNav: standardize inclusion of libaries headers
99fd585a54 AC_Sprayer: standardize inclusion of libaries headers
286d084d83 AC_PID: standardize inclusion of libaries headers
d030e817d9 AC_Fence: standardize inclusion of libaries headers
d49f10d2e5 AC_AttitudeControl: standardize inclusion of libaries headers
84b5555a1a Tools: standardize inclusion of libaries headers
93c80b03ae ArduPlane: standardize inclusion of libaries headers
4d4b856735 ArduCopter: standardize inclusion of libaries headers
a672e3c5ce AntennaTracker: standardize inclusion of libaries headers
01e05ce743 APMrover2: standardize inclusion of libaries headers
1b61f6f636 HAL_PX4: fixed USB connected on AUAV-X2
69bfeaf58e INS: accel offset parameter range desc to 3.5m/s/s
b9c0f34897 AP_Scheduler example Fixed build problem with "make linux"
9352f05133 GCS_MAVLink: fixed bug setting parameters to default values
269f1fd99a AP_Param: replaced set_param_by_name with set_float
b9c7cac5d6 PX4NuttX: submodule update
a18f71b29e Copter: bug fix to RTL_ALT_MIN feature
c29b19f768 AP_GPS: Fix a typo on spelling received
c8c34f54cc AP_HAL_SITL: Add hdop to ublox sitl sim (as well as vdop to be reported)
cf1273668e AP_InertialSensor: refactor constructors to avoid leak
c3063f0ab2 AP_InertialSensor: MPU6000: be agnostic to I2C bus/address
4d4dac867e AP_InertialSensor: pass backend instead of pointer to function
d3eebdb6aa AP_InertialSensor: L3G4200D: add probe code
55279664c2 AP_InertialSensor: remove out of place ifdef
2e76d998df AP_InertialSensor: remove unused enum bus_speed
f3f54157be AP_InertialSensor: fix copying wrong number of bytes
209e1924a5 AP_InertialSensor: fix whitespace usage
bc26eaab63 AP_GPS: Ublox: fall back to the DOP if hDOP hasn't come in yet
3851862f60 AP_InertialSensor: remove unused drivers
0d1d960899 StorageManager: remove unnecessary calculations on addr for next area
840f3adfbd PX4Firmware: submodule update
f009c2ddb9 Motors_Multicopter: add MOT_THR_MIX_MAX parameter
4aef64c153 OpticalFlow_Linux: reworked driver
ed3366aaae AP_OpticalFlow: Add support for Linux
42c7b4a116 BattMon_SMBus: remove unnecessary I2C semaphore give
66469d7529 Compass_HMC5843: remove unnecessary i2c semaphore give
92a7a3e6ff Rover: Lets put Rover into BETA - v2.2.51
103119fe9a Rover: fixed bug when reverse throttle would increase speed in AUTO
c24ba83fb1 Plane: init vehicle capabilities
5776620062 DataFlash: consolidate GPS, GPS2 messages
5044189ac9 Rover: scheduler remaining time loop calc made common
7e2e78c1af AP_AHRS: protect against zero deltat in DCM
a81d756ce1 AC_WPNav: remove unused definitions
fb9cc124c8 AC_WPNav: replace hardcoded 0.02 with pos_control dt
8195f45d6c AC_WPNav: fix spline height loss
c704102dcd AP_GPS: Default the value of hdop to 99.99 if no value has been read yet.
136853a750 Rally: rename RALLY_HOME_INC param to INCL_HOME
e0e2ed519c Rally: add RALLY_HOME_INC param to use Home as a Rally point
39b42a4e6e AP_Compass_AK8963: suspend timer while reading
0aa2fe7a0b AP_Compass_AK8963: fix sem handling
1a583c5382 AP_Motors: calc_roll_pwm based on throttle pwm range
ca915d9928 Plane: fix "logging disabled" build.
9cfc7a48da Board_AVR: locate recently-moved boards.txt file in arduino-core
c87929e907 Plane: Fix landing to stop divide by zero if params are 0
f99b152b1f Copter: fix logging disabled build
06031985cc Tracker: version to 0.7.2 and update release notes
b377d4deac Tracker: fix initialisation of nav_status
9067abc037 AHRS_NavEKF: fix blended accel to use primary accel
d99c85c1fe Tracker: init vehicle capabilities
aa4a7a0b28 Rover: init vehicle capabilities
6765aedb5b Copter: init vehicle capabilities
7d2c0079ff Terrain: set HAL capabilities bit
d0aa1a89cd GCS_MAVLink: retrieve capabilities from HAL
810973ce95 HAL: define capability bitmask
edf5ff1bbe Copter: add capability bitmask
c946ce72e8 GCS_MAVLink: add optional param to support capability bitmask
212898d02b AP_InertialSensor: don't use INT_STATUS drdy to lower SPI bus speed
224d45000b Rover: fixed a bug going into guided and rover still moving
538a077ae8 SITL: fix coverity warning - removed unused variable heli_servos
08f5305519 DataFlash: fix coverity warnings - add param init in constructor
e2eda97ec6 AP_InertialSensor: fix coverity warnings - param init in construct
312184dd13 AP_Baro: coverity fixes - add param init in constructor
1b13be4ad7 Plane: disable camera logging when camera support disabled
6e0057778b Plane: remove unused file
9f9080983b Plane: trim out some log msgs on APM2
49f7adcc80 Plane: re-enable geofencing on APM2
6c07795b63 Plane: added HIL_SUPPORT define
087e729748 AP_GPS: re-enable SBAS config on APM2 for uBlox
9c776736c1 AP_AHRS: use delta_velocity and delta_angle in DCM
b6beeb6f2f AP_GPS: save some memory and code space on APM2 for ublox
8aa7a3cffc GPS: suppress compile warning
be6089e903 GPS: fix compile warning for NMEA logging
5732a6a144 Baro: update climb rate only if healthy
cc27fb46bf Copter: arming check that baro is healthy
11c9e46ec7 Copter: arming check that accels and gyro are healty
45a7c37734 HAL_Linux: added bcast flag for udp broadcast
eca0940bc7 AP_HAL: allow for broadcast packets on UDP IPv4
17b5d54f6b GCS_MAVLink: use a larger log send queue for Linux
3e4b0b9869 AP_HAL: added pollout() function to socket API
b99740cb93 HAL_Linux: sped up UDP transfers by about 25x
25fe2b3fb0 AP_GPS: added optional NMEA debug log
a2e9d0488c Rover: Implemented loitering at a waypoint if Param1 is non-zero
a5c7aa1b19 HAL_Linux: allow startup before network bringup
55fc66ec65 HAL_Linux: implemented TCP server as a single driver
596ecde70d AP_HAL: added listen and accept APIs to socket API
b07f7e873f AP_HAL: added pollin() interface for Socket API
f72d9c6393 HAL_Linux: replace recvfrom with recv
5067359ed7 AP_HAL: fixed socket destructor
3f3aaa3c50 HAL_Linux: removed 0 timeout from sendto call
aa3efecef3 AP_HAL_Linux: fixed _parseDevicePath() in LinuxUARTDRiver
0362128265 AP_HAL_Linux: renamed TCPClientDevice
211acbec9c AP_HAL_Linux: renamed TCPServerDevice
a3f47878a2 AP_HAL_Linux: made UARTDriver use TCPServerDevice
56f760f022 AP_HAL_Linux: added TCPServerDevice
eacc085289 AP_HAL_Linux: made UARTDriver use TCPClientDevice
a5ef931f5c AP_HAL_Linux: added TCPClientDevice
6e34dd9669 AP_HAL_Linux: got rid of TCP connection
de6b2b4bce AP_HAL_Linux: made UARTDriver use ConsoleDevice
a9c9d91f09 AP_HAL_Linux: added ConsoleDevice
6ec67a9bfd AP_HAL_Linux: made UARTDriver use UDPDevice
1881878c3a AP_HAL_Linux: added UDPDevice
656399541f AP_HAL_Linux: encapsulated LinuxUARTDriver::_deallocate_buffers
f117134443 AP_HAL_Linux: made UARTDriver use UARTDevice
acd180ae96 AP_HAL_Linux: added UARTDevice
6b94fd7603 AP_HAL_Linux: added SerialDevice interface
dacbdb57c4 AP_HAL_Linux: added _serial_start_connection
44198bd4eb AP_HAL_Linux: encapsulated LinuxUARTDriver::allocate_buffers
94de9416fe AP_HAL_Linux: use defines instead of hardcoding fd numbers in UARTDriver
1a588263e4 AP_HAL: added destructor for Socket
4411c1fed4 AP_HAL: improved constness of Socket API
8f0e7e0693 Plane: fixed above_location_current() for non-terrain alt
5c9d248407 AP_GPS: Fix copy/paste error in ublox (uncovered by coverity)
a3f240671f Eclipse: template project files
4eb6f0f646 Copter: slow start motors after landing in Stabilize, Acro
0bf1d04172 AC_AttControl: relax earth frame rate targets along with bf
72c8f411d7 Tracker: update readme
4fa0797d19 Tracker: create readme.txt
ad32a98e29 Scheduler: fix compiler warning in example sketch
0c9cec7958 SITL: param SITL_ARSP_FAIL should be a float instead of byte
31fe799757 Maintainers: added Michael as uBlox maintainer
149b6bffba Copter: fixed comment on get_pilot_desired_yaw_rate
c86ff1ac25 RC_Channel: prevent floating exception on bad MIN/MAX/TRIM values
01161135d6 AP_InitialSensor_MPU6000: compiler warning - init order
93c6ed0ea2 AC_WPNav: compiler warnings: float to double
73ae816a8b Copter: update AC3.3-rc8 release notes
5032cf9fbc Copter: init multicopter flags
0645453997 Copter: AC3.3-rc8 release notes
9d53aa77eb AP_GPS: Add reboot required docstring
b13921a7aa Mount_SToRM32: find gimbal channel on startup
e7df54ca75 GCS_MAVLink: static find_by_mavtype method
e092902613 GCS_MAVLink: add find_by_mavtype
1ee330ebb2 DataFlash: CLI log dumping - don't truncate lines that contain doubles
39b2cdcc3c AP_Menu: avoid segmentation fault
3dfb447fd7 BattMon: has_current true for Bebop
8403b504d1 BattMon: add Bebop to monitor param description
9482578c60 BattMon: Bebop always uses bebop batt monitor
84b6ab0707 BattMon_Bebop: use ARRAY_SIZE
3b36178a0b BattMon_Bebop: init members in constructor
f6aba6c952 HAL_Linux: add read_obs_data to RCOutput_Bebop
35ae562dbe AP_BattMonitor: Add battery support for Bebop Hardware
58fa38cc12 Plane: allow rudder disarm based on ARMING_RUDDER parameter
54254c89d7 AP_Arming: control rudder arming with ARMING_RUDDER parameter
da41d85433 Plane: It is possible to disarm with left rudder.
8240e5ae65 AP_Compass: AK8963: reduce bytes read
2b9c46e1ff AP_Compass: AK8963: don't oversample AK8963
6c2ceea165 AP_Compass: AK8963: remove author and connection comment
8ab33c46ce AP_Compass: revisited AK8963 code
fffedae3e0 AP_Compass: AK8963: reduce stack usage and zero out buffers
37734886a5 AP_Compass: AK8963: remove repeated comments
27d95b67a8 AP_Compass: AK8963: remove state machine
e232543fca AP_Compass: AK8963: change initialization and rename methods
ae5d9baddb AP_Compass: AK8963: remove defines not used anymore
cae895bfdf AP_Compass: AK8963: group members together
28d3d775a4 AP_Compass: AK8963: remove resolution member
86b3312112 AP_Compass: AK8963: factor out common code of read_raw()
d941174978 AP_Compass: AK8963: enhance the readability
c627f84fa8 Copter: Ch6 circle rate as float
28c722c157 AC_Circle: rate change takes effect immediately
4b38d444dd Plane: fix default behaviour of flaps.
6a62b11536 Plane: fix LOITER_TO_ALT to verify headings towards waypoints within the loiter radius.
d51e6d466b AP_HAL_SITL: add support for airspeed failures
250dcd31a2 SITL: Add ARSP_FAIL param
5cc7c456a7 autotest: fixed sense of test for autotest directory
d7ac725a64 AP_HAL_Linux: fixed signal handler in RCInput_Navio
8528a7d159 AP_HAL_Linux: added deinit logic for RCInput_Navio
f4d14f73ba AP_HAL_Linux: extended panic handling with RCInput deinitialization
97b51a4bcb AP_HAL: Added deinit() method to RCInput
9737c426eb SITL: Gazebo index out of bound
59dda49cce AP_GPS: Fix missing reserved fields in the UBX-RXM-RAWX message
09fef505e0 AP_GPS: With a ublox driver, accept a packet if it will fit in the buffer
22b16b4532 AP_GPS: Enable selecting what GNSS system to use if the reciever supports it
47592a1953 AP_GPS: Raise the baud rate on a ublox GPS if using RAW logging
19bb96b9cb AP_GPS: Improve startup logic for detecting what gps is connected
9a79baef59 Rover: Merged a bug fix from Plane.
873e6c8e29 Rover: Doubled the rate at which read_control_switch is called.
4f6259f374 Rover: Added mode switch debouncing from Plane.
7935bf70f1 Copter: rc_override active only on non-zero overrides
7f97f7d0a3 Git: ignore logs, mav.parm for plane, rover
30201b5136 Git: ignore logs, mav.parm for copter
e3398648d7 GCS_MAVLink: fix debug formatting
521f3dc4b9 GCS_MAVLink: only forward msg once per channel
6f72d202fe GPS: fix parameter descriptions
1fb81777f1 Rover: deleted the old command_description.txt file which isn't used.
cc6a981b12 Plane: deleted the old command_description.txt file which isn't used.
e31f2d26c4 MotorsMulticopter: move get_hover_throttle_as_pwm to protected
c7c6228b5d MotorsMulticopter: remove virtual from set_yaw_headroom
908afad65c Copter: reset yaw angle target when disarmed or landed in AltHold
157c97447d AC_AttControlHeli: init passthrough_yaw
35a924703f Copter: change multirotor comments to multicopter
1b68d0eead Copter: no MotBatt logging for TradHeli
4cacff54b4 Copter: no update_throttle_thr_mix for TradHeli
5baf98bcfc Copter: no get_throttle_pre_takeoff for TradHeli
0f174053d6 Coptre: disable esc calibration for TradHeli
1af383253f Copter: disable compassmot for TradHeli
546d668d1d Copter: no set_hover_throttle for TradHeli
88b617707f Copter: call set_throttle_range for multicopters only
53aad69fa2 Copter: include AttControl_Multi.h
0af7fb93e5 Copter: rename param to MotorsMulticopter
8b4805bfcb AC_AttControl_heli: add MotorsHeli include
bf2bf2e3fa AC_AttControl_Multi: new multirotor specific attitude control class
93dd7dd970 AC_AttControl: get_boosted_throttle purely virtual
4843be49de AP_MotorsTri: remove call to empty parent Init
f906934dfa AP_MotorsSingle: remove call to empty parent Init
112e934072 AP_MotorsMatrix: remove call to empty parent Init
b1a4a6bf0a AP_Motors_Coax: remove call to empty parent Init
4d1dfd94f5 AP_MotorsMulticopter: multicopter features moved in from parent
7355ac9cb8 AP_MotorsHeli: implement empty slow start method
a3fab10ef4 AP_MotorsHeli: init roll_radio_passthrough
c9dedbd3b2 AP_Motors: remove multicopter only features
e3a0f1568d Copter: Tradheli to check rotor speed control input before arming
abb6eba291 AP_MotorsHeli: Change allow_arming check to use _rotor_speed_estimate
534ba89756 Copter: Tradheli manage yaw better on the ground.
9fcbc77ce0 AP_MotorsHeli: Create rotor_speed_above_critical accessor
92de71f993 Copter: Check helicopter parameters during Pre-Arm Checks
992c9c75bb AP_MotorsHeli: Create parameter_check method.
e2fe640e6c Copter: Clean up helicopter allow_arming() function
f3496356b2 Copter: Tradheli won't get set_yaw_headroom tuning function
cdfdb340df Copter: Use AP_Motors_Multirotors class for params
61d6c5aa1d AP_Motors: Creation of AP_Motors_Multirotor class
0ecebbd55f Copter: Refactor verify_command
5c9bf90d94 SITL: use ARRAY_SIZE macro
fd5d25b1d5 AP_Compass: use ARRAY_SIZE macro
3136b8916c DataFlash: use ARRAY_SIZE macro
d8b70dc0c5 AP_Scheduler: use ARRAY_SIZE macro
fdc6a75124 AP_Menu: use ARRAY_SIZE macro
0471de2342 AP_Math: use ARRAY_SIZE macro
eda4879f3f AP_InertialSensor: use ARRAY_SIZE macro
3f472fb9e1 AP_HAL_VRBRAIN: use ARRAY_SIZE macro
473415a3c2 AP_HAL_SITL: use ARRAY_SIZE macro
d4d56aef1a AP_HAL_PX4: use ARRAY_SIZE macro
cfc2972e51 AP_HAL_Linux: use ARRAY_SIZE macro
b83708f77f AP_HAL: use ARRAY_SIZE macro
9d59b43920 AP_GPS: use ARRAY_SIZE macro
4a595bd797 APM_Control: use ARRAY_SIZE
fb2eb262e7 AP_Math: use ARRAY_SIZE instead of defining another one
73ff01dc68 AP_Notify: replace unsigned int with uint8_t
1bba105be4 AP_Notify: don't manually define number of notify devices
65813f308e DataFlash: fix incorrect comment
8225e58454 AP_Motors: throttle_min method in 0 to 1000 range
6bf6442396 MotorsMatrix; protect against divide by zero
fa60c3dce8 MotorsCoax: fix output_armed_stabilized min thr limit
8a308205ce MotorsSingle: fix output_armed_stabilized min thr limit
bd9a605086 MotorsTri: fix output_armed_stabilized min thr limit
e53c46bd8f MotorsMatrix: fix output_armed_stabilized min thr limit
51bdbea745 Plane: fixed format for ARM message
7dcfe1c667 RCOutput_Bebop: group channels write
3b1b7ea029 AP_GPS: fixed time handling with NMEA driver
a852e48f37 AP_GPS_NMEA: fix gps startup
14e462706d SITL: added gazebo SITL shim
c34ddb7fb8 HAL_SITL: added gazebo SITL model support
94bf440e8f autotest: added Gazebo frame type
c75a231846 autotest: added OSRF location
4d24d1494d Copter: send_mission_item_reached when cmd completed
c62da52259 Copter: add gcs_send_mission_item_reached
a61129f7f8 GCS_MAVLink: add support for send_mission_item_reached
c5550329a3 Tools: fix ubuntu prereqs script to force python2
ec298fb508 Copter: Log_Write_Attitude yaw as 0 to 36000
766ccea3be Mission: fix bug causing first do-cmd to be run many times
429346f4bc AP_Mission: add missing breaks to case statement
0acfcbfa81 NavEKF: use primary compass instead of first instance
cedc9a8670 Compass: add last_update_usec per instance
69cfe11455 AP_Arming: raise accel arming threshold to 0.75
18de1c2c47 GCS_MAVLink: send AHRS2 even if we don't have a secondary position
6009ae55b1 AP_Math: fixed build of eulers example sketch
277e3d8675 Copter: enable ekf_check only after ekf origin has been set
cc0ab26f5d Mount: fix init of mode
802698d491 Merge pull request #2564 from Parrot-Developers/master
9e5d13c1de RCOutput_Bebop: use CLOCK_MONOTONIC instead of CLOCK_REALTIME
35dd7322d2 Copter: float constant fix for heli's check_dynamic_flight
5541899a99 Copter: Whitespace fixes.
24d0031389 Copter: replace slow_start() with full set_throttle_takeoff() function.
0a69c13b1d Copter: Fix helicopter ground stabilization in Auto, Brake, Circle, Guided, Land and RTL modes.
14882bc6a8 AC_AttitudeControl: Remove unused takeoff jump #define
f3770432f9 Copter: fix do_user_takeoff indentation
bc6deb5575 Copter: Tradheli Mavlink Takeoff to fail if rotor not spinning.
e1902e2289 AP_MotorsHeli: Remove unused _dt variable.
506970fbd3 Tools: Add Bebop prereqs to Ubuntu script
7d2fe3cc2b AP_GPS_UBlox: remove unused member
2c33250bee AP_GPS_UBlox: send_next_rate_update always runs all steps
4b015d2091 AP_GPS: remove compiler warnings
df3a04e284 AP_GPS: reduce fake Ublox hdop to 130
425e26c258 Copter: reduce GPS_HDOP_GOOD params default to 140
5ccc58ffb4 AP_GPS: Read actual hDOP value from UBLOX messages
4e3d0ae0c1 Copter: fix startup logging
14561f04b0 Rover: log IMUDT
b670988e05 Plane: log IMUDT
063faa0383 Copter: add RTL_CLIMB_MIN
1226cc7dae Tools/autotest: Add location Bremerhaven
610595bfb9 AP_NavEKF: Prevent position drift between arming and takeoff when using OF
c33453fcf9 Copter: rename ESC param to ESC_CALIBRATION
1a911553eb Copter: allow disabling ESC calibration
764fa36716 Copter: log ERR when compass, baro unhealthy
2b4aaf2368 SITL: add vibe monitor and SIM_ACC2_RND to sitl
8b4b0b9576 AP_NavEKF: Add accelerometer clip monitoring and isolation
ec9be695fb LogAnalyzer: don't die if no arm/disarm eveents
1dba943a10 LogAnalyzer: if no GPS, try GPS2
ce558b2b98 LogAnalyzer: cope with TimeUS
72820303d4 AP_HAL_Linux: set higher SPI speed for Navio
a08d57149e LogAnalyser: Add double support to DataflashLog.py
0028910428 AP_InertialNav: take reference to variable we are trying to update
818bb3f88f Tools: correct array-out-of-bounds in PRU test
dbbc5ed816 Replay: fix double-free in MsgHandler
4e0c2c5a9b AP_HAL: defined default log and terrain directories for bebop
6df33dd3f4 AP_InertialSensor: fixed MPU6000_SPI bus initialisation
266857c595 Plane: avoid linking optflow on APM2
954ec71630 HAL_Linux: added rcout implementation for bebop
51c3c499e2 AP_Compass: support AK8963 on I2C
0b41da0dea AP_Compass: rework to make the bus generic for AK8963
0cd584c293 AP_Compass: fix rotation for bebop AK8963
7dd0b5fae6 AP_Compass: removed _spi_sem and _spi
d407737434 AP_Baro: added MS5607 support
3cf952d1f8 AP_InertialSensor: add fifo support for MPU6000
8a76ff53bd AP_InertialSensor: add i2c bus driver for MPU6050
1679728730 AP_InertialSensor: Configure SPI as a generic bus for MPU6000
f0bed711cf AP_HAL: added AK8963 I2C defines
e0b59942b0 AP_HAL: changed log directories for bebop
5c414b4ca2 AP_HAL: Fix Compass I2C address for Bebop
8d6123928f AP_HAL: Add i2c bus numbers and addresses
bef8001a09 AP_HAL: added MS5607 baro define
eea7ea8488 AP_HAL: split MPU6000 INS defines for I2C and SPI
7275e33e79 AP_HAL: add the possibility to have more than 1 i2c
b33ed8ce39 build: added bebop build
a6f62c208e AP_HAL: added bebop Linux board type
b32259307d AP_GPS: Add baudrate 230400 for GPS
282efe2d57 AP_Baro: fixed example to run accumulate at 50Hz
338ae68537 autotest: allow run without $PATH setup
01eb27908f autotest: fixed typo
c83d5b1f08 AP_Compass: only build AK8963 driver on Linux
7f425a97a3 autotest: use current autotest directory if possible
f2106f39aa Replay: save CHEK messages when not being generated
2e6b6e473a Copter: fix home_distance calculation
290cdcf6fb Copter: check fence when disarmed
fbe0e5dfb3 Copter: add arming check of fence
f4a9f9876f HAL_PX4: make usb_connected() more robust
2f8a7f316f Notify: enable toshibaLED for NAVIO
402f46c56f AP_Airspeed: fixed a typo in the ARSPD_DEFAULT_PIN define
2eb204d0ca Replay: added --downsample option
dd53f5a7a1 Replay: added --nottypes option
1d732ddf62 Mount: param desc rename from MAVLink to 3DR Solo
07880bf90a Copter: add TRI yaw servo changes to release notes
1b0f482d37 AP_RangeFinder: Add support for HC-SR04 Range Finder connected to BBB
38318c4b51 Linux_HAL_Essentials: Add support for HC-SR04 Range Finder
547dbb3906 Replay: use ARRAY_SIZE macro
e97034f8e9 ArduPlane: use ARRAY_SIZE macro
0bc09adc78 ArduCopter: use ARRAY_SIZE macro
e62c653362 AntennaTracker: use ARRAY_SIZE macro
8f74d7d982 APMrover2: use ARRAY_SIZE macro
dee1bf3da3 Replay: show smaller parameter changes
d192b3ccea Compass: set device id for ak8963 and hmc5843
5ef4f8e90a Rover: log ahrs home and ekf origin
76ccf4043e Plane: log ahrs home and ekf origin
cfe046c9d1 Copter: log EKF height reset
221ddb545e Copter: log ahrs home and ekf origin
ad1f9c4829 DataFlash: add ORGN message
e73562140b Tracker: remove return from mavlink_snoop_static
03356a8d3a OptFlow: fix parameter descriptions
f56f584233 Compass: Improved field rounding in learning
c49e44d02c HAL_LInux: RCInput for Navio
20a04bad77 AP_GPS: request RMC message in NMEA driver
5d5d9dc137 AP_GPS: Fix max/min bug on SBP buffering. Log messages whether SBP driver recognizes the msg_type or not.
efec7723ff AP_InertialSensor: reset the MPU9250 chip on startup
1deb837e70 AP_Compass: Use common function in MPU9250 for initialization
eb4e2ac2e5 AP_InertialSensor: factor out MPU9250 initialization
953bfbd3fe AP_InertialSensor: provide static methods for spi transactions
fde43a77b3 AP_HAL_Linux: allow to change spi device state
384d650a23 AP_HAL: allow to have spi device state
26c8007c96 AP_Compass: updated backend detect method
7a417d1151 AP_Compass: AK8963 rework
f82344358f AP_InertialSensor: Change BBBMINI standard orientation
e6363ea95d AP_HAL_Linux: BBBMINI uses /dev/i2c-2
b211b86204 AP_HAL_Linux: don't manually define number of spi devices
82314ee4a3 AP_Common: add helper macro ARRAY_SIZE
f1ee129423 Plane: compiler warnings
1f58e0080a SITL: fixed some build warnings
698312a32c build: added more warnings and errors to SITL build
8f41d97548 AP_Math: fixed build error on PX4
099392d3ca AP_Math: don't optimise longitude_scale on faster CPUs
bdddfae57f Replay: don't write out duplicate FMT messages
88a90495b2 HAL_SITL: allow for more data before GPS pipe flush
93800fb3a1 Replay: automatically find message types, and improve rate detection
21c895f6f3 AP_GPS: prevent extra NMEA messages causing rapid fix rates
b20318aaeb Replay: remap msgids on pass-through to avoid conflicts
4fb7beba4b AP_NAvEKF: Prevent failure due to magnetometer fusion numerical errors
bd27fed241 Replay: fixed missing import
ef36d74a1c Replay: added generation of -checked logs
c74d39558c Replay: initial version of CheckLogs.py
4f9ccf727a Replay: cope with bad NSats field from old logs
af8b9e703c Copter: fix compiler warning from pid_tuning_send call
43b1694c76 Compass: add third compass to PRIMARY param description
63052ff874 Copter: pre-arm check of battery voltage
edc32092ce Plane: Do not run long_failsafe during final or landing.
9d525d4382 Plane: Do not run FailSafe if on final approach or landing.
baf4989a80 Plane: Ignore low voltage failsafe during landing
a5abb7c698 Replay: use tabs in replay_results.txt
f79ae4b749 Replay: add to replay_results.txt when run with --check
c57b4f9c8c Copter: add Flip, AutoTune to FLTMODE param descriptions
844f050cf3 DataFlash: correct zero-byte-file handling in CLI
89baeb0c78 Update Navio maintainer in README.MD
5b0394eb05 AP_Compass: start MPU9250 driver at low speed
d40b45c9ae AP_InertialSensor: disable reset on MPU9250
b93101b1bf Replay: reduced verbosity
2c0d6c0406 Replay: fixed yaw error calculation
d07b93e661 Replay: fixed writing of CHEK messages
5f0302ed9f HAL_Linux: fixed chaining of getopt calls
ea30e5151d Copter: pre-arm check thr is above failsafe
355575f793 HAL_Linux: fixed chaining of getopt instances
c8a6a02be1 HAL_Linux: don't do chardev test on subtype NONE
0679552cf7 GCS_MAVLink: regenerate headers
44b7c75a4c GCS_MAVLink: merged upstream mag cal messages for APM
41e4c2720d AP_Param: Explicitly casts AP_CLASSTYPE parameter.
9d26bc6958 HAL_SITL: Adds polyfill for feenableexcept on OS X.
523acc1c54 AP_Menu: Corrects string null comparison in AP_Menu.
457d3be4d7 AP_BoardConfig: add user-defined serial number
281f6d9caa HAL_Linux: cope with expansion of storage from 4096 to 16k
87776d8a4b Storage: define LINUX_STORAGE_SIZE correctly
4b0495bb15 Rover: use common mission logging code
3fce7eb21a Plane: use common mission logging code
12bce49cd1 Copter: use common mission logging code
cabea266e7 DataFlash: pull out common mission logging code
b0c6a1fde7 Rover: use common system information logging
bbfe67fe2a Plane: use common system information logging
52a31a31e0 Copter: use common system information logging
d85b247706 DataFlash: Log_Write_SysInfo - pull out common logging startup messages
8bbeedb158 Replay: flush dataflash log on floating point exception
c5c39a77a3 DataFlash: method to flush ringbuffer to fd
686b1137fa AP_NavEKF: added vehicle specific initial gyro bias uncertainty
761b39be03 HAL_Linux: removed extra include
1296da56bb AP_Terrain: fixed terrain path handling
a3c7297d8e HAL_Linux: fixed setting of custom directories
f592981a60 TerrainIO: Support custom_terrain_directory
c06abeb02e DataFlash_File: Support custom_log_directory
2e7a4aa1e6 HAL_Linux: Implement custom dir. methods
e5a90c7a34 AP_HAL: Util, add custom terrain and log methods
5c4ae15deb HAL_Linux: Make use of GetOptLong
309511dc08 HAL_Linux: UARTDriver, const device_path
790f4ec56c HAL_Linux: Util fix indentation
34689cf949 autotest: cope with mavproxy logging msg changes
ac3200fd32 AP_InertialSensor: make max_abs_offsets a single float, not a vector
0fcd98c804 AP_InertialSensor: disable debug on LSM9DS0
c168e19e73 AP_InertialSensor: fix coding style with uncrustify on LSM9DS0
2f2a627002 AP_InertialSensor: use runtime GPIO drdy pins numbers instead C constant macros
0ef914adac AP_InertialSensor: don't take SPI semaphore if not necessary on LSM9DS0
a82ab25ed3 AP_InertialSensor: use bitfield macros instead of literal values on LSM9DS0
1572324315 AP_InertialSensor: add macros for LSM9DS0 registers' bitfields
033409c629 AP_InertialSensor: set max abs calibration offset for LSM9DS0
42eb73a1d1 AP_InertialSensor: add LSM9DS0 backend
c340e072f2 AP_InertialSensor: use accel instance max abs offset instead of a constant value
623c5f0713 AP_HAL_Linux: check if I2C device is chardev
acc571c2c5 AP_HAL_Linux: add function to check if path is chardev
a4c1b0d75f AP_HAL_Linux: add constructor to find I2C bus reliably
ec5d0b6c08 AP_HAL_Linux: reorder members and methods and use C++ initializer
a382ce2b0c AP_GPS: Add support for logging ublox RXM-RAWX messages
d665c85c20 DataFlash: Add RXM-RAWX logging messages
38a8a772f8 AP_GPS: Add fix status 3D+DGPS
15efae5a48 HAL_SITL: use SITL_NUM_CHANNELS
f8944ab6be SITL: define number of RC out channels
be4b6033e4 AP_HAL_Linux: Navio RCInput reimplemented.
e505eb2cd8 AP_HAL_Linux: Changes in Scheduler: Added defines for delays, RCIN_RERIOD changed
90378b21da AP_BattMonitor: Fix battery monitor Floating Point Exception in SITL
2291a8994e Replay: fixed build
16ada34398 build: removed include of vehicle directory in build
d89058a75c Copter: loiter state reads takeoff climb rate during takeoff
01ae84dda6 Copter: Create Loiter state machine.
ff88932091 SITL: setup turbulence in JSBSim
92c9779d18 HAL_SITL: pass turbulence to simulators
1a9cdac441 Copter: remove unused definition
cc212f1398 Copter: AC3.3-rc7 release notes
8fb879a25b PX4Firmware: submodule update
e60f53d144 Copter: arming check Bitmask param description
2b35fbc81f Copter: remove redundant ToRad definition
ef20676c67 GPS: fix INJECT_TO param desc and add definition
0264b1aa84 AC_Circle: set only xy  position targets
0b9c7c2a3b SerialManager: add SToRM32 to protocol param description
ab5f1b3a24 BusTest: Fix compilation error with AP_ADC
b7e12214ed .gitignore update for jsbsim changes
3d2fcfaebd Maintainers: add Peter as DataFlash maintainer
e9e59e6c38 Rover: DataFlash frontend/backend split
788faf1f7d Copter: DataFlash frontend/backend split
7f0a0cf64f Plane: DataFlash frontend/backend split
2266f118e9 Replay: DataFlash frontend/backend split
723c37bcf7 DataFlash: backend/frontend split
21c8a2d94a AP_Common: override new and delete on all platforms to zero memory
f2756ecb22 Replay: added checking of solution
9016a3d3db Replay: added --chek-generate option
ebddc05ead Copter: enable tail pass thru in acro for EXTGYRO tails
eeb97800ae AC_AttitudeControl: allow for tail pass-thru in ACRO mode
42023eb17a autotest: check for .gitmodules before ldir check
163e1d8e1b Copter: update AC3.3-rc6 release notes
58b2f2b112 Copter: update AC3.3-rc6 release notes
c57c0ee0d8 Copter: AC3.3-rc6 release notes
e45f3537cf APM_Control: Remove duplicate include statements
aa04c81e3c APM_Control: Fix a typo in the docstring for YAW2SRV_SLIP
e6122d1a4e AP_Mission: ensure cache coherence on mission resume
d4a34b3da1 SITL: abort sim_vehicle.sh if build fails a second time
a81590f7ac HAL_SITL: prevent FPE on zero range with optflow
14cf9b1621 Copter: reset ekf height if arming before home set
9f17fc17ab NavEKF: update parameter descriptions
87e6a24154 AP_NavEKF: Add public method to reset EKF height datum and baro alt
814edfa457 Copter: shift yaw target if ekf yaw estimate resets
1e3e65e443 AC_AttControl: add shift_ef_yaw_target
e3ccb74e12 AP_NavEKF: Publish amount of in-flight yaw angle reset
8891cd159a Copter: Tradheli to check rotor_runup_complete before allowing takeoff.
48828a7834 autotest: more changes to cope with older builds without submodules
fd17a69cd1 autotest: skip binary builds without submodules
54e2ebde1c PX4Firmware: submodule update
63895cbe75 autotest: build pxf and navio binaries for firmware.diydrones.com
5bf5261734 README.md: fix typo in dronecode description
3572ad8fcb README: added Jon as Solo maintainer
54efa3d727 Replay: split off a ReplayVehicle class
a22f9bc695 Add Dronecode.org to README.md
c72dc9bd45 AP_InertialSensor: make single rotation on MPU9250
3dad768e8b AP_InertialSensor: log failure to initialize after max attempts on MPU9250
587471ab54 AP_InertialSensor: disable I2C on MPU9250
54c06cde02 Plane: Log the steering controller PID state
6cd81ae1fb APM_Control: Add PID logging to yaw controller
1a121f543b Plane: Use PIDS for steering rather then PIDY
225c946af0 DataFlash: Add PIDS for steering logging
11214b3414 AP_Motors: move constraints to set_throttle
89345bad7a Copter: clarify takeoff_timer_start alt units
f79ac46d60 Copter: fix althold take-off state
15c57342a5 Copter: remove some comments from althold
a642c88e34 Copter: AltHold state machine
84ac8abc42 AP_Mount: Fixed a bug with wrapping of panning angles.
568b0fde3f PX4Firmware: submodule update
4aac2c5c96 Plane: trigger OVERRIDE_CHAN in px4io
f628440df9 Travis: removed parallism from coverity build
a424686d2f DataFlash: reduce future merge conflicts
81e6d88560 StorageManager: fixed hang in erase()
4eab27abe9 AP_InertialSensor: fixed logic bug in MPU6000 init
248bf8c5a3 Plane: disable geofence on APM2
131b345ccc APM_Control: cleanup some coverity warnings
2dbe372b2f Plane: cleanup some coverity warnings
ae1f2e8bea Plane: fixed missing break statement
520d6cae6d build: fixed typo
cfa63254b6 build: added support for developer.mk (at request of David)
c4c97b14d3 build: only build required boards in NuttX archives
8f95bc3b67 Copter: parachute check uses lean angle error of 30deg
4154ecdf18 Copter: use angle error instead of absolute angle
911bee3518 Copter: set throttle_mix to min when disarmed
8cdfac8fcd Copter: remove baro and pilot thr from crash checks
e9829e0d82 Copter: remove unused landing detector definitions
322a61635f SITL: allow extra arguments to be passed to last_letter
7e23912d17 autotest: added -b option for build target to sim_vehicle.sh
ee6508d5a7 Copter: Event Log rotor speed going below critical
0c92565d23 AP_MotorsHeli: add Critical Rotor Speed param, use to switch off runup_complete
62079226ff Copter: add Heli Dataflash message
3ad6700c5d AP_MotorsHeli: add getters for rotor speed
8b917b82ee AP_MotorsHeli: Simplify set_desired_rotor_speed function definition
3e2e0d07a4 Copter: THO Check Rotor Speed before declaring not landed.
c6281c772d Copter: add rotor_runup_complete Event Logging
79e8c8f7f7 AP_MotorsHeli: whitespace fixes
ef80634435 Copter: auto_armed goes false for Heli when landed and motor shut off.
3da78052a1 Rover: Release 2.50!
b375a8debf SITL: Allows last_letter to start at the location specified by the SITL arguments
8426553609 Move maintainers to a section in README.md
a602173c45 Rover: added the PID logging for steering into the mavlink message.
268afc9d5a Rover: Added dataflash logging of the steering PID.
a87e06e6c2 Copter: Autotune Final Tweak
7745fb21a7 Copter: remove set_accel_roll_max
c8b522a064 Copter: AutoTune always backup gains regardless of which axis enabled
c1134c1639 Copter: AutoTune remove unused local variable
e8cc5d6312 Copter: Autotune aggressiveness tweeks
0b4d9b80e7 Copter: AutoTune increase max aggressiveness
fe0d069eab Copter: Autotune log acceleration
b336ab4de7 Copter: Autotune remove logging of BAD_GAINS event
7957d5fc19 Copter: Autotune use set_accel_roll, pitch, yaw
196f6cf1b7 Copter: AutoTune definition and comment changes
21cd73e877 Copter: AutoTune bug fix to save feedforward setting
773984b4ea Copter: AutoTune record accel max values
cfc388934b AC_AttControl: add set_accel_roll_max
0645474b3b autotest: Fixed the LOG_BITMASK for Rover in SITL.
20b63eff2e PX4Firmware: submodule update
39c0879dac Rover: added CLI_ENABLED parameter
7c55689aad AP_HAL_Linux: Fix loading Firmware
9e36e2c562 Replay: fixed handling of dual-GPS HDop field
6ba8cd05ff AP_NavEKF: Fix bug preventing GPS vertical velocity being used
a1d478909a AP_BattMonitor: Add Linux support for example
d169fea9ec AP_AHRS: Add Linux support for example
588a16dec2 AP_InertialSensor: Add Linux support for VibTest example
a8df968441 Fix vagrant build issues with submodules.
19aa7caad0 GCS_Failsafe: option to trigger only in AUTO mode.
39797529fd GCS_Failsafe: defines for new failsafe option
3e84132f6b GCS_Failsafe: new parameter option
a7eadc3f8b PX4NuttX: submodule update
032c89bde9 PX4Firmware: submodule update
de11b5394e GCS_MAVLink: support NSH shell with SERIAL_CONTROL
a0594bd50e GCS_MAVLink: regenerate headers
bdbe1a7553 GCS_MAVLink: added SERIAL_CONTROL_DEV_SHELL
d909f11ba3 HAL_PX4: added implementation of NSH shell stream
7f239f5d46 AP_HAL: added get_shell_stream()
4fe092fead AP_InertialSensor: panic on bad gyro or accel sample rates
d3b85eb792 AP_InertialSensor: use driver supplied sample rate
e91bfdfc1c AP_InertialSensor: fixed VibTest example build
feb928dcd3 DataFlash: fixed build warnings
c9988d8b37 AP_NavEKF: rely on delta_velocity and delta_angles always being available
bc0ae630a1 AP_InertialSensor: always provide delta_velocity and delta_angles
a115182041 AP_NavEKF: fixed minimum deltat to be 100us
c221959d5a AP_NavEKF: fixed corrected del velocity to use both accels
db4ac68f5e Copter: fixed logging of IMT without raw logging
f831c16238 AP_InertialSensor: use fixed sensor sample times
f77ffd30f6 AP_GPS: fixed HIL GPS driver to make have vertical velocity sticky
47834759e5 Replay: fixed build warnings
31f7525a61 Replay: added --no-imt flag
82ad454864 Copter: log sonar_alt even when disabled
5644dd8620 Copter: fix duplicate IMU logging
9d81856580 InertialSensor: fix name of get_delta_velocity method
cd9f62328e Copter: log IMUDT with IMU
384755e271 Dataflash: add IMT messages
ac09a61238 Travis: split build by target instead of vehicle
a435269839 Travis: make most targets run with -j2
985764fb1c Travis: build APMrover2 and AntennaTracker for apm2
5c5bdc2c7b Travis: use associative arrays
ae40aed2a2 Travis: split build using vehicle types
a124fbc4c2 Travis: don't build same configuration multiple times
5b14ce7694 Copter: remove comments that number scheduler table
5e40ad5c38 Copter: sonar pre-arm check only if optflow enabled
43d6060ba7 autotest: removed "Library Parameters" heading in autodocs
58b1702552 Copter: fixed pde paths
48aae34319 AntennaTracker: fixed pde path
c7cb980498 Replay: support IMT messages
727be87d84 AP_InertialSensor: support HIL functions for delta_velocity and delta_angles
f603c1ef69 Copter: fix ekf-check reliance on position_ok
46926765c4 autotest: support general models
4677c189e0 HAL_SITL: support balloon model
83cc60a699 SITL: added simple balloon simulator
76c0293a85 Plane: added support for DO_AUTOTUNE_ENABLE
d5c5400e76 Plane: added support for ALTITUDE_WAIT mission command
358a13261c Plane: moved sink_rate calculation to update_alt()
5e80f0cf72 APM_Control: allow for multiple stop calls in autotune
9bd8e215b2 AP_Mission: enable DO_AUTOTUNE_ENABLE
08acde2766 AP_Mission: added ALTITUDE_WAIT NAV command
c415bfe766 GCS_MAVLink: regenerate headers
3ef44459c8 GCS_MAVLink: added ALTITUDE_WAIT message
22d5d2e251 scripts: fixed build_binaries for submodules
71bc48189e Replay: remove dangling declarations from LogReader.h
f996bf4307 Replay: move LR_MsgHandlers into their own files
7eb588e9ff Replay: use a subclasss of DataFlashFileReader to determine log rate
d41b21cd19 Replay: split off a base class for reading dataflash logs
0b5e645075 Replay: grab reference to timestamp rather than timestamp
f93a259b04 Copter: add comment to Solo section in Parameters.h
fd37a48f8e Copter: clean up Parameters.h comments a bit
035c0b567e Copter: reserve param indices that exist in Solo repo
69e59b2d99 GCS_MAVLink: update version after adding LANDING_TARGET
835a203566 GCS_MAVLink: generate after adding LANDING_TARGET
94aec19336 GCS_MAVLink: import LANDING_TARGET from upstream
76fdfdfcf2 GCS_MAVLink: do not send_vibration on APM2
0d239d2746 DataFlash: disable vibration logging on APM2
8ceccd778d InertialSensor: disable vibration checks on APM2
fe1da458a7 Rover: avoid compiler warning re to new VIBRATION msg
0b9929bb04 Tracker: avoid compiler warning re to new VIBRATION msg
814cb5ce18 Plane: add vibration DF logging and send to GCS
40ed2f7f53 Copter: send vibration in STREAM_EXTRA3
642aa74530 GCS_MAVLink: add send_vibration
581e43bd0e GCS_MAVLink: update version after adding VIBRATION msg
afbb670e73 GCS_MAVLink: generate after adding VIBRATION message
e677a100c6 GCS_MAVLink: add VIBRATION message to common.xml
9e08775cbf Copter: log vibration at 10hz
f0f262eb04 DataFlash: add Log_Write_Vibration
1289208244 LowPassFilter: add get method
0db7acc628 InertialSensor: calc vibration and accel clipping
c9e04cb98d PX4: fixed build with uavcan as submodule
d45f6e8f1d PX4: fixed startup tone
3427224bfc Plane: fixed logging of parameters on arming
290805b879 Copter: fixed logging of parameters on arming
3544549cf4 AP_GPS: Allow switching primary GPS instance with 1 sat difference
58505d8242 Copter: autotune relaxes alt controller when landed
1bd6728e21 Copter: add All+FullIMU to LOG_BITMASK param description
c0dceb667d Travis: reduced number of threads used for a build
dea36c1ae9 HAL_PX4: fixed build on non-PX4 systems
9b273e6254 PX4Firmware: updated submodule
88655b48e1 HAL_PX4: added px4_param stub functions
bbdb4e41bb px4: added ARDUPILOT_BUILD=1 to PX4 build
0b6323d5ed Mount: default MNT_TYPE to servo gimbal if rc outputs defined
28fc981d29 Copter: refresh rc servo function on startup
03a336d496 RC_Channel: update_aux_servo_function made public
5b34fa4f6a Plane: added DSM bind support
a3ddc49a70 Copter: added DSM bind support
3ecead9d3c Rover: added DSM bind support
40a5aa497a HAL_PX4: added rc_bind for DSM bind
8cb367eaf8 AP_HAL: added rc_bind rcin method
b3da1579c1 AP_Notify: rename member to initialized
3f8dab41c4 AP_Notify: fix wrong boolean check
bb534c20b5 Fixes build issues with the vagrantfile now we use Git submodules
ce1031a5bd Copter: remove AP_AHRS_NAVEKF_AVAILABLE checks
e3183babde Copter: remove unused GPS failsafe definitions
aa05325b54 Copter: add althold as ekf failsafe action
4408f01f39 Copter: rename ekf_check_thresh to fs_ekf_thresh
125042e1db Replay: use GetOptLong for command line parsing
979a571d68 AP_HAL: fixed example build
f4db241bf6 Replay: avoid dataflash buffer filling up on many pass-through messages
5fb46b0e11 Replay: fix dataflash overflow on timestamp-poor (older) logfiles
267455ec26 PX4Firmware: updated submodule
d5e947acd5 PX4Firmware: updated submodule
81a1c4bd8a PX4NuttX: updated submodule
d6af9fd0ee HAL_PX4: prevent uavcan motor spin up while booting
6a33aeef67 HAL_PX4: cope with multi-instance actuator_outputs uORB
a3334e0602 PX4: updates for upstream merge
2167675b3d AP_RangeFinder: update for upstream merge
23d291f144 AP_Notify: update for upstream merge
333778bac1 HAL_PX4: updates for upstream merge
57cef63b94 autotest: enable submodule build for binaries
28ffd9d4ed travis: setup for git submodules
9698cae971 PX4: fixed copy of template build for PX4
4036a2e19b px4: show warning if old PX4 subdirectories exist
01a330e3c5 PX4Firmware: update submodule
3ec1a0ca84 modules: show wiki URL on all submodule errors
0e6f6c49c6 build: fixed subdirectory for NUTTX_SRC
9440bdceaf PX4Firmware: update submodule
f54d1bba0a PX4Firmware: removed .gitmodules
3b886cd966 modules: show an error if config.mk specifies PX4 paths
a6d34c208d modules: throw an error message on submodule init
cf21cc8132 build: removed check for existance of PX4 subdirs
fc3b75710f modules: check also for modules/.git
02aa6983a7 APM_Control: fixed FF handling in steering controller
5a6ac461d1 PX4: build using submodules
a203dd2660 modules: added check_modules in PX4 build
8f41e32767 modules: added initial submodule versions
1ad468d014 modules: added git submodules for PX4 build
6b9854457d Plane: added PID tuning logging for ground steering
5105d510b8 APM_Control: added pid_info and FF to steering controller
bc6a52f8db Plane: fixed handling of OVERRIDE_CHAN on arming
c44ab01be8 AP_HAL: use noreturn attribute on panic
aa7a151fe5 AC_WPNav: init flags
bb382a65e8 AC_Circle: init members and flags
1bf0139162 AC_Sprayer: init flags
d2f93dd379 AC_PosControl: init flags
5f53937c6a Tracker: init member variables
6e23d05140 Copter: add member init
a0d97f1160 Copter: acro_level_mix becomes local variable
d366c30358 AP_RangeFinder: fix potential out-of-bounds read
7613964ecb Copter: fix bug in which do-parachute command could start motor test
2849430341 AP_Motors: init flags
ac76562638 RangeFinder: init state and drivers
7bbaeac55f OpticalFlow: init _last_update_ms member
ca482cf44a StorageManager: added example sketch
c6c6e2dc13 AP_GPS: add comments to example sketch
f314b243ee Rover: Make guided operate the same way as Plane/Copter.
32994a5b1e AP_HAL_AVR: Changed constrain_period to use RC_OUTPUT bounds instead of RC_INPUT Done in order to get full range of motion for servo output
de50217809 AP_HAL: Added RC_OUTPUT_MIN_PULSEWIDTH set to 400 and RC_OUTPUT_MAX_PULSEWIDTH set to 2100 For use in AP_HAL_AVR in RCOutput_APMx
382f5d087f AC_PosControl: explicitly set set_alt_target_from_climb_rate params
ee3ba48097 Copter: set Brake speed to 250
6ea60aa662 AC_PosControl: remove default from set_alt_target_from_climb_rate
362a43c126 Copter: explicitly set alt_target_from_climb_rate parameter
11fee21f06 AC_PosControl: init accel_last_z_cms
b8e3fe8f26 Mount: AlexMos fix to stop crashing before init
66d2328163 Mount: Alexmos save 4 bytes of RAM
7a8fe5f4d4 Mount: Alexmos formatting fixes
7dcd24137e Plane: add bitmask documentation
fbec1e63ad autotest: fix typo in Bitmask keyword for autodocs
ebeb2b7ebb Copter: add bitmask documentation
7c851b781b autotest: allow Bitmask keyword in autodocs
d7fe6bfe0d Terrain: cast grid_spacing to fix OSX clang error
62816b28f6 Copter: corrects C11 errors in AutoTune for OS X with clang.
1d39f548dc AP_HAL: remove aliases FUNCTOR_[BIND|TYPEF]_VOID
98a1a05933 AP_Scheduler: stop using alias FUNCTOR_BIND_VOID
34058787f3 AntennaTracker: stop using alias FUNCTOR_BIND_VOID
6bbf0e7770 Plane: stop using alias FUNCTOR_BIND_VOID
b9b921fc38 Rover: stop using alias FUNCTOR_BIND_VOID
a74113dde0 Copter: stop using alias FUNCTOR_BIND_VOID
bf396d7138 Plane: log to tlog when we set home via MAVLink
5942bf5cf0 Plane: added plane specific arming checks
2de8c26c06 AP_Arming: allow pre_arm_checks() to be subclassed
5d749b7bb3 Typo "stil" => "sitl" in help.mk
26fdaa0710 Tracker: reverse CR servo error calculation
fba8ca3a98 AntennaTracker: continuous rotation servos
ac05f0f1d4 Tracker: remove duplicate THISFIRMWARE define
7382095d79 Tracker: version to 0.7.1 and release notes
dbff6cab43 HAL_Linux: added udp example to help
738e4d89db Copter: default RC_FEEL to Medium
b1002eae3b Replay: fixed -A0 for "arm immediately"
d3f83e8ec6 AP_NavEKF: Improve gyro bias learning rate for plane and rover
367a87591a AP_Param: fixed build of eedump_apparam
3f3cca4415 Travis: added coverity scan travis rules
e25948c1b5 build: simple top level makefile
47f4a5db10 Plane: try to load px4 mixer 10 times on boot
3e74b82bc4 Plane: fixed two bugs in px4io override code
9a7b283322 AP_GPS: fixed enable of RXM_RAW on uBlox on Pixhawk
08466d34e8 Frame: add SToRM32 gimbal parameters
9ece826c28 Plane: Log_Write_Startup writes parameters
b2ca7ee3fa Copter: Log_Write_Startup writes parameters
31aae1f019 Rover: Log_Write_Startup writes parameters
7d1bf75aa8 DataFlash: Moving parameter logging to be after all systems have started
2c3cff7f84 Plane: Moving parameter logging to be after all systems have started
518308efae Copter: Moving parameter logging to be after all systems have started
e86a89e5bd Rover: Moving parameter logging to be after all systems have started
bd92febe77 Rover: Removed superfluous speed-type parameter
9c28d61a5c Mission: protect against endless loops of do-commands
c5f680de44 build: removed support for .pde files in build
a87279cfe5 Hello: convert example from .pde to .cpp
530c9c988f Rover: removed unused pragmas
e234844905 RC_Channel: fixed example sketch
767aeedf01 AP_Mission: fixed example sketch
b2a5de8a63 AP_Scheduler: fixed example sketch
db784c83dc Plane: removed unnecessary pragmas
214b61bfc0 AP_InertialSensor: fixed example build
3edac37929 AP_Math: removed unused include in example
407fbc7261 AP_Menu: remove unused AP_Vehicle.h include
9fa1e15238 AP_Menu: removed example sketch
5c86005160 AP_HAL: removed spurious delay example
1bd61ae96e AP_HAL: no need to include AP_Vehicle_Type.h here any more
d746e8fa29 AP_Motors: mark examples as nobuild
e233376074 scripts: don't build VARTest example
bd71e8e848 VARTest: removed example sketch
7f408cae02 AP_PerfMon: convert example from .pde to .cpp
a3546a3ac2 CPUInfo: convert example from .pde to .cpp
421c7e02ae StorageManager: convert example from .pde to .cpp
6c1c2dd8bd RC_Channel: convert example from .pde to .cpp
fce95178e7 PID: convert example from .pde to .cpp
3b48f68cce GCS_MAVLink: convert example from .pde to .cpp
89c4e6fc21 GCS_Console: convert example from .pde to .cpp
b7f0735c2b Filter: convert example from .pde to .cpp
e734f24cc1 DataFlash: convert example from .pde to .cpp
ae4cfe3f2f AP_Scheduler: convert example from .pde to .cpp
b2fb2c676e AP_RangeFinder: convert example from .pde to .cpp
330d8f5c3a AP_Parachute: convert example from .pde to .cpp
637f8430c9 AP_OpticalFlow: convert example from .pde to .cpp
24e2e4b35e AP_Notify: convert example from .pde to .cpp
83b46243db AP_Mount: convert example from .pde to .cpp
89baf2bdf1 AP_Motors: convert example from .pde to .cpp
d1ed4c863c AP_Mission: convert example from .pde to .cpp
4d040bbb94 AP_Math: convert example from .pde to .cpp
7f7113c1de AP_InertialSensor: convert example from .pde to .cpp
ca8482b4d6 AP_HAL_PX4: convert example from .pde to .cpp
dd10cbc976 AP_HAL_Linux: convert example from .pde to .cpp
f9aa1d1a8b AP_HAL_FLYMAPLE: convert example from .pde to .cpp
36b19b26ce AP_HAL: convert example from .pde to .cpp
379b130d0a AP_HAL_Empty: convert example from .pde to .cpp
0cc31c2db5 AP_HAL_AVR: convert example from .pde to .cpp
e18a2df64e AP_GPS: convert example from .pde to .cpp
7320a35ad2 AP_GPS: convert example from .pde to .cpp
c18c84fbe1 AP_Declination: convert example from .pde to .cpp
d6a1bd98e6 AP_Compass: convert example from .pde to .cpp
191cdb8bc1 AP_Common: convert example from .pde to .cpp
debe7db861 AP_BattMonitor: convert example from .pde to .cpp
4368f922a3 AP_Baro: convert example from .pde to .cpp
e66b56970e AP_Airspeed: convert example from .pde to .cpp
edab50ab5a AP_AHRS: convert example from .pde to .cpp
0cfdb9af8a AP_ADC: convert example from .pde to .cpp
a62c450f86 AC_PID: convert example from .pde to .cpp
2b828a794e AP_Math: fixed example build
e449b3c4a1 Rover: changes for new AHRS API
fdc0839aaa AntennaTracker: changes for new AHRS API
bfb105fa5a Copter: changes for new AHRS API
9adc879253 Plane: changes for new AHRS API
04ba5fa0bd AP_AHRS: pass EKF into constructor
26e55f078a Replay: converted to .cpp files
f50ee4c44c GCS_MAVLink: all vehicles now use functors
9379e79489 DataFlash: all vehicles now use functors
f24e69f4a0 AP_Vehicle: all vehicles now use functors
dd691ae75c AP_Scheduler: all vehicles now use functors
ec2d429513 AP_Mission: all vehicles now use functors
bd5a58e4c4 AP_Menu: all vehicles now use functors
4dd47ead0e AP_HAL: removed old fastdelegate code
24c85ff9d8 AntennaTracker: added Parameters.pde for old MissionPlanner
f8adea2ddd AntennaTracker: complete conversion to .cpp files
1660b027ca AntennaTracker: rename pde files to cpp
9ed0ee12fb AP_Vehicle: all vehicle types now use functors
f4c61acbc2 autotest: removed old python antennatracker simulator
96737a3982 SITL: fixed yaw wrap in simulated AntennaTracker
2d2cc6c574 build: fixed flymaple build
074a6cad91 autotest: use new tracker simulator in sim_vehicle.sh
d57eca9de8 HAL_SITL: enable simulated antenna tracker
edb54cabb5 SITL: added simulated antenna tracker
d516dc7fde build: fixed dependency on frame type for px4 build
65d0ecdef7 build: fixed dependency on frame type and options
1797e2baa8 Plane: simpler initalisation of plane class
e5e21ddcce Copter: fixed heli SITL build
14bdfe2889 SITL: started to use C++11 variable initialisation
b541bfb739 SITL: fixed build warnings
d5da9fcca6 AP_NavEKF: fixed build warnings
6a2c585632 AP_InertialSensor: fixed build warnings
ac3fc2f373 AP_HAL: fixed build warnings
084521243e AP_GPS: fixed some build warnings
249b339e6c HAL_SITL: fixed a build warning
73445fdae9 DataFlash: added error checking and fixed a warning
b87cc80486 Copter: fixed some warnings
bcb6fe9ae7 build: make reading config.mk be info not warning
42c202a08f Copter: move set_land_complete_maybe to landing_detector.cpp
b139dfedae Copter: formatting minor fix to land-complete-maybe threshold
fb82ac3eb3 Copter: rework land detector logic
57544a3537 Plane: added blank Parameters.pde for MissionPlanner
d167407462 Copter: added blank Parameters.pde for MissionPlanner
5dfa2783e0 Rover: added blank Parameters.pde for MissionPlanner
b6ed86465b autotest: prioritise .cpp projects over .pde projects
1088e72fda AP_Vehicle: make copter use functors
278883c521 Copter: finished conversion to .cpp files
356ece3402 Copter: rename .pde files to .cpp files
1520d8f734 Plane: catch a px4_mixer failure case
8adc60751c Copte: fix LOG_BITMASK parameter description
1424b17a83 AP_Motors_Heli: Change default RSC_SETPOINT to 700
4da54783fd AC_AttitudeControl_Heli: Semantic Change.  Motor Runup to Rotor Runup.
80b4ca99f8 Copter: Heli Semantic Change.  Motor Runup to Rotor Runup.
d24664ccf9 AP_MotorsHeli: Semantic change.  Motor Runup to Rotor Runup
db3852522f Copter: Arming failures should say Collective not Throttle for Tradheli.
112fef4825 Copter: Change Tradheli arming failure message.
a8c4274db4 Copter: Tradheli: eliminate motors.set_dt
65ca09600c AP_Motors: Heli eliminate _dt member and fix rsc_runup calculation
bc23ea4633 Copter: Comment change, main loop time to 400Hz.
18bac524a3 Copter: TradHeli, change Rate FF LPF to 10Hz
337cd3d4a7 autotest: allow RebootRequired keyword in autodocs
9b77260ebb Plane: disable PID logging on APM2
f39063e023 DataFlash: don't do PID logging on APM2
19b021f729 RCMap: added RebootRequired param description
b02bbcd289 RCMap: added Reboot required to rcmap parameter descriptions
b27d0a6525 Replay: handle replay on older logs
22ce36fc8b build: make px4-clean depend on px4-cleandep
2007d2b6eb Replay: cope with FRAM messages
6b65aa465b Copter: pre-arm checks ignore unused compasses
b6eba0842a DataFlash: fixed CAM message format
00ca493860 AP_AHRS: prevent a floating exception in update_trig
b121d83beb RC_Channel: add EPM, LandingGear to FUNCTION param description
17063792cb Copter: deploy gear during mission RTL descent
8454246fae AP_Param: make it safe to change the type of a parameter
2f5ade4810 Plane: use 16 bit mask for GCS_PID_MASK
1792710f41 Copter: added a bit in LOG_BITMASK for PID logging
95ff71940c DataFlash: fixed rebase errors
08f8355dd0 Copter: added logging of Z accel PID
8f34ed5b76 DataFlash: added PIDA message
cdea9be9bb Copter: added PID_TUNING for accel controller
a57889e3b0 GCS_MAVLink: re-generate headers
0ed7fda41d GCS_MAVLink: added ACCZ and STEER PID_TUNING axes
521dae1c65 AC_AttitudeControl: use set_desired_rate() on PID controllers
3ec8857fbc AC_PID: added set_desired_rate() interface
6000bb0c32 AC_PID: log desired rate for VFF as well as AFF
b45ab52015 DataFlash: added desired rate to PID logging
4512e408f7 AntennaTracker: fixed build
254d4219d4 Rover: fixed build
86a3bca88c APM_Control: added FF parameters to roll and pitch controllers
353879cd2b AC_AttitudeControl_Heli: Add Rate Accel FF to Yaw control
366f87c91c AC_HELI_PID: Add Acceleration FF method.
7ab628521e DataFlash: Add Acceleration Feedforward to PID_Info.
810b12a1ac AC_AttitudeControlHeli: Change Rate Yaw FF LPF from 5Hz to 10Hz.
22524daf5f Copter: added GCS_PID_MASK for mavlink rate tuning
e79a21d8c2 AC_PID: fill in desired rate for heli PID
09476bf9d3 Plane: added GCS_PID_MASK for realtime pid tuning
d148c38f68 DataFlash: added desired rate to PID_Info
0fe04a93ce GCS_MAVLink: rebuilt headers
cc80fdf593 GCS_MAVLink: added PID_TUNING message
c31da93726 Plane: log roll and pitch PIDs
216a78a9f0 APM_Control: added get_pid_info() interface
23adf2773c AC_AttitudeControl: Remove To-Do comments for Attitude Rate logging.
967071ca62 AC_PID: Integrate PID Logging functionality.
dc69fe5c3b Copter: Add Attitude Rate PID logging functionality.
753be18c17 DataFlash: Add PID Logging Method
c8a1e48f0c Copter: Tradheli fix Land Detector.
d8df31c023 SITL: initialise a couple of variables to prevent a valgrind error
2a22ae5404 DataFlash: support 64 bit TimeUS log dumping
1400d0155c AP_Mount: fixed valgrind error with gimbal code
4705be97bf AP_HAL: support %lld and %llu in internal printf
8be9e99fad AP_InertialSensor_PX4: 64-bit timestamps for ACCx and GYRx messages
988f3277de DataFlash: 64-bit timestamps for ACCx and GYRx messages
8eafc209a9 Replay: understand and use 64-bit timestamps in Replay
f489f6b696 AP_InertialSensor: use 64-bit timestamps in dataflash logs
9ae85ed9ab APM_Control/AP_AutoTune: use 64-bit timestamps for dataflash logs
457f77314e AP_TECS: use 64-bit timestamps for dataflash logs
feb85ef7d5 AP_GPS: unused SBP struct gets 64-bit timestamp
4d67ccb338 AP_GPS: use 64-bit timestamps for dataflash logs
9e0b5910e2 AP_Terrain: use 64-bit timestamps for dataflash logs
88015503ac SITL: use 64-bit timestamps for dataflash logs
d7299aa884 Copter: use 64-bit timestamps in dataflash logs
d7ed06816a Plane: use 64-bit timestamps for dataflash logs
58f2bcb754 Rover: use 64-bit timestamps in dataflash logs
617043f468 DataFlash: convert GPS and CAM dataflash messages to 64-bit timestamps
769982b8f2 DataFlash: use 64-bit timestamps for dataflash logs
114c4f4077 AP_Match: fix example sketch
fb2d29364e Mount_SToRM32_serial: fix angle request
9b04a67e63 Mount_SToRM32_serial: rename sent_do_mount_control
72eb25b166 Mount: add SToRM32 serial to front end
c133511431 Mount: add SToRM32 serial support
69959a4214 SerialManager: add SToRM32 serial enum and baudrates
544eb8ea3f build: fixed flymaple build with functors
c7044c4f91 AP_Terrain: make terrain request times per channel
3a9d7363ea HAL_VRBRain: fixed functor comparison
e589ca9b80 HAL_Flymaple: fixed functor comparison
7e264b44df HAL_Linux: fixed functor comparison
96b921d4cc AP_Scheduler: fixed example build
ce0ee69a3b AntennaTracker: fix for scheduler API change
4fdfa47ca3 GCS_MAVLink: removed BUILD_DELEGATES code
8624a262e7 DataFlash: removed BUILD_DELEGATES code
83e6181024 AP_Vehicle: removed BUILD_DELEGATES code
e3f8e22fc6 AP_Mission: removed BUILD_DELEGATES code
85f87b6d9c AP_Menu: removed BUILD_DELEGATES code
1a2b02a563 AP_HAL: removed AVR special case
964b8ed2f3 Plane: fix for scheduler API change
19332be52e Copter: fix for scheduler API change
7d51817716 Rover: fix for scheduler API change
7db9da6545 AP_Scheduler: removed delegate ptr handling
edc21cfa38 AP_Compass: make having no compass backends non-fatal
43fb1202f2 HAL_PX4: fixed functor comparison with NULL
0daeeb9518 ArduPlane: Start using new Functor implementation
84f399ec3c APMrover2: Start using new Functor implementation
20ef7efaf6 AP_HAL: use functor macros
7c4cf41ebc ArduPlane: use functor macros
2f5314a1a6 APMrover2: use functor macros
c894a1349e DataFlash: use functor macros
6ae2591cad AP_Terrain: use functor macros
9764bb2452 AP_Notify: use functor macros
3aa46e3213 AP_InertialSensor: use functor macros
4c97d92982 AP_HAL_Linux: use functor macros
9b7c1d8f93 AP_HAL_FLYMAPLE: use functor macros
dcf992b558 AP_HAL_AVR: use functor macros
435613de69 AP_Frsky_Telem: use functor macros
95627cf412 AP_Compass: use functor macros
df5652fa87 AP_Baro: use functor macros
ca7db5cdc1 AP_Arming: use functor macros
cc1fbddc95 AP_Airspeed: use functor macros
f7dc19554f AP_ADC: use functor macros
e24c5349c8 APMrover2: cleanup in tabs and trailing whitespace
9f0af5b9cb AP_HAL: add fallback implementation of functor macros
83efb9280b AP_HAL: use variadic templates in FastDelegate
78b00784fb AP_Scheduler: allow to use functor
58847bffd6 GCS_MAVLink: allow to use functor
cd308b5e2f DataFlash: allow to use functor
384a3bfcc3 AP_Mission: allow to use functor
70525fa2c1 AP_Menu: allow to use functor
4b5cf24a81 Allow to change to functor implementation
a1e1503e1a AP_HAL: Add Functor implementation
5dfb3ed70c AP_Scheduler: replace tabs with spaces
82d22992bd GCS_MAVLink: Do not compare delegate to NULL
ff398dbf0c AP_Menu: Do not compare delegate to NULL
acdcdc35fa AP_HAL_SITL: Do not compare delegate to NULL
9ef870c08a AP_HAL_AVR: Do not compare delegate to NULL
57386434d1 AP_ADC: remove AP_ADC_HIL
c423fb5f46 build: switch to c++11
58a3d70f8b build: avr: Fix build with gcc > 4.8
b40d8f94d6 build: removed .d dependency files in sketch directory on px4-cleandep
97687f04af Plane: enable messages for MAVLink gimbal support
b1f7b80f7e build: minimise the number of eval calls in build
d777166c6f AP_MotorsTri: revert tail servo to Ch7
182db2ece0 Copter: remove unnecessary bracket
1a1fa7ca4b AP_MotorsHeli: add comment to avoid param conflict
4c94a69e33 AP_MotorsCoax: resolve param conflict with TradHeli
78b49fb4c6 AP_MotorsSingle: resolve param conflict with TradHeli
8dc7cf7fa8 AP_MotorsTri: YAW_SV_REV values -1 or +1
71e4bccecb AP_Motors: init members in constructor
8f275ca2c4 Copter: Employ heli_radio_passthrough() for servo setup
915236f1f5 AC_AttitudeControl: Non-functional comment change
e87ca6de6f AC_PosControl: Change motors.get_throttle_out
b8181b6b90 AP_Motors: RCMAP fix
70a9a5699c Copter: usage of rc_3.servo_out to use motors.get_throttle
316196b12f Copter: Finish RCMap fix.
acdf4a226f Copter: RCMAP Fix, remove RC_Channel references
554de1f2d7 Copter: added channel objects named after input function
d48bd8708b build: allow ccache to be found on windows cygwin
ef72d5bff2 build: don't expand all target unless a '-' is in main target
527fc2a610 SITL: use 127.0.0.1 to improve reliability on windows
563be63d00 SITL: try to get speedup accurate on both windows and linux
2b2259a6d7 SITL: use more granrular sleeps for windows
320b69c375 autotest: make sim_vehicle.sh work better on windows
23617b442e build: use a config.mk if it exists, but don't require it
c06d81a06a SITL: use autotest_dir
3daee9c8bc HAL_SITL: added --autotest-dir option
4f37926aea SITL: fixed gimbal build on PX4
532839d7dd autotest: remove old python simulators
958d8b4787 GCS_MAVLink: update from upstream headers
9f09ac64cf autotest: enable internal MAVLink gimbal
e7abc07898 HAL_SITL: enable --gimbal option
7f5b206c55 SITL: added gimbal simulator class
2f7facba40 GCS_MAVLink: removed old MAVLink 0.9 headers
d96e62cce7 AP_Mount: update gimbal for changed quaternion API
2a8f645d81 AP_Math: use matrix3 euler312 operations in quaternion library
7aa7e03169 AP_Math: added euler312 functions (for gimbal)
2bb5f677c7 SITL: removed earth frame rates
8dce5e11d6 HAL_SITL: removed earth-frame rates
0d20167294 autotest: removed earth-frame rates usage
5511140f95 Plane: fixed fence return point on breach
8f5c663463 autotest: show -M option in usage for sim_vehicle.sh
19419fd901 AP_Mount: fixed reporting of MAVLink gimbal position to GCS
7a0e07e67a Copter: update AC3.3-rc5 release notes
b61f7fa2f6 AP_AHRS: enable EKF by default on plane
efd958f0b0 AP_NavEKF: rename file to remove spaces
90aa834102 autotest: use internal simulator backends when possible
616dcf2721 Copter: version to AC3.4-dev
43a3d0cd95 Copter: version to AC3.3-rc5
38e3507abd Copter: AC3.3-rc5 release notes
2d53a1ff9a SITL: fixed airspeed in last_letter
ae6ac1b82d SITL: fixed airspeed in CRRCSim
da5d5c9936 SITL: fixed airspeed pass-thru from simulators
e7f3716e8c HAL_SITL: pass in wind speed to C++ simulators
091a1e7fe0 SITL: fixed wind support in JSBSim
9ac892acea Copter: fix MISSION_START support
15fe925974 Copter: allow forcing disarm via mavlink using magic number
4486ddc53e DataFlash: changed TimeUS to SampleUS for raw IMU logging
28731d2bdc AP_Motors: add throttle filter input constraint from -100 to 1100
b7632194cc Copter: check EKF health specifically in pre_arm_gps_checks
2392481945 autotest: remove old ROS runsim code
60221f5e9c SITL: use sendto() in CRRCSim
6cbd291dd2 HAL_SITL: make model name case insensitive
d734e700fc autotest: support last_letter in sim_vehicle.sh
9336914598 AP_HAL: added sendto socket method
4e117bc90f HAL_SITL: support last_letter simulator
b35c21fbe2 SITL: fixed socket recv error check
e487d95c1b SITL: added direct support for last_letter simulator
d00f1c0d4d scripts: fixed handling of no-pde for fw version
eee191875e Plane: fixed plane version, removing old pde
088fb95192 autotest: make last_letter run at 500Hz
0b4d7fbb22 Copter: shorten rc-override timeout to 1sec
bcc3fa0526 AC_HELI_PID: Pass default FF param setting in constructor
575a5ad619 Copter: Set better default Rate PIDs for TradHeli
73bafa131e AP_MotorsHeli: Overload output()
d3ce68a8ca AP_MotorsHeli: Overload update_throttle_filter()
6299a8c90d autotest: drain control socket in SITL
a661187ac0 autotest: added some debug to last_letter startup
cd66ce1c74 HAL_SITL: don't advance clock on garbage SIM input
4c96ec26e5 autotest: fixed the -e option for sim_vehicle.sh
605b8b4ece AP_Math: converted rotations example to cpp
062c9406bd AP_Math: fixed rotations example build
8046b1fd5c Rover: fixed path for GCS_MAVLink parameters
8974c879fe Plane: fixed paths for GCS_MAVLink parameter file
dfc7878b14 autotest: fixed cpp files for parameter parsing
332fdbbbea Scripts: removed 'make configure'
64ace3c0c1 autotest: removed 'make configure'
3fbd0a1db0 build: removed the need for 'make configure'
d6bf851783 build: allow for slightly larger stack size on PX4
b63028621a VARTest: removed NOINLINE define
8359b75201 Plane: removed NOINLINE define
14a90ea001 Copter: removed NOINLINE define
65a95039c3 AntennaTracker: removed NOINLINE define
3ae11376a9 Rover: removed NOINLINE define
a1a3212131 AP_Common: moved NOINLINE define to AP_Common.h
78f02634d0 Plane: fixed ins reference in plane object
441d96c946 Plane: fixed APM1 build
554869033f Plane: disabled rangefinder on APM2
6fe65cdd9a Plane: removed duplicate rangefinder
b92c2409e4 Plane: added local millis() and micros() to reduce code size a bit
150af130ee Plane: get closer to making var_info appear in text segment
18c37935c9 Plane: convert from .pde to .cpp files
fb97c16a84 AP_Param: make data pointer const
84726e4a3a GCS_MAVLink: use APM_BUILD_DELEGATES
f8aef57ec3 DataFlash: use APM_BUILD_DELEGATES
0847bd2608 AP_Scheduler: use APM_BUILD_DELEGATES
e7ba2c8d93 AP_Mission: use APM_BUILD_DELEGATES
3a300575bc AP_Menu: use APM_BUILD_DELEGATES
98d2b9b3aa AP_Vehicle: added APM_BUILD_DELEGATES macro
c3aa8d67fa AP_Arming: convert to delegates
daa2c611a9 Rover: fixed APM1 build
32a5f4c0b5 Rover: added make.inc
3a28811909 Rover: removed remaining warnings from PX4 build
d8ba16f9cf build: support non-pde projects for PX4 build
b47a09b709 Rover: fixed build of .cpp files
2b6835d187 Rover: rename all .pde files to .cpp files
793ec76259 build: support building pure cpp projects
f75e9f95d1 Plane: Adjust for new AP_Scheduler syntax
a5c5ab2581 AntennaTracker: adjust for new AP_Scheduler syntax
8550c553ca Copter: adjust for new AP_Scheduler syntax
b731ebfd9e Rover: coversion to class now complete
adbf9c362e Rover: automatic substitution for class members
f99186afbc Rover: added initial Rover class
71b550d7b5 GCS_MAVLink: support member functions for rover
b5d930be61 DataFlash: support member functions for rover
1237772479 AP_Scheduler: support member functions for rover
12cbf7888f AP_Mission: support member functions for rover
db13f657a8 AP_Menu: support member functions for rover
e1e85ecc3d AP_Progmem: simpler PROGMEM header
abfb601db6 AP_Progmem: added pgm_read_block()
d57fcf7e46 AP_HAL: added workaround for AVR delegates in PROGMEM
be587beedc AP_HAL: disable nagle on sockets for faster local operation
b0932548d8 AP_GPS: enable NMEA GPS on AntennaTracker
7668ff6d55 Copter: allow 550usec for gcs_send_deferred
6be0932d82 Plane: prepare for 3.3.0 release
411a96b4b3 AP_NavEKF: take at most 30s to accept DCM attitude
7a76f72bf5 AP_AHRS: added uptime_ms() interface
23787cf695 AP_Baro: use ground_temperature instead of calibration_temperature for alt calculation
92c4c5cbcf AP_NavEKF: change using_gps threshold to 4s
69ca654194 AP_NavEKF: Update declination when we know our location
c1c5e3598a AP_NavEKF: Enforce alignment of realigned earth mag field with declination
b1d8805114 AP_NavEKF: Reduce takeoff detection sensitivity
dc1ff9a757 Replay: added in_list() method
34fe39f17d Replay: force COMPASS_ORIENT to 0
91b761cfb0 Replay: merge MessageHandler_* into MsgHandler.h/MsgHandler.cpp
d1808c645d AC_PosControl: recalc leash length on speed or accel change
f08f0ca2f9 Replay: show time of AHRS health change
5514a9f690 AP_NavEKF: base EKF decisions on vehicle class
92daa15ccc AP_AHRS: on plane and rover make AHRS unhealthy when EKF not initialised
df99d52da3 Copter: adjust scheduler timings
09a98b89b7 Copter: add RTL to front of RTLState enum values
c600c1a746 DataFlash: log Gyro and Accel Health for IMUs.
ba930f8cf1 Replay: removed the timestamp rounding code
0619247992 HAL_Linux: don't advance time in delay() and delay_microseconds()
52f6332fa9 Replay: pass through some message types to output log
7177d5df7e Replay: removed attempt to interpolate IMU data
5f963cbf82 build: added XXX-debug option to builds for debug build
db871cc581 Plane: prevent trim values out of range for PX4 mixer
29f0561ce4 AP_AHRS: reject EKF for plane when we have GPS and aren't fusing
6154db5cf8 AP_NavEKF: added using_gps status bit
260e7679dd Copter: add BRAKE to FLTMODE parameter descriptions
4681dd2802 Copter: GCS failsafe triggers disarm if landed
d467507b88 Tracker: version and release notes for 0.7
f4ad23b9f0 Copter: version to AC3.3-rc4
214b461c2f Copter: AC3.3-rc3 release notes
dd9f271d43 Copter: brake disarms if landed
8d05eaae16 Copter: add aux switch for Brake flight mode
7acdcd8905 Copter: rename stop to brake
0077cac1b7 AC_WPNav: rename stop to brake
542e5fb54c Copter: backoff autotune discovered Stab P to 90%
80c20b5cf2 DataFlash: use L for latitude/longitude in DF messages
e987173ffb AP_NavEKF: float to double promotion via tan instead of tanf
5f677c2b5b AP_Math: float to double promotion via cos instead of cosf
7b95241306 AP_HAL_SITL: float to double promotion via cos instead of cosf
4f1dd2c8a4 AC_AttitudeControl: compiler warning stuff
b4be1b866a Copter: compiler warning stuff
44fd72cb1f Copter: compiler warning stuff
aaa35bd1ec AP_InertialSensor: using atan2f() gives more accurate euler corrections
9ceee3cea7 Plane: support setting just accel trim with preflight-cal
aac652a1b4 Copter: support setting just accel trim with preflight-cal
4a290cd2f1 AntennaTracker: support setting just accel trim with preflight-cal
fb435fc78e Rover: support setting just accel trim with preflight-cal
9e723ef907 AP_InertialSensor: added calibrate_trim() function
b564ba0868 AP_InertialSensor: fixed AHRS_TRIM calculation again
dd7c42be67 autotest: setup offsets for 2 SITL compasses
2475ee9630 AP_Compass: setup HIL/SITL for two compasses
ab687ab0f5 DataFlash: added double to list of format strings
159599879f AP_InertialSensor: simplify and correct AHRS_TRIM computation
be8ebd5802 travis: don't require apm1-nologging to work
d7e4310df0 DataFlash: Lat can be negative in POS
559684b257 GCS_MAVLink: fix flow control check
227327c678 FollowMe: removing because no longer supported
b0a90df135 DataFlash: fixed double Init of DF object
763c671d0a GCS_Console: fix example sketch after mavlink_comm_port to array
85eeba93c0 GCS_MAVLink: mavlink_comm_port to array
757f388d62 Rover: add support for 4th mavlink channel
174c55b0af Plane: add support for 4th mavlink channel
d8b7e4a199 Copter: add support for 4th mavlink channel
35275aab85 Tracker: add support for 4th mavlink channel
facbfaf31f SerialManager: support for 4th mavlink channel
62e7e8cc7d GCS_MAVLink: add support for 4th mavlink chan on PX4
11a4b757f9 Rover: call Log_Write_POS()
848ceefcec Copter: call Log_Write_POS()
2feee9aa88 Plane: call Log_Write_POS()
49146a2a88 Replay: call Log_Write_POS()
74485c5754 DataFlash: added Log_Write_POS() call
474ee2a11e Rover: fix for new compass API
64ce1e0381 Copter: fix for new compass API
e362b4fc04 Plane: fix for new compass API
56f44266d8 Replay: fixed for new compass API
3370ec62a1 HAL_SITL: fix for multi-compass SITL
91b4ba3588 AP_Compass: allow for more than one compass in HIL/SITL
a356ad1c79 Replay: added MAG2 message
9f05e54d90 Replay: added support for EV message for copter arming
4e3d18bee4 Replay: added ARM message to logs, and auto ARM/DISARM
11f70da8b4 DataFlash: fixed incorrect change to GPS message
ade4f81c77 Compass: fix example sketch
bd91b9727f AP_NavEKF: Add pre-arm check for horizontal inertial errors
1b13250fd8 RC_Channel: small parameter description change
7f488c1c9c Plane: removed duplicate rangefinder instance
61c851885f AC_WPNav: remove unused set_spline_dest_and_vel
7056484ef0 Copter: fix spline overshoot
c86a396ca0 SITL: allow easier slowing of copter test
35b550f03d autotest: fix usage of tabs instead of space
c89530a97c Copter: Write new mission to log without telling GCS
9de10f271a Rover: Write new mission to log without telling GCS
76f448e512 Plane: Write new mission to log without telling GCS
484bf628e1 Copter: fix comments related to home-alt set in-flight
56b92e7d8c AC_PID: fix example sketch
c2ac80cc63 AP_AHRS: Prevent copter from switching to DCM unless EKF has severe errors
9dbef1c6ee Copter: check fence alt without home being set
1f96cbd015 Copter: home-alt set to EKF-origin if captured in flight
2a1a105462 Copter: current alt is alt above-ekf-origin until home set
3f8b832075 InertialSensor: fix example sketch
7d9ed6f03d Copter: update version back to AC3.3-dev
3bcd97fcd1 Parachute: increase deployment duration to 2sec
41077be4ad Copter: parachute failure message if landed
3269cd63cb Copter: parachute check uses alt-above-home
5560d3dba1 BattMonitor: fix example sketch
2ac30a53ad SITL: remove copters 3rd accel scaling from params
e080b2acce AP_Arming: use accel_calibrated_ok_all
0db25426c0 Plane: use accel_calibrated_ok_all
ae87f9be6e Copter: use accel_calibrated_ok_all
1f14eec4ea InertialSensor: accel_calibrated_all_ok replaces calibrated
2ad5011177 SITL: slow down autotest for slow VMs
0d72f3ac29 AP_HAL: fix example sketches
fb245cd77b autotest: removed unmaintained jenkins autotest code
68515d0324 autotest: fixed CopterAVC test
8bf2baef70 AP_InertialSensor: fixed primary accel/gyro in replay
64a55c908f Replay: fixed trailing nul and don't wait for EKF to init
6e97f2e1fb Tracker: clarify SYSID_MAV parameter description
a3271e4584 Plane: clarify SYSID_MAV parameter description
ab70cb13af Rover: clarify SYSID_MAV parameter description
d20a7deee1 Copter: clarify SYSID_MAV parameter description
460489e2dc Replay: fixed cast of AP_AHRS_DCM
044a09425b autotest: cope with environments with no $DISPLAY
f40c96de9d SITL: add 'quad' and 'copter' as aliases for quadcopter
2a47cc3c81 HAL_SITL: cleanup command line handling
068b862888 autotest: use buildlogs directory consistently
aaff670ec4 autotest: use builtin JSBSim support for plane testing
bab94c8a04 SITL: close high fds before launching JSBSIM
414f4125de AP_HAL: use FD_CLOEXEC to prevent sockets being inherited in SITL
ebf358138f autotest: use internal sim code for JSBSim
7692889248 SIM_JSBSim: added elevon and vtail support
aa9853179c SITL: fixed startup yaw
5687adbdba HAL_SITL: support JSBSim backend
692fc18698 AP_HAL: protect Socket.h from double include
c136d65c25 SITL: added initial JSBSim simulator backend
5241c66b57 build: added SKETCHBOOK to defines for native build
8ec98a5ec9 SITL: make it possible to connect two SITL instances together
ff126db1d3 Plane: make GUIDED behaviour match copter
3991e0c476 DataFlash: fixed sign of sv in GRAW message
32beaea48c Replay: use column labels rather than IDs in Replay.pde
6b668c08dc autotest: use internal rover sim in sim_vehicle.sh
3529e02675 AP_AHRS: if we have 3 gyros then only use first two
f3d1242d60 Replay: update Attitude on ATT rather than AHRS2
cb59570938 AP_NavEKF: Remove bug preventing external selection of optical flow mode
d61848817b Copter: double the threshold for accel inconsistency on IMU3
3390d9932e AP_AHRS: fix example sketch
1cdc5f7c7f LogAnalyser: adapt to new APM:* vehicle names
46c3c26065 LogAnalyser: fix buffer calculations
a146b188a7 LogAnalyser: fix parsing of log messages without attributes (e.g. STRT)
2deb0e08ea AP_NavEKF: replace fabs() with fabsf()
79605de8f5 AP_Mission: replace fabs() with fabsf()
e20ffa8c75 AP_Math: replace fabs() with fabsf()
1c8efb25a8 AP_HAL_SITL: replace fabs() with fabsf()
4b6d0d8e24 AP_HAL: replace fabs() with fabsf()
9d74f57ed3 AP_PID: replace fabs() with fabsf()
70bef20a29 AC_AttitudeControl: replace fabs() with fabsf()
eb2bfcd2d3 Plane: replace fabs() with labs(), unnecessary int to float conversion
2e191e5a3d Copter: replace fabs() with fabsf()
1127b716c4 SITL: lower the default noise
0f13bc6d2a Rover: Updates to guided mode to work correctly on Rover
2552acbf12 AP_Arming: fixed accel cal test in arming
baed82d1c2 Copter: if receiving last mission item then log new mission to dataflash
06796cd994 Rover: if receiving last mission item then log new mission to dataflash
ba29967454 Plane: if receiving last mission item then log new mission to dataflash
d94c95a6ef GCS_MAVLink: return true if mission recieve is complete
a232606fc9 AP_NavEKF: Prevent EKF yaw errors due to fast yaw spins
08382373f1 AP_NavEKF: Reduce likelihood of in-air switch to GPS with a bad heading
d585d5691d autotest: Enables copy to clipboard from xterm shells. Useful to copy gdb output.
7d3b3533e4 autotest: updated wiki page names for auto-generated parms
4884932280 Rover: Updated AUTO_TRIGGER_PIN value definitions
fd84a6b493 Plane: fixed missing break in fence floor logic
ee14678d2a Plane: Allow disabling of only the fence floor.
b7ebff409b ArduCopter: re-align defines after ifdef removal
4f6c32cb35 ArduCopter: remove dangling ifdefs for 100Hz main loop
3781f133d7 AC_AttControlHeli: remove unused definitions
bef5633ed5 AC_AttControlHeli: use params from parent class
7951346d72 AC_AttControl: bf_feedfoward_save made more concise
4f52aaa3a3 Copter: fix tradheli arming message
3d9a6a69e2 MotorsHeli: COLYAW to float
edfa206bb8 Motors_Heli: nest heli params
68b05a4ca2 AP_Motors: is_throttle_mix_min returns bol
cf45a1cf3a AC_AttitudeControl: add get accel and save ff
7cccb73103 Copter: yet more Autotune Updates
92fe75f396 Copter: more Autotune updates
05103d9f9c Copter: Autotune update
1900cc7582 AC_AttitudeControl: Enable FF by default
7fd632200c Copter: Add additional check to Throttle Mix/Comp
0f894ac1a8 AP_Motors: Rename and move Throttle Mix / Comp
a2a0d834aa autotest: provide a custom location to set as sim home
a7d5f7ab6f ardupilot: revise gitignore to reflect jsb_sim folder rename
a17f53254c autotest: Separated McMillan into McMillan and McMillan_East in locations.txt
142e018a18 AP_NavEKF: fix bug causing takeoff to fail
c27b605b86 autotest: fixed sim_vehicle -w for plane
fa4ba456b4 GPS: fix example sketches
afc9812d0b AP_InertialSensor: update VibTest after moving messages info DataFlash
1a7d831327 Plane: support raw IMU logging
fabee44583 Rover: support raw IMU logging
6dc3cff000 Copter: added LOG_BITMASK 1<<19 for logging raw accel/gyro data
7d90033a36 AP_InertialSensor: support raw accel and gyro dataflash logging
21d805422d DataFlash: added defines for raw accel and gyro logging
f5140e25b0 AP_InertialSensor: updated VibTest for latest PX4 interfaces
98df4fe60e autotest: make sim command clearer in logs
cbdc9f0706 SITL: fixed autotest SITL
2369e06815 AP_HAL: fixed SITL build on windows
b09fcfc20e HAL_Linux: cope with systems without I2C_RDRW_IOCTL_MAX_MSGS
6a8da06d19 HAL_SITL: hook in CRRCSim backend
93d5101bf9 SITL: added CRRCSim simulation connection
4c11002976 AP_HAL: added HAL_OS_SOCKETS define
08b9ed3342 AP_HAL: added socket handling class
fe536a4b89 autotest: use internal copter sim for autotest
d5b51f2129 autotest: use internal simulator for copter test
209896afc7 autotest: use builtin rover model for autotest
9dede2f0ec Math: remove duplicate HALF_SQRT_2 definition
151707cb0a Filter: replace 2*M_PI_F with M_2PI_F
6ef1ebb5dd Copter: replace 2xM_PI_F with M_2PI_F
33aa05d7b3 Travis: NavIO compiler fix
463270e0ee AP_AHRS: avoid FPE when we don't have a compass reading
77a2b4acf6 AP_Math: removed fast_atan
872583f441 AC_AttitudeControl: removed fast_atan
75229ebf6c Tools: removed fast_atan
189a8fd007 Copter: removed fast_atan
8ba5272b0e AP_Scheduler: fixed PSTR() usage
88fb7ddff8 AP_Param: fixed PSTR() usage
089e63f987 AP_InertialSensor: fixed PSTR handling
31693e332e AP_InertialSensor: use non-PSTR printf
730644eaeb AP_Mount: use M_PI_F instead of (float)M_PI
84ac721340 AC_AttitudeControl: use M_PI_F instead of (float)M_PI
b88c12ad1f Copter: use M_PI_F instead of (float)M_PI
f9114f849b Filter: revert AP_Math class change
bcc6c7d380 AP_Param: revert AP_Math class change
a140a5e77f AP_NavEKF: revert AP_Math class change
7c9e3d4b58 AP_Mount: revert AP_Math class change
0b897e04bb AP_Math: revert AP_Math class change
e6a8a6da07 AP_InertialSensor: revert AP_Math class change
015fce5183 AP_Compass: revert AP_Math class change
d2167633f0 AP_Camera: revert AP_Math class change
48fb7f8159 AP_BARO: revert AP_Math class change
4d4a607b80 AP_AHRS: revert AP_Math class change
c08b62f9e4 AC_WPNAV: revert AP_Math class change
33555b7f12 AC_PID: revert AP_Math class change
aa1bfb1ca7 AC_Fence: revert AP_Math class change
326b0b33ea AC_AttitudeControl: revert AP_Math class change
8395b92309 Plane: revert AP_Math class change
d8146ff3f6 Copter: revert AP_Math class change
295041ef45 AntennaTracker: revert AP_Math class change
686d1e7548 Rover: revert AP_Math class change
936fbbb362 AP_Math: removed AP_Math class
5704a5a2a7 Copter: Compiler warnings: nuke fast_atan2()
7fd285f483 AC_WPNav: Compiler warnings: nuke fast_atan2()
4ec2fb3a9c AP_Math: Compiler warnings: nuke fast_atan2()
1b84bbc3e7 AC_WPNav: Compiler warnings: add in the appropriate whitrespace
0e076d6dc8 AP_InertialSensor: compile warnings: format not a string literal, argument types not checked
6acd92be1e AP_RangeFinder: compiler warnings: compare signed to unsigned
9e98c68099 AP_InertialSensor: compile warnings: format not a string literal, argument types not checked
d823541eb1 AP_Scheduler: compile warnings: format not a string literal, argument types not checked
bfd1b2b11a AP_Param: compile warnings: format not a string literal, argument types not checked
2301883d5c Plane: compiler warnings: function not declared
b35258efed APMrover2: compile warnings: float to double. print statements require doubles
0e3d54d9e4 Tracker: compile warnings: float to double. print statements require doubles
b9771ca37c AP_Param: compile warnings: float to double. print statements require doubles
330e4126bb Ap_Math: compile warnings: float to double. use atan2f instead of atan2
c8bc44fc6e Copter: compile warnings: float to double. print statements require doubles
896c86bcc6 Tracker: compile warnings: remove unused function update_servo_test
1020be9d9f Tracker: compile warnings: float to double. print statements require doubles
928a5e0766 APMrover2: compile warnings: float to double. print statements require doubles
c4c47cba66 Plane: compile warnings: float to double. print statements require doubles
e17e793781 Copter: compiler warnings: float to double
440438fdda AP_Param: compiler warnings: apply is_zero(float) or is_equal(float)
bff69de249 APMrover2: compiler warnings: apply is_zero(float) or is_equal(float)
43006c0eec Plane: compiler warnings: apply is_zero(float) or is_equal(float)
820f0bf02a AP_Math: compiler warnings: float to double promotion
1c3ad00aa7 AP_Math: compiler warnings: use double for the constant so the template can handle it
188403242a Copter: compiler warnings: fixed a bracked that was removed on accident
c2eeed7d85 Plane: compiler warnings: apply is_zero(float) or is_equal(float)
3f614534b3 Copter: compiler warnings: unnecessary float promotion
514c83301c APMrover2: compiler warnings: apply is_zero(float) or is_equal(float)
6e6f481ecb AP_Math: compiler warnings: apply is_zero(float) or is_equal(float)
98c5137107 AP_HAL_PX4: compiler warnings: float to doubles
54f4d4b07c AP_PID: compiler warnings: reordered constructor
0b29848277 AP_Baro: compiler warnings: apply is_zero(float) or is_equal(float)
d275e6711d AP_HAL_VRBRAIN: compiler warnings: apply is_zero(float) or is_equal(float)
20f47417d5 AP_AHRS: compiler warnings: apply is_zero(float) or is_equal(float) and float to doubles
94ffc9b942 AC_Fence: compiler warnings: apply is_zero(float) or is_equal(float)
1bca81eaed AC_AttitudeControl: compiler warnings: apply is_zero(float) or is_equal(float) and float to doubles
6d1b517aae Filter: compiler warnings: apply is_zero(float) or is_equal(float)
0cbbb20dcf Plane: compiler warnings: apply is_zero(float) or is_equal(float)
913d00f525 AP_WPNav: compiler warnings: apply is_zero(float) or is_equal(float)
98ca790cb9 AP_DataFlash: compiler warnings: float to double
4ac1f8a2fa AP_Mount: compiler warnings: apply is_zero(float) or is_equal(float)
20dc48ed16 Coter: compiler warnings: apply is_zero(float) or is_equal(float) and float to doubles
d8d8593708 AntennaTracker: compiler warnings: apply is_zero(float) or is_equal(float)
002d664ea0 APMrover2: compiler warnings: apply is_zero(float) or is_equal(float) and float to double
8ddd97c06f APMrover2: compiler warnings: apply is_zero(float) or is_equal(float)
9b53961a7d AP_NavEKF: compiler warnings: float to double
3276eec30e AP_NavEKF: compiler warnings: apply is_zero(float) or is_equal(float)
35f7a466e5 AP_Math: compiler warnings: apply is_zero(float) or is_equal(float)
a5d2f3a82f AP_Math: compiler warnings: float to double
d09ef4783d AP_Compass: compiler warnings: reorder constructors
ad11a57f57 AP_Compass: compiler warnings: apply is_zero(float) or is_equal(float)
820199635b AP_InertialSensors: compiler warnings: apply is_zero(float) or is_equal(float)
01180d52c4 AP_PID: compiler warnings: apply is_zero(float)
ac4e7b2b03 AP_Math: compiler warnings: apply is_equal(float)
c93c773de2 AP_Math: change is_equal and is_zero to static class for better visability
3cb2221315 AP_IntertialSensor: double to float warning
bdda11b327 AP_Math: compiler warning: is_zero special case for vector3.h in a template
878eb88c3a AP_GPS: avoid expanding the ublox buffer on APM2
ee85d37ee2 AP_GPS: added logging of RXM_RAW messages for UBlox
f8e09da50e DataFlash: added GRAW raw GPS message
42c6801d61 SITL: reformat SITL code with astyle
c81ad1d622 HAL_SITL: reformat HAL_SITL with astyle
8c8c910ad0 autotest: removed the old AVR/2560 code in autotest
d640bc8345 AP_HAL_Linux: use kernel's limit of msgs per I2C transaction
3d14b47d8b autotest: try to run at 10x, not 100x speed
5d8a897330 autotest: use right sim backend for different vehicles
d8791134f9 HAL_SITL: need to use fabs() for double checking
b9abf30785 HAL_SITL: removed unused cygwin code
5158f91263 HAL_SITL: converted command line code to getopt_cpp
a58a663085 SITL: fixed build on APM2
35d22b9d57 AP_HAL: added getopt_cpp class
438f954379 DataFlash: fixed some build warnings
d8ca0658d7 AP_Mount: fixed some build warnings
b2b5c8cd18 HAL_SITL: fixed some build warnings
a7c3125bcc AP_GPS: fixed warnings in SBP driver
9e02ce44ae Tools: fix for HAL_SITL rename
a299fdacdf Plane: fix for HAL_SITL rename
5a36b9955e Copter: fix for HAL_SITL rename
429efc4d6c AntennaTracker: fix for HAL_SITL rename
eda187c75a Rover: fix for HAL_SITL rename
4ad3075754 build: fix for HAL_SITL rename
212e0ec002 StorageManager: fix for HAL_SITL rename
fa688a7b14 RC_Channel: fix for HAL_SITL rename
f449b34fdd PID: fix for HAL_SITL rename
2d89b8b53d GCS_MAVLink: fix for HAL_SITL rename
69f9d25cd0 DataFlash: fix for HAL_SITL rename
cf4602afc1 AP_TECS: fix for HAL_SITL rename
a4e8d960d2 AP_Scheduler: fix for HAL_SITL rename
c80a631813 AP_Relay: fix for HAL_SITL rename
ac43972883 AP_RangeFinder: fix for HAL_SITL rename
4ee54a8915 AP_OpticalFlow: fix for HAL_SITL rename
9f10e2d26c AP_Notify: fix for HAL_SITL rename
c4d6f9d040 AP_NavEKF: fix for HAL_SITL rename
2e57c62ebb AP_Motors: fix for HAL_SITL rename
0c142bb25a AP_Mission: fix for HAL_SITL rename
eca675c556 AP_Math: fix for HAL_SITL rename
ef527d9daa AP_InertialSensor: fix for HAL_SITL rename
2be45bc7e6 AP_GPS: fix for HAL_SITL rename
dd94cc18a1 AP_Common: fix for HAL_SITL rename
8055e5792d AP_BattMonitor: fix for HAL_SITL rename
7d9d594283 AP_Baro: fix for HAL_SITL rename
f23bc463cb AP_Airspeed: fix for HAL_SITL rename
e597575747 AP_AHRS: fix for HAL_SITL rename
d8cd986696 APM_Control: fix for HAL_SITL rename
e789984c98 AC_WPNav: fix for HAL_SITL rename
777685ce1f AC_PID: fix for HAL_SITL rename
40e3b422b5 HAL_SITL: rename HAL_AVR_SITL to HAL_SITL
2559964f04 build: added sitl-arm target
0eaf70cd85 build: added optimisation in native build
24fc1d8ebf HAL_SITL: added -F option for FDM address
630cd14252 HAL_SITL: added rover simulator support
64fa219c05 SITL: converted rover simulator from python to C++
11df612c04 HAL_SITL: added a table of simulator constructors
6ec6158b8b SITL: converted helicopter simulator from python
be3d6c924e AP_Compass: rename enum values to avoid header conflicts for 'ERROR'
963e5c5977 HAL_SITL: removed pthread.h as no longer needed
c26f2c9b1c SITL: add missing include 'select'
878549530d HAL_SITL: g_state is not needed any more
a17fc9e5ab SITL: fixed time handling type
ce0a863d01 AP_NavEKF: allow for optimisation of the EKF
eb284b4fca build: run Linux build with optimisation
25de563687 HAL_SITL: support direct RC input
77f007ab27 SITL: support speedup setting on the command line
a6f41b3ca6 HAL_SITL: removed the need for the FDM thread
19147a05f6 SITL: support functions for new simulators
437e1bdba0 SITL: added fill_fdm() for FDM output from simulator
ab2d4349b4 HAL_SITL: initial support for internal simulators
24b051565b AP_Math: added normalize() method to Matrix3f
914b91af9e SITL: initial conversion of multicopter sim to C++
2a6421d1bf Airspeed: fix example sketch
55298a4c73 Baro: fix example sketch
054f05d285 Copter: AC3.3-rc3 version
22350c793b Copter: AC3.3-rc3 release notes
be04be9b43 AP_NavEKF: Fix bug preventing home position being set by copter
0812e16008 Copter: explicitly define flight modes enum
75e2498da2 Scheduler: fix example sketch
89c0c2e532 Copter: update AC3.3-rc2 release notes
606086cd6f Copter: version to AC3.3-rc2
77c2991867 Copter: AC3.3-rc2 release notes
c78068b8b8 StorageManager: fix example sketch
5b15c07d47 RC_Channel: fix example sketch
240a845206 Notify: fix example sketches
b223e90ef6 AP_Motors: fix example sketches
ed61d961c3 Mission: fix example sketch
fecbf06008 AP_Math: fix example sketches
2b29060a4e AC_WPNav: remove unused set_loiter_velocity
187dd0dccd HAL_PX4: fix example sketch
fb96335b46 Copter: get_RTL_alt returns alt above home
fb7e75594f AP_NavEKF: replace memset with quaternion.initialise
eaedeeb7bf AP_Math: add quaternion.initialise
c366fbbc96 AP_NavEKF: remove unused haveDeltaAngles
6773c0b232 AP_InertialSensor: default primary accel and gyro
b71b8f4bda AP_NavEKF: Always return a NED relative position if possible
20ba1e6b1b AP_NavEKF: Always return a WGS-84 location if possible
dd1e0b2f0b AP_NavEKF: Add missing function to return the NED to XYZ quaternion
2c4572eb50 AP_NavEKF: Make ground effect variable names more descriptive
3986851c51 AP_NavEKF: Prevent Z accel bias changing during ground effect takeoff
2cba60c731 AP_NavEKF: Decouple takeoff ground effect compensation from arm transtion
c4c0f819b5 AP_NavEKF: Ensure Covariance initialisation uses correct IMU time step
5dc29699ab AP_NavEKF: Publish the INS delta quaternion
d273302ce7 AP_NavEKF: Improve rate of accel bias learning before flight
8dc6354a54 AP_NavEKF: Prevent touchdown baro errors tripping height innovation check
2f38dd1b67 AP_NavEKF: use quaternion functions to apply IMU delta angles
9c374eb4a8 AP_NavEKF: apply constrained floor to barometer innovation while landing
3c6446fadd AP_NavEKF: refactor meaHgtAtTakeOff filter
744de74c16 AP_NavEKF: Reduce ground effect baro induced height errors during takeoff
13616d6436 AP_NavEKF: Add takeoff and touchdown expected to reported filter status
8c92524b8a AP_NavEKF: add takeoffExpected and touchdownExpected
b6b55bf6f2 AP_NavEKF: integrate gravity over correct time period
cb0c424da1 AP_NavEKF: rewrite readIMUData
bb88a4f8fe AP_InertialSensor: healthy() checks bounds
af80f20a51 AP_InertialSensor: add get_primary_gyro, fix get_primary_accel
0acc06d713 AP_Motors: minor comment for interlock
05f18bb014 Copter: Rename output_min() to enable_motor_output()
41a6cc64ff Copter: Log Emergency Stop and Motor Interlock status
d8a0952b5a Copter: Explicitly define aux_switch enum.
da2854403e Copter: Explicitly define tuning_func enum value
4e51ce6d75 Copter: rename "estop" to "emergency stop".
9d9f20a6cb Copter: Add Motor Interlock/E-Stop Conflict Prearm Check
fab8604f16 Copter: Change Auto Yaw #define table into Enum.
32b4e70cb7 Copter: Deprecate Aux Switch Multi-Mode
22a7fba289 Copter: Change autopilot modes into Enum
39d23519b1 Copter: Change CH6_Tuning #defines into Enum
167507e28b Copter: non-functional format fixes in switches.pde
a357ef43a4 Copter: Move Aux Switch flags into new Enum
8610da7fbc Copter: autopilot modes to check for motor interlock status
a035d5ad1b Copter: Fix initialization of Motor Interlock Aux Sw function.
16cf9471ae Copter: Remove ap.motors_interlock, use only flag in AP_Motors
9b15ea6f5c Copter: Change throttle_zero to check interlock and E-stop status
2010410c44 Copter: Add numbers to Aux Switch Enum comments
b82113acc7 Copter: Modify auto-disarm process for throttle interlock
7349827eb1 Copter: Add Aux Switch E-Stop Function
1a482de5e2 AP_MotorsHeli: Overload output_armed_zero_throttle
6bdace30d2 AP_Motors: Add throttle interlock functionality
4a0a4de687 Copter: update motors.throttle_interlock every time motors_output is run
7d745587a4 Copter: Add using_interlock flag, employ it in arming process
e4c5915330 Copter: initial creation of motor_interlock
ee94db09a8 Copter: minor GCS_MAVLink comments
1fa8e10fc7 Copter: fix floating point const compiler warning
e0ef57fdb5 Copter: add PILOT_TKOFF_ALT_DEFAULT definition
33a274c928 Copter: take-off uses PosControl's add_takeoff method
31edd6a72b AC_PosControl: add_takeoff_climb_rate method
772a1acc37 Copter: cancel takeoff if mode changed
ab608a8fcd Copter: minor takeoff param name change
70f9739d77 Copter: add takeoff comments
6f5b5c24f2 Copter: rename tkoff_ to takeoff_
73d961cebc Copter: mavlink initiated takeoff in alt-hold modes
b10cf0f38a Copter: pre-takeoff throttle for sprung throttle sticks
e286323abc Copter: get_non_takeoff_throttle uses floats
348001e786 AP_Motors: add get_throttle_warn function
e1be814853 Replay: correct case for Airspeed when parsing airspeed messages
67ba043b65 Replay: fix replay for CTUN (type=0) messages
2b05f6e2b1 Replay: correct vehicle detection from MSG messages
db833a6473 Replay: fix null-pointer dereference when fields not present
9204cab7d5 autotest: fixed rover test
1cbbf1ab9e autotest: start SITL in synthetic clock mode
74581a55bc HAL_SITL: fixed startup of SITL in synthetic clock mode
8a6fc0ad77 Plane: If LAND_FLARE_SEC is 0 use LAND_FLARE_ALT for aim_height.
05d065b471 Plane: Make LAND_FLARE_SEC optional.
a262f9d31b autotest: disable the devrelease build for now
93fed6c2ac Plane: update release notes for 3.3.0beta2
df21c6c68d AP_HAL: support micros64() and millis64() on all platforms
c65f5a1bda Plane: disable camera mount support on APM2
4c4a4f9ea5 AP_RangeFinder: fixed cm to meter comparison
75c9689a64 Plane: added armed and safety state to STAT log message
5038e1d26d Plane: remove deprecated log types
f5dfe7c650 ArduPlane: Log isFlying status
1f80e8859c Tracker: 0.5 release notes
dfadcad69d Mission: allow zoom_step to be negative
bae1722946 AP_Motors: get_compensation_gain gets div-by-zero check
1b381b5675 Baro: get_air_density_ratio gets div-by-zero check
0dbe94c9a1 Copter: set motor air density ratio
41ae7207c7 AP_Motors: scale roll/pitch/yaw gain for air density
e2ba351149 AP_Motors: refactor apply_thrust_curve_and_volt_scaling
f381ef93e8 AP_Baro: add get_air_density_ratio
36cc832931 Copter: guided_posvel run update_z_controller at 400hz
da629ce976 Copter: minor format fix
f5fd89833d Copter: update YAW_LOOK_AHEAD to use inav velocity direction
e5b6cf9966 Copter: use circular limit on tilt angle for arm check
b55367ccc7 GCS_MAVLink: fix example sketch
ff5f0f1d23 CPUInfo: add include to fix compile error
609bb0c56a Rover: fix MNT param description
e122916815 Plane: fix MNT param description
85b0a18f61 Copter: fix MNT param description
276b2dcf5e Copter: move lost copter check to separate function
5bee93cba3 Copter: Lost copter alarm through sticks
b7a6e3bf2c Copter: fix update_thr_average to run at 100hz
56a8bf5460 Replay: use the message's name rather than number to determine which message handler to use for a message
42351edfa6 Replay: use dataflash log format messages to extract message data instead of using structs
60bc986e71 VARTest: remove duplicate ap_message enum
64629914a4 Copter: fix RTL alt when no using Rally points
0545185218 Copter: RTL at no less than 2m above home alt
67b0c6f5c4 AC_PID: replace is_equal with is_zero
3514177314 AC_PI_2D: minor format fix
303cfd683a AC_PID: replace floating point '==' with is_equal
0392292489 AP_Math: inline is_equal, add is_zero
726d7df710 AP_Math: add is_equal to compare floats
444841537e AP_Camera: Just putting the newline at the end of the file.
007b01533d AP_InertialSensor: switched to 16g accel range for MPU9250
4311cd4e7a Copter: add logging for CH6 parameter tuning
2baf79ee7a Copter: remove TUNE param descr for AHRS Yaw/RP kP
33431acaa4 AC_WPNav: protect against div-by-zero related to gnd_speed_limit
7481217445 AC_WPNav: Improve application of EKF optical flow speed limit
d1de89f933 Travis: disable navio build due to another travis compiler bug
514c349060 AP_NavEKF: raise DCM error_rp threshold to 0.05
6bfca648b9 AP_AHRS: raise DCM P gains when disarmed for first 20 seconds
cb2427ef9e Copter: removed special cases for DCM gain changes on arm/disarm
42d2addbdd HAL_SITL: removed the special code for cygwin
063a33ebce HAL_SITL: implement barriers using pthread condition variables
c974134ea4 ArduPlane: RTL Autoland  skip HOME
9517bb3049 Travis: added navio target
3812773485 AP_Math: make quaternion divide by zero protection more conservative
fb8da1b2d8 AP_Math: add get_euler_(roll|pitch|yaw) functions to quaternion
020d9ea78a HAL_PX4: only consider power to have changed when armed
3c9ed9b5a6 Plane: don't limit down pitch during landing
94737e4df6 Tracker: add SYSID_TARGET and request 1hz pos data from vehicle
10b9f2ebe0 Tracker: snoop on all channels
212e4940d4 Tracker: version to 0.5
404df7fe7d Tracker: add DISTANCE_MIN parameter
f74d2101d1 Tracker: add SERVO_TEST mode
f7f5040d2d Tracker: replace abs with labs for yaw servo
608bb3d611 Notify: minor format fix
ebf700d736 Tracker: fix notify initialisation
028248d1f5 HAL_SITL: avoid floating point exceptions on i386
4e86a6cd0e GCS_MAVLink: merged upstream header changes
35874292a0 AC_WPNav: move stop below all loiter methods
1aa696bc10 Copter: Implement Stop Mode
4a7fe83b0f AC_WPNav: Create Stop Mode functions
8e4268ddd3 Copter: Initial creation of control_stop file
c73945686c Plane: use ahrs.yaw_sensor not direct compass read for yaw
343a682d22 Plane: fixed conditional for 0 lat/lon
fdac41dbab GCS_MAVLink: re-generate headers
607d9ca839 Plane: Implementation of do_ and verify_ for MAV_CMD_NAV_LOITER_TO_ALT
3d3267d472 AP_Mission: Now support mission item MAV_CMD_NAV_LOITER_TO_ALT
98d7f943ef GCS_MAVLink: Added definition for MAV_CMD_NAV_LOITER_TO_ALT
bd32774768 PX4: added ver command
a07b322d31 AP_Motors: set_throttle takes a float
ab2532a609 AC_AttitudeControl: constrain _angle_boost to avoid overflow
fdf226ebc1 AP_NavEKF: include AP_RangeFinder.h
211bdb0bb6 Replay: include AP_RangeFinder.h
253a19a7fe Tracker: add range finder include
10c933966b AP_Math: fix compile warning re float constants
66c7090f00 Copter: fix compile warnings by converting .f to .0f
dbc01e2f1a BattMon: fix compile warning re to unused variable
3b3752468d HAL_PX4: fix compile warnings re unused variables
84d3069a77 AttControl_Heli: fix compile warning re member init order
52474faa2e AP_ADC: fix compile warning re member init order
4191c44bbd Baro: fix compile warning re member init order
16e71ec1ce Compass: fix compile warning re member init order
179c72bfa9 HAL_PX4: fix compile warning re member init order
ee1a415baa HAL_VRBrain: fix compile warning re member init order
a340d13d01 NavEKF: fix compile warning re member init order
e867b148f5 Rover: fix compile warnings for unused functions
b57437042e Copter: fix compile warnings for unused functions
1176146e06 Plane: fix compile warnings for unused functions
b263c32507 Make: px4 warnings become errors
f3d13656ba PID: fix compile warnings re float constants
91476d78ae SITL: fix compile warnings re float constants
1575abff63 GCS_Console: fix compile warnings re float constants
347fc1e59c Filter: fix compile warnings re float constants
f700f76923 DataFlash: fix compile warnings re float constants
5ead138917 RangeFinder: fix compile warnings re float constants
5f49b79d2f Rally: fix compile warnings re float constants
2179705791 PerfMon: fix compile warnings re float constants
66ddfdeae6 AP_Param: fix compile warnings re float constants
d6b34209b5 NavEKF: fix compile warnings re float constants
a5ffadf201 AP_Motors: fix compile warnings re float constants
a8dda9f2ed AP_Math: fix compile warnings re float constants
a4b8575432 InertialSensor: fix compile warnings re float constants
ae6d44bf82 HAL_VRBrain: fix compile warnings re float constants
7e18480cd2 HAL_PX4: fix compile warnings re float constants
11951dbf48 HAL_Flymaple: fix compile warnings re float constants
b7fb4022b4 AVR_SITL: fix compile warnings re float constants
12b604663c FrSky_Telem: fix compile warnings re float constants
dffcdbd751 Curve: fix compile warnings re float constants
bf1d128d70 Compass: fix compile warnings re float constants
c1d4992dac Camera: fix compile warnings re float constants
0926cf17dd BattMon: fix compile warnings re float constants
8f11507594 Arming: fix compile warnings re float constants
e28c555889 AHRS_DCM: fix compile warnings re float constants
f4bfc12316 AP_ADC: fix compile warnings re float constants
7132b39dcf AP_AutoTune: fix compile warnings re float constants
2f9e0c1938 APM_PI: fix compile warnings re float constants
b9865c5f3e AC_Circle: fix compile warnings re float constants
4b97cc1957 AC_PID: fix compile warnings re float constants
bd9b573969 Plane: Fix compile warnings
1f58cb9980 Replay: pass range finder into ahrs constructor
d5934343d4 Rover: pass sonar into ahrs constructor
94dc973c29 Copter: update ARMING_CHECK parm description
6e623bce28 Copter: remove optical flow init failure message
b05bdd657d AP_NavEKF: getHeightControlLimit modifies height on success
37e8d1a338 Copter: PosController alt limit from fence and EKF
ba94a993f5 AP_InertialNav: get_hgt_ctrl_limit only modifies limit on success
51624149e1 AP_InertialNav: Add function to return EKF height control limit
cf04600710 AP_NavEKF: Add public function to limit height control during OF nav
68b225de4d AP_NavEKF: Prevent pre-arm baro drift affecting mag field reset height
c2e6fdb56c AP_NavEKF: Reduce effect of noisy baro data on baro height offset estimate
fd7fdc1ad9 AP_NavEKF: Remove unnecessary state resets on arm and disarm
3e67080002 AP_NavEKF: Use GPS vertical velocity observations to estimate Z accel bias
e48171ab11 AP_NavEKF: Improve takeoff with optical flow and range data loss
3e061b174e AP_NavEKF: Report unhealthy for all filter faults
6c4c54c2ba AP_NavEKF: Use default on ground range parameter from range finder object
10476333d8 AP_NavEKF: don't run when previously disarmed and time has slipped
085faaac6a AP_NavEKF: fix delay detection so that filter properly resets after a delay
3719ea53e4 Copter: add range finder status to extended status msg
245e46205a Rover: replace range finder health with status
5e359c977f Copter: replace range finder health with status
0acc4af63c Plane: replace range finder health with status
a01fb64f12 RangeFinder: fix example sketch
715da653c3 RangeFinder_Analog: set status
fadfa70e99 RangeFinder_MaxSonar: set status
e212ebb0d0 RangeFinder_PulsedLight: set status
aa04bef5af RangeFinder_PX4: set status and consume out of range samples
71de0ab815 RangeFinder_PX4_PWM: set status and consume out of range samples
7663b8eade RangeFinder: replace healthy with status and no_data methods
1ff443d667 Copter: add rangefinder pre-arm check
8ed6207ca8 RangeFinder: add pre-arm checks
f1cbd1f03b RangeFinder: add ground clearance parameter
1c8e3f9444 AP_NavEKF: Allow EKF to pull data from range finder object
7f1749dc1c AP_AHRS: Allow EKF to pull data from range finder object
32f87d008a Plane: Allow EKF to pull data from range finder object
133b8f5ad7 Copter: Allow EKF to pull data from range finder object
f21aa17980 AP_GPS: fixed sending of GPS_RAW_INT with multiple links
eae9452cd1 AntennaTracker: Handle GPS Injection
6b7b3247ed Plane: Handle GPS Injection
60c247ed12 Rover: Handle GPS Data Injection
a52d554a10 ArduCopter: Handle GPS Data Injection
2a5b25ddbf GCS_MAVLink: Re-enable GPS Injection Packets
704e75d140 ArduCopter: Remove kruft from old RTK driver
a5beef00d1 GPS: Official Swift Binary Protocol GPS Driver v3 for Piksi GPS
0480867de2 SITL: Update SBP simulation functions for pseudo-absolute mode
405862bd8f AP_AHRS: Reduce time delay for EKF initialisation
4a5bf0a266 AP_NavEKF: Reduce EKF start time
5184bca87f AP_AHRS: Prevent DCM reporting good tilt error when inverted
ea8217bd3a AP_AHRS: Reduce time constant on filtering of DCM error reporting
7e43eaafab GPS: TYPE param description to PX4-UAVCAN
6e30093924 AP_AHRS: correct sanity checks on update_trig
6a6ccb4f32 AP_AHRS: add sanity checks
c6f71ea2e0 AHRS: make get_error_rp and get_error_yaw const
18a73d8630 Camera: use camera feedback flag
26383183d2 GCS_MAVLink: version update after generate
48c6803717 GCS_MAVLink: generate after fixing camera feedback flags
8e2616ddcf GCS_MAVLink: prefix camera feedback flags
a21d328b93 GCS_Mavlink: Update ardupilotmega.xml
bfd24801ea Copter: minor format fix
8ced9cc904 Gimbal: only include for high performance CPUs
93ba2d2d32 Mount_MAVLink: uses vehicle's sysid
e726a05f3b Gimbal: fix to parameter init order
e9b2153672 Gimbal: formatting fixes
db6bb295c7 Mount: add gimbal parameter descriptions
924a3b2c67 GCS_MAVLink: version update after generate
9f10c43708 GCS_MAVLink: generate after GIMBAL/GOPRO msgs added
86b81120fd GCS_MAVLink: update gopro message definitions
231f776dd7 AP_Gimbal: change isCopterFlipped()
e59c6ddbae AP_SmallEKF:  increase start-up time of the SmallEKF
21b909f670 AP_Gimbal: report gimbal angles using a 312 rotation vector
2850c7ab4a AP_Gimbal: nest AP_Gimbal files into AP_Mount library
608017ba4a AP_Gimbal: optimize function calls using const refrences
03c0e17a4d AP_Gimbal: fix typo
03974c93bb AP_Gimbal: use new quaternion math to handle gimbal lock issue
255c5b3025 AP_Mount: report MAVLink gimbal angle to the GCS
b3c35aee4e AP_Gimbal: fix problem with rotation math on control loop
4bdf909bbf AP_Mount: Create new copter parameters to hold gimbal settings
cf2377d113 AP_Gimbal: Move gimbal parameters to a structure
9b94f26583 AP_Gimbal: Relax minimal angle constrains on the gimbal
a05fe7e117 AP_Gimbal: Re-implement the target low-pass filter
b3dd8891c8 AP_Mount: Use AP_Gimbal on the AP_Mount_MAVLink class
ee8c92c850 AP_Gimbal: clean-up for AP_Mount merge
4ad3e786a5 AP_NavEKF: fix initialization of the SmallEKF
0189f80462 AP_Gimbal: update getGimbalRateDemVecTilt to use quaternions
4bdae02cfd AP_Gimbal: disable gimbal motors if copter is fliped
ebaf1e28b1 AP_Gimbal: smooth the RC input with a low pass filter
534790634b AP_Gimbal: add a radio failsafe state to the gimbal
7cf883a61c Copter: increase the telemetry receive function rate to 400Hz
1da4be3a87 AP_Gimbal: initial implementation of the rate controlled gimbal library
1d9beed42f AP_SmallEKF: add function to report if the EKF is stable
7b28bf7d44 AP_NavEKF: Remove small EKF dependency on navigation EKF
558a69bdca Mount_MAVLink: remove code now in AP_Gimbal
2053d5e42e GCS_MAVlink: add GIMBAL_ and GOPRO_ messages
87e6452ee9 Mission: bug fix when jump target is zero
a0969905ce AP_AHRS: make get_error_rp() and get_error_yaw() const
3300de2c9d autotest: added some gyro and accel noise to copter sim
79f6d93dc9 autotest: change SIM_GPS_DELAY in parameters to 1
2dfe3cb844 DataFlash: added a perf counter for microSD overruns
03b5305837 autotest: allow for negative col pitch in crrcsim heli
b0937154f5 DataFlash: log compass health
cebd578403 Frame Params: remove unused Advanced, Beginner
c153d31dd2 DataFlash: speed up DataFlash in Replay
dcb25632fb AP_Compass: removed old setHIL compass offset
a4bad1c703 HAL_SITL: use SIM_MAG_OFS in SITL compass
1ce9cb693a SITL: added SIM_MAG_OFS for setting compass offsets in SITL
5f8c05b712 autotest: fixed extraction of defaults
8f09ee077c Replay: try to cope better with millisecond timestamps in 400Hz copter logs
179e47c618 HAL_Linux: prevent time from going backwards in Replay
d7000c4105 AP_Compass: fixed compass timestamps in Replay
dc3fdf76a3 Rover: remove call to empty camera.configure_msg
7330b5e91b Rover: add call to send digicam configure messages from a mission item
5de15464b6 Copter: add call to send digicam configure messages from a mission item
ab1cf2261d Plane: add call to send digicam configure messages from a mission item
337a94e52e Camera: remove empty configure_msg method
d456b97fd2 Camera: control_cmd triggers pic
38491c4ff7 Camera: fix mission cmds sending msgs to components
4eb3263653 Camera: mission cmds send do-digicam msgs to components
8dcd555037 Camera: trigger_pic sends do-digicam-control to components
1f705eb6a3 GCS_MAVLink: add send_to_components method
888c2289ce Mission: support do-digicam-control parameters
a27f383612 Copter: remove duplicate IMU/ATT logging
06b3935beb Copter: LOG_BITMASK parameter def get All+FastIMU, All+FastATT
dfb720bab6 Copter: rename FULL_IMU logging to IMU_FAST
2dbff9c544 Copter: remove scheduler table for 100hz CPUs
5a45de5e00 Copter: IMU full-rate logging LOG_BITMASK flag
803be1c255 Revert ".gitattributes: automatically clean up newlines in source files"
664c92fb81 Plane: fixed RUDDER_ONLY to not combine direct rudder output
76a81069c2 autotest: removed unused Rascal XML config
edec706c12 Plane: added RUDDER_ONLY parameter
4fe39c67b4 Build: use git checkout -f
ffd4662ec4 autotest: convert rover sim to use sim_wrapper.py
dbeaccc3d9 autotest: auto-adjust frame rate for crrcsim
6897bfdc6b autotest: fixes for crrcsim with heli model
e9b6863b23 autotest: changed to new crrcsim FDM protocol format
59e25d4b2c autotest: added CRRCSim frame targets
1cd114e300 autotest: added initial CRRCSim backend
b5c40cad76 autotest: added gps_distance and gps_bearing
b6ff19e86c autotest: make default rate depend on model type
633e7122e7 autotest: added some lateral thrust to helicopter simulator
6b21aceed0 autotest: moved constrain() into util.py
b56538ff70 Tools: removed unused file
d691cfc3d8 autotest: rename sim_multicopter.py to sim_wrapper.py
c95348c1d9 SITL: Avoid run-time FPEs due to bad gyro settings if SIM_DRIFT_TIME is set to 0
12957867fd AC_PosControl: fix thr twitch when changing modes
1c6c03b0eb Copter: firmware back to V3.3-dev
90d74e55d3 AntennaTracker: fix newlines
44d2ae06fb Mount: unix style line endings
06ea18f97e Filter: fix LPF example sketch
99a9a88529 Filter: dt check fix for LPF
f20a91ec95 Filter: add dt<0 check to LPF
22e1156c31 Filter: add some comments to LowPassFilter
738b1967ad AC_PosControl: use LowPassFilterVector2f
8f667b3d1c AC_PosControl: fix up comments
9a025024b5 Copter: use LowPassFilterVector3f for land detector accel filter
eafbd94d51 Copter: run land detector at 400hz
f93ff2d3ec Copter: use new lowpass filter
4993fd4d71 AP_Motors: use new lowpass filter
87500d9d70 AC_AttitudeControl: use new lowpass filter
76da2868d0 Filter: rework LowPassFilter
ca66b51ba9 Copter: Autotune parameter update
93d5c39248 Copter: add filter for the land detector
c2a6a0a9e2 AC_PosControl: add accel filter parameter
1fcb0f4d53 Copter: pos_control param prefix shortened to PSC
a04bc263f6 SITL: remove redundant takeoff from copter test
49d3357e1d Copter: add z-axis accel logging
a632a57d79 AC_PosControl: accessors to log z-axis vel and accel
b50f065cab Copter: use relax alt hold controllers
0aca3c4be6 AC_PosControl: add relax Alt Hold controllers
24b8d32b0e AC_AttitudeControl: add comment
7cb3c4ba39 AC_PosControl: add feed forward to Alt Hold
d0036290c1 SITL: copter test displays which RTL failed
a1e6a3ee32 AC_PosControl: minor format fix
91a03ae0e7 Copter: add PILOT_THR_FILT and call set_throttle_out functions with that value
3e0dab7b2d AC_PosControl: remove accel error filter and set throttle output filter instead
b7f7624aac AC_AttitudeControl: add throttle filter cutoff parameter to set_throttle_out functions
e80776f1f5 AP_Motors: remove MOT_THR_FILT parameter and add interface to configure filter
518e798f53 AC_AttitudeControl: rework angle_boost
7abd02baf2 AC_PosControl: change int32/int16 to float in accel_to_throttle
d14893fcd5 AC_PosControl: don't limit throttle any more
b27b9dd86e Copter: use new throttle interface
f3555d0d43 AC_AttitudeControl: modify throttle interface to specify stabilization
5c2341009a AC_AttitudeControl: throttle is a float
8e442675a7 AP_Motors: introduce set_stabilize(bool), specifies whether torque demands should be output
bc2afb31dd AP_Motors: virtual not necessary in child class
a2c69fe90d AP_Motors: add optional motor output throttle filter
f93df8997b mk: add coax copter target
d66eec536f .gitattributes: automatically clean up newlines in source files
0cff3a4292 Copter: fixup Windows newlines
ee91be66cf Copter: Update of land detector
4d9da2720b AC_AttitudeControl: add get for angle bf errors
88be3d67e7 AP_Motors: add get for throttle comp
791fbcf9b3 AP_Motors_Class: time constants of throttle comp
78a3ce46b9 Plane: Use tecs to control the throttle during takeoff
04e9141881 AP_TECS: Allow tecs to control throttle during takeoff
a9fc2b8a32 AP_Vehicle: Moved takeoff_throttle_max into plane parameters
4586de6637 AP_NavEKF: enable optimisation in Linux build
48fb487a8c AC_AttitudeControl: Formatting fix
2b5fb850dd Copter: Autotune adjustments
3659cd7359 PX4: update bootloader with battery power boot fix from David
f2993edc36 Copter: move MSG_BATTERY2 higher in select
7dbd6c8509 ArduCopter: Enable MSG_BATTERY2 through Mavlink
f8a6684c12 Copter: Autotune update
1af6fb13ad SITL: clear glitches before running test
90b02a2685 SITL: shorten GPS glitch duration for copter
dffa2e19bf AP_NavEKF: Make copter glitch accel consistent with timeout and radius
5d70854c08 AP_NavEKF: Fix minor bug in calculation of innovation variance
1008c6390c AP_NavEKF: Fail absolute position status if GPS repeatedly rejected
77d3798278 AP_NavEKF: Reduce recovery time after a GPS fusion timeout
0852aeab6e AP_NavEKF: Allow raw innovations to be monitored during timeouts
d3f4b4a02b AP_NavEKF: Fix name consistency for data check time stamps
f4537f4dec PX4: updated bootloaders to current version
4e09c9832b Copter: fix guided_posvel and guided_vel to update pos_control at same rate as wpnav
6ea91d012e AC_PID: calculate filt_alpha every time the filter is run
55d8f440d4 Copter: fix alt sent to fence_check to be meters
f06c859d93 AC_Fence: add comment re check_fence method
be8c118b63 Copter: change altitude fence to work on home altitudes instead of origin altitudes
05fda4ee4c AC_Fence: accept curr_alt parameter instead of getting alt from inav
0f9e50d61c Copter: fix rtl completion altitude
b344a7ed17 Copter: fix set_position_target altitudes
301d4cc4a6 Copter: fix guided takeoff altitude
920ac12214 Copter: pv_location_to_vector use pv_alt_above_origin
e5a6023827 Copter: pass inertial_nav to fence
f06cc5d0c1 AC_Fence: change inav to const reference
fddaca4cf7 Copter: rename get_throttle_surface_tracking to get_surface_tracking_climb_rate
568e4c4d0e Update README.md
dff430e136 AP_HAL_Linux: added UART port for second GPS
da6316ed4c AP_HAL_Linux: fixed TCP client connection in LinuxUARTDriver
39213584da AC_WPNav: minor comment and formatting changes
fd55068620 AC_WPNav: fix double-twitch on stop in loiter
1da410a6c6 AC_WPNav: allow user to tune loiter
867ca05e17 Plane: fix a relative altitude check for glide slope building
4b1d71e390 Plane: rebuild the glide slope if we are above it and already climbing
13ee34c58a AP_InertialSensor: MPU9150 fix compiler warnings
0279fdb0de Plane: Never trigger fence breach in LAND_FINAL flight stage.
4a3e61f4e4 AP_GPS: turn UBlox autodetection only for NavIO
716fd56c62 AP_HAL_Linux: added support for dynamic speed configration in LinuxSPIUARTDriver
47a336d192 AP_GPS: added Ublox' hardware generation autodetection
baf2b4da4e AP_HAL_Linux: renamed AnalogIn_Navio
7ba6a5e346 AP_HAL: Specify terrain directory for Navio
930aeaf556 AP_HAL_Linux: add RPi version runtime detection
c11304ba7a AP_HAL_Linux: change GPIO register address for Raspberry Pi 2
641fa05028 AP_HAL_Linux: added buffering in RCOutput_Navio
e6c2977da2 AP_HAL_Linux: fixed style in RCOutput_Navio
024825f95a AP_HAL_Linux: fixed PCA9685 initialization for RCOutput_Navio
2a137b6ea9 AP_HAL_Linux: fixed RCInput initialization on NavIO
6474aa2477 AP_HAL_AVR_SITL: added sensor delays to sitl.
bfba8870e2 AP_HAL_AVR_SITL: added sensor delays to sitl.
b292873304 AP_InertialSensor: fix starvation in L3G4200D
b17878c8c4 SITL: lower default GPS delay to 0.2 seconds
d7249cc1e6 AP_AHRS: only use EKF for plane and rover if all data available
996739df12 AP_Compass: Do not panic if compass is not found
be67b019a7 AP_GPS: Add missing setup for GPS_AUTO_test
7f7d92913e HAL_Linux: allow running as non-root
f049c8e4c5 AP_HAL_Linux: remove needless call to mlockall()
b7355dc62b AP_HAL_Linux: set thread name for ease debug
2c48434110 AP_HAL_Linux: use a table to initialize threads
e3d78b8960 AP_HAL_Linux: fix passing callback to member function
62c2f737d5 AP_HAL_Linux: fix setting RT priorities
29b667efdf AP_HAL_Linux: remove useless mlock of stack
5d69e2027c Travis: install gcc-multilib to get dependency libraries
b4718f6943 Travis: require sudo so not to run on a container
d4e9418ad4 autotest: rename jsmsim folder to jsb_sim
e2071a4630 Notify: ToneAlarm fix to stopping continuous tones
ea5c24b70b Copter: rename lost_copter to vehicle_lost
2472702838 Notify: rename lost_copter to vehicle_lost
3c00b0a0a8 Copter: ch7/ch8 for lost copter sound
043d24f03a Notify: add Lost Copter tone
a20a89181c Copter: enable CPU failsafe after initialisation
82f6bb3c17 autotest: use common frame time handling
7f89f73ad1 autotest: use simulation time for all time delays
d2a188c55d autotest: run plane test at maximum speed
9fdb74e006 autotest: run JSBSim in lock step mode
e8c115b9c3 autotest: check for the right version of JSBSim
370edde286 autotest: no need for special SIGCONT handling any more
0695277773 HAL_SITL: use pthread barriers for synthetic clock synchronisation
83c966eaa7 Copter: update 3.3-rc1 release notes
5a4039d99c Copter: version to APM:Copter 3.3-rc1
df59a912d1 Copter: 3.3-rc1 release notes
e79ccf1fcc AP_NavEKF: Fix bug allowing terrain to be above vehicle position
6d58c63c4c AP_NavEKF: Prevent potential divide by zeros in OF fusion
89142f1c5f AP_NavEKF: Prevent inadvertent use of DCM roll and pitch estimates.
56d2306a18 BattMon_SMBus_PX4: read capacity
c6440a48b3 BattMon_Backend: add init and set_capacity methods
11576a0f1e Copter: fix bitmask for use with SET_POSITION_TARGET
4b5d07252e Copter: ekf_check ok if optflow pos available
52f7186cbf Copter: pre-arm check primary compass health
9268024094 AP_NavEKF: Update default parameters for copter optical flow fusion
4fbdab27ff AP_NavEKF: Use range finder for primary hgt ref in opt flow mode
6834b5943e Copter: pre-arm alt disparity check only if using baro
1d7cb25c17 Copter : Update pre-arm and arm checks using EKF health status
ff9917d338 AP_AHRS: Fix bug preventing EKF from initialising
d618c55e2f AP_NavEKF: Improved handling of noisy GPS speed accuracy data
53358a4e10 AP_OpticalFlow: Add parameter to compensate for flow sensor yaw angle
cab171b580 AP_InertialNav: Add method to return EKF height above ground estimate
e98edaa6cb AP_NavEKF: Return more accurate validity status for height above ground
586e4a7d2b AP_NavEKF: Add Matlab derivations and simulations behind small EKF
fea7632eac Copter: save EKF learned compass to primary compass
2406e26ab4 Copter : Save EKF learned compass offsets on disarm
70fbb3c67e Copter: RATE_RLL_P param def max to 0.30
dc5bdd5ad8 AP_AHRS: use filtered INS output to compute _accel_ef_blended
2bf8f21b7a Copter: roll, pitch rate IMAX to 2000
a095a8c3a1 AC_PID: more protection against NaN and Inf
bdfe8bbc54 AC_AttControl_Heli: remove RATE_RP_MAX, RATE_Y_MAX
afcd1c6ec3 AC_AttitudeControl: sqrt controller on Stab
ae77c18a19 AC_PID: Protect against NaN and INF
132cdc4916 Motors: Use _motor_to_channel_map in tricopter consistently.
d589c591a6 Copter: only log home when first set
b0c777259f Copter: update home constantly while disarmed
c3bdb9a13e Copter: update inertial alt only after home is set
2bec00e1c5 Copter: set ahrs home from ekf location
e5ddd276fd Copter: remove baro init on arming
558018d839 InertialNav: add get_location method
9ecbd0e30f AP_L1_Control: fixed uTurn-wobble
6e8008ab69 AP_SerialManager: use protocol_match in find_baudrate
11d0801c99 SITL: fix copter-avc test
f260536373 AC_PID: fix example sketch compile error
6baec4952b AP_Math: add conversions to and from 3-1-2 euler angles
a1d4f40c16 AP_Math: change quaternion operator* and operator/ to const
07735fefa6 AP_Math: fix div by zero in quaternion
c57e25142c AP_NavEKF: Update optical flow fusion maths to reduce height errors
2e04effd4d Linux_HAL_Essentials: Add (UAV)CAN support
8335399525 SITL: fix copter test
7eb710ed3a SITL: copter autotest uses sim time
9e1502e54a SITL: add wait_sim_seconds and get_sim_time
2799d15427 SITL: weaken simulated copter
ee35c2aa35 autotest: update gimbal model to match new messages
35bac3ab4f GCS_MAVLink: regenerate without mavlink_frame_char changes
df948e7358 AP_Mount: fixed for new GIMBAL_REPORT message
33824e0b2f GCS_MAVLink: re-ran generate.sh
73b8890bd3 GCS_MAVLink: move GIMBAL_REPORT and GIMBAL_CONTROL and reserve messages
55befdc345 AP_NavEKF: Typo correction for EAS_NOISE description
33af275220 Support building of Pixhawk firmware under Vagrant/VirtualBox. On my Windows 7 machine this is at least 5x faster than a mingw based build. Most of the requirements were taken from install-prereqs-ubuntu.sh
03a50712db Plane: default LAND_DISARMDELAY to 20 seconds
445f358839 AP_HAL_Linux: Fix compiler warning of MAX_PWMS redefinition (previously defined)
793a212d28 Travis: removed script breakage
2f8764d31a AntennaTracker: added LOCAL_POSITION message
5284211c96 AP_SerialManager: fixed matching bug in protocol_match()
c5c40adb76 GCS_MAVLink: use instance in find_baudrate
89a50b99bb SerialManager: use instance in find_baudrate
9b3656e77c AP_NavEKF: Fix bug introduced in Y axis flow fusion
094910d7e4 Travis: more debugging code
991d111d91 Travis: another attempt at fixing compiler path
7048836d1e Travis: make arm compiler install unconditional
1315ed7ddf Travis: allow upgrade to gcc 4.8 to fail
36796fb810 Plane: added LOCAL_POSITION_NED message
4b5a36cc3f Rover: added LOCAL_POSITION_NED message
29be2f0b60 Copter: send LOCAL_POSITION_NED
6e52ef2a74 GCS_MAVLink: added send_local_position()
baf292def1 AP_NavEKF: prevent float exception on startup
7fc0f026d2 AP_NavEKF: Fix bug in optical flow innovation variance integrity check
389148ac54 AP_RangeFinder: use RNGFND_OFFSET for distance offset in PWM and I2C
55019abd71 AP_HAL: allow for default parameter override for PX4 and SITL
5a755c0400 AP_Param: allow a HAL_PARAM_DEFAULTS_PATH to override defaults
82a51e8791 GCS_MAVLink: use AP_Param::set_param_by_name()
5ca38e3d75 AP_Param: added set_param_by_name()
c1a0375562 AP_NavEKF: prevent divide by zero in EKF logging
d44cf14178 AP_AHRS : Publish EKF learned compass offsets
10f050c53b AP_NavEKF: Prevent baro drift causing toilet bowling
d4c60ca956 AP_NavEKF: Fix bug preventing reset of velocity after OF fusion timeout
95cd3480ec AP_NavEKF: review all uses of dtIMU and use dtIMUactual where necessary
79b44d3988 AP_NavEKF: initialise gndEffectMode
3165c43dfe AP_NavEKF: initialise gpsSpdAccuracy
98c32012fa AP_NavEKF: remove accel bias rate limit when disarmed
fe76cb4c0b AP_NavEKF : Make initial height variance consistent with baro noise
a976e9dad2 AP_NavEKF : Fix bug in scaling of initial Z accel bias state variance
92df3adb5e AP_NavEKF : Fix bug in Z accel bias update for IMU1
5d0952ba23 AP_NavEKF: eliminate onGndBaroNoise
fafb898341 AP_NavEKF: tuning change to accel bias learning
398accd151 AP_NavEKF: Improve pre-flight ready checking
5c1a226bef AP_NavEKF : Improvements to pre-arm IMU bias estimation
a5924acb3d AP_NavEKF: set dtIMU from ins expected sample rate
a1351e73ab AP_NavEKF : Compensate mag bias states for external copass offset changes
14795719f6 AP_NavEKF: Add public function for estimated magnetometer offsets
1c244af3d8 AP_NavEKF: Fix bug affecting in-flight GPS acquisition
b9b6938b1d AP_NavEKF: Add ability to start using GPS in-flight
98fa918b84 AP_NavEKF: Add new compass learning option
961faa59d9 AP_NavEKF: Don't let reported GPS accuracy modify horiz vel data checks
a607eb8469 AP_NavEKF: Reduce the GPS glitch tether length from 100 to 50m
496d31ab83 AP_NavEKF: Reduce max time Copters can reject GPS
8c2029d896 AP_NavEKF: Accel bias learning improvements
19d1b3b813 AP_NavEKF: Update EKF origin height whilst disarmed
70afcd7e70 AP_NavEKF: Add second stage alignment of yaw and earth field states
ed9c05cf2a AP_NavEKF: Remove logic used to delay fusion for load levelling
c0d23ffc30 AP_NavEKF: Filter accuracy and stability improvements
de1f7f5e63 AP_NavEKF: use published delta velocities and delta angles if available
3421a320b5 AP_NavEKF: Compensate for ground effect when takeoff or landing expected
20d92f5f9d AP_NavEKF: floor GPS velocity noise at parameter value for conservatism
9a797a5d49 AP_NavEKF: Use GPS reported speed accuracy if available
45e016ea5b AP_InertialSensor: check for zero delta_velocity dt
b306d7a356 AP_InertialSensor: accel cal sample for 400ms instead of 1s
1e1d8efa22 AP_InertialSensor: use expected update rate for accel cal sampling
bd84328440 AP_InertialSensor: hack to "reset" the accel filter before taking a cal sample
b2b42e081a AP_InertialSensor: use delta_velocity/dt for calibration if available
423160eaf8 AP_InertialSensor: publish delta_velocity_dt
4147825b87 AP_InertialSensor: fixed gyro calibration bug
2aa73c427b PX4: enable temperature compensation in hmc5883 driver
728dbf24db AP_Math: fixed vector inequality test
912a5d80b1 Tracker: fix serial manager integration
8f49c96b1a Rover: fix serial manager integration
7e4dd9666c Plane: fix serial manager integration
a32220636a Tracker: integrate Serial Manager instance
ff1d6dea61 APMRover: integrate Serial Manager instance
ab749f884f Plane: integrate Serial Manager instance
24f24a7db7 Copter: integrate Serial Manager instance
d738eda59d GCS_MAVLink: integrate Serial Manager instance
1ed7737669 Mount: integrate Serial Manager instance
cbcd32d698 GPS: integrate Serial Manager instance
c148330c2b FrSkyTelem: integrate Serial Manager instance
aef16160dc SerialManager: consolidate MAVLink1 and 2
a0028e3faf autotest: fixed SITL without ROS installed
ca92821445 Filter: LowPassFilter gets another div-by-zero check
57f8a4d29d Filter: add get_cutoff_frequency
1828515b3b AP_Motors: bug fix to _batt_voltage_filt
89cdd02f58 AP_Motors: remove duplicate get_throttle function
0e53c0a892 AP_Motors: make output_armed() and output_disarmed() pure virtual
70855027f3 autotest: added Iris ROS simulator support
f82f0da2b3 autotest: support sims that do their own time control
5947160fd7 autotest: removed delta_time from update_position()
5acc4c333b AP_Arming: accept accel/gyro if OK in last 10 seconds
6a33588f67 Plane: make LOG_BITMASK logging when disarmed clearer
e1900f646f Copter: remove PREARM_MAX_VELOCITY definition
ffc445098b Copter: remove velocity pre-arm check
3f3e622be5 AC_PID: fix example sketch
ea10877113 Replay: fix handling of old IMU messages
8ba043e593 AP_AHRS: fixed EKF startup bug
3289d38339 AP_NavEKF: make the init functions return bool
cf15b4d4fc autotest: removed use of --nowait option
7cd7ff89fd HAL_PX4: recover 12k of ram from USB buffers
16f09a6eae autotest: added -S parameter for simulation speedup
cfe12f38a5 Copter: Adjust Autotune backoff of accel
765b8ded02 Copter: ekf check triggers if position bad
74b98b89d0 Copter: remove dcm check
0f540fc30c autotest: ignore SIGCONT with sim_vehicle.sh -G
10ec1b8290 DataFlash: example no longer builds with APM2
1cdaacdaa1 autotest: avoid a px4-clean for each vehicle type
58a1ead765 autotest: speed up build_binaries a bit
97ee7e9fcc autotest: run copter SITL simulation at 400Hz
c338002e0d autotest: fixed defaults extraction in autotest
5cbfe4fd11 HAL_SITL: fixed copter interactive SITL
0ea0b51ccd autotest: start plane sim during initial parameter load
38e9bd5336 SITL: provide simulation timestamp from JSBSim
0c2232a4be HAL_SITL: don't sync clocks during system initialisation
127791127c AC_PosControl: fix double literals
09aa2f8114 AC_AttitudeControl: Fix function discription
6b104c0529 AC_AttitudeControl: No Overshoot limit for Stab
35d1cbd053 Copter: Autotune fix P test
cedd423c30 Copter: Autotune Yaw limits update
7cd78f63bf Copter: Stop autotune repeatedly saving gains
a4be1fede8 Copter: run all boards at 400Hz
45887a5d28 autotest: run rover and copter with synthetic clock
9748cb1e3e HAL_SITL: use a synthetic clock when possible
b4df5b35f0 Copter: fix compiler error when mount disabled
a3933f7a1f Copter: handle do_mount_control mission commands
8a3a7bdcd1 Mount: add set_angle_target method
f6021010c5 Mission: support do-mount-control
e1abdadc06 AutoTest: allow 10sec for EKF to settle in AVC test
2189b16165 Mount_SToRM: remove message throttling
b3362d5829 Mount: calc_angle_to_location returns vehicle relative yaw
d2739c5ce5 Mount_SToRM: slow updates to 10hz, reverse yaw, pitch
ab542de769 Rover: send invalid batt curr if monitor unhealthy
d3663d43c1 Plane: send invalid batt curr if monitor unhealthy
9a5ff97c61 Copter: send invalid batt curr if monitor unhealthy
c7dd6ae816 BattMon: SMBus becomes unhealthy after 5sec timeout
c44f304253 BattMon: analog monitor always healthy
98efcd5f03 AHRS: always use EKF for copter
c41ecca8d5 Copter: re-order position_ok function
5a4ed85588 AP_TECS: added TECS_LAND_PMAX
8b78e6f2c0 vagrant: Fix error on virgin installs
9aba885231 AC_Fence: fix prearm check
522ef8f91f Copter: rename MOT df msg to MOTB
b679fd0be0 Copter: log RATE with ATT
d9b65cec22 Copter: fix compiler error re ch9, ch12 on some boards
3be0a47c02 Copter: minor formatting fix
20311c3ba2 Copter: remove CH7_OPTION definition
e6c3f4f97b Copter: move aux switch enum to defines.h
fd0cb0beed Copter: Create check_duplicate_auxsw() method to streamline pre-arm check code
1afeb05398 Copter: Create check_if_auxsw_mode_used() to check for function usage
97cd3614eb Copter: Change Aux Switch function list to enum.
a5af151a91 Copter: Initial expansion of Aux Switch to Ch7-12
ecd2a6f515 DataFlash: log temperature of IMUs
23272e4013 AP_InertialSensor: added get_temperature() interface
9468a59204 Plane: require 3 seconds of not flying to declare a crash on land
1b0ed277b3 Plane: Disarm On Land
90bb97a144 Plane: added last_flying_ms to auto_state
18b277a9d2 Plane: use arm_motors() and disarm_motors()
dd1059cecf Plane: added arm_motors() and disarm_motors() helper functions
1f85a087ac Linux_HAL_Essentials: Move pwmpru and rcinpru to subfolder pru
a0f183e6ce Linux_HAL_Essentials: Move PFX DT files to devicetree/pxf
7f25938834 AHRS: fix example sketch
b01f9505b1 Mission: fix example sketch
385b3744ea MotorTri: check servo_out above min_throttle
f9e29a7f77 MotorSingle: check servo_out above min_throttle
8de5d16f96 MotorCoax: check servo_out above min_throttle
b10730f35c Copter: remove THR_MAX parameter
9a3f48cc1f AC_PosControl: ensure throttle output above zero
31a55b2bd6 MotorsMatrix: fix div by zero by ensuring throttle is above min
86ef4a738c Plane: only pass through throttle in failsafe if armed
e55350a5d6 Plane: added crash detection in autoland
fb8b96ba0d Plane: make is_flying() a bit more accurate in landing approach
9c2f1ce869 AP_Mount: Fix bug in mavlink gimbal attitude control
103bb2a08d AP_InertialSensor: Fix orientation MPU6000 PXF
bd34ffa7db Linux_HAL_Essentials: RC AIO PRU firmware. Does RC input (5ns accuracy) and 12 PWM RC ouputs (better than 1us accuracy) with only one PRU.
d4d42599b0 AP_HAL_Linux: Add RcInput and RcOutput with only one PRU when using a BBB. BBBMINI use the RC AIO PRU firmware already
a6b018eab9 AP_HAL_Linux: BBBMINI use kernel CS now
b88dc40e79 Linux_HAL_Essentials: Add device tree for BBBMINI
dff899647f AP_Mount: use AP_AHRS_TYPE instead of AP_AHRS_MOUNT
f92c711d14 AP_AHRS: define AP_AHRS_TYPE to be the type of AHRS in use
569626ac1a AP_TECS: fixed APM2 build
cf2445dc97 AP_InertialSensor: prevent nested accelerometer calibration
1c1798fb11 Plane: support much smoother flare transitions
8fc58d1cbe AP_Vehicle: expose LAND_FLARE_SEC in vehicle parameters for fixed wing
060f553097 AP_TECS: provide a much smoother transition before flare
9c0614c7bb AP_RangeFinder: default test to I2C Lidar
c8b0970e61 AP_Compass: show compass count in example
c565d3b805 AP_Airspeed: fixed example build
9ec9d58fb2 autotest: removed flymaple copter build
f4455d063e AP_Compass: fixed example
0bafd33cfa autotest: disable remaining APM1 build for copter
cac7714693 Plane: fixed parameter typo
74b46818bd AutoTest: add 10sec before starting copter test
585a105128 AP_AHRS: use compass->last_update_usec()
de3f461a55 AP_NavEKF: use compass->last_update_usec()
1962706a33 AP_Compass: fixed last_update, using last_update_usec()
9b29a9cd5d autotest: Enable SITL code to call an external ROS simulator for ArduPlane
86fc90f54c AP_Compass: removed spurious rotation in PX4 backend
d7bac39539 AP_Compass: removed two unused functions
2a47337dc1 Copter: fix multiple flight-mode fail log messages
57273b41b4 autotest: removed 2560 build for copter
ac4b52a31c Build: removed HIL builds
e1b998f011 Rover: disable CLI on APM2 by default
b0cdf8952b Plane: added HIL_MODE parameter
3c9af9e474 autotest: fixed hil mode start for sim_vehicle
73782c41a9 DataFlash: disable CLI on APM2
8a99cab535 AP_InertialSensor: load only HIL backend for hil_mode
fec2025469 AP_Compass: added set_hil_mode()
2e9d2e6449 AP_Baro: load only HIL backend for hil_mode
bb74b8dec8 AC_PosControl: fix twitch when entering RTL
8f6982860f AP_Compass: fixed devid for 2nd compass
7b51c907f5 AP_Compass: zero some more variables in constructor and init
4bc92b6373 AP_Compass: removed _product_id var
3a1cbaeb25 AP_Mission: fix for new compass API
b488d6de00 AP_AHRS: fix for new compass API
520c7c1306 AP_InertialSensor: always allow for AK8963 on MPU9250
d040318014 AP_Baro: removed unused define
4ae3bf5399 Plane: Update compass to the new interface
0795783d37 Rover: Update compass to the new interface
79e152cd93 Copter: Update compass to the new interface
95a1ab0cab Replay: fixed build with new AP_Compass API
53275ab8af AntennaTracker: Update compass to new interface
033bd243d6 SITL: Changes in compass for SITL
6467e5b3ee VARTest: Update VARTest to backend
60b8736cf1 AP_InertialSensor: use right AK8963 compass defines
b52918331a AP_HAL: make PXF use AK8963 compass by default
d186b82edc AP_HAL: consolidate AK8963 defines
0efd3bacea AP_Compass: make new backend match old PX4 behaviour
a871c87cad AP_Compass: use state array for compass variables
13f0aa5ecd AP_Compass: Separate common code into backend
d3b76cd8d3 AP_Compass: split compass into frontend/backend
774332ea02 Replay: fixup after inertial nav and baro glitch removal
9c6531ebeb Copter: simplify APM_Config after removing APM1,2 support
088a49abbf Copter: remove APM1, APM2 support
385558db4d OptFlow: fix example sketch
4772fd338c Mission: fix example sketch
c88ff00f5f AC_WPNav: remove example sketch
ce2d0a14a6 AC_Sprayer: remove example sketch
4754ecc9e2 AC_Fence: remove example sketch
90702e2d79 AC_AttControl: remove example sketch
883e23b97d GPS_Glitch: remove class
fbfc94cf69 Copter: remove GPS glitch and failsafe
0344ec5d89 Arming: remove GPS glitch checks
0dc985a6ab Notify: remove GPS glitch notification
4461952534 InertialNav: remove GPS glitch protection and baro reference
6f6847c025 Copter: use only InertialNav_EKF
9012c538fb InertialNav: remove example sketch
a76d970cc6 InertialNav_EKF: remove fall back to complementary filter
7221070533 InertialNav: make parent virtual
4e7d92094c Baro: remove glitch detection
d7f624be39 Copter: remove baro_glitch protection
c54b5b9af9 InertialNav: remove baro glitch protection
8e8487c699 Notify: remove baro_glitch reporting
0476558049 Copter: remove USE_EKF from ch7/ch8 switch
1f70b34cbc AP_Baro: fixed baro startup on PXF cape
808c33d0a7 AP_InertialSensor: support both MPU9250 and MPU9255
b02098e19e Plane: Make radio trim optional at ground start.
06d1f3ebdf Plane: add ArduPlane/test/* to gitignore
420e9e0d2e Plane: added INITIAL_MODE which is the mode we boot up into.
472a50f9c2 Build: removed APM2 build for copter
a942ebbb70 Plane: removed unnecessary prototype
dc9e2a54f3 Plane: fixed use of HAL soft_armed
659904bf65 Plane: sped up is_flying filter since it is running at only 1Hz
8f7bb61a54 Plane: changed arm check method to use new is_flying code
58b0702793 Plane: isFlying redesign
0b261e8695 Travis: used sudo with pip
de2c22b4b9 Travis: try to upgrade to g++ 4.8
8fee936ad7 HAL_SITL: fixed emulation of MTK1.6 GPS
e0870d5038 AP_GPS: disable NMEA and SiRF on AVR 2560
5da80f44b1 AP_GPS: fixed MTK1.6 time handling
d9342ed854 Copter: allow motor test using raw pwm without RC cal
2e6d79f449 Travis: disable droneapi and upgrade pip
67e10ff392 Travis: ignore failure of extra deb install
94bd357c57 Tracker: add EKF_STATUS_REPORT to enum
c5bbd445cc Rover: send EKF_STATUS_REPORT in extra3 stream
cb1b4ab486 Plane: send EKF_STATUS_REPORT in extra3 stream
553261d4ce Copter: send EKF_STATUS_REPORT in extra3 stream
230ca583d1 NavEKF: support sending EKF_STATUS_REPORT
5ee67e63ec GCS_MAVLink: add EKF_STATUS_REPORT to enum
3c555fc396 GCS_MAVLink: version number after adding EKF_STATUS_REPORT
5aef7e6d1a GCS_MAVLink: generate after adding EKF_STATUS_REPORT
d464344c34 GCS_MAVLink: add EKF_STATUS_REPORT message to xml
07fd31c724 AP_InertialSensor: change copter filters to 20Hz
d44fff71cf autotest: disable ARMING_REQUIRE in autotest
e0a0c3afcf AP_Arming: default to arming required
a1d43e39e0 AP_InertialSensor: added get_gyro_filter_hz() and get_accel_filter_hz()
8b0337ffd0 Rover: removed set_default_filter() call
3d7d46b9b0 AP_InertialSensor: replaced INS_MPU6K_FILTER with INS_ACCEL_FILTER and INS_GYRO_FILTER
f3314791f2 AP_InertialSensor: removed INS_CALSENSFRAME
4bc6c8e655 AP_InertialSensor: shift to new parameter indexes for accel calibration
5d0eb49114 AP_InertialSensor: calculate queue depth based on requested sample rate
c42a40553a Travis: install some extra packages for AVR
f3706d63c7 Filter: prevent copying the filter parms on apply
08d0ac37a3 autotest: need accel offsets for 2 IMUs now
ea49d1cd39 AP_InertialSensor: removed unused variable
b36122dec0 Filter: removed stdio.h
e6a4b9f68c AP_InertialSensor: check accel health during accel cal
875339f12a AP_InertialSensor: try to avoid a compiler fault in travis
29bf3f569e Rover: removed 1D accel calibration
bd4476cb84 AntennaTracker: removed 1D accel cal
5175f21225 Plane: removed 1D accel calibration
031c81beee AP_AHRS: removed call to 1D accel cal
4deb136bb0 AP_Arming: require 3D accel cal always
786172aa4e AP_InertialSensor: removed 1D accel calibration
a975520033 AP_InertialSensor: check range of accels in 3D calibration
a8a8628515 AP_InertialSensor: added INS_CALSENSFRAME parameter
bc655ff0cc AP_InertialSensor_PX4: add optional debug
074ee49cd0 AP_InertialSensor_PX4: interleave accel and gyro samples by time
addf80b669 AP_InertialSensor_PX4: explicitly configure sensors, publish deltas
b5131b7b64 AP_InertialSensor: add coning.py example
2a547f329b AP_InertialSensor: allow backends to publish delta velocities and angles
155c173ed1 AP_InertialSensor: rename _rotate_and_offset to _publish
502446d821 AP_InertialSensor: use LowPassFilter2pVector3f
0133f0bb57 LowPassFilter2p: split into LowPassFilter2pfloat and LowPassFilter2pVector3f
f05c4eb019 PX4: enabled SPI hmc5883 for FMUv3
0447f6216a Copter: get_pilot_desired_lean_angles uses angle_max of at least 10deg
ecefe78417 Copter: interpret input in stabilize as a tilt vector
e90f5375d0 added octa-quad target for SITL, fixed octa motor order
a2d5ac6805 AP_GPS: add includes for success build example sketch
4f1dd85e47 AP_HAL: Add test sketch for RC input to RC output pass through
45a12646be SITL: Initial improvements to tradheli simulation
12724e9556 AC_PID: remove include of stdio.h
721d551239 Copter: extend AUTOTUNE_AXIS param description
b475a2fe10 Copter: AutoTune formatting fixes
cc0d5b9ced AC_PI_2D: replace set_filt_hz method with filt_hz
c10b0b34ca AC_PID: replace set_filt_hz method with filt_hz
88ec13b10d AC_PosControl: fix build
50d2e98aa4 AC_AttControl: init throttle_hover in constructor
965db2c7f7 AC_PosControl: add comments and defines for jerk limits
4408c1b935 AC_PosControl: 2d jerk constraint in accel_to_lean_angles
9871b95586 AC_PosControl: fix dt sanity checking
e7efe23fb5 GCS_MAVLink: reserve message IDs for future feature additions
5e26450a6f AP_Motors: make THR_LOW_COMP a variable instead of param
c537c38646 Copter: add update_throttle_low_comp
007c96a3d8 AP_Motors: Low throttle compensation setters
6275ee0289 AP_Motors: Check for battery voltage reading fail
36c91970f1 Copter: Autotune algorithm update
9bfb0e1f40 Copter: Autotune comment changes and formatting
1c57c6a266 Copter: Autotune update yaw filt and rate P max
5f26a36060 INS: protect against two calibrations running at the same time
72d1113501 Copter: set accel and gyro disabled during calibration
f9c6e35d19 INS: add calibrating method
3e45052a75 Copter: reply with failed if gyro or accel cal fails
10724f5738 Copter: reject preflight calibration when armed
b0e7990c90 INS: set gyro_cal_ok only after completing calibration
b8ab87ea86 Rover: added CLI_ENABLED parameter
3f906f6bd1 Copter: added CLI_ENABLED option
16cdf64d63 Plane: added CLI_ENABLED option
d9950ea07f Rover: set gyros disabled when calibrating
47e9409d00 Copter: set gyros disabled when calibrating
fa70c95c8e Plane: set gyros disabled when calibrating
aec7907571 AP_InertialSensor: updated comment on accel check in gyro cal
494e909703 AP_InertialSensor: ensure accel cal completion messages get through
38bde56523 AP_InertialSensor: continue finding best gyro after convergence
20a4c98bac AP_InertialSensor: use accelerometers to prevent bad gyro cal
e6b291f270 AntennaTracker: use new interactive accelcal
9b9aa3dc33 Copter: use new interactive accelcal
8ef8a964f1 Plane: use new interactive accelcal
434d094993 AP_InertialSensor: allow MAVLink packets to flow during accelcal
af7765c57c GCS_MAVLink: fixed typo
ac848dc103 GCS_MAVLink: zero packet data before reply in serial control
033bcd849b Copter: add 0.6 to EKF and DCM CHECK_THRESH param description
e0acd250d1 Copter: set Notify firmware_update flag before reboot
7675160e33 Notify: add firmware update flag and implement for OreoLED
61ed812fc4 Copter: set Notify's autopilot_mode flag
442d07a6c9 Notify: OreoLED fast startup with solid green
778edfda72 Copter: default yaw rate filter to 5hz
e2383581cc AC_AttitudeControl: relax_bf_rate_controller resets rate integrators
3ad9b1a06b AP_MotorsMatrix: remove incorrect throttle limit flag
20de383084 AC_AttControl: accel limiting for angular control only if feed forward enabled
d148039f65 AP_Motors: stricter batt_voltage misconfiguration check
7de5bccc93 AC_PosControl: remove THR_HOVER parameter
9866eaded1 AC_PosControl: rename p_alt_pos to p_pos_z
349f1aeceb AC_PosControl: use 2-axis PI controller
8d4f0ec80c AC_PosControl: integrate PID input filter
e4d48fdc92 AC_AttControlHeli: separate accel max for roll, pitch
51455af51a AC_AttConHeli: integrate PID input filter
792b2a2eb3 AC_AttControl: separate accel max for roll, pitch, yaw
9833c91b2b AC_AttControl: get_max_rate_step_bf_roll, pitch and yaw
f00025e5c9 AC_AttControl: accessor for rate feedforward
691fb8947e AC_AttControl: accessor for rate_bf_targets
784a4ce51a AC_AttControl: increase max angle overshoot to 30deg
eb084f7c58 AC_AttControl: bf yaw control uses input filtered PID
d5bbe6de03 Copter: remove TRIM_THROTTLE
c78480e14f Copter: rename loiter_pos to pos_xy
e232867661 Copter: move LOITER_RATE to 2-axis PI controller
1ec5eedd23 Copter: ch6 tuning of yaw rate filter
2b0fb45fe8 Copter: integrate PID input filter
d233ca3133 Copter: add Time and rate_target to AutoTune logging
8ba195a3a2 Copter: add Mot and Rate dataflash logging
1ebf2c40f5 Copter: Autotune rewrite
a9a6e8856b Copter: add AUTOTUNE_AGGR parameter
864168e5ea Copter: add AUTOTUNE_AXES bitmask parameter
11a19803e0 Motors: add accessors for motor logging
34a5bc8b33 AC_PI_2D: 2-axis PI controller
046949ea8a AC_HELI_PID: add input filter and restructure
517448e536 AC_PID: add input filtering and restructure
644d0c223a PX4: update FMUv2 bootloader
76f1088ec6 Vagrant: bash gets confused if you pass in .sh files from windows
2aae594371 GCS_MAVLink: handle serial loopback in routing
086f878bdc HAL_PX4: split IO thread into separate IO and storage threads
58c92b0158 GCS_MAVLink: added SCALED_IMU3 logging
79be500e04 GCS_MAVLink: re-generate headers
eeacbe518b GCS_MAVLink: update from upstream XML
e0f828f4d2 APMrover2: Creating release 2.49 of Rover.
339dac18f7 Rover: Fix the yellow binking lights after the AP_Notify updates
8629637cec Rover: Fix for a minor sonar problem
f5f7cd540f Motors: fix example sketches
cf8c211c35 Motors: fix thrust curve and add constraint
3e960dfc3b Motors: add get_voltage_comp_gain
997c6f0868 Motors: move battery resistance calcs to parent
09d7cdbc23 Motors: batt_voltage_filt becomes filter object
4b78b2ce80 Filter: add get method to LowPassFilter
c711179ffe Copter: set_mid_throttle renamed to set_hover_throttle
529c6fed3a Motors: move over current throttle limiting to parent
812473fd9a MotorsMatrix: use get_hover_throttle_as_pwm
1a9d3125ef Motors: _hover_out to pct * 10 instead of pwm
6b7bdf64bd Motors: move batt voltage lift_max calcs to parent
c549b58eb7 MotorsMatrix: remove check of throttle_curve_enabled
5fb3de48ee MotorsTri, Single, Coax: use new thrust curve
2eaa4a8445 Motors: remove old throttle curve
751dbb7df7 Motors: move thrust curve and volt scaling to parent
80b498f598 Motors: add loop_rate to test sketch
bae424fa88 Copter: pass in loop_rate to motors constructor
7ab76dbd0e Motors: add loop_rate to constructor for all frames
77d4b3a2ae Motors: add loop_rate to constructor
ec9d7dd99e Motors: minor comment fixes
1d0ee68116 Motors: over current throttle limiting
8eedb2c040 Copter: sent battery voltage and current to motors
1217ab9579 BattMon: add get_type method
f6523c0997 Motors: Add THR_LOW_CMP to adjust low throttle inputs affect on attitude control
83e3e2fec2 Motors: thrust curve and voltage scaling for matrix supported frames
3e8563dd8b Copter: ch6 tuning definition for yaw min headroom
5b0bd49ff2 Motors: configurable yaw headroom for matrix frames
51213235b4 OreoLED_PX4: available only on PX4
f1ce70e748 Notify: disable oreoled by default
89cd74c35f Notify: OreoLED supports handle_led_control
90cac02bd7 Notify: OreoLED fix to fade-in when armed
c5b3bc5698 Copter: handle LED_CONTROL and pass to Notify
35a3a52f29 Notify: add support for handle_led_control
9159c7107d GCS_MAVLink: version update after LED_CONTROL added
26d54398e2 GCS_MAVlink: generate after LED_CONTROL added
3fdabb3667 GCS_MAVlink: define LED_CONTROL in ardupilotmega.xml
b8ef765b3e Notify: add OreoLED to PX4
ab96e98815 PX4: start oreoled driver
43f3827fd5 Make: add oreoled module to Pixhawk build
0a33a7c15a Notify: OreoLED_PX4 driver
999710d0e1 Plane: fixed issue where auto is entered before GPS lock
98b583bccc Plane: fixed bungee launch
e9bbe062f3 AC_PosControl: modify accel_to_lean_angles to apply filters before yaw rotation
3ca4142c91 SITL: added tradheli support
1f417dce86 AP_SerialManager: added note on external converter requirement for Frsky
5afe3fb958 Plane: mark 3.3.0beta1
bdd265a985 PX4: use mode_pwm4 on startup
7c975808f8 Copter: provide terrain height to rangefinder
422d0f05bd Plane: provide terrain height to rangefinder
64dfc68784 Plane: log mode on arming
9efc0acf19 PX4: start the pwm_input driver
a6454c9918 PX4: build the pwm_input driver
a6d76b4e03 AP_RangeFinder: added PX4-PWM rangefinder
6cf029f82a Plane: fixed to allow TKOFF_THR_DELAY up to 12.7 seconds
bee703ab2a Plane: removed incorrect conditional on parameter enum
b650d39786 InertialSensor: remove product_id set to zero
7b0e806db1 AP_Mount: correct status_msg to conform to MAVLink specification
74ef1b8d2f Copter: removed HomeState from defines.h
76f8b9b07c Plane: support DO_SET_HOME MAVLink command
3a51bac0d0 AP_Arming: use new enum for home_is_set
a53395cdb8 AP_Common: added HomeState enum from copter
6781a8d329 AP_AHRS: fixed get_position for EKF to use correct relative altitude
869fb23062 HAL_SITL: implement SIM_GPSDRIFTALT
63c792bc1c SITL: added SIM_GPSDRIFTALT simulation control
3535574b9d Rover: Created the rover release v2.48
343bcbb1c9 Tracker: fixed MAVLink stream trigger calculations
d7d5b7bb73 Rover: Fixed MAVLINK stream trigger calculation.
6ac8629451 Plane: Fixed MAVLINK stream trigger calculation.
b99f38d39d Copter: Fixed MAVLINK stream trigger calculation.
73e00108e4 Mount: SToRM32 remove unnecessary include
23f0bab5d6 Mount: integrate SToRM32 backend
92c7949355 Mount: SToRM32 mount backend
dd5be8837a autotest: raise timeout
b21c00fcf9 AP_L1_Control: changed default L1 tuning to 20
ec70042d25 APM_Control: raise default IMAX to 3000
cd2898b149 autotest: removed old table of contents link in generated paramater docs
d0d5524bce Plane: mark ELEVON_MIXING as deprecated
6959cdbf15 RC_Channel: fixed usage of _reverse to be consistent
307b9e807f Copter: reduced build warnings
26ac29840c AP_Common: added UNUSED_FUNCTION macro
50a11c7d5a AP_Mount: added an alternative tilt-only gimbal control method
9b2d44d6ed AP_InertialSensor: use delay_microseconds_boost()
18131eae13 HAL_PX4: added delay_microseconds_boost()
c63540f7b1 AP_HAL: added delay_microseconds_boost()
f54d799bff AP_InertialSensor: added TIMING_DEBUG code for finding loop timing issues
3f225b1a73 Plane: lower default FS_LONG_TIMEOUT value from 20 to 5 seconds
191d803968 Copter: make PERF info message into a STATUSTEXT message
73f40c697b Tracker: remove unused definitions
8e75c9580c InertialNav: get_origin returns zero when no origin
da4a36c4e0 Copter: fix nack result_unsupported when arming fails
7ae1436b97 Copter: nack result_failed when arming fails
0b3118b3c4 Travis: more packages for new PX4 build
648c398ccd PX4: added README for new tools
5d6bed2814 PX4: added genmsg and gencpp tools
96d290a283 PX4: add PYTHONPATH for genmsg and gencpp tools
04bef5ccf3 AP_InertialSensor: don't skip delay if we are a bit early
619196b6b3 HAL_PX4: fixes for new PX4 device paths
38d63d51a5 AP_RangeFinder: change for new PX4 device paths
995311f807 AP_OpticalFlow: change for new PX4 device paths
9f7e20090c AP_Notify: change for new PX4 device paths
4537acb898 AP_InertialSensor: change for new PX4 device paths
99ed508903 AP_Compass: change for new PX4 paths
beeb9173ea AP_Baro: change for new PX4 paths
26a77dc502 AP_Airspeed: change for new PX4 paths
001643d5a3 HAL_PX4: always use the hrt semaphore based delay
7f0060b881 HAL_PX4: reduce the amount of time between loop() calls
7bb079b348 AP_Parachute.cpp: Typo correction.
171c0476b6 APMrover2: Publish Beta Release of version 2.48
77d8f88e45 Copter: fence, rtl, land use alt-above-home
4d566bf462 Copter: current_loc.alt is alt-above-home
7e11ec9a6f Copter: surf tracking, do-land use inav alt
cb66bf8b98 Copter: functions to convert alt-above-home vs alt-above-origin
9bd3a7249a Copter: disable inertial nav
fbe87afb9c Copter: pre-arm check of EKF origin vs home
e7579198c9 Copter: when arming set home to current loc only if not locked
9e156d2f81 Copter: always update current_loc regardless of inav state
7029b11414 Copter: support do_set_home command from GCS and mission
d5fd6d2a99 Copter: use home_is_set function
e081b9d1c7 Copter: home is set becomes three state
a4fd36a775 Copter: fix compile error when fence disabled
75cd41a7c1 AP_HAL_Linux: added NavioAnalogIn
b5aef01f72 AP_ADC: added ADS1115 support
195aa5fc6b AP_HAL_Linux: take the semaphore in SPIUARTDriver for shorter periods of time
64da7f0360 AP_HAL_Linux: fix macro that defines number of I/O callbacks
5b21bd2f1d AP_HAL_Linux: make Ublox transactions shorter
4034004194 AP_HAL_Linux: switch NavIO to kernel CS handling
9f552eaa4b AP_NavEKF: Fix bug that resets position to origin when vehicle arms
b8d3da3846 AP_NavEKF: Report last known position when vehicle is disarmed
4aa8a012de GCS_MAVLink: re-generate headers (updated stdint.h usage)
e9f87a2626 Plane: implement MAV_CMD_REQUEST_AUTOPILOT_CAPABILITIES
81302fe190 Copter: implement MAV_CMD_REQUEST_AUTOPILOT_CAPABILITIES
6ec65bf629 AntennaTracker: implement MAV_CMD_REQUEST_AUTOPILOT_CAPABILITIES
149daf23a6 Rover: implement MAV_CMD_REQUEST_AUTOPILOT_CAPABILITIES
991afa9999 GCS_MAVLink: re-generate headers
7a6d91035e GCS_MAVLink: merge upstream changes
55041c7a7a AP_NavEKF: prevent division by zero in SmallEKF
1670ccf774 Rover: fixed BattMonitor initialisation
801c4d0a93 Build: disable board specific build tags
f69622f041 Travis: cope with setuptools upgrade failing
604742ac0e rc.APM: disarm px4io before trying to update
db9c8548a5 HAL_VRBrain: call parent Util constructor
ebacb2b496 HAL_PX4: call parent Util constructor
59cf1c29ff AP_HAL_VRBRAIN: attempt to initialize USB while soft-disarmed
e908fcafb1 AP_HAL_PX4: attempt to initialize USB while soft-disarmed
c2d60ed7a8 Replay: use hal.util soft_armed state
d08aa3edac APMrover2: use hal.util soft_armed state
4105edaa87 Plane: use hal.util soft_armed state
0cc83b1826 Copter: use hal.util soft_armed state
50466848f7 AP_NavEKF: use hal.util soft_armed state
180c85817d AP_AHRS: remove armed state, use hal.util soft_armed state
aa7776ea59 AP_HAL: add soft_armed state to hal.util
5059fc620c Build: add git hashes to .px4 files
fdcd5ca1a1 GCS_MAVLink: re-generate headers
b227f8463f GCS_MAVLink: merge upstream mavlink changes
d0075c0d23 Plane: support AUTOPILOT_VERSION command
4484465b38 AntennaTracker: support AUTOPILOT_VERSION command
529a05256d Rover: support AUTOPILOT_VERSION command
4ade22c94b Copter: use common send_autopilot_version()
8cfe8c5823 GCS_MAVLink: moved send_autopilot_version() to common code
8e35baaef8 GCS_MAVLink: re-generate headers
62c63e9b35 Copter: support AUTOPILOT_VERSION_REQUEST message
c5d66cdfba Copter: add send_autopilot_version
0d1f0f4eb0 GCS_MAVLink: add AUTOPILOT_VERSION_REQUEST
6557432c0d PX4: Added support for TeraRanger One sensor
e43fe520e8 AP_BoardConfig: added BRD_SBUS_OUT parameter
460b434708 AP_InertialSensor: add apm1 oilpan support
98b78e61c2 AP_InertialNav: fix apm1 oilpan support
49d81a9c99 AP_AHRS: fix apm1 oilpan support
3a5eb33d86 GCS_MAVLink: Bug - CLI_ENABLED check should be in vehicle code only.
4860c84dff AP_NavEKF: Changes to fix the warnings in rover sitl build.
300a02f4e4 AP_Math: Changes to fix the warnings in rover sitl build.
b511410b48 AP_InertialSensor: Changes to fix the warnings in rover sitl build.
525787078f AP_HAL: Changes to fix the warnings in rover sitl build.
e7e9e1adf0 AP_GPS: Changes to fix the warnings in rover sitl build.
52c5db8440 AP_Compass: Changes to fix the warnings in rover sitl build.
0b4ac5d256 AP_Common: Changes to fix the warnings in rover sitl build.
4ffb4f6fef APMrover2: Changes to fix the warnings in rover sitl build.
e7ac9d27f5 Copter: AC3.2.1 release notes
99ca779718 Copter: fix to allow arming in Guided from GCS
a8c176f104 PX4: smart battery on second I2C bus
03e110c834 Plane: update release notes
e0db5616a2 Plane: fixed HIL mode in plane
ac3dd87790 AP_Baro: added hil_mode support
4ff75f0371 Copter: perf info ignores slow loop due to arming
82df53ed80 CPUInfo: fix compile error
5f7480b740 AP_Math: change fast_atan2 to use atan2f on fast CPUs
b64077ac2e GCS_MAVLink: fixed example build
af5f84f4e4 DataFlash: fixed example builds
d5e129457e AP_InertialNav: fixed example builds
84cda98bec HAL_AVR: fixed example build
78dadcb5c6 AC_AttitudeControl: fixed example build
dd0e45db41 GCS_MAVLink: fixed build of example sketches
2f3b5006e7 AP_Mount: fixed build of example sketches
a8c1d3a134 AP_GPS: fixed SerialManager for test sketches
9eb07ffde2 HAL_VRBRAIN: implement updated new_input() semantics
f548d48fdc HAL_PX4: implement updated new_input() semantics
7275d2b804 HAL_SITL: implement updated new_input() semantics
5d6f883887 HAL_AVR: implement updated new_input() semantics
3075cb058d AP_HAL: changed semantics of RCInput.new_input()
a118ac69c6 Travis: use separate pip commands to find travis issue
bea3b4780d Travis: use install-travis-env.sh
97d6543520 Travis: added install-travis-env.sh
7a5ec6d75b GCS_MAVLink: allow use of RC_CHANNELS message on AVR too
33a3254d8b HAL_Linux: accept a smaller sync pulse width
7fb114752c AP_HAL_AVR: accept a much shorted sync pulse width on RCInput
f2a919c55e AP_HAL_PX4: moved size of main thread stack to Scheduler.h
1c270d17a8 AP_Airspeed: ignore temperatures below -80
8b5f1575ad Copter: remove pre-arm check of RC3_TRIM
3edc1ea4db Plane: tell arming if logging is available
c0e212916b PX4: auto-format microSD if corrupt
8bd7c171e4 PX4: added usb_connected command
4ecd99eb76 AP_Arming: added check for logging available
a70f98552e Copter: rename xy_mode
fc4442bf61 AC_WPNav: rename xy_mode
186337f18e AC_PosControl: rename xy_mode enum values
626521c366 AC_WPNav: update usage of update_xy_controller
e71ad72fc0 Copter: update usage of update_xy_controller
3faca88423 AC_PosControl: allow control of xy rate constraint behavior
cabf21194a AP_Arming: improved docs
8108ee796e Plane: update release-notes in master
4d6a7996f7 Plane: the next release will be 3.3.0
5c68980f05 AP_Notify: removed unused VRBRAIN files
0b1f217420 Copter: Add PreArm check for radio trims.
2186dec271 Copter: Remove trim_radio() function.
ecaf3280e5 Copter: update AC3.2.1-rc2 release notes
b66a1135d9 AHRS: fix example sketch compile error
aa94ff629d AP_NavEKF: Prevent bad GPS pre-arming casuing initial position errors
bc5581d634 AP_NavEKF: Prevent arming delays from failing GPS
2c012c2763 AP_NavEKF: Always check for new GPS data
00758a3e91 Plane: improved landing parameter descriptions
33225c2955 Plane: mark master as 3.2.2alpha1
14d76d158a AC_AttitudeControl: Correct comment.
baa3e802ee AC_WPNav: clean up atan2
4311fa8952 Copter: 90-atan2(-x,y) is the same as atan2(y,x)
f77b359e83 Copter: increase get_roi_yaw from 40hz to 100hz
28341a6c7a Plane: handle very steep landings more gracefully
2ae412d513 Plane: only reset mission on disarm if not in AUTO mode
a172d898c5 Plane: force throttle to zero when disarmed
ae487ca88b AutoTest: remove calibrate level from copter tests
112f6a1854 AP_InertialNav: add comments
2cb63dc792 Copter: don't assume home is at the origin
9c2865f6a8 Copter: update pv_location_to_vector to use get_origin instead of get_home
c95e7b2282 AP_InertialNav: add get_origin function
3b5228922e Copter: increased ESC auto-cal delay
579048803c autotest: removed PX4IO firmware link
fa7c584733 AP_Mount: fixed build on non-EKF systems
f77f919588 AP_Mount: enable pan pointing in MAVLink backend
81f60bde06 AP_Mount: fill in all Location flags in ROI pointing
cf76dcfbf3 AP_Mount: fixed mount MAVLink backend to match SITL sim behaviour
75b1330843 AP_Mount: fixed radians to degrees error
032dcc3660 AP_Mount: fixed references to state in backends
fe0c434d2b Simulator: Gimbal debug output changes
925d625ed1 AP_NavEKF: fix bug in small EKF velocity fusion
8d6f0d08c9 AP_Mount: Update attitude control calculations and debug printing
84029f8f7c Simulator: Bypass angle limiting to allow debugging
255252f387 AP_Math: Fix bug in quaternion division
1660aefc90 AP_Mount: Add a simple attitude control loop to the gimbal report handling
5f24603ceb AP_NavEKF: Publish small EKF quaternion and gyro bias outputs
17445d03f0 AP_Math: Add quaternion division
79017096e2 AP_Mount: prototype code to send biases
9bdefd0bba autotest: updates for new GIMBAL_REPORT format
da27a8696d AP_Mount: added initial ekf estimation of gimbal bias
ee9c778834 AP_AHRS: added a get_NavEKF_const() function
4c8b663200 AP_NavEKF: added initial version of SmallEKF
1bbe633691 GCS_MAVLink: re-generate headers
b81cdf9250 GCS_MAVLink: change to delta_time in GIMBAL_REPORT
734cc61838 Replay: fixed build
2b0ccae776 Plane: fixed build warning
91df1ba738 AntennaTracker: fixed build warning
c8d140f17b Rover: fixed build warning
51dc3c120d Copter: handle GIMBAL_REPORT receive and send
c58397020a autotest: send targeted GIMBAL_REPORT messages
01b264951a AP_Mount: added handling of GIMBAL_REPORT messages
35c14c787e GCS_MAVLink: added handle_gimbal_report() function
a1536d575b GCS_MAVLink: added GIMBAL msgs to routing
01325b701a GCS_MAVLink: re-generate headers
3b2332a0c7 GCS_MAVLink: added target_system/component to GIMBAL_REPORT
28cf93d300 autotest: added maths for correct gimbal joint limits
f63eb870cf autotest: change euler312 ordering conventions
51ce4d3217 GCS_MAVLink: re-generate
df735e2ddb GCS_MAVLink: change euler312 order conventions
53adcc9a25 GCS_MAVLink: regenerate MAVLink headers
73670edda6 GCS_MAVLink: added GIMBAL messages, mavlink ID and type
791dfbff7e autotest: added mavlink gimbal simulation in copter SITL
edad8da613 pysim: added euler312 conversions
f00861d2f1 Copter: using arming_failed as event
6cfd48d0c6 Buzzer: handle arming_failed as event
a991b4a823 Linux: handle arming_failed as event
3361002379 ToneAlarm: handle arming_failed as event
bd1ae13fdb Notify: arming_failed flag moved to events
6a827459ad Notify: increase size of flags type
0a68d4ef39 Notify: clear all flags and events during init
272768bc0f Notify: init RGBLed members
9e813948fa Copter: protect against multiple arming messages
32cb901ce3 Copter: allow arming at mid throttle in AltHold, Loiter
e7f20c04c3 Copter: init_arm_motors calls pre-arm checks
f4c392c64d Copter: pre_arm_checks returns success or failure
64af4ff923 Copter: rename set_servos_4 to motors_output
3550e52560 MotorsTri: add 80% throttle limit
8754ce9eed Copter: move 80% thr limit to MotorsTri
43ba94e99a Copter: rename manual_flight_mode to mode_has_manual_throttle
f225558dbd IRIS params: update RATE_PIT_IMAX to 1000
c044901f9f AP_Notify: added missing VRBRAIN led files
b62ad2db71 build: added missing VR boards.
a665037176 TOOLS: changed script for building single project
ebc3dcd142 DataFlash: Clean up, VRBRAIN deleted unused boards.
90663664f3 AP_BattMonitor: VRBRAIN deleted unused boards, corrected default batt volt divider.
a863f0bca8 AP_Airspeed: VRBRAIN code clean up. Deleted unused boards.
d78ff43971 AP_HAL_VRBRAIN: code clean up. Deleted unused boards.
5e8c1b61b5 AP_Compass: AP_Compass_VRBRAIN.cpp added _is_external overwrite to deal with external compass attached to internal I2C BUS
61f4239e47 AP_Airspeed: enabled PX4 library for VR boards
903f5d2211 TOOLS: changed permissions of scripts for building
6473ae2c37 Storage: updated to the PX4 library
b278e058fa ROMFS: added new ROMFS for VR Brain 5.2 and VR Micro Brain 5.2
35c7a74256 VRBRAIN_TARGETS: changed makefile for VR boards
26432d6064 AP_Notify: use RGB driver for board led in VRBRAIN boards.
3e97592e5c AP_Rangefinder: added #if for VRBRAIN boards.
c38b11eec8 AP_RangeFinder: added VRBRAIN to use PX4 libraries
dae32984f1 AP_InertialSensor: use PX4 library for VRBRAIN boards.
25818f08a3 AP_Airspeed: added VRBRAIN board type
ffd26e59cd DataFlash: added new VRBRAIN boards
b0b892e578 AP_Rangefinder: added support for VRBRAIN boards
731329fc55 AP_InertialSensor: correction to AP_InertialSensor_VRBRAIN
92e0bc3a2f AP_HAL_VRBRAIN: updates to libraries for new boards
a0673b56f9 AP_HAL: added new VRBRAIN boards and new subtypes
de8a0ebc08 AP_Airspeed: added #defines for new VR boards.
cd9537e1f8 build: added and modified scripts to build for all VR boards
7795cb6929 Tools: update scripts to build all firmwares for all VR boards
edd0f13845 AP_HAL: mapped the different sizes of storage for all VR boards
6a93148b92 AP_InertialSensor: added library for VRBRAIN Inertial Sensor
2522709a78 Tools: added script to build all VirtualRobotix binaries
af309a26d9 mk: added new VRBrain 5 PRO board
b14ca1b977 build: Added flag to build VRBRAIN versions with different kind of RC Inputs
b29f50ba9b AP_Airspeed: Defined AirSpeed analog inputs for ArduPlane on VR Micro Brain 5
7dc5541484 AP_HAL_VRBRAIN: Added analog inputs for ArduPlane on VR Micro Brain 5
3918413b36 PX4: simplify ms5611 startup
a2adb9b1b0 AP_Arming: check for AHRS health and calibration for arming
6e62e1ca7b AP_InertialSensor: make calibrated() const
68f64fa11c AP_AHRS: make the healthy() method const
850af14949 AP_NavEKF: raise EKF_POS_GATE and EKF_GLITCH_RAD for planes
2684d55b59 Tracker: version to 0.4 and release notes
3aac281c5a Copter: land detector requires desired climb rate be < -20cm/s
8911dfd791 DataFlash: fix out-of-bounds read when logging
0d94d5441f SerialManager: correct protocol comments
b5b67cf68a SerialManager: Fix SERIALX_PROTOCOL comments
3e872c71fc Copter: AC3.2.1-rc2 release notes
07a0388f25 AC_PosControl: move alt limit to set_alt_target_from_climb_rate
8e8ec09740 Copter: update pos_control alt_max from fence at 1hz
02f3f96310 AC_PosControl: Enable altitude limit checking.
79cad28a25 AP_Mount: simplify some uses of frontend
c05f36d29b AP_SerialManager: make the state structure private
1d272e5a32 AP_Frsky_Telem: don't use flow control for FrSky
362b53e1da AP_GPS: force flow control off on GPS serial ports
5980ff8e1c AP_Common: removed map_baudrate()
d6ab4722cd AP_SerialManager: moved map_baudrate() into class
085a926e61 AP_Frsky_telem: update for find_serial() change
9ba2fefde3 AP_GPS: update for find_serial() change
60f266da19 AP_Mount: update for new find_serial() interface
59d5351dab GCS_MAVLink: update for new find_serial()
e28deacc4c AP_SerialManager: simplify interface, returning direct uart
18af7c1437 Replay: fix compile error for Serial Manager
b12cf4644c Tracker: initialise telem2
4de0710f88 AutoTest: copter params need accel2 offsets
c7fb252fbb Tracker: integrate SerialManager
9f7f1e62df Rover: integrate SerialManager
e0cfe091fb Copter: setup uart after checking usb_connected
0a195671b3 SerialManager: set_console_baud uses first matching protocol
ff2a31e3ae Plane: compile error fix when mount disabled
3a1465c9d1 Plane: integrate SerialManager
5f432eaa2d AP_Mount_Alexmos : take into account available negative numbers
8ea65c2dc2 Copter: APM_Config define to disable FRSKY telem
f91fb9a4e8 Copter: rename frsky_telemetry_send function
34503de18e Copter: integrate SerialManager
4a4387530a Mount: remove unused num_instances
d6433266d2 Mount_MAVLink: use SerialManager for init
4848b03ac6 Mount_AlexMos: use SerialManager for init
56f872b38c Mount_Servo: use SerialManager for init
886cc9aa46 Mount: use SerialManager for init
19aa8939de FrSky_Telem: init uart when protocol is S-Port
5c086acc15 FrSky_Telem: comments, formatting and reordering
6ef996d553 FrSky_Telem: init all members to zero and move to cpp
d16f787bd0 Frsky_Telem: use SerialManager for init
ebf5f98dbd GPS: detect_instance does not set uart rx, tx size
2eddecb10d GPS: use SerialManager for init
0c3a8f585a GCS_MAVLink: add get_uart accessor
1275ff7d40 GCS_MAVLink: have_flow_control uses mavlink_comm
1157c13eb6 GCS_MAVLink: mavlink_comm_x become UARTDrivers
febda988af GCS_MAVLink: mavlink_channel from SerialManager
c6326fc9b7 GCS_MAVLink: use SerialManager for setup_uart
0fe4436c72 SerialManager: do not init uart for FrSky S-Port
cc71db1e2f SerialManager: lib to configure UART protocol
ee369f8a0d Mount_AlexMos: use reference to state
b083c99966 Mount_MAVLink: use reference to state
32ea258594 Mount_Servo: use reference to state
acbcf3c54e Mount: backends use reference to their state
bf82e82282 Mount_MAVLink: remove unused _enable and find_mount
b5127b680f Mount: set primary to first instance
24af65a41a AP_Mount_Alexmos: critical fix to avoid endless loop if byte arrive to fast in serial buffer
46e92f99fe AP_Mount_Alexmos: use struct for CMD_CONTROL command
81d60af4a8 AP_Mount_Alexmos : cleanup initialization of  class fields
c5ef5d21d3 Mount: add Alexmos to MNT2_TYPE param description
93323e2136 Mount_Alexmos: comments and formatting
1e5ddf3ce7 AP_Mount_Alexmos : make sure get_angles is called to get the real angles from the gimbal
0b88f15a37 AP_Mount: fix Backend enum for AP_Mount_Alexmos and add comments
cdeb1fb8f3 AP_Mount_Alexmos : changes some define to avoid conflicting
6e5e438b0f AP_Mount: Make use of the new AP_Mount_Alexmos backend
dfc086f9e9 AP_Mount_Alexmos : Add Alexmos Serial support for 8bit cards
66ad56161b Mount_MAVLink: fix to calc_angle_to_location params
f509dad991 Mount_Servo: bug fix to calc_angle_to_location params
a78309734d Mount_MAVLink: remove set_roi_target, configure
99c35d5cf7 Mount_Servo: remove set_roi_target, configure
72fec52f0f Mount_Backend: move set_roi_target, configure to backend
efeb05876e AP_Mount: initialise mode to default
ace1fd8740 Mount_MAVLink: handle RC and GPS targeting in lib
9d4210b82a Mount_Backend: move RC target handling to backend
b3044ced1f Mount_Backend: move calc_angle_to_lcoation to backend
8fabacf5ff Mount_MAVLink: use sysid from vehicle, compid of 10
6af5a6687f Mount: add params for second mount
06fcb87755 Rover: move MNT param's underscore to mount lib
37d1079d25 Plane: move MNT param's underscore to mount lib
7ffcf62e2e Copter: move MNT param's underscore to mount lib
5d30af233a Mount: move param underscore to lib
1ab405bf88 Rover: integrate mount frontend-backend restructure
c51ba8cd03 Copter: integrate mount frontend-backend restructure
681d28838f Plane: integrate mount frontend-backend restructure
31b2534c1d Copter: rename mount.set_roi_cmd to set_roi_target
2ed4ca409c Mount_Servo: check_servo_map every 3sec
cb5a122dab Mount_Servo: add set_mode
a41ff2375b Mount_Backend: add set_mode virtual method
ef719b145b Mount: rename MODE to DFLT_MODE, move set_mode to backend
6c766051e8 Mount_MAVLink: minimalist mavlink backend
8a9df1c894 Mount_Servo: Servo functions moved to backend
7df2892b8d Mount_Backend: add backend class
88db50c3a7 Mount: parent class becomes front-end
ee30cb9537 Autotest: Add APM Planner logo
bd490e21d0 autotest: Added APM Planner 2.0 to Index page
12bd5cd6b1 AP_HAL_PX4: fix example sketch
aa7f946e04 GCS_MAVLink: fix example sketch
857c3ef0e9 Scheduler: fix example sketch
d5f02ec0df RangeFinder: fix example sketch
6e482d5c56 PerfMon: fix example sketch
52ca06fc22 Parachute: fix example sketch
f48a71f30a OptFlow: fix example sketch
775cbfba38 Notify: fix example sketch
314eb2536f Mount: fix example sketch
38702a7e23 Motors: fix example sketch
355a92aff4 Mission: fix example sketch
689cc9e298 AP_Math: fix example sketch
b43dc3bdfb INS: fix example sketch
7c293f01d9 HAL_AVR: fix example sketch
f84d31b838 HAL: fix example sketch
1141363868 GPS: fix example sketches
635ff92d6b Compass: fix example sketch
1475cf27ac AP_Common: fix example sketch
bb4204c045 Baro: fix example sketch
293eb74a37 AirSpeed: fix example sketch
d8664d15d6 AHRS: fix example sketch
d0d1254f03 AC_WPNav: fix example sketch
a5ec3e3ec1 AC_Sprayer: fix example sketch
99046ebda6 AC_Fence: fix example sketch
d7f7af8c13 AC_AttControl: fix example sketch
51cb7185f2 InertialNav: fix example sketch
0480828350 Dataflash: fix example sketch
eced90f3a7 Tracker: version number and release notes for 0.3
18f8ffab6f Copter: remove land detector bar climb rate definition
9d585700f8 Copter: remove baro climb rate check from land detector
5b5ab01c07 SITL: Don't prompt for vagrant package installs (minor)
5d8cec23db Plane: update version to 3.2.1beta1
3123504b38 Plane: start release notes for 3.2.1
b4265cf467 autotest: fixes to quad view for new fg versions
3d433d2106 AP_Mission: loop check is only needed in one place
540cadc086 AP_Mission: prevent infinite loop with linked jump commands
ff4151ef47 SITL: Update install instructions based on Robert's finding
4eb2cc0173 SITL: Build JSBsim so that plane sim works in Vagrant
ad9c3d730c SITL: Numerous improvements to vagrant image and easier SITL for mac/windows
4ee9575e6d AP_Frsky_Telem: fixed code formatting
f59f85d4a4 AP_Frsky_Telem: add SBUS support
ee00302b62 Plane: Frsky telemtry change move parameter to init of the class
a2d71d2811 Copter: Frsky telemtry change move parameter to init of the class
ff064e12b1 Rover: Frsky telemtry change move parameter to init of the class
5df733a883 AP_NavEKF: Allow flight transition to optical flow mode if GPS is lost
04810c012d AP_NavEKF: Increase flow data valid timeout to handle arming delays
073b8e7c43 AP_NavEKF: Always explicitly set required const pos or vel mode when arming
9c6dabe1cc AP_NavEKF: Add separate flow default parameters for platform types
d2da16e652 AP_NavEKF: Consistently set timeout flags whenever aiding is inhibited
824425625c AP_NavEKF: Update public method used to inhibit GPS use
1033f5fc1e AP_NavEKF: Apply flow nav vehicle limits regardless of sensor health
14b51f6d74 AP_NavEKF: Unconditionally fuse velocity in constant velocity mode
6663d80176 AP_NavEKF: Simplify nested logic - functionally equivalent
12c3368c4d AP_NavEKF: Bypass GPS glitch logic when not aiding
5c8e71a8d1 AP_NavEKF: Don't reset the position measurement timeout if not aiding
c505a458de AP_NavEKF: Always declare a position measurement timeout if aiding not used
3b166372cc AP_NavEKF: Always declare a velocity measurement timeout if velocity not used
95c3197170 AP_NavEKF: Ensure velocity will not be reset unless needed for aiding
8aeec82846 AP_NavEKF: Continually turn off aiding whilst the vehicle is disarmed
81ee339e25 AP_NavEKF: Synchronise non-aiding mode state corrections
ae6b85e63d AP_NavEKF: Explicitly set aiding to off when disarmed
fb1962b111 AP_NavEKF: Let reported position whilst disarmed show inertial errors
d26121036f AutoTest: param file to enable SIM OptFlow
1819bd48f4 Copter: remove home_is_set checks from Loiter, PosHold, RTL
01c669ee15 RangeFinder: minor param description update
d49489ca7e Copter: optflow_position_ok requires using EKF
01f1ce4cb3 Copter: position_ok false when EKF in const pos mode
74ac79ba10 Copter: Drift uses throttle_zero flag
02d0b05926 Copter: minor format fix
4185d17915 Copter: fix to RTL, PosHold and Loiter's use of filter status
cc52bbbffb Copter: update current loc once home is set
f1a6b06586 Copter: remove redundant filter status checks
3641d3d508 Copter: send inav velocities in global position message
e464909ddf Copter: position_ok true when EKF predicts it will be ok
58ac9de94b Copter: update home position when disarmed
fd0b82f669 Copter: add optflow_position_ok and use for loiter
199dc3454d Copter: replace GPS_ok with position_ok
a4f71e5946 Copter: replace inav's position_ok with get_filter_status
c24e997fb2 AC_Fence: use inertial nav's get_filter_status
f35efc56e0 InertialNav_EKF: get_filter_status replaces position_ok
5d80481723 InertialNav: get_filter_status replaces position_ok
7f5243026d Plane: Cleanup code to remove 1280 ifdefs
61be4ce2d2 HAL_Linux: fixed #if for linux builds
2b74d018fe HAL_Linux: Adjust set_system_clock
974f243c7e HAL_Linux: Add set_system_clock
d679831c75 GCS_MAVLink: run generate.sh
0997ab23a4 GCS_MAVLink: merge upstream changes to common.xml
5b4443a137 Rover: Improved message when AUTO selected but no commands loaded.
236efad159 AP_HAL_AVR: Increased number of AVR input channels from 8 to 11
d11c5286c3 AP_HAL: HAL_COMPASS_AK8963 used but not defined anywhere
9a65a8c8fb AP_Compass: add AK8963 to auto-detect in test suite
e9d4165a8d AP_Compass: add AK8963 support to test suite
7ceb93befa AP_HAL: make the examples usable with Linux
b4ce3e0ba5 autotest: lock in the altitude before the FBWB test
5512a6f8a0 SITL: lower the default noise in SITL
d239d8314a Replay: fixed replay for re-organised dataflash messages
842efe71be DataFlash: move COMPASS2,3 formats to extra structures
4aba4b13ac AutoTest: enable BATT_MONITOR for Copter AVC
13fa029399 AutoTest: enable BATT_MONITOR for Plane
e94693e8ac Copter: remove unused throttle integrator
e7471c5fe5 DataFlash: fix message id and CURR formatting
09e3dcd821 DataFlash: pass ahrs, batt, targets by reference
f23959b5fa DataFlash: fix missing slash lost in merge
f796518695 Rover: Change Compass logging to new DataFlash method that handles instances.
395c868727 Plane: Change Compass logging to new DataFlash method that handles instances.
b8822a42b6 Copter: Change Compass logging to new DataFlash method that handles instances.
80929c389e DataFlash: Handle multiple compass instances natively inside the Library.
b3aab67239 Rover: Change Compass logging to use DataFlash library method.
89fd543f4d Rover: Change Mode logging to use DataFlash library method.
7254de4e23 Rover: Change Attitude logging to use DataFlash library method.
8da62107fa Rover: Change Current logging to use DataFlash library method.
7efb4eef65 Plane: Change Compass logging to use DataFlash library method.
a2d73b42b9 Plane: Change Mode logging to use DataFlash library method.
ac513a84db Plane: Change Attitude logging to use DataFlash library method.
233083c8e9 Plane: Change current logging to use DataFlash library method.
747232b197 Plane: Deprecate some Log Message enumerations which are moving to the DataFlash library.
5b70550b73 DataFlash: Fix potentially uninitialized variable compiler warning.
be803f4f39 DataFlash: Minor whitespace changes/cleanup.  No effect.
37304fd5ed Copter: Minor formatting changes in Log.pde
4b86a4aeec Arducopter: Change mode logging to use common-vehicle DataFlash library.
2657610373 DataFlash: Add common-vehicle Mode logging method.
422970a1b1 Arducopter: Change compass logging to use common-vehicle DataFlash library.
12c3593bc3 DataFlash: Add common-vehicle Compass logging method.
2fdcd99db2 Arducopter: Move Attitude Message structure definition to the Base Structures section.
d2adf2cdd7 DataFlash.h: Move format characters string to a more convenient location.
392e5257cc DataFlash: Add voltage2 data to Current log, to be used by plane.
1b152cf2bf ArduCopter: Change Current logging to use common-vehicle logging in DataFlash library.
50b5376945 DataFlash: Add common-vehicle Current logging message.
c9d5b6aa7f Arducopter: Change Attitude logging to use common-vehicle logging in DataFlash library.
db1a066f43 DataFlash: Add common-vehicle Attitude logging message.
743c5e4fde AC_AttitudeControl: Remove un-needed #include
674a7aa8d4 Plane: use set_skip_gyro_cal() in arming library
8b59c72eb9 AP_InertialSensor: cope with 2 IMUs in SITL
a37f3680e4 AP_Arming: support skip_gyro_cal
0065b3b224 Copter: tighten accel and gyro pre-arm consistency check
765d833efa AP_Arming: check compass.use_for_yaw()
059c3769f3 Plane: cope with the changed semantics if airspeed.use()
e8017a5079 AP_NavEKF: cope with the changed semantics of airspeed.use()
ed0a56cc3c AP_AHRS: cope with the changed semantics of airspeed.use()
850b3b89ea AP_Arming: added INS checks and airspeed checks
2235d18d67 AP_Airspeed: make it possible to tell if a airspeed sensor is unhealthy
b3ce56d34d AP_InertialSensor: fixed 2nd IMU in Replay
ad8480d5f7 Replay: keep airspeed msgs in log
5a01933b7b Plane: use dataflash Log_Write_Airspeed()
5d83124675 DataFlash: moved airspeed msg to DataFlash
62e7778ba8 AP_GPS: fixed build warning
731678b0a1 Travis: test building without logging for plane
b0b57cccce build: add -nologging build modifier
0ea7a7a0cc Plane: Corrected LOGGING_ENABLED
8b08402c60 mk: Added a "help" target to the make system.
4059e02a8c Copter: move ch6 tuning to tuning.pde
fe74a11b4e Copter: Drift mode gain changes and roll control through ch4
aeecc46f7b AC_PosControl: remove unnecessary set of desired_accel
9ebd0e9960 AC_PosControl: reincarnate dead block of code
d6c48e422a Copter: restore baro climb rate check to land_detector
1c25c00f5b Copter: move land_detector to separate file
36410a5131 Copter: clean up land detector and modify to use desired velocity
a580cd83e8 AC_PosControl: Fill _vel_desired.z for reporting
2a7f78a2cd AutoTest: reduce copter throttle when in stabilize
c40c3632bb AP_NavEKF: Critical Bug Fix
e51f837360 Travis: don't depend on directory name being "ardupilot"
189dd158d7 Linux_HAL_Essentials: add channel mapping comments for RCInput and RCOutput
62a05a0438 AP_Notify: fix if statement
fa950a735e AP_InertialSensor: add support for BBBMINI, simple ArduPilot DIY Cape for the BeagleBone Black
001758071f mk: add support for BBBMINI, simple ArduPilot DIY Cape for the BeagleBone Black
c58a022111 AP_HAL_Linux: add support for BBBMINI, simple ArduPilot DIY Cape for the BeagleBone Black
70445d11f6 AP_HAL: add support for BBBMINI, simple ArduPilot DIY Cape for the BeagleBone Black
c93e7a69a7 Baro: init external_temperature in constructor
b03a9e2911 AP_Notify: ToneAlarm_Linux.h includes itself
0c44b5f4fe Copter: fix typo in AC3.2.1 Release Notes
b8bfa755a9 Plane: raise alpha version
b1d8df3d54 AP_Baro: only allow calibrated sensors to be used
e8b1fc72e0 DataFlash: fixed build warning
3320dfd7fa AP_Baro: fixed ms5611 spelling error
0a8677b3e2 AP_Baro: fixed build after rebase with all_healthy()
557f4df77e Copter: use barometer.all_healthy() for health check in SYS_STATUS and arming
ca431a47a6 Plane: use all_healthy() for SYS_STATUS health
1c2a6deaaf AP_Baro: added all_healthy() method
8359c082ca AP_Baro: fixed baro on NavIO
b85001bf4a DataFlash: added logging of 2nd baro
231b44fc83 Replay: fixed baro.setHIL call
5133799e23 PX4: start two barometers if possible
b1342c2d39 GCS_MAVLink: send SCALED_PRESSURE2 if available
19c717df2e AP_OpticalFlow: updates for new AP_Baro API
8aa1a89081 AP_Mission: updates for new AP_Baro API
cd7fbddcce AP_InertialNav: updates for new AP_Baro API
197c09fcd8 AP_Baro: added num_instances() API
d2c827aa4b AP_AHRS: updates for new AP_Baro API
25f69f05eb AC_WPNav: updates for new AP_Baro API
5ec8ce933e AC_Sprayer: updates for new AP_Baro API
55ec316718 AC_Fence: updates for new AP_Baro API
5c4440a9ac AC_AttitudeControl: updates for new AP_Baro API
b0030126a8 VARTest: updates for new AP_Baro API
488714ccba Replay: updates for new AP_Baro API
c151f24672 Copter: updates for new AP_Baro API
f8962d2439 AntennaTracker: updates for new AP_Baro API
e575bc264e Rover: updates for new AP_Baro API
bb6deb4817 GCS_MAVLink: re-generated headers
56f682f186 GCS_MAVLink: added SCALED_PRESSURE2 message
035b1302ed Plane: updates for new AP_Baro API
8a3d3bed72 SITL: changes for new AP_Baro API
f1891cea1f AP_Baro: BMP085 driver done, but untested
5bb57a31f7 AP_Baro: split into frontend/backend
15c5e153c8 PX4: re-enable some warnings as errors
17eee56b89 AntennaTracker: fixed build warnings
f400f39f08 Rover: fixed build warnings
8a77fef6f8 Rover: added support for 2nd battery
4cb464db83 Plane: reduce the frame size of setup_failsafe_mixing()
5b46dec9a0 PX4: avoid build errors from new upstream -Werror directives
464714f1ab HAL_PX4: fixed build warning
d34e5b3f42 AP_GPS: fixed PX4 GPS driver for new upstream format
406f11423e Replay: enable array bounds checking in Replay
ef5cdb0d6c AP_NavEKF: use more array bounds checked variables
fefdc37a4d AP_Math: fixed warnings on bounds checking in quaternion
3d46680348 AP_NavEKF: Make NED origin independent of home position
f0ea858e4c AP_NavEKF: Make LLH output report last known position in const pos mode
a0957a83f8 AP_NavEKF: Fix bug in reported position and velocity
7d1cd604a8 AP_NavEKF: Report last known position when GPS is lost
1789dc08a3 AP_NavEKF: Correctly report position timeout when GPS is lost
3e583e3650 DataFlash: fix EKF4 logging
e6e6a781c1 AP_NavEKF: init filter status bits to zero
ffd9f7a4ed AP_NavEKF: Predict filter solution status
3896dadc77 DataFlash: EKF logs filter status as uint16
657afcfe7a AP_NavEKF: add pred_horiz_pos flags to filter status
54cff29fc2 DataFlash: EKF logging uses nav_filter_status
f4d8bc586c Nav_EKF: getFilterStatus returns nav_filter_status struct
8a914af4a8 AP_NavEKF: add nav_filter_status definition
d57e0b6bde AP_NavEKF: Remove compiler warning messages
a4ba4d1000 AP_NavEKF: Fix bug in optical flow innovation variances
8bc8d1444a AP_NavEKF: Extend definition of GPS availability to include user inhibit
d0d49065e7 AP_NavEKF: Prevent potential repeated use of optical flow data
b0c703e4f7 AP_NavEKF: Fix bug in optical flow fusion control logic
d656c94bbc AP_NavEKF: Fix out of bounds index bug
300ba65f64 AP_NavEKF: Remove duplicate flow measurement state correction
92bb75a635 AP_NavEKF: Prevent load leveling from dropping flow measurements
873860e810 DataFlash: Allow negative HAGL values in the EKF optical flow debug log
2f5aa210ce AP_NavEKF: Enable recovery from extended flow measurement rejection
d470d55234 DataFlash: Update EKF optical flow debug logging
9f4baaa865 AP_NavEKF: Update flow debug logging
8d1dae3ac1 AP_NavEKF: Improve optical flow terrain height estimation
d599fa588e AP_NavEKF: Don't allow EKF to initialise without GPS lock if we are a plane
781f2b7ddc Copter: update AC3.2.1-rc1 Release Notes
c16eb5d330 AP_Compass: fixed corrections for AK8963
4394f0cf75 AP_Compass: fixed external compass detection for AK8963
f0753e965e AP_Compass: eliminated possible division by zero in AK8963
b804430276 AP_Compass: changed default orientation for AK8963 on Navio
954b0795d4 HAL_Linux: Enable PCA9685 output after its setup
ce9b87c101 Copter: AC3.2.1-rc1 Release Notes
e122c0961e Plane: Arming updated to use RC channel objects not RC channels directly
80f59694d0 Copter: remove deprecated Guided-Spline
2a5a133bbf AC_AttControl: remove deprecated trigger_xy method
be5bf91e92 Copter: add ekf velocity scaler to posvel controller
474456e349 Copter: use guided_posvel for set_position_target messages
bc29008233 Copter: add guided_posvel
06d1a4c59f Copter: use LandingGear command mode enum
d26fa6d827 Copter: minor format fix
ed7e176c61 LandingGear: command_mode becomes enum
5f3c2bcd11 Copter: rename landing_gear.pde
62b5f32643 Copter: Use landinggear.force_deploy method when auto-landing
20fce5c9ff Copter: Move landing gear code into new file
c297aaeeab AP_LandingGear: Add force_deploy method.
fd61c3179a Copter: Remove relay pointer from LandingGear object
4177852d89 AP_LandingGear: Remove relay control from library.
4935a42054 RC_Channel_Aux: Add new landing gear control to Aux_servo_function_t enum.
e10e020062 Copter: Add Landing Gear functionality to main code
9b0a33c453 AP_LandingGear: Create LandingGear Library.
1b3c3c754d AP_InertialSensor: use correct ifdef for AK8963
9835544163 AP_Compass: fixed build on non-Linux platforms
2ddf3e728a DataFlash: use common RingBuffer.h
9d3a9c20a8 HAL_VRBrain: use common RingBuffer.h
0c73dc2440 HAL_PX4: use common RingBuffer.h
4da0a24887 HAL_Linux: use common RingBuffer.h
6fb00f4fc3 AP_HAL: create a common utility/RingBuffer.h header
43c88c37eb AP_Baro: fixed MS5611 initialisation in order to get rid off conflicts with other I2C devices
f7f9cd2173 AP_InertialSensor: prevented MPU9250 from disabling I2C slaves
a08a34f863 AP_HAL: changed default compass for Navio
67dc638840 Antenna: added AK8963 support
84a15304a1 Copter: added AK8963 support
dc410a4b42 Plane: added AK8963 support
9f54c4920e Rover: added AK8963 support
0d1cf347c7 AP_Compass: added AK8963 support
e4a21f291d AP_HAL_Linux: added LinuxSPIUARTDriver that can handle SPI-driven Ublox
2b589d4604 AP_HAL_Linux: enable output for PCA9685 PWM in NavioRCOuput
c9b7d27b98 Travis: use px4-cleandep to make script more robust
f54a13f24b Copter: report NAV_CONTROLLER_OUTPUT in RTL, Guided
f41d7ddaee Rally: reduce distance limit to 300m for copter
d7ba808400 ArduCopter: Bug fix, int8t should be uint16t.
e9058df31f SITL: added optional flow delay
228b04e21e SITL: added SIM_FLOW_DELAY parameter
0076413c0a SITL: produce flow data at the requested rate
5758f39127 SITL: added SIM_FLOW_RATE parameter
205b312789 Copter: GCS Failsafe comments and format changes
5f19a43104 Copter: GCS Failsafe to trigger if using Guided mode
82a08036f6 autotest: use small INS offsets so INS is recognised as being calibrated
a658dc4f60 VARTest: fixed build
b3316865fa CPUInfo: fixed build
c268d7252f Copter: fixed flymaple build
b499cd1b59 AP_AHRS: fixed examples build
cb5552f0e3 Copter: fixed build with optflow disabled
2f0b1b3d9c AP_NavEKF: Fix bug preventing use of optical flow without GPS
f13248e5f5 SITL: implement SIM_TERRAIN
9b65376961 SITL: added SIM_TERRAIN parameter
ab62105afe Copter: use common send_opticalflow()
a2242305c7 Plane: use common send_opticalflow()
d25bd8955d GCS_MAVLINK: move send_opticalflow() into common library
28f58df310 Plane: send HAGL in OPTICAL_FLOW
66a03d100e SITL: make some units clearer in comment
16affe51be AP_NavEKF: avoid an extra quaternion copy
023c42593f SITL: fixed units of body frame conversion for optical flow
bf4ebcfda1 AP_HAL_AVR_SITL: Add maths for calculation of truth optical flow rates
0d8faab48f Replay: fixed build with AHRS change
86c5d2932a AntennaTracker: fixed build with AHRS change
788bb8ab9f Copter: make optflow available to AHRS
8f571f1225 Plane: make optflow available to AHRS
70c2aeca42 AP_AHRS: make optflow available via AHRS
51cd64b3b2 SITL: make velocity and rotmat available to the optical flow simulator
aff01c6d09 AP_OpticalFlow: fixed reversed timestamp
d2634a26bd SITL: added framework for SITL optical flow sensor
254aa32d4e SITL: added SIM_FLOW_ENABLE option
5193b2b7cf Rover: added OpticalFlow object
8708297341 Plane: update for new OptFlow API
c784ee717b Copter: update for new OptFlow API
11ff12dfd3 AP_OpticalFlow: split library into frontend/backend
a9eec29e45 DataFlash: Update EKF optical flow data logging
69e86d3ea4 AP_NavEKF: Update EKF optical flow data logging
b651eac48d AP_NavEKF: Apply timeout to terrain offset validity reporting
e6474d676e AP_NavEKF: Report correct horiz vel sol'n status during optical flow nav
584fa9b4bf Replay: fixed format string for EKF4
75201c8968 AP_NavEKF: Prevent divide by zero casued by Tnb_flow.c.z = 0
1e3c23e5a3 Plane: on takeoff set prev_WP_loc to current_loc
6bb4a8c361 AP_Math: make location_path_proportion() and location_passed_point() more efficient
6993be54b7 HAL_Linux: raise storage size to 16k
80d1bd230e Plane: report bad AHRS health if uncalibrated accels with EKF
745b739ab7 AP_InertialSensor: make calibrated() function fast enough to call in flight
5ba1b20d3b BattMon: add SMBus to MONITOR param description
ffbc3862bd Compass: update compass orient param description
9e5a30d5ba AP_Math: change ROTATION_YAW_293_PITCH_68_ROLL_180 to ROLL_90
ef55a3c6a6 AP_GPS: keep reporting GPS status messages when no GPS at 1Hz
8d3940ce1b AP_NavEKF: Improved use of enumerated type for aiding mode
76d1378962 AP_NavEKF: Fix compiler warning messages
3e3dd9d695 AP_NavEKF: Fix parenthesis error in EKF status reporting and clean up logic
c06f6e105e AP_NavEKF: Consistent initialisation of tuning parameters and variables
f1dfa282dc AP_NavEKF: Consolidate constant velocity mode decision logic
9caf2ac895 AP_NavEKF: Make reversion to no GPS mode unambiguous
58e9dd5dcd AP_NavEKF: Enumerate Position and Velocity aiding status
fb5e53e1e4 AP_Param: cope with older gcc versions
9ae0dd05f8 AP_Param: avoid build warning due to %S format
ae96a48efc Plane: use location_path_proportion()
f38f86ab8c AP_Math: added location_path_proportion()
4e5510c99e AP_TECS: fixed warning
f8bce994b5 AP_OpticalFlow: don't write an error message if no flow sensor
9cafe0fdc3 travis: added gitter notifcations
1359e6d321 travis: we need a "make configure" at the start
9b5a2ea1d0 Replay: fixed build
494789054e travis: enable wide range of builds in Travis-CI
06a72839ed AP_InertialSensor: fixed error detection on secondary IMUs
765fa0e223 AutoTest: higher copter throttle when in stabilize
022c549339 BattMon_SMBus_I2C: use get_PEC to check reads
bf0e5a350c BattMon_SMBus_I2C: add get_PEC method
3951e4d99b BattMon: example sketch reads from SMBus
aecc8aac1f BattMon: correct typo in monitor type enum
4521d8169b Rover: BATT param's underscore moved to library
6bec527aa3 Plane: BATT param's underscore moved to library
7d18744094 Plane: use battery.voltage2 method for logging
5cdb8a4c2a Plane: use battery.has_current
fe8730497a Rover: use battery.has_current
b4b062e9ef PX4: start batt_smbus
70dcc724ac PX4: add batt_smbus module to build
909d525206 BattMon: fix example sketch compile error
f1f71ef605 Copter: cli uses has_current method
3ccc61c163 Copter: use battery.has_current method
cf36fd55bd GCS_MAVlink: correct sending of 2nd battery's voltage
d6b4bfd97f Copter: move underscore in BATT_ parameters
76a28a962c BattMon: remove #defines for monitor type
f077ecd338 BattMon_PX4: class to read from PX4Firmware via orb
3f35dc54fe BattMon_I2C: smart battery class for APM
314db1403d BattMon_SMBus: smart battery monitor driver
4d7df9ed26 BattMon_Analog: move analog features to new class
39dbf05c8f BattMon_Backend: create backend class
eec66d8451 BattMon: parent class becomes frontend class
9be53502df Plane: remove logging dependecy on optflow
d46ceac1f8 Git: ignore autotest.lck and index.html
c36253b9b2 AC_PosControl: add comments
6eab698e85 AC_WPNav: remove various timing hacks
557d339cf1 AC_PosControl: remove various unnecessary timing hacks
5438d38df5 AC_WPNav: provide reset_I to init_xy_controller
d6e455417f AC_PosControl: change keep_xy_I_terms to a parameter of init_xy_controller
8960766900 Rover: remove logging dependency on optflow
2e7435df52 Copter: remove unused OF_LOITER pid defines
3e34e7ed7e Copter: remove logging dependency on optflow
b016bae445 AP_NavEKF: Clean up reset of constant velocity mode
3d207c316a AP_NavEKF: Change names for position and velocity hold modes
b650ee51a9 AP_NavEKF: Consolidate arming checks
48cae0df15 AP_NavEKF: Fall back to attitude and hgt estimation for copter if GPS lost
b21f9daa90 AP_NavEKF: Update solution status reporting
ee75f26edb Rover: Don't log EKF optical flow data if not required
695f12bec0 Copter: Don't log EKF optical flow data if not required
195cdb6fd6 Plane: Don't log EKF optical flow data if not required
9c8406998b Replay: Don't log EKF optical flow data if not required
b99b3c7b9d DataFlash: Don't log EKF optical flow data if not required
b6d300db19 AP_NavEKF: clean up determination of GPS availability
40b02fc19a AP_NavEKF: Ensure filter doesn't try to use GPS after initialisation
bab1a69f1c AP_NavEKF: make position and velocity resets consistent with GPS usage
0dc2356175 AP_NavEKF: Ensure initialisation methods read required sensor data
5d1de79f08 AP_NavEKF: Modify initial values to make startup behaviour more consistent
a63af34d8f AP_NavEKF: Allow 10 seconds for the filter to settle after initialisation
0a5de21dc7 AP_NavEKF: Fix bug in reporting of solution status
92c3026072 AP_NavEKF: Link process noise to arm status, not pos hold mode
a535b73a6d AP_NavEKF: Initialise timeout status to true
363c1e393d AP_NavEKF: Latch use of position hold mode for duration of flight
a0a6c0362f AP_NavEKF: Relax timeout check applied to optical flow data
5bd4ee9715 AP_NavEKF: Use compensation for baro delay  in position hold mode
4dc1ee2d66 AP_NavEKF: Rename static mode to avoid confusion with other non-GPS modes
b160f4c03b AP_NavEKF: Compensate optical flow fusion for GPS glitch recovery offset
e4c969084d AP_NavEKF: Improve behaviour recovering from a GPS timeout
6eb533121c AP_NavEKF: Add static mode to solution status message
5c3a56a087 AP_NavEKF: Fix error in comments
3891dada78 AP_NavEKF: remove unnecessary function
a16253796f AP_NavEKF: Fix bug preventing the non-GPS mode being selected externally
a42100e4c5 AP_NavEKF: Improved handling of no GPS
73a06cd0c1 AP_NavEKF: Fix bug causing magnetic field state learning to be forgotten
bf89c56e54 AP_NavEKF: Fix comments error in description of flow sensor sign conventions
685fa383e4 DataFlash: Log EKF solution status message
4eb19c2324 AP_NavEKF: Rationalise health status reporting
78b30e4ce5 AP_NavEKF: Increase rate at which GPS glitch offsets are reduced for planes
82a83200b1 AutoTest: minor fix to AVC copter params
4ea48f8f64 AutoTest: increase throttle for fly_square test
e0943851d6 DataFlash: log gyro and accel error counts
b9adc6e466 AP_InertialSensor: prefer sensors that have zero error counts
8d393c89d0 autotest: fixed bash syntax
f2b0fc3566 Copter: disarm on landing regardless of pilot input
4a1ba9b186 AC_WPNav: minor const fix
72127cde35 Copter: remove broken support for do-change-alt
2bc1b7e4d6 Copter: skip pre-arm checks when already armed
4ace5bcccb CHDK script changes
990a34cb75 Copter: remove support for do-set-home mission command
c7192c5eef Notify: remove Led class
352b52d73f Notify: remove reliance on Led class
860e4b1ce2 Tracker: pre_arm_gps_check flag always true
4db219e70a Rover: pre_arm_gps_check flag always true
11def53ca7 Plane: pre_arm_gps_check flag always true
2ea9b8a5a8 Copter: set pre_arm_gps_check flag
d67b4a8d49 Notify: add pre_arm_gps_check flag
e757d75f54 Added Gitter badge
c93ae67541 DataFlash: don't try and open logfile on failure more than once
abd1ece6e3 DataFlash: don't write out parameters if log open fails
f2c506339a AP_NavEKF: Reduce time required to recover from GPS timeouts
f73816dbb5 AP_NavEKF: Improve robustness to long periods without GPS
a44b4b5e87 Mission: allow 15 do-jump commands on Pixhawk
05fedbf98f Copter: minor formatting fixes
91bff63267 Copter: Fix LAND overshoot issue
3afde0061f AP_NavEKF: Use named states for velocity reset
f6ce25df2a AP_NavEKF: Do not reset vertical velocity state from GPS
597273cfff AP_TECS: remove lag from height demand in landing
eb13395967 Plane: cleanup mavlink_system setup
87df3c3442 Rover: cleanup mavlink_system setup
b5a5b71512 GCS_MAVLink: reverse sense of check_and_forward()
a967a682a4 GCS_MAVLink: added routing test sketch
7f817502c4 GCS_MAVLINK: implement new routing rules
b6bcf841e1 Copter: remove second camera mount
976ae14f1f Plane: improve landing aim point calculation
70f5ec60e8 AP_TECS: added get_land_sinkrate()
8c1cab84c7 AP_SpdHgtControl: added get_land_sinkrate()
cafb38e923 Copter: allow radio failsafe while disarmed so that user can be notified
21beb26484 Notify: minor event reordering
79e40b4f6a Copter: do not send mode_change event before init complete
e68a69e139 ToneAlarm_PX4: remove user_mode_init flag
562f3e7382 Copter: set notify event when failsafe changes flight mode
1c8ab375e2 Notify: rename failsafe_action event
6a15d21704 Copter: minor format change
972c8e47d2 Notify: rename notify_types to notify_flags_type
bfc86ac7c0 ToneAlarm_PX4: add comments
c75ab8f3e5 Notify: add comments re events
f045c75bfe Copter: play various tones
3dfcdde6be AP_Notify: Rework ToneAlarm_PX4 to play tones from local array
fd55a2d9c4 Copter: increase GPS_HDOP_GOOD default to 2.3
e2d47f836e AP_TECS: Fix bug causing plane to fly high on landing approach
43901dce65 Tracker: mavlink component id to 1
b54b7b7448 GCS_MAVLink: fix compiler error
e581e81da5 AP_NavEKF: reorder declation to fix compiler warning
ddda0d52ce Baro: reorder declaration to fix compiler warning
76c47f56c5 Rover: removed fwd of unknown msg types
12f0c49915 Plane: remove fwd of unknown msg types
ade7f9e1a9 GCS_MAVLink: fixed forwarding of non-targetted messages
fcf17829cc GCS_MAVLink: fixed addition to routing table
079158d4b8 GCS_MAVLink: strip out the old GCS_Class class
0d2308f754 AntennaTracker: removed old PROXY_MODE parameter
c94e934fdf AntennaTracker: use generic mavlink routing
41a5f79046 Rover: removed use of mavlink_check_target()
e73f8b8e40 Copter: removed use of mavlink_check_target()
f198cdcf20 GCS_MAVLink: added support for a MAVLink snoop function
34be7f808e GCS_MAVLink: only try to fwd packets to active channels
411766f45a AP_Mount: removed use of mavlink_check_target()
4a9331c505 AP_Camera: removed use of mavlink_check_target()
507117bd8f Plane: removed use of mavlink_check_target()
f1edd1bafb GCS_MAVLink: removed use of mavlink_check_target()
aa88ba4158 GCS_MAVLink: only call message handler for our own messages
11f88f0f5d GCS_MAVLink: added routing object to GCS_MAVLink
b91529622b GCS_MAVLink: initial implementation of MAVLink routing object
76c710f596 GCS_MAVLink: removed obsolete headers
3354cb37d0 AP_GPS: fixed vertical velocity in Replay
4a91546ced HAL_PX4: FRAM does not support fsync
068b5a54c9 Replay: prevent float exception in log writing
f4fc910fea Plane: send OPTICAL_FLOW msg to GCS
67f48168a8 Copter: send OPTICAL_FLOW msg to GCS
da247bacf8 GCS_MAVLink: add OPTICAL_FLOW to ap_message enum
2b9bf69c9e Plane: send optflow health in extended status
641c770726 Copter: send optflow health in extended status
882546aa8e Copter: optflow logging minor format change
3127dd94c1 Copter: add OPTFLOW to default logging
aba829678a Copter: optflow instantiation format change
c93c7af20c Copter: move update_optflow to sensors.pde
3c23f00e81 OptFlow: remove ADNS3080 image grabber example
67fdfffc2a Copter: remove OF_Loiter PIDs and tuning
0994529624 Copter: remove OF_Loiter from FLTMODE param descriptions
fa95ea91fd Replay: generate dataflash logs in Replay
193bda068c HAL_Linux: run IO processes when we do a stop_clock()
cb9c518ab8 Revert "AP_NavEKF : Reduce ripple in estimates that can cause copter motor 'pulsing'"
89602d60fd Autotest: Added BMAC (Belconnen Model Aero Club) to the locations list.
22a7b69260 AP_OpticalFlow: don't build optical flow example
fba02479b7 Copter: fixed build with no EKF
0599f1dcb1 Plane: changed version number to 3.2.1alpha1
ed510d4f87 AP_OpticalFlow: run PX4 flow sensor at 10Hz
a2bd3b4a42 AP_NavEKF: Add public method returning height above ground level
d701cfcb75 AP_NavEKF: Output terrain relative PosD when relying on Optical Flow
0156d846f1 AP_NavEKF: Increase height at which nav gain reduction starts
12ea1d6e85 AC_AttitudeControl: Scale angle demand noise filter
a905432ffe AP_NavEKF: reduce height at which nav gain reduction starts
5785272933 AP_NavEKF: Improve robustness to corrupted flow sensor data
b1d44d4dde AP_NavEKF: Add protection for negative height above ground
963cc4d60a Copter: Add velocity gain scaler to interfaces
e80b1c67cd AC_AttitudeControl: Add EKF optical flow noise gain scaler
11fb51ceba AC_WPNav: Add nav velocity gain scaler to interfaces
9e7709fa09 Copter: Expand EKF speed limit public method to handle control limits
5b8265ad6f AP_AHRS: Expand EKF speed limit public method to handle control limits
d994da0886 AP_NavEKF: Expand EKF speed limit public method to handle control limits
9844dacf40 Copter: Add EKF ground speed limit to loiter speed control
5fa0c59310 AC_WPNav: Add EKF ground speed limit to loiter speed control
83775554ea AP_AHRS: Publish EKF ground speed limit
bc2255d6b1 AP_NavEKF: Improve comments in setInhibitGPS public method
416eaf4633 AP_NavEKF: Apply single definition of using optical flow
b56b68ce10 AP_NavEKF: Add public method reporting horizontal speed limit
c8fb376cc4 AP_NavEKF: Fix bug in bias rate of change limiting
599e53f3f2 AP_NavEKF: Prevent flow scale factor updating on ground
083e22966c AP_NavEKF: Add public method to report available output data
5532750a99 AP_AHRS: Add public method to inhibit GPS useage when using EKF
e53d28854e AP_NavEKF: Add public method to inhibit GPS use and clean-up GPS use logic
8fb1d9cf8d AP_NavEKF: Fix bug preventing opt flow scale factor estimation
a78920761c AP_NavEKF: Update comments in flow data interface
063fb41748 AP_OpticalFlow: Add separate scale factors for X and Y axis.
52c7e56a4a AP_NavEKF: Add parameter for max valid optical flow rate magnitude
6f8971d80a AP_NavEKF: Speed up flow sensor gyro bias correction
d7ad45ebda AP_NavEKF: Don't fuse flow measurements if too big
2dff76394d AC_PosControl: Add spike and noise filter to demanded angles
84944fdd4e AP_NAvEKF: Revert back to 10Hz fusion
f4f0dfc45c AP_OpticalFlow: efficiency improvements to data processing
1f78a73cdb AP_NavEKF: Make flow measurement delay vehicle specific
f23722ecee Plane: Remove statement about flow driver rate in comment
5f941655a8 AP_NavEKF: changes to support to 20Hz flow fusion rate
715d64dce9 Copter: Check for new optical flow updates at 200Hz
ca53d5fb62 Plane: Increase rate at which optical flow sensor is checked
468c83c074 Copter : Check for new optical flow readings every 10ms
0bf991eef9 AP_NavEKF: Fix bug in optical flow fusion smoothing
7d27a22f77 DataFlash : Fix EKF optical flow logging bug
7ec8dfebcf AP_OpticalFlow : Remove gyro scale factor user adjustable parameter
898ad7432b Plane : Only build optical flow with PX4 board
be54f2d6ee Copter : Don't force pre-compiler inclusion of optical flow
2baa1e56ed Dataflash : Fix bug in EKF opt flow logging
df59f3311a AP_OpticalFlow : Add gyro scale factor correction parameter
eec49ce1dd AP_OpticalFlow : Add parameter for flow rate scale factor correction
2500f7e9c2 Plane : Add data logging for optical flow use with EKF
2db9247117 Plane : Add logging and EKF read for updated flow sensor interface
6d5fb33d1a Copter : enable optical flow by default
45c007d216 Copter : Correct comment on required optical flow update rate
839b814d12 AP_NavEKF : Inhibit flow and range fusion in static mode
9b9934ac06 AP_NavEKF : fix velocity timeout bug during optical flow operation
cc8e6dbfad DataFlash : Add EKF additional fault and timeout logging
517026980b AP_NavEKF : Add fault and timeout logging
f640ec30ff AP_NavEKF : Reset held velocity on arming
4616721b0d DataFlash : Update EKF debug logging
06c19a3a4d AP_NavEKF : Update optical flow debug logging
1791dec622 AP_NavEKF : Fix velocity hold mode
84421e0a35 AP_NavEKF : Adjust initial flow scale factor and limits
573633daf7 AP_NavEKF : Fix incorrect use of flow sensor time-stamp
92e9336fe1 AP_OpticalFlow : prevent divide by zero
9ea97c1a38 AP_NavEKF : Modify optical flow data interface
a72b6b179b Copter : Modify EKF optical flow data interface
311206017c Copter : Update EKF optical flow data interface
8faeb190de AP_NavEKF : Rework logic to cope with bad flow data
44e1695d5a AP_AHRS : Enable EKF start without GPS
41f0231cfb AP_NavEKF : improve logic dealing with lack of flow or range data
f047e35167 Plane : Enable optical flow by default if sensor is fitted
9ba46ad795 AP_NavEKF : Improve handling of flow sensor failure
2ee1c549be AP_NavEKF : improve criteria used to inhibit scale factor estimation
e09ff84218 AP_NavEKF : Don't estimate focal length scale factor without reliable velocity
4c92a5f23f AP_NavEKF : Use GPS velocity if PX4Flow sensor fails
283811edcb AP_NavEKF : stop velocity change when flow measurements drop out
9132fcfe43 AP_NavEKF : Change mag fusion to use corrected compass values
c3be486c29 AP_NavEKF : Enable inhibiting of GPS measurements
79698f7742 AP_NavEKF : improvements to range finder fusion
1222559da0 AP_NavEKF : Fix bug affecting sonar fusion
117bd2a998 AP_NavEKF : Add time based noise to terrain offset state
b1d3d5d9a3 AP_NavEKF : Don't update focal length scale factor at low speeds
8dd1081f54 AP_NavEKF : Add range measurement to EKF debug message
f358d5e20f DataFlash : Add range measurement to EKF debug message
744c72d40b AP_NavEKF : Updates to range finder fusion
9707989b9f Plane : Preliminary optical flow integration
267ef48026 Copter : disable tilt correction of range finder data for use by EKF
a07e402ebf DataFlash : Update names in EKF optical flow logging
a20729f60f AP_NavEKF : Update names in optical flow debug logging
235b3bebda AP_NavEKF : Add range finder health and enable range finder fusion
a4984a1e76 AP_AHRS : Add range finder health status to EKF optical flow data
27f9289391 Copter : Add range finder measurements to EKF optical flow data
988de2a898 AP_NavEKF : Add smoothing to optical flow fusion
70c779dbc2 AP_NavEKF : Optical flow numerical optimisations
2a1420171a AP_NavEKF : reduce minimum accepted flow quality
3fbedc9f98 AP_NAvEKF : update comments
81b09c9361 AP_NavEKF : temporary mods to test use of flow sensor internal gyro data
12b012a00e AP_AHRS : temporary mods to test use of flow sensor internal gyro data
635e593d55 Copter : temporary mods to test use of flow sensor internal gyro data
cd418c946c AP_NavEKF : preliminary implementation for optical flow and range finder fusion
bc74abcd00 DataFlash : EKF optical flow fusion support preliminary changes
7b76fc29fb AP_AHRS : EKF optical flow fusion support preliminary changes
34249ffa42 Copter : EKF optical flow fusion support preliminary changes
8b80e58861 Copter: enable OPTFLOW - do not merge to master
9d5c27ca83 PX4: start px4flow driver
13df6fb1c9 AP_NavEKF : Reduce ripple in estimates that can cause copter motor 'pulsing'
dcb252cc05 AP_NavEKF : Fix bug in reset of position and velocity states
cb4d5986e0 AP_OpticalFlow : Update PX4Flow interface
0d774d301d AP_OpticalFlow : Remove support for ADNS3080 sensor
60527a023a Copter : Update optical flow test for new PX4Flow interface
0d7555b259 Copter : Remove legacy optical flow control mode
900519b35b Copter : Remove legacy optical flow control mode
23953b459e Copter : Update logging for new PX4Flow sensor interface
20e715aa13 Copter : Remove ADNS3080 flow sensor support
5ef2208017 Copter: Change flow sensor read sample rate to 10Hz
4452aa8448 AP_AHRS_DCM: compile error fix for low speed CPUs
bfe71fea82 AC_PosControl: Use blended accelerometer measurement in altitude control
9261dfdefb AP_AHRS_NavEKF: overload get_accel_ef and get_accel_ef_blended functions
4975cefd84 AP_AHRS_DCM: update _accel_ef_blended
033ee3c900 AP_AHRS: Add get_accel_ef_blended function
7692761f34 AP_NavEKF: Added getAccelNED function
7be78621f4 Copter: run_nav_updates at 50hz on Pixhawk, 25hz on APM2
203b713f0d Copter: run_nav_updates at 100hz on pixhawk
874d0780aa AP_NavEKF: Reduce vulnerability to ground fixed magnetic interference
722ce0628a PX4: enable ccache on windows build
7f383facac Plane: re-enable CLI on non-APM1/APM2 boards
c05a0bc67f Plane: prevent a change altitude command from causing a sudden descent
ede920f293 AP_Mission: ensure location options are zero at start of mavlink conversion
f98e283091 GCS_MAVLink: re-generate with updated upstream mavlink
940966f3e3 DataFlash: fixed example sketch build
86bf02d64c RC_Channel: update example sketch to copy input to output
5aabfd4dc4 AP_HAL: added RCInput example sketch
8e36c1cd60 AP_HAL: fixed RCOutput example
4ec6a74829 AP_HAL: addex UART_test example sketch
9e0a7e6631 AP_HAL: fixed printf example build
c5e4e8f035 SITL: fixed SITL for example sketches
9e731550fd AHRS: default EKF on for copter
053c5054f3 AP_TECS: Change default landing damp gain to 0.5
0912f05e7c AP_TECS: Add parameter to adjust height rate gain during flare
11aefa6858 AP_TECS: Fix bug in parameter label
bd97f15d06 AP_TECS: make flare height demand consistent with height rate demand
a0f69e06a7 Plane: prevent baro reset from OVERRIDE_CHAN
c299f721b1 Plane: fixed sense of landing sink rate calculation
d1fb137651 Plane: mark development version 3.2.1alpha
ebed80cd2a AP_GPS: work-around for invalid time reported by PX4 GPS
df7c4baed9 AP_GPS: check lock type before accepting position and speed information
a9defa3508 autotest: build some examples for px4-v2
38c1b622f3 AP_AHRS: fixed example build on APM2
48abfcede7 AP_Scheduler: added example sketch
89cdae62b4 AP_AHRS: fixed example build
e45522f51d AP_Baro: fixed example build
a686494127 AP_Compass: fixed example build
908ad46e8e AP_GPS: fixed example build
7bb56e50aa AP_InertialSensor: fixed example build
9b75237a38 PX4: don't build lsm303d and l3gd20 on PX4v1
bbb47ece9c PX4: use a common makefile for most of v1 and v2
1c94559fa2 autotest: auto-update uavcan repo
0811f9c175 AP_Notify: fixed example build
d0e467aea0 AP_HAL_Linux: Bypass manual CS assertion for SPI_CS_KERNEL mode
4edd943166 PX4: disable auth on px4v1 too
eb22815668 AP_TECS: fixed range values
d40011acf3 AP_Notify: added abstract Led and RGBLed classes
955753f3f0 HAL_Linux: Optimize bandwidth for RCOutput_Navio 40% less bytes in I2C transactions for PCA9685.
50459bdca0 HAL_Linux: Enable external clk for RCOutput_Navio That should fix PWM value drifts.
d0087c91e9 DataFlash: prevent build errors on non-PX4 targets
1d0122e6c2 DataFlash: log each ESC separately
294d944cbd DataFlash: added logging of ESC feedback (currently only available with UAVCAN ESCs)
2f0bc1f202 Plane: setup pwm esc scaling
dcdfff66e8 Copter: setup pwm esc scaling
008dc91a15 Rover: setup pwm esc scaling
4132b53541 HAL_PX4: publish actuator values for UAVCAN ESCs
e89d380b73 AP_HAL: added set_esc_scaling() RCOutput function
5a78c584d2 PX4: disable auth command to keep us below 1MByte
420889d061 build: added motor_test, and fixed build checks for PX4
22cb1c8525 HAL_Linux: tidy up SPI debugging a bit
0fe3959d7e AP_HAL_Linux: Add support for in-kernel SPI CS handling
b88e6b6302 Plane: prepare for 3.2.0 release
38c5f25c70 AP_Math: fixed example build
19847d8607 Plane: fixed missing break statement
8662aaa878 Plane: Support MAV_CMD_DO_FENCE_ENABLE as a mission item.
b3e693daa4 AP_Mission: Support MAV_CMD_DO_FENCE_ENABLE as a mission item.
77958f8fd4 Plane: fixed CONTINUE_AND_CHANGE_ALT command
95d2e79312 Plane: Keep throwing WP in front plane for CONTINUE_AND_CHANGE_ALT
442c188ae0 Plane: Implementation of MAV_CMD_CONTINUE_AND_CHANGE_ALT.
b36c1b2c3d AP_Mission: support for MAV_CMD_CONTINUE_AND_CHANGE_ALT
dca99a9643 GCS_MAVLink: code generation from XML for MAV_CMD_CONTINUE_AND_CHANGE_ALT.
d5ced15acf GCS_MAVLink: include units in CONTINUE_AND_CHANGE_ALT
958d8ffacc GCS_Mavlink: New message def: MAV_CMD_NAV_CONTINUE_AND_CHANGE_ALT
8071d7c1d3 Plane: use set_radio_trimmed() for flaperons
33e4f44434 RC_Channel: added set_radio_trimmed()
8d54368650 AP_Math: fixed build warning
09547c40cb DataFlash: added staticmode to EKF4 message
46f601d703 AP_NavEKF: added getStaticMode() function
a3422325c7 Replay: cope with new airspeed log msg
8acfbb2ee0 AP_NavEKF: add another health check in the EKF
f84f432ecf AP_InertialSensor: allow gyro calibration to take up to 30 seconds
20f3f19285 Compass: add new rotation to ORIENT param description
503d14428d AP_Math: add new rotation to example rotation sketch
3d2c9910b3 AP_Math: add yaw 293, pitch 68, roll 180 rotation
13b8159fb5 Copter: only allow one preflight calibration at a time
b4e01b7936 Plane: if SKIP_GYRO_CAL is set the do a gyro cal on 3D accel cal
826ae8ee8b Plane: prepare for 3.1.2beta3
1d2d8c903a Rover: make preflight calibration follow plane conventions
c33f54378f Plane: changed preflight calibration to prevent accel cal from MP
4f44a63bef build: fixed build with PX4/Firmware master
330b52194f Copter: change to switch order in guided spline
db89bd6f03 Copter: correct frame/location of guided spline
2c7290fdc0 Plane: fixed baro test in CLI
2bb7606fba Plane: no need to set flaperons separately from flaperon_update()
6d10797c59 build: enable uavcan if ../uavcan directory is present
a9ee2ae253 PX4: change IMU order so vib isolated IMUs are 1 and 2
d57c99f1cc DataFlash: Fix bug in logging of EKF IMU1 Z accel bias
78db698108 AP_Mount: allow a MOUNT_CONTROL message to reset RC targetting
84f82dd129 Copter: correct get_pilot_desired_throttle calc
73f3b50e2f RC_Channel: make get_control_mid const
3a529b2cef Copter: utilize get_control_mid for throttle calculations
9375fc8947 RC_Channel: add get_control_mid function
4d7988b302 RC_Channel: replace long with int32_t
14467b75a1 AP_Mount: use norm_input_dz()
6b0c15b70f RC_Channel: added norm_input_dz()
ad0e6dccbb GCS_MAVLink: re-generate headers
de294277e9 GCS_MAVLink: cope with new mavlink repo change in mavlink_system_t
a519e0abb6 Plane: fix build with new mavlink repo
b6c06ab691 Copter: fix build with new mavlink repo
6b5492a586 AntennaTracker: fix build with new mavlink repo
1ed02441a0 Rover: fix build with new mavlink repo
abba6395ad AP_TECS: fixed spelling error
c74aff56c1 Plane: move MOUNT_STATUS lower in GCS_MAVLink
c6e70179d2 Copter: move MOUNT_STATUS lower in GCS_MAVLink
48c00728a7 Rover: add MOUNT_STATUS to STREAM_EXTRA3
8ef2948f27 GCS_MAVLink: generate update to version
e46be909a4 GCS_MAVLink: generate after mount_status msg change
9ae443f2a2 Plane: append MOUNT_STATUS message to STREAM_EXTRA3 messages
9b5684d007 GCS_MAVLink: add MOUNT_STATUS to message enum
6bee8969a1 Copter: append MOUNT_STATUS message to STREAM_EXTRA3 messages
f7f9bedc38 AP_Mount: update the status_msg() method to match the new definition
c5b4121fc7 GCS_MAVLink: MOUNT_STATUS to always be reporting the angle of the gimbal
387f3276cb Copter: handle SET_POSITION_TARGET mavlink messages
055d3bee1f GCS_MAVLink: run generate.sh
a4f994e8f0 GCS_MAVLink: update MAV_FRAME enum
1b1327dc93 Copter: add Guided_Spline mode
2cc65dffe0 AC_WPNav: add set_spline_dest_and_vel function
e7939cca01 Copter: change function definitions in guided to static
0672d1fc3c Plane: mark beta2
34f7daf0fe Plane: started work on 3.1.2 release notes
78d85dfafc Plane: fixed handling of trim for flapersons
809ff15b43 AP_GPS: make NMEA driver a bit easier to read
b81b9e1bb8 AP_GPS: prevent bad NMEA strings from causing overruns in parser
c52578426e Replay: cope with up to 3 IMUs
7497b4dfb1 HAL_Linux: fixed Replay with new AP_InertialSensor library
7c288e020b AP_InertialSensor: fixed detection of dead IMU
22237f2530 HAL_SITL: fixed handling of SIM_FLOAT_EXCEPT in main thread
d9d238cc3c Relay: param descr match labels for Pixhawk
0d3e1131a7 Relay: Pixhawk AUXOUT2 enabled by default
9d39c0407e HAL_Linux: added ToneAlarmDriver.h
485abbac3a AP_Notify: cleanup use of bool from toneAlarm_init()
329c1f5190 HAL_Linux:create ToneAlarmDriver as a separate class
ad460659ad AP_HAL: make toneAlarm_init() return bool
f058131140 HAL_Linux Scheduler: reduce the delay inside tonealarm thread
3b94cb3072 HAL_Linux: make tonealarm generation a passthrough operation get rid of all delays and while loops(that may turn into infinite loop)
e254b406d0 HAL_Linux: make rtttl tune and tune repeat flag list static members instead of initialising them inside constructor
c8c822422a HAL_Linux: give error msg on failure to start toneAlarm
7718be81cb AP_Notify: give error msgs on failure to start
699de81d02 Rover: Prepare for 2.47 release.
88fd9a2879 Rover: Update release notes ready for 2.47 release.
3831a0ed3e Rover: Fix INS test in CLI to quit on enter
324473a15b Frame_params: Updating 3DR_X8_RTF.param for Copter 3.2
5ea947de2f Frame_params: Updating 3DR_X8-M_RTF for Copter 3.2
e3d6b25301 Frame_params: Updated 3DR_X8+_RTF
26d3ad18b8 Revert "PX4: enabled support for UAVCAN"
8bcbce16ed GCS_MAVLink: show rangefinder status in SYS_STATUS
682cf02770 GCS_MAVLink: regenerate after merge
0dba1b370a GCS_MAVLINK: merge with upstream XML
d3b087d2c1 AP_GPS: fixed build on non-PX4 platforms
e69582aa1c AP_GPS: added PX4EXPERIMENTAL to GPS type drop down
abad58874c AP_GPS: enable GNSS modules handled by PX4 firmware via GPS_TYPE
442aafbd1e AP_GPS: add proxy driver for GNSS modules handled by PX4 firmware
71b2306aa9 PX4: enabled support for UAVCAN
57d2fc1dd5 HAL_Linux: RCInput support for Zynq
7ee5b58535 AP_Mount: Axis mask speedup
1d3a49e466 AP_HAL_PX4 : make UARTDriver capable to be called from different threads.
154bf51279 HAL_PX4: minor tidy up of if statement
9e9c62d245 HAL_PX4: work-around for periodic enable_ch() calls
e5549c90a1 HAL_PX4: do not overwrite disabled channels with zeros
d34ea4c124 AC_PosControl: fix to default force_descend param
c7a38c4350 Copter: use force_descend option on auto landings
e81c1dd5a1 AC_PosControl: add force_descend option to set_alt_target_from_climb_rate
c4093b159f ArduPlane failsafes: remove rc_override_active
e4ca0e1c5c Plane: fixed comment on negative flaps
ba2e204143 Plane: fixed trim and range handling for flaperons
ed6358730a Plane: fixed failsafe pass-thru for APM2
2270a904ce RC_Channel: make flaperson range from -4500 to 4500
14c77adca9 Tools: Updated gcc-arm compiler to version 4_7-2014q2
cc955b738b AP_NavEKF: Clean up flight detector logic
5359da9c68 AP_NavEKF : Improved Magnetometer Error Handling
a55db1c25d AP_HAL_Linux: fixed LinuxGPIO_RPI::read()
49d3035ee5 HAL_Linux: fix types, remove printfs in GPIO_RPI
6f993fe64a HAL_Linux: add prototype RCInput code for Navio
ef420a2544 AP_HAL_Linux: changed SPI mode for MPU9250
bf860ee41f AP_HAL_Linux: Ublox SPI stub
ce4c4c43dc AP_HAL_Linux: Scheduler reboot fix
ce4da9b09c autotest: raise timeout again
b1c6931ade Build: added zynq make target
ae87399919 HAL_Linux: Basic Zynq Linux platform support
adcf994356 AP_HAL: added Zynq platform type
7f00dd413f AP_Compass: fixed HMC5883's initialisation code
f7d0a930c2 Copter: Updated GCS_FAILSAFE Parameter Description
18e4747a6f Added name to GIT_Success.txt
3b6c732b3b APM_Control: changed default I gain for roll/pitch controllers to non-zero
0d7ec0fbfe autotest: fixed buildlogs location for *.BIN
7f5cc97769 Plane: changed for new AP_Airspeed API
258542b939 AP_Airspeed: added ARSPD_SKIP_CAL parameter
fa5bab2682 Plane: log raw pressure and offset
9c631944f7 AP_Airspeed: expose raw pressure for logging
75a517824b build: put elf file in current directory
f04f8e226d SITL: abort on floating point error
e49cd68b83 autotest: save core and elf files
7f82397467 autotest: ensure we get the BIN flight logs even on mission failure
1fc8116069 AP_L1_Control: update NAV_L1_PERIOD docs
3813bcb7ce Plane: small improvement to takeoff docs
135f9b2c54 Plane: added STALL_PREVENTION option
1552278fa3 AP_TECS: use aparm.stall_prevention
04b63a61bf AP_Vehicle: added stall_prevention variable
58fd72944d Plane: honor TKOFF_THR_MAX in set_servos()
c8060cb9f7 Plane: use load factor to limit nav_roll_cd
3667900e84 AP_SpdHgtControl: added load_factor in update_pitch_throttle()
bf591b0008 AP_TECS: take load factor into account in min airspeed
ba312856ea Plane: provide a temperature to baro from the airspeed sensor
d404cc6542 AP_Baro: add set_external_temperature()
8b794602d1 AP_Baro: make get_temperature() a const function
74232fd74a Tools: CHDK SX260 script update
136c358c24 Tools: Added initial support for Canon S100
5e2d7b1eaa Plane: Implement MSG_CAMERA_FEEDBACK on planes
fe9e68f88c Plane: send feedback to the GCS of pictures taken
92ead67d99 Copter: remove call to camera.configure and control
f24f5a6a32 Copter: remove call to camera.configure and control
8ee677cfce Plane: fixed CLI build again
986b7bf894 AP_InertialSensor: fixed frequency to 16 bit in LDM303D and L3GD20 drivers
c750cbebfb GCS_MAVLink: prevent asan errors in send_text_all
a566ebe4ec HAL_SITL: prevent array overruns in RCInput/RCOutput
ed099a73a3 Copter: minor rename of ACRO circular limits variable
83051c306d Copter: minor rename of a circular limits variable
a9205e1032 Copter: Add circular limits to ACRO
d46c659d0f Copter: Add circular limits pilot's roll/pitch inputs
ef62a2c697 Rover: fixed CLI sonartest
b2badee172 Copter: reset baro glitch after baro init
67690553c5 BaroGlitch: add reset method
2eeec3fabe AP_RangeFinder: fixed oversized parameter RNGFND2_SETTLE_MS
ec17c5806e AP_Param: check parameter tables for bad suffix lengths
44ee1fcd3c Plane: prevent large G_Dt_max report on startup
00526359b0 HAL_Linux: use dprintf() instead of sprintf and write
bec1c05773 AP_Notify: fixed bitfields
e48fcf2df7 AP_Notify:change tonealarm-type bitmask to bool type, change parameter data type from const uint8_t to uint8_t, initialise tonealarm error flag to value -1 at tonealarm class initiallisation
9f5f5871f2 AP_Notify:Fix the typo, usage of toshibaled.init() instead of toshibaled.update() This is a part of a set of fixes for the bugs and typos tridge discovered and shared inside earlier commits for setting up tonealarm.
af203760bd HAL_Linux: change the return type of AP_HAL::Util::tonealarm_init() to signed int8_t. This is a part of a set of fixes for the bugs and typos tridge discovered and shared inside earlier commits for setting up tonealarm.
b383e1633b Tools/Linux_HAL_Essentials: Add loading of PWM capes to support ToneAlarm
fa6e83318d AP_HAL: Add virtual toneAlarm member functions to be declared under Linux_HAL
298b27444a HAL_Linux: Add ToneAlarm Driver to Linux_HAL
5d6af51517 AP_Notify:Add ToneAlarm Support for HAL_Linux Boards
2d288d46a4 AP_HAL_AVR_SITL: fill in ublox accuracy metrics with reasonable values
19c727c6c2 Plane: change default autotune level to 6
02d45468d6 Plane: update OVERRIDE_CHAN docs
34659478c2 Plane: fixed potential division by zero in mixing creation
1e6511b010 Plane: fixed number of channels we pass to PWM limits
0a318d3a68 Plane: move delay callback setup to after compass and airspeed config
9e12b01569 Copter: CPU failsafe set motors to min before logging error
80ba40d149 Copter: CPU failsafe logs an error
31087e4f20 Compass: shorten EXTERNAL2/3 to EXTERN2/3
a2958e2ffd AP_MotorsSingle: Fix parameter comments.
98f5a93e10 AC_AttControl: remove unused logging structure
02581f4c05 HAL_Linux: re-fix dirty mask bug in Storage
330dab2fe3 HAL_Linux: fixed some warnings
4908e335d2 HAL_Linux: Add Storage.cpp containing common storage class member definitions
dd6d520385 HAL_Linux:Create subclass to handle FRAM Storage under main Storage Class
46c8714996 AP_GPS: make the examples compile in Linux
b5f1ab496b build: be less strict on compiler version for PXF
14a6878bcd HAL_Linux: fixed termios settings on BBB initial boot
3f60cddb87 PX4: build reflect command for USB stress testing
e37337b744 Copter: remove gyro cal prearm check
9f2af783db Copter: update AC3.2 ReleaseNotes
7356503e90 Plane: set the PX4IO OVERRIDE_IMMEDIATE flag
0d2d63980d Plane: limit RC config to 8 channels
63561e53fb Plane: handle trims and reversals in px4 mixer creation
e30838a4ef Plane: make OVERRIDE_CHAN behaviour exactly match FLTMODE6
bfb2a7eb93 Plane: improved FLAPIN_CHANNEL docs
e22c8b27a9 HAL_PX4: if there are no enabled channels don't send to PX4IO
16fd113020 RC_Channel: added channel_function()
913004beb0 Plane: added OVERRIDE_CHAN parameter
c494057c98 Plane: add support for generating a PX4 mixer for failsafe
1b64dd2280 Copter: clarify pv_location_to_vector param name
71586d40e3 AC_WPNav: minor fix to comments
12c514553d AutoTest: copter test that zero alt defaults to current alt
a897c14255 Copter: ensure lat, lon, alt all zero is handled
cab2010a8f AP_Arming: remove abbreviations from GCS messages
6c4d4713aa AP_NavEKF: Add parameter that specifies EKF-to-DCM/INAV fallback strictness
2293070a5b AP_GPS: Add uBlox accuracy metrics interface and logging
9be7039be1 DataFlash: add UBX3 message for accuracy logging
d03ed7a2c3 AP_Mount: Added lead filter
0738d75701 build_devrelease: build all frames for jons release
07975ed564 Copter: minor reformat of control_autotune
74fedc0897 Copter: allow starting autotune from flightmode switch
ad3bce105c Copter: remove abbreviations from GCS messages
7e3b8a30f5 HAL_PX4: use px4io generated values for servo output readback
95827e59c1 AutoTest: fix fly_mission to recognise end of mission
2b48434e60 AP_TECS: fixed throttle demand on underspeed
d6508acfa5 AP_TECS : Prevent throttle undershoot after climb
3518cf5480 AP_InertialSensor: fixed default MPU9250 orientation for NavIO
c682a6ee96 ArduPilot: fixup README format
bf30e2b5b7 ArduPilot: update README.md
5104d5f0fe Copter: re-order init_sonar
8a61f5acd2 Copter: add comments to control switch debouncing
5c8b39562f Copter: rework control switch debouncing
b0594e8d56 Copter: supply wp_nav with attitude_control
369839c7ca AC_WPNav: Use target yaw instead of current yaw for close waypoints
1e4ec5f6a2 Camera: add f to float constants
ad7a9bf81b Camera: initialise image_index
44dbf50101 Copter: fix camera feedback msg handling
7bb4a39608 Camera: record number of pictures taken since boot
b587025ad1 Copter: send a camera_feedback message when there is a camera trigger
b48edf479b GCS_MAVLink: add CAMERA_FEEDBACK to enum
2e4812afb5 Camera: Added feedback message support
8eb866adef Copter: minor update to AC3.2-rc14 ReleaseNotes
4e87056631 Replay: fixed build with AP_NavEKF API change
96a87b6990 Plane: added DF logging of 2nd battery voltage
34a43b2d99 autotest: fixed backup of autotest .bin logs
538cf68005 Plane: removed unused function
84da5d2d98 DataFlash: use new interface functions for EKF IMU weighting and accel biases
967986d5c6 AP_NavEKF: Split getAccelBias into getAccelZBias and getIMU1Weighting
ac2e5f644c DataFlash: fix bug in ekf gyro bias logging
bb6d8fd44a AP_NavEKF: Set prevDelAng after using it
aca78d321f DataFlash : Remove unused numerical divergence metric
210f4397da Replay: clean up unused variables deltaGyroBias and divergeRate
296dfad600 Replay : Remove unused numerical divergence metric
0727ac5c79 AP_NavEKF: clean up unused variable lastDivergeTime_ms
5e51c09978 AP_NavEKF : Remove ineffective numerical divergence checks
638d63aa90 DataFlash : Change to more descriptive EKF logging names
6f759fdb8e AP_AHRS : Tidy up logic used to enable synthetic sideslip fusion
8506e8b5fb HAL_Linux: fixed linux build
b9f0310b82 hal_ap_linux: Make PRU constants private to reduce #define namespace pollution.
81de994fef HAL_Linux: separate RCInput for PRU and Navio
e05151f0e0 HAL_Linux: Initialize i2c before rcoutput (required by i2c pwm chips for initialization)
2f0900b0a8 HAL_Linux: add GPIO driver for Raspberry Pi
07ed93cea0 HAL_Linux: add PCA9685 based RCOutput for Navio
d95a1be3d6 scripts: fixed devrelease permissions
14c401c0f4 AP_HAL_Linux: [Bugfix] prevent memory acces violation in process_dsm_pulse
05b903654e autotest: added link to devbuild tree
c0f18272ed autotest: added developer build support
1adacf42b9 PX4: fixed startup log msg location
6bf76acf96 PX4: add TESTS_MATHLIB_DISABLE define
500ecebf57 PX4: conditionally build auth command and libraries
bb85e77173 Copter: update AC3.2-rc14 ReleaseNotes
6a85753a5b AP_NavEKF : add INIT_GYRO_BIAS_UNCERTAINTY definition
beb54b087b Copter: re-enable CPU failsafe if arming fails
cce876c2f9 Copter: fail to arm if gyro cal fails
fb14da7a4b AP_NavEKF : Add public method to reset gyro bias states
2c07299c04 AP_AHRS : Add reset of EKF gyro bias states
8a776f8ff8 GPS: init primary_instance to zero
010d267376 GPS: use primary for Notification
5df3d24c77 Frame_params: 3DR_X8+_RTF.param
6848897999 AP_GPS: Add agcCnt to UBX1 message
0ac3267d52 Copter: reset ahrs gyro drift after gyro calibration
dffcfb42bc AHRS: add reset_gyro_drift method
25a2fa67b6 Copter: don't stop logging on disarm when LOG_WHEN_DISARMED is set
789fd06192 LogAnalyzer - Improve Autotune Test  - previously version could report failed autotune sessions as valid and    valid sessions as failed
c2030de4ec LogAnalyzer: write \xff EOF assumption to stderr
cf4435989e LogAnalyzer: Binary Logs may end with \xff  - ignoreBadlines can be used to assume this is a proper EOF
07a74bc39f Copter: ReleaseNotes for AC3.2-rc14
7d48704f82 AP_NavEKF: fix parameter descriptions
ac7ea2a12c AC_PosControl: use AttControl's sqrt_controller
7224669399 AC_AttitudeControl: cleanup angle_ef_roll_pitch_rate_ef_yaw_smooth
779baa006d AC_PosControl: Use sqrt_controller function
0c4a489491 AC_AttitudeControl: use sqrt_controller function
fc898a00a3 AC_AttControl: add sqrt_controller
4aa07d7aef LogAnalyser: rename BalanceTwist to MotorBalance
98e9ce3206 LogAnalyser: TestBalanceTwist sanity check of motor values
a62f1f0f48 LogAnalyzer: updated testCompass to match our prearm check
0955284d7e LogAnalyzer: balance/twist initial commit
28b98a170b Copter: fix to dcm-check to be continuous
26de54c29a AP_AHRS: cope with 90 degree pitch in update_trig()
485397c4cb Replay: cope with old copter attitude and baro msgs
ddd27f5acb Plane: increase mav throttle slew rate in generated param docs
e4f7a7f6d2 Plane: removed incomplete DF log of go-around
c046273be2 Plane: fixed verify_land() comment for go-around
1f3e285ed0 Plane: reset commanded_go_around at start of land
ad58822cb5 Plane: removed impossible boolean check
959cd11cb1 Plane: save a byte in auto_state
01f611daa9 Plane: "Go around" operation. Assumes go around behavior follows land wp.
e434850f1f Plane: move set_mode() after mission.set_current_cmd()
02b80db67c Plane: minor code style change
c1b949a74f Plane: Bugfix.  Changing to landing sequence now works at mission end.
83c2f497a3 AP_Mission: Change jump_to_landing_sequence to get_landing_sequence_start
5ddbcc296d AP_OpticalFlow: fixed example build
ad8b73c8aa AP_Airspeed: update ARSPD_AUTOCAL docs
41a6393356 RangeFinder: PulsedLight I2C addr to 0x62
ad7c612334 AP_InertialSensor: fixed SITL with new HIL code
aeaa3c1e04 AP_InertialSensor: fixed build for VRBrain
40e83ceb1f AP_InertialSensor: simplify next sample time calculations
9dfbdb1e69 AP_InertialSensor: run the MPU6000 at 1kHz on fast CPUs
a047d1f569 AP_InertialSensor: moved default filter and sample_rate to frontend
17b2214798 AP_InertialSensor: make it easier to add multiple backends
868ee3af23 AP_Mission: fixed example build
006185f08a AP_InertialNav: fixed example build
f79ce92673 AP_AHRS: fixed example build
33c7432e97 AC_WPNav: fixed example build
31eeb657ca AC_Sprayer: fixed example build
4fcf46005b AC_Fence: fixed example build
9a98e63702 AC_AttitudeControl: fixed example build
bc5d79118d AP_InertialSensor: updated comments
3a9a5a9c18 AP_InertialSensor: implement gyro and accel health monitoring
586fa9a816 AP_InertialSensor: added product_id support
37dea4e367 AP_Common: added MPU9250 product ID
520727e5bd AP_InertialSensor: fixed example build
39d623ff94 VARTest: convert to new AP_InertialSensor API
d809ce51a7 Replay: convert to new AP_InertialSensor API
35b558cfc2 Rover: convert to new AP_InertialSensor API
a4d2b044f0 AntennaTracker: convert to new AP_InertialSensor API
4c0351a76a Copter: convert to new AP_InertialSensor API
240e87dc2c Plane: update for new AP_InertialSensor API
dbcd02f2be AP_InertialSensor: converted MPU9150 driver
ff5f791343 AP_InertialSensor: converted flymaple driver to new API
a42af0f2f1 AP_InertialSensor: use common AP_InertialSensor driver for PX4 and VRBRAIN
3ce7667e5a AP_InertialSensor: tidy up MPU6000 driver
2d47a07480 AP_InertialSensor: ported L3G4200D driver to new API
deafcd6ddc AP_InertialSensor: improved timing in all drivers
ff6d87f145 AP_InertialSensor: minor tidy up for HIL driver
85686c22ec AP_InertialSensor: converted the APM1/Oilpan driver to new API
dcef9bb3b8 AP_InertialSensor: converted the MPU9250 driver to new API
d48beb0c0f AP_InertialSensor: converted PX4 driver to new API
0ce5c99c26 SITL: update for new AP_InertialSensor API
ec11417705 AP_InertialSensor: converted HIL backend, which gets SITL working
448efc70a3 AP_InertialSensor: first steps in frontend/backend split
df16dd67d2 Frame_params: 3DR_Iris+.param Add GPS_HDOP_GOOD
0532a4bbc3 Copter: ReleaseNotes for AC3.2-rc13
8fc2ccdc76 Copter: remove debug
04eb1073e8 DataFlash: log baro climbrate
f6ff1742d5 Copter: landing detector checks baro climb rate
e6c6fe095f AP_Terrain: fixed a warning
b495905da5 AP_TECS: fixed some warnings
59610ebe88 AP_L1_Control: fixed some warnings
05c325a12a Plane: display min as well as max loop delta_t
2fc69c7c4c Plane: disable CLI by default
b8e73a737a HAL_AVR: fixed warning
e80328d3a5 AC_WPNav: bug fix sanity check of set_speed_xy
39c8535223 AHRS_DCM: sanity check AHRS_RP_P and AHRS_YAW_P
2bc74934b8 AP_NavEKF: Track baro alt when pre-armed
f866bf979e Copter: fix compiler warnings in GCS_Mavlink.pde
b63f701fd3 Copter: minor formatting fix
e22130cbc7 Copter: minor format fix
3c01353dcd Copter: fix compiler warning in control_auto.pde
92b67cca5b Added name to GIT_Success.txt
a1cfd03c9b AC_PosControl: bug fix dt calculation
34352860e7 SITL: remove _randy sitl startup scripts
0e11189c35 AP_InertialNav: add comments
5e381280dc AP_InertialNav: update properly if home position moves
5fc02bdbc4 Copter: Reduce prearm alt disparity check back to 1m
3296eb24b3 Copter: add comments to auto_loiter
d7d8330303 Copter: loiter copter without accepting user input at end of auto mission
ef12ea4d3b Copter: fix indentation mistake in motors.pde
343a673762 Copter: reset ROI when requested, regardless of current MOUNT_MODE
d84c1cd3e4 AP_OpticalFlow: fixed example build
f87da51b37 Plane: prevent calling jump_to_landing_sequence() too often
8d329f6b5a Plane: ignore DO_LAND_START in missions
15a661e17a AP_Mission: fixed logic in jump_to_landing_sequence()
1f0840ddf8 Plane: improved RTL_AUTOLAND docs
9f32bf93d1 Plane: switch to AUTO on a DO_LAND_START MAVLink command
7ecc87a787 Plane: improved check for reaching RTL point for auto-land
8c6b875dcc AP_Mission: avoid the AP_AHRS cast
270bac4472 AP_AHRS: make get_position() const
be17bfd972 Plane: Added parameter RTL_AUTOLAND and implementation.
fe43ae538f Plane: Added support for MAV_CMD_DO_LAND_START
ea91f4d47b AP_Mission: Added support for MAV_CMD_DO_LAND_START
d62b9a7044 GCS_MAVLink: re-generated headers
e1a88a13a7 GCS_MAVLink: added MAV_CMD_DO_LAND_START
7636cc6971 GCS_MAVLink: merged upstream changes
1c75ce88f2 AP_Buffer: change pop_front to return a bool if successful
ceef10cc41 AP_Buffer: Add peek_mutable function allowing in-place modification of buffered objects
630a87d9a9 AP_Buffer: remove scalar assignment so that non-scalars can be buffered
834c91b192 PX4: try starting the ll40ls on either I2C bus
cdd2199138 AP_Math: expand frame transformation test case for quaternions
3befe74afa AP_Math: change quaternion class to use const references where optimal
70845882a7 AP_Math: fix up rotation test suite
6076f3fa22 AP_NavEKF: Quaternion::to_euler now uses references instead of pointers
1f7e393e38 AP_Math: refactor quaternion library
baad65bafc Replay: update for new copter ATTITUDE message
ef0eca4835 AP_Airspeed: fixed airspeed in Replay
fce20b24c2 Replay: fixed printf format
7db0244dac AP_Compass: added some comments
9054dd3f9a AP_Compass: use apply_correction_function to eliminate duplication
677f6cce7f AP_Motors: reduce slow-start increment for fast CPUs
a8c96946eb Copter: log DCM reported roll-pitch and yaw error
542ec29e49 Parachute: set servo or relay to off position on every update
a559a12ea2 Copter: remove LOG_FROM_STARTUP define
ebcf582f66 Copter: add NearlyAll-AC315 LOG_BITMASK description
dcf72e9b78 Copter: remove extra in_mavlink_delay from should_log function
c3d839456b Copter: support logging while disarmed
874efe95a1 Copter: fixed parameter path
27b73fa209 Copter: enable Optflow by default for Pixhawk only
6becb1a722 Copter: add DCM check of yaw error
b0e6931ab0 Copter: add DCM_CHECK_THRESH parameter
b96e123480 Copter: remove unused Log_Write_IMU function
7bd8d48809 Copter: fence breach causes disarm if landed
26f7ab49e3 Copter: fixed some build warnings
eed6a1ce61 OptFlow: fix example sketch so it compiles
4e06970a1c Copter: disable OptFlow in SITL
a476a914b0 OptFlow_PX4: check healthy before updating
f504ea7b30 OptFlow_ADNS3080: check healthy before updating
aa3e34a44a Copter: move update_optflow to sensors.pde
d238f48dda OptFlowPX4: fix compile error for APM
67b7b2d667 Copter: enable optflow by default for Pixhawk
7b07b575cf Copter: pilot override used immediately in OF_Loiter
a9cfbb71b8 OptFlowPX4: use ORB to pull data from sensor
28876b7ef6 Copter: log ground distance from optflow sensor
ec4581b35a OptFlow: add ground_distance_m
b2e167f9a5 Copter: Of_Loiter uses sensor velocity instead of integrated position
3201a8dbca Copter: integrate optflow_enable param move to optflow class
717e63f47a Copter: instantiate optflow on Pixhawk
021485fffc Copter: simpler optflow logging
765ce2f6ca Copter: optflow parameters moved to optflow class
4b0548973a OptFlow: add PX4Flow support
3c4be75487 OptFlow: reorganise ADNS3080 to simplified interface
b64f9ed964 OptFlow: rename and restructure OpticalFlow class
4bdd814dcc Build: enable px4flow driver on Pixhawk
4ad643b233 AP_AHRS: use a common function for updating the CD values
eec5cd5add AP_AHRS: restore DCM attitude before update()
63c06ea2af AP_AHRS: fixed calls to DCM in parent class
6e0e56a6ef Replay: fixed loading of users parameters and parameter override
b437977547 AP_Compass: added set_offsets() interface
6690aff305 AC_Motors: param description addition
d09faa0015 BattMon: minor param description additions
45e0e48e54 BattMon: minor param description update
3a81732721 Baro: minor param description updates
57229345e0 Copter: minor param description updates
6a225865ce Copter: accept velocity requests in Auto-Guided mode
c636ea9101 Copter: support SET_POSITION_TARGET messages
992ce9b69c Copter: remove nav_guided structure
6659473420 Copter: support GUIDED_ENABLE and GUIDED_LIMITS
be1621877f Mission: support GUIDED_ENABLE and GUIDED_LIMITS
e5c3c306bd Copter: remove unused pilot_yaw_override flag
8997c224e2 Copter: enable Guided velocity controller for Pixhawk
3c7cc5f40c AP_RangeFinder: auto-update PX4 ll40ls max/min distance
b688577825 autotest: update compiler
4c984d9331 Plane: start preparing for 3.1.2
c5e85956b1 Update CONTRIBUTING.md
c3b695a336 Update CONTRIBUTING.md
dd38ad6bbf Copter: Start logging on arming attempt, rather than on successful arm
67a38be7ce Tracker: update version to 0.2
32d8e5c8d4 Tracker: only run servo updates when safety is off
9d4107f1fc Copter: allow arming in GUIDED only from GCS
2b0cffda29 Copter: move all arm check logic into arm_checks
cc56a972d0 Copter: add mode_allows_arming function
3e1bffe9ab Copter: auto-disarm if land complete regardless of mode
d0d26b6878 Copter: use ap.throttle_zero instead of rc_3.control_in in auto_disarm_check
a04ec79efa Copter: add land_complete to fence disarm check
450f988a21 Copter: remove DRIFT and SPORT from manual_flight_mode function
e8303475e8 AntennaTracker: fix documentation
4a397a8d67 AC_PosControl: Protect from divide-by-zero in get_stopping_point_xy
5f55944e43 Copter: AC3.2-rc12 release notes
d7cd745cf4 Copter: auto-trim start delays auto-disarm by 15sec
023b2c0d6b AP_InertialNav: fixed use of ahrs.get_velocity with EKF disabled
7b02d326f6 AP_InertialNav: fixed use of _ahrs.get_relative_position_NED() with EKF disabled
39fadad7d6 HAL_Linux: fixed build warnings
b3894e8b10 HAL_VRBRAIN: reduce the number of times we split up UART reads and writes
10b0ca7ea8 HAL_PX4: reduce the number of times we split up UART reads and writes
c834589daa HAL_Linux: reduce the number of times we split up UART reads
076bb1294e HAL_Linux: improved UDP packetisation and add flow control reporting
08f8fdfabd Rover: report gyro unhealthy if failed calibration
6d8e760582 Plane: report gyro unhealthy if failed calibration
a8733ae8a8 Copter: support pre-flight calibration of gyro
9a0a83f404 Copter: report gyro unhealthy if failed calibration
128058362b Copter: pre-arm check that gyro cal succeeded
834f2bea07 INS: add gyro_calibrated_ok_all method
70ca87c4e6 AP_RangeFinder: handle all I2C rangefinder types on PX4 in PX4Firmware
49fa887773 Rover: prepare 2.47beta1
cebfef3ead HAL_Linux: don't accept less than 5 input channels
1721216019 Rover: fixed skid steering
8eba55ed67 Copter: throttle zero debounce to separate function
8e3d163c3d Copter: Change all zero throttle checks that should be conservative to use ap.throttle_zero
96f50b7cd7 Copter: add throttle_zero state
fa9d10e59b Copter: log CURR message at 10hz
b0c9e97181 Linux_HAL_Essentials: P8.15 is an input pin
a3fee16604 HAL_Linux: added DSM/Spektrum RCInput support
3e3f87188b HAL_Linux: enable DSM power pin
50e5ae6f7a HAL_Linux: added low level DSM decoder
adf741b959 Frame_params: Updated 3DR_X8-M_RTF.param
2f3f1a1d5e Copter: Rate Pitch IMAX default to 1000
e0caee9500 Linux_HAL_Essentials: rebuilt rcinpru0 with 300 ring buffer entries
9b207d029d HAL_Linux: change ring buffer to 300 entries
994b2597fd Linux_HAL_Essentials: change ring buffer to 300 entries
b1845ed00d HAL_Linux: initial support for parallel SBUS and PPM-SUM decoding
42e9dc3c31 HAL_Linux: added SBUS decoder from PX4 project
5b23f81e2b Frame_params: Updating 3DR_X8-M_RTF.param
5d7ec98d7a Frame_params: Adding 3DR_X8-M_RTF.param
71d786187e Plane: make auto takeoff independent of compass
809b6cc855 AP_AHRS: added get_yaw_rate_earth()
41ce8c2abd Frame_params: 3DR_Iris+ Decreased ATC_RATE_RP_MAX to 18000
be352e9471 AP_GPS: Removed CFG-DAT message from 3DR-Ublox-NEO7
5e91d49736 Tracker: constrain manual pass through
4f5f253656 Tracker: send RADIO_IN msg to GCS
1b7ca684ee Tracker: add read_radio
f4d45c9b6d Tracker: limit yaw to YAW_RANGE
e7e0dd3509 Tracker: remove outdated comments
b6634bb416 Tracker: reorder servo functions
a43a8ccfa0 Tracker: remove servo debug
704a720412 Tracker: move servo init to servos.pde
c69bfa2cb1 Tracker: limit pitch to PITCH_RANGE
f2dab17230 Tracker: add YAW_RANGE and PITCH_RANGE params
1786c36457 Tracker: move nav_status lower in AntennaTracker.pde
b9eaec8e97 Tracker: rename err variable to angle_err
bf4ba9ffc4 Tracker: auto move servos only with valid vehicle position
0d1fefc23d Tracker: vehicle state made global
2155951e63 Tracker: move startup delay to update_tracking call
1135ef3610 Tracker: move servo control to servos.pde file
643a680fed Tracker: move pos estimate to separate function
8e548ddabc Tracker: move auto, manual and scan to separate files
7afd443f57 Tracker: move bearing and dist calcs to separate function
a0e89281ef Tracker: move vehicle pos estimate to separate function
1f91306a3b Tracker: remove unused relative_alt
8fde1aabe9 Tracker: add vehicle struct comments
ac158f15e9 Tracker: check target of manual control msgs
df827fdb8c Tracker: add nav_status comments
e0e534628b HAL_Linux: support direct UDP output from UART drivers
4e27dbdc42 Copter: ReleaseNotes for AC3.2-rc11
1754cacf3c AC_PosControl: remove completed to-do comments
f65e81cb07 AC_AttControl: remove some old comments
793ed20534 CoaxCopter: set throttle upper and lower flags
57f6d0ff60 SingleCopter: set throttle upper and lower flags
85fb4b122a MotorsMatrix: _min_throttle interpreted as 0 ~ 1000 range for throttle_lower flag
91e5201439 Tri: _min_throttle interpreted as 0~1000 range for throttle_lower flag
7367ea04a7 AP_GPS: Adding support for the NEO7 GPS
68a9286086 Copter: use define for pre-arm compass offset check
8aa267f75f AP_NavEKF : Fix bug in reset of GPS glitch offset
b3bbec24e4 RangeFinder: TYPE param description to PX4-I2C
8ce4893180 RangeFinder: TYPE param description to PX4-MaxbotixI2C
7ced9b1bd3 TradHeli: remove overall throttle level from landing check
b17c6d3368 Plane: only report ahrs unhealthy after initialisation
799f559c1d Rover: only report ahrs unhealthy after initialisation
f059af2386 Copter: only report ahrs unhealthy after initialisation
85eee31510 AHRS: rename ekfNotStarted method to initialised
7cea7c6a18 AP_AHRS : add method to report if EKF is waiting to start
b06d3d3f52 Tracker: remove forwarding of pos and pressure to vehicle
111ec147f0 Tracker: GCS_Mavlink format fix-up of indentation
3e62b188a1 Tracker: process mavlink msgs from vehicle once
7a06ed8a8a AntennaTracker: minor comment and format fix
72053a8a74 AntennaTracker: notify armed after receiving vehicle position
dbc1c03d49 Tracker: use handle_set_mode()
9453154b75 Rover: use handle_set_mode()
f2e6fa3fb0 Copter: use handle_set_mode()
c4b17b74e2 Plane: use handle_set_mode()
60aa017e11 GCS_MAVLink: added handle_set_mode() function
a860d91930 Rover: allow GCS to turn safety switch on/off
bab2c17e11 Rover: set sys_status motor outputs bit from safety switch
82225de6fa Plane: allow GCS to turn safety switch on/off
7a6b55368e Plane: set sys_status motor outputs bit from safety switch
7caa611eb1 Compass_HIL: use instance specific orient and external
86aac4f40c Compass_HMC5843: use instance specific orient and external
900896977c Compass_VRBrain: use instance specific orient and external
85e82a0399 Compass_PX4: use instance specific orient and external
023b6afe8b Compass: add ORIENT2 and EXTERNAL2 params
16058cb730 Compass_VRBrain: primary compass based on use_for_yaw
01fa4ba619 Compass_PX4: primary compass based on use_for_yaw
798cc36e64 Compass: use_for_yaw for each compass
84d792216e Compass: use_for_yaw  to use primary compass health
d6c56b8f7a AP_NavEKF: make it clear that all sat counts are covered
a1f5be5b9e AP_NavEKF: simplify variable handling in EKF
8223a0d193 AP_NavEKF : Explicitly initialise gpsNoiseScaler to default value
b61a6c64d7 AP_NavEKF : Reduce weighting on GPS when not enough satellites
7370e07c8d AP_AHRS : Prevent EKF starting if GPS sats less than  AHRS_GPS_MINSATS
f99f5759f5 AP_NavEKF : Fix bug in GPS innovation variance growth calculation
f0ee11e951 AP_NavEKF : Fix bug in reset of position, height and velocity states
e7b4a02d26 GPS: fix SIRF set-binary message
f6cc8ce5bc GCS_MAVLink: fixed log erase and log request end
2dbfc6158d Rover: check target of set-mode request from GCS
6d3acba04c Plane: check target of set-mode request from GCS
47c135c4e1 GCS_MAVLink: add comments around checking target
0322a876eb GCS_MAVLink: check target before erasing log
77e89214eb Copter: shift pos targets to current location before takeoff
dbe1c55666 AC_WPNav: add shift_wp_origin_to_current_pos for takeoff
41d7462eee LogAnalyzer: add POSHOLD to TestPitchRollCoupling
0803d79701 INS: param descriptions for ACC2, GYR2
e14ae0c0b1 Compass: param descriptions for OFS2, MOT2
73e1719ee1 Copter: print frame type in log headers
8aa5c10d53 Copter: remove unused AIRFRAME definition
1a249a8129 Copter: check target of set-mode request from GCS
5ca3c4baf6 Mission: fix CHANGE_ALT to store climb rate in lat param
ef0e37b478 Copter: bugfix to condition-yaw for relative angles
45bc9fd10c Copter: add AC3.2 default to LOG_BITMASK value
0d88b602ec Copter: fix RSSI_RANGE param values
ab46f2d2fe Frame_params: 3DR_Iris+ reduced WP_NAV to 650
7c3e614c19 LogAnalyzer: Add IMU Mismatch check
ed566fa56c Copter: update AC3.2-rc10 release notes
4b01cee330 Plane: send heartbeat to AFS when calibrating sensors
5eee51b5a4 APM_OBC: added heartbeat() method
1fa03a49c9 Plane: disable the CLI if AFS failsafe enabled on APM2
41c576044f Copter: allow passthru for ch 9 ~ 14
c2c5807ec7 Compass: always default devid to zero
d4cfb432ca Copter: use disparity threshold define for pre-arm checks
2b4f5fa79d Copter: increase autotune limits
cf3b2be99c AC_PosControl: 4hz filter on z-axis velocity error
665f353416 AC_PosControl: 2hz filter on accel error
cf35bd3f42 LowPassFilter: add div by zero check
e7753223ba Copter: low battery msg to severity high
193bc5331a Copter: cleanup enabling of cli and frsky telem for APM
d8d1b38a52 Copter: increase Alt Disparity check to 2m
9bbf40109e Copter: add LOG_FROM_STARTUP definition
b2238b7c8a Copter: auto esc calibration
58602bd1ae Copter: move esc calibration to separate file
b57539a9ad AP_Motors: throttle_pass_through accepts pwm
1c11a91ec2 Copter: rename land_maybe_complete function
b9977a1115 Copter: add land_complete_maybe flag
6951a20fb0 Copter: soften loiter target when maybe landed
765420ee04 AC_WPNav: add loiter_soften_for_landing method
b552479e31 Copter: typo fix for baro vs inav alt disparity definition
18e3db0011 Copter: define limit for baro vs inav alt disparity
b4c6d6395e Copter: reset battery_fs after dis/rearming
3f687733e6 Frame_params: added 3DR_AERO_M.param
da66c7df36 Frame_params: 3DR_Aero_RTF.param Changed tuning
ad37fc0408 AC_WPNav: WP_SPEED_DN parameter range to 0~500
6da1420541 HAL_VRBrain: implement force_safety_on
ffcd259b4e HAL_PX4: implement force_safety_on
033b14db16 AP_HAL: add force_safety_on method
2efeb768e0 Copter: allow GCS to turn safety switch on/off
9bcf9a31ed Copter: set sys_status motor outputs bit from safety switch
9f3803052f Copter: add support for DO_PARACHUTE from GCS
adf00a207b Copter: enable EPM by default on Pixhawk
bbe4438a6b Copter: add support for DO_GRIPPER command
1ce8e453c2 Mission: add support for DO_GRIPPER
1de89804e5 GCS_MAVLink: version update after adding DO_GRIPPER
064e214992 GCS_MAVLink: generate after adding DO_GRIPPER
b3bce13bdf GCS_MAVLink: add MAV_CMD_DO_GRIPPER
cffc904671 GCS_MAVLink: version update after generate
6b38547fc2 GCS_MAVLink: generate after move of PARACHUTE_ACTION
868f1a777d GCS_MAVLink: version updates after generate
69fd7b80aa GCS_MAVLink: generate run on master
3fa3cb6d65 Copter: remove EPM neutral from ch7/ch8 switch
d09bbd1d91 EPM: add params for pwm levels add re-grab feature
14d80910ec Copter: integrate EPM ver2
1401ee4077 EPM: add support for ver2, remove support ver 1
79f95efb71 RC_Channel_aux: add epm to servo function enum
f71aeea61d AP_NavEKF : Reduce sensitivity on filter divergence check
36bf304f29 AP_NavEKF : Reduce ripple in estimates that can cause copter motor 'pulsing'
5b72cb7610 AP_NavEKF : Clean up time stamps
4c38f51337 Frame_Parameters: 3DR_Iris+ changed mode switch configuration
8ca4795ffb Copter: Log NTUN while in LAND mode with GPS
345d4353e5 Copter: adjust EKF_CHECK parameter description
d15a5f9dcb Copter: THR_ACCEL_IMAX default to 800
f9f6f39d61 Merge branch 'master' of https://github.com/diydrones/ardupilot
d26173bf81 Frame_params: Updated 3DR Iris+
224122958c Copter: reduce throttle to min once landed in RTL
eac26cdd0f Copter: THR_ACCEL_IMAX param range increased
e555b9a855 Plane: improved WP_RADIUS docs
7b4181dc14 Plane: prepare for 3.1.1 release
a12d9109e0 Copter: remove thr check during init_arm_motors
5720bff29f Copter: AC3.2-rc9 release notes
b69262b054 GCS_MAVLink: rebuild MAVLink headers
25f6dc2549 GCS_MAVLink: mavlink XML updates from upstream
7b0046e75e Tools/autotest/sim_vehicle.sh: Added option to run the sim_vehicle framework with an external simulator
593a97afd6 HAL_VRBRAIN: fixed storage bug in VRBRAIN too
d238ff7c5d HAL_Linux: fixed storage bug in Linux too
74525cad89 HAL_PX4: fixed dirty_mask calculation in FRAM storage
7aad03df28 Plane: minor doc update for fence auto enable
906b3dfbec Copter: AC3.2-rc8 release notes
4c6b0bb1cb Copter: format change to flight mode default defined
6e79ab8478 Frame_params: Added Frsky telemetry to 3DR_Iris+.param
b28b0aa6c1 CHDK-Scripts: Move SX260 file to its own folder
114b83341d CHDK-Scripts : initial commit of the SX260 specific file
6a6aee1d44 CHDK-Scripts: Creating folder for Cannon SX260 files
5fae3638dc Frame_params: Updated 3DR_Iris+
48bc1456d0 Copter: increase Rate PID param ranges
a6db3586f6 Frame_params: Removed Iris with 3 Position Mode Switch.param
752e32f338 CHDK-Scripts : add instructions
f495d6550b CHDK-Scripts : initial commit
f3d1461d7a Plane: improve the short and long failsafe docs
e6b2726738 Frame_params: 3DR_Iris+.parm
ea82caf7a4 Copter: Parameters.pde Corrected typo in parameter description
6ea044cda9 CHDK-Scripts: Preparing to replace the script files
0d7a999fc1 Copter: arming check that throttle is low
294f836c8c Copter: never send unhealthy terrain status
bf18fb896a Copter: send extended status to GCS only after initialisation
2f2665c022 Frame_params: Updated 3DR_Iris+.param
9d846d5f2a DataFlash: allow use of a smaller writebuf for PX4v1
8fcc96bb79 CHDK-Scripts: Adding kap_uav
6ff1aa39ca CHDK-Scripts: adding README.md
f1934c6db2 Initial Commit
21d56735ca Copter: increase EKF_CHECK_THRESH default to 0.8
3e1bd04c94 TradHeli: update AttControl params to match multicopters
df82e0accc Frame_Params: Added 3DR Iris+
9c613cd1ec Copter: reduce alt hold defaults
a57818dfc8 Frame_parameters: Updated Iris with 3 Position Mode Switch
db12df2237 Copter: minor ReleaseNotes format change
d3347e528d AP_Relay: added RELAY_DEFAULT parameter
05233fbf02 Cotper: AC3.2-rc7 release notes
641c8317a5 Copter: pre-arm consistency check of gyros
28f31166b9 Copter: land check gets overall throttle and rotation rate check
05a37dd54d Copter: add short delay to arming to allow RC input
15470bd81b AP_GPS: added GPS_MIN_ELEV parameter
840a4dee1e AP_GPS: added GPS_SBAS_MODE parameter
21e4144b29 Frame_params: Updated Iris with 3 Position Mode Switch
cd50fe82b6 AP_GPS: fixed GPS time in HIL
effccacf46 AP_Mission: fixed acceptance radius outgoing
59404c25e3 Copter: pre-arm consistency check of accels
3a5e960fe5 AP_Mission: revert APM_BUILD_TYPE change
c09c86868f AP_Vehicle: make APM_BUILD_TYPE() valid under arduino IDE
36b854fa98 AP_Mission: fixed build for arduino IDE
bf80a2485f Plane: support acceptance radius for waypoints
c4f84232e2 AP_Mission: make cmd.p1 be radius on plane for NAV_WAYPOINT
9de1ae8fbb Rover: individual accel and gyro status to GCS
c2cdc0468b Plane: individual accel and gyro status to GCS
4a06941a39 Copter: individual accel and gyro status to GCS
d7343d5dc7 Copter: check all gyros and accels in pre-arm check
74553e523d INS: add get_accel_health_all and get_gyro_health_all
50ae5b2519 InertialSensor: reorder .cpp file to match .h
818b3b74f6 Copter: sanity check throttle deadzone
82481f30a3 Copter: move drift thr assist to separate function
102b71cde3 InertialNav: add credit to Tony Lambregts
48d143d4ef Copter: minor format change to release notes
ebfd828087 Copter: update AC3.2-rc6 release notes
d04a4834fa Copter: update AC3.2-rc6 release notes
13f994d3ad Copter: AC3.2-rc6 release notes
958e5e31fc Build: VRBRAIN corrected order of MAG startup for 4.5 board
0e118eb3d0 Build: VRBRAIN corrected order of MAG startup
25d2ec1dea AP_HAL_VRBRAIN: enable 2nd GPS for VRBRAIN 5
7a70c0132d AP_HAL: VRBRAIN corrected EEPROM size and added terrain folder on MicroSD
44f1ef207d VRBRAIN: added startup of internal mag's driver for VR Brain Standard 5
4a5c31fe74 AP_relay: added default relay pin for VRBRAIN
8e42b21bab AP_HAL_VRBRAIN: added management for external relay 1 and 2
07420521ab Copter: default LAND_REPOSITION to 1
0dd9797fe6 Copter: restore CLI set parameter feature
21ed86004a Plane: raise the default WP radius
292517b88b Plane: only override takeoff/land flaps if non-zero
5c96838473 Plane: allow zero throttle in LAND_STAGE_FINAL
a6ca11facf AP_TECS: allow zero throttle in flare for landing
6c1eed0a20 AP_TECS: bring in flare sink rate more slowly
5af4cefff3 Plane: added FLAP_SLEWRATE parameter
f66039c9b4 Plane: added TKOFF_FLAP_PCNT and LAND_FLAP_PERCENT
b94bc0c243 Plane: don't use ground steering until flare in landing
cf98cc29b5 Copter: throttle deadzone parameter
78c12ca9dd autotest: added skid steering support for rover in sim_vehicle.sh
1c6606cc58 AC_WPNav: resolve twitch when passing spline waypoints
e836d1aa2b autotest: added CMAC_South
988662027e Plane: moved LAND_PITCH_CD into TECS
7547cd45f5 AP_TECS: bring the flare height rate demand in slowly
500e20b08d AP_TECS: make TECS aware of LAND_PITCH_CD
fb4ef0b5c6 AP_Vehicle: added land_pitch_cd for fixed wing
46ac52bccc HAL_Linux: removed retry loop on UART open
186806c768 Plane: lowpass the rangefinder correction, not height
d6aa868cac Mission: start next nav cmd immediately after prev completes
24622030b4 Plane: improved landing glide slope
68dd61c7c7 AP_TECS: added TECS_LAND_TCONST
a6ee46086c Plane: allow continued use of rangefinder data for 5s after loss of contact
5da5360dde HAL_SITL: fixed sonar correction for attitude
50f492a69f Plane: added RNGFND_LANDING option
b6319a9d19 Plane: keep an estimate of the rangefinder altitude
d0b6676547 Plane: do landing flare if past landing point
b102c9d19c Plane: use ground steering logic for final stage of auto landing
5f3ac159ba Plane: start working towards 3.1.1
eb51a8e5da Copter: pre-arm check of internal vs ext compass
2b0a7c59bc Copter: remote arming check reference to compass learning
81bd4c0b4c LogAnalyzer: If skipping badlines, ignore parse errors
5cb242f5a4 LogAnalyzer: Report missing parameters as test failures
332ab9bc1b LogAnalyzer: convert tabs to spaces (only) per coding conventions
68be36d4f8 AutoTest: reduce copter throttle when flying square
3d8f1e03e1 Rover: prepare for 2.46 release
e880de67ed Plane: prepare for 3.1.0 release
6e5344bc8d Plane: prepare beta4
6b893a5865 GCS_MAVLink: slow down parameter send a lot with no flow control
63d0cddfa4 Copter: make landing detector more strict
cf0741f6fd Plane: don't do failsafe passthru with no RC input
0f62dbf6ed AP_NavEKF : Clear compass fail on transition between armed and disarmed
e34b0847d7 3dr Berkeley moved - updated coords
1c96bf0b1d AP_Mount.cpp - correct units in description
7649907ec2 Plane: run terrain.update() more often
eeb04ba1b8 AP_Terrain: fetch more terrain data around waypoints
daa32f9b62 Plane: reset steering integrator on mode change and when not moving
e9a9e33280 AP_AHRS: use EKF use_compass() if EKF enabled
5d40ec8014 AP_NavEKF: make use_compass() public
f2f730ba9b Plane: added FBWA_TDRAG_CHAN parameter
65ed77e803 Copter: ensure motors don't stop during flip
e1e010c504 Copter: remove unused flip_stop
4184c1d6e5 Copter: flip minor comments and formatting
882edaf787 Copter: add pitch axis flipping
5a66ff1ef9 AC_AttControl: bug fix for ef target during acro
3e0b573dfe AC_AttControl: remove debug message
a83a47682d Copter: remove get_angle_targets_for_reporting fn
f6e12bda06 AC_AttControlHeli: integrate div-by-zero check for bf-to-ef conversion
c45338f080 AC_AttControl: div-by-zero check for bf-to-ef conversion
87f0cb6168 Rover: remove unused variable
7cda392827 Rover: show firmware version on param list
7618ffde63 Copter: show firmware version on param fetch
024d3b71e7 HAL_Linux: use a semaphore in suspend_timer_procs()
dcdb53584b AP_InertialSensor: use lockless structures in MPU9250 driver
7343de2893 AP_Notify: avoid suspend_timer_procs() by using atomic updates in ToshibaLED_PX4
7d350735df TradHeli: update AttControlHeli constructor
2cd6d986d5 TradHeli: call passthrough_bf_roll_pitch_rate_yaw
691a3d8126 AC_AttControlHeli: add passthrough_bf_roll_pitch_rate_yaw
968f1d64ae Logging: Fix comment error.
a4f710a363 TradHeli: Add yaw-only rate request function for flybar acro mode.
3316fe8f63 TradHeli: Reset flybar passthrough to false when exiting Acro mode.
f5ddaab35b TradHeli: Set Flybar passthrough mode in Acro Initialization function.
7d3e22af59 AC_AttitudeControl_Heli: Add use_flybar_passthrough accessor function.
9b1d9e3cf0 AC_AttitudeControl_Heli: Add passthrough_to_motor_roll_pitch function.
82061bc65d TradHeli: Add pointer for pilot roll/pitch inputs to attitude_control constructor. To be used for flybar passthrough.
5c04af6d20 AC_AttitudeControl_Heli: Create Flybar Passthrough flag which will be used for control pass-through.
0ab3e40e92 Frame Parameters: Updated Mode Switch order
2abb13e480 Git: ignore Build.AntennaTracker
c87283af98 Copter: remove inav check
43e8b36e5b AP_RangeFinder: removed use of hrt_absolute_time()
5c9e5fbc11 AP_InertialSensor: removed use of hrt_absolute_time()
e143acd8bf HAL_VRBRAIN: minimise use of hrt_absolute_time()
48247b6adc HAL_PX4: minimise usage of hrt_absolute_time()
9f6d1f987b AP_Compass: removed use of hrt_absolute_time()
5280d8936d AP_Baro: remove usage of hrt_absolute_time()
a14f8dbd0a AP_InertialSensor_MPU9250: use micros64() and millis64()
071323a736 HAL_VRBRAIN: added millis64() and micros64()
1241da466b HAL_PX4: added millis64() and micros64()
ead82ee581 HAL_Linux: implement millis64() and micros64()
6450c84987 HAL_Empty: added dummy millis64() and micros64()
5a55101703 HAL_SITL: added millis64() and micros64()
7439d34a5d AP_HAL: add millis64() and micros64() on faster boards
d01fa3bfbd AP_Baro: prevent reading the MS5611 too fast
b9dc2335ee HAL_Linux: run timer thread at average 1kHz without drift
3c2ab31415 AP_InertialSensor: get rid of data_ready for MPU9250
a627cd2af2 Copter: run Linux boards at 100Hz for now
9e01c657e5 AP_InertialSensor: update MPU9250 driver for 1kHz operation
532e9aace4 AP_InertialSensor: fixed timer bug in HIL sensors
8f280d212b HAL_Linux: don't use usleep() in suspend_timer_procs()
94e14f5dcb HAL_Linux: split off RCOutput class to be specific to PXF and ERLE
2ce219aeb8 HAL_Linux: split RCInput class into generic and PRU implementations
e629a8d67a Linux: added example startup script for plane
a693907429 Copter: add ACRO_EXPO param values
12239de00d AP_InertialSensor: fix data_ready return for L3GD20
21ff578cb0 HAL_VRBrain: prevent read past end of buffer
0a20d0db60 HAL_PX4: prevent read past end of buffer
b4be93113c HAL_Linux: prevent read past end of buffer
7286e7acd2 AP_InertialSensor: fixed build errors on APM2
15a7f63d7e Plane: set GPS non-blocking
90f306cd3c Copter: set GPS non-blocking
655db3c2d5 AntennaTracker: set GPS non-blocking
06c77c167e Rover: set GPS non-blocking
b40bd479c4 HAL_Linux: moved FRAM vs FS choice into HAL_Linux headers
9fccb5f5ed HAL_Linux: clear more UART flags
79fa22e4ad Plane: use gcs_send_text_fmt() for SCHED_DEBUG timing
c87b0adc29 HAL_Linux: the MS5611 seems to be a bit happier at higher speed
41e65c2415 AP_Compass: fixed default orientation for PXF
50068a7c6a AP_InertialSensor: fixed default orientation for PXF board MPU9250
226b67d357 AP_HAL: make PXf default to MPU9250
6cc304e486 HAL_Linux: RCOutput should default to 50Hz on all boards
9d948d5a26 HAL_Linux: fixed name space collision in RCOutput
721d349922 HAL_Linux: fixed build of BusTest
a4ef512f10 SPIDriver: fixed handling of 0 based SPI bus numbers
5fb2ad0068 HAL_Linux: fixed safety of RCInput code
5e5319e23b AP_InertialSensor: MPU9250 cleaning
ac11d282b5 HAL_Linux: Add support for PPM input to HAL_Linux
5e03df2d9a Tools:HAL_Linux_Essentials: store pin status during pulse instead of status after pulse
210d3e8c32 Tools:HAL_Linux_Essentials:add rcinput test code
d8e36fee41 Tools:HAL_Linux_Essentials: Add PRU side of code for RCinput to run on PRU0
072c39ea6a AP_HAL: Add option to select Storage type AP_HAL_Boards.h
4b2f7cd163 HAL_Linux: Add FRAM HAL driver support for non-volatile storage
04a8377462 Tools: Change sensor configurations easily.
8a71fdf092 HAL_Linux: minor syntax fix in UARTDriver
b6baf78e73 HAL_Linux:duplicate `#include <sys/types<`deleted
7fd0e8345d HAL_Linux: Duplicate `#include <unistd.h>`deleted
37793cd7fa AP_HAL_Namespace: Change LSM9DS0 into two different devices.
df1de4efd6 AP_InertialSensor: Driver added for the LSM303D
8968647873 AP_InertialSensor: INS_generic example, add support L3GD20
0f908a8ccd HAL_Linux: Add L3GD20 to the AP_InertialSensor header
e272ed8d96 AP_HAL: Add support for L3GD20
556d46a4ef AP_InertialSensor: L3GD20 driver added
bfacf08c30 HAL_Linux: LSM9DS0 legacy driver moved to AP_InertialSensor/LSM9DS0/
82186a3961 HAL: Add two new SPI devices
60e501d5ab AP_GPS: moved UBX log headers to DataFlash
2b02fdbbc9 DataFlash: moved UBX logging headers to DataFlash
27a7ea2766 Frame Parameters: 3DR Aero RTF
e578fb1615 Copter: add A-Tail to FRAME parameter description
c672b3e324 Copter: Added support for V-Shaped and A-Shaped VTail Quadcopter frames
162b824424 Copter : Distinguish between EKF and INAV errors
946de4f644 Tools: build antenna tracker binary
ccc8068443 Copter: range check ACRO_EXPO to be no more than 1
fcc5c7c12e Copter: update master firmware ver to AC3.3-dev
cf410f8d12 Plane: prepare for 3.1.0-beta3
1ce3d1d4a4 Plane: update for AFS API change
d8fe4f366d APM_OBC: added AFS_RC_FAIL_MS, AFS_MAX_GPS_LOSS and AFS_MAX_COM_LOSS
9fff67ec89 Plane: update for APM_OBC API change
4e97c98fa1 APM_OBC: removed use of extern function
d130f0c499 Revert "Rover: use rcmap when sending radio_in to GCS"
f490a289de Revert "Copter: use rcmap when sending radio_in to GCS"
c107f1da69 Revert "Plane: use rcmap when sending radio_in to GCS"
de747d215a Revert "GCS_MAVLink: send radio_in using rcmap"
0d62b15292 AP_HAL: added missing CONFIG_HAL_BOARD_SUBTYPE #define for HAL_BOARD_VRBRAIN
3b53c167a0 AP_Compass: VRBRAIN. Deal with external mag connected on internal I2C on VRBRAIN 4.5 This enables user to set the external parameter to true even if only one compass is connected
bbb9925c47 DataFlash: Added four more channels for logging
bebfbd3fbb VRBRAIN: modified target clean
8f3dad0d1c APM_Control: increase available range for roll and pitch
fb867f3a06 Rover: use rcmap when sending radio_in to GCS
716f625924 Copter: use rcmap when sending radio_in to GCS
441f23eed4 Plane: use rcmap when sending radio_in to GCS
0881ccbee0 GCS_MAVLink: send radio_in using rcmap
5b114dcad5 Copter: remove unused WP_OPTION definitions
7202aa00da Copter: remove compass learn of offsets
d6890ce878 Notify: remove ToshibaLED support from APM
b0d26d9ace * Frame Parameters: 3DR AERO RTF
b38c9544f9 AP_RangeFinder: make values clearer for APM2
926d57698d Frame Parameters: 3DR AERO RTF
e66243f72e autotest: add AntennaTracker autodoc to autotest.diydrones.com/Parameters
565e897336 AntennaTracker: fixed autodoc format errors
515cb7c671 Copter: AC3.2-rc5 version and release notes
0c4ee422a4 Rally: fix comment to clarify altitudes are absolute
0a88281a76 Copter: bug fix to rally point alt
8925c61ae4 Tools: build antenna tracker for firmware.diydrones.com
a0468db064 AutoTest: update sim_vehicle for antenna move
6195b2b0c8 Antenna: update makefile for new location
db9750ee7a Tools: update build script for Antenna move
eb4eca8550 Antenna: move up one directory
6fc5014a84 Copter: increase sonar timeout to 1sec
fd5dee96e4 BaroGlitch: check baro health after alt calculation
424a65663a Baro: init members to resolve compiler warning
7d7272520e Plane: use baro healthy()
7686660c73 Copter: use baro healthy()
53b073148b BaroGlitch: use baro healthy()
280db8725a Arming: use baro healthy() function
78b1bf8282 Baro: example sketch to use healthy() function
76634ee8c3 Baro_PX4: use healthy flag
d29fe51cb3 Baro_VRBrain: use healthy flag
24db492131 Baro_MS5611: use healthy flag
72f6985bd8 Baro_HIL: use healthy flag
fdb38dec5f Baro_BMP085: use healthy flag
330d883f97 Baro: add altitude sanity check
e9fbea9497 Baro: make get_altitude_difference const
b619c3956c Plane: report baro health to GCS
1e374ab42b Copter: report baro health to GCS
caeb2c4d0d autotest: raise timeout to 7000 seconds
df3c565cd8 AP_L1_Control: prevent another NaN in L1
85213dccbf Copter: Autotune Fix
f3fd79597f Copter: add ACRO_EXPO parameter
58257e3858 AC_AttControl: set rate D term filter from ins filter
51f40fe3d6 INS: add accessor for mpu6k filter
329118b7c9 Copter: AC_ATT correct yaw error calculation
90dc9411a5 Copter: ACRO Error calculation fix
3ba1c0c4aa Copter: ACRO add expo
ad5fd361f0 Git: ignore terrain data files
46369badb3 ServoRelayEvents: init members to resolve compiler warning
d026749f1b Notify: add break to resolve compiler warning
039f4740ce Mount: correct comment on set_mode_to_default time
5614e42063 Mount: init members to resolve compiler warnings
9b9f6cd47a AC_MotorsHeli: init member to resolve compiler warning
0e7cbd28c8 INS_HIL: init members to resolve compiler warnings
534922adc3 GPSGlitch: init members to resolve compiler warnings
a6de3283b6 AHRS_DCM: init members to resolve compiler warnings
3fd2b3b4a1 AC_WPNav: init members to resolve compiler warnings
af28b74944 Baro_BMP085: init members to resolve compiler warnings
adb9d462aa GCS_MAVLink: regenerated MAVLink headers
f9d5715754 GCS_MAVLink: merged latest upstream common.xml
3357df9529 AP_Mission: fixed example sketch
da7f871e34 Plane: prevent set_target_altitude_proportion() past dest waypoint
c06067c71b Plane: fixed non-terrain landing
e1a13edf3d RC_Channel: fixed example build
184420355d PID: fixed example build
b16d84023e Filter: fixed example build
5025f04cb1 AP_OpticalFlow: fixed example build
c76c3457fd AP_Menu: fixed example build
184c4c8ac5 AP_Math: fixed example build
8e15b4db0d HAL_Empty: fixed example build
928024854e HAL_AVR: fixed example build
b61ecb47af AP_HAL: fixed example build
2502ca3ec7 AP_Declination: fixed example build
c49981c03d AP_Compass: fixed example build
1c94b39d6e AP_ADC: fixed example build
83dc9bf5b3 AC_PID: fixed example build
ea26f15e5e GCS_Console: fixed example build
6c19f23ace DataFlash: fixed example build
8540174854 AP_Rangefinder: fixed example build
e43cac1b26 AP_Notify: fixed example build
fddf895d66 AP_Mount: fixed example build
2e83555892 AP_Motors: fixed example build
ce193f5c5c AP_Mission: fixed example build
917c9f7865 AP_Math: fixed example build
24251a7e12 AP_InertialSensor: fixed example build
f0f25eb1d7 AP_InertialNav: fixed example build
41f7ad42d4 HAL_PX4: fixed example build
baa5aeea81 HAL_FLYMAPLE: fixed example build
4bb72f8d85 HAL_AVR: fixed example build
5cca163b1f AP_HAL: fixed example build
b08b76b8ff AP_GPS: fixed example build
40709f655e AP_BattMonitor: fixed example build
a400cbc922 AP_Baro: fixed example build
f6f51ceebe AP_Airspeed: fixed example build
0f5b65e40e AP_AHRS: fixed example build
759a55d633 AC_WPNav: fixed example build
e2b813480f AC_Sprayer: fixed example build
f721e020f5 AC_Fence: fixed example build
a9153519dc AC_AttitudeControl: fixed example build
dad95648a0 Plane: split landing code into landing.pde
7def71d43a Plane: improved landing approach and flare
2297c6bcd2 AP_TECS: added TECS_LAND_SINK parameter
165993dbf5 Plane: allow steering right through the landing
1f7305f516 autotest: support starting with HIL for plane
52cdd6394f StorageManager: cope with a wider range of storage sizes
c864f3eed5 HAL_PX4: enable full storage size on PX4
148dfbd180 build: fixed flymaple build
e34463a4bb AP_HAL: flymaple build fix
a70b195a4a SITL: fixed limits on storage
984064f3d3 AP_InertialSensor: fixed example build
ea889e2e00 Replay: fixed build
2918b04f17 CPUInfo: fixed build
d40d0f6aec AP_HAL: removed old storage type read/write functions
65614da10b VARTest: convert to using StorageManager
c150338e53 Rover: convert to using StorageManager
e260f1c569 Copter: convert to using StorageManager
ce9b14f0c8 Plane: convert to using StorageManager
cbcb5ec0a9 AntennaTracker: convert to using StorageManager
2d9e9879a2 AP_Limits: convert to using StorageManager
7a12ff0271 AP_Mission: convert to using StorageManager
7cbb326405 AP_Rally: convert to using StorageManager
f133f45c3c AP_Param: convert to using StorageManager
f748e07ecf AP_HAL: ensure we have subtypes for all boards
3640ae9cdf SITL: allow for different storage sizes
1a007dfcc0 build: added subtypes for all boards
e53c872e1f StorageManager: added example sketch
66a21c4c33 StorageManager: first version of storage management library
c42cc12f23 AP_Notify: Add dummy LED configuration for Navio
34da221c3d AP_InertialSensor: Use MPU9250 DRDY pin only on boards that support it
a09fbb4171 HAL_Linux: Add SPI configuration for Navio
83bbee491c AP_Baro_MS5611: add address switch for Navio board
784533e9c8 AP_HAL: add configuration for HAL_BOARD_SUBTYPE_LINUX_NAVIO
2899e44c0c build: add navio build target
e5c8a0af77 build: add Raspberry Pi toolchain
dfc9470e01 SITL: added missing parameters to sim_multicopter.py call
bc95e746ce GCS_MAVLink: fixed example sketch builds
778b5e8a16 AP_PerfMon: removed unusued commented code
47655ee78e DataFlash: removed more unusued BufferRead functions
74460cd526 DataFlash: Delete unused BufferRead function
dd705e3fdb AP_Param: signed/unsigned conversion
1c7e8f8fb2 AP_Mission: Consecutive return, break, continue, goto or throw statements are unnecessary.
c97b460a6b AP_GPS: removed wrong reassignment of msec
df075b8f63 AP_PerfMon: removed unused blocking_writes
b1a9d6bbcc AP_Math: Using const references in matrix3
b559e9d331 SITL: better rangefinder simulation
ef98eba722 SITL: added SIM_SONAR_SCALE parameter
5bf69d4ab3 VARTest: fixed build
72d35e8da4 CPUInfo: fixed build
35b0692fd5 Replay: fixed build
817164914e Plane: added airspeed simulation in HIL
a4cd9c4bd7 AP_Airspeed: added HIL support
e6f5a31944 Plane: prepare for 3.1.0-beta2
b296508da4 AP_GPS: make setHIL take const references
0d7d6e1d2a Plane: zero loc structure in HIL_STATE handling
bf0ce79176 SITL: make it possible to use SITL-HIL
f8ceccce32 AP_InertialSensor: improved HIL timing consistancy
56f7d9285f autotest: added -N option to sim_vehicle.sh
2e5913df93 RC_Channel: fixed k_manual for set_servo_limit()
d1a75874a1 HAL_PX4: don't report power status change if in first 5 seconds
5e997b20f6 Plane: move battery init to after parameter load
74fc7fbea5 Plane: added 2nd battery monitoring support
9a1bac06d4 GCS_MAVLink: added send_battery2()
ab6302540d AP_BattMonitor: added 2nd battery voltage monitoring
11025c8da9 GCS_MAVLink: rebuild MAVLink headers
67e1b66757 GCS_MAVLink: added battery2 message
4723ed5e6e Copter: rename EKF check's error message to dataflash
5d4e019397 BaroGlitch: increase max accel to 15m/s/s
af7e5a75e9 Copter: correct EKF_CHECK parameter description
0518439841 Copter: move relay from ch6 to ch7/ch8
3ee3a71644 AP_NavEKF: prevent a possible numerical error on startup
e22ab50b16 Plane: fixed build warning
144dcb4552 APM_OBC: use send_statustext_all()
f49258eb31 GCS_MAVLink: added send_statustext_all() method
1d4d848300 AP_InertialSensor: fixed a build warning
4f57467aa5 Plane: build AFS (formerly known as OBC) failsafe on Pixhawk
a812bf621f APM_OBC: added AFS_ENABLE parameter
226e42f1d7 Copter: rename EKF_CHECK_THRESH parameter
bc3c85be20 AP_L1_Control : Fix potential divide by zero error
2b89d728f3 Plane: rename to 3.1.0-beta1
d44425449d Plane: started on 3.1.0 release notes
bfe7c47aea Plane: prepare new beta
b414ca930d Plane: fixed servo demo on startup
ed6ab5f1d3 AP_InertialSensor: use bool for blocking_read()
b4c0e1215b AP_InertialSensor: Use return value of blocking_read to handle calibration timeouts
786661ca2b GCS_MAVLink: better handling of high severity STATUSTEXT messages
3b62592b26 ArduPlane: attempt to send GCS a message when the GCS heartbeat is not detected.
50f9b4d4bb LogAnalyzer: added help text for --format option
097a3b23e6 LogAnalyzer: Fix handling of the -f format option (bin, log, auto)
86baccffbd common.py: Removed timeout reset in wait_altitude
75f9b8853d GCS_Mavlink.pde: Fix for a possible segfault after passing ARSPD_FBW_MIN
ae4814a773 AP_AHRS_DCM.cpp: changed the direction of position projection to ensure correct behavious in crosswind
4dfafcf7ba build: removed hil from frames list
bc560b466e GCS_MAVLink: regenerate MAVLink headers
5ed24557b3 GCS_MAVLink: import latest MAVLink XML
dd93c6e0ca autotest_jenkins.py: Fixed spelling of prerequisites
23dc2db036 autotest.py: changed 'prerequesites' to correct spelling
8ac9c11055 build: allow "make px4-v2-hil-upload"
af4dee39d8 AP_Terrain: added note on CPU cost of height_amsl()
9184e47f84 Plane: added TERRAIN_LOOKAHD parameter
dc72dfb70a AP_Terrain: added terrain lookahead API
b92873cab1 AP_Math: prevent negative longitude scaling
7752196628 AP_SpdHgtControl: added get_max_climbrate()
c990714377 AP_TECS: added get_max_climbrate()
b89988b2df Replay: fixed build
f0f46a77d7 AP_Terrain: don't request data at 0/0
642a07b6bd AP_Terrain: enable the terrain database by default
efa1d370fa AP_Terrain: added missing TerrainMission.cpp
23fb34c96d AntennaTracker: fixed build
7b8287793c CPUInfo: fixed build
88bc1fb4d3 AP_Rally: fixed build for non-standard vehicle types
d6ee11db6e VARTest: fixed build
0588d88435 Rover: fixed build
903b149bcd Plane: fixed typo in description
4d284a695d Copter: fix for changed AP_Terrain API
781abc7593 Plane: fix for changed AP_Terrain API
a701fa2098 AP_Terrain: added automatic rally point checking
723aa7e336 AP_Rally: added last_change_time_ms() call
7da939047f AP_Terrain: added automatic waypoint checking
df55ae86c4 AP_Mission: added last_change_time_ms() call
448b3f60e0 Plane: use dataflash logging for terrain
9ca65602c6 AP_Terrain: added dataflash logging
cd8fca40fb DataFlash: added TERR log message for terrain data
2a288824c0 Plane: make STAB_PITCH_DOWN in degrees
7c4d31c481 AP_TECS: added TECS_PITCH_MAX and TECS_PITCH_MIN
781c5bc5dd Plane: use terrain extrapolation
147a7b8b69 AP_Terrain: added extrapolation based on last available data
e5f89baab0 Copter: increase RATE IMAX param desc ranges
013b1333b1 Copter: Add guided_takeoff_start and guided_takeoff_run functions
e8b0c7a7e7 Copter: Handle MAV_CMD_NAV_TAKEOFF command to takeoff in guided mode only
3832c46998 Copter: Add takeoff enum for guided_mode
e0fc2dd50e AC_PosControl: remove 20cm on takeoff
a404404806 AP_RangeFinder: Added a call to sonar.update in RFIND_test
610e747f27 Copter: minor formatting fix
1362bdc338 AC_PosControl: smooth take-off with accel PID's I term
5596001d39 AC_Motors: make get_throttle_out const
d54bb68270 Plane: prevent cross-track on some WP types
09a679368b Plane: use bitfields in auto_state
16f1c6867f Plane: remved int cast
28facc220d Plane: change threshold for no glide slope to 20m
8610d9a8ea Plane: added GLIDE_SLOPE_MIN parameter
9536124300 Plane: more accurate altitude tracking close to waypoints
f983040401 Plane: more fixes for glide slope calculations
52a3dc2bde Copter: reset target alt to current alt when landed
e550c1e9a3 AC_PosControl: add set_alt_target_to_current_alt method
279aff87f2 Copter: bug fix to land-detector
c7ba44db2d Copter: increase ekf check threshold for inav
009f42b2e1 InertialNav: do not reset velocity after glitch clears
7b9fa1ea79 Copter: rate IMAX increase to 1000
b8f98aba8f Copter: fix baro glitch resolved message in dataflash
06c3a0e96c autotest: fixed tracker sim for non-onoff mode
671708d11d AntennaTracker: added YAW_TRIM and PITCH_TRIM
02e173b094 AntennaTracker: do an initial pressure calibration on startup
b64ab07ca4 Plane: added STAB_PITCH_DN_CD parameter
6ebff35fe2 AP_Baro: don't include I2C MS5611 on APM1 either
b29f8968ce Copter: clarify EKF check msg to GCS
fe24721218 BaroGlitch: increase default ok distance to 5m
f12d06d76b DataFlash: typo fix in ListAvailableLogs
538372c02c InertialNav: remove accessor to set time_constants
8a07701d07 Copter: remove ch6 tuning of INAV_TC
d386ac6f85 Copter: remove unused local var from Flip
e17da607b1 Copter: remove empty Telemetry.pde
4e2683421c Copter: disable parachute and rally on APM1
3e6e776360 Copter: of-loiter unavailable if OPTFLOW not enabled
004eb168fb Copter: remove unused var from ekf check
81230ab518 Copter: disable dump_log when no APM2
3fa30f91db DataFlash: avoid CLI functions on APM2 for copter
a49d133d2a Copter: disable Log_Read if no CLI
c68d4fdfcb BaroGlitch: init members to resolve compiler warning
7a2288523e Copter: version and release notes for AC3.2-rc4
621cc2b953 Mission: bug fix to condition-change-alt
24b481ac0d build: fixed dependency on frame type in make target
2c0699c9ed Copter: auto-disarm in Drift, Sport, OF_Loiter
b52f8351e8 Copter: rename EKFCHECK_COMPASS to EKFCHECK_THRESH
d9bb3965ac Copter: prevent false triggering of ekf_check
d5442fe64e AP_NavEKF : Modified compass fail logic
85b4ba6142 Copter: Thr and Batt failsafe disarm when landed
77d5b2171e Copter: rename control_modes.pde to switches.pde
cc735a4200 AP_InertialSensor: some more debug info for VibTest
b09568ffb5 Copter: use hal.rcout to send servo output to GCS
fcbdcb520a Plane: rename enum for Telem2Protocol
3ccac6736d Copter: rename TELEM2_PROTOCOL to SERIAL2_PROTOCOL
30b9c60938 Rover: rename Tele2Protocol to Serial2Protocol
7d152cbbf2 Frame_params: Added Iris with 3 Positon Mode Switch.param
57253fc2ee Rover: Add SERIAL2_PROTOCOL for GCS and FRSky telemtry
874ef65d74 Plane: Add SERIAL2_PROTOCOL for GCS and FRSky telemtry
147e91877e Copter: Add SERIAL2_PROTOCOL for GCS and FRsky telemtry
c7cd1c9fde AP_Frsky_Telem: added initial Frsky telemetry library
728da12441 BaroGlitch: remove debug
c538cc0665 AP_Baro: fixed example build
61506c52dc Replay: fix example sketch
03dc27147e AP_Math: port examples to Linux
91ec4e56d5 Copter: fixed ESC calibration on Pixhawk
053a45e9cf AC_WPNav: fix example sketch
6a6482fb03 AC_Sprayer: fix example sketch
71df1eb94f AC_Fence: fix example sketch
424cb1aeca AC_AttControl: fix example sketch
2951fb50e9 InertialNav: fix example sketch
c9667131dd Copter: log flight mode after arming
55f679b54b BaroGlitch: shorten param prefix to BAROGLTCH_
4d6588a479 Notify: APM2 buzzer for arming, ekf and baro failures
dcc74be4aa Notify: baro warning tone alarm
cd9e786935 Notify: RGB led flashes yellow-purple for baro warning
5f1f619829 HAL_AVR_SITL: integrate ACC_BIAS and BARO_GLITCH
79291f25a0 SITL: add ACC_BIAS and BARO_GLITCH parameters
7cc1501dc6 Copter: integrate baro glitch protection
4db4471f49 INav_EKF: accept baro_glitch in constructor
322f527c4f InertialNav: skip baro updates when glitching
ee6d4d570a Notify: add baro_glitch flag
2289b98d34 Baro_Glitch: initial version of baro glitch protection
bea5c8ae0c Rover: change default throttle slew rate to 100
2ebdfce4ea GCS_MAVLink: avoid integer underflow in mavlink txspace check
f7b01a6f3f AP_InertialSensor: avoid integer underflow in mavlink txspace check
1aeac23f46 AntennaTracker: avoid integer underflow in mavlink txspace check
b82457eaa6 FollowMe: avoid integer underflow in mavlink txspace check
b36e4b4122 Copter: avoid integer underflow in mavlink txspace check
7810314f7c Rover: avoid integer underflow in mavlink txspace check
a60590d1fe autotest: use run_in_terminal.sh for HIL
a21998aece GCS_MAVLink: prevent integer underflow with comm_get_txspace()
fe3c51d516 Plane: prevent integer underflow with comm_get_txspace()
df4bc3d617 Copter:  pass motor_mask to ServoRelayEvents
b665ebd7a0 MotorsMatrix: implement get_motor_mask
d73605ece8 MotorsCoax: implement get_motor_mask
72c3e9cc72 TradHeli: implement get_motor_mask
6d99524e56 MotorsSingle: implement get_motor_mask
6ae855c1cf MotorsTri: implement get_motor_mask
7749bfe82c Motors: add get_motor_mask method
1ea1d9983d build: don't build examples for apm1 any more
95b62512f8 AntennaTracker: fixed build
9c69e736f1 CPUInfo: fixed build
b4a441620f AP_Notify: fixed example build
a6db247f82 GCS_Console: fixed example build
e67c468e2d DataFlash: fixed example build
7bf72d1c2b AP_RangeFinder: fixed example build
f2c636250b AP_Notify: fixed example build
6ea68b318e AP_Mount: fixed example build
d9f20c6785 AP_Motors: fixed example build
50f67dd57d AP_Mission: fixed example build
c1650eed7a AP_InertialNav: fixed example build
db1479b46b AP_GPS: fixed example build
93f2d81ff4 AP_BattMonitor: fixed example build
c1646fec73 AP_Airspeed: fixed example build
82d0666501 AP_AHRS: fixed example build
7f7a0db2d3 AC_WPNav: fixed example build
f75318ee0a AC_Sprayer: fixed example build
2b3becd252 AC_Fence: fixed example build
6df2890fd8 AC_AttitudeControl: fixed example build
662276597a AP_InertialSensor: fixed example build
02dec5634f AP_HAL: fixed example builds
aa5940c378 AP_Math: fixed example build
0b6c5a6505 VARTest: fixed build
2ddfaa60b9 Replay: fixed build
0f7e78e418 Airspeed: fixed example to setup pin
ffd6fa1366 GCS_MAVLink: ignore alignment warnings in MAVLink headers
6b619562b5 Tools: Remove unrequired pru0 pin setups from BB-PXF-01-00A0 overlay
fdf916025a Tools: add unified device tree overlay to load all requisites
c9be610dca Plane: fixed sense of altitude test for glide slope
71132058b4 Rover: need AP_Terrain.h for AP_Mission
71cbcacf50 Copter: fix arming tone to sound before arming
46e5fa2c0b Notify: APM2 arming buzzer to long tone
37b357f282 AP_Terrain: prevent valgrind error when terrain not available
bb31a45596 AP_Terrain: expand parameter docs
8904cd105c Plane: fixed auto-doc prefix for TERRAIN
cda78aa2c3 Copter: fixed auto-doc prefix for TERRAIN
e578044661 GCS_MAVLink: added missing generated MAVLink headers
63cea04d9e Plane: improved TERRAIN_FOLLOW docs
ab9785d3ad AP_Terrain: added current_height to TERRAIN_REPORT
383070b9c0 AP_NavEKF: ensure get_position() fills in flags
6a275372dd AP_AHRS: ensure get_position() fills in flags
8a838e6b3d GCS_MAVLink: regenerate headers
4e39f97d7a GCS_MAVLink: merged with upstream
077177384d Plane: fixed guided alt without terrain bit
c4047f6f11 AP_Terrain: rename find_grid() to find_grid_cache()
1fcf35333f AP_Terrain: fixed init order and init more vars
679b32b76c AP_Terrain: make parameter variables private
9d6b745556 Plane: fixed terrain glide slope
34cbaa6f17 AP_Mission: added support for MAV_FRAME_GLOBAL_TERRAIN_ALT
88b73492c2 Plane: fixed APM2 build
8e65e5bff0 Copter: replace HAVE_AP_TERRAIN with AP_TERRAIN_AVAILABLE
b158b7e5a9 Plane: replace HAVE_AP_TERRAIN with AP_TERRAIN_AVAILABLE
3faafc9644 AP_Terrain: replace HAVE_AP_TERRAIN with AP_TERRAIN_AVAILABLE
ce60bf8d3f AP_Terrain: removed incorrect ASSERT
7bc6561f2a AP_Terrain: fixed comment on function
b8b235c33c GCS_MAVLink: regenerate MAVLink headers
8d04deff6a Copter: added terrain status reporting
07583a0604 Plane: added terrain status reporting
c32595e6ed AP_Terrain: added status() interface for reporting
49c28b747f Plane: fixed glide slope for terrain following
3e320d71ab Plane: added TERRAIN_FOLLOW parameter
e2e41d5da7 AP_Terrain: added location_to_relative_home() function
8a48f06d18 AP_Common: added terrain_alt flag to Location
5e2077185b AP_Terrain: fixed cm conversion error
18974363d5 AP_Terrain: added some helper functions
d18c00d6fc Plane: split up altitude handling
8ea2133c4b AP_Terrain: provide more height_*() convenience functions
db506b76fa AP_Terrain: split up code into separate cpp files
6b53f473d9 GCS_MAVLink: added a new TERRAIN_ALT frame type for missions
2d9637c156 AP_Terrain: re-arrange disk IO code
ee04c7de96 AP_Terrain: hold home location as a special location
0a3aa23619 AP_Terrain: fixed build on APM2
2f0279659a AP_Terrain: prevent disk blocks getting stuck
28d6e39c4c AP_Terrain: added checking of block CRCs on disk
0562907d9f Copter: added AP_Terrain library
43b2e34242 Plane: fixed txsize check for airspeed info
6f538aa556 Plane: handle TERRAIN_CHECK requests
a458f1bf5f AP_Baro: minor improvements to Baro HIL code health check
0df2dd9092 GCS_MAVLink: added TERRAIN_CHECK and TERRAIN_REPORT messages
eeb4ad56bc AP_Terrain: added checking and reporting messages
9f76f0276f AP_Terrain: added disk IO for terrain data
63b5811a7c AP_HAL: added HAL_BOARD_TERRAIN_DIRECTORY
09214680fe AP_Terrain: request grids around current grid
18e09c2f3e AP_Terrain: added debug code
32bfeed169 Plane: incorporate terrain mavlink calls
09518d2d91 AP_Terrain: added mavlink transport of terrain data
e23ee34d95 GCS_MAVLink: added MSG_TERRAIN
1ecd4b7fb2 GCS_MAVLink: updated terrain messages
3020d91dcd GCS_MAVLink: keep a bitmap of what mavlink channels are active
1d42eda4da AP_Terrain: started on update() logic
a7eb2ac28c AP_Terrain: implement height_amsl()
e725b2c77e Plane: added terrain object
f26bbb6ddb GCS_MAVLink: added terrain mavlink messages
ee7fc984f0 AP_Terrain: initial structure
8ef9aa0300 GCS_MAVLink: rebuild MAVLink headers
3d2460bd42 XML: resolved conflicts in MAV_CMD_ enum
e9fedbdb79 Copter: removed use of removed MAV_CMD_NAV_ commands
feaf9751cc AP_Mission: removed use of MAV_CMD_NAV_VELOCITY and MAV_CMD_NAV_GUIDED
0f24c43b0c GCS_MAVLink: merged latest changes from upstream
2c86f5df94 AP_RangeFinder: Updated RFIND_test example to not use Auto and added more device details
8ea64e62f8 VARTest: Removed CONFIG_SONAR_SOURCE and SONAR_SOURCE_ANALOG_PIN since no longer used
dc67058771 ArduCopter: Removed CONFIG_SONAR_SOURCE, SONAR_SOURCE_ADC, and SONAR_SOURCE_ANALOG_PIN since no longer used
06fa2e3f60 ArduCopter test: Renamed the test from sonar to rangefinder and added info on all devices
a1861125e6 AP_RangeFinder_PulsedLightLRF: Modified to do a 2 byte transfer for the distance read
b08e3d0ee4 AP_RangeFinder_PX4: Added the destructor to close the file descriptor
1083a89b0f Ardurover2 Parameters: Changed the SONAR prefix to RNGFND and renamed the previous SONAR_ parameters
2373b291f4 ArduPlane Parameters: Changed the SONAR prefix to RNGFND
1354cd7120 ArduCopter Parameters: Changed the SONAR prefix to RNGFND, renamed SONAR_GAIN, and CH6-8 value descriptions
54d0db863b AP_RangeFinder: Changed sonar to rangefinder in the parameter descriptions
8c6718fe2d AP_RangeFinder: Removed the use of type Auto
13563f4344 Copter: added Sonar Voltage reporting to GCS mavlink
1092447360 AP_Compass_VRBrain: add support for two compasses
4deafffb3e AP_Compass: VRBRAIN corrected function definition
a83509f6a3 Plane: fixed compass logging for COMPASS_PRIMARY != 0
75e8157b4e AntennaTracker: support on/off servos
8ea098ad21 autotest: support antenna trackers with on/off servos in SITL
e9861de2ac Copter: fix to drift's yaw rate
f24960f4c0 AP_Notify: add EKF failure warning
7bda6cbadf Copter: integrate EKF check
a4a4334b13 Copter: add EKFCHECK_COMPASS parameter
65bc498d4e Copter: add ekf check of compass
eb696e247b Copter: CLI report_compass prints results for all compasses
3c702e5fc5 Copter: compass mot configures all compasses
a6c29ba1c3 Compass_PX4: get_primary made public
c16672a529 Compass_VRBrain: get_primary made public
d291594d7c Compass: get_primary method made public
1f579563e6 Compass: set_motor_compensation takes instance as first parameter
af28270669 Copter: bug fix for throttle failsafe
c45f1961f6 AP_RangeFinder: removed old test code
fe92ef5c32 AP_RangeFinder: added an example program
3474da6c97 AP_Param: added a method for example programs to set parameters in objects
0dcd0e600b Tools: remove unused Linux device tree files
4e7e69bafb Tools: added dtbo for PXF cape
183795df02 Tools: fixed DTS Makefile
79f453dfd3 AP_InertialSensor: use LSM9DSO_AM device
03e8e5f2b9 HAL_Linux: setup for all 6 SPI devices for PXF cape
9b23921626 AP_HAL: added LSM9DSO_G SPI device
ad532b89bd Tools: new dts file for SPI on PXF cape
05f5d91709 HAL_Linux: fixed BusTest build
6848746219 Tools: rename a file with a space in it
9202149fb1 Copter: integrate pre-takeoff throttle feedback
11678ba936 Copter: remain landed until throttle output above 25 percent
edd7334544 Copter: add pre_takeoff throttle feedback
517732a34d AP_Motors: add get_throttle_out accessor
c2f8571f37 AC_AttControl: FF and accel limiting off by default
e339149044 Copter: update AC3.2-rc3 ReleaseNotes yet again
73fcfbd174 Copter: add no-break to case to resolve compiler warning
eb762bc890 Copter: update AC3.2-rc3 Release Notes
df28db1361 Copter: minor formatting update
07d43534c1 Copter: Change Radio Failsafe Timeout
3c9c943b67 Copter: Change Radio Failsafe Timeout
e85c9f078d Copter: Change Radio Failsafe Timeout
eebd32f306 AC_AttControl: remove duplicate rate_ef_desired to resolve compiler warning
34984cc2d1 Copter: update AC3.2-rc3 Release Notes
0a46afa6c4 AC_PID: init members to reduce compiler warnings
fb55658c91 Copter: Acro use same error limit in all three axis
2889f5abc4 AC_AttControl: Fix feedforward behavior
581838b271 AC_AttControl: initialise _acro_angle_switch
6baedbda1d AP_InertialSensor: add empty virtual destructor
d23b685023 AP_AHRS: add empty virtual destructor
83a84c7b90 AC_AttControl: add empty virtual destructor
fc34a2fed1 Copter: updated AttitudeControl ctor call to reflect changes
6e66cf43cb AC_AttitudeControl: Use bias-corrected angular rates instead of raw gyro measurements
a09f7b9198 AP_InertialSensor_MPU6k: init members to reduce compiler warnings
c5a03ea18e AP_InertialSensor: init members to reduce compiler warnings
d530fe1806 Camera: remove unused reference to hal
4cf7f01694 AP_Airspeed: init members to reduce compiler warnings
4c76c77239 AP_Airspeed: use 'no break' to resolve compiler warning re switch
10588d6d36 AC_Sprayer: append f to floating point constants
b6ef3dc5d7 Copter: add parenthesis around ntun log bitmask
6f60ce3d6e Inav_EKF: init member and remove hal reference to reduce compiler warnings
e27ff75a71 AP_InertialNav: remove virtual qualifier from error_count
0c0521a555 AC_Fence: append f to floating point constants
9e2cd93b2d AP_InertialNav: init members to reduce compiler warnings
1e888e5c34 AP_InertialNav: append f to floating point constants
70568225a6 AC_PosControl: init members to resolve compiler warnings
9233bbab14 AC_PosControl: cast fabs to float to resolve compiler warnings
52d5109a6c AC_Circle: initialise members to reduce compiler warnings
76507a9e67 AC_AttControlHeli: remove hal declaration to clear compiler warning
5128991a84 AC_AttControlHeli: cast fabs to float to resolve compiler warning
1f2e38ed28 AHRS: initalise members to reduce compiler warnings
0f7178e447 AC_AttControl: cast fabs to float to resolve compiler warning
241c147e2a Git: ignore Thumbs.db
47801a6c4d Compass: bug fix to init of device id
b6d361a3f7 build: VRBRAIN changed start of new drivers of sensors
f1b99036e2 build: VRBRAIN added new module for rotation of sensors
85fc72c57c AP_InertialSensor: VRBRAIN added 3th inertial sensor
dd1cab3ab8 HAL_VRBRAIN: updated analog drivers and scheduler driver to latest official version
9e921719ca HAL_Linux: added bus scanning test
bcc8768358 HAL_Linux: fixed a build warning
1b85b12738 HAL_Linux: made I2C driver more portable
485726258b autotest: Add code to detect if a hard link is not allowed (for VM's).
e06b3f3ff6 Travis-CI: add vrubrain-v51 target (Copter)
ef3b503448 tools: Adding support for Travis-CI
ff11b13f9c tools: In install-prereqs-ubuntu.sh add support for relative paths
b76b090acd tools: Make install-prereqs-ubuntu.sh work with newer versions of Ubuntu
1edf7ef05f AP_HAL: use VRBRAIN INS/BARO/COMPASS for VRBRAIN boards
701aa9ac4c AP_Compass: DEVIOCGDEVICEID is (currently) not defined in VRNuttX
ba25f051e7 AutoTest: reduce fence radius to 150m for testing
cc9c3bb5aa AC_Fence: increase default radius to 300m
224515f3eb HAL_Linux: fixed indexing of device array for SPI
3292055af2 HAL_Linux: fixed dataflash SPI
fe475a3561 AP_RangeFinder: removed old PulsedLightLRF example
5d6ef45662 AP_RangeFinder: removed old MaxSonarXL example
c425e7e060 AP_RangeFinder: fixed example build
e448168ba6 AP_Motors: fixed example build
2b3d17d955 AP_Baro: fixed APM1 build
6312b9f8c0 HAL_Linux: allow different SPI and GPIO devices on different boards
003806fcc1 HAL_Linux: pwmpru,HAL_Linux_RCOut code doesn't wait for magic flag to send data
8cf628e780 HAL_Linux_RCoutput:Add handler to catch SIGBUS error
25e670d0cc HAL_LINUX_RCOutput: Change to reading hilo_read instead of periodhi use uint instead of int
a46d8dbd51 HAL_Linux: make the spi driver fd part of the manager, not device
2fd165d023 Copter: Add esc_calib to as an app in cli
be02f0c34f AP_Baro: work around occasional 0 values from MS5611
1e20f89f90 AP_Compass: use HAL_COMPASS_DEFAULT in example code
9f8f27090a HAL_Linux: MPU9250 is restricted to 1MHz for setup
0f724c1d7a AP_InertialSensor: removed per-device example code
b0ab2671cd AP_Baro: removed old device specific example code
9ebc95b6fd AntennaTracker: converted to new HAL sensor setup
028e2e34f1 AP_Baro: added generic baro test sketch
563f516f6b HAL_FLYMAPLE: rename flash_stm32.c to .cpp
273bc230e6 HAL_AVR: renamed pins_arduino_mega.c to .cpp
5a170c6343 AP_InertialSensor: added INS_generic test
d1ba78002d AP_InertialSensor: added paranoid check for DRDY pin
549e08446a HAL_Linux: use BBB pin names in SPIDriver
6f9965cc22 AP_InertialSensor: fixed setup of DRDY pin on MPU9250
6a6dbe5790 AP_InertialSensor: added check for WHOAMI on MPU9250
e2822a2d8f Tools: added Makefile for BBB overlays
e24febec1b AP_TECS: avoid a valgrind bug
8e5915ef7d HAL_Linux: fixed some valgrind errors
130f831c1c HAL_Linux: use MODE_3 for MPU9250
f73ec95c39 AP_Baro_MS5611: added PROM CRC checking
6c3197cb43 AP_Notify: fixed SITL build
739edafb42 Rover: use HAL board subtypes
52c53e55f8 AP_Airspeed: use board subtypes
49954a3a61 Copter: use sensors from board subtypes
ae29a24348 Plane: use sensors from board subtypes
fdeac40135 build: added board subtypes to build
252052d723 AP_Notify: use HAL board subtypes
abb53eb9a2 AP_InertialSensor: simplify using HAL board subtypes
fc8068adfe HAL_Linux: use board subtypes
7195e38585 AP_HAL: fixed I2C build on APM2
5693392838 AP_HAL: added the concept of a board subtype, and default sensor types
e2a3a4e45c build: allow native build to use distcc
1bf0c4c67d HAL_Linux: cope with different I2C headers for data
3475f39daf build: enable ccache if installed for all builds
848b563fc3 AP_InertialSensor: rotate acccel/gyro for PXF
f6bba74fb6 Plane: enable MPU9250 for Linux build
09e9074cb2 build: added bbone as build target
a224d8c3f9 build: rename board_avr_sitl.mk to board_native.mk
ea188528fc AP_InertialSensor: fixed build errors for LSM9DSO
fa2a1c495e HAL_Linux: fixed I2C driver build errors
8c4565c741 HAL_Linux: fixed a build warning
2982fc029c AP_InertialSensor_LSM9DS0: Fix _dump_registers method
feedc40f72 AP_InertialSensor_LSM9DS0: Move LSM9DS0_DEBUG flag to the header
fa4abdb0ae Copter: added support for MPU9250
297bb52ced AP_InertialSensor: added MPU9250 header
f213f01983 AP_InertialSensor_LSM9DS0: Remove previous CS handling.
5b438471a7 HAL_Linux: added set_bus_speed() support to SPI driver
3ed4f82cb0 AP_InertialSensor: fixed DRDY include for Linux
0b64d834c3 HAL_Linux: MS5611 and MPU6000 should be MODE3
06b6d7aaf0 AP_InertialSensor: fixeup DRDY pin for different boards
1c89f54934 HAL_Linux: fixed SPI mode handling per-device
7cb547272b Linux_HAL_Essentials: Minor type fixed in the README
145c71c4af HAL_Linux: Storage: Change storage folder in Linux to `/var/APM`
464cb8fed9 Linux_HAL_Essentials: Update README for Ubuntu.
3379ddd51f AP_InertialSensor_MPU6000: Add _register_write_check method.
0fff8df491 AP_InertialSensor:  fix LSM9DS0 test code
9c33420aab HAL_Linux: Linux HAL Readme:change firmware name to pwmpru1
ca163c292c HAL_Linux: PRU: remove obsolete libraries/AP_HAL_Linux/PRU
aa1db00908 Linux_HAL_Essentials: cleanup PWM PRU code change firmware name to pwmpru1
e438250068 Linux: Startup script:add reloading pru firmware option
1956c68e16 Linux: Add usage steps for PRU firmware to Readme
971967be4b Linux: add PRU PWM code to Linux_HAL_Essentials
72f94444c4 HAL_Linux: added basic support for RC overrides
d79877792f Linux_HAL: updated binary dtbo files
cd98593280 Linux_HAL: added dts files for overlays
d0b007248f HAL_Linux: fixed SPI semaphore, and panic on CS error
5bcdb039e2 HAL_Linux: Make asynchronous PRU write and reduce the size of data exchange
fa6c5ba80e HAL_Linux: Remove the additional portNumber offset
02c171b19f HAL_Linux: UART-like TCP sockets, check for ":wait"
ca80c0b8e2 HAL_Linux: config UART file descriptor as non-blocking
e6f27c9fac AP_Motors_Time_test.pde: use hal.scheduler->micros instead of gettimeofday
65fef59dfa HAL_Linux: change initial PWM values to 490Hz, 1000us
73d42f3e33 Linux: Add initialising script and required overlays and firmware
f11f0d9f2a HAL_Linux: Fix FRAM code
fc57bdedde ArduPlane/config.h: Add the PXF hardware setup
be68de20f1 HAL_Linux: UART-like TCP sockets impl. on AP_HAL_Linux
b0742fbb5b HAL_Linux: Add FRAM SPI support.
0422695e5e HAL_Linux: Correct error inside read method in RCOutput
092bda9c37 HAL_Linux: Replace PRU1 firmware with a new one to support new way of controllong PRU PWM
63560e8122 HAL_Linux: change to directly accessing shared_mem of pru in RCOutput
9999e77a74 HAL_Linux: add close(_fd) to some functions in RCOutput
95e0803880 HAL_Linux: Remove panic when invalid pin in GPIO
245618e298 HAL_Linux: Improve error handling SPIDriver
d330cbecb3 HAL_Linux: Make the CS variables more readable in SPIDriver
665bf4a247 HAL_Linux: BUS_SPEED selected individually in SPIDriver
8a85f8d6d2 AP_Baro_MS5611_test: Add HAL specific code.
d2b5a1cfac HAL_Linux: add HAL_ prefix to GPIO_INPUT
1f1af0b0ea HAL_Linux: make GPIO code compact and readable
fb7ca9bb3c AP_Motors:add AP_Motors_Time_test
de58df6371 AP_Baro_MS5611_test: Add block for APM2-code
bb5de8a6a1 AP_InertialSensor_LSM9DS0: Fix the CS.
ad3a3f9366 AP_InertialSensor_MPU6000: Fix the CS.
aa60a89cda AP_InertialSensor_MPU9250: Fix SPI CS.
651cb58ebc HAL_Linux: Add CS capabilities to the SPI driver.
bae84e2942 AP_InertialSensor: Add missing library to test example.
283beba4bb Tools: Add PXF enable and check CS scripts
4df3b55ed4 AP_InertialSensor_MPU9250: Add missing library for example/
763c075497 HAL_Linux: spidev1.0 to SPI0 and spidev2.0 to SPI1
fd0685cc01 HAL_Linux: change to mem access method from sysfs access method
eb95130441 AP_InertialSensor_MPU9250: remove legacy CS.
5e7e28a83e AP_InertialSensor_MPU9250.cpp: Update the DRDY pin.
d053a91cd5 AP_InertialSensor_MPU6000: Remove MPU6000_CS_PIN
d9cb29ea8b AP_InertialSensor_MPU6000: Correct DRDY pin.
70aafa380e GPS_UBLOX: fix test to work with AP_HAL_Linux.
96bbe17bd3 HAL_Linux: add support for LinuxDigitalSource in AP_HAL_Linux
7652d47e6e HAL_Linux: Add GPIO pinmux mappings
18d7438240 HAL_Linux: increase size of sysfs_path variables inside LinuxRCOutput's methods
85d10e2ce3 HAL_Linux: add export gpio during direction set if not exported during initialisation
a7ead42f52 HAL_Linux: added initial gpio library
79fed17563 AP_Notify: added pins for Linux port
d43c1cc544 AP_Motors_test: Adapt to test bench available
df14318bbd AP_InertialSensor_L3G4200D: Clock-based wait_for_sample() impl.
c4b6026d53 HAL_Linux: include readRegistersMultiple in I2CDriver
ea7dcc188b AP_HAL_Linux: Correct SPIDriver devs
57ec305caa AP_HAL: Fixes to make the ERLE layer work
7cf1187473 AP_InertialSensor_MPU9150: Clock-based wait_for_sample() impl.
8af1b6faa7 AP_HAL_Linux: Add support for SPIDevice_LSM9DS0
c4babc543d AP_InertialSensor_LSM9DS0: SPI userspace sensor driver.
79fb10d9e8 HAL_Linux: correct AP_HAL_Linux::RCOutput::enable_ch method
eb35c94a43 HAL_Linux: add rcout->init method to HAL_Linux_Class::init
e9f5e0d6cc HAL_Linux: add rcout->init method to HAL_Linux_Class::init method
34ba77e048 HAL_Linux: Correct faulty RCOutput driver
26cd4ad237 HAL_Linux: Correct indentation
69a4b7d632 HAL_Linux: Correct Indentation issue
731d80e6c5 HAL_Linux: Add Steps to Manually test pwm channels
b53b3f415a HAL_Linux: Create Readme.md adding details on manually testing pru pwm
a7de5e3d0f HAL_Linux: Add initial RCOutput driver
3354fa9fc8 AP_HAL_Linux: Add support for SPIDevice_MS5611
1c07985518 AP_InertialSensor_MPU9150: Comment the suspend_timer_procs
d65aefbef5 AP_InertialSensor_MPU6000: Fix the test code so that compiles.
9797867067 AP_Baro_MS5611: Fix the test code so that compiles.
9f5b4ffca4 AP_HAL_Linux_Class: Correct deadlock, and infinite loop in setup()
fac3d1c271 AP_InertialSensor_MPU9250: SPI userspace sensor driver.
27ebf790e2 AP_HAL_Linux: Add support for SPIDevice_MPU9250
5493be1b0d AP_HAL: Add SPIDevice_MPU9250 as a device.
815c2df2d0 AP_HAL_Linux: SPIDriver, add MPU6000 support
4d79887cc5 L3G4200D: fix in the test example provided.
0b6c810a6e build: added ERLE build type
74ee70d463 HAL_Linux: updates for ERLE board type
ab7e96b9de AP_InertialSensor: updates for ERLE board type
44320708a7 AP_InertialSensor_MPU9150: I2C userspace driver sensor added.
1445781104 AP_Common: added fire cape product ID
e96ab86eab build: fixed directory handling in build_binaries.sh
7e04b5d1f1 INS: calibrated method checks all accelerometers
762bb3e6e8 AC_AttitudeControl: Limit _pos_target.z to below alt_max before computing error
28fedba4d8 AP_AHRS: fixed gyro_bias sign, and pre-calculate gyro_estimate for EKF
966d66ef40 AP_AHRS_NavEKF: use gyro drift states from EKF in get_gyro
61987f6655 AP_AHRS: Fixed DCM get_gyro function
35e905d003 build: added some debug
5f66027ba3 AC_AttitudeControl: Fixup some minor mistakes in AC_PosControl
022425584b TradHeli: Move two static bools into heli_flags structure to save 2 bytes RAM.
4b9aea2c55 Parameters: Update Tune Comments with new options
aff98e34e5 TradHeli: Force recalc scalers after setting main loop time in MotorsHeli so that ramp scalers are right for 32-bit.
92bdf24dba AP_MotorsHeli: Add To-Do. Swash setup hasn't seemed to work right for a while, this might be why.  Confirm later.
a7f6a91827 AC_AttitudeControl_Heli: Remove ToDo.  Rate controllers should always run even if throttle is zero.
f53181ec66 Copter: Acro balance fix
f630f9abc3 GPS: exclude SIRF and NMEA on APM copter build
527de3f2e4 AntennaTracker: changes for more common mavlink code
3143e192d3 Rover: changes for more common mavlink code
71d2333ea8 Copter: changes for more common mavlink code
c5a765758c Plane: update for new API
ddb030088d GCS_Mavlink: moved some more mavlink functions to GCS_Common.cpp
971411e0db AC_AttControl: fixed typo in parameter description
28f251005b Copter: fixed typos in parameter markup
4fad9b0a89 Replay: fixed build of replay tool
20accefe51 VARTest: fixed build with compass changes
5f623ac859 AC_AttControl: re-enable rate feedforward by default
7f9cd20377 Copter: set UARTs non-blocking at end of initialisation
34bc136a6c Copter: AC3.2-rc3 version and release notes
65e5367619 Copter: rename hybrid to poshold
0fc73a0a21 Copter: rename control_hybrid to poshold
bbf4805b0e Compass: update pixhawk expected device ids
c9f3adcb5c Compass: Updated COMPASS_PRIMARY parameter description
473865ccc1 Plane: prepare for 3.0.4-beta3
0ecd12b1c6 AP_Compass: Corrected typo in parameter description
aef746b3b1 Plane: pass in compass to Arming constructor
fa2f5d9c68 Arming: accept non-const compass in constructor
4995b9ada8 Compass: default device id to zero
16d4af8346 Compass: sanity check instance in set_and_save_offsets
76369d153f Arming: use compass.configured method
170ca89a21 Rover: PREFLIGHT_SET_SENSOR_OFFSETS used to set compass offsets
d789735d0d Rover: rename compass set_and_save_offsets
b17125e261 Plane: PREFLIGHT_SET_SENSOR_OFFSETS used to set compass offsets
208a2de777 Plane: rename compass set_and_save_offsets
b565d43d5d Copter: PREFLIGHT_SET_SENSOR_OFFSETS used to set compass offsets
2c085c300d Copter: only save compass offsets when learning is on
cf7e1a6339 Compass: example sketch update for set_and_save_offsets
a778522cef Compass: add learn_offsets_enabled accessor method
108c878b04 Compass: set_offsets modified to also save offsets
124bd4b489 Compass: save_offsets accepts compass instance
2c1fa5f1e8 GCS_MAVLink: generate after adding deprecated note to SET_MAG_OFFSETS
798c749833 GCS_MAVLink: add deprecated note to SET_MAG_OFFSETS
05225636da GCS_MAVLink: generate after adding second mag to PREFLIGHT_SET_SENSOR_OFFSETS
bf6fd6f984 GCS_MAVLink: add second mag to PREFLIGHT_SET_SENSOR_OFFSETS
b799020e25 Copter: pre-arm check uses compass configured method
070f1c1bbb Compass: add dev_id for VRBrain
f42c9579d7 Compass: add dev_id for PX4
b7f33d81ad Compass: add DEV_ID param and configured method
be9bfc5530 Mount: set_mode method made public
e892b4cd04 Copter: Ch7/8 option to retract mount
4c3480796d all: Change the editorconfig so that it won't want to reformat
f43064ddef documentation: Add a contributing & maintainers file
042c65c501 Plane: add support for DO_SET_ROI outside of missions
9064d7ebca Rover: add support for DO_SET_ROI outside of missions
3790b3aa82 Rover: add support for DO_SET_ROI within mission
873eb68d79 Plane: add support for DO_SET_ROI within mission
e1a6b07e60 Copter: setting ESC param to 2 skips high throttle check
d325f630e5 VibTest: added sample timing to console output
8af876fe8a AC_AttitudeControl: fixed build
fc368202ad build: fixed build with latest upstream PX4 Firmware tree
863e7a5f93 VibTest: fixed array bounds error
2c8240dbb4 VibTest: fixed gyro timestamps in logs
179d854a26 LogAnalyzer: Update to include the new "format" argument, and fix scoping on two new tests.
406fedf727 LogAnalyzer: Allow instantiation of DataFlashlog with no input filename, for backward compatibility. My changes make m_dflog=DataFlashlog('/path/to/file.log') work, which seems like the preferable way, but we don't want to break backwards compatibility.
0f5360fefa LogAnalyzer: Default to automatic log format detection.
c6d783409c LogAnalyzer: There is no self.logfile, so this must be self.filename.
fc79a06b9f LogAnalyzer: Fix indent which I broke when merging.
9dbfa40afd LogAnalyzer: LogAnalyzer: make all subclasses of Test call their parent __init()__ function when overriding that function. This is the way of Python.
f0cf612372 LogAnalyzer: Fix scoping in LogAnalyzer.py . Tests still need fixing.
842f5d20c4 LogAnalyzer: Fix scoping in DataflashLog.py so that multiple instances of DataflashLog can coexist.
789b1018fc AP_MotorsHeli: Change set_delta_phase_angle so that it forces recalculation of collective factors.
fd542e99d8 AP_MotorsHeli: Create Delta Phase Angle variable and method to set.  Will be used by CCComp code.
4b5167e529 TradHeli: Change behavior of Acro and Stabilize modes when disarmed.  Servos should move realistically for testing when disarmed.
5b13b2b3da TradHeli: Stabilize mode should use get_pilot_desired_collective, not get_pilot_desired_throttle.
032f321348 TradHeli: Acro mode uses full collective range.
c7ccd22d96 TradHeli: Set main loop rate time in motors class.
0680b88abd AP_MotorsHeli: Add main loop rate time variable and method.  Change RSC increment calc to account for loop rate time.
7ef4c11c92 TradHeli: Initialize Rate FF filters.
26be7aed97 AC_AttControl_Heli: Add LPF filter to Rate Feedforward terms
8eb557d1e0 TradHeli: Add Heli.h file
1f422c86c1 Arducopter: Add independent rate roll and pitch P, I, D tuning options.  Add rate feedforward tuning options for tradheli.
fa9d625e39 AC_HELI_PID: Add feedforward accessor functions.
979abb9fbd TradHeli: Cause DDVP Tail Motor to stop immediately when Ch8 is 0.
08e135151a TradHeli: Add Mode Filter on RC8 input for RSC Controller.
ff71b0fa35 TradHeli: Create new function to move data between AP_MotorsHeli and AP_AttitudeControl.
1aa3961151 Arducopter: Improve comments for scheduler.  Add timing table for AVR processors.
c07ded9a79 Copter: Don't use land detector to stop stabilizing in stabilize
5230684bad build: disable some compiler errors for now
b2bc098aee HAL_PX4: avoid some float conversion warnings
e137bf26ef HAL_Empty: avoid some float conversion warnings
59de5a8465 AP_GPS: avoid some float conversion warnings
74c3b404ee AP_Baro: avoid some float conversion warnings
6b87c9fdf7 AP_Airspeed: avoid some float conversion warnings
f28946defb AP_ADC_AnalogSource: avoid some float conversion warnings
198ada2b42 APM_Control: avoid some float conversion warnings
3390224491 Plane: avoid some float conversion warnings
baa0217bec AP_RangeFinder: trigger a new reading automatically
6416a4d0e6 Copter: fixed apm1-hil build
f6d9bc5d7e AP_RangeFinder: fixed detection of multiple types
7ceb14bec0 HAL_Empty: make I2C ops fail
9386295428 AP_RangeFinder: added SONAR2_TYPE parameter
05d4f5fb5a AP_RangeFinder: convert PX4 driver to new API
a4b9b989b7 Copter: convert to new AP_RangeFinder API
4cba48ade2 AP_RangeFinder: removed old style analog drivers
ed346fd639 AP_RangeFinder: convert MaxbotixI2C driver to new API
0063d83dbc AP_RangeFinder: convert the PulsedLight driver to new API
22b9059647 AP_RangeFinder: have two instances on all platforms
bfe705a14d Rover: convert to new AP_RangeFinder API
28e1449e8d Plane: updates for new AP_RangeFinder API
e69a473315 SITL: update simulated sonar support
6f33ca4988 AP_RangeFinder: added SONAR_RMETRIC option
92b76b4be4 AP_RangeFinder: converted analog rangefinder backend to new API
cb037f3416 AP_RangeFinder: new rangefinder API ready for its first backend
429431157b AP_RangeFinder: disable old rangefinder drivers
d759a9dd9b AP_RangeFinder: Seperated the Backend driver functionality into a separate class
26a36eeca1 PX4 ROMFS INIT: Added starting the optional mb12xx sensor
3f17969b19 AP_RangeFinder: Changes from the May 4th plane test flight
2e586ccfb2 AP_RangeFinder_PulsedLightLRF: Updated the value to write to the register to trigger a measurement
5f4168d5f8 AP_RangeFinder_PX4_test: Added an example sketch for the PX4 range finder
18c06277f8 AP_RangeFinder: Added a new PX4 range finder and modified the RangeFinder parent class to support having multiple devices simultaneously
17eacf5bff mk PX4: Added the new ll40ls device to modules list and start commands
a2df275bd9 AP_RangeFinder_PulsedLightLRF: Updated the register definitions for the new hardware
9f5eb3b464 Copter: remove log CLI code when CLI disabled
e118984c26 AP_Baro: save some flash and memory on APM2
da178ee3b6 LogAnalyzer: add TestAutotune
6ce0dbf3b3 LogAnalyzer: TestPitchRollCoupling add mode ""
d50d5b8f24 VibTest: fixed sample count output on console
c1d1406c59 LogAnalyzer - accept invalid FMT messages in binary logs  - I really wish this was not necessary, but it is.
4e445a716a LogAnalyzer - label/name & format/type consistency
099d40f0f8 LogAnalyzer - adjust modeChanges for Plane/Rover  - I lack logs for both, not tested.
33d19fc893 LogAnalyzer - add binary log parsing  - parse using ctypes.LittleEndianStructure  - define classes from FMT messages  - use the classes as with Text logs for processing
64ae2011b5 LogAnalyzer - binary log parsing preparations  - use FMT messages to create classes using type()  - work with these classes instead of arrays  - split parsing and processing
ce0efdb7d2 LogAnalyzer: Adding HYBRID mode to LogAnalyzer.
03770c4d34 VibTest: added gyro data and support 3 sensors
8e0f3c152a Tools: Added 3DR Berkeley to the locations list on SITL
09a01a4668 Copter: Wait 4 seconds before beginning to land during failsafes
cd08ec5a5f Copter: allow auto-disarm in autotune mode
ff1f54b390 Copter: allow disarm in autotune mode
5b36e65cb9 Copter: Add parameter LAND_REPOSITION to enable/disable user input during auto-mode landings and descents
2dfef17caf Copter: guided reset yaw only when initialised
2b64c511ed AC_WPNav: update yaw only when track is at least 2m
81355d1adf Copter: DO_SET_ROI accepted outside missions
ae8fb3f1c5 Copter: MAV_CMD_CONDITION_YAW accepted outside missions
46badc05bc Copter: guided mode sets desired velocity instead of target velocity
c9661cfb09 AC_WPNav: integrate set_desired_velocity_xy function name change
f5640dadbf Copter: guided mode velocity controller
b027c71491 Copter: restore pv_get_horizontal_distance_cm function
82ed70b25e AC_PosControl: add xyz velocity controller
fe8a5be802 AP_Mission: support MAV_CMD_NAV_VELOCITY msg
34b91496f9 GCS_MAVLink: generate after adding CMD_NAV_VELOCITY
35167c262e GCS_Mavlink: add MAV_CMD_NAV_VELOCITY
9103899048 GCS_Common: minor typo in comments
12720bbbe1 Copter: accept condition-yaw commands in guided
279926e386 Copter: accept guided pos updates when doing NAV_GUIDED cmd
fdc0ec837b Copter: add nav_guided suport to Auto mode
af4490a3d5 Copter: remove mode from guided_set_dest
f4c9d58051 AP_Mission: add support for MAV_CMD_NAV_GUIDED
be003c1906 GCS_MAVLink: generate after adding CMD_NAV_GUIDED
05c63592ce GCS_MAVLink: add CMD_NAV_GUIDED to ardupilotmega.xml
8710922a02 PX4: fixed orientation of internal hmc5883 on FMUv3
fdeedfa173 Rover: support 3 magnetometers
5aa58d2ab5 Plane: support 3 magnetometers
a25eab4ada PX4: try to start both hmc5883 sensors
21b0b3bc15 Copter: log up to 3 mags
c138244155 AP_Compass: support 3 mags on PX4
d462d91533 PX4: added comments on FMU3 rotations
41486ac59c PX4: fixed l3gd20 rotation
a8fd4472be ph2 support: Fix typo in startup rc
292d1d8179 PX4: try to startup FMUv3 with right rotations
226eece7e2 PX4: added conversion lib for rotation
65e7c74067 PX4: disable PX4IO RC handling in a clean way
b420a5c6db AP_HAL_VRBRAIN: removed empty lines
fabd7601f0 GPS: Fix dataflash logging bug in SBP driver
b57d1f5245 GPS: Include 75-class CPUs in RTK support since they will have 64 bit floating point values.
849c4905fb HAL_PX4: print overtime message on stuck task
67f5ba0b94 AP_Scheduler: added current_task static
bdd9fe77c7 VRBRAIN: change default pin for analog input.
f70da39206 VRBRAIN: changed the management of the pwm output
fa4fffc878 VRBRAIN: deleted unnecessary customizations
0dc0d2f6c0 VRBRAIN: included module esc_calib for ESC's calibration from shell
de1d0c6989 VRBRAIN: deactivated error on HMC5883 start
b2680984a5 AP_HAL_VRRBAIN: added comment
1cc55bfcf8 VRBRAIN: added filter dfu
0dc274221b VRBRAIN: renamed external and on board drivers for MPU6000 and HMC5883 sensors
69f75886e1 VRBRAIN: some not important adjustments
3adb04dd71 VRBRAIN: added automatic update of bootloader from SD at startup
efd407b56e VRBRAIN: enabled the compilation of module bl_update for bootloader update from nuttx
9adf820dbe modified .gitignore to ignore .vrx and .hex files
bed5db35c7 GCS_MAVLink: fixed missing header
0bccbf2409 tools: my change to use stdin, broke reading logs that have no header
ddd24e8135 tools: LogAnalyser if we fall off end of GPS data, return a valid time
1a4fce60e8 tools: LogAnalyser, ensure error msgs go to stderr not stdout
7dc356f4ca tools: LogAnalyzer fixes to work with pipes as input
867f884954 tools: Allow LogAnalyser to emit its xml to stdout.
a756e4f3ef tools: Allow LogAnalyzer to read from stdin rather than just files
4c22aa20ad GCS_MAVLink: regenerate headers
7cdd5a700b CameraFeedback: alt rel/msl, renamed CAMERA_EVENT
a31498f599 tools: Change LogAnalyzer tabs to spaces (per APM python conventions)
544d872d65 GCS_MAVLink: fixed a shadowed variable
773bc7bcbe GCS_MAVLink: added missing RTK headers
f9d87bcc88 AP_GPS: fixed build errors and warnings in SBP driver
bcb3d1af14 GCS_MAVLink: fixed flymaple build
fc11deb547 GCS_MAVLink: regenerate headers
10b4757706 ArduCopter: Move MAVLink size check into library
fa78634959 AP_GPS: GPS calculates MAVLink messages for GPS and GPS_RTK
baf0697f48 GCS_MAVLink: Add support for GPS_RTK messages
ad5311c089 MAVLink: New message definitions for GPS_RTK
4abbda616f ArduCopter: GPS Callback for calculating base position
2b1169b0ab AP_GPS: SwiftNav RTK Driver and GPS AutoSwitch param
fee79c5bac SITL: Piksi Heartbeat Message support, Integer-RTK baseline simulation
a251d0010a AP_NOTIFY: RTK GPS visual notification through faster blink
398f32d538 AP_Math: Comments on WGS coordinate conversions
1ed716976c GCS_MAVLink: regenerate mavlink headers
c6a76e8d97 CameraFeedback: added CAMERA_FEEDBACK_FLAGS for open/closed loop
fd87f28a07 DataFlash: save some flash space on APM2
166c1fd530 PX4: startup FMUv3 sensors if available
e6d8e329d5 DataFlash: allow logging of 3 accels/gyros
ca12592448 AP_InertialSensor: allow for 3 accels and 3 gyros on Pixhawk
ece01da10e AP_InertialSensor: fixed _dump_registers() for MPU6000
068febda1f Tools: Fix broken duplicate check for adding new libraries to the data structure
2f4af05f33 LogAnalyzer: renamed test from "Underpowered" to "Thrust"
4a5e0bbe06 LogAnalyzer: renamed PASS to GOOD in output (and enums)
a6eb5307b6 LogAnalyzer: renamed 'logs' folder to 'examples'
0fe6c1ee3a LogAnalyzer: fixed XML output glitch in the case of a skipped (NA) test
f122b1ba37 LogAnalyzer: added 'import collections', allowed for some AC3.2 logging changes
795f93949b LogAnalyzer: escape strings in XML output
0f5a89f22e LogAnalyzer: added check for binary log files (can't parse yet)
70c2682c28 LogAnalyzer: detect all zeros in MAG X/Y/Z data
35830f928d LogAnalyzer: added --verbose flag, added test for MAG interference
130a2dcb0b LogAnalyzer: added LogIterator, copter roll/pitch > max lean angle test,
81fcf4bda7 LogAnalyzer: combined statusMessage and extraFeedback
1356d53e7b LogAnalyzer: report skippedLines, cleaned up DataflashLog.read() error handling
2a406ac699 LogAnalyzer: added GPS glitch detection to GPS test
90f07aae61 LogAnalyzer: added unit test, started moving from dictData to listData
d6b091c39f LogAnalyzer: added BETA feedback info to output
c4828e1d3d LogAnalyzer: fixed plane+rover parsing, added test for underpowered copters
301a3bcdaf LogAnalyzer: added test for dupe log data
5aa1e6a2dd LogAnalyzer: changed command flags a little, tidy, started on TestPitchRollCoupling
e0ada31872 LogAnalyzer: adding Roberts bad PM performance log
8d691c2a60 LogAnalyzer: added PM slow loop check, first version of xml output
36e480483f LogAnalyzer: Initial commit for discussion
4072fcd99e Inav: use horizontal body frame for accel corrections
78f29f11e7 VRBRAIN: Modified makefile for VirtualRobotix's boards
33537b26ce VRBRAIN: Removed the stop in case of error on startup of magnetometer. Thus should enable to fly without a magnetometer.
8f3a4bc88b VRBRAIN: correction to AP_Compass_VRBRAIN.cpp
946a461873 VRBRAIN: added VRBRAIN to #if
8a747ef977 VRBRAIN: added missing boards definition
b7907e6a5a VRBRAIN: Added makefile and startup scripts for VR Brain 5 board.
068dce6820 VRBRAIN: Scripts for VRBRAIB custom start
994f6160af VRBRAIN: Changed the management of VirtualRobotix's boards. Added missing files
8f552d5758 VRBRAIN: Changed the management of VirtualRobotix's boards.
017e4b4c8a Plane: update for AP_Mount change
edafe7100b Copter: update for AP_Mount change
57685ddf84 Rover: update for AP_Mount change
30a3927ea8 AP_Mount: fix where status_msg() is sent
b473f8fd4d AP_RCMapper: Added warning to RCMAP_THROTTLE
d8573d0722 Plane: loiter num turns from low byte of p1
e0f4a570c6 Copter: loiter turns radius from command's p1 field
9b81e46e61 AP_Common: add example sketch
2f7dee3ba5 AP_Mission: squeeze loiter turns radius into high byte of p1
b79f729540 AP_Common: add LOWBYTE, HIGHBYTE macros
fa16e0967f AP_Common: remove unused location mask definitions
01da4e29fb Copter: use relative_alt flag when decoding change_alt command
cf3b487e63 build: fixed TOOLPATH on MacOS
e2fe3d2de7 GCS_MAVLink: re-generate headers
0db226daf5 GCS_MAVLink: merge in upstream changes
87fcfbf9dd GCS_MAVLink: re-generate MAVLink headers
048767e389 GCS_MAVLink: camera feedback mavlink messages
ac65119cfe Plane: use common Log_Write_Camera
4d93dd47ee Rover: use common Log_Write_Camera
50e024fe8f Copter: flag current alt as relative
8c488ebd87 Copter: use common Log_Write_Camera
11e08e1492 DataFlash: common Log_Write_Camera
8c48b65175 Copter: bug fix to remove home variable
d0194b7a9d Copter: remove home variable
5c305989b9 Copter: set home alt to absolute alt
09fc777ab9 Copter: slow motors after landing in AUTO
0c9a496262 AC_AttControlHeli: add ATC_RATE_FF_ENAB parameter
a873942f73 Fix to restore Gimbal control after Mission with ROI
810c87969c Copter: Ch7/8 switch to enable/disable feed forward and accel limiting
46f25c52a4 AC_AttControl: allow enabling/disabling feedforward and accel limiting
a2f54fdf2c AC_WPNav: smooth waypoint by freezing feed-forward and allowing overshoot
ce85d1f6b2 AC_WPNav: use curr pos target as spline origin
130eb07d48 AC_AttControl: angle_ef_roll_pitch_rate_ef_yaw supports zero yaw accel
f2d3fed612 Add name to GTI_Success.txt
02b4b21f67 AC_AttControl: disable feed forward by default
b57c0dabf6 AC_AttControl: check accel_rp_max instead of rate_bff_ff_enabled
91b1d20b70 Heli: integrate AttControl's set_yaw_target_to_current_heading
08801eebf2 Copter: integrate AttControl's set_yaw_target_to_current_heading
2bb30b3ef9 AC_AttControl: add set_yaw_target_to_current_heading method
d9c966c927 AC_AttControl: RATE_FF_ENAB param to disable rate feed forward
4d4c7a2118 AC_AttControl: move freeze_ff to flags structure
a662f87ffb AC_AttControl: remove resolved To-Do
7f734f38d6 AC_AttControl: add earth frame angle constraints
698cf934b8 AC_AttControl: formatting fixes
2bb63857fa AC_AttControl: clean up stabilize
c24d293e1b AC_AttControl: zero _accel_xyz_max stops feed forward
babe655b8f Copter: Remove acro acceleration slew todo
8bbce7e658 AC_PosControl: freeze feed forward for alt control in Auto
922026c15c AC_AttControl: rate compensation for yaw
0d87298221 AC_PosControl: freeze feed forward and vector fixes
4221833028 Copter: flip records starting attitude
75c328a752 TradHeli: integrate init_targets rename to relax_bf_rate_controller
77d5d682c1 Copter: integrate init_targets rename to relax_bf_rate_controller
5209598459 AC_AttControl: rename init_targets to relax_bf_rate_controller
1bdde31f6b Copter: Fix zero throttle flip issue Stabilize
105382bf21 Plane: release 3.0.4beta2
94876dccb1 autotest: added Ballarat to autotest locations
915dad2da4 AC_Circle: use fast_atan2 to calc bearing from center
f23e94707c AC_WPNav: use fast_atan2 for bearing calcs
083f2898a9 Copter: use fast_atan2 for bearings to home and next WP
919b0ea29b CPUInfo: add fast_atan2
17374ff5e8 AP_Math: fast_atan2
f5f206b055 Copter: set inav alt to zero when arming
28ce66f314 INav: clear historic z-axis position estimate when set_altitude called
abd1370b2c Copter: flag stays landed unless pilot raises throttle
9fcfea5404 Copter: accept DO_CHANGE_SPEED outside of missions
fd9502d3fa Copter: Improve surface tracking dynamics
4f75cbcce0 AutoTest: fix error reporting for copter AVC mission
efd6d6dc70 AC_WPNav: spline div by zero fix
0912bec8f5 Spline div zero and leash limit fix
ea086fa79c Plane: added MAV_CMD_DO_INVERTED_FLIGHT support
f0df912a11 AP_Mission: added support for MAV_CMD_DO_INVERTED_FLIGHT
ef4a79cc9a GCS_MAVLink: rebuild MAVLink headers
67937b5b79 GCS_MAVLink: added MAV_CMD_DO_INVERTED_FLIGHT
55e7f9b1d6 Plane: calculate next_turn_angle to prevent early WP completion
5a1aa8dfe7 AP_L1_Control: implement turn_distance() with turn angle
7a6186f7e6 AP_Navigation: added a turn_distance() method with turn_angle
a72b362c1f Rover: prepare for new beta
69349f7fb0 autotest: added TomCarpark test location
a1b94bf852 Rover: prevent unsupported command messages
0ca5a60f25 autotest: added -R to sim_vehicle.sh for reverse throttle
a7868dd6b3 Plane: fixed zero throttle in FBWA glide failsafe
9ae32addc8 autotest: convert Rascal back to a tail dragger
0a79efae61 autotest: fixed problem with initial JSBSim headings to east
4607fe9bf1 autotest: cope with newer versions of JSBSim
f6160cf78f autotest: added AVC_plane location
a3b91660eb AntennaTracker: build fixes for new GCS_MAVLink API
7e3daacda0 AntennaTracker: add support for PROXY_MODE
43059fbff5 Rover: release 2.46beta
49f93b91b2 APM_OBC: fixed formatting to match APM coding standard
e9e1799700 AP_Compass: fixed VRBrain build
d554616e86 AP_EPM: fix for HAL_GPIO_*
3705c90b8e AP_Baro: fix for HAL_GPIO_*
d70bee9249 AP_AHRS: fix for HAL_GPIO_*
0d83d4f4f5 APM_OBC: fix for HAL_GPIO_*
1e2b644b1b Plane: fix for HAL_GPIO_*
e35c0a578d Rover: fix for HAL_GPIO_*
1e2214f8d1 DataFlash: fix for HAL_GPIO_*
732cd0e130 AP_Relay: fix for HAL_GPIO_*
50c08ced4c AP_Notify: fixes for HAL_GPIO_*
4c43cd9775 AP_InertialSensor: fixes for HAL_GPIO_*
805d79debe HAL_FLYMAPLE: fix for HAL_GPIO_*
3015356671 HAL_AVR: fixes for HAL_GPIO_ define change
18a64d17d3 AP_HAL: added HAL_ prefix to GPIO_ defines
fa4eb5475a HAL_PX4: implement analog input stop pins
24325a5c62 Plane: fixed takeoff throttle slew rate
2b0f142a17 AC_PosControl: fix typo in D-filter definition
7e3213edbf AC_AttControl: increase default accel max
db000f2287 Copter: remove setting rate and thr D term filters
29ca7a10df AC_PosControl: set alt hold accel control D term filter
0969e464fb AC_AttControl: set roll, pitch, yaw rate control D term filters
faf3415e5e AC_PID: example sketch prints individual P, I and D values
5eb206e6bb Copter: Add 'handle' to allow #define updating of AC_PID filter rate for Throttle Accel.
df1de4260d Copter: Set Rate PID D-term filter rates on initialization.
b35ec4339e AC_PID: Add method to set the D-term Filter Rate from main code.
f1c3f2a3d1 AC_PID: Remove get_leaky_i function which is now found in AC_HELI_PID.
7c9249de93 AC_AttitudeControl_Heli: Change to use AC_HELI_PID class instead of AC_PID.  Remove FF parameters from class.
5ee87f7561 Copter: Change TradHeli to use new AC_HELI_PID class.
6333b4bba6 AC_PID: update example sketch to test AC_HELI_PID
ef7dc815cd AC_PID: Change Private members to Protected so that AC_HELI_PID can access them.
94e9bed9cf AC_PID: Add new AC_HELI_PID as a child of AC_PID
6496872885 Copter: release notes for AC3.1.5
286fdf2acc AntennaTracker: use new GCS_Common.cpp functions
cea30e1d9f Plane: use new GCS_Common.cpp functions
1dbbdde8ef Copter: use new GCS_Common.cpp functions
c4c912c703 Rover: use new GCS_Common.cpp functions
0b6407256c GCS_MAVLink: moved 3 more send_*() functions to GCS_Common.cpp
0b5ff80b3e Copter: remove unused pos vector functions
d4a892c650 Copter: AC3.2-rc2 release notes and version
20719e23fd Copter: enable PARACHUTE and RALLY for all but APM
796aaac475 AutoTest: add AVC_copter to location
af10a6817c Copter: remove command_description.txt
37c50d9587 HAL_PX4: fixed use of FMU servo pins as digital inputs
2d9e9d9bc3 AP_Compass: added COMPASS_PRIMARY parameter
edc79ca2a4 AP_NavEKF: Increase divergence test margin based on analysis of more user flight logs
055d8fe7aa Plane: added TKOFF_THR_MAX parameter
dfedc377b1 Plane: aim for 5 degrees pitch during accel phase of takeoff
d4c4c71df5 Plane: improve takeoff docs for tricycle undercarriage
286479ee93 Plane: prevent stalled takeoff with bad TKOFF_TDRAG_SPD1
d87619c2f1 Plane: added 4 new parameters to control takeoff
aba11a0634 AP_L1_Control: wrap the target_bearing
9882763873 autotest: set full logging for plane
c29cc24ad8 Plane: fixed sign of target and nav bearing in logs
f2556535da Plane: moved takeoff code to a new file
5c82711578 autotest: update fg_plane_view.sh for FlightGear 3.0
cde7d31dad AC_WPNav: fix divide by zero when origin and dest are same location
5e21111076 AutoTest: add -j option to sim_vehicle
7cc3cb8d9b AntennaTracker: updates for new GCS_MAVLink API
57e14f5387 Rover: updates for new GCS_MAVLink API
ed4068dc90 Rover: update baud rate parameter descriptions
1118609024 Rover: change baudrates to 16 bit
a55c511f63 Copter: updates for new GCS_MAVLink API
cdcaad3079 Copter: update baud rate parameter descriptions
cc6fba4cad Copter: change baudrates parameters to 16 bit
511e8beaed Plane: updates for new GCS_MAVLink API
2b44d33694 Plane: update baud rate parameter descriptions
94d528e548 Plane: changed baudrate parameters to 16 bit
63da53c842 GCS_MAVLink: moved main update() routine into GCS_Common.cpp
42c1501563 AP_Common: moved map_baudrate() into AP_Common
7d712f90bf APM_OBC: adjusted docs for FS_HB_PIN
69ad632e2a GPS: correct NAVFILTER parameter description
972a2403ed Frame_params: Added Iris with Front Mount Go Pro
2a230b2703 Plane: set version to 3.0.4beta
a7d6a26bec HAL_PX4: fixed auto-flow control
d5a0ca4f3c Copter: integrate init_loiter_target name change
597d5227f5 AC_WPNav: rename set_loiter_target to init_loiter_target
63135a044f Copter: remove setting Z-axis target in Hybrid
e7b3c00767 AC_WPNav: set_loiter_target uses set_xy_target
aed5787c1b AC_WPNav: bug fix for loiter init in Hybrid
8c5226a17a Plane: prepare for release of 3.0.3
fc0d703b9b Rover: much simpler SPEED_TURN_GAIN implementation
69b5f352f6 Plane: prevent a bad glide slope when first entering auto
5fe0d2c1b2 AP_NavEKF: Add protection for accel bias estimation errors
3222e8f7cb AP_NavEKF: Default parameter adjustments
65fd25fb5a AP_InertialSensor: fixed example build
e1b7e53c04 Copter: only acceept Guided waypoints in Guided mode
b99ae63cbb HAL_Linux: more generic fix for scheduler issues in example sketches
30f5e2c37f AP_GPS: work around scheduling issue in example code
e40e50e2e1 AP_NavEKF: Prevent start-up transients re-tripping divergence test
73976e2ca4 AP_GPS: fixed example build
8533aecf18 AP_InertialSensor: fixed example build
a19015ed61 AP_NavEKF: Scale divergence check with covariance
0337d44b2e AP_NavEKF: Fix bug causing immediate clearing of diverged status on reset
d150904dc6 AP_NavEKF: Increase gyro bias process noise
481a55867e Copter: only send sonar distance to GCS when sonar enabled
8c7b4feac1 Copter: send sonar distance to GCS via MAVLink
9e7e2eb106 AntennaTracker: use setup_uart()
35e87fa2ea Rover: use setup_uart()
836b365bc8 Copter: use setup_uart()
bd09d8551d Plane: use setup_uart()
49e7ee9ba7 GCS_MAVLink: added setup_uart() method
3a73878ca7 Plane: mark 3.0.3beta
b3c1e515dc AP_AHRS: when no accel info available in buffer use current value
315290029a AP_AHRS: fixed check of accel sensor health
5edf4ba596 AP_NavEKF: fixed up handling of bitfields in faultStatus
182d0f9cb0 Plane: added reporting of AHRS health
427a638296 Copter: added reporting of AHRS health
482933acd7 Rover: added reporting of AHRS health
79edc4b467 GCS_MAVLink: re-generate with addition of MAV_SYS_STATUS_AHRS
ccebeba5a5 GCS_MAVLink: added MAV_SYS_STATUS_AHRS
deb16ac5bb Replay: Add EKF fault status logging message to EKF4
f01cc78d37 DataFlash: Add EKF fault status logging
ce8e1daa16 AP_NavEKF: Improved divergence detection and reset
5d2d6e0063 GCS_MAVLink: regenerated MAVLink headers
983ac9cbf4 GCS_MAVLink: merge in latest upstream XML changes
1a05c27bbb AP_AHRS: added healthy() function
086142580a AP_InertialSensor: added VibTest sketch
47926dc6ea Replay: fixed for changes to AP_Compass HIL API
e883b889b6 SITL: Add compassmot interference
409a593c1a Plane: prepended APM to RSSI_PIN's @Values
d7e015db89 Rover: add Pixhawk pin to RSSI_PIN's @Value
9f81e286d1 Copter: add Pixhawk pin to RSSI_PIN's @Value
8b92ff4695 Rover: remove unused RELAY_PIN definition
4ebde25a26 AP_Relay: add -1:Disabled to list of param values
f7a9ee24ef Copter: minor comment update
715e9c0474 Copter: reset mission when disarming
7d4c74c28e Copter: when leaving AUTO only stop mission if running
5d20594fa4 AC_WPNav: bug fix for loiter and waypoint update rate
48919b6253 Rover: use EKF velocity for high rate ground_speed updates
85ebe81ed3 AP_NavEKF: fixed logic for divergence test
40dc0e56fe AP_NavEKF: Add protection for badly conditioned innovation variances
925c5751bd AP_NavEKF: Add ability to inhibit in-flight mag cal and clean up moding
3026ccee13 AP_NavEKF: Use baro data during launch transients whilst in static mode
a38e00c048 Copter: remove unused HIGH, LOW definitions
3f329d0857 Copter: version to AC3.2-rc1
e75d6a2da6 Copter: remove meaningless check from motor_test
0c7a3f1ec5 Copter: remove unused Log_Write_GPS function
b4dcad725c Copter: remove unused servo_write function
1e8b99ad17 Copter: update release notes for AC3.2-rc1
05f5164dfa Mission: rename AUTORESET to RESTART
cc1b75ad29 autotest: restore timeout in log download
3f0a52cb53 Copter: ch7/8 switch for auto pause/continue
8640e11728 Copter: bug fix rally point landing target
6b0d5f9770 AP_InertialNav: fix pos error degradation rate
73dc32108f autotest: try to debug log download timeouts
badc127c34 AC_WPNav: fix example sketch
9b6a4e0fc7 AC_Sprayer: fix example sketch
9ab9eaec25 AC_WPNav: Loiter jerk default to 10m/s/s/s
197d83e32a Copter: bug fix to sport roll pitch control
0af9d502d9 Copter: set pos controller speeds before circle init
1cb297580f Copter: reduce Circle init twitch by using stopping point
3cc5b9446f Copter: AUTO and Guided call wp_and_spline_init
11918869a5 Copter: RTL calls wp_and_spline_init
091ff91a70 WPNav: add wp_and_spline_init to set speeds an init pos controller
c13db680b7 AC_PosControl: remove reset_I_xy
cd8b1f278c AC_PosControl: remove unused _cos_yaw variable
48ec0caf75 AC_WPNav: run navigation at 10hz in SITL
0819e05896 AC_PosControl: lean_angles_to_accel added for smooth initialisation
b38c484874 AC_WPNav: add LOIT_JERK parameter
71fae1e6f2 AC_AttControl: lean_angle_max accessor fn const
ff1a58e078 Copter: increase LOITER_RATE_IMAX to 1000
fb2be07b44 Copter: update AC_WPNav instantiation
fd9f8f571f AC_WPNav: replace inav, ahrs pointers with references
21c93e48ab AC_PosControl: include vel error when get_stopping_point_z
a1f1dd8059 AC_PosControl: add is_active_z method
3909a9574b AVR: fixed some build warnings with gcc 4.8.2
b6774b8bc7 autotest: raise the time for log download
10d7ab5840 Copter: update release notes for AC3.1.4
603e84a688 SITL: disable missing initializer warnings
74227cd7f0 AP_HAL: prevent some FastDelegate warnings
0991af86f3 Plane: removed some usused code
a295760e56 AP_Rally: fixed indentation
3dc0404e2b SITL: prevent unused parameter warnings
cd8fd86565 Rover: use mission.start_or_resume()
32a1fac612 Frame_params: Removed TRIM_AUTO,1
4efcae46ab SITL: cope with more rubbish startup values from JSBSim
c1aa2181dc Plane: update release notes for 3.0.2
f233f95785 Plane: prepare for release of 3.0.2
320834a5e7 HAL_PX4: read from FRAM in 128 byte chunks (2nd try)
db6b96caa0 Revert "HAL_PX4: read from FRAM in 128 byte chunks"
afb9c0a5c7 Copter: update release notes for AC3.1.4-rc1
a92366c455 HAL_PX4: read from FRAM in 128 byte chunks
0ad3c1e15e Copter: add EKF to Ch7/Ch8 Opt parameter description
f51478ee1d Plane: fixed LOITER_TURNS counter for counter-clockwise loiter
c3d6ed1e3e Replay: add constraint on EKF4 data packet values
d857427444 Copter: disable RALLY points by default
937e9ea687 AC_PosControl: add set_target_to_stopping_point_xy method
7dd366d84e AC_WPNav: init_loiter sets speed, accel before calcing stopping distance
a3036fc443 Copter: init pos_control z-axis after setting speed and accel
cad1441739 AutoTest: print failed copter test
a4c675c23e Copter: add PILOT_ACCEL_Z parameter
0103ae2eb0 AC_WPNav: add WPNAV_ACCEL_Z
7d7a2aced7 Copter: init vert speed and accel for each flight mode
9f63de9b59 AC_PosControl: set_speed_z accepts positive descent speeds
466e9db1f9 Copter: integrate AC_WPNav get_speed_xy name change
510c9920a6 AC_WPNav: rename get_horizontal_velocity to get_speed_xy
eb1fb63e57 APM_Control: added logging of parameter changes in AUTOTUNE
92714b09d2 Plane: added ATRP log header to plane log headers
871d0c0e44 APM_Control: moved the log structure to ArduPlane core
4f250579db DataFlash: added LOG_ATRP_MSG define
5b3438850d Copter: fix typo in Log_Write_Baro
114bd56e2a AP_NavEKF: Fix display names in parameter list
5cc26569fc AP_Motors: fix example sketch
5fefce5899 AP_NavEKF: Synthetic sideslip fusion numerical error protections
241557e5e0 Copter: Corrected typo in RC_FEEL_RP parameter description
0bc0abf02d Plane: Supply compass with current measurement for compassmot
0bb7b8e938 AP_GPS: Fix bug that causes permanent lag if we miss a message
416e9457ce Copter: remove cli motor test
2be99d7a92 TriCopter: output_test for individual motors
07766e55f9 SingleCopter: output_test for individual motors
3610cfe24c TradHeli: output_test for individual motors
8f74f5b3b0 CoaxCopter: output_test for individual motors
d63d82ec17 MotorMatrix: output_test for individual motors
11d02ea5d2 AP_Motors: output_test for individual motors
ae9477600c Copter: add mavlink motor_test
6517638670 GCS_MAVLink: generate after adding DO_MOTOR_TEST
28846c6c99 GCS_MAVLink: add DO_MOTOR_TEST message
0408c11637 Plane: mark 3.0.2beta
818e500509 AP_Mission: improve the AP_Mission docs
ccc8a6a6ed Plane: use MIS_AUTORESET when entering AUTO mode
956ff65a25 Plane: RC override input should be considered as valid RC input
782fbe1ec5 AP_Mission: added reset() function
a80e72ff82 AP_Mission: added MIS_AUTORESTART parameter
00033bd302 Copter: Update RC_FEEL_RP Description
b9b3a39a83 Copter: fence enable/disable via MAVLink
d3411e45bb Copter: use get_current_nav_index()
5fe86a657e Copter: land_do_not_use_GPS has no return value
0665cf6b28 Copter: RTL alt should not be above fence alt
4686eef266 Copter: GPS failsafe ensures LAND is pilot-controlled
2acddb9696 Replay: fixed ahrs.set_fly_forward() in Replay for copter
cf9b67d8fc GCS_MAVLink: prevent uninitialised bytes being written to a serial port
0306dbf5f1 Plane: moved auto mode variables to auto_state
dba8fac515 Copter: remove unused variables from fence.pde
1aeaa5955b Copter: integrate 10sec manual recovery after fence breach
e855cfec02 AC_Fence: add 10sec manual recovery
20de5b3006 Copter: Loiter clears out pilot acceleration when failsafe occurs
05d9dc5cba Copter: RTL always land if in radio failsafe
db51d37071 AC_WPNav: add clear_pilot_desired_acceleration
40650aeb68 Copter: roll and pitch nudging in RTL descent
68f439acbe Fix auto doc group names
06bef6e3b8 Parachute: clear release time when enabled
19f1e7fec4 Copter: disable Parachute by default
ea64438ef9 Copter: RTL ensures heading is back to initial heading
e23115516d Copter: disarm after completing RTL
ad99918fee AC_WPNav: recalc leash lengths if set_horizontal_velocity is called
46fba47c8e AC_WPNav: slow target point's speed near destination
a5602c5f14 Copter: updated contributors list
78a3e0f5a2 Copter: Hybrid removed Wind_comp_estimate filter
08412391f5 Plane: fixed a bug when switching to another mode from auto takeoff
85b28fbaee test: Linus was here
ecc8e45eda AP_NavEKF: Fix bug in position reset logic
b0fd94f18e AP_GPS: initialise a variable in uBlox driver
287af8f66e Copter: disable optical flow by default
55e7e1eb3e Copter: allow HYBRID to be disabled to save flash
7c02a02bd8 AC_WPNav: reset_I flag moved to position controller
098f8169b0 AC_PosControl: add keep_xy_I_terms method
ba94fc9796 Copter: Hybrid move reset_I into structure
4d5b73b968 AC_WPNav: add reset_I to set_loiter_target
ff532a06ec Copter: Hybrid fixes to wind_comp, brake pitch timer, thr peaks
14cbb09804 Copter: hybrid add Brake or Loiter to Pilot override transition
43b1dd748b Copter: hybrid init brake roll and pitch at loiter exit
d745060c80 Copter: fix Hybrid flight mode in Parameter description
f8e8d4024d Copter: Hybrid's max brake angle to 30deg
6c71569775 AC_PosControl: update_xy_controller allows not resetting I term
5d0476e522 AC_WPNav: add reset_I to init_loiter_target
b3e8112d24 Copter: Hybrid fix wind_comp time constant
4778c73de2 Copter: Hybrid 10hz updates to wind comp lean angles
f87ab21063 Copter: Hybrid estimates wind when speed under 10cm/s
d36f137bf8 Copter: allow arming, disarming in Hybrid mode
e2aaafe40b Copter: hybrid works for 100hz and 400hz
705ff3f44f Copter: add hybrid_mix_controls
e48c93d93c Copter: restructure hybrid into more states
f467d7bc20 Copter: add Hybrid parameters
754bae5748 Copter: refactor and split out wind compensation
d9c685323a Copter: add hybrid state struct, formatting changes
b5ed23f592 Copter: integrate skeleton Hybrid mode
832fc62016 Copter: control_hybrid initial version
09a35cf90f AC_PosControl: bugfix for freezing I-term build-up
559a258ede AC_WPNav: bug fix to limit target point from moving beyond leash
9c6995d8bb AC_PosControl: add get_accel_z method
e565ee6d33 AC_PosControl: stop I term build-up when motors at max
05c59c757c Rover: use get_current_nav_index()
e15350f756 Plane: use get_current_nav_index()
e10542dcae AP_Mission: added get_current_nav_index() function
96173bfb8a AP_Rally: Added one getter method and made a utility method public.
0e065e4894 AP_InertialNav: get_velocity_xy const
5fc071f5f9 Copter: restore SITL to run at 100hz
6f6c9e2585 AC_PosControl: bug fix to vertical speed limit
12012c9530 Plane: fixed a potential numerical error close to waypoints
e07b70de4e Copter: set AHRS vehicle class
c413cdc480 Rover: set AHRS vehicle class
250deaa32f Replay: added vehicle class detection
b1d82b37ff VARTest: fixed build
0de41f0ce1 Plane: set AHRS vehicle class
25667a11a0 AP_NavEKF: use AHRS vehicle class for sideslip calculation
5acd17b843 AP_NavEKF: cleanup some build warnings
c8c6e05a4a AP_AHRS: added vehicle class to AHRS
bd28cdbdcf AP_NavEKF: Improved magnetometer consistency checks
01538c5290 Copter: remove unused lon_error, lat_error
648787a6c8 AC_WPNav: rename some definitions
2167dd7d3e AC_WPNav: update target speed immediately
05bffb5915 HAL_SITL: enable use of SIM_FLOAT_EXCEPT parameter
e0db7b117f SITL: added SIM_FLOAT_EXCEPT parameter
610a930612 AP_NavEKF: catch covarience errors and reset filter
7e5a491f14 AP_Math: prevent a floating point exception
4d24a86088 AP_AHRS: prevent a infinity value
7ca08294e7 Replay: added floating point exception checking
d382fa51ee AC_WPNav: run loiter and wp nav at 50hz on Pixhawk
8ac14023b4 Copter: set main loop rate from CPU class
72d2712c4e AC_WPNav: integrate update_xy_controller name change
966340a02a Circle: integrate update_xy_controller name change
7e376bc517 PosControl: update_pos_controller renamed to update_xy_controller
4756dbee84 AP_NavEKF: fixed millisecond subtraction for rollover
2295632660 Replay: added -A option to set arming time
994ce50714 Plane: setup failsafe values for OBC in failsafe callback
2ab4ffef45 Plane: use new APM_OBC API
be9d0c1c4d APM_OBC: setup termination values in PX4IO
0d4985079e RC_Channel: added support for LimitValue settings
a1edf347bf Copter: STB_RLL_P and STB_PIT_P @Range 3 to 12
41100a13c3 Plane: setup failsafe trim values for if FMU firmware dies
594c5c07b3 Rover: setup failsafe trim values for if FMU firmware dies
7f4178d967 RC_Channel: added setup_failsafe_trim_all() function
5cd145a307 AP_HAL: added set_failsafe_pwm() API
7f9a9107c7 APM_Control: logging_started needs to be static
623cbc3316 Replay: cope with too many log format msgs
68f1ae3036 AP_NavEKF: fixed some matlab ! -> ~ typos
5a7afbf2cd AP_GPS: prevent writing GPS log headings multiple times
b9845047f4 Copter: bug fix AP_Rally param directory
2a298d0ea4 Plane: remove RALLY_WP_SIZE definition
7af5d4a8ce Copter: remove RALLY_WP_SIZE definition
e3ffd5c0dd Common: remove RallyLocation defintion
7011ab40c2 Rally: define RALLY_WP_SIZE and RallyLocation
fa3732ac6d Copter: integrate AP_Rally
568fc9e6c9 Plane: Now using AP_Rally library.
a2aab2ab5e AP_Rally: Minor fixes to AP_Rally after initial testing
5825bac410 AP_Rally library
04292d7e5e autotest: Added McMillan airstrip at Camp Roberts to locations.txt
817c893f21 Copter: bug fix for conditional_distance command
55d926b055 code style: add indentation rules for makefiles
f29ad3a2e0 Copter: bug fix for when WP_YAW_BEHAVIOR is 0
5322093475 Mission: fix example sketch after GPS lib changes
c53a0fcfd9 Copter: conditional yaw fix
b4c5f31b17 APM_Control: reduce the number of parameter saves in autotune
ccc7d36493 APM_Control: Modify D and I gain scaling
7f00bd7f5d Copter: default WAYPOINT to current pos if lat, lon, alt are zero
d2dad1b2c1 Copter: remove unused circle_desired_rotations
e6d2692eab Copter: Loiter_Turns moves to edge of circle if location provided
f6676be400 Copter: integrate change in AC_Circle init
94d38ee294 AC_Circle: add get_closest_point_on_circle
ff9838ea27 Copter: Document stream rate parameter functionality
c2184cb8e4 PID: fixup line endings
72e97cbf5c AP_Param: fixup line endings
a7820e6c71 OptFlow: fixup line endings
fce1277b0e Notify: fixup line endings
b7bed437c2 Compass: fixup line endings
80cb13e222 BattMon: fixup line endings
d09e871319 AP_Airspeed: fixup line endings
c34c4d79f6 AP_ADC: fixup line endings
b7410494e3 AC_PID: fixup line endings
2e79032f83 AutoTest: fixup line endings
58edd1415a Tools Serial Proxy: fixup line endings
25f9a469e6 Tools: fixup line endings
4bfd6b8ddd Copter: fixup line endings to be newline
cf86e304f0 Copter: add V-Tail to FRAME param's @Value
c992c15276 codestyle: specify line-ending, trailing-whitespace and tab rules
3ecdc4b741 Copter: Add support for V-Tail Quads
729026d80c Drift: get velocity using const reference
02775e8dc5 AC_PosControl: get_accel_target returns const ref
f5a68fdba1 Copter: clear RC in overrides on GCS failsafe.
60f522a094 AC_WPNav: set_wp_destination to use current target
d30c4ffe80 Plane: added AUTOTUNE_LEVEL parameter
ae7293ef68 APM_Control: added support for AUTOTUNE_LEVEL
86f167fc7f AP_Vehicle: added autotune_level to fixed wing parms
b7350118a6 AP_AHRS: enable EKF wind estimate with no airspeed sensor
4abc2999a6 AP_NavEKF: start with a wind estimate of 3m/s, when no direct measurement
d745dc2b6f AP_NavEKF : Increased position gate default to reduce impact of accel errors
188bea6bab AP_NavEKF : Enable calc of wind velocity when not using airspeed sensing
df192a9efd AP_AutoTune: lower min tau to 0.2
3343af602e APM_Control: fixed saving of new rate gains
b9a8ef3b51 APM_Control: fixed a bug in autotune servo saturation check
8a20130ca8 Plane: changed for APM_Control API
64170d0f04 APM_Control: added dataflash logging to autotune
7f5eeabadc DataFlash: reserve a range of msg types for autotuning logs
1bce4239a3 Plane: added AUTOTUNE flight mode
50fc75917e APM_Control: first version of APM_Control autotuning
3b8839d2f7 AP_GPS: fixed num_sensors on APM2
7404fc9d40 SITL: added SIM_BARO_DISABLE parameter
d37f1a1376 Plane: updates for OBC API change
4c5e59c098 autotest: added OBC frame type
ad18019fb1 APM_OBC: added pressure altitude termination
43fc6ce0b8 AntennaTracker: use get_altitude_difference()
41dd280739 AP_Baro: expose get_altitude_difference()
b3d84cec81 autotest: added AVC location
f13e6079bc autotest: added locations.txt
42b9ba531e autotest: replace sim_*.sh with sim_vehicle.sh
8b9b4026f0 SITL: support -P option
7dda8afd60 Copter: Fixed GPS_ok() status checking
312a2fc8dc AP_TECS: Parameter TECS_LAND_SPDWGT allows custom landing speed weight.
030567854b Rover: ensure we log both GPS at the time we receive a message
1189978334 Copter: ensure we log both GPS at the time we receive a message
4d990fa6c8 Plane: ensure we log both GPS at the time we receive a msg
95304e27c9 DataFlash: added separate logging of each GPS
a821b0e198 AP_GPS: fixed a build warning
e79f1d0940 Plane: prepare for release of 3.0.1
aabcc2bb35 Plane: fixed a bug in PWM based throttle failsafe
27a3b5fb36 AP_AHRS: fixed wind reporting with EKF and no airspeed sensor
b78e59ea30 AP_Motors: add stability patch test to example sketch
b1b96ec8e9 AntennaTracker: added SCAN mode
b45819dd97 AntennaTracker: don't use EEPROM home if a startup home is set in parameters
db7c3a9c52 AntennaTracker: added SERIAL_CONTROL support
8debcba4b1 AntennaTracker: fixed manual control, and added baro calibration
a15e4633b7 SITL: prevent wind effects at negative altitudes
e7d73aa856 Copter: enable GCS failsafe to RTL by default
037a0b4e5a Copter: dos2unix Parameters.h
905e5a4d08 build: added vrbrain to build_all.sh script
affcea5342 Plane: fixed typo in VRBrain port
1ca6583df8 AP_BoardConfig: restore /dev/vroutput change from Emile
be51a68701 3DR_Aero_RTF: Changed the name from 3DR_Skywalker_RTF
79996986ad VRBRAIN: corrected ADC pins for volt and current sensing.
a9bd4e9da1 VRBRAIN: added ignore board voltage check for VRBRAIN boards.
1d28acd182 VRBRAIN: Added missing files. Added *.vbrain files to git ignore.
7fe4847b6c VRBRAIN: Added NuttX driver vroutput for PWM out
c5620dfd39 Rover: added VRBRAIN #defines and #includes
a111d174c1 Plane: added VRBRAIN #defines and #includes
9e31f032c2 Copter: added VRBRAIN board #includes and #defines
01b7bcd05d mk: new VRBRAIN board definition
d1e4fbf267 AP_EPM: added #defines for VRBRAIN board
e8b9e9d53c AP_Airspeed: added #defines for VRBRAIN board
69d2633465 AP_Relay: added #defines for VRBRAIN board
25f1c5774f AP_NavEKF: added #defines for VRBRAIN board
39d9e93904 AP_BoardConfig: added #defines for VRBRAIN board
1d27e0d127 AP_BattMonitor: added #defines for VRBRAIN board
ab9a320187 DataFlash: added #ifdefs for VRBRAIN board
06744ea7d2 AP_InertialSensor: new files and definitions for VRBRAIN board
4ad83f3c8a AP_Notify: new files and definitions for VRBRAIN board
1bc199c5bd AP_Compass: new files and definition for VRBRAIN board
7b5c002d2f AP_Common: new board ID for VRBRAIN
f4784fe6a1 AP_Baro: new files for VRBRAIN board
bbe0362600 mk: new make files for VRBRAIN
201332caef AP_HAL: New VRBRAIN board definition and libraries
028b7d1cce AutoTest: fix AVC copter test
5c7cbc6e7f AutoTest: rename AVC2013 to copter_AVC2013_mission
3d1f7acc8b AutoTest: rename CopterAVC to copter_AVC2013_params
8009f25705 AutoTest: rename ArduCopter to copter_params
61a084ef88 AutoTest: rename copter_spline to copter_spline_mission
d0331e0f25 Plane: spelling fixes
d2d9ad5bbd Plane: prepare for 3.0.0 release
c66008cdfa Plane: fixed displayname for FENCE_AUTOENABLE
29d4e60c8d AutoTest: shorten copter mission
f54d8b02eb AutoTest: fix to copter missions
db043744a4 AP_NavEKF : Reduce Z accel bias process noise to provide a more stable estimate
1f8b5a6d23 AP_NavEKF : Tighten GPS velocity glitch gate default setting for plane
0c2489b07b AP_NavEKF : Fix bug in logging of airspeed innovation consistency ratio
95c83255d7 AP_NavEKF : adjust default values for accelerometer process noise
95764f4d78 Plane: fixed allocation and reporting of fence status
8a4d82f43a Copter: AC3.1.3 release notes
9959a44453 AP_Motors: properly constrain thr_adj_max
9bf9e0ede9 Copter: check parachute is enabled before manual_release
3600bed47a Parachute: relay parameter description update
01e5ae6e5c Copter: integrate parachute alt_min units change
879d447404 Parachute: alt_min units to meters
50df95316a Parachute: initialise released variable
5876a2fe47 AC_AttControl: increase default rp accel to 900deg/s/s
92d212abf1 AutoTest: make sim_arducopter_randy.sh executable
95579229ed Parachute: add 0.5sec delay before parachute is released
103772abe2 Parachute: add AP_Notify.h to example sketch
a639df0256 Parachute: set AP_Notify parachute_release flag
e3e7fc284d Notify: add parachute release tune for Pixhawk
47c1cb8b99 Copter: log parachute events
699b84e8ca Parachute: minor comment changes
2b4d2697b2 Copter: process MAV_CMD_DO_PARACHUTE commands
d8f9a1c6c6 Mission: add support for MAV_CMD_DO_PARACHUTE
a682f652d0 GCS_MAVLink: generate after MAV_CMD_DO_PARACHUTE added
cec7574465 GCS_MAVLink: add MAV_CMD_DO_PARACHUTE
56768a8d61 Copter: add min alt check to parachute release
b478c3a321 AC_AttControl: return angle_ef_targets as const ref
340f3a7f9d Copter: ch7/ch8 parachute release
ac982656fd Copter: extend crash check to trigger parachute
ff32b27272 Copter: integrate parachute lib
d4cb51d8f7 AP_Parachute: add example sketch
8600b9d4f1 RC_Channel: add parachute_release to function enum
9d807802cc Parachute: initial draft library
15b99300a2 build: fix paths in install-prereqs-ubuntu.sh
f9d262278f Tools: Update gcc-arm version from q2 to q4
3fe9486868 Plane: fix auto doc unit on GROUND_STEER_DPS
efdb678e00 AP_Motors: fixed example build
f4cbec0ce1 APM_OBC: removed unused example code
8322525431 Rover: show next wp when not running a mission
ae350e42aa Copter: show next wp when not running a mission
de3c04adaf Plane: show next wp when not running a mission
ac7f36494b Rover: use the next navigation course to adjust steering gain in turns
cc212be41e AP_Mission: added get_next_ground_course_cd() API
58cfdebcd0 Rover: added BRAKING_SPEEDERR parameter
e566802bf3 AP_Math: fixed example build
c12e53189c autotest: added apm2-obc to build tests
fb70ecb9d4 build: added -obc supplementary target
1fe7b2fe18 Plane: update for new APM_OBC API
6f55dc1686 APM_OBC: update for AP_Mission and AP_GPS changes
43ebd86bb1 AP_GPS: disable SBP driver on APM2
5a585b90e8 AP_GPS: fixed some warnings in SBP driver
33576dfdd9 AP_GPS: Swift Binary Protocol SINGLE-POINT-POSITIONING Driver
e32b73f075  AP_HAL_AVR_SITL: Adding Swift Binary Protocol stand-alone simulator
00064ac883 SITL: Adding GPS types for Swift Binary Protocol
879eb5936b AP_MATH: Adding WGS GPS conversions, CRC16 checks, and double-precision Vectors and Matrices
161b5f99b3 SITL: Adding Swift Binary Protocol GPS type
552f33b39e AP_GPS: Support fix types of DGPS and RTK
64d4a1236f AP_Notify: Support all GPS status flags, with status >= GPS_OK_FIX_3D notified as having a lock
87c77dc07f Rover: added SERIAL_CONTROL support
454d1f26c3 Copter: added support for SERIAL_CONTROL message
f7858bfb0a Plane: added support for SERIAL_CONTROL message
67ed5b73ef AP_GPS: added lock_port() interface
b8675b9abc GCS_MAVLink: implement SERIAL_CONTROL MAVLink message
493c5dd63f GCS_MAVLink: rebuild MAVLink headers
14b3696959 GCS_MAVLink: added SERIAL_CONTROL message definition
339689b578 Copter: fixed load average for different loop rates
07d621c4be AP_NavEKF: used state structure in more places
aa5335b16e AP_NavEKF : Improved GPS position glitch handling
b1786cf1e5 AP_NavEKF : Do not reset on GPS velocity timeout if good position data
d25883f712 AP_NavEKF : Limit rate of Z accel bias adaptation
36b3cbc365 AP_NavEKF : Relax aliasing check limits This reduces the chance of noisy data inhibiting GPS glitch protection
0ae736c3a0 AP_NavEKF : clean up convoluted logic used in sensor health checks
013aaf4d3e GCS_MAVLink: moved comms functions to not be inline
d9d038345a AP_GPS: save 800 bytes of code space on APM2
9f857529ca AP_GPS: auto-switch primary GPS based on status and number of satellites
5a84fb96ed Plane: build fix
1efadb7a05 Plane: fixed some warnings
27ad8c39d6 Copter: enable passthrough auxillary channels
c6f9627782 Rover: use new channel output API
3c33eb3f09 Plane: use new channel output API
11f196318e RC_Channel: added static functions to simplify operations on all channels
21c205a57e AP_GPS: cope with different MON-HW message size in u-Blox Neo7
cd3038fabd AP_NavEKF: fixed return of offset in getVariances()
dcb42af3e9 AP_BattMonitor: fixed example build
eaf746b7fd Replay: fixed velocity vector
3a92d75936 Ublox: Enable 1Hz Lock LED by default
7bf12cfd8a Copter: update for gps.setHIL() API
337ca31b79 Rover: update for gps.setHIL() API
88693796ef Plane: update for GPS.setHIL() API
ec04eba61c Replay: handle multiple GPS sensors
067bbf5b5c DataFlash: hdop is unsigned
e40a048009 AP_GPS: handle multiple GPS in GPS setHIL()
79f5618f6f AP_GPS: zero state structure on driver release
2ddc414f4d InertialNav: replace safe_sqrt with pythagorous2
90e205c905 AC_PosControl: replace safe_sqrt with pythagorous2
15da01cf3a AC_WPNav: replace safe_sqrt with pythagorous2
b8e4e35a0d AP_Airspeed: use pythagorous3()
a7f213a5c5 AP_NavEKF: use pythagorous2()
9ab1a79b5a AP_Airspeed: changed sqrt() to sqrtf()
4f2a390dfa Replay : Incorporate EKF4 flash logging updates
09c5ba1aed Dataflash : Improved logging of EKF sensor health checks
04036d7777 AP_NavEKF : Updated GPS glitch protection logic
7e2ef0cfc0 AP_GPS: fixed GPS for Replay
9278685cdf AP_Math: fixed location build on SITL
b8f9b5ad91 Rover: added GPS parameters
852cdbaa7c Copter: added GPS parameters
d395f50521 AntennaTracker: added GPS parameters
77e2f48581 AP_GPS: fixed notify updates for new API
9781175bf5 AP_GPS: fixed handling of driver destruction
7ceba8dce4 AP_GPS: prevent double allocation of GPS drivers
8779ffe088 AP_GPS: flush pending config strings when uBlox starts
0191355488 AP_GPS: fixed init strings to all be in progmem
bc0c9ad6d5 AP_InertialNav: fixed example build
35c111a63a AP_AHRS: fixed example build
7b2d56a8cb AC_Fence: disable example build
3b8c6e629d AC_AttitudeControl: updated example for new GPS API
c2486d8d6e AP_GPS: updated examples for new API
60ad429d13 Replay: convert to new GPS API
c51212da53 AntennaTracker: convert to new GPS API
bc1ebcadf5 VARTest: converted to new GPS API
640b64f5e4 Copter: convert to new GPS API
f4079f57b2 Rover: convert to new GPS API
e19341ca32 Plane: convert to new GPS driver API
d04d33a02d AP_InertialNav: convert to new GPS API
5a2e84e792 AP_NavEKF: changes for new GPS API
b7a2db716b AP_Arming: convert to new GPS API
eb67948171 AP_Mount: convert to new GPS API
f07e4dee52 AP_AHRS: convert to new GPS API
31d3b6555f DataFlash: convert to new GPS API
368daf89f1 AP_GPS: new GPS API
198388b5e0 Copter: use AP_GPS_Auto for 2nd GPS
747948692a Rover: use AP_GPS_Auto for 2nd GPS
958e17f4ff Plane: use AP_GPS_Auto for 2nd GPS
2dd92832dc AP_GPS: support multiple AP_GPS_Auto drivers
3c4389180e AP_GPS: removed GPS_406 driver
5fb3b031f1 Copter: disambiguate the various causes of "Bad GPS Pos"
9e7021cc20 Copter: Notify arming failure when using MAVLink
608b8b0a2c Copter: integrate Notify arming failure when using yaw sticks
f0fc0397d3 Notify: add arming failure tone
7bb981f2df AP_Notify: correct dos formatting
4b6f03cc11 Copter: remove do_land's use of RTL_ALT_MAX
2601ac9959 Copter: Remove 80m altitude limit on RTL
045c6d8c3f Copter: Only play GPS tone when armed
ea6fbae666 AntennaTracker: fixed pitch slew rate limit
4cb9d4fcb5 AntennaTracker: fixed mode set using custom mode
563cf06624 Rover: make log_bitmask 32 bit
d9fd577fb0 Copter: add Drift throttle assist constraints
50dcbe6549 Copter: Drift throttle assist range increased
bccf1de563 Copter: add drift throttle assist
f4f04ead68 Rover: added BRAKING_PERCENT parameter
31082f4ce2 AP_Mission: fixed a bug re-entering AUTO
93f8d53d1b Mission: make get_prev_nav_cmd_index const
b15d4379d8 AC_WPNav: use atan2f, make methods const
3ad635feeb AC_AttControl:  45deg/sec yaw rate for Auto, RTL
d27ca53a9d AC_WPNav: spline sets origin vel to zero when no prev segment
7dfde39e19 AC_WPNav: advance_spline to use dt
c0458b786a AC_WPNav: check acceleration is non zero
f0f3688172 AC_WPNav: rounder corners for short spline segments
9c5f564dc5 AP_NavEKF : Fixes bug in initial earth magnetic field states
7bff8e9312 AC_AttControl: constrain earth frame yaw angle error
197683d539 WPNav: clean up spline comments
7d5d0d12a2 Copter: spline bug fixes
e1819bb53a AP_NavEKF : Add initial parameter defaults for Copter, Rover and Plane
14671d0bcd Plane: fixed previous_mode error in geofence
613fda4889 PX4: enabling mkblctrl for fmuv1/fmuv2
ac364c93dd Copter: bug fix for simple_mode when run at 400hz
176a450ad2 Copter: remove spline handling from regular wp_nav
4f68b8ea7f AutoTest: update copter_spline mission
d541fefab4 Copter: add do_spline_wp and verify_spline_wp functions
ac339a0289 Mission: add decoding of NAV_SPLINE command
e7be622eef GCS_MAVLink: generate after adding NAV_SPLINE cmd
519d5fc444 GCS_MAVLink: add MAV_CMD_NAV_SPLINE_WAYPOINT cmd
8f946a3a8c Copter: remove original_wp_bearing
392162747a Copter; integrate WPNAV's get_yaw
24eb195aa3 WPNav: add yaw control for straight line wp nav
3753550a72 Copter: integrate get_spline_yaw
b42b12f7be AC_WPNav: add get_spline_yaw
2ce827d2ae AutoTest: add copters spline test
c0f12911ec Copter: minor format change
0822adfb34 Copter: integrate spline navigation
f2d9ad41aa Mission: minor comment update
e5e71ce371 WPNav: add spline support
bcbdb15c7d Plane: changed version to 2.79beta1
ffcac91120 AntennaTracker: update_GPS now sets HOME position and compass.set_initial_location on first good GPS fix
7116fdecde AntennaTracker: added documentation about compass calibration to AntennaTracker.txt
2e3989f78d AntennaTracker: initial position was not being set on normal startup
6648170102 AntennaTracker: remove call to set fly forward, else if the tracker is moving it will use the GPS direction for yaw instead of the compass
cc21f68ed4 AntennaTracker: minor cleanups in tracker.pde
25c46cdc00 AntennaTracker: Added supportfor manual control message to force antenna bearing and pitch in manual mode
61ebf365d9 Plane: fixed reverting modes when FENCE_SET_RALLY is enabled
8639676eb3 Plane: we need 5 points for a valid geofence
268b1e85a1 Plane: Changes needed prior to merging with master identified by Tridge.
f921d4fbac Plane: FENCE_RET_RALLY param. Plane returns to rally point on breach.
25f23cf16c Plane: Sends MAV_SYS_STATUS_GEOFENCE and also allows GCS to enable/disable fence.
e1d193f539 GCS_MAVLink: Generated code from message additions for autofence.
c5ebd120f1 GCS_MAVLink: XML for MAV_CMD_DO_FENCE_ENABLE and MAV_SYS_STATUS_GEOFENCE
72c12fb2b3 AntennaTracker: added boardconfig object
55c60b8f07 AP_NavEKF : Reduce Magnetometer innovation consistency check threshold
45b1a2fa46 AP_NavEKF : Reduce GPS position innovation consistency fail threshold
8c0c9c317e RC_Channel: prevent a numerical exception with bad mount parameters
bafc664750 AP_NavEKF: use APM_BUILD_TYPE() macro
fbec098e2f AP_Vehicle: added APM_BUILD_TYPE() macro
e3792f9b26 AP_NavEKF: added a mechanism for per-vehicle-type defaults in EKF
6b2f0b9553 AP_Vehicle: added defines for main vehicle types
f31183f22d build: added APM_BUILD_DIRECTORY define to build
6bf2b5033e DataFlash: support logging up to 14 RC input channels
6039eab442 RC_Channel: support up to 12 aux channels on PX4
78ba1a33aa Copter: support 18 input channels in MAVLink
4ac529a0dd Rover: support 18 input channels in MAVLink
32a1c717e6 Plane: report up to 18 RC input channels via MAVLink
64772cede8 GCS_MAVLink: rebuild MAVLink headers
d24547b390 GCS_MAVLink: merge latest msgs from upstream
ff70c87f0b Plane: support 14 RC channels on PX4
c0767eebff Copter: support 14 RC channels on PX4
ce3ed33649 Rover: support 14 RC channels on PX4
09ed8d5819 Plane: updates for new RCInput API
e1b9135946 Copter: updates for new RCInput API
843318f58c Rover: updates for new RCInput API
6eee2421cc AP_HAL: removed RCInput valid_channels() and added new_input() and num_channels()
27dbf608c8 DataFlash: fixed a build warning
2a9a89e020 HAL_PX4: fixes for merged upstream PX4Firmware
17cdac7bc8 AP_NavEKF : Clean up angle and mag field initialisation
3362e42478 Copter: consider health of primary compass in SYS_STATUS, pre-arm and compassmot
f05b90bfd2 GCS_MAVLink: fixed some compiler warnings
0af35bd636 AP_Mission: fixed some compiler warnings
2763393908 AP_InertialSensor: fixed some compiler warnings
b8781ccea7 Plane: fixed a compiler warning
c6f3e0a81c AP_GPS: fixed example builds
d1a650a527 Rover: updates for GPS changes
11e5b95878 Copter: updates for GPS changes
e8b9f22b01 Plane: updates for GPS changes
193a225887 FollowMe: update for GPS changes
e40c178e11 AntennaTracker: fixed build with GPS changes
9b92e25cdc VARTest: fixed build
271ba3a6bc AP_InertialNav: fixed example build
1b1a92251f DataFlash: allow drivers to setup their own logging formats
5630bb1ef6 AP_GPS: added detailed hardware status logging for uBlox
7ff293ca38 AP_GPS: added DataFlash to GPS init to allow for detailed logging
d124fdb182 Plane: report compass unhealthy if primary compass unhealthy
bf4566095a Rover: report unhealthy compass if primary compass unhealthy
485ae596fc AP_Compass: fixed last_update for secondary compass with primary failed
60a4f74de6 AP_Compass: avoid division by zero if we haven't received any mag reports
7ae86b3979 AP_NavEKF : Track baro height observations pre-arm
7780d55788 AP_NavEKF : Prevent large magnetic field adaptations early in flight
af2ae30b65 AntennaTracker: fixed APM2 serial speed handling
3a3a074fab AntennaTracker: fixed ballerina and more accurate tracking
262f8b9f48 AntennaTracker: added STOP mode
ba312ee68e AntennaTracker: lots of new parameters
3efad982c0 GCS_Mavlink: return MISSION_INVALID when conversion fails
f7007569d1 AP_NavEKF : Fix bug that limits copter sensor delay compensation to 125 msec
b2c0979947 AP_NavEKF : Fixes bug that causes accel bias to diverge in static mode, preventing copter arming
71f61c9bef Copter: fix typo to show ATUN FMT in dataflash logs
f6b56b5d26 Plane: fixed mission resume at arbitrary waypoints
a55c4e2296 AP_TECS: set target airspeed, not min/max airspeed, on landing
98530928b5 AP_TECS: make target landing speed a float
861523a00a Plane: use TECS get_target_airspeed()
b1ad2be897 AP_SpdHgtControl: added get_target_airspeed() interface
bd7e1b82e1 AP_TECS: Auto landing now takes throttle_nudge into account.
861690dea2 AP_TECS: New params LAND_ARSPD and LAND_THR auto-slowing landings.
3bdc22d672 AP_Mission: make p1 16 bit
959cafef8d AP_Common: make alt in Location 24 bit
428dcdb817 Frame_params: Updated Iris.param
2131d9923f Frame_params: Added Iris with Tarot Gimbal
d508c7f37f GCS_MAVLink: re-generate MAVLink headers
106fda773f GCS_MAVLink: merge XML from upstream
552674389d Rover: enable logging of RADIO_STATUS
4a01315fc5 Copter: enable logging of RADIO_STATUS
dd06756abf Plane: Add Log_Write_Radio. MASK_LOG_PM must be set for logging to occur.
8af9573806 GCS_MAVLink: allow logging of RADIO_STATUS, very useful for link analysis
68dbfd6315 DataFlash: Add Log_Write_Radio to store RSSI and noise on board.
8202cf437b AP_Relay: fixed Pixhawk relay pin numbers
4257d8365c Plane: removed check on target_component in ARM/DISARM
a345a9d993 Copter: removed check on target component in arm
8a2d16d13d AP_NavEKF : modifed Zaccel bias noise parameter to prevent unstable bias estimate
314daabc9d scripts: test build of Replay in build_all.sh
2008f737cf Replay: fixed build with AP_Mission
ce3f40b095 Plane: use should_log() for more msgs
3d167b5420 Rover: use should_log() for more log msgs
abfcee1cef Plane: fixed channel reversal in HIL
9ff5ba3c3f Rover: integrate Mission cmd field changes
88527cd01c Copter: integrate Mission cmd field changes
3ce56f3086 Plane: integrate Mission cmd field changes
c520cb789c Mission: cmd field types to match mavlink commands
1f74736804 AntennaTracker: use common deferred message handling
e4b3323455 Copter: use common deferred message handling
8da72fccba Rover: use common deferred message handling
4031f7d368 Plane: use common deferred message handling
0832aba6bc GCS_MAVLINK: moved deferred message handling into common code
c8eafc4d42 Rover: use common MISSION_ITEM handling
69252868a8 Copter: use common MISSION_ITEM handling
b74fddade3 Plane: use common MISSION_ITEM code
8d89a64312 GCS_MAVLink: moved handling of MISSION_ITEM into common code
ba8c4b86a0 AP_InertialNav: fixed example build
d36989f6a1 AP_HAL: fixed example build
d3d71d597c AP_Baro: fixed example build
dbd8f4b735 AP_Airspeed: fixed example build
afab8a9c5b AP_AHRS: fixed example build
04587efb2d AC_WPNav: fixed example build
1e9dcba3da AC_Sprayer: fixed example build
4507c0fc4c AC_Fence: fixed example build
73ae38eaf0 AC_AttitudeControl: fixed example build
23e296dd00 GCS_Console: fixed example build
5f85792224 DataFlash: fixed example build
2a199c4f03 AP_Notify: fixed example build
6eece3a278 AP_Mount: fixed example build
acd54d0826 AP_Math: fixed example build
731f980327 AP_InertialSensor: fixed example build
278af21641 VARTest: fixed build
b9939368ea CPUInfo: fixed build
851fb61901 AntennaTracker: fixed for new MAVLink handling
0aafef9f69 Rover: use new common MAVLink message handlers
f4ed2beacd Copter: use new common MAVLink message handlers
0d39f354b0 Plane: use new common MAVLink code
965f6bd3bd GCS_MAVLink: make DataFlash a pointer
b85c5123b2 GCS_MAVLink: added save parameter to handle_request_data_stream()
79bb14b8c1 GCS_MAVLink: moved RADIO_STATUS handling into common code
144217ac74 GCS_MAVLink: moved parameter and stream handling into common code
06c578eb34 GCS_MAVLink: re-generate MAVLink headers
7d3523b4a7 Plane: use _send_buf() functions to reduce stack usage in MAVLink replies
537e78f9fa Plane: much faster mission upload
0b811ba6a9 GCS_MAVLink: added have_flow_control() method
a90a10b0ca Rover: use common GCS_MAVLink handle_mission methods
6ef2b55602 Copter: use common GCS_MAVLink handle_mission methods
1ad743c4e1 Plane: use common GCS_MAVLink handle_mission methods
c462adf2ee GCS_MAVLink: added five handle_mission methods
3938fb7255 GCS_MAVLink: loiter direction removed
37cff752c8 Mission: handle Loiter direction
85725de9cb Copter: use new handle_mission_request()
c7c8a36620 Rover: use new handle_mission_request() function
740ecc2c1b Plane: use new handle_mission_request() function
add2416dbe GCS_MAVLink: added handle_mission_request() common function
ce29bbe394 GCS_MAVLink: save some memory in log download
de119e07bb Rover: remove do_takeoff, do_change_alt support
2184ff1e58 Plane: set_next_WP fn accepts Location
59555e8364 Rover: revert next_WP, prev_WP to location structures
96b2e88e36 Plane: add comment to GCS_Mavlink.pde
ce9f2ef7f0 Plane: minor command logic comments and reordering
204eb8b7d3 Rover: use mission command specific structure
df5c874f73 Rover: fix to support uploading partial missions
30194b9e72 AutoTest: update AVC copter mission
a3573f9ebd Copter: minor typo in do_change_speed processing
08b78db43c Copter: use mission command specific structures
ad4f30e790 Plane: use mission command specific structures
c75560218d Mission: command specific structures
865a4de33d Common: use PACKED instead of pragma pack for Location
954e10b26f Rover: integrate dataflash Log_Write_MavCmd
2f8daf2fa9 Copter: integrate dataflash Log_Write_MavCmd
9ef920b0be Plane: integrate dataflash Log_Write_MavCmd
869f325c66 DataFlash: Log_Write_MavCmd replaces Log_Write_Cmd
3a6698f54b AP_Mission: fixed typo
3538621c48 AP_Mission: doc updates
4bf140aeac Plane: make next_WP and prev_WP be locations
48329c1bba Mission: bug fix for loading consecutive do-cmds
edab06a3ff Copter: truncate mission before uploading new mission
ece02b0c9a Mission: get_prev_nav_cmd returns int16
f1b97fee53 Plane: correct typo re RTL home with no mission
7f21e3885e Plane: RTL home when AUTO run with no mission
6b789cd711 Plane: rename next_nav_command to auto_rtl_command
982ce56d2b Plane: bug fix to set_current_cmd
266a1ce9af Mission: bug fix set_current_cmd
3e05baf95c Plane: fixed build (forward declarations)
2b5bf45e83 Plane: only activate mission callbacks in AUTO mode
3277416aeb Plane: fixed relative altitudes and resuming mission
107cc2c126 AP_Mission: added truncate() function
4992e2e2cf Plane: use mission.resume() not mission.start()
d4510d9b9b Plane: altitude for do_set_home() is in meters
27969175d9 Plane: bug fix to Loiter after mission completes
acdaf561c8 AP_Mission: fixed typo
9b0ae2fcff Rover: use Dataflash lib's Log_Write_Cmd
f3813593b7 Copter: use Dataflash lib's Log_Write_Cmd
ebf72f5beb Dataflash: example sketch includes AP_Mission.h
790a907811 Plane: use Dataflash lib's Log_Write_Cmd
150faafaf4 Dataflash: add Log_Write_Cmd method
7ff379850c Rover: integrate variable max num commands
fdec917607 Rover: pass eeprom start to Mission constructor
033b7eca9e Plane: integrate variable max num commands
7b6906ae3f Copter: integrate variable max num commands
fcea127537 Plane: CLI uses HAL eeprom storage size definition
693ce27bf6 Plane: pass eeprom start to Mission constructor
b587d0d597 Copter: pass eeprom start to Mission constructor
8e117d29eb Mission: test exceeding command storage size
9e07070d86 Mission: pass eeprom start into constructor
7663c5898e AP_HAL_Boards: board specific storage size definition
7b9c3bf707 Rover: call mission.init during startup
36a5287de5 Plane: call mission.init during startup
b718b9070a Copter: call mission.init during startup
ddc4cd4f18 Mission: add init and check_eeprom_version methods
923dca0cb8 Rover: Log_Write_Startup checks success of cmd read before logging
0a7d33a1da Rover: cli test checks read_cmd success before printing
6e60730c89 Plane: cli test checks read_cmd success before printing
ccb2daaed3 Plane: Log_Write_Startup checks success of cmd read before logging
cc7b1c4e9c Copter: init_home checks cmd read success before logging
4c0a31a9dc Mission: init home to zero before writing to eeprom
5ccfa247ac Rover: remove unused definitions
29340c68bd Rover: Mission integration for cli test
1a70ffdeee Rover: Mission integration for ch7 save waypoint
c83733048f Rover: Mission integration into dataflash Logging
4ca3a92655 Rover: Mission integration into command execution
df1b2e1192 Rover: Mission integration with GCS_Mavlink.pde
192286f04d Rover: create Mission object
df339c05fc Mission: num_commands returns uint16
0827506533 Plane: remove unused WAIT_COMMAND
53add04d36 Plane: remove some comments in commands_logic.pde
fa96e9355b Copter: init cmd before saving with Ch7/Ch8
802ab79c84 Plane: bug fix for setting flight_stage based on current command
c4364a8ff5 Plane: remove unused nonnav_command variables
52a08a5284 Plane: CMD dataflash logs use uint16 for total and num
0fc36fd244 Copter: CMD dataflash logs use uint16 for total and num
af186fba05 AP_Common: pack Location structure
e60865b715 Mission: example sketch test for set_current_cmd
512b378c4a Mission: allow set_current_cmd when mission is not running
f036aa1780 Plane: fixed altitude for takeoff and takeoff heading
eaf34bba9a AP_Mission: fixed reset using set mission item to 0
8dd301b0c2 Mission: set_current_cmd to use uint16
6bb05750e7 Copter: remove alt_in_cm from mavlink to cmd conversion
601cde2a32 Plane: remove alt_in_cm from mavlink to cmd conversion
a6e422333e Mission: remove alt_in_cm from mavlink to cmd conversion
bc86a5043a Plane: bug fix for relative alt
9446e9fd2e Plane: integrate AP_Mission library
ddba6f5c19 Plane: mission integration into GCS_Mavlink.pde
97f09ab426 Plane: dataflash logging to use Mission command
fdaf3fc177 Plane: add AP_Mission object to parameter list
04166c1686 Copter: replace memset in GCS_Mavlink
efd4058e8b AHRS: interate move of p1 from Location to mission cmd
5dd86bd7d7 Mission: update example sketch for p1's move to cmd structure
c3162f67e8 Copter: integrate move of p1 from Location to mission cmd
87126c9b71 Common: remove id and p1 from Location structure
0dc3c9ab42 Mission: add p1 to command structure
aade894014 Copter: integrate replace_cmd
4c0ae63169 Mission: example sketch test replace_cmd method
61cc5e6b72 Mission: add replace_cmd method
54c99d84ea Copter: integrate AP_Mission set_current_cmd
ef21e32fbc Mission: example sketch tests set current command
3cbbd4ebb9 Mission: add set current command method
36af34bf8b Copter: send current wp as 65535 to GCS when mission complete
c7ffd2db90 Mission: reduce unnecessary search for do-commands
0c92d60406 Mission: command index increase to int16
92738533fe Copter: auto starts only when num cmds > 1
85b979ede9 Mission: support do-jump num_times is -1
c6c43847b6 Mission: example sketch tests set home command
f77b2af661 Copter: use common location options masks
070cbc9250 Copter: use Mission mav to cmd conversion methods
26b82cf0a3 Rover: use common location options masks
e88f1953d0 Plane: use common location options masks
9ef27955b5 Common: add location options masks
cc8554fa2b Mission: fix example sketch
f4d8ccc128 Mission: add mavlink to cmd conversion methods
67a4b47f6b Copter: pass ahrs into mission constructor
87c7d19f83 AP_Mission: special handling for cmd
37fe229ded Copter: remove unused definitions
359f1a27ec Copter: process cmds from mission lib
6e0e672fb2 Copter: log using mission commands
43c7310540 Copter: ch7 save wp feature to use ap_mission
ffc418dfe3 Copter: add mavlink packet to cmd conversion to GCS_Mavlink.pde
9f03e21f81 Copter: remove low-level handling of mission cmds
5d568502a0 Copter: instantiate AP_Mission object
1bad6a4b15 Copter: add AP_Mission object parameter
e8db57ced3 AP_Mission: replace block read/write for eeprom
fd009d0704 AP_Mission: tests added to example sketch
84b3497a82 AP_Mission: fixes to protect against endless loops
6086bc14be AP_Mission: mostly working draft
4285eba297 AP_Mission: initial draft library
7be2cea42f Frame_params: Adding 3DR_Rover.param
0d23c3b910 Copter: initialise vertical speed for Loiter mode
dd45647626 AC_PosControl: update some comments re leash lengths
345115fddd AC_PosControl: fixed leash length calc for descent speed
39df609235 Copter: fixed vertical speed init for ALT_HOLD mode
d92e7a99a2 Git: ignore test.ArduPlane, test.APMrover2
6b5d27efbb AP_GPS: fixed example builds with change to init()
2b8cc1a1df Plane: use set_mode() in do_RTL()
68462025ba RC_Channel: constrain norm_input() to -1 to 1
eb7db82210 Plane: altitude for do_set_home() is in meters
9cf1fd46c8 AP_GPS: removed nav_setting default
dacba5d911 AP_NavEKF : Update default tuning parameters (for plane use)
d0828d9c15 AP_NavEKF : Prevent bad user parameter causing incorrect GPS fusion
a24bfc1b8a AP_NavEKF : Use synthetic sideslip fusion during GPS denied operation with airspeed
35811758d7 AP_NavEKF : Update comments and remove un-used function declarations
db48ed9218 AP_Compass: fixed showing of is_external for 2nd compass
d595f36ca5 Plane: print PX4 compass type
18686ab671 Rover: fixed comment
2266bd314b autotest: kill off old tasks on exit
acdb2e2175 autotest: raise turn rate of antennas
59c21fff88 AntennaTracker: added sending on SIMSTATE in SITL
aaf22457e5 AntennaTracker: added a note on simulating an antenna tracker
7b1ce2eeb7 AntennaTracker: fixes for antenna tracker
4f44351d4e autotest: added -T option to sim_arduplane.sh
83269bbea7 autotest: initial version of a antenna tracker simulator
40b13cf8df autotest: fixed multi-instance support
beb6123576 GCS_MAVLink: send a "zero logs" message when no logs available
ecdd74d580 DataFlash: return number of logs as zero correctly
d9e8c34a89 GCS_MAVLink: allow for proxying of larger MAVLink messages on PX4
11956ece7c PX4: make compass calibrate fail non-fatal
a26bcddb9b autotest: fixed valgrind options to sim_arduplane.sh
784034170d AP_NavEKF : increased useage of helper functions
7b3130cfcc AP_NaVEKF : Enable operation without airspeed and compass
3a5acb9cea AP_NavEKF : improved on-ground, in-air check and GPS yaw alignment
b47a11edf6 AP_NavEKF : improved  static and on-ground mode selection logic
15a44571c2 AP_NavEKF : enable operation without a compass for planes
2019708056 AP_NavEKF : Make all compass use autodetect
e485b246e7 AP_NavEKF : update comments
c8bd415b00 AP_NavEKF : Add sideslip constraint to allow plane flight without magnetometer
52fabc822f AP_NavEKF : Add low speed magnetometer calibration option
88b0364fcd AP_TECS : Add protection for airspeed runaway due to pitch errors
6ace31b6c1 AP_NavEKF : Fix bug that leaves height unconstrained in static mode
0a33e69787 Frame_params: Updated tilt angles for Tarot Gimbals
c53ad6e3d3 AntennaTracker: Improvements to yaw slewing and ballerina mode
33dc55714c AntennaTracker: update documentation
66016e3d1b AntennaTracker: initial documentation
b4a0c7db63 AntennaTracker: add support for MANUAL and AUTO modes
7c2bba169e AntennaTracker: use gcs[] array instead of old idiom gcs0, gcs3
05646904de AntennaTracker: finish adding GPS support, including using relative or absolute altitudes
b1e00c695e AntennaTracker: now supports mavlink arm and disarm commands to disable antenna servo outputs
c90d3ff59e Flymaple: RCOUtput disable_ch() now supports disabling outputs
e7b0e32bfe Rover: set 2nd GPS as secondary
43d009e3a5 Copter: set 2nd GPS as secondary
65ae9663d4 Plane: set 2nd GPS as secondary
794cc33e6a GPS: added set_secondary() function
148fd889bc Rover: fix for X8R receiver on SBUS in failsafe
8574303a94 Plane: treat PWM below 900 as invalid for mode switch
3a3397d926 Plane: fixup throttle trim on failsafe
6408965ae9 Git: ignore /ArduCopter/test.ArduCopter directory
9287e28307 Copter: bug fix display of PerfMon log's num long loops
54e131cf1f Copter: re-enable CLI for Pixhawk
c9ebd6a175 Plane: improved RC failsafe handling
5a80ae0f61 Frame_params: Updated 3DR Iris for Tarot Gimbal
74bd5f9e40 Frame_params: Updated 3DR Y6B for Tarot Gimbal
70ca616696 Frame_params: Updated 3DR X8 for Tarot Gimbal
df51b3025b Frame_params: Updated 3DR Quad for Tarot Gimbal
2869d6fd08 Frame_Parameters: Added Skywalker
94ff7522fc AP_NavEKF : Fix bug in initial East mag field state variance
63234d4c22 AP_Baro: fixed linux build of BMP085 driver
330728cd80 Replay: fixed compass readings on rover
5dfd9b074e Replay: fixed for rover logs
4cfe50b70c Notify: brighter RGB LED when on battery power
6efc26d3a6 Copter: restore mount's mode to default after ROI completes
1c457d8448 Mount: add get_mode and set_mode_to_default methods
7992a1a7d3 Copter: disable the CLI by default
4f963e7795 Copter: move report_compass out of the CLI
46c8206d0e Git: ignore xml files produced by Plane autotest
00f9843e40 Copter: remove CLI tests for gps, logging, radio
7104bdf855 Rover: support k_steering channel
2cf98e476c Plane: added support for a separate steering channel
dd502e98b4 RC_Channel: added support for separate wheel steering channels on planes
8d95b953c3 Plane: removed some unused functions
0d6064034a Plane: use percent_input() for flaps
a788405c8b RC_Channel: added percent_input() function
fc85228d09 Copter: remove CLI set
3a934357e9 Copter: remove unused reset_land_detector
c56f521897 Copter: ch6 tuning of RC_FEEL_RP
e89600afe3 Copter: integrate smoothing gain into flight modes
3910ab807f Copter: replace input filtering with smoothing gain
429e8d5e50 Copter: integrate AttControl feel param
25ee5d5dc8 AC_AttControl: smoothing_gain to angle_ef_roll_pitch_rate_ef_yaw_smooth
a9db399f60 Copter: integrate AttControl input shaping
15f88c2a2b AC_AttControl: Stabilize input shaping
5f85e7af6a HAL_PX4: switch to new serial port for 2nd GPS
e3952112ad Plane: raise default LIM_PITCH_MAX to 20 degrees
989b26899f Rover: enable EKF detailed logging
af2f72acb0 HAL_SITL: honor SIM_GPS2_ENABLE option
7a52938f68 SITL: added SIM_GPS2_ENABLE option
8d99de5eb5 autotest: use xterm by default and only use make clean if needed
e784c81f3e Plane: only send GPS2_RAW when we have a 2nd GPS
86fa82f767 Copter: only send GPS2_RAW when we have a 2nd GPS
8740ccfc61 Rover: only send GPS2_RAW when we have a 2nd GPS
3a714d5c45 autotest: sim_arduplane.sh works with a range of terminal types
7eb7f8b3ab Tools/AntennaTracker: remove redundant comment
0885d55905 Tools/AntennaTracker: completed intial tracker code
8251cf32fb Tools/AntennaTracker: removed duplicate update_tracker from task list
be34e0358a RC_Channel: Removed duplicate defines from RC_Channel.h
449d09051e AP_NavEKF: cope with compass going offline while in flight
77f91e6250 AP_NavEKF: don't assume the number of gyros == number of accels
ebb3cc3348 AP_NavEKF : Use average of dual IMU gyro data when available
a39d00fc13 AP_NavEKF : Fix bug that prevents Zacc bias state variance being updated
573b3210dd AP_NavEKF : Add div0 protection to the IMU1_weighting calc
bd152d332c AP_NavEKF : Add accel aliasing protection
f2c79ad639 Replay: fixed -g option
ecdcf70ef5 Replay: added accel and gyro mask options
3218ac8e7a Replay: added parameter handling
853271dd37 Replay: moved replay tool into Tools/Replay
295cd9adba AP_NavEKF: give a sensible error for no such file on replay
854f013146 AP_NavEKF : Fixes zero compass offsets on initialisation
cc4c443b32 SITL: simulate dual accel/gyro
e81d2e9584 AP_InertialSensor: Correct out-of-bounds array access that was causing SITL to crash
736201689b AP_NavEKF: only use the active accel from DCM if fly_forward is set
aaaae9a222 AP_AHRS: added get_fly_forward() method
62eff63267 AP_NavEKF : Increase the tuning range for magnetometer measurement noise
9a5ecc9541 AP_AHRS: use primary accel for accel_ef
2c85a7ba56 AP_InertialSensor: expose get_primary_accel() for use in AHRS
cf148fa76c AP_Compass: improved COMPASS_ORIENT and COMPASS_EXTERNAL for Pixhawk
a9e683dada AP_NavEKF: use the accelerometer chosen by DCM for each step
b53496d470 AP_AHRS: choose the best accelerometer at each drift correction step
0b45d2bc06 AP_AHRS: removed the AHRS_GPS_DELAY parameter
6b9e1edf38 Plane: disable GPS2 in HIL
3de574e5dc Copter: disable GPS2 in HIL
87ea98fe2c Rover: disable GPS2 in HIL
78a1cac560 AP_NavEKF : Improved heading and magnetic field state initialisation
d83b382e59 AP_NavEKF : Fix variance constraint bug
8b59e564ba AP_NavEKF: improved replay timing
840f1b9a1e AP_InertialSensor: make HIL timing more accurate
66f238c0da AP_NavEKF: support 400Hz replay from 50Hz logs
3fa2207a2d AP_HAL: allow for microsecond resolution in scheduler->stop_clock()
6fc5c12f1d AP_AHRS: remove unused variable
866e32f059 AP_Motors: removed unused variable
37394b30ee Copter: added support for 2nd GPS
82ffc0ff2b Rover: support a 2nd GPS
07826096a2 Plane: support a 2nd GPS
e410733682 DataFlash: added GPS2 logging
0115b9fa07 HAL_SITL: support a 2nd GPS
836f473db2 HAL_FLYMAPLE: no uartE
58d5454d65 HAL_Empty: no uartE
6c74ca58c3 HAL_AVR: no uartE
4cb61f1f08 AP_HAL: support uartE
bf2dd141e9 HAL_PX4: support uartE for 2nd GPS
95dd252f29 Plane: pass fix type to gps->setHIL()
2fcbdc4056 Copter: pass fix type to gps->setHIL()
50f89d0aa6 Rover: pass fix type to gps->setHIL()
63874dfffd AP_NavEKF: set fix type in GPS replay
d7b2a09919 AP_GPS: added fix type to setHIL
09cce5d24e AP_NavEKF: fixed replay with current copter logs
f321a5f241 AP_AHRS: Change airspeed_estimate to const in children of AP_AHRS
72a91ccbca AP_NavEKF : Prevents aliasing triggering innovation consistency check failures
8a4289b56f Plane: remove unused variables
11028c665d Rover: removed unused variables
7a6f671659 AP_GPS: added have_vertical_velocity() function
c1f9be75fe autotest: fly the cruise rudder circuit a bit faster
a273951f70 HAL_Linux: added missing Util.cpp
eac4b1ec96 Rover: fixed EKF usage for rover
203073e3ba Rover: only use pivot steering in AUTO modes
5db9a87d31 AP_NavEKF : fixed bug in velocity rate of change filter
01c84c3f47 AP_NavEKF : fixed bug in height limit range
36d619ec3a AP_NavEKF : Changed default IMU bias process noise to use smallest value
89e0b48320 AP_NavEKF : Bug fix for height drift due to timer wrap-around
939a32a7bb AP_NavEKF : Improved stability of Z accel bias
9f3c19c03a AP_AHRS : change initialisation requirements for EKF and use dynamic method
6732d6c79b AP_InertialSensor: enable get_accel_count() and get_gyro_count() APIs for HIL
5d7346b5c2 HAL_SITL: fixed build with new HIL INS API
4bcf9b5d98 Plane: fixed logging of relative altitude
492e65acde Plane: fix for HIL API change
ffcc77a21f Copter: fix for HIL API change
4ed2630f4f Rover: fix for HIL API change
ffbd655ba0 AP_NavEKF: support dual sensors in log replay, and fix flight altitude
707cc2b532 AP_NavEKF: allow log filename to be specified in replay
0e18079c47 AP_InertialSensor: allow HIL sensors to support multiple instances
735c6449a1 AP_HAL: added support for commandline arguments
4e56196655 AP_NavEKF: allow states to be accessed using names as well as a Vector22
009913ec60 AP_Math: make is_nan const for quaternion and add .zero() for vector2
1123c40761 Git: ignore Build.APMrover2 directory
33fe778cdd InertialSensor_PX4: resolve compiler warning
a76e2ab02e Plane: reserve NavEKF slot in param list even when not used
bb0995f7d8 Rover: add EKF params to full param list
d992483bf5 Copter: add EKF params to full param list
98bdbb7fed AC_WPNav: set loiter accel to 1/2 of speed
dd9e941311 Git: ignore LASTLOG.TXT
f222f2ef1e DataFlash: fixed logging on PX4v1
20b0444c15 AP_NavEKF: remove sleep on init of EKF
b434c11215 AP_AHRS: removed empty file
2908beb9bd Plane: fixed Log when disarmed value in docs
797212c7ab Copter: remove remnant of cli compassmot
aa5ea23245 GCS_MAVLink: regenerate for COMPASSMOT_STATUS msg
a7c25ec649 GCS_MALink: improved generate.sh failure msg
2457dbf0cd Copter: more checks before starting compassmot
76b60a1a52 Copter: added compassmot over MAVLink
50cbc661ef GCS_MAVLink: added new COMPASSMOT_STATUS message
70cf04aaf4 Plane: tweak autotest gains for plane
213a68cedd autotest: enable EKF for copter AVC test
532f06073a Rover: set the ahrs.set_armed() flag
a45d77f893 Copter: set the ahrs.set_armed() flag
33851030a4 Plane: use ahrs.get_armed()
c9d0c1face AP_NavEKF: use ahrs->get_armed() for static mode demanded
3b1f9a4bbf AP_AHRS: added get_armed() and set_armed() calls
fe0cb23733 AP_InertialSensor: fixed HIL for 400Hz INS
536160a3fb AP_NavEKF: use AHRS get_correct_centrifugal()
fad0b2b233 AP_AHRS: added get_correct_centrifugal()
599c3a8abf AP_Math: added more operators to VectorN
869e41fd03 AP_NavEKF: fixed detection of airspeed sensor
1ade39977a AP_NavEKF : covariance prediction cleanup
8daca145d0 AP_NavEKF : useAirspeed set automatically
6fbada26d3 AP_NavEKF : Improvements to staticMode robustness
0cbe64bc5e Copter: use Log_Write_Baro()
fdae812814 Copter: DO_SET_ROI persists across waypoints
88afd40524 autotest: increase timeout for log download
ff5bc7520c build: added AntennaTracker to build_all.sh
30fd792d40 CPUInfo: fixed SITL build
7fbe9110c2 VARTest: fixed SITL build
fb73036327 AntennaTracker: sim_antennatracker.sh does make clean sitl
8f71af605b AntennaTracker: update to build with latest libraries
9a869fb7e5 autotest: enable EKF in autotest for plane
ccc449db19 autotest: removed the set of SYSID_THISMAV
bd768a0c0c AP_HAL_FLYMAPLE RCOutput.cpp: enable_ch no longer resets servo
ad4db4de6c AP_Airspeed: added setHIL() method
e11ada7bf0 RC_Channel: fixed comment on enable_aux_servos()
b2bd81f262 AP_Baro: added alternative setHIL interface
5bf170c440 AP_NavEKF: fixed log replay code
024855014f AC_PosControl: update _pos_error if it is being limited
bf68edd01c Copter: bug fix to 50hz logging rate
d9b7559379 Copter: remove duplicate #define from APM_Config.h
4e1c51aa65 Copter: bug to disarm at end of mission
29c818ec6f autotest: re-fetch parms after loading
9282c8d0d9 Plane: allow for a wider range of values on the control switch
2ba994b040 Rover: allow for a wider range of values on the control switch
0d6e8e9c0d autotest: fixed timeout waiting for LOITER
9cf70fe3f7 AP_HAL: another broken example build
ce66314f40 Copter: fixed HIL build on PX4
c39ad1cafb autotest: better skid steering support in the rover simulator
4e2d5043ba Rover: added PIVOT_TURN_ANGLE parameter
bbf5c11c8a Update Parameters.pde
4f9f87a8c6 AP_HAL_FLYMAPLE: Add notes to FlymaplePortingNotes.txt re GPS selection.
54a0b04c12 AP_HAL_FLYMAPLE: RCInput detects stale input readings better. Update test code.
f1533aa350 AP_HAL_FLYAPLE: update documentation in FlymaplePortingNotes.txt
81791bdc43 AP_HAL_FLYMAPLE: Added documentation about alternative orientations to FlymaplePortingNotes.txt
95bea052d2 AP_HAL_FLYMAPLE: update documentation in FlymaplePortingNotes.txt
2c94a40310 AP_InertialSensor: AP_InertialSensor_Flymaple Remove unnecessary comment
dd6abb49a9 AP_InertialSensor: AP_InertialSensor_Flymaple::healthy() was required after all.
0a43cf8c5c AP_InertialSensor: AP_InertialSensor_Flymaple removed redundant definition of healthy().
f7279aa13f AP_InertialSensor: AP_InertialSensor_Flymaple implement get_gyro_health and get_accel_health.
4dc33c8de8 AP_HAL_FLYMAPLE: updated FlymaplePortingNotes.txt
55cf4b2111 mk: added HIL_MODE defitinition for Flymaple
d277b6cabd AC_AttControl: fix @Units parameter descriptions
7a82746fcc AP_NavEKF : fixed bug in pos and vel reset when in static mode
98f72a4864 Plane : changed useage of ahrs.set_correct_centrifugal
275ef86f86 AP_NavEKF : Position and Velocity reset bugfix
b22dc706b2 AP_NavEKF : staticMode bugfix and robustness improvements
2926602718 AP_NavEKF : Cleaned up InitialiseFilterDynamic
404fbafe26 AP_NavEKF : Changed timout behaviour to only reset PosVel states
856dfd0ee6 AC_AttitudeControl: fixed example build
ee37bc3d27 AP_AHRS: ensure we have HAL_CPU_CLASS available
6af705d455 AC_Circle: bug fix for pos target when radius is zero
9130c88f15 AC_PosControl: throttle rate to simple P controller
00913ffe1b Copter: throttle rate to simple P controller
a021d0ca31 AHRS: fix compiler warning
9444ba7ea8 TradHeli: init roll/pitch input filter
b259510095 Copter: init roll/pitch input filters
34b62fc078 AC_AttControlHeli: add ACCEL_RP_MAX, ACCEL_Y_MAX
b8d9bdb794 AC_AttControl: accel limit for roll, pitch yaw rates
189d635493 AP_Compass: constrain compass offsets to +/- 2000
aeb7578e5d Rover: change to Compass::learn_offsets
9c66dd0d2c Copter: change to Compass::learn_offsets
99f2c8387c Plane: change to Compass::learn_offsets
f493b1c07a AntennaTracker: change to Compass::learn_offsets
6618bdae67 DataFlash: periodically use lseek to avoid NuttX seek bug
9bb8f73d56 Compass: split compass learning out to its own C++ file
24e1070eb2 AP_NavEKF: initialise quaternion from rotation matrix
2df314799e AP_Math: added tests for quaternion to/from rotation matrix
689f230d40 AP_Math: added quaternion.from_rotation_matrix()
c6b24c521b AP_NavEKF: force healthy false when initialising
be33a9634e AP_AHRS: move using_EKF to .cpp to make it easier in gdb
eedd88c2ec AP_AHRS: give zero lat/lng and baro alt if no position yet in DCM
59a56c9b46 Plane: enable Baro logging
4d3f714a5d AP_Notify: fixed example build
830afefcef AP_HAL: fixed example build
3af38a778d AP_Baro: fixed example build
8201f9c928 AP_NavEKF: don't build example
c1dff6aa65 AP_Math: fixed example build
f9d0747750 AP_InertialSensor: fixed example build
5bdc564191 AP_AHRS: fix example sketch
c18b3f6094 AP_Airspeed: fix example sketch
bb715424ee Baro: fix BMP085 example sketch
d761ddd4af AP_Motors: fix example sketch
ae59bef6d1 AC_INav: fix example sketch
42d9225fbe HAL_AVR: ArduCopterLibs to use AC_P library
bf3effcd10 AC_WPNav: fix example sketch
889ee1bfef AC_Sprayer: fix example sketch
4484a4232a AC_Fence: fix example sketch
c35bd84e21 AC_AttControl: fix example sketch
aab9b30bf6 Copter: replace APM_PI with AC_P
451910fc94 AC_AttControlHeli: replace APM_PI with AC_P
ff9f4fe6e7 AC_AttControl: replace APM_PI with AC_P
94fb9c4274 AC_PosControl: replace APM_PI with AC_P
fbf8106280 AC_Circle: remove AC_PID include
e86a21a254 AC_WPNav: remove AC_PID include
8fae75ee87 AC_PID: add AC_P controller
fbc5af2705 AC_PID: results returned as float
46f4368522 AutoTest: adjust copter CIRCLE_RADIUS to 3000
3f10a84a2a Copter: remove accel calibration from cli
3ccd1ad170 Copter: integrate AttControl method name changes
6880a6db80 TradHeli: integrate AttControl method name changes
a6ad51b38f AC_AttControl: rename most methods
7ed5080dc9 Copter: simplify get_angle_targets_for_reporting
41dcfae7c0 AC Acro and Sport: Angle limit code update
65c2fc0cc6 AC_AttControl: ACRO fixes
0bbe038587 GCS_MAVLink: re-generate MAVLink headers
801ceacaf2 AP_AHRS: re-run update_trig() after EKF AHRS update
a88212eb7a AP_InertialNav: fixed EKF version for new AHRS API
a7a44a9a5c AP_NavEKF: fixed init order warning
9b8311580b AP_TECS: update for AHRS API change
25ef0d5a7b AP_AHRS: don't allow get_velocity_NED() and get_relative_position_NED() without EKF
ebf6d47830 Copter: disable direct tuning, we need accessors for this
6964529124 AP_Baro: _calculate can be private
566b0ccc61 Plane: call esimate_wind()
c62ccce9d8 AP_AHRS: make estimate_wind() public
d7839aa4ab Plane: removed duplicate log description
1001df0e56 Plane: removed extra log enum
35a9201c9a Plane: fixed comma
a7faa58879 Plane: fixed up merge errors
b56c8211c9 AP_NavEKF: Reduced number of Mavlink tuneable parameters
c20fac1269 AP_NavEKF: Updated comments for private functions
deb64c4cbd AP_NavEKF: Pos Vel reset after long GPS timeout
7ac0172db1 AP_NavEKF: removed repeated intialisation
28fb5e364b AP_NavEKF: Fixed bug in pos/vel/hgt reset on timout
f74cce8b4e AP_NavEKF : Removed double to float conversions
80f6dba694 AP_NavEKF: Improved control of fusion update intervals
13b9daeff5 AP_NavEKF: Added constraints to Mavlink tuneable parameters
b123e1bb16 AP_NavEKF: Improved in-air reset behaviour
1651980b9f AP_NavEKF: Improved behaviour following loss and regaining of GPS
14eb63e7c9 AP_NavEKF: Made most tuning parameters Mavlink adustable
a551703877 Plane: fixed parameter build for NavEKF
2fbdf7f718 Copter: fixed build for AHRS API changes
f800f5592d AP_NavEKF: fixup parameter handling
f09ae0c2d0 AP_AHRS: expose get_NavEKF as non-const
f0f76920fa AP_NavEKF : Mavlink tunable parameter - first attempt
8c4b0b9be9 Plane : NavEKF Mavlink tunable parameter - first attempt
128f71157d AP_NavEKF: Fixed bug in pre GPS fix updates
08267cea87 AP_AHRS: Scheduling for yaw gain to reduce atitude errors in turning flight
357743ee2d AP_NavEKF: Adjusted tuning parameters for plane use
b4171853b1 AP_NavEKF: allow initialisation before GPS lock to aid indoor testing
7fb60812c2 AP_NavEKF: Added pitch and roll inertial sensor to body trim adjustment
9d375da550 AP_NavEKF: changed sqrt to sqrtf
1f0b4b02d0 AP_NavEKF: fixed merge error that inverted static mode
a8dc1be4de Copter: fixed non-EKF copter build
17e24521e8 DataFlash : Added logging of NavEKF innovations and variances
9bbddb2f66 AP_TECS : Use NavEKF height and height rate data if available
0599817aa9 AP_AHRS : EKF initialisation changed to use bootstrap method
401e3aee43 AP_NavEKF : Changes to test harness to support accel bias states
5219869389 AP_NavEKF : Added Z accel bias state and bootstrap initialisation method
301a04b74a AP_NavEKF: update params for copter
20989fd5e9 Copter: allow ch6 tuning of EKF
f068d0ff7e AP_AHRS_NavEKF: expose non-const EKF for tuning
7c73020015 AP_NavEKF: make params public so they can be tuned
9f130b40a0 AP_AHRS_NavEKF: override set_correct_centrifugal
8f6fd86f69 AP_AHRS: make set_correct_centrifugal virtual
24f8f02942 Plane : disable AHRS centrifugal corrections when disarmed
a87df0ad56 AP_AHRS : set NavEKF staticMode using call to set_correct_centrigual
5c3dea28dc AP_NavEKF : Enable staticMode to be set externally
3617c65af7 AP_InertialSensor: make HIL treat time like PX4 does
77c4968342 AP_NavEKF: enable plotting in plot2.dat too
ab2a5a0672 AP_NavEKF: enable some debug
0d4d287215 AP_NavEKF: comment and parameter tweaks for ground testing
b6b0c2a489 AP_NavEKF: fixed bug in flag reset for hgt fusion
2f3b2a7111 AP_NavEKF: second attempt at higher rate baro fusion
cdbc5a3f35 AP_NavEKF: added position observations to static mode
da2c341914 Revert "AP_NavEKF: Modifed Vel Pos fusion to fuse height data whenever baro reading has changed"
32cc427ff4 AP_NavEKF: Modifed Vel Pos fusion to fuse height data whenever baro reading has changed
2998aa1a6a AP_NavEKF: Amended tuning parameter list, and changed from variance to noise definitions
f9aae1b90b AP_NavEKF: fixed bug in variance constraint code
735c9684da AP_NavEKF: removed error in constructor comments
8f999fe787 AP_NavEKF: Misc tuning adjustments for Plane testing
c87a5aaf34 AP_NavEKF: added PositionReset public function to fix pre-arm loss of solution
fec4fd463c AP_NavEKF: reduced On Ground yaw gyro bias drift variance scaler
619fffec3e AP_NavEKF: added static mode for pre-arm and bench testing
ab08a5c7d6 AP_AHRS : altered NavEKF set home to reset position instead of reset filter
d0831c708d AP_NavEKF : Added position and height reset public method
1b1f9e41ab AP_NavEKF: improved playback initialisation
d9ef45234b AP_NavEKF: useful plotting function
0816642436 AP_NavEKF: handle intertial nav
77c6e3206a AP_NavEKF: some debug code
2cd781997f AP_Baro: changed HIL driver to use floats and better handle starup
c995f994c5 AP_InertialNav: make some functions protected
c33da7b3a2 AP_NavEKF: fixed log playback for copter
78ff078988 HAL_Linux: fixed stopped clock delay
9b53db66cb AP_NavEKF: tweak parameters based on randys copter log
9e3bf685c2 SITL: use sinf() and cosf()
bb0eed5c14 SITL: prevent initialisation error
574946f0aa AP_AHRS: start EKF 5 seconds after getting GPS lock
df271fbd59 AP_AHRS: fill in _dcm_matrix whenever EKF started
4c42f53636 AP_NavEKF: use INS delta_time
5193ce90dc AP_NavEKF: copter specific dtIMUAvg
ada7d4fb98 AP_AHRS: use the right DCM matrix when EKF not enabled
86afd13f12 Copter: use GPS AIRBORNE_4G
a74fcc5a93 AP_AHRS: added set_ekf_use()
a112694a50 Copter: added AUX switch option for enable/disable EKF
38ac8d404a SITL: fixed PX4 build
fba0891617 SITL: fixed SIM df altitude
8b1d056e07 AP_NavEKF: updated timeout for GPS retry and reduced onGround gyro bias noise multiplier
7e026d41df AP_NavEKF: explicitly zeroed covariance matrix priro to setting initial values
6e6e3d923e AP_NavEKF: improved covariance matrix numerical stability protection
5606e2f4a7 Copter: enabled EKF and SIMSTATE flash logging
bb4789a875 Plane: use common EKF logging
45177df354 DataFlash: moved EKF logging to common code
6a9189a6a5 Copter: enable AHRS2 mavlink message
4646682a31 Plane: use common send_ahrs2()
9aea781248 GCS_MAVLink: moved send_ahrs2 to common code
66dbaa6657 AP_NavEKF: make health() API const
47f541e143 AP_InertialNav: implement InertialNav in terms of AHRS when available
5d43a1d704 AP_AHRS: added inertial nav interfaces to AHRS
99b3517a47 Copter: use AP_InertialNav_NavEKF when available
658110dd8c AP_InertialNav: added AP_InertialNav_NavEKF wrapper class
686d1b9124 Copter: changes set_home_position() to setup_home_position() for Inav
99097d80a1 AP_InertialNav: use AHRS home location
c6e25483b4 Copter: use a common home with AHRS
57e0eb4db5 Plane: use a const reference for home
c493d980d8 AP_NavEKF: fixed check for airspeed sensor available
2dbfed19b8 AP_NavEKF: fixed airspeed estimate check
e69eea3086 AP_NavEKF: Bug fix in covariance error correction
43dc9bc055 AP_NavEKF: Added improved covariance matrix error fix
4a56ea84b5 AP_NavEKF: Removed accel bias states
093481786e AP_NavEKF: added SIM state to playback tool
2817a11f23 Plane: added AHR2 and SIM logging
fcd9041e62 SITL: added dataflash logging
d0a25b53f2 DataFlash: added logging of AHRS2
5578552574 AP_NavEKF: fixed example for new API
2acf1e7ce5 AP_NavEKF: allow filter to run as single or double precision
efd444b02e AP_NavEKF: covariance protection (not enabled) and tuning changes for stability
9cc00d20eb Copter: fixed for removed DCM blowup counts
155d751e80 Rover: fixed build
be9f276f45 AP_NavEKF: fixed compass offset sign error
ee774f69d0 AP_NavEKF: fixed some time handling bugs
b1c5f23bbd AP_InertialSensor: make get_delta_time() const
95c5aeaa43 AP_NavEKF: removed more unused variables
a53fc0636a AP_NavEKF: zero more variables on filter re-init
11337ab2df Plane: updates for AHRS holding home position
392995ef84 AP_AHRS: make AHRS handle altitude
b9128a932f AP_L1_Control: no need to project position for lag
91cbad52a1 AP_NavEKF: handle conversion of AHRS to handle altitude
804c43216b VARTest: fixed build
79a29d12f2 Copter: fixed build for new AHRS API
1e476e511a AP_AHRS: pass baro into AP_AHRS
df5195e2c9 Plane: change for new AHRS API
af5a3dff93 Copter: enable use of AHRS_NavEKF
e315c5f28e Rover: enable use of AHRS_NavEKF
6e5077b60b AP_AHRS: removed unused AP_AHRS_HIL
082a3561c4 build: make hil equal hilsensors
f64488e2cf VARTest: cleanup HIL defines
ec913df7a9 Rover: cleanup HIL defines
e39247868c Plane: cleanup HIL defines
24f2ac20de Copter: removed HIL_MODE_ATTITUDE
84c7b0d7fd AP_AHRS: check for NavEKF health
9ef71a9dec AP_NavEKF: added healthy() API
644bf71f56 Copter: fixed build for InertialNav change
cfc612b251 AP_InertialNav: use references to AHRS and baro
18aa08d5c3 GCS_MAVLink: added AHRS2 mavlink msg
154eb76f4f GCS_MAVLink: new MAVLink headers
bfd48a95b7 AP_NavEKF: fixed example build
b39a5062e9 AP_AHRS: use NavEKF for ground vector when available
2cd6efa23e Plane: added DF logging of secondary AHRS solution
b6bc50051f AP_AHRS: allow reporting of secondary AHRS solution
99cfaf6097 Plane: switched to AHRS2 message for reporting
ea0f9392ef AP_NavEKF: don't report altitude yet, and removed debug code
a1aebc0c15 GCS_MAVLink: update from upstream
0e10554dc0 GCS_MAVLink: rename EKF message to AHRS2
33673c954d AP_NavEKF: implemented getRotationBodyToNED()
8c5cde4efd AP_AHRS: allow NavEKF to be enabled at runtime with AHRS_EKF_USE=1
9ac886f58d Plane: use AP_AHRS_NavEKF when available
7ac78ff991 AP_AHRS: create AP_AHRS_NavEKF class
2c86a490ed AP_NavEKF: make it possible for NavEKF to be a AHRS member
6f31961fb5 AP_NavEKF: Added height rate adaptive wind speed process noise
de884dabab AP_NavEKF: brought some tuning parameters out to header
e0e4b1aefa Plane : Updated NavEKF flash data logging
3ee5ef852b AP_NavEKF : improved On Ground check
8bc14d09b2 AP_NavEKF : remove onGround airspeed detect bug
a507fa7570 AP_NavEKF : remove debug code
2f95685bfc Plane : EKF data logging fixes
6b9733c013 AP_NavEKF : Additional flash logging
d6ead64083 Plane : Additional NavEKF flash logging
c28e89e4b7 AP_NavEKF: bug fixes for height fusion and covariance initialisation
aed6c79135 AP_NavEKF: Added gyro bias variance scale for on-ground
cb42e1e490 AP_NavEKF: Added public function to get NED position
2c567cd721 AP_NavEKF: Added tuning parameter for onGround yaw gyro variance
9515f6c745 AP_NavEKF: Cleaned up on-ground state and covariance update logic
9c5647eef3 AP_NavEKF: stop log for gdb friendly playback
117b77460e HAL_Linux: added stop_clock hack!
006b9da6be Plane: only include NavEKF on fast CPUs
4adf6000f3 AP_NavEKF: only build on fast CPUs
1647ba9bd0 AP_NavEKF: Reduced heading drift on ground
63d8b1bb0b AP_NavEKF: Scheduler Improvements
ce9047cec5 Plane: added dataflash logging of EKF data
df42dd691c AP_NavEKF: added perf counters on PX4
3d6cb9eade AP_NavEKF: use float arrays when not doing bounds checking
c7533579ac AP_AHRS: added get_airspeed() interface to AHRS
010250a966 AP_NavEKF: use quaternion normalize and cleanup sqrt calls
406fb31a57 AP_NavEKF: Load levelling scheduler - first attempt
68283b7aa1 GCS_MAVLink: new ekf header
163cfd839d AP_NavEKF: enable airspeed and fix getLLH()
1fbae4dd44 Plane: enable NavEKF logging in plane
b4153c4d32 GCS_MAVLink: added EKF message for debugging
4771a4fc77 AP_NavEKF: use radians values from AHRS directly
6b798d2821 AP_NavEKF: first working GPS + Mag fusion
bccadb6e25 AP_NavEKF: first working GPS fusion
90cd04def3 AP_NavEKF: fixed build for non-Linux
0b71618f4f AP_NavEKF: use vectorN to make indexes safe
e972acbc9f AP_NavEKF: removed delay callback
8f16647a0c AP_NavEKF: added write_flot valgrind functions
a8ddd51355 AP_NavEKF: added pause to gnuplot scripts
4298625daf AP_NavEKF: added convenient plotting scripts
fca1090694 AP_NavEKF: debug updates
95f51123d7 AP_NavEKF: added plot.dat output
050b0fb9f1 AP_NavEKF: fixed compass declination, baro cal and time shift
776cedf368 AP_NavEKF: try running EKF on log data
ffce1f64cc AP_NavEKF: added euler angle functions
977ad4bbf6 AP_NavEKF: added dataflash log reader
f3dfde2025 AP_NavEKF: initial test sketch for NavEKF
361bb5b18f AP_NavEKF: Updated comments in header file
00df068967 AP_NavEKF: Explicitly defined numerical constants as single precision using f suffix
cd9027adfd Plane: added NavEKF object
eb505eef91 AP_NavEKF: fixed build for APM environment
0dd5463e77 AP_NavEKF : Changed file and variable names
fb1345dd99 Plane : add suport for NavEKF
1e993d2ef5 AP_NavEKF: Added constructor for measurements
4a7f81e50a AP_NavEKF: Corrected height update timeout error
0f3ebb8e31 AP_NavEKF: Updated measurement fusion control
c557bd7df5 AP_NavEKF: Updated GPS input processing
1d4b040c67 AP_NavEKF: Inertial Navigation Code - 24 State EKF
03cc777991 AP_Airspeed: added last_update_ms() interface
e7cf07dfb7 DataFlash: added Columns column to FMT
87d43d766d autotest: kill off lt-JSBSim too
9c2df97954 autotest: a useful CMAC test pattern from Paul
1e0f3f5398 AP_Math: make to_euler() const
90c41981ac AP_Math: added quaternion normalization
006cf58b2d Copter: fix merge error for g.angle_max
5e8fede19e Copter: comment fix to Attitude.pde
aa79e22ce0 Drift: bug fix for throttle
10a0303706 Copter: smooth throttle transition between flight modes
0df1dc267b Copter: integrate WPNav constructor change
9e31f0b985 AC_WPNav: use PosControl accessor
78c12eaebf AC_PosControl: get_pos_xy_kP accessor method
8d6eb1eceb MotorsMatrix: motor_to_channel_map moved to progmem
134289af38 TradHeli: motor_to_channel_map moved to progmem
1bee56877c CoaxCopter: motor_to_channel_map moved to progmem
3fad8e3630 SingleCopter: motor_to_channel_map moved to progmem
0edf039155 AP_MotorsTri: motor_to_channel_map moved to progmem
96d433c63e AP_Motors: motor_to_channel_map moved to progmem
1b8055aed9 Copter: remove unused t7 const
2b3995ccb5 Copter: integrate refs for RC_Channels in motor defs
8baf5ebf4a AC_AttControlHeli: use motor accessors to set roll, pitch, yaw, thr
f216cffb77 AC_AttControl: use motor accessors to set roll, pitch, yaw, thr
415e48de19 TriCopter: use refs for all RC_Channels
01d30271d8 SingleCopter: use refs for all RC_Channels
18d3907928 TradHeli: use refs for all RC_Channels
cf1d6854b9 AP_MotorsMatrix: use ref for roll, pitch, yaw, thr channels
2f4fe3e192 AP_Motors: accessors to set roll, pitch, yaw, throttle
98224db1e4 AC_AttControl: Leaonard's rate feedforward
9f78f65413 TradHeli: integrate leonard's control_acro fixes
bf6bb59cb4 Copter: Leonard's control_acro fixes
2c6470f87b AP_MotorsMatrix: remove unused _num_motors
32a0992985 MatrixMotors: motor_out array made local
2f3fc3a3ce Single: remove use of motor_out array
a036009524 AP_MotorsTri: motor_out array made local
83321b8786 AP_Motors: remove motor_out array
5f89e9e746 AC_AttControl: bug fix to yaw rate limit
6380a39d3a Copter: remote update_trig from main code
75b20bde7c Copter: control_acro, drift use trig from ahrs
d76180d605 AC_AttControl: use trig values from ahrs
8b8d6a8e01 AC_PosControl: use trig values from ahrs
598a1b1f43 AC_Circle: use trig values from ahrs
64cfcb2308 AC_WPNav: use trig values from ahrs
aa4c3eaffe Copter: resolve RTL state compiler warnings
12a4ce70fd Copter: remove control_roll, pitch, yaw variables
2c1ec9d0c0 Copter: remove control_roll, pitch, yaw from control files
e8c4e8a472 Copter: integrate get_angle_target_for_reporting
d579325e2a Copter: add get_angle_targets_for_reporting
1acd33e290 Copter: do_yaw takes yaw target from AttControl
ea1158a9d5 Copter: remove unused config
9ef3fd850f Copter: remove use of SUPER_SIMPLE definition
b37b0c5061 TradHeli: remove use of throttle_mode
082c5021ee AC_AttControlHeli: add comments
b0673d693b Copter: move set_mode, to flight_mode.pde
b8bb477731 Copter: add flight_mode.pde
38d5148b99 Copter: remove reset_I_all
72a3f14561 Copter: move reset_optflow_I to control_ofloiter
17177adccf AC_Circle: remove debug comment
7afa0a767c Copter: correct circle rate tuning to use circle_nav
3e399fd830 Copter: remove unused parameters
81c7df7678 Copter: comment fix
0e0d02cd6d Copter: remove unused init from sport mode
3d926a6943 Copter: GCS_Mavlink gets gyro direct from imu
f46ff2b44e Copter: remove unused defines
fe26af86de Copter: crash check works with flip flight mode
22280e1c57 Copter: integrate surface_tracking to control_althold
3824f528ea Copter: get angle_boost direct from pos_control
90c5fe4be4 Copter: surface_tracking takes current_alt_target param
989a03a643 Copter: remove unused flags and variables
174318a2a9 Copter: remove set_nav_mode
aedb4136de Copter: update_thr_cruise removed from control_stabilize
223c6fd4de Copter: remove deadwood, update_thr_cruise always runs
2870d043f8 Copter: remove unused drift.pde
1cd678f684 Copter: compiler warning for control_autotune
d3a126d078 Copter: integrate slew_yaw into control_auto
37cfbc9ad5 AP_Math: float versions of wrap_360 and wrap_180
364946cb7f Copter: AttControl param prefix shortened to ATC
814157324d Copter: APM_Config AUTOTUNE_ENABLED
89a50ed445 Copter: comment fix for control_stabilize
0107b2a95d Copter: remove unused auto_tune.pde
aec67cd3df Copter: integrate control_autotune
823485f763 Copter: add control_autotune.pde
b87852ee2e Copter: remove unused flip.pde
d90d3d8dca Copter: integrate control_flip
47deb795bd Copter: add control_flip
a7504faa7d TradHeli: empty angle_boost for trad heli
1648ecc6e5 Copter: bug fix for heli_control_acro throttle
c73c9f03a5 Copter: bug fix for control_acro throttle
164bd10ef0 TradHeli: init targets when entering acro
fdf41219ca Copter: init targets when entering acro
9f33873b2e Copter: typo in control_acro.pde
ec989c720c Copter: integrate heli_control_acro
5aaa01ab30 TradHeli: heli_control_acro
922dff0514 Copter: integrate heli_control_stabilize
41ab2547d7 Copter: control_stabilize remove takeoff_complete
bca309eb1e Copter: replace takeoff_complete with landed_complete
2940688301 TradHeli: heli_control_stabilize
91124bcf8b TradHeli: remove get_heli_rate_yaw from main code
80ec61f217 TradHeli: make accessor methods const
48a0917670 Copter: make motors armed call const
3b0de0d23d Copter: integrate trad heli AttControl
eda376c7f6 AC_AttControl: init_targets() clears body frame angle errors
2643ee9724 AC_AttControl_Heli: adjust for new slew_yaw param
2db24659d0 AC_AttControl: add slew_yaw
959f5ec3b2 AC_AttControl: tradheli add RATE_RP_MAX
2dae0d68c5 AC_AttControl: add RATE_RP_MAX, RATE_Y_MAX params
c2efb91ece AC_AttControl: trad heli angle boost
ebbff24a04 AC_AttControl: trad heli yaw
4f738ffdba AC_AttControl: add trad heli support
ef666c73ab Copter: remove Position mode
c632211c8c Copter: get_of_roll, get_of_pitch moved to control_ofloiter
837061fd65 Copter: control_ofloiter added
c561d6bb9e Small comment change.
54be8402a2 Copter: integrate control_guided
798add0b5c Copter: remove guided from control_auto.pde
0e41b01ad0 Copter: control_guided added
245bcd7c2c Copter: removed althold, drift, sport from control_stabilize
d85c57999d Copter: althold moved to control_althold.pde
2e6327be06 Copter: sport moved to control_sport.pde
70c8b622e2 Copter: drift moved to control_drift
212ced63f6 Copter: bug fix for do_loiter_time alt target
37bde3406d Copter: remove comments
70d1e53b74 Copter: commands_logic to use auto_rtl
1457a9d31a Copter: auto_mode to global scope
7970d7112f Copter: add rtl to control_auto
1f07c2efe0 Copter: remove old circle
bae867712d Copter: integrate circle mission command
ff2b8ff6f2 Copter: add circle to control_auto
cbf6e6a945 Copter: mostly working circle flight mode
551836c49d AC_PosControl: make some methods const
8268e27d49 Copter: ACRO further clean up
af890e0f8d Copter: add AC_Circle include
83a767f3db Copter: control_circle.pde added
3b9ae02966 Copter: add Circle parameter
a2b017abd2 AC_AttControl: add rateef_rpy
468be05867 AC_AttControl: make ahrs, ins objects const
864f64b61a AC_Circle: circle control library
e979263c56 Copter: ACRO clean up and mistake fixes
ed7dd58c01 this is a test
35ef9c73d1 AC_Sprayer: minor comment fix
4c02212404 AC_Fence: minor comment fix
8b9eb7ab2b Copter: WPNav constructor change
d4e4620159 AC_WPNav: remove unused PID references
b1449d59ee Copter: resolve conflict between control_auto, control_rtl states
055ce4e53e Copter: integrate control_rtl
689e92eb33 Copter: control_rtl
26b257c8ba AC_AttControl: alternative get_stopping_point_z
fc427967ae AC_WPNav: set wp origin to horiz and vert stopping point
bd88ed8a53 Copter: LAND at stopping point instead of curr pos
cdc935b66d Copter: implement auto_land with Loiter controller
93d43f8ca5 Copter: remove unused var from acro
1b8791a142 AC_PosControl: remove debug
4cd45e2edf AC_WPNav: remove debug
32b8f80510 Copter: Acro flight mode from Leonard
4003b4da9b AC_AttControl: leonard's body frame rate controller
cdc0f8e414 Copter: use new control_auto takeoff and land
0dabc0c577 Copter: control_auto - takeoff, land
eec62cb16a Copter: control_loiter initialises alt target
6ba91369ff Copter: split control_land into gps and non-gps
011de6683e Copter: land_detector moved to control_land
96c61fcf28 Copter: removed get_throttle_land
3b003ea3e6 Copter: remove setting of nav mode
924e2a66ce Copter: split control_auto into separate file
e27f4c1c13 Copter: split control_stabilize into land, rtl, loiter
171203370f AC_PosControl: add accessor for speed_up and down
d92e894af6 Copter: get_throttle_surface_tracking returns climb rate
c92de71212 Copter: control_stabilize, - integrate changes to get_throttle_surface_tracking
f3bcbb2ce4 Copter: remove setting roll, pitch yaw modes in set_mode
1596d83d02 AC_WPNav: move leashes to AC_PosControl
de34359808 AC_PosControl: recalculate leash when speed or accel modified
d70862e44b Copter: remove case that does nothing
65f7bf92f4 Copter: replace yaw_mode with auto_yaw_mode
1b714defcc Copter: move auto to control_auto.pde and fix yaw
8e40cbdd7f Copter: disable ch7/8 feature to point at armed yaw
ba3ba9e157 AC_AttControl: bug fix for yaw target handling
0d4ba04e75 AC_WPNav: make advance_wp_target private
4540fb3fef Copter: remove set roll-pitch, yaw, thr modes for ACRO, LOITER
dc6f622d48 Copter: move NTUN logging to 10hz loop
8e08a1f8ab Copter: remove debug
80ae3dca2e AC_PosControl: remove debug
f5c305e960 Copter: control_stabilize rename wp_nav calls
b29a963fd6 Copter: remove unused Attitude.pde functions
0a2adbac1b Copter: renaming functions after moving xy control
b9ae3ce2ff AC_PosControl: fixed example sketch
9843e93308 Copter: control_stabilize - much renaming as xy pos controller moves
5fd9410ff5 Copter: much renaming as xy pos controller moves
f0c538f8fb Copter: control_stabilize comment update
0c8cbba644 AC_WPNav: remove xy pos controller
d380e6b4d3 Copter: integrate add ref to AC_Pos_Control from WP_Nav
aaa62eeb28 Copter: integrated simpler init loiter from WP_Nav
9fe4d883d0 AC_AttControl: accessor for lean angle max
bbcf8cc84c AC_PosControl: add horizontal pos control
2984e492df AC_WPNav: add reference to AC_PosControl
49367c5a30 Copter: GCS.h include fix
eddb593ee2 Copter: althold uses high level angle controller
bdf95bd835 Copter:  stabilize uses high level angle controller
a52e220724 Copter: add loiter controller to onion
7e37b16ccb Copter: move update_flight_mode to fast loop
0e0a15f4a8 AC_AttControl: add high level angle controllers
784f7385b5 Copter: add attitude and pos control params
b34664ea07 Copter: remove unused altitude error
e69eeea246 Copter: log alt target from PosControl
44e731ea40 Copter: control_stabilize reports alt target
3ce1c0a9d5 AC_PosControl: add get_alt_error method
abb42bcb41 Copter: remove unused run_rate_controllers
e1bf4af1b8 Copter: bug fix to set angle_boost in stab mode
a0298aee29 AP_Motors: expose throttle min and max
89b7e6b1c8 AC_AttControl: implement angle_boost
77c38f4de4 Copter: integrate init take-off
8988b48ad8 AC_PosControl: add init take-off
2c03a3a3c6 Copter: set pos_control.set_dt
faf1e99f1a Copter: surface tracking to use pos_control
5649b7f4d9 Copter: integrate AC_PosControl constructor changes
4840ce238a Copter: skeleton AltHold flight mode
7784fc7645 Copter: update pos_control's hover throttle
33552b63d8 Copter: early integration of AC_PosControl
dcac124105 AC_PosControl: add throttle controller
05bb943a69 AC_AttControl: first draft of PosControl class
3146299a0f Copter: move control_stabilize yaw input higher
7f56b28767 Copter: move thr control to control_stabilize
2253cf9769 Copter: run main loop at 400hz for pixhawk
b7565affcd INS: add support for 400hz for PX4
3a78263921 Copter: skeleton init call for all flight modes
0431b7e1d4 Copter: bug fix for stabilize_run's yaw control
1fdfa751e6 Copter: integrate replacement of timers with set_dt
c8e277703d Copter: add acro_run skeleton
c2ca5c46b8 Copter: correct auto_run
1cf065e1df Copter: remove debug for control_stabilize
cbe56bba25 Copter: integrate AC_AttitudeControl
7b9a48107e Copter: move angle_max parameter to AP_Vehicle
0521806cc6 AP_Vehicle: add multicopter parameters
715c8eaf02 AC_AttitudeControl: first draft of library
6029ec53ae Rover: changed LOG_WHEN_DISARMED to 1<<16
d853d65b84 AP_Airspeed: added ARSPD_TUBE_ORDER parameter
2bf7a46c9b Copter: log power status on Pixhawk
9d6005edd8 Rover: log power status on Pixhawk
7de8be1956 Plane: log power status on Pixhawk
bea0a46410 AP_HAL: added servorail_voltage and power_status_flags() API on AnalogIn
ce43e674fe DataFlash: added power status logging
87355127ca GCS_MAVLink: added send_power_status()
8797f38038 GCS_MAVLink: regenerate MAVLink headers
0cbd5a2ef0 GCS_MAVLink: added POWER_STATUS message
63910bf8cd DataFlash: work around a NuttX bug
0aebc18b3f GCS_MAVLink: return early from log send if no log data to send
1497c33178 GCS_MAVLink: run a bit faster on serial ports with flow control
7c1b9b344f AP_HAL: added get_flow_control() API
dfa95b3464 Plane: moved the always log flag to 1<<16
81c5edbdb5 GCS_MAVLink: fixed a log download bug for repeated downloads
dcd7f9d26d AP_Airspeed: use raw (signed) airspeed
0a3476bbf1 Copter: change to new board_voltage() API
4e2dbb4a4b Rover: change to new board_voltage() API
043c80dbe6 Plane: use new board_voltage() method
1849db7074 AP_HAL: added board_voltage AnalogIn method
aa5a098adb Iris:parameter adjustments
bd0cb83263 Copter: release notes for AC3.1.2
f2a318e057 Iris: Updated Parameter file
e334e92e27 Iris:Updated Parameters
78b31f4b16 Copter: readme file renamed and directs to wiki
a5e98c11ad Copter: Release notes for AC3.1.2-rc2
2219f21744 Copter: add RC_FEEL_RP parameter
4e2e685d7a HAL_PX4: better fix for IFLOW on all ports
b2cdd39a99 HAL_PX4: don't enable IFLOW on ports without flow control
35791e1f05 AP_Airspeed: fixed get_temperature on PX4
ccb7dc640d AP_HAL: fixed a build warning
c93794999e HAL_PX4: remove an old conditional define
8095eb0bee AP_BoardConfig: added BRD_SAFETYENABLE option
439a075b30 AP_HAL: added force_safety_off rcoutput function
89b222f1cf Copter: only report gps glitch when usb disconnected
262d384025 Coax: Yaw fix
fce464597a AP_BoardConfig: PX4v1 does not have hw flow control on UART5
1b5d5dd8c4 AP_BoardConfig: set flow control to AUTO by default
c5c1d1358a HAL_PX4: added automatic hardware flow control detection
a0369b85d1 LowPassFilter: make methods non-virtual
38222d65e9 DerivativeFilter: update and slope non-virtual
4040be9990 FilterWithBuffer: make get_sample non-virtual
6cee33b6fd AP_Curve: remove virtual from method declarations
4c38999ca6 Maxsonar Test: remove raw from output to user
e1fabadd3c MaxsonarI2C: read method returns int16_t
ab22d11110 MaxsonarRFinder: convert_raw returns int16_t
32820b4260 PulsedLightRFinder: read method returns int16_t
bf3fa8b99b RangeFinder: remove raw_value from SharpGP2Y
8d54e50897 RangeFinder: remove raw_value, orientation variables
d19b566d97 OptFlow: remove unused variables
b907263685 AP_BoardConfig: added BRD_SER1_RTSCTS and BRD_SER2_RTSCTS
3e637ac5d9 AP_HAL: added enable_flow_control() option in AP_HAL
8f5585423c Copter: use ahrs trig values
c9415a08f1 AC_WPNav: use ahrs trig values
98d667c916 AHRS_HIL: call update_trig
6946d68318 AHRS_DCM: call update_trig
3dc6ea682c AHRS: add update_trig
a95a3142e0 AP_InertialSensor: use fixed size arrays
82ea5926a8 OptFlow: update function added to fix compiler error
5bcc2f5ca5 Copter: version to AC3.2-dev
32f5a1ac94 Iris: Updated gimbal configuration
31f6e3c63b Update 3DR_X8_RTF.param
69c165b3b3 Copter: correct release note dates
ac9f0b5fd1 Copter: remove setup_aux_channels
14409ee20f Copter: disable aux channels used for motors
7c25247c87 Copter: disable aux channel 7 for SingleCopter
9b594dc5e1 Copter: disable aux channel ch7 for Tri
1426078cdb TradHeli: disable aux channels 7 and 8
bc311542ab AP_TECS : Fixed bug preventing accel launch detection when not using AS sensor
91b78c0cbe Copter: bug fix for duplicate single and coax params
4b3699f985 Copter: coax allows ch5 and higher for do_set_servo cmd
5213ec4aa6 Coax: servos to ch1, ch2, motors to ch3, ch4
5d929351ca Copter: removed unused servo3, servo4 from coax
e6f4fb4828 Copter: moved coax servo set-up to AP_MotorCoax
f60d94c4ab Coax: remove unused servo3, servo4
f48e106271 Copter: add coax heli support
dc6433d63c Copter: ensure that motor channels cannot be used for auxillary functions
00d2d5946c RC_Channel: added disable_aux_channel()
ae9201342a Plane: allow FLAP_IN_CHANNEL to control k_flap and k_flap_auto too
c3b7e76c28 Plane: added flaperon support
b4208c7fc0 RC_Channel: added flaperon1 and flaperon2 function outputs
871777fa57 Rover: use new RC_Channels API
5a3a7f1cec Copter: use new RC_Channels API
04f2c07b2b Plane: use new RC_Channels API
698736b66d RC_Channel: simplify the setup of aux channels
264c092aa6 AP_ServoRelayEvents: fixed disabling repeated events on set_servo()
058e058487 Frame Params: 3dr tarot gimbal params
37b8686f76 Rover: removed unused code
d3088b230a PX4: use RGBLED state to show startup state
43cf3fc38f 3DR_Y6A_RTF: Adding frame type
42a87ab9c9 3DR_RTF frame changes
a963ec7e3b AP_Math: bug fix to wrap_360 and wrap_180
e42a10a764 Plane: allow printing of GUIDED mode in logs
b2c5e12fb4 3DR_QUAD_X4_RTF: Added to standard frame types
27ed18d4c6 3DR_X8_RTF: Adding the 3DR X8 RTF copter
17cc0e88c5 3DR_Y6B_RTF: Updated for FlySky TX
a457322091 3DR_Y6B_RTF: added to standard frames
7a2a431fc6 Rover: check param table on startup
415db390af Copter: check param table on startup
48577ffbc2 Plane: check the parameter table on startup
688f61c087 AP_Param: expose check_var_info() as a public symbol
f06152530c Plane: prepare for 2.78b release
6cabca690e Plane: fixed RSSI_RANGE enum
e13984f6c1 Copter: remove unused compat.pde entries
a078d00e6a Copter: firmware to AC3.1.2-rc1
7009c4aead Plane: prepare for 2.78 release
c0e548fc60 AP_Notify: fixed example build
93070a673e AP_Math: fixed example build
045efdb084 AP_InertialSensor: fixed example builds
a339ec25c8 AP_Airspeed: fixed example build
3a986474e0 Plane: added RSSI_RANGE parameter
6b12f13d64 Plane: prepare 2.78beta2
906fc17905 Plane: added baro and airspeed logging
cf1f05a198 AP_Airspeed: expose get_temperature()
fc3ed61e67 DataFlash: added baro dataflash logging
9f683e6b9b Plane: prepare 2.78beta1
5b1ac474d1 Rover: update to 2.45
7aef90a1f3 Rover: consider GPS unhealthy if it doesn't have GPS lock
369c130c2d Plane: consider GPS unhealthy if it doesn't have 3D lock
214a859e97 Copter: remove unused RADX100 definition
3ba5b70736 Copter: fix compiler warning from motorsync test
a45b9cbe9a Copter: remove unused RELAY_TOGGLE definition
8f3071b1b8 AP_Arming: more detail in ARMING_CHECK docs
11ece65656 Plane: update docs for RSSI_PIN for pixhawk
23d8bfa976 AP_Notify: reduce the latency in the main task of LED updates
0d174db05b AP_Math: added equality operator for VectorN
e5e04d65ee Plane: improve LOG_BITMASK docs
c37a7cd9e1 Plane: update AP_Notify flags for arming state
aae0e3c0e5 AP_Arming: allow checking of pre-arm without reporting
330a4649fd AP_Notify: fixed LED colour for no-GPS and armed
58d3729d16 AP_InertialSensor: fixed default health functions
604d7fce47 build: rover doesn't fit on APM1-1280 any more
89b083dd52 build: make build log a bit less verbose
5a16d8067a build: better error reporting for failures in build_binaries.sh
e037b37880 PX4: added "make px4-cleandep" for faster rebuilding between branches
02c98f901d PX4: run hmc5883 compass calibration on every boot
54562b0b9a AP_Compass: prevent bad initial values from affecting HMC5883 calibration
a6b6d46a30 Copter: Update ReleaseNotes.txt
311bba1419 Copter: landing_complete stays true until thr is raised
7fcd847f77 Copter: reword FRAME parameter's @Value
231e3ccaac Copter: add NewX @Value for FRAME parameter
dee5fb212a Copter: remove dup definition of FRAME_ORIENTATION
f7f8691ca3 Copter: remove frame setup through CLI
34f14a7c13 Copter: version to AC3.1.1-rc2
3c7e7db8a7 Copter: AC3.1.1-rc2 release notes
2fa8592f7a Rover: 2nd try at fixing rover RC_* docs
e1fea48bc7 Rover: fixed docs for aux channels
0b7e96b528 autotest: ensure old tags in PX4NuttX and PX4Firmware don't get used
ab4a5d676e Plane: ready for 2.77 release
c16e3a035f Plane: fixed disarmed throttle in HIL
776b999f43 Plane: fixed disarmed PWM output
e8b8cc1a5d Copter: converted to AP_ServoRelayEvents
0828c40870 Rover: converted to AP_ServoRelayEvents
cdd36b2c41 Plane: use AP_ServoRelayEvents library
67aab44566 AP_ServoRelayEvents: library for handling servo and relay events
4aa901f203 AP_Relay: added enabled() API
e3804e2846 Copter: fixes for AP_Relay API change
a595272e38 Rover: fixes for AP_Relay API change
2045591bed Plane: fixed servo and relay repeat code
e4e5c92453 Plane: fixed relay handling
55b604b147 AP_Camera: updates for relay API change
e42ba853ec AP_Relay: enable up to 4 relay pins
d3adf4c32c Plane: enable AP_BoardConfig
50a90a1043 Copter: enable AP_BoardConfig
89c99ce145 Rover: enable AP_BoardConfig
b5822cd549 AP_BoardConfig: board specific config library
99b41f110f HAL_PX4: enable the FMU PWM pins to be used as GPIO when needed
3e8e02e9e8 Rover: typo in mode stearing should be steering
f2c2811ef3 AP_AHRS & AP_Math: fixed bug in use of AHRS_TRIM parameters
111d0854a7 Copter: motorsync cli test
68b3b31499 Param doc typo
0f957bdc5a Copter: lean angle arming check
a7f03619f2 Copter: add inav vs baro arming check
fc6ce42a28 HAL_AVR: fixed build
965e5b2dfd INS: check for good calibration for 10seconds
ada0dd5504 Plane: check both ground and airspeed in autocal test
87cc95dd7f AP_HAL: removed unused enable_mask and disable_mask functions
b7eab7ea22 Copter: Added GCS feedback for save_trim()
1f76ada9dd INS: shortened gyro calibration
792667e311 PX4: test MTD device on boot
e1f06c532a HAL_PX4: more checking of IO results in eeprom driver
3ae6f03761 HAL_PX4: be less verbose about disarmed PWM setup
8a29d63d89 Copter: faster baro calibration when arming
30a210cfa6 Plane: setup PWM to be used on throttle when safety is safe on PX4
db1d438e97 HAL_PX4: implement set_safety_pwm() API
5e39b6fb11 AP_HAL: added set_safety_pwm() API
950bb09735 PX4: enable MTD on FMUv1 as well
64fbadcc21 HAL_PX4: use eeprom on PX4 FMUv1 as well
ae4f368f16 Copter: allow ch6 tuning of loiter speed
0a3559813a AC_WPNav: accessor for loiter speed
6d55895d30 Copter: simplify do-set-servo mission command
67c2bc7d0b Copter: add support for MAV_CMD_DO_SET_SERVO
0749cc1fd9 Tools: we don't have AP_NavEKF.h yet
a9f1a2ee5e Copter: disarm on land even if pilot throttle not zero
ac99d2d19a Copter: update AC3.1.1-rc1 release notes
a3527ade61 Copter: move EARTH_FRAME definition to defines.h
66859686a0 Copter: remove some unused definitions
dd5521aa06 Copter: update version to AC3.1.1-rc1
b1525a421b Copter: AC3.1.1-rc1 release notes
58c66f255c build: added support for board specific tags in build_binaries
376ab30366 HAL_PX4: disable rename of old parameter file for now
461638780b HAL_AVR: fixed warning on memcheck build
3a5fb46dc2 Plane: fixed integer size problem on APM2
906c1d18b4 Hello: fixed SITL build
4d5346be79 CPUInfo: fixed SITL build
0401e8f914 build: support vehicle-tag tags for PX4 builds
4f2ce31cb7 Copter: log PX4 and NuttX versions in logs
ef57306311 Rover: log PX4 and NuttX versions in logs
91cc08a3ef Plane: log PX4Firmware and NuttX git revisions in logs
7a02c2720b PX4: added defines for PX4 and NuttX version in logs
72ce7f5827 Rover: only log when armed
626086063e HAL_PX4: added a signature to FRAM
33acce71c8 Rover: prevent log corruption during log creation
e52f8d6598 Copter: prevent log corruption during log creation
cf09fef1db Plane: prevent log corruption when new log started
921f923c5f DataFlash: reset write log on new log
9d09a96377 PX4: don't write to BOOT.LOG unless we have errors
a15336079e Plane: start logging when first needed
b5a16a07d3 GCS_MAVLink: support LOG_REQUEST_END
ef28d087d2 DataFlash: added logging_started() API
8755747da0 Plane: only log when armed by default
874110b29d Plane: make LOG_BITMASK 32 bits
db19c8b410 PX4: start mtd driver on FMUv2
db8b262939 PX4: enable mtd driver in build
f6db03dfb0 DataFlash: don't fsync on SITL
b4b66210ff DataFlash: improve reliability of microSD for logs
b88bb0751c HAL_PX4: added support for MTD (FRAM) parameters
8698ee43bb PX4: use BOOT.LOG instead of boot.log
e78e35f3bd HAL_PX4: try to use uppercase names on NuttX microSD card
8d4f89b77e Rover: use uppercase names on SD card where possible
8a41b18a1f Copter: use uppercase names on SD card where possible
def782c441 Plane: use uppercase names on microSD card where possible
cb23298384 DataFlash: try to keep dataflash writes aligned
a6078cd281 Copter: Fix SYSID ranges to support GCS display of param correctly
2bfcb93cb1 Rover: Fix SYSID ranges to support GCS display of param correctly
fb0fe3793c AP_Notify: external LEDs blink while initialising
138c2803be Copter: combine NTUN and INAV dataflash msgs
1e8a79eeaf Copter: add TimeMS, InavAlt to CTUN df msg
97b18314ac Copter: add time to ATT, MAG, CURR dataflash msgs
df9d1614e2 Copter: remove PID logging
5e0ddd299f Copter: disable OPTFLOW for SITL
61f319ce38 Copter: disable OPTFLOW for PX4/Pixhawk
63586e3e23 HAL_PX4: fixed build for new PX4Firmware
9b7a837553 Rover: try changing GPS setting to AIRBORNE_4G
986417067e AP_GPS: Improved accuracy of NMEA driver
b3d20bb8aa TradHeli: Drift mode to use heli manual throttle
d441354961 TradHeli: Minor change to two param defaults
8b36c59d8b TradHeli: rename Stab_Col parameters
794890884c TradHeli: enable Landing Collective when we are not moving
531a9f4f25 TradHeli: disable AutoTune for Tradheli compile
1db3c6e688 AP_Arming: param doc fixes
e68cf2d1c5 Plane: Fix parameter documentation
9f2f44f0f6 Copter: integrate shrunken optflow
3823eed865 OptFlow: update example sketch to work with shrunken library
8caa5159f8 OptFlow: shrink lib by removing unused functions
1793ee804e Copter: remove armed check before logging
84881470b1 Copter: suspend logging while disarmed
a53d1075ec DataFlash: add EnableWrites method
4519aa8867 DataFlash: only fsync every 10 seconds
757dd228d2 Copter: BugFix DO_SET_ROI returns Lat,Lon,Alt to GCS
65af028112 Git: ignore .elf files
89676be825 HAL_PX4: fixed RCInput race condition
9df5887aab Plane: fixed redundent logging
f7029e6587 px4: enable dual telemetry by default on FMUv1
a2997704eb HAL_PX4: removed code which drops throttle to 900 on loss of RC
d9cb101a03 Plane: default LOG_BITMASK to 32767 on non-APM
a8946a5f31 HAL_Linux: fixed build
8019d45200 DataFlash: use HAL_OS_POSIX_IO
5e3c4441dc AP_Baro: use HAL_CPU_CLASS in baro driver
ea649e036b AP_HAL: added HAL_CPU_CLASS define for selecting algorithms
4c99d09265 AP_Math: fixed build of vectorN class on PX4
d4f42d41f7 Plane: removed some compile warnings from rally.pde
c87d72353f Plane: Introducing FENCE_RETALT parameter.
87c60ee293 Plane: Doc. update for ALT_HOLD_RTL with Rally Points.
99f851fc87 Copter: bugfix for starting in LOITER
f3c36ccef1 px4: fixed IO build
bc2d17e76e AP_Compass: added vector compass setHIL method
e7a1331b81 AP_GPS: allow HIL GPS to show no lock
ecbfdfba6c HAL_Linux: implement time_shift() API
7e1e10f941 AP_HAL: added time_shift() scheduler API
96df09fd08 AP_Math: add const to quaternion API
2e9744d0b3 AP_Math: prevent transpose usage error in matrix API
2c1e0ba130 AP_Math: added vectorN class, and index checking
d7d6ae97de Rover: prepare for 2.44 release
7578839667 Rover: split up GPS update into 10Hz and 50Hz parts
a96840e194 AP_AHRS: changed default GPS lag to 1 sample
870ec8a9bb Rover: added RC in/out logging
2ce1b14cbb GCS_MAVLink: removed unused variable
828eed1984 AP_Math: allow vector3 and matrix3 objects to be used as arrays
519a26691e AP_GPS: make last_message_time_ms const
410d356979 AP_AHRS: make airspeed_estimate const
87226fed97 GCS_MAVLink: avoid log scans when possible
a43e0f6f31 DataFlash: stop logging when erasing logs
f35cf2beba Plane: use file based logs in SITL
7c39d867bb Copter: use file based logs in SITL
90e4b16462 Rover: use file based logs in SITL
b666680d79 autotest: erase logs after downloading
6121b9c58e autotest: switched to binary log download over MAVLink
3b2ef31cc0 Rover: use common available_memory()
97df2f64c9 Copter: use common available_memory()
3486b933c0 Plane: use common send_meminfo()
a95868e124 HAL_PX4: even larger tx buffer size for faster log transfer
22bdee8727 HAL_PX4: implement available_memory()
c1115bd440 GCS_MAVLink: pushed num_sends higher for faster USB log transfer
af124a8a45 GCS_MAVLink: moved send_meminfo() to GCS_Common.cpp
72473e4317 Plane: use AP_HAL available_memory() call
75cb04dd8b HAL_AVR: use memcheck for available_memory()
172398a971 AP_HAL: added available_memory() interface
36e06a1709 HAL_AVR: moved memcheck into HAL_AVR
efc7f88e4b GCS_MAVLink: sped up downloading DF logs over MAVLink
e1a86440bb DataFlash: stop write logging while reading
ff7004fcc5 HAL_PX4: use larger buffers on USB
6856cc6e4b Plane: break up GPS and logging, allow GPS update at 50Hz
a1d5c0a02a Plane: replace APM with board in cli
4fd2d2885e Rover: replace APM with board in cli
02898cb46e Copter: replace APM with board in cli
a400ddeb88 INS: replace APM with vehicle in accel calibrate
e926f11ec3 Rover: initialise scheduler callback after logging
7ffbed24cc Plane: initialise scheduler callback after logging
66c97d7c91 autotest: removed px4io loading instructions
af27921225 HAL_SITL: fixed GPS delay off by one
647cc84e00 Rover: fixed logs directory
b59f2d4326 build: put px4io elf files in build directory
cacba13c31 Remove unused .project file
9653f4e516 Iris: Add Pitch Settings for gimbal
2044300057 Copter: Split out prearm failures of low HDOP separately from !gps lock
751f886215 Git: ignore eclipse project files
ac2f3da5ca Rover: ensure fly_forward is set in AUTO
a37a6d68f3 DataFlash: zero-fill FMT packet before logging
2e9e464c4b PX4: update FMUv1 bootloader to use USBID 0x10
43a56151d7 Plane: reset mission on disarm
89366a1ee1 Plane: fixed ARMING_REQUIRED=2 on APM2 to disable rc output on throttle
f12dd85e1b AP_Arming: make enum values clearer
f6d888e0da RC_Channel: added disable_out() method
ce773f085a Plane: make the defaut for FS_GCS_ENABL clearer
263f3b116b Plane: added FS_GCS_ENABL==2 option
b72ea5435b Rover: check for failed RC input
a4af83d454 Plane: only allow right rudder for arming
77c6e51887 Plane: allow throttle failsafe on no RC input
765bfbfe43 HAL_SITL: use SIM_RC_FAIL
5eac5fb26f SITL: added SIM_RC_FAIL
585d61b960 AP_TECS : Reduce tendency to overspeed during climbout
ab1bb6886c Copter: remove reference to COPTER_LEDS
d362bb45fd Copter: move sensor init from setup(to init_ardupilot
cb17a5bdb6 Copter: Add RSSI_RANGE parameter
21cda96f67 Copter: EPM enable/disable to APM_Config.h
2b5d8aa5b7 Copter: integrate EPM library
c8aff81c48 AP_EPM: EPM cargo gripper library
62fcfd8d9b build: Use generic app descriptior for mac spotlight search
d8cdb57efa HAL_SITL: Attempting to avoid SIGPIPE on all platforms
779e32d79f AP_Control : Add true airspeed compensation to pitch controller
4f242aedec Plane: fixed a bug where mode would not revert on geo-fence disable
dcfed13c87 Plane: Fence breach now sends to correct return point in Guided Mode.
e4498b7bd1 ArduPPM V2.3.17
599edeeafb DataFlash: removed debug code for creating logs with no headers
daa0a7346e Rover: removed common functions
7f100ebe31 Copter: removed common functions
ca67c24eef Plane: removed common functions
6d356efa22 GCS_MAVLink: moved some more functions into GCS_Common.cpp
0641159660 DataFlash: fixed example build
81fc11cab7 AP_Notify: fixed example build
9b5b4ced60 AP_Math: fixed example build
8dd34f8bc4 AP_InertialSensor: fixed example build
4671aaa367 AP_InertialNav: fixed example build
e321ad65f4 AP_HAL: fixed example build
42eba615b4 AP_Baro: fixed example build
29b37b72e4 AC_WPNAV: fixed example build
305c6e4b56 AC_Sprayer: fixed example build
137137d4e1 GCS_MAVLink: remove unused header
bdbf9a8935 CPUInfo: fixed build
edda76623f Copter: updates for DataFlash API changes
8054843e73 Rover: updates for DataFlash API changes
dd749c1de3 Copter: when using file logs use "logs" directory
d93b95186d Plane: prevent a build warning
8b7fe3cf50 Plane: changes for new DataFlash API
ec584de0c2 GCS_MAVLink: prevent valgrind warnings on unfilled data
93140bd956 DataFlash: auto-add FMT headers to binary logs if needed
e6bafa2d8f DataFlash: added structures to Init() of dataflash
7642208c1a Copter: support MAVLink log download
fbd2f7f880 Rover: support log download over MAVLink
e0b511e367 Plane: enable new log download functions
0a9e2d332a GCS_MAVLink: support erase and faster downloads
9d46f893e6 GCS_MAVLink: new headers for log download
774e4c8885 Rover: moved ap_message into GCS.h
9716e80e21 Copter: moved ap_message into GCS.h
508817d617 Plane: moved ap_message into GCS.h
5d53b780ba DataFlash: added functions for load download support
d034a4108b GCS_MAVLink: started adding MAVLink log download
e8f48af1b5 GCS_MAVLink: re-generate MAVLink headers
028eceefc4 GCS_MAVLink: import new mavlink XML
4bad2cfb3a Plane: use common GCS.h
eb2cb0abe0 Copter: moved GCS.h to common library
e80308882e Rover: use common GCS.h
e5f098c37c Copter: removed some unnecessary fields in GCS.h
0530b4a1db Test: testing commit
24cf0a55ea Rover: added timestamps to logging and new STER logging
e245bb07c2 RC_Channel: improved docs for RCn_FUNCTION=0
782ce54a5c TradHeli: Fix for yaw offset switching.  Yaw Offset should switch on and off with the main motor, not waiting until the rotor has reached full speed.
c7dc351609 Copter: remove unnecessary MPU6K filter definition
b42a34cae0 Copter: 3.1 release notes
6d39cf5e49 AP_InertialSensor: another attempt at fixing the spurious bad gyro health warnings
4ce2555a65 DataFlash: don't try to create a directory that exists
5767aa47d9 AC_WPNav: reduce leash length for stopping
99e2dc87c9 AP_InertialSensor: prevent INS healthy errors while initialising
5ca73785c8 PX4: added automatic IO firmware update
829767bed2 PX4: change FMUv2 bootloader USB ID to 0x0011
2a61053634 Copter: reduce default logging for SITL
343ea66cd1 Copter: add OctaQuad V frame
952afd296e Copter: initialise waypoint leash length
279d515e59 Copter: Y6 new motor factor fix
622a2053ff Plane: fixed parameters typo
23a112c5d5 AP_InertialSensor: reduce the number of format string warnings
7a12f44a41 AP_GPS: GPS week is unsigned
c649e4b06f AP_Airspeed: avoid a warning
ceef872a51 build: fixed a build cmp warning
4a77a944fa AP_Arming: make it possible to change ARMING_REQUIRED without a reboot
3508a14542 Plane: small arming tidyups
89bbf5de3a AP_Arming: fixed public/private split
b0236610b2 Plane: fixed arming bit in MAVLink heartbeat message
24658197ff AP_Arming: fixed build
103da0c889 Plane: when no GPS lock always send GPS messages
b0a0316dd6 Plane: Now using AP_Arming library.
ebf1d9c136 AP_Arming: First commit of AP_Arming library.
e5addf86c1 AP_AHRS: Added getters for compass and GPS.
433ad19335 AP_InertialSensor: fixed loop limits
e54fc6b8e3 AP_InertialSensor: make sure we wait for a sample before update()
3c5dcc7862 PX4: added -Wno-packed
57d5345774 AP_Math: added M_PI_F define
f433796435 HAL_PX4: removed an unused variable
137880be70 AP_GPS: fixed a build warning
c22df0fa60 AP_Airspeed: fixed a build warning
30fffa5854 AC_WPNav: fixed some build warnings
28d98414e7 Copter: fixed some build warnings
56752f4027 build: reduced PX4 warnings and avoid rebuilding when possible
dde18093ed AP_Notify: disable autobuild of example
513f4074ce DataFlash: fixed dual sensor dataflash logging
059324f9da GCS_MAVLink: added new message header
6ed21c12db Plane: added logging of 2nd compass
5802d7f86b Copter: added logging of 2nd compass
beb9bffcf2 Rover: added logging of 2nd compass
cc3ee2ec0c Copter: added dual compass logging when available
cba0cb963a AP_InertialSensor: auto-failover to working gyro and accel
c44d8b45ce AP_Compass: auto-select healthy compass
61f564d7c9 AP_Compass: support motor compensation for multiple compasses
0a7a935f63 AP_Compass: fixup
49f49648ec Plane: changes for compass healthy API
d265e54043 Copter: changes for compass healthy API
563e5f71ff Rover: changes for compass API
c538816825 AP_Compass: support compass health status on multiple compasses
bde89fd4e2 AP_Compass: added compass offsets for 2nd compass
02af644010 Plane: report both sets of sensors in MAVLink
f8e0f5c4f1 Copter: report both sets of sensors in MAVLink
562c353bd7 Rover: report both sets of sensors in MAVLink
8a97042fb1 AP_Compass: updates to support multiple compasses
f37a2c979d Copter: don't need Log_Write_IMU2() now
08658909ad DataFlash: log both IMU packets at once
b637ab35e4 Plane: lower the priority of mount update
d642254f18 Plane: breakup one second loop into 3 pieces
dfe3af0b30 SITL: update for compass API change
baa4ecc2ea APA_AHRS: update for compass API change
65c97a2f5f Plane: updates for compass API change
ffdcb715c3 Copter: updates for compass API change
615e718524 Rover: updates for compass API change
cb16733918 AP_Compass: switched to a vector based interface
df001faf34 GCS_MAVLink: re-generate MAVLink headers
704ddddfaa GCS_MAVLink: update from upstream XML
a6b3d4217c DataFlash: fixes for INS API change
a0688a69d4 AP_InertialSensor: generalise the accel/gyro calibration for N sensors
db400ffa51 AP_Math: added is_zero() method to Vector3
0cacc7eaeb Copter: log both primary and secondary INS samples
3ead86ee2d PX4: start all sensor types on PX4
eb883fbb0c DataFlash: added Log_Write_IMU2() for logging 2nd INS sensors
d9b6f7f0f7 AP_InertialSensor: implement up to two sensors on PX4
2753449e75 AP_InertialSensor: added support for multiple accel/gyro devices
145a8ed128 Copter: reduce autotune min rate D to 0.002
450e9e83c3 Copter: AC3.1-rc8 release notes
91c17e9848 GPSGlitch: reduce radius to 2m
eb938c6ac0 Copter: reduce autotune min rate P to 0.01 (was 0.02)
222ad82b5f web: fixed icon
9546a96443 web: added icon for SiK firmware
f8165c2864 Copter: ignore yaw input during radio failsafe
4b3aff3f91 Copter: log flight mode to dataflash on start-up
bffa7c3783 Camera: correct _trigger_type comment
cf0547e854 Copter: remove AN0~AN15 pin definitions
4148c4e024 TradHeli: bug fix for main rotor ramp up
58788d2934 Copter: increasd default logging for PX4, Pixhawk
c5746e5434 Copter: update THR_MAX @Range and comments
2ba233942d Copter: pre arm mag offset limit to 600 for PX4
8149b54807 Copter: add Y6 with all top props CW
58735ac1aa Copter: Use AHRS heading in GLOBAL_POSITION_INT message
e54bf3e87c RangeFinder: reduce PulsedLight max distance
3970c8f038 RangeFinder: add PulsedLight example sketch
e88251f7e1 RangeFinder: add PulsedLight LRF
8fcbb7e59b Copter: OF_Loiter update control_roll and pitch
9d92e46198 Copter: correct optflow logging
d2abf3d170 Rover: release new beta
f8e269cd04 OptFlow: correct SPI mode and baud rates
0cda3c9a71 Copter: reduce SONAR_GAIN to 0.8 (was 2.0)
def5ddb747 AP_Notify: disable buzzer along with external leds
f8b4187148 AP_Notify: define external led pins for non APM boards
ec65fd136d Copter: enable external leds
0b00f4d065 Rover: disable external leds
b6462c23af Plane: disable external leds
aae18f9ead AP_Notify: allow external leds to be disabled
e978a710cc Copter: remove PIEZO_PIN definition
dbbe0f960a Copter: remove LED_ON/OFF defines
59cea4b88c Copter: remove CopterLED from main code
1f0fb3f06b AP_Notify: add Buzzer
d1cf9f949f AP_Notify: ExternalLED library
49ac1a48a5 Copter: Drift updates control_roll, pitch
a3be25750f Copter: allow override of DRIFT_SPEEDGAIN
f12f0a6abe Copter: drift file format fixes
1124e84ae0 Plane: fixed APM1 build
6b4a3ef98b Plane: added MAVLink sonar logging
5a0cb5dea4 Plane: added sonar logging to dataflash
ee7c742863 AP_Airspeed: changed default pin for SITL to pin 1
b075f8735f SITL: moved airspeed pin to pin 1
339da1c21b SITL: Add noise and glitching behaviour for the sonar sensor
70d37d2cf6 SITL: Wire in basic support for SITL downward-looking sonar sensors
f4d349eff8 SITL: Wire in random noise and fixed drift for the SITL barometer
59a54aae20 SITL: Add barometer drift parameter to the SITL library
f1bad032dd PX4: added support for the MPU6000 on the v2.4 Pixhawk
90937be3d4 AP_Motors: fix example sketch
a744658b47 Copter: combine nav_roll and control_roll
d7c636b4aa Copter: remove yaw_in from ATT dataflash msg
f08cc010ea Copter: firmware to ArduCopter V3.2-dev
7ef04bb73b Copter: rename nav_yaw to control_yaw
f9e19b8006 TradHeli: remove use of motor_out array
851a538692 Copter: motor matrix comment change
652b4b4fe5 SingleCopter: motor test flaps servos in order
ccedf98238 Tri: call output_min at end of motors test
9f2086baf2 Copter: make motor_out array private
a8929cd746 Copter: more complete RC output reporting to GCS
10d6a9a34e Copter: replace Log_Write_Motors with Log_Write_RCOU
45ab18f131 Plane: rename Log_Write_SERVO to Log_Write_RCOU
ef2597a626 DataFlash: rename Log_Write_SERVO to Log_Write_RCOU
af657d58b9 Copter: RCIN dataflash logging
84fdff4cd6 Compass: slightly relax HMC5843 calibration limits
7ae3014c14 Copter: parameter @Units to Percent*10
f8e2947823 RC_Channel: parameter @Units to pwm
fd9b115d01 INS: move Product ID to @User Advanced
c4df3ea187 Fence: parameter display name fix
14b3547830 Copter: rename some parameter Display Names
c32d77c626 Copter: fix @Group for SingleCopter
9c812d5028 Copter: added SERIAL2_BAUD and rename SERIAL3_BAUD to SERIAL1_BAUD
49062d8a37 Copter: removed extra features of copter telemetry merge
a49710f20e Copter: added uartD support
21eac34cd1 Copter: log system ID if available
a5b0dcc6d9 Rover: log system ID if available
079d48f6cc Plane: use log system ID if available
4b4f5ed1c0 HAL_PX4: support get_system_id() on PX4
f95bea699b AP_HAL: added get_system_id() method on Util
8383abc1fe Plane: added SERIAL2_BAUD and rename SERIAL3_BAUD to SERIAL1_BAUD
fe0e627304 Rover: changed SERIAL3_BAUD to SERIAL1_BAUD
a05a32dbda Plane: added RCIN and SRVO logging
825b360fb0 DataFlash: added RCIN and SRVO log methods
0a2f2619de DataFlash: fixed SITL dataflash logging
ed9f369492 Copter: shorten g.arming_check_enabled variable
1645748e43 Copter: update @Range for Rate PIDs and Sonar
41cf8d91c3 Rover: fixed VFR_HUD.throttle for reverse
14a0f8f46d Rover: added support for uartD
2c840547fa Rover: fixed throttle control in reverse
e489224c6b GPSGlitch: update @Range for RADIUS and ACCEL params
bd6511dd0a GPS: add GPS_UBLOX_passthrough sketch
2d202df98a Sprayer: fixed example sketch
b248cc0868 AP_AHRS: fixed a build warning
457183b6f5 Plane: cope with uartD being NULL
710d5119b5 AP_AHRS: added attitude_reset() method for HIL_SENSORS
5f32f44366 Plane: fixed mavlink_queue[] size
45bf96382c PX4: setup uartD on PX4
2fa5e6310d Plane: added 3rd telemetry stream on platforms that have it
ac24ff0b1e GCS_MAVLink: added support for 3 UARTs
0b25ff0a16 HAL_PX4: added uartD
c000a08d6f HAL_LINUX: added uartD
0848412479 HAL_FLYMAPLE: added uartD
5e980a5b49 HAL_EMPTY: added uartD
18eadfd69e HAL_SITL: added uartD
4fb1fdb627 HAL_AVR: added NULL uartD
cbc0f3ec27 AP_HAL: support uartD on some boards
72415ed358 AP_GPS: change HIL GPS to always be 5Hz
490a061c6f Plane: added HIL_ERR_LIMIT
17c9cedac1 Plane: send out HIL servo updates as soon as we can
6ed493b10f AP_AHRS: added attitude_reset() method for HIL_SENSORS
1e36ebc31b Plane: reset HIL attitude if off by more than 5 degrees
8bfe59cea5 Plane: send SIMSTATE messages in HIL
8b254f2947 HAL_EMPTY: prevent valgrind errors
58b767b8e4 Plane: rename geofence structure
316ec5864e AP_Motors: removed incorrect Makefile target
b62501aaea HAL_FLYMAPLE: removed incorrect Makefile target
6c2e392d5d AP_Baro: fixed BMP085 examples build in autotest
b8bfe008e1 Copter: run GPS glitch detection even when not armed
d39598de6a autotest: use mavflightview.py from $PATH
8d227b801f GCS_MAVLink: increase max packet size to 104
4e6d41bc8e Copter: remove unused gps_fix_count
fe6ad3579c Copter: log GPS messages even when no fix
667c3ecbf8 Copter: commit to kick-off auto rebuild for -rc7 release
96fdc129b1 Copter: update -rc7 release notes
8eb46ced53 Copter: revert pre-arm check for slow GPS
1a0f80ee64 Copter: AC3.1-rc7 version and release notes
0bc505514a Copter: pre-arm check that INAV has no errors
965af43121 Copter: add INAV error count to PM dataflash msg
dacca04b21 INav: record error_count when GPS msg is late
7c52572020 Ublox: disable NMEA info in 3DR config
4e5cb72604 Ublox: set default rate to 5hz in 3DR config
b349d95269 Ublox: disable TimePulse Timedata in 3DR config
25046b4e6d Ublox: update config to ver 7.03
0219c85ee3 Copter: increase min LAND_SPEED to 30cm/s
e6a2940718 Copter: prefix SingleCopter's MOT param description
b47cd6d5be Copter: fix SingleCopter motor parameters link
afbb199544 TradHeli: remove slash from parameter description
7a2f49f7da Copter: arming check for gps if GPS FS set to LAND_EVEN_STABILIZE
a147eeb1e3 INav: degrade pos error slowly on loss of GPS
24dc4391bb Copter: display pre-arm check failure reason every 30sec
330aa95769 Copter: default MOT_SPIN_ARMED to 70
d003334b75 Copter: pre-arm check for ACRO_BAL_ROLL and PITCH
9ee308efd5 Copter: auto disarm in Loiter, AltHold after 15sec
699a5bd381 Copter: radio, batt failsafe disarm if copter is landed in Loiter or AltHold
7dd4ab835f Copter: CURR dataflash msg to output throttle_out
e7d5d9a2b7 Rover: log INS errors in PM message
c01a3debd6 Plane: log INS errors in PM message
1359a8fea5 Copter: log INS errors in PM message
7046f44443 Rover: added basic support for reverse in STEERING mode
56f574684d Plane: fixed throttle failsafe with reversed throttle
e32e83f2f0 Copter: commit to kick off MP rebuild
cf21774cf4 Copter: update AC3.1-rc6 release notes again
80059d3516 AP_HAL_AVR: resolve compiler warning
9485363c53 TradHeli: dynamic flight speed minimum to 5m/s
a98fb174c4 Copter: batt failsafe triggers RTL from AUTO
fd60285121 Copter: update AC3.1-rc6 release notes
87127f0ab8 Copter: allow battery failsafe to trigger RTL
a812ef4660 Copter: minor comment update for set_mode
bc1e06757b Copter: allow GPS failsafe to trigger AltHold
321036b72e Copter: update contributors list
50f583f116 Copter: AC3.1-rc6 version and release notes
5cc8772947 Copter: bug fix to Tricopter motor logging
8c9ab50ba2 TradHeli: restore CC_COMP and PIRO_COMP
7233a567fb TradHeli: add accessor for phase_angle
0f67e25d37 TradHeli: set throttle_min to zero by default
81fc24586e TradHeli: remove calls to get_manual_collective in auto throttle
60bc9f4539 TradHeli: angle error to zero while motors runup
c9c803ffd4 TradHeli: move STAB_COL_MIN to main parameter list
b71c6bfd76 TradHeli: add RSC_RUNUP_TIME param and rotor speed estimate
bc4dba0eea TradHeli: ext gyro gain range 0 to 1000
197fc67897 TradHeli: move pilot desired rotor speed to heli.pde
527f05ddec Copter: remove unused init_rate_controllers
4537e0aa15 Copter: add deadzone to ch8 for TradHeli
1f6bc7bd9c Copter: log TradHeli ch7, ch8 in MOT message
19ddb8e5f3 TradHeli: integrate constructor changes to main code
942c14258b TradHeli: ramp up changes
9ac051c56d TradHeli: BugFix to ColYaw
bba7fdc7c3 TradHeli: ch6 tuning of ext gyro to use control_in
4426060ccc TradHeli: COLYAW not applied when the motor is not running
9ae66c1773 TradHeli: add support for drive tail rotors
232a116973 TradHeli: Use Leaky Integrator on Yaw Rate controller
3ce16113b5 TradHeli: use landing collective when landed or landing
7ae0d3320b TradHeli: add landing collective min
633e91b7d4 Copter: initialise roll, pitch, yaw modes to stabilize
ae87759e6d TradHeli: add THROTTLE_MANUAL_HELI
1f65bb537f TradHeli: add get_pilot_desired_collective
eaef5315bf TradHeli: bugfix to update swash in run_rate_controllers
34fb70cfc7 TradHeli: formatting and param description changes
46118b59d7 TradHeli: integrate motor lib changes
13a412ee21 TradHeli: make parameters and variables private
72597cc5bd TradHeli: remove setup via CLI
2cc48ffcd6 Copter: formatting and param description changes
0e2ddb0378 Copter: verify_takeoff() should set ap.takeoff_complete to True after the takeoff is complete.
c5b119288d TradHeli: Add Motor Runup check to the auto_arming check.
f67d95ac75 TradHeli: Modify Throttle_Auto to prevent helis from pushing hard downward while running up the motor. We will set the collective pitch to stab_col_min which should result in a mild downward pressure if the user has set their parameters correctly.
ffb605d06d TradHeli: Modify the constrain on the auto throttle controller to prevent it from commanding full down collective if we think we are on the ground still.
8f2c9591ff TradHeli: dynamic_flight flag based on inertial nav speed
e23e4bc7d8 TradHeli: Bug Fix on Dynamic Flight / TakeOff Detector
324c866ae1 TradHeli: Move Take-off Complete flag from the throttle controller, and into the Dynamic Flight check.  This is to prevent false positive where the collective is pushed up before the motor is started.
f7c63be357 TradHeli: leaky-I-term based on dynamic_flight_detector
f5488bc447 HAL: MPU6k and Baro SPI to 8Mhz
08a6503364 HAL_AVR: force all devices on SPI0 to low speed when one is low speed
f0f6e85b39 Copter: ARMING_CHECK made into bitmask
fe822ba0b6 Copter: pre-arm check of INS health
71bb462ad0 AP_InertialSensor: use fabsf()
aef9289476 AP_InertialSensor: added INS_PRODUCT_ID values
d54b1ea446 CopterMotors: fix example sketch
ce045c77a4 Copter: remove unused variable from Single copter
b1bd708a98 Update README.md
371dc8c616 Copter: Drift Mode
57b291b1c5 Copter: reject change_command if not in AUTO
0778454434 Copter: disarm routine shortcut
9d4e0a216f Copter: parameter files for beg, int, adv and camera ship
bcbf0feff0 GPS Glitch: revert accel max to 10m/s/s
f5b1114aea Copter: range check pilot requested lean angles
14dc1a1c88 Copter: add @User and @Increment to motor params description
e53c57b0a6 Copter: default SPIN_WHEN_ARMED to zero
3bd124eb72 GPS Glitch: radius and accel max to 5m and 5m/s/s
6448ff455f build: added new copter frame type 'single'
504bdd8139 build: fixed build_all for heli
6deeca1cc0 build: support all copter frame types on all boards
159d6320bf Copter: move SINGLE parameters to start at 75
06ce98a2f4 Copter: add SINGLE_FRAME definition
81d83f1c55 SingleCopter: formatting changes
07d3f2a3c5 Copter: add support for singlecopter airframe
80131ce7cc Iris: remove ATTTITUDE_FAST, PID and OPTFLOW logging
13fd33c2d8 Copter: gps failsafe disabled until we get first 3d lock
f29f7d9777 Copter: bug fix to take-off in Loiter and AltHold
03831cdd28 Copter: GPS ok only when not glitching
e4d8c673f3 Copter: force gyro calibration on start-up
f10a4b04ae AP_InertialSensor: make PX4 healthy call _get_sample()
2af69b7131 Plane: make batter failsafe docs clearer
cfad814bfb AP_L1_Control: fixed switchover from loiter capture to circling
49fe7fea07 L1_Control : Added hysteresis for rear WP capture
1393ed58d0 AP_L1_Control: fixed waypoint approach logic
80def01fbe AP_InertialSensor: fixed semaphore error on startup for MPU6000
3262022195 DataFlash: print FMT messages for wrapped logs
6b1f59372c Copter: show git and firmware version in tlog
cae3d3b378 Rover: show git and firmware version in tlog
7e10811673 Plane: send firmware and git version in tlog
18c3b16aa8 build: added GIT_VERSION define to Makefile build
eee1364f05 Plane: update comments on ALT_CTRL_ALG and NAV_CONTROLLER
c1bc093cf5 Plane: removed unused variable
4f871c87f1 AP_AHRS: detect and try to cope with bad accels
f5299e2e11 AP_InertialSensor: added healthy check for PX4 and HIL
428479b9d5 SITL: added SIM_ACCEL_FAIL option
9d7f24f754 AP_Airspeed: added healthy() API
1aa29df52d Plane: report INS and airspeed health
b41f4898e0 Copter: report INS health
9748e72b3e Rover: report INS health
8a65a729f3 AP_Baro: start MS5611 at high speed
9ecd889e9d AP_InertialSensor: detect bad MPU6000 SPI transactions and lower bus speed
d2deee07df AP_Math: fixed zero function for integer vectors
b98bcbf715 AP_InertialSensor: automatically lower bus speed on mpu6k bad reads
bdc40cc7df AP_InertialSensor: try to lower SPI bus speed on errors
11e1cf31c4 HAL_AVR: changed to 16 byte bulk transfer on SPI0
53c3dff334 Plane: allow changing of loiter direction while loitering
42aeead047 Iris: Enable logging of all message types
1328bbf040 Plane: log the AHRS error terms in dataflash
900ea5dde0 DataFlash: make the SITL dataflash log 4x larger
a86ec8c786 AP_Menu: fixed double display of prompt
45381e5341 AP_Menu: added check_for_input() API
46724db144 AP_Menu: zero buffer contents on allocation
470e5f570d AP_Menu: dynamically allocate the menu buffers
ea09aebed0 autotest: raise timelimits again
691eaabe94 Plane: prepare for 2.76 release
ff73773de4 AP_GPS: try harder to get 5Hz updates from a uBlox
56bcda7252 AP_AHRS: lower default roll and yaw drift correction speed
24d1cf3bd6 HAL_PX4: don't check USB for data if not connected
8dc6b758f3 HAL_PX4: switch to delay_microseconds_semaphore() for UART timer
78604bd84e Plane: only send GPS_RAW_INT if new data
5e4b243c7b Plane: make DataFlash objects static
ae8ef344bf Plane: added time to most plane log messages
1fb636d57f DataFlash: added APM time and GPS velz to logged GPS messages
b096881f81 AP_TECS: added time to TECS messages
e1b01b205a autotest: fixed clean build
231b5ab793 Plane: prevent too large combined pitch/roll angles
ea9a2eda3f AP_L1_Control: reduced demanded bank angle by cos(pitch)
9b5cae2134 APM_Control: reduce roll compensation in pitch controller by cos(pitch)
5e915fbde3 DataFlash: added timestamp to IMU and VelZ to GPS logging
02d6f012ce AP_AHRS: added accel sum delay buffer to account for GPS lag
7546ae9ab5 Rover: update for AHRS API changes
2f6cfd1ff8 Copter: update for AHRS API changes
ff5f2ceae5 Plane: update for API changes
49179292b1 VARTest: update for AHRS API change
55b7903456 AP_InertialNav: update for AHRS API changes
1cd070a2e7 AP_InertialSensor: use const reference returns
28a4b6ad9f AP_TECS: update for AHRS API change
4e82a8e1d4 DataFlash: use const ins reference
2930184680 AP_YawController: update for AHRS API change
979c6ae3b6 AC_Fence: update for AHRS API changes
d31e557983 AP_AHRS: save memory and reduce pointer references
cb52b6f367 AP_AHRS: removed limit on normalisation of accel reference vectors
31eaaada62 AP_AHRS: removed vertical G limit on GPS velocity correction
a7931b1581 AP_AHRS: fixed wrapping bug in GPS based heading error
17b27a47de AP_AHRS: prevent GPS yaw resets on compass errors
fc5f825b6d AP_Notify: make APM2 ToshibaLED driver more efficient
620109d894 Copter: formatting fix to config.h
5d946be77c TradHeli: Change user description for COLYAW parameter.
8868af7c2f TradHeli: Change default Auto-Yaw to Yaw Look Ahead
66b8ca3a27 Copter: updated toy gains
1c7d9f43c1 InertialNav: fix for get_velocity_xy
9951c50e48 AutoTest: remove unnecessary wait from SaveWP test
67c9178cc5 AutoTest: wait 1sec when saving wp
4cf06aaae5 AutoTest: copter ch7 option to SaveWP
2a82d1b0b0 Copter: CH7 SaveWP fix corner case
8278767d0a Copter: remove unused get_acro_yaw
c3aa56459a Copter: remove unused Toy param
520a535c21 Copter: TOY mode updates
2de6dbd3d8 InertialNav: added get_velocity_xy
b1c9b57c73 Plane: mark 2.76beta1
023957967c Rover: fixed PM message
26a3860af2 Plane: fixed PM message
71de4ddcd0 AP_Airspeed : Fixes bug that caused airspeed calibration to be sent a zero airspeed
5a92ce4af6 Plane: added altitude and ground speed to NTUN logs
f4dde44b8d AP_InertialSensor: SITL doesn't use Oilpan code any more
fe3943e686 Plane: faster startup
145bbd1656 PX4: changed startup to fail if no px4io on FMUv2
f6f6caafc8 Copter: int gyros on arm, not on first boot
977983904f Copter: arming check that throttle is above failsafe
aaf642c223 Copter: disable autotune if pilot moves yaw stick
94f301181e Copter: recalc distance to home during arming
798c4e2278 Copter: more Ch7/Ch8 event logging
babc54ec60 Copter: default Ch7 to DO_NOTHING
97770ae352 Copter: rc10, rc11 available even without MOUNT
330687a754 RC_Channel: formatting
de08116320 Copter: disable some aux channels on hexa and octas
bb1664185f Copter: correct @Range of MOT_TCRV_MAXPCT parameter
65980ace68 Copter: remove some commented out send_text code
8a6c2a6588 Copter: add alt and throttle checks to crash detector
2326b2e5f5 Copter: crash checker
c64aa0e4de AP_Airspeed: fixed I2C semaphore handling for I2C airspeed
8386b658e9 Copter: add ANGLE_RATE_MAX param
9176bf2e97 Copter: add @Increment to battery failsafe descriptions
328de5fc7b Plane: add @Increment to battery failsafe descriptions
d09fd0d035 BattMonitor: add @Increment to CAPACITY description
24147a370a BoardLEDs: all leds off during init
2016bf1f31 Copter: fixed HIL build
bcb0deb888 Plane: ready for 2.75 release
787fd018b5 Rover: fixed performance monitoring
3ff407cb75 Plane: improved perf monitoring with SCHED_DEBUG
580e7b8a4a HAL_AVR: switch back to 500kHz SPI for MPU6k until we understand the issues
a44e3191df Copter: fixed baro-only preflight cal
5800c2a2c8 HAL_PX4: prevent excessive writes on startup from blocking
9df7185075 Copter: remove unused #defines from config.h
465cb8ab25 Copter: add features that can be disabled to APM_Config.h
cfa38df528 Plane: allow parameters to download at full speed
54ab96fe16 Rover: removed fast_loop() and use scheduler for all tasks
c602f7da0c AC_Fence: fix example sketch
c5b36ef3d2 AP_InertialNav: fixed example build
4348a272bf AP_InertialNav: remove unused velocity fns
36832aaa61 Copter: remove ins from InertialNav object instantiation
8fc16d5cdf AP_InertialNav: add comments, make ahrs const from neurocopter
a7e7084f27 Copter/position_vector: remove const specifiers on objects returned by value
0b181dd995 AP_Buffer: remove header/source separation to allow arbitrary template parameters without explicit instantiation in the cpp file.
e23135faa1 AP_InertialNav: bug fix for gps delay handling
cfaaf4b1e7 AP_InertialNav: rename AP_Buffer functions, fix delay handling bug
dc62398821 AP_Buffer: add comments and rename functions to conform with the STL-container naming conventions Comment format changes by Randy
6c825eace2 AP_InertialNav: move variable definitions to elide unused default construction of objects (saves 106 bytes)
c3309d909c AC_WPNav: make more member pointers const
bb5cf4a311 AC_WPNav: make member pointer to AP_InertialNav object const since it's never modified
b94d6848de AC_Fence: replace "_ina->geT_position().z" with more efficent "_inav->get_altitude()"
596c7a25b7 AC_Fence: make member pointer to AP_InertialNav const, remove unused gps-pointer member
7564cc02af Copter: use const refs instead of unneeded copies
f56d00ebb6 AC_Sprayer: add doxygen info
1ecb583dd9 AC_WPNav: replace unnecessary objects with const refs
c62f2e3d0c AC_Sprayer: replace unnecessary object with const ref
d6d5f0bbe4 Copter: Log.pde: replace unused copy with ref (saves again some bytes)
e2c3ea0f56 AC_Sprayer: add consts, update comments
f4000e66e6 Filter: add consts
7855d242c7 AP_Baro: add time-unit comment
4d4b419d25 Copter: add comment (unit of G_Dt)
c9f68fcd1b AP_InertialNav: remove unused AP_InertialSensor pointer
cbff58e2ed AP_InertialNav: add comments, rename incorrectly named member, initialize member, remove redundant assignment adjustments to original commit by randy
5af51140a9 HAL_Linux: fixed scheduler initialisation bug in Linux HAL as well
622f0dcc1d HAL_PX4: prevent threads running before subsystems are initialised
a407609dbe Plane: tag 2.75beta5
97cdd36dd8 APM_Control : Moved scaler on roll and pitch integrator to be before integrator
8e62035328 Copter: remove unnecessary check of flight mode from fence response
d86ac9041e Copter: report RC receiver health to GCS
0049351f2f GCS_MAVLink: generate after adding RC reciever to SYS_STATUS enum
d1906abb5c GCS_MAVLink: add RC receiver to SYS_STATUS enum
871a606ce1 AntennaTracker: first cut at antenna tracking sketch
de96ad9445 AP_GPS: fixed date handling in NMEA driver
65ebdfa786 HAL_SITL: fixed time strings in simulated NMEA GPS
6138dca2b2 Copter: set system time on GPS lock
c8e21c194d Rover: set system time on GPS lock
b897285737 Plane: set system time on GPS lock
6b2222c32e DataFlash: show timestamps on flash logs
34cde1a640 HAL_PX4: implement set_system_clock()
0ca82d5e3c AP_HAL: added set_system_clock() API
744819cec8 AP_GPS: added fake time to fake GPS lock
7a9048f225 Rover: added MAVLink SYSTEM_TIME message
92bf4b9c89 Copter: added MAVLink SYSTEM_TIME message
3289041428 Plane: added MAVLink SYSTEM_TIME message
d7a9888e26 DataFlash: updates for new GPS API
19ba07a3f9 AP_InertialNav: updates for new GPS API
b7b9efd120 HAL_SITL: properly emulate timestamps on ublox and MTK
6f5ac1d553 AP_GPS: added support for GPS time in week/millisec
6438be74e0 HAL_SITL: get the ublox GPS timestamps right in SITL
7c5982c573 Copter: remove unnecessary Log_Write_Optflow
f52c6add89 Copter: reenable optical flow by default
8ea3e68620 Copter: bug fix for loading missions while armed
f34b1c280d AP_BattMonitor: added set_monitoring() API
d305dd5946 AP_AHRS: debounce the GPS/compass consistency test
6f3458eb25 Plane: fixed setting of waypoint when not in AUTO
20ae1b7bc3 Rover: removed demo_servos()
fdc551dd14 Merge pull request #625 from proficnc/patch-1
e07ff52fc0 Merge pull request #624 from wiseman/fix_px4_build_script
b290a3db94 Update README.md
4aa7badd98 Updated build instructions & script.
030f479ac1 Copter: firmware update to AC3.1-rc5
fb49cd82c1 Copter: add LAND to aux switch
c98d375e49 Copter: update @Units to pwm on throttle params
78acea820f Copter: fix  symmetry in stability patch for Tricopters
8f4665c4c7 ToshibaLED: ignore I2C errors during init
443023bbbf AP_HAL: add ignore_errors to I2C driver
bbc4cb263f Copter: only allow autotuning when flying
cd5b24bf02 Rover: slow parameter send check to 5Hz
8f9315f047 Rover: bring MAVLink stream handling inline with plane
c20d0e8152 Rover: added SKIP_GYRO_CAL option
6b9b5c5617 Copter: pre-arm check speed is less than 50cm/s
943d7374f6 Copter: slow start motors from 0 to min throttle
5499c6ea6d Copter: autotune bug fix for starting autotune
6d76652e48 Copter: autotune set original gains on reset
53553751d1 Copter: Correctly set limit.lower flags for Tricopters
78c4e03fd5 sensor hil fix
4036f50fc2 Copter: bug fix to convert old batt params to BATT_ lib
6c0cb5f84d AutoTune: bug fix and GCS messages
1c091cbca5 HAL_PX4: fixed a scheduler bug that affects UART IO
2593144b69 Iris: Updated Pitch parameters and added IMU logging
390a8c02a5 Copter: enable AUTOTUNE by default
0cbedded0d Copter: autotune to use 2pos switch only
e0c4785b2a Copter: OctaQuad H-frame support
210ca08abd Plane: changed to 2.75beta4
c6cbfdce9a autotest: report initial and final altitude in alt hold tests
3393a5c99e AP_Baro: prevent a race condition in the SITL baro driver
86afc26609 HAL_SITL: decrease wind with altitude
2e75d5dec3 Copter: autotune log when limits reached
c59dee045c Copter: autotune restore orig pids if user changes flight mode
f13b45467f Copter: autotune bug fix for restarting tuning from suspended state
5ac3bf4915 Copter: adjust autotune P and D min and max
94e707094a Iris: Changed Flight Modes
7c7f235a97 Copter: ignore flight mode change requests if we're already in the desired mode
deb171a869 Copter: correct UserHooks typos
98d391efa0 AP_Camera: added note on DO_SET_CAM_TRIGG_DIST in docs
4239498b62 Plane: moved fast_loop() into main scheduler table
cb7303780f autotest: tweak plane parameters
294b669948 Plane: fixed rally altitude to be in meters
ede927f68a HAL_SITL: added airspeed noise control
5adf4e1706 Plane: improve THROTTLE_NUDGE docs
5e1f5ffb7f Plane: removed some old defines
c524a7c717 AP_HAL_FLYMAPLE: remove obsolete debugging code from RCInput
6f04e5f2e7 AP_HAL_FLYMAPLE: RCInput now more robust in the face of connect/disconnect of a PPM-SUM source
ce1a8fb831 AP_HAL_FLYMAPLE: Added new example test sketch RCInput.pde
3226a81611 AP_HAL_FLYMAPLE: Improvements to RCInput
fe6cacf081 AP_InertialSensor: Minor correction to comments in AP_InertialSensor_Flymaple.cpp
0920d9ac49 AP_HAL_FLYMAPLE: UARTDriver Use new libmaple TX buffers.
38512e3756 AP_HAL_FLYMAPLE: I2CDriver improvements to interrupt hygiene
8e5a9b06fb AP_HAL_FLYMAPLE: Fix example Scheduler.pde fo recent changes to API
bc55a2844c AP_HAL_FLYMAPLE: Fix example Scheduler.pde to compile with recent changes to scheduler API
36cc266626 autotest: fixed wait_pitch()
be253c6cd9 build: fixed build_all.sh
72b97168c9 AP_RangeFinder: improved SONAR_PIN docs
7831113f84 AP_InertialSensor: yield the CPU for the right time in wait_for_sample()
d973730b88 HAL_PX4: use hrt timer and semaphores to improve timing
aa7a1a5af3 Copter: correct GCS send times task estimates
d2bbc06502 Copter: allow throttle deadband to be redefined in APM_Config.h
8532e2bff8 AP_InertialSensor: fixed timing of PX4 sensor samples
c4d62f6b92 AP_Scheduler: fixed SCHED_DEBUG docs
0f4da25e68 AP_Scheduler: make sure we run remaining tasks on overrun
7f6eecd9d5 Plane: cleanup cruft in Makefile
959f59f623 Copter: correct mount tasks scheduler time
f344c77cca Copter: AC3.1-rc4 version and release notes
bf74a64fec Copter: add GPS glitch to arming checks
8de6c34252 Copter: comments update for GPS_HDOP_GOOD parameter
32f53624d6 Copter: rename low_battery to failsafe.battery
0e740bd4e1 Copter: enable AUTOTUNE for mission planner build
6876107a15 Copter: autotune disables rate output from stab controller
b69f08c03e Copter: reduce timer speed to 500 on APM2
a5788dde8f HAL_AVR: added Scheduler.set_timer_speed() support
7ef187fcfd AP_HAL: added optional set_timer_speed() scheduler API
09a1d35e62 Copter: fixed build for no COPTER_LEDS
a3168bcbaa Plane: fixes for AP_Mount API
f62c53502d Rover: fixes for AP_Mount API
d38d9ea88f Copter: changes for AP_Mount API
4de2a654ab AP_Mount: changed ahrs to be a const reference
8706810d55 Copter: scheduler times corrections
6be6bd5aed Copter: remove unused battery analog sources
34770fe6bf HAL_AVR: fixed SPI bus speed switching
d2bda8c235 Copter: split up medium loop
f2f61af125 HAL_AVR: scheduler interrupt 500hz for APM2
e9cefbafd1 Copter: higher priority for throttle loop, lower telemetry
9833900f91 AP_InertialSensor: run MPU6000 sensor register reads at 8MHz
04836ea763 HAL_AVR: set initial bus speed on MPU6k to 500kHz, then change to 8MHz
5ccf8409b4 AP_HAL: added an optional spi.set_bus_speed() API
4dc2f4bd58 HAL_AVR: spi3 at 8mhz for mpu6k and ms5611
f6038f36bf HAL_AVR: Improved AVRTimer micros() and millis()
5ba34b38c1 HAL_AVR: added specialised transfer functions for MPU6k and APM1 ADC
64d34dc125 Copter: give UARTA 512 bytes
d60a68fd9c AP_Baro: check baro at exactly 100Hz
499bc52c5b Perfmon: fixes to work with HAL
e34cc6dd9a HAL_PX4: added some UART debugging
035ac3800a Plane: use G_Dt for acro angle integration
05115684c1 Plane: pass FlightStage to TECS
55ba536331 HAL_SITL: fixed a warning
84336bc74e AP_TECS: added initial flight_stage handling
2b80df6319 AP_SpdHgtControl: added FightStage parameter to update_pitch_throttle()
6ffd84b0bd Iris: Set FS_BATT_VOLTAGE
473689d945 Iris: Update flight modes
5acc372f40 Rover: support MAV_CMD_DO_SET_CAM_TRIGG_DIST
3b9566bc09 Copter: support MAV_CMD_DO_SET_CAM_TRIGG_DIST
0ec322ee47 Plane: support MAV_CMD_DO_SET_CAM_TRIGG_DIST
0f0b040891 AP_Camera: added set_trigger_distance() call
1c7a44a595 GCS_MAVLink: regenerate mavlink headers
8198bfe756 MAVLink: added MAV_CMD_DO_SET_CAM_TRIGG_DIST
6a93e0cae4 Rover: remove some unused functions
72505cf4e5 Plane: release 2.75beta3
63bee0b2d8 HAL_PX4: disable checks for in_timerprocess
25d3e5b7e9 AP_GPS: changed fake GPS fix to have a latitude/longitude
dcb01d193d autotest: fixed ACRO attitude locking in plane
2a4e11a572 Rover: prepare for 2.43 release
ae1fd4baa4 HAL_AVR: reduce the latency of semaphore waits
cfa1b5353f AP_Scheduler: show slips only for SCHED_DEBUG>1
cdf813697a autotest: speed up build_all_px4.sh
dd4b9275fd AP_Scheduler: improved the accuracy of the scheduling code
dd53677a3c Iris: enable Altitude fence by default
a660e3ebef Iris: enable throttle failsafe
0d56a26cb4 Iris: fix typo in param file
1a070e61f0 BattMon: amp-per-volt reduced to 17 (was 18.002)
eb0176d509 GCS_Console: don't build this example
8f558609a9 autotest: tweak plane autotest debugging
b3af59cc0c AP_InertialSensor: don't build L3G4200D example
fc7f3c8aa6 AP_HAL: fixed example build
a04c056598 AP_InertialSensor: remove unused get_last_sample_time_micros()
b8f1289fce Iris: Updated Parameter file for rc3
e5501bf911 AP_BattMonitor: Updated parameter descriptions
93cbfbe46c Copter:Parameter descriptions updated
cd65e2109d AP_BattMonitor: fixed type in docs
0d682e74c1 HAL_Linux: run threads a bit more slowly
8f79a03c25 HAL_Linux: use larger UART buffers
8d1085feea Copter: pre-arm expects mag len of 330 for APM1 (was 530)
7e657ce856 AutoTune: abandon tuning if rate P hits minimum
1951ca1874 AutoTest: slightly shorten copter loiter test
13cf7c96cd GPSGlitch: parameters for accel and always-ok-radius
fc47e05105 Copter: update firmware version to AC3.1-rc3
450323f4ae Copter: enable logging on Linux
bf5aef7119 Rover: enable logging on Linux
5d685385eb AP_InertialSensor: use gyro sample count on L3G4200D
6444b0bddd AP_InertialSensor_L3G4200D: a sample is only available if gyro had a sample
eef966c5fb Rover: use ins.wait_for_sample()
4b68dd48f7 Copter: use ins.wait_for_sample() for main loop
8e5d1430da Plane: use ins.wait_for_sample()
e5e4cdee18 AP_InertialSensor: added wait_for_sample() API call
67db1cedaa HAL_PX4: fixed delay_microseconds() on PX4
9435eb4a15 Copter: remove unused flags and consolidate ap and ap_system
2bb497703c Plane: avoid delay_microseconds() until fixed on PX4
6304be1f5a Rover: avoid delay_microseconds until fixed on PX4
f59d0099a4 AP_Notify: fixed RGBLED on PX4 with latest PX4Firmware
9aea577eb1 BattMonitor: correct default pins for PX4
6145924481 Copter: switch Linux to L3G4200D ins driver
561618b2b2 build: added -lrt for Linux build
c17a5e5ed1 AP_InertialSensor: added a small delay in accel calibration
1ccd6bb7ef AP_Compass: don't wait more than 1ms for compass sample
42255ebbc6 Rover: improved loop() latency
1e7af3e101 Rover: switched to L3G4200D driver for Linux
48ed480d59 Plane: improved latency of main loop
e6af7dad3d Plane: switched to L3G4200D driver for Linux
28b4ae1c3a HAL_Linux: improved latency of timed semaphores
6fa55d101f AP_Baro: fixed I2C semaphore handling for BMP085 driver
f286369990 AP_Compass: fixed orientation on Linux
83c942a512 AP_Compass: prevent NULL deref on enable mag while running
77e8061170 AP_Common: added product ID for L3G4200D
a216e1d239 HAL_Linux: don't prevent write while timer is busy
91511e6503 HAL_Linux: better realtime setup
2422b94292 DataFlash: prevent valgrind errors from Empty driver
12af23bb7c AP_InertialSensor: added L3G4200D example
1aabd7155e AP_InertialSensor: added L3G4200D driver
fbb295a0a1 Copter: correct HLD_LAT_P and HLD_LON_P ranges
d29781104f AC: fix autodocs for SUPER_SIMPLE so the GCSes can show the right options
f56617710f Copter: pre-arm RC checks ch3's min and max
752d1503b9 Rover: release beta7
64c8cb4739 APM_Control: improved auto docs for AP_SteerController
84edbb335a AP_HAL_FLYMAPLE: UARTDriver now uses the new libmaple tx ring buffers
11317dcec4 AP_HAL_FLYMAPLE: FlymaplePortingNotes.txt improvements to install/build documentation.
7f9d4a155f AP_HAL_FLYMAPLE: UARTDriver begin now honours txS == 0 which means no change
60921f7dfa AP_HAL_FLYMAPLE: Improved libmaple version detection
07b8f45770 HAL_Linux: use CLOCK_MONOTONIC_RAW to ensure clock never goes backwards
a4604ab317 Plane: honor zero RALLY_LIMIT_KM
5bf1463e7a Plane: added RALLY_LIMIT_KM
4c32f4dbdb AutoTest: shorten simple and super simple tests
0cd49f3ca0 AutoTest: remove LAND from end of copter mission
efc02161c4 Copter: add safe switch arming check
365e82aecb Plane: use a rally point when out of mission items
1518217952 HAL_FLYMAPLE: removed unused backend console code
de4d505f62 HAL_AVR: fixed examples build
01ba5a0e0c AutoTest: add super simple test
0c0de7c53e Copter: simple mode speedup
61dd04ccb5 Plane: auto-update home and baro calibration when disarmed
487caea3a5 AP_Baro: added update_calibration() method
7cab8cb3bb HAL_PX4: removed Console driver
b30f652cec HAL_Linux: removed Console driver
21f0086647 HAL_FLYMAPLE: removed Console driver
8e7d9bb464 HAL_Empty: removed Console driver
930d664677 AVR_SITL: removed Console driver
7072c52b57 HAL_AVR: removed Console driver
9f24c45502 AP_HAL: removed separate Console class
39bfd809c2 APM_Control: disable integrator below minimum speed
4bc913791f autotest: tweak plane parameters
ad30f8effa HAL_PX4: try to reopen UARTs if safety switch is disarmed
34a328f66d AP_HAL: added safety_switch_state() function in hal.util
58187ea449 APM_Control: change minspeed on steering controller to 1.0
536fbb4a30 Plane: if pilot gives aileron input then disable ground steering
d32e58db84 Plane: split out the channel stick mixing
3be939eb03 Plane: give manual steering when still
d275f50539 Plane: added GROUND_STEER_ALT and GROUND_STEER_DPS
081510d37a Plane: added ACRO_LOCKING parameter
5abf060c41 APM_Control: enable integrator in ACRO rate controller
d27f5e89d7 APM_Control: remove public AP_PitchController::get_coordination_rate_of|cat()
44eedd4abd Rover: update for new AP_SteerController API
bd848a6a7f APM_Control: added rate and angle steering controllers
03aca1bd8d Rover: allow throttle nudging in STEERING mode
ba92c4891a Copter: make AutoTune a compile-time option
31cea0140d Copter: Leonard's AutoTuning for Roll and Pitch
ed7f831c18 Rover: mavlink ext status to use SYS_STATUS_SENSOR enum
6e2b1093fc Plane: mavlink ext status to use SYS_STATUS_SENSOR enum
09de917b27 Copter: mavlink ext status to use abs pressure
72aa8a18ab AP_HAL_FLYMAPLE: update documentation in FlymaplePortingNotes.txt
6b003ae551 AP_HAL_FLYMAPLE: Fixed problem with tx buffer that caused slow parameter delivery
c90c1b9998 AP_InertialSensor: Improvements to Flymaple sensors
39f9b7bbc9 AP_HAL_FLYMAPLE: Add test for correct version of libmaple
1f7272978c AP_HAL_FLYMAPLE: fix compile error in example AP_Baro_BMP085_test.pde
2d3c86ee80 AP_HAL_FLYMAPLE: I2CDriver now uses low level hardware i2c librray from libmaple
68a7cac9a2 AP_HAL_FLYMAPLE: Improvements to FLYMAPLEStorage
29707f4401 AP_HAL_FLYMAPLE: Modest speed improvements to I2CDriver
9ea1108d4e AP_InertialSensor: Flymaple filter constructor arguments non non-zero
ecd4ed2277 GCS_MAVLink: generate mavlink includes
8aec70af1d GCS_MAVLink: add SYS_STATUS_SENSOR enum
a33060b66d Copter: mavlink extended status gps bit not-healthy when glitching
688dd5374e ToshibaLED: flashing green if disarmed with GPS lock
011915eb1c Plane: added error checking to rally load save
7a9ed0a5a1 AP_GPS: fixed warning
86b58314c4 AP_Common: pack the RallyLocation structure
497c95de8e Plane: Add support for rally points.
823a40c203 AP_Common: Added RallyLocation struct.
1777db91cb GCS_MAVLink: import latest upstream.
99a8ba4634 DataFlash: fixed display of last page of flash logs
89f121ea77 DataFlash: wait for blocks to finish writing to flash on log read
8e0a136d78 HAL_AVR: mark some examples as not building
a250c13c79 HAL_PX4: fixed build
1440c8cebd HAL_Linux: implement a dummy console buffered write()
9624821493 HAL_FLYMAPLE: implement a dummy buffered write
a8c97f99d1 HAL_Empty: implement a dummy buffered write
c035eef845 HAL_SITL: implement a dummy buffered write
a59f505d25 HAL_AVR: implement an efficient buffer write() call for AVR
efe1e01700 AP_HAL: require a buffer write() function in all ports
5489097476 AP_GPS: update the UBLOX rates async from the start
cee8a017ab AP_GPS: added UBLOX_FAKE_3DLOCK debugging option
f1e120113c AP_Common: added OPTIMIZE() macro
fb19dbb404 AP_Math: cope with large values passed into the wrap functions
34f7f88190 AP_GPS: check for corret GPS solution rates in flight and fix
e672b61bbb AutoTest: enable battery monitoring by default
5f1ba85ce4 AutoTest: add copter battery failsafe test
db2975901d AP_HAL_AVR_SITL: use SIM_BATT_VOLTAGE parameter
8d1d8c78b5 SITL: add SIM_BATT_VOLTAGE
21360aeebf Plane: sent current as -1 to GCS when can't be monitored
3c5797c479 Copter: sent current as -1 to GCS when can't be monitored
121e4932ea Rover: integrate BattMonitor
dab4f032f9 Copter: integrate BattMonitor
9722276827 Plane: batt curr and remaining should be int16
f1309ed63f BattMonitor: bug fix for current_total_mah
cb91440c63 Plane: remove test_battery from CLI
9388ea3848 Plane: integrate BattMonitor exhausted method
7d73e62a23 BattMonitor: add exhausted method
d9fe099885 BattMonitor: update comments and defaults
366d73124a AP_Battery: fixed parameter name and default voltage ratio
c7df0eaf2a SITL: added battery voltage and current
74c8c8aafa Plane: auto-upgrade battery variables in EEPROM
88777beab0 AP_BattMonitor: minor cleanups
c64d444b5a Plane: integrate BattMonitor
8b06a12fa4 BattMonitor: initial draft lib
42bc8b12df SITL: added a SIM_GPS_HZ option
65976831e2 Plane: moved Linux logs to logs directory
c9fea2c706 HAL_Linux: fixed scheduling priorities
134bf5a5c9 AP_Menu: be friendly to multi-tasking OSes in menus
2819dd99fa AP_Menu: copy with newline from console
bbac3265b2 HAL_Linux: default to hal.console on stdout
bcc9cdbf43 HAL_Linux: make I2CDriver more portable
453581b25a autotest: added linux build to build_all.sh
51c19331a6 HAL_Linux: fixed build
e60d5d4f33 AP_Airspeed: fixed some warnings
eef693f243 Plane: removed some compat code
24099a520d Plane: updates for AP_HAL::MemberProc
32a016a66f Copter: updates for AP_HAL::MemberProc
3538e1190c Rover: updates for AP_HAL::MemberProc
d83dbb38b4 AP_ADC: updates for AP_HAL::MemberProc
2095b2a2d7 AP_Airspeed: updates for AP_HAL::MemberProc
c04d9b0c03 AP_Baro: updates for AP_HAL::MemberProc
a86bb15a05 DataFlash: updates for AP_HAL::MemberProc
b178ad7344 AP_OpticalFlow: updates for AP_HAL::MemberProc
dda68bddcb AP_InertialSensor: updates for AP_HAL::MemberProc
942ae70651 HAL_PX4: updates for AP_HAL::MemberProc
f2ebb2ca87 HAL_Linux: updates for AP_HAL::MemberProc
82fe40224b HAL_AVR_SITL: updates for AP_HAL::MemberProc
a2b879493d HAL_Empty: updates for AP_HAL::MemberProc
c27a61f210 HAL_FLYMAPLE: updates for AP_HAL::MemberProc
6d58f5e188 HAL_AVR: updates for AP_HAL::MemberProc
f2de4bb7b0 AP_HAL: implement AP_HAL::MemberProc via FastDelegate.h
56d33cd3a7 Rover: prep for 2.45beta6
c7ac864af9 Rover: smooth steeing at low speed in STEERING mode
0784c01f19 APM_Control: added STEER2SRV_MINSPD
53f66b23f4 AP_HAL_Linux: fixed APM2 build
1698e1800c HAL_Linux: timer calls may block on HAL_Linux
5102f1511b HAL_Linux: fixed callbacks from delay()
a1ef1a9318 HAL_Linux: tweak the scheduling priorities
d3fe625742 HAL_Linux: make the SPI driver much more efficient
7067569103 HAL_PX4: fixed end() on UARTs
1e786b3e20 HAL_Linux: added buffering on the UARTs
605e6c3cf7 HAL_Linux: use pthread mutexes for semaphores
444d053dc2 Plane: enable Oilpan and BMP085 on Linux
30b6b23b10 AP_ADC: enable APM1 ADC on Linux
1191607036 AP_InertialSensor: enable Oilpan on Linux
884af71ef6 HAL_Linux: added SPI support
9679faae3b Rover: ported to Linux
3665bec26d Copter: fixed build for Linux
9e42e536a7 Copter: make the scheduling a bit more multi-tasking OS friendly
0c99a1bbbb Rover: be friendly to multi-tasking OSes
f68778d453 Plane: be friendly to multi-tasking OSes
8a699f6189 AP_Baro: enable BMP085 on Linux
20d1ddb5ba Rover: update for Stub -> HIL
234eaceb14 Copter: update for Stub -> HIL
287db19119 Plane: updates for Stub -> HIL
8ee848a788 AP_AHRS: update for Stub -> HIL
350af4d92f HAL_AVR_SITL: updates for InertialSensor
cf726c6642 AP_InertialSensor: rename Stub to HIL
dd081ab23b AP_Notify: enable toshibaled on all I2C capable platforms
291369db7f AP_Airspeed: split up airspeed driver
d73c49bebc build: override opt flags for Linux build
f03315237a HAL_Linux: fixed timer scheduler
88959004d7 Plane: use new scheduler API
a0f9055a9d Copter: use new scheduler API
19651373d0 Rover: use new scheduler API
20b1131059 AP_Baro: use new scheduler API
6134d9d0d7 AP_ADC: use new scheduler API
19e9c95983 DataFlash: use new scheduler API
f53afaa5ac AP_OpticalFlow: use new scheduler API
03036c632d AP_InertialSensor: use new scheduler API
7ec242146d HAL_PX4: update for new scheduler API
cca59ce3c9 HAL_Linux: update for new scheduler API
1d820761be HAL_FLYMAPLE: updates for new scheduler API
6bc4a830ac HAL_Empty: updates for new scheduler API
c08f29fca6 HAL_AVR_SITL: updates for new scheduler API
0ade02a624 HAL_AVR: updates for new scheduler API
f0f5761e8d AP_HAL: make timed processes take void *argument
1fd0f73e3f Plane: use DataFlash_File on Linux
0311c95e9d git: ignore ~ files
71d0b294c5 build: added -lpthread and SKETCHNAME in build
49d3d624d7 DataFlash: enabled DataFlash_File for Linux
bcf4f48e65 HAL_Linux: switched to pthread based scheduling
da14ad2e2d AP_Compass: neaten up HMC5883 debug
ce7d458855 AP_Compass: added Linux support to the compass test
6fc5b06043 AP_Compass: fixed some old Serial.print calls
58a31318ee AP_HAL_Linux: initial I2C driver implementation
6b95d870ad AP_Progmem: only AVR uses progmem
c3d0b315cf Plane: added HAL_LINUX includes
4c05848734 build: added Linux targets
1f3a051e7b AP_Progmem: Linux doesn't use progmem
018b8fde95 AP_Notify: blank Linux LED defines
1243ab9e63 AP_Compass: added HAL_Linux support
296417a228 AP_HAL: added AP_HAL_LINUX define
4ba044c441 AP_HAL_Linux: initial Linux AP_HAL
096660c4f9 AP_InertialSensor: mark flymaple as nobuild
e4eef61ec3 AP_InertialSensor: Flymaple sensors improvements
23429b6b9c AP_InertialSensor: Flymaple now polls sensors at 800Hz. More changes to come...
29bced05bd AP_InertialSensor: Added examples/Flymaple for testing
d11f952ef1 AP_InertialSensor: Formalise and document Flymaple Gyro scaling factor
db2b7ed4e3 AP_HAL_FLYMAPLE: UARTDriver libmaple internal ring buffers enlarge on demand
adfcdca074 AP_HAL_FLYMAPLE: Sensor reading improvements
06e29536f1 PX4: added auth command to the build
c3f7146f03 Copter: improve check of frame type to catch spelling errors
e295d4555d Copter: send frame type in mavlink heartbeat msg
f7ba0438ef InertialSensor: remove DMP
a53d28e018 Copter: remove support for dmp ahrs
8306d74da0 AHRS: remove DMP as an ahrs
650ff258db Plane: update for new INS API
394645560a Copter: update for new INS API
0518fd5d56 Rover: update for new INS API
14636e1cdf AP_InertialSensor: changed num_samples_available() to sample_available()
566eaf7d41 Copter: fixed flymaple build with copterleds
99da118faa Filter: added in Leonards LowPassFilter2p filter
3c86fceed9 AP_Progmem: removed SMACCM support
2469dcf8e6 AP_Notify: removed SMACCM support
1ec5cbed81 AP_InertialSensor: removed SMACCM support
60f3a8b6cf AP_HAL: removed SMACCM support
3f0f8dfa62 AP_Compass: removed SMACCM support
13cdc56a5a AP_Common: removed SMACCM support
a0b6481dfd Copter: removed SMACCM support
58f9349af4 HAL_SMACCM: removed SMACCM HAL port
5cac1b3c92 Copter: ignore aux switch during radio failsafe
fd2e87b710 Copter: disable tuning during radio failsafe
6b97994dcd Copter: ignore switch changes during transitions in or out of radio failsafe
7cc8a9038f Copter: move failsafe flags into structure
f144de21b4 AC_Fence: fix example sketch
6f337fe1e8 AutoTest: increase timeout for GPS glitch test
e5c5084e76 InertialNav: fix example sketch
02f7310689 Copter: make it easier for Arduino users to easily reduce flash space by turning off features
081a481a7c build: added flymaple-upload target
708c603420 AP_HAL_FLYMAPLE: UARTDriver now has correct implementation of txspace that looks at HardwareSerial ring buffer
e4b5d0a3d6 AP_InertialSensor: Final Flymaple orientation fixes
276068356e AP_InertialSensor: Further Flymaple orientation fixes
06478bde52 AP_HAL_FLYMAPLE: Console is now a thin wrapper around uartA, consistent with AVR
b02dbca9d4 AP_InertialSensor: fix orientation of Flymaple sensors
4cd952446d AP_HAL_FLYMAPLE: added documentation about safety of noInterrupts()/interrupts()
ab71f2e535 AP_Camera: remove unused methods
2c96ed3f22 Copter: disable optical flow
589200042d Copter: remove declination setup from CLI
09756e16b7 Copter: remove battery setup from CLI
3bf1352701 Copter: shorten motor tests printf
8cce837f77 Copter: remove accel level from cli
77b5cb5d3f Copter: correct typo in error #define
8a886c0e19 Copter: remove err msg for undefined throttle mode
284aa2217f Copter: remove old comments
e5535e35b3 Copter: remove unused reset_stability_I
d7782e1356 Copter: remove tune from cli to save 300bytes flash
1cc2c8d6a5 Copter: reduce compassmot flash by 500 bytes
cddbaf0459 GPS_Glitch: make accessor functions const
55c94b3b41 GPS_Glitch: bug fix for enable/disable parameter
54cb815fec AP_Notify: add gps glitching and failsafe flags
c596b27719 Copter: add dataflash error for GPS glitch
6c5294f89e Copter: integrate GPS_Glitch parameters
a2c0415ba9 GPS_Glitch: make enable/disable a parameter
78124f2fca GPS_Glitch: remove unused recovered flag
62d298e141 AutoTest: add copter gps glitch test in auto mode
29b30cf752 Copter: gps failsafe on lengthy glitches
4c8227c050 Copter: update AP_Notify for gps failsafe and glitching
90953a96e5 ToshibaLED: flash blue-yellow for gps failsafe and glitch
4bac26171b AP_Notify: add gps_glitch flag
262fcb301a InertialNav: rename set_current_position to set_home_position
2f5b32bada Copter: integrate GPS_Glitch's check_position
81dd4f8b0c InertialNav: integrate GPS glitch detection
4dcfce7104 GPS_Glitch: glitch detection class
cc00ac96ca AutoTest: add copter gps glitch test
c6a99ac24a AutoTest: add support for GPS glitching
5b5038f419 build: skip FLYMAPLE examples
070a0fefd9 build: added flymaple to build_all.sh test
3589c07d09 Rover: added support for the flymaple board
3378c7901a Copter: added support for the flymaple board
815be5ddfe build: fixed libmaple upload target
3df849b8d1 build: make flymaple port find libmaple in parent directory
c1d56f74b5 AP_Common: change flymaple product ID to 0x100
6a8c1a0c36 Plane: Added flymaple to ArduPlane
aa800472be Plane: defines.h added Flymaple INS
3ddcdba659 Plane: Parameters BATTERY_MONITORING for Flymaple
18c6b00b5b Plane: Added definitions for Flymaple
7850d1f2ce AP_Progmem: Add Flymaple support
b7e182e056 AP_Notify: Add flymaple LED definitions
4d10a96077 AP_InertialSensor: Add flymaple support
ec5425578e AP_HAL: Added Flymaple board
8f61a36e58 AP_Common: Flymaple compatibility
e3c20f06ac AP_Baro: Chnages to flymaple port.
c1d3bedb60 AP_Airspeed: changes for Flymaple port pins and caibration constants
f90790a26c build: added build files for Flymaple port
9bfc52d9af HAL_FLYMAPLE: initial port to flymaple board
2fa0c39f3a AP_Compass: added Flymaple orientation
37ad9e3f82 PID: fixed example build
d64660739e AP_OpticalFlow: fixed example build
448167e958 AP_GPS: fixed examples build
1b200b30f4 Rover: create 2.43beta5
06a9624a72 Rover: make the default period 8
af2d7232c5 APM_Control: make the default time constant 0.75
770b7b5901 AP_InertialSensor: prevent a lockup in MPU6000 driver
c888f0256f Update GIT_Success.txt
91315715fe Copter: removed CONFIG_PUSHBUTTON
8f8711b137 Rover: removed SLIDE_SWITCH and PUSHBUTTON defines
3ffeff04a7 Copter: removed logging of MAVLink parameter changes
36ea705956 AP_OpticalFlow: fixed build with print() API change
53f35dee57 Rover: fixed build with print() changes
aff274f9f4 Rover: make compat functions static
a8796f2f76 Copter: make compat functions static
4f310aaec8 Plane: fixed build with print() base change
0e9aef7e52 AP_HAL: changed base defines for print()
767884b7f1 Plane: workaround conflicts between wirish and APM compatibility
2e061fc507 AP_Param: Fix compiler warning on Flymaple
4c65c42411 AP_Compass: fixed ARM 32 bit compatibility
66165c4918 autotest: make default param files end in .parm
87bb3bc5dc AP_HAL: added AP_HAL_PX4 define
21010104e6 AP_HAL_Empty: added register_io_process()
928e06f52c AP_HAL: use fabs() in print
45d9140946 AP_HAL_SMACCM: updates for new API
40af9ab674 AP_HAL_PX4: updates for new API
d0bb998352 AP_HAL_Empty: updates for new API
dbb70fc57c AP_HAL_AVR_SITL: implement betterstream functions in AP_HAL
33fe27a104 AP_HAL_AVR: implement betterstream functions in AP_HAL
d46f5f6943 AP_HAL: implement betterstream functions in AP_HAL
54fc004956 SITL: fix sitl timer issues under cygwin
996eda0080 Plane: Report MAV_STATE_ACTIVE if flying, MAV_STATE_STANDBY otherwise
bcce2e4fc5 Plane: use new Baro API
35e3c887d2 Copter: use new baro API
fc119d9b80 AP_Baro: cleaned up temperature and pressure units
7de47931a8 DataFlash: use %f not %.6f
16a7faa223 AP_Param: use %f not %.6f for param show
0d662c52b3 AP_HAL: fixed length return from snprintf
0063f1fad8 AP_HAL: added Util.cpp
05b426c1fc HAL_PX4: use common printf implementation on UARTs
f5c0f765fc AP_HAL_SMACCM: use common printf implementation
b9d6f8e8b1 AP_HAL_AVR: removed unused script
85b3f0d18d AP_HAL: expanded printf test suite
e12a4178f3 AP_HAL_SMACCM: convert to new AP_HAL printf
80e2a5cc32 AP_HAL_PX4: convert to new AP_HAL printf
4c1925b578 AP_HAL_Empty: convert to new AP_HAL printf
bb44fa4385 AP_HAL_AVR_SITL: convert to new AP_HAL printf
60122f9877 AP_HAL: moved printf implementation from AP_HAL_AVR to AP_HAL
4ad4b60fbc HAL: added Printf test sketch
16a0dfc38c HAL_AVR: changed to C implementation of float formatting
36466e91ed Plane: run SENSOR_OFFSETS message at 1/10 of the requested rate
b52b6ce121 Rover: only send RC_CHANNELS_SCALED in HIL
b6a0577723 Copter: only send RC_CHANNELS_SCALED in HIL
c4dcdcf5a2 Plane: only send RC_CHANNELS_SCALED in HIL
faddef69e6 Copter: fixed baud rates on APM1
7e589017b3 Rover: fixed baud rates on APM1
b28a4f21f2 Plane: fixed uartA baud rates for APM1
7e819a52a7 Iris: Change Flight Modes
4b18c670e3 DataFlash: explicitly print floats to 6 dec places
3f84e0adf6 AP_Param: explicitly print floats to 6 dec places
e455ee0a94 Plane: fixed throttle suppression for AUTO_FBW_STEER=1
1869cd52e1 Plane: fixed AUTO_FBW_STEER stick mixing
d89f514c02 Iris: enable battery failsafe by default
328e900364 Plane: changed TKOFF_THR_DELAY default to 2
43cf0736a3 Plane: Auto Takeoff Check updates
4d2bfe1078 AP_InertialSensor: fixed another example build
d62c6dc051 gitignore: ignore Build.ArduPlane
ab4274aa8d Plane: disable battery failsafe when usb connected
5ca7743fe2 VARTest: removed old pin defines
21a4da0d29 Plane: removed flash_leds() calls
46688454c4 Copter: removed flash_leds() calls
95c2e11b5a Rover: removed flash_leds() calls
e1aa6e3ff1 libraries: fixed examples for no flash_leds() callback
f8e9d48a76 AP_InertialSensor: removed the flash_leds() callback
66ee484b3c AP_Notify: convert to unix style file
445edb8793 GCS_MAVLink: remove CR/LF
18896d9c9b AP_Math: fixed DOS CR/LF errors
cf633e4d79 AP_HAL: convert to unix file format
481429de61 Rover: use new HAL usb_connected() function
754bdbd25f Copter: use new usb_connected() HAL function
4bd6b2f428 Plane: use new usb_connected() function
a5b29f44d5 AP_HAL: added hal.gpio->usb_connected() function
59943bad26 Iris Params: update volt divider for 4-in-1 ESC
ead8a5d495 Iris Params: set COMPASS_ORIENT to 0
642a9b3df4 Copter: update AC3.1-rc2 release notes for COMPASS_ORIENT change
79399e4fb4 Copter: AC3.1-rc2 version and release notes
d3fcfe669d Copter Motors: increase MOT_SPIN_ARMED to int16
a71c52e8ef Iris Params: reduce Yaw IMAX and increased Loiter speed
8a76d82de4 Plane: set failsafe_radio AP_Notify bits
150e7a3f16 Plane: prevent arming tone on startup
e0d44ed31a Rover: prevent arming tone on startup
0d6b847966 AP_Notify: grab initial flags state in init()
95a696ea36 Plane: enable failsafe battery reporting
ec0c894306 Plane: use the projected position for geofencing and waypoints
dcb60e190d autotest: run mavproxy.py from $PATH
284492cfec AP_GPS: fixed an initialisation problem with GPS drivers
4864496ae6 SITL: reduce default GPS delay to 0.4
b98ce84b15 autotest: fixed heading in CMAC location
6fd2b71fbd autotest: added takeoff to CMAC-circuit.txt
84ed2141a0 AP_Math: fixed float rounding in location_offset()
3e24ff1b07 AP_SteerController: change the scaling of the D term
3878d9d09e Rover: fixed typo
e85d275fe5 SITL: added SIM_SERVO_RATE parameter
98b4ed1522 AP_SteerController: lower the default STEER2SRV_D
a1cbcc5e23 Rover: update to 2.43beta4
df66dc1889 Rover: honor the FS_GCS_ENABLE parameter
d16587340d AP_Notify: add PX4's tone_alarm
226cb265af Copter: update Iris param file
43ffe91546 Plane: added FS_ACTION of 2 for glide
36b9700537 Copter: add params file for Iris
65adb78f31 Copter: increase default battery capacity to 3500mAh
0fa8e44377 Copter: remove cli eprom dump
0232b25f6e Copter: update LED_MODE bitmask @values to always enable leds
ea3d388796 Copter: update release notes to add slow take-off
dd6a69f588 Plane: added WP_MAX_RADIUS parameter
daa0cb7914 Copter: enable motor slow start in auto mode
cc6acac1dd Plane: added AUTO_FBW_STEER option
98a2ffd65c Copter: remove redundant reset_i_all from startup
387b6afed4 autotest: ensure JSBSim is dead at start of testing
8b2c9557c7 Rover: changed to AP_Vehicle.h
3720efc7c9 Copter: changed to AP_Vehicle.h
de7b42e323 Plane: changed to AP_Vehicle.h
db7f43ea9f VARTest: changed to AP_Vehicle.h
9be02fb493 AC_Fence: changed to AP_Vehicle.h
fbe4be94cf APM_Control: changed to AP_Vehicle.h
15a4582ed7 AP_AHRS: changed to AP_Vehicle.h
2e742582e4 AP_Airspeed: changed to AP_Vehicle.h
23fc6f8aed AP_HAL_AVR: changed to AP_Vehicle.h
c64950e4f5 AP_InertialNav: changed to AP_Vehicle.h
a67413d495 AP_Mount: changed to AP_Vehicle.h
645eb711cb DataFlash: changed to AP_Vehicle.h
16d2ad9796 AP_TECS: changed to AP_Vehicle.h
30ebcd36ac AP_SpdHgtControl: removed AircraftParameters
79a4bc6ea4 AP_Vehicle: added new header for parameters in multiple libraries
5bef6dd539 AP_Motors: fixed example build
cc4fad23d9 AP_Airspeed: updates for Pixhawk
2990359043 PX4: Implement accurate ratiometric voltage reading on Pixhawk
b4b2128977 Copter: update @Range comments for THR_MIN
c5bd1a76ed Copter: comment update re low battery event
0a047ae1c1 Copter Motors: increased spin-when-armed to 70
653a5036ae Copter: #define for initial altitude jump during take-off
072b231c3f Copter: integrate slow start feature
36bbed8fdd Copter: removed calls to set motor's max throttle
62cb5c172b Copter Motors: add slow start feature
ac98644405 Sprayer: minor change to flags type
1f84399704 autotest: small adjustment to rover parameters
bc3249fada SITL: fixed Vcc voltage
3a3cecf5ff PX4: support getting servorail voltage from ORB
8010d7fd78 Plane: update battery pin docs
adc923b989 Copter: update battery pin docs
d9fe0552f0 Copter: allow Vcc checks on Pixhawk
5c639b8b9f Rover: update battery pin docs
457ca0b57d AP_ADC_AnalogSource: fixed APM1 build
fe5a4ab710 Plane: fixed Vcc
7c62736e59 Copter: fixed Vcc
6ab9b0b91b Rover: fixed Vcc
fb56feb6b2 HAL_PX4: support all analog input pins, with scaling
a80d3344f5 AP_HAL_AVR: support voltage_latest()
a587b1140a AP_HAL: added voltage_latest() interface
4f33e4e114 autotest: fixed handling for wiki and xml generation
0c8d56632e Plane: fixed SR0 and SR3 autodocs
4545445850 Copter: fixed SR0 and SR3 autodocs
bfd61fec15 param_metadata: support .pde files for parameter autodocs
d20644e664 Rover: added SR0 and SR3 stream rates to auto docs
3d6e76a050 Rover: changed default L1 period to 11
b7e54bd463 AP_Airspeed: reduce speed of autocal
2171f2a80b AP_SteerController: move scaler onto integrator input
a68966e077 Copter: integrate sprayer pump test
5e7a6b3b98 Sprayer: add pump min rate and test
152f5da880 Copter: integrate AP_Notify batt and radio failsafes
b3c636dfa3 AP_Notify: add radio and battery failsafe
8f16dbf95e PX4: start rgbled driver
3abdf14e51 Build: sort .gitignore alphabetically, add .bin
9095c6ab30 Copter: update Release notes for AC3.1-rc1 again
8e0cacad39 Copter: disable low battery events when usb connected
240a9ccaf0 AC: if vehicle is !flying show hb state as MAV_STATE_STANDBY
43c4ba304d Copter: update Release Notes for AC3.1-rc1
341dca4dfe AP_L1_Control: added set_default_period()
0c37bcbb10 autotest: don't show console in autotest
35519b9298 autotest: update rover default parms
983ca71796 Rover: moved override of defaults to load_parameters()
fc1228eb48 Rover: set a default filter frequency of 5Hz
7b3a674d66 AP_InertialSensor: added set_default_filter() method
ad9a605603 autotest: removed APM1-1280 from rover build
229841052a AP_Compass_PX4: removed MAGIOCSSAMPLERATE call
d000cd2320 Rover: switched to new steering controller
c044385fff AP_AHRS: added groundspeed() method
0918393fed APM_Control: fixed some documentation typos
7413c15959 APM_Control: added a ground vehicle steering controller
887942471e Rover: use Y accel computed from gyro and velocity
ecccc05eed Rover: added STEERING_LEARN parameter
f5d20b4085 SITL: reduce the minimum accel and gyro noise
6c2f623df2 Rover: send y accel in m/s/s as nav_pitch
7789f0d133 Rover: don't use throttle_nudge in steering mode
97ed733ada Rover: use L1 controller for navigation
396c4f30d2 AP_InertialSensor_PX4: don't set QUEUEDEPTH
db14a85fc5 AP_Compass: added more debugging to AP_Compass_PX4 driver
8b80beadc4 PX4: make FMUv2 identify itself differently
1d55fa6818 Copter: add arm check of GPS hdop when in Loiter
1abb439051 Copter: move acro's var initialisation to roll-pitch and yaw controller initialisation
942ba0476b Copter: remove manual_attitude and throttle flags
b7579bb028 Copter: move init of global nav variables to set_nav_mode
4842335a24 Copter: add #include for AC_Sprayer
13ee672eae Copter: remove unused get_acro_pitch and roll
f6688582a6 Plane: added FENCE_ACTION=3 behaviour
7328369b91 GCS_MAVLink: added FENCE_ACTION_GUIDED_THR_PASS
ff0f6bcd42 AP_InertialSensor: fixed example build
905c84bb4c PX4: move PX4IO update to before any sensors start
b8b72819c1 AP_Compass: ignore COMPASS_ORIENT for internal compass
630095adaa Revert "Copter: Corrected SR0 & SR3 parameter descriptions"
ef6407988b PX4: avoid nsh redirects in if statements
e43234874a build: avoid rebuilding PX4 archives for each copter type
2b726abe0e Plane: Correction on SR0 & SR3 parameter description.
f1a674ad26 Copter: Correction on SR0 & SR3 parameter description.
a6efe45bf5 Rover: Correction on SR0 & SR3 parameter description.
b992423f4d autotest: log versions of trees in build log
7536e0759d PX4: enable rgbled on FMUv1
5484b97419 AP_GPS: reset _fix_count to 0 on nav settings update
879d44f930 AP_GPS: use the mask bits to only set dynamic model
cfeecdae46 Rover: raise GPS serial buffer size
c15d784976 autotest: added comment for typical command line
0c926c38b1 PX4: boot the FMU bootloader in ROMFS
fa107bdb58 PX4: moved UART handling to its own thread
474a6d1218 PX4: added FMU bootloader images to ROMFS
639f479c45 build: cope with config.mk from configure
4a8c9a7765 Plane: support reboot to bootloader
979636936d Copter: support reboot to bootloader
1ca1b1e36e Rover: support reboot to bootloader
7082e0f8aa AP_HAL: added hold_in_bootloader parameter to scheduler->reboot()
1328316bfc AP_Airspeed: fixed saving of airspeed ratios
1c7bdc40ec AP_Airspeed : Expanded range of ARSPD_RATIO adjustment
8bb35f5dad firmware: fixed link name
25255d79e8 PX4: cope with relative path for PX4_ROOT in build_binaries.sh
35ae989675 firmware: update MP icon
835740b387 firmware: added MissionPlanner link to top level
e8fc8cea01 AP_Scheduler: updated docs
8d08f6d669 AP_Relay: document new relay pin numbers
5e33bbd197 PX4: fixed sense of relay pins
a00e4a1e83 Plane: send GCS message on relay change
45cf82ba15 Plane: removed CONFIG_RELAY check
c56017d8f1 AP_AHRS: added in new orientations
9320e82ac2 AP_Compass: added in new orientations
38bf6b8587 Rover: change to 2.43beta3
4762b3e7c6 Plane: change to 2.75beta2
fbf79c07f0 AP_Compass: added COMPASS_EXTERNAL option
dadd3ee4ea PX4: upload both v1 and v2 firmwares on firmware.diydrones.com
11676d3faa PX4: no need to build px4-io now
935546d80d PX4: setup build layout to assume PX4Firmware and PX4NuttX trees
b7c915e7c4 VARTest: update to GPLv3 license headers
52f5b1e5a7 Copter: update to GPLv3 license headers
97b7130bb9 libraries: update license header to GPLv3
b29369bc03 AP_Notify: fixed examples build
905e07edf9 AP_Mount: fixed examples build
01387a1553 AP_Motors: fixed examples build
873e54deb1 AP_Math: fixed example build
5caf2e0ea4 AP_InertialSensor: fixed example build
a2902d4a0f AP_InertialNav: fixed example build
83fbb29db1 HAL_PX4: fixed example build
0bfc18b72d HAL_AVR: fixed examples build
e6bd3b65b9 AP_GPS: fixed examples build
517c44bbaa AP_Baro: fixed example build
e6794239ca AC_Fence: fixed example build
6182571c21 AP_AHRS: fixed example build
69c8df3326 AP_Airspeed: fixed example build
b57af23933 DataFlash: fixed example build
4f118a85b2 autotest: fixed import paths for pymavlink
1b99ef5e4f Copter: added a delay in ESC calibration
7535ecb282 AP_Notify: enable board LEDs for ESC calibration
d67ad2c7ee AP_Notify: added missing files
67401294f4 GCS_MAVLink: added missing header
d08d7f4929 VARTest: fix build for AP_Notify changes
ad8c5925e8 Rover: fixed build with AP_AHRS changes
e1e32fcf08 Copter: fixed build with AP_AHRS changes
1646b9c815 Rover: updates for new notify API
25d517f5d6 Copter: updates for new notify API
a93f7c39a9 Plane: updates for new notify API
7b1e2b0e78 AP_GPS: don't need notify.h here
65a490c209 AP_InertialSensor: update for new notify API
495c4bbbbe AP_Notify: simplify interface to avoid timers and external calls
814ddcd787 Rover: integrate AP_Notify
4aef49a006 Copter: re-order #defines of AP_Notify
ad8bd16725 Plane: integrate AP_Notify
2658cda4bc Toshiba_LED_PX4: local #defines for led brightness
52ef77393c Copter: integrate Toshiba_LED_PX4
07abfc59ac AP_HAL_PX4: compile error fix
82b7b2cb3e GPS: integrate AP_Notify
5651bdbe3a INS: integrate AP_Notify
0797489ad8 Motors: use AP_Notify static flags variable
0c1db12538 AP_Notify: add ToshibaLED_PX4
a52b1831ca AP_Notify: make flags static variable
496962f037 GPS: update notify
46c24fdf39 Copter: integrate ToshibaLED
54007854a9 Notify: add ToshibaLED
e985253f1a Copter: integrate notify
f8a872f01e AP_Motors: update notify
ac36a09747 AP_HAL: add toggle to GPIO
b1278fa006 AP_Notify: early draft of library
0527bae8cb PX4: support PX4IO relay pins
2ba9ce60e3 Plane: fixed comment
8733391315 Plane: call airspeed MAVLink logging function
5cec9b65c9 Plane: constrain calibration to roll/pitch limits
0c06dff2db AP_Airspeed: constrain internal state of calibration code
3916a07dcf AP_Airspeed: added logging of airspeed calibration internals
ce3fb290f1 AP_Airspeed: fixed initialisation of auto-calibration
dd747505c5 DataFlash: report when DataFlash write fails
78e85b36a4 PX4: moved MAXOPTIMIZATION change to APM build system
395739dded AP_Baro: simplify PX4 driver
1ff669eb97 AP_Compass: simplify PX4 compass driver
4c752e4a94 AP_Math: simplify rotations test code
4662858077 DataFlash: we don't need AP_AHRS.h
e2b0e07973 AP_Math: removed unused matrix rotation code
28fcb1666e PX4: fixed build for change in library layout
c6e29c9519 GCS_MAVLink: update to latest upstream mavlink headers
8efcf05835 PX4: start nsh on USB if SD card not inserted
f48acffc52 PX4: always rebuild module.mk
699e188110 build: only use a build in $SKETCHBOOK for px4
a295a01bbc AP_Math: added missing 90 degree rotations
c6c59174b3 AP_Airspeed: return when airspeed init fails
1230df8b0d PX4: try to start meas_airspeed driver
5607c89df0 AP_Baro: use fabs() not abs()
31e1b7fcf6 AP_Airspeed: list MEAS airspeed in ARSPD_PIN docs
01e9122850 PX4: disable sensors module
9b3c54fc39 PX4: ensure storage buffer is DMA aligned
ad445379b5 PX4: speed up the build a lot
34af601551 Build: move BUILDROOT inside SKETCHBOOK
16b5f923ae PX4: remove the use of symlinks in PX4 build
f88bb5638b PX4: changes to startup after stacksize fix
e5ad9dbd15 AP_InertialSensor: switch PX4 driver to fixed time per sample model
1137de1002 PX4: make upload targets depend on build targets
38fe89d661 AP_InertialSensor: switch to non-averaging system for PX4 IMUs
02b8d3497e PX4: avoid writing px4io update log to SD card
2340bb6220 PX4: use a minimum transmit buffer for UARTs of 512 bytes
2e75dd50be PX4: added a sleep before probing for PX4IO update
50cc6b5445 PX4: implement APM/nostart in rcS
1c1e7ed414 PX4: changed to new names for board modules
84b21eed78 PX4: fixed test logic for console
1853223f45 PX4: hide the mkdir error on boot
e5f19e314d PX4: systemreset() now takes a boolean argument
372c424605 PX4: added mathlib/math/filter module
927bbc6527 PX4: enable nshterm and math/filter on FMUv2
46c5d18585 AP_InertialSensor: disable averaging on FMUv2
a0af499aa5 PX4: added nshterm command
200d310843 PX4: better error handling in startup script
c3b27629ec AP_InertialSensor: run PX4 FMUv2 at 800Hz
f45e0fe737 PX4: don't need hil module
0e0afbd756 PX4: allow NuttX tree to be in directory above Firmware tree
4794d90bbb HAL_PX4: support up to 16 analog channels
3b9d71ae8a PX4: Changed the startup script to have mavlink on USART2 / Serial 1 on FMUv2
16a3f0d47b PX4: only put one IO firmware in ROMFS
272057ff6d PX4: fixed build of v1 and v2 firmwares in one build
0f5111caeb PX4: expand pass thru mixer to 8 channels
d9d378f74e PX4: disable mixer load for now
3bc035d83a HAL_PX4: fixed GPIO build
ef5a42fabc AP_HAL: added RCOutput example sketch
6ce63da042 PX4: fixed airspeed build on FMUv1
2b1fcc964f AP_Math: added a quick test of floating point location accuracy
0f8892e3b9 PX4: enable airspeed base driver and meas driver
0f677e3a10 HAL_PX4: fixed build on FMUv1
3a6b7df23c PX4: disable bma180 driver for FMUv1
091b989b30 HAL_PX4: some GPIO functions are not available on FMUv2 yet
33aa91c0dc PX4: adapt rc.APM for FMUv1 and FMUv2
25b2cc7bf6 PX4: moved px4io-*.bin to ROMFS
d27b338e18 PX4: added io-v2 targets
140fc63a69 PX4: added px4-v2 targets
bc6c5d0fb1 HAL_PX4: enable right FMUv2 drivers
ca29d543fd PX4: Added config file fmuv2 board, not used yet
56e94d70e9 PX4: Adaptations to latest build changes
dc97a8eff7 AP_ADC: fixed license text
587fb58720 AP_AHRS: fixed license text
56e6e28949 Rover: fixed license text
2abb886d8f AutoTest: remove override of RTL_ALT_FINAL parameter
7c78936bc5 Copter: land by default at end of RTL
6568234018 Copter: Corrected SR0 & SR3 parameter descriptions
81074ebb3c Copter: update Y6 defaults
6052017b13 Copter: allow override of auto throttle mode
45aeb1a921 Copter: split up loiter into 4 steps
364790414c Plane: support new RADIO_STATUS msg
d5e28e72cc Copter: support new RADIO_STATUS msg
4f6bd0e3c9 Rover: support new RADIO_STATUS msg
7159c539e6 Copter: skip mode change checks when disarmed
d8eb7fb82f Copter: remove x100 from IMAX definitions
a06f8a156d Copter: fixed PX4 build
fd047cc968 Copter: AUTO ch7/ch8 option
2696e160e6 Copter: surface tracking improvement
88332b4acb Copter: revert to 3 element sonar's mode filter
feac9d1306 AP_Compass: fixed a bug in the tilt compass calculation
3a5a15a15f Copter: allow CH6 tuning of sonar gain
a12991923e RC_Channel: prevent overwrite of memory on high RC_Channel constructor
b16e3e4c85 Plane: changed FBW min to 9 m/s
8dd0aa12ed Plane: prevent GPS speed spikes at startup from breaking airspeed cal
fe56ac3839 Copter: only allow auto_trim in STABILIZE
69da4e99f8 Copter: add ch7/ch8 Auto and Land option
ac620e2140 Copter: Loiter and AltHold won't breach alt fence
04b84664e5 AC_Fence: add safety margin parameter
6a2daf1a33 Copter: reduce sonar sensitivity to spikes
34e874282e Copter: only check hdop when circular fence enabled
b40cd07ce9 Copter: switch to LOITER when exiting mission
d000967a76 Copter: pre-arm check for gps hdop < 2
b69fb19794 autotest: added templates for JSBSim port numbers
64082100aa autotest: added docs links
61507ccd20 autotest: build docs on each autotest run
04eb1de7a5 docs: allow docs build to output to another directory
33cbe6151a SITL: support multiple instances of SITL running at once
4425b6af7c Plane: update for new TECS API
3c967a9c71 AP_TECS: use a ahrs reference
accfd46633 Plane: update for new APM_Control API
144516c941 AP_L1_Control: set min groundspeed to 0.1
c6e37aaec3 APM_Control: use a ahrs reference, not pointer
a98d7bd050 GCS_MAVLink: updated to latest upstream mavlink defintions
b43bf44552 AP_GPS: improved the precision of the NMEA driver
97baec8bc7 SITL: update for new SIMSTATE message
3c6f938ae0 docs: fixed project names in doxygen output
e75c48c029 SITL: added simulated NMEA GPS
48753c6182 docs: added doxygen support and doxygen build scripts
8378dc9779 Plane: use reference to AHRS
31fce44063 AP_L1_Control: use a reference to AHRS
917b51a46b autotest: added command line args to test script
5cfdf52381 Plane: change default modes to FBWA not STABILIZE
d4ca3ebf65 Plane: check for parameter send at default of 10Hz
08ec43ef89 AP_L1_Control: use get_position()
b74ed795f2 AP_L1_Control: removed _maxf() and _geo2planar() functions
653fa5a191 AP_L1_Control: adjust position for GPS lag
57d2dd814d AP_AHRS: added get_position_lag() call
fd4bceaafe AP_L1_Control: avoid using float global coordinates
5434b2c017 AP_Math: update location code to avoid float rounding
df8e8c64e8 AP_L1_Control: use projected position for turns
9c88872ad0 AP_L1_Control: use a better ground speed estimate at low speeds
953051b49e AP_L1_Control: added lateral acceleration interface
8b79798e8d Copter: Leonard's sport fix re slow roll
34b11f7be0 Copter: angle limiter fix for max lean angle
6969ab573d Copter: configurable max lean angle
5049595a2c Copter: SPORT mode to use alt hold
d0dc5813cf Copter: move CIRCLE_RADIUS definition
e1fe4946fb Copter: Sprayer enable added to CH7/CH8 switch
c7464f635c AC_Sprayer: turn on/off the spinner with the pump
74fb500efe Copter: integrate AC_Sprayer
e4ca7d2fdf AC_Sprayer: first implementation
49dbdce89c Copter: split ACRO_P into ACRO_RP_P and ACRO_YAW_P
82082e044c Copter: remove ACRO's axis enabled parameter
786d6824ae Copter: Acro Trainer added to Ch7/Ch8 switch
21e523b9ac Copter: Acro trainer separated into limited and leveled
e32342163d Copter: rename ACRO variables
d2deaaa686 Copter: Acro add rate constrain and combine limit calc
65276d360b Copter: SPORT to use YAW_HOLD
39ab4f62ef Copter: add SPORT mode
a18d55a9d3 Copter: update version to 3.1-dev
9cb6c987d4 AP_Math: fixed example build
a33573352e Plane: fixes for updated AP_Math and AHRS APIs
086c7d70d8 Copter: use const references for Vector3f parameters
c4f11e6c74 Copter: fix longitude_scale() call for new API
ee19b09e9f Rover: fixes for new AP_Math location API
0d36832b82 AP_AHRS: use const reference not pointers for locations
f3b3e23bbc AP_Camera: fix for new AP_Math API
6b5ee80b70 AP_InertialNav: fix for new AP_Math API
cf4a74cfb8 AP_L1_Control: fix for new AP_Math API
612ede81f4 AP_Limits: fix for new AP_Math API
1d75b52411 AP_Math: use const references not pointers for location functions
47f5c9b7a4 AC_Fence: remove unused gps pointer
e22f58c9fc Plane: fixed build with OBC failsafe
b7e3851ef8 AP_Scheduler: prevent a divide by zero
890b77447a Plane: allow integrator in stabilize mode when no stick input
a7cbebbeba APM_Control: rename 'stabilize' to 'disable_integrator'
0c64c800b3 AP_L1_Control : Fixed bug in track capture angle limit
34f0af25cc AP_TECS : Improvements and bug fixes to feed-forward throttle demand
2690edfc5f Copter: ask for IMU samples at 100Hz
c083c15240 Plane: use a larger serial buffer
c3b5f20a45 Plane: run TECS 50Hz code when throttle suppressed
8428779558 Plane: make it easier to find task numbers
9f49b8fa48 Rover: use the new load_average() API
01e19a32fe Copter: use the new scheduler load_average() call
62cc84aba3 Plane: use new scheduler load_average() function
9672742b42 Copter: bug fix to look_ahead_yaw
c30cfa21c5 Copter: resolve compiler warning re unused variable
0f8f5bc048 Copter: remove unused ap.gps_status flag
2c48c20088 Copter: generalize 3 pos switch for all ch7/ch8 options
87d062905e Copter: 3 positions switch support for CH7 and CH8 - new 3 positions SIMPLE / SUPERSIMPLE mode
c173f0c7d9 Copter: change CH7/CH8 pre-arm check string
0d75203d87 Copter: minor format change to exit_mission function
12da2d160a Copter: set landing_complete flag to false on start-up
3b59cde1b8 Copter: deactivate accel throttle controller when landed
da37089dc2 Copter: remove landing checks in loiter controller
8eefbdce44 Copter: turn off stability patch when landed in Loiter
8d26fb5581 Copter Motors: by default spin motors at 65 when armed
9a1a999fba Copter: landing check changes
dbc18ee900 Copter: allow arming in AltHold and Loiter if landed
24d15517ff Copter: clear thr accel I term on take-off
05248738e2 Copter: bug fix for take-off in loiter
c3daf78340 Copter: reset loiter target when landed
fe412437c2 Copter: add flags for upper and lower throttle limits
de59ea3ddc Copter Fence: reduce circle @Range to 30m
57752df68e APM_Control: set a small D value by default
a192b9ee46 AP_Scheduler: added load_average() function
fef6a76078 RC_Channel: rename 'Manual' to RCPassThru
bf6120d8b7 Copter: Move CH7 - CH8 check from read_aux_switches() to pre_arm_checks.
f3a2db195e Copter Motors: remove old style stability patch
c5851d2ddf Copter: remove throttle rate's I and D calcs
740970efa6 Copter: remove stabilize's call to calc I terms
2874ec67c7 DataFlash: slight efficiency improvement
63873d6af3 HAL_AVR: fixed example build
233b033e8c Plane: removed old speed/altitude control algorithms
ef104b6629 autotest: wait for a higher altitude on takeoff
c0697d0a2d Plane: mark 2.75beta1
965dc228c2 Plane: fixed GUIDED mode change of altitude down
b8fa83ff54 Plane: change default slewrate to 100%/second
29c854e676 Plane: remove unused function
ba009e55e3 AP_Baro : Fixed bug in temperature units in AP_Baro_HIL
ebebee4f06 AP_Baro: extend the atmospheric model to higher altitudes
5a68c515dc AP_Airspeed: Altitude Calibration - added constrain on P matrix diagonals
6e288551ab Plane: fixed reversion to pre-failsafe mode
3ba0dec4b3 AP_Airspeed: fixed typo
d1805f4349 AP_Airspeed: Airspeed Calibration computational efficiency improvement
0c6725f289 AP_Baro: improved the accuracy of the barometer model
c5028c04da APM_Control: scale controllers for altitude
097718e833 AP_L1_Control: scale loiter and wp radius with altitude
74dabad1f3 Plane: added SKIP_GYRO_CAL parameter
c8a83e17d0 Plane: remove old AIR_START code
e6d9d14fad AP_Airspeed: added example sketch for airspeed calibration
7673ca0bac Plane: updates for new EAS2TAS scaling
620d067ee1 AP_TECS: use ahrs EAS2TAS for true airspeed
ec73fadc45 AP_AHRS: added true airspeed support in AHRS
3c66cb8af1 AP_Airspeed: added EAS2TAS in airspeed driver
9bbe6c1967 Plane: update to new license boilerplate for GPLv3
882aa68c16 Plane: use new airspeed calibration code
893d2da6f6 AP_Airspeed: added auto-calibration support
53b1b9b575 Plane: added note on type of airspeed in docs
01c124d5f5 AP_GPS: added velocity_vector() method
468e55d425 AP_Math: added two new vector/matrix ops for kalman airspeed filter
2d5deddd30 Plane: set mode CIRCLE on short failsafe in AUTO
9b70675b12 Plane: check the control switch a bit more often
6ed78c89ac Plane: don't read control switch when ch3 is in failsafe
51b9cf3e76 Plane: move failsafe variables into a structure
e2fbc00b52 LeadFilter: removed this unused library
c9a875da52 Copter: remove unused earth frame rate controllers
43379f20c3 Copter Motors: replace limit bitmask with structure
ac0886334d Copter: Failsafe GCS typo in comments
0325ad5d0d AP_AHRS: use rotateXY for speed
540ca25b84 AP_Math: add rotateXY
11e7e9eaf1 Copter: WP_YAW_BEHAVIOUR param update for Look Ahead
c937fe45e1 Revert "Copter: Remove CH7 & CH8 Enable / Disable of GeoFence"
7ea971d948 Copter: check set_mode for failure
2a9f4bbbad TradHeli: Creating new unified roll/pitch rate controller.
23ea151ca5 TradHeli: Fix Heli rate controller filter rates.
c812d07993 TradHeli: Creating motor_runup_complete bool which is to confirm that the heli motor is running. This will be used for advanced features in the future.
957cb094ea TradHeli: Remove unused RSC Mode 3.
b4863dc997 TradHeli: Change to throttle controller to allow swash plate collective to move, even if disarmed, if we are in Acro or Stab.  This is slightly dangerous... as a user could cause a problem if they do not follow the proper usage procedures.  If they do not route the ESC through the APM, but instead direct to Rx.  And then if they do not Arm, they could take off in Stab mode while disarmed, but then when they switch to Alt_Hold, it will drop the collective to the bottom and they will fall.  This can be saved by switching back to Stab.  And it requires operation outside of the normal operating procedure.
cea0812b82 TradHeli: Rate PID Improvement. Limit Integrator wind-up when PID output is saturated. Also a little bit of general clean-up for readability.
a8970ee509 Tools: add additional divide timing
e25b8933f3 Copter: Remove CH7 & CH8 Enable / Disable of GeoFence
5f24788872 VARTest: fixed example build
c691e16139 HAL_AVR: fixed example build
0b27bb05d4 Copter: fixed FENCE and WPNAV parameter doc generation
608345415b Plane: pass aircraft parameters to attitude controllers
fbdf857634 VARTest: adapt for new airspeed parameter names
3e21d0594c APM_Control: pass in aircraft parameters and expose coordinate rate offset
fb0e48a25d AP_TECS: adapt for new airspeed variable names
42d107b0d9 AP_SpdHgtControl: rename flybywire_airspeed to airspeed
5901b8b22a APM_Control: allow for a wider range of P values for roll/pitch
41ba4a1ed2 Copter: initialise ch7 and ch8 aux switches
d9824dc23e AutoTest: rename and remove copter mission files
1dcc5886d0 Copter: ensure take-off alt is at least 1m
336357fbaf Copter: ensure _spin_when_armed is not higher than _min_throttle
62f3eed4e0 Copter: fix to SPIN_ARMED parameter desciption
b709b90a59 Copter: implement safety spin for Tricopters
6477c746cd Copter: renamed MOT_UNSAFE_THR to MOT_SPIN_ARMED
e6412b6996 Copter: do not spin motors during arming process
9f51a4a4f7 Copter: Cancel arming if throttle input above cruise_throttle.
2725f219cb Copter: Warn user with motors while copter is arming
ae2b1e3b7e AP_Motors: Added MOT_UNSAFE_THR parameter - Throttle setting used to signal that the copter is armed or otherwise unsafe to approach
81bb4f26a1 autotest: update plane test with more modes
a4f49a28fb Plane: prepare for 2.74b release
e27dd14bcc Plane: fixed FBWB aileron control
2ee43a694c APM_Control: fixed YAW2SRV_IMAX handling
02b64e259d Copter: bug fix for descent during loiter_turns
032cc513ca DataFlash: fixed example build
206ed04e76 AP_Mount: fixed example build
47450a9b40 AP_InertialNav: fixed example build
98d6331387 AP_Airspeed: fixed example build
1bd6849d00 AP_AHRS: fixed example build
82152c058e AC_WPNav: disabled broken example build
04835b095f AC_Fence: fixed examples build
c7141c4851 AP_GPS: fixed examples build
2802814a66 autotest: cope with slower updating roll in MAVLink for plane
e8355905dd Plane: prepare for 2.74 release
dbd47b2a30 Plane: make TECS the default speed/height controller
a5ede20cb1 Rover: update to 2.43beta2
6e52a09e50 Rover: fixed HIL build
e96d0f745c Rover: fixed dead-zone on throttle
8c7619a837 Rover: moved camera parameter indexes
5b88334dbb Rover: added full camera and mount support
9a159a5e23 Copter: make wp_distance static
ec21922233 Plane: make wp_distance static
3ba713352f Plane: use update_aux() for setting up extra channels
0f72eae216 AP_Camera: removed 3 camera trigger types that do not work
ed20c4cbc8 Plane: fixed initial reporting of battery remaining
e80d73df93 Plane: expand docs for TRIM_AUTO
4087fde140 Plane: enable CTUN log message by default
47ab02d686 Copter: bug fix to ROI to pull target from conditional command queue
f1969d5662 Copter: switch from NAV_ROI to DO_SET_ROI
e79023ceee Plane: fixed problem with slow ground station connects
bd6a60f28b AP_Math: add M_PI_2 definition
8545071a21 GCS_MAVLink: include AP_Math.h
9b40ba98d7 GCS_MAVLink: regenerated messages
6bcbcc0382 GCS_MAVLink: add DO_SET_ROI to common.xml
d9f13b6b8c GCS_MAVLink: merge in changes from upstream mavlink repo
b1202ccbff GCS_MAVLink: merge in latest upstream XML changes
2b5f6e2668 Copter: pre-arm checks for rc ch 1~4 min and max
9d66adae13 AP_Airspeed: added get_airspeed_ratio() and set_airspeed_ratio()
d4db2231d4 Plane: change to 2.73beta4
dc024d425a Plane: re-do roll hanging in ACRO mode
b37f79d307 Plane: update for new APM_Control API
cc778a68ae APM_Control: changed attitude controllers to take angular error not angle
b721bcc129 AP_AHRS: removed get_roll_rate_earth() and get_pitch_rate_earth()
113bc20f8a Plane: added a new CRUISE flight mode
213472102c Copter: pre-arm check of throttle failsafe value
6bfcd28ade Copter: thr failsafe will not RTL if in batt failsafe
399970e76f Plane: fixed default deadzone for the throttle channel
21859f9364 RC_Channel: fixed dead_zone for range channels
086e8f80dc AP_AHRS: fixed spin rate gain conversion from degrees to radians
826ad6c086 Plane: unlock roll and pitch when we enter ACRO mode
effc829790 INS: relax accel offset check to 3.5 m/s/s
5a40ee7a38 Copter: fix to gps present check in mavlink extended status 1 msg
1772a62415 Plane: fix to gps present check in mavlink extended status 1 msg
66d7f7b026 Copter: GCS_mavlink only send waypoints to gcs3 if initialised
aefb38e486 Copter: remove param to disable accel based throttle controller
d5b4c44926 Copter: comment fix for flight mode switch delay const
07ca8ef87a attempt to change from 1/10th second to 2/10th second on flight mode switch
53bff2b63e Copter: cli to report ch8 radio values
ea9ae31a7a Plane: fixed a bug with altitude drift in FBWB mode
cc57bfcf12 Plane: fixed handling of deadzone in ACRO mode
110966c186 AP_TECS: compile error fix for size_of(log_tuning)
fb5ada38c0 RC: example sketch uses set_default_dead_zone
2f4221391e Copter: set_dead_zone renamed to set_default_dead_zone
32b5169bb9 Rover: set_dead_zone renamed to set_default_dead_zone
9df93881fb Plane: set_dead_zone renamed to set_default_dead_zone
47437b9ddf RC: set dead zone only if parameter has not been set by user
f300df5fd1 Plane: added FS_LONG_TIMEOUT and FS_SHORT_TIMEOUT parameters
1685ff274d TradHeli: compile error fix related to new ACRO
64ce9b017d Copter: Body frame ACRO upgrade
6dd446ac79 Copter: firmware version to 3.0.1
012d7b0c0a OptFlow: initialisation fix
5ae62f4f04 Copter: fixed build with specified GPS driver
131aa53e42 AP_Relay: update for new PX4 relay pin
83b13c3d88 HAL_PX4: fixed definition of relay and piezo pins
0916388ab5 HAL_PX4: retry opening UARTs up to 5 times
ae2ee399c2 PX4: added support for mkblctrl driver
c7c0fc01c3 PX4: enable mkblctrl driver
72d0721721 AP_Relay: setup pin for PX4 relay support
a3b216bce3 HAL_PX4: added GPIO driver
ac5d925115 Copter: revert Loiter Pos P to 1.0 (was 0.8)
1590a5d58a Copter: increase Yaw Rate I 0.02
ab1a7baf71 Copter: project stopping point for loiter command
bf5a50f738 WPNav: stopping point projection uses wp_leash
1c5ddc20ca documentation: minor fix to px4 build instructions (tridge please check)
73928b82a6 Plane: fixed FBWB airspeed control
1d04290eab Plane: change to 2.74beta3
d77f7bc803 Copter: default Loiter Pos P to 0.8 (was 0.2)
11a4628409 Plane: added ACRO mode to mode choices
fc67f51901 Plane: added ACRO_ROLL_RATE and ACRO_PITCH_RATE parameters
608007361b Plane: added initial implementation of ACRO mode
f2316747f5 APM_Control: re-work to allow for rate based control
ec65764750 Copter: typo in release notes
ab09dc46fb Copter: update release notes
0ba6bf8721 AutoTest: relax stability patch max distance
345924ddec WPNav: replace LOITER_ACCEL_MAX with parameter
204f613467 WPNav: bug fix to reported distance to target
518eba0729 WPNav: bug fix to loiter accel calculation
c4f17b3235 WPNav: rounding error fix in loiter
8cb7bd628e Copter: change firmware version to 3.0.1-rc2
5d23d5aaa7 WPNav: reduce loiter speed used to correct pos error
f459d35e3e Copter: roll-pitch fix to allow I to reduce
7860d06b91 AHRS: typo fix for ORIENTATION param description
2005d5642a Plane: fixed a documentation string
0f72401d8d AP_Baro: added GND_ALT_OFFSET parameter
3c97fad2ec Plane: changes for GPS field changes
da4137b731 Copter: changes for GPS field changes
b5db3288ae Rover: changes for GPS field changes
469736e6bc DataFlash: changes for GPS field changes
279f6d00f0 AP_AHRS: changes for GPS field changes
7dbb898264 AP_GPS: switch fields to add units suffix
7aa360b176 Plane: added relative_altitude helper functions
66d60953df TECS: added height update_pitch call
971d36f06b Plane: added height to 10Hz TECS call
cf6684ac0c AutoTest: fix to copter getting stuck in Failsafe test
c544a076ca Copter: enable camera logging by default
3c177867a4 Plane: allow enable/disable of camera log messages in CLI
f7c8d1e1ee Plane: use current_loc.alt for altitude to TECS
9959f6b2df AP_Camera: removed incorrect mavlink sends
7f4336430a Plane: trigger picture + logging on camera update_location()
bbd4fbd2fb Copter: trigger + logging on camera update_location()
f5154d9e7a AP_Camera: changed update_location() to return true for camera trigger
7fa1fe8590 AP_Param: use 0xFFFF not __UINT16_MAX__
a4f3180e2a Plane: added support for throttle nudging with TECS
2c5db9a165 TECS: added support for throttle nudging
c34803db13 Plane: pass in adjusted height above field to TECS
9c431b4a04 TECS: use altitude supplied by mainline code
d8fedf994a AP_SpdHgtControl: added height above field parameter
764d382aef autotest: display map results on timeout
becd180441 autotest: external timeout must be greater than internal timeout
4a75351bd3 AP_Param: fixed a compiler warning with -Wsign-conversion
27a5c28851 AP_Param: fixed some compiler warnings
ab311d1dd4 AP_Compass: removed comparison out of range compiler warning
cf426fcb3e Copter: fixed a compiler warning
c95072ea25 AP_GPS: added explicit cast to omit [-Wconversion] warning
ed3bf2c1e7 Copter: relax pre-arm checks for mag field
8c49ed78a5 AP_Math: make the rotation numbers easier to find
a6c7bd3612 AP_Compass: fixed rotations for COMPASS_ORIENT
947f8125bb extended .gitignore: .directory (Dolphin's .DS_Store) /.settings/ (eclipse)
338c054da2 Filter: validity of array index was checked AFTER accessing the element.
d3ea88e8c7 AP_HAL: resolved -Woverloaded-virtual warning
1bf135b36f AP_AHRS: make some more functions const
ce6529734c HAL_AVR: reorder parameters to remove a warning with -Wreorder
4e73cf810e Copter: added cast to remove compiler warning
4e7fea787b HAL_AVR: corrected includes to replace #include "$HEADER" with #inlcude "utility/$HEADER"
9f612f6f78 Plane: only call TECS when throttle is not suppressed
649cbf6b68 WPNav: reduce default WP_ACCEL and LOITER_SPEED
45f47de98d Copter: reduce default Loiter Pos P to 0.2 (was 1.0)
ded31582de AP_AHRS: add Roll90Yaw90 to parameter description
9361e9fe32 Coper: compile error fix when FENCE disabled
227185fd0f Copter: remove constraint on rate yaw controller
40612ed551 Copter: yaw limit fix to allow I to reduce
073e2c9f15 ACMotors: bug fix to yaw limit
1c17bed1ef build: Adding a check for Darwin when adding avrdude.conf's flag for uploading.
6187c66147 PX4: A better error message in the log file when the px4io upgrade fails
bb2a6b8a22 HAL_SITL: Fixing SITL build for OSX.
a694b781c7 AP_TECS: Add non airspeed sensor pitch to throttle mode lost during integration
1355b6d89d Plane: break-up scheduling into smaller pieces
1d6748cf3f Plane: use a glide slope in RTL when descending
d30dd7c3f1 Plane: only run TECS when in an auto-throttle mode
dd330885b8 Plane: added compass and baro accumulate functions
25f8983383 HAL_AVR: don't initialise TWBR twice
0cf4ac088a Copter: restore LEDs to off state when auto-trim completes
79d2fe6271 Copter: double flash arming light when pre-arm checks fail
87f6cc715d AP_TECS: fixed parameter doc formatting
f1f9b98008 autotest: use TECS in autotest for plane
84299c3747 Plane: document ALT_CTRL_ALG=2
8082122053 TECS-WIP : Fixed bug in initialisation of DT value
904e6b5b8f AP_TECS: for _DT to at most 0.1
6c7d160ee6 Plane: fixed TECS takeoff detection
68232a10f9 AP_TECS: updates to use new aircraft parameter structure
a5bda3ffef Plane: changed to using a "aircraft parameters" structure
89271b7774 AP_SpdHgtControl: added speed/height control interface
80e0f8044c AP_AHRS: added airspeed_sensor_enabled() function
d62636d309 Plane: added new TECS altitude controller
5b0129e02b AP_TECS: first implemention of TECS altitude control library
7bdb098e77 AP_Baro: added get_EAS2TAS()
61361dac9b AP_Baro: added units to baro documentation
3b98bbd159 AP_Baro: more precise altitude calculation on PX4
459c47fa46 Fix test_ins
f3237b9e5d Plane: update FS_LONG_ACTN and FS_SHORT_ACTN docs
75ef7c26e1 Plane: update takeoff course when conditions met
fff777bda2 MAVLink: update to latest upstream message defintions XML
a9a192a0fd Rover: changed to 2.43beta1
135146c735 Rover: added LEARN_CH parameter
d0c69b36b6 Rover: update version for new release
404cd5f3da Copter: rename g.pid_throttle to g.pid_throttle_rate
b3da8a462f Copter: CH6 tuning definition clean-up
570ecea6c6 Plane: added secondary rudder support
6b7b69a048 RC_Channel: added secondary rudder support
b16ce5e523 AVR I2C: bug fix
e0dcd680f7 proposed radio failsafe bug fix
917ae883a0 Copter: revert prev changes to battery failsafe
917edcab11 Copter: added FS_THR_ENABLED_ALWAYS_LAND (=3) option: don't attempt RTL, just land
b00e5d95c9 Update AnalogIn.cpp
f7f575eb58 AutoTest: reduce time of copter fly_circle
eaa0e36954 Copter: CompassMot current calibration
1a3ed2d80b AP_Compass: Corrected COMPASS_ORIENT Parameter Description
3b6bf49c84 PX4: fixed startup logging
b21bc5a85a Copter: Fixed bug in battery current integration
0592475959 Copter: change firmware version to 3.0.0-rc1
cb0e262e24 Copter: GPS Failsafe switch to LAND if circular fence enabled
45dfbecaba Copter: update 3.0.1 version and release notes
6cd18868c2 AirSpeed: fix example sketch compile error
022148ec0d Copter: LAND only control horizontal position if we have GPS lock
66cecbfdc3 Copter Fence: bug fix to avoid repeatedly invoking LAND mode
24e1f074d0 Copter: Fence missing GPS 3D fix check
facd8fc89f Copter: calculate home position and bearing when we have 2D Fix
f1bedc70ac Copter: SuperSimple mode bug
20ed00dcc9 AP_InertialSensor: relax accel offset sanity check
3e82f644ea Copter: enabled CAM_TRIGG_DIST parameter
a5586ec394 Rover: enable RELAY_* parameters
76d1791073 Copter: CONFIG_RELAY is not used
23eade8f74 Copter: enable RELAY_* parameters
7d42a0562d AP_AHRS: cope better with large GPS yaw changes
0d3faeda90 Plane: update_mount assumes 50Hz, for camera trigger
bb47029564 Plane: enable CAM_TRIGG_DIST parameter
45f5d05bd2 Plane: enabled RELAY_* parameters
169b5a30a5 AP_Camera: added CAM_TRIGG_DIST parameter
7902d57877 AP_Relay: added RELAY_PIN parameter
d487b1170e PX4: log devices being used in boot.log
28ffa4059b PX4: added ARDUPILOT_BUILD define
93db4a4a5b autotest: consider lack of symlinks to be a soft error
056e0ca40d Plane: APM2 doesn't have channel 9 PWM output
1132c0ae7c PX4: use PX4_ROOT=../PX4Firmware by default
a48a7f9775 Copter: minor param definition unit changes
2204b30e66 Plane: Added APM_Control integrator limits to table used to covert old PID values
147856e73c APM_Control: Added integrator limiting adjustable by an advanced user parameter
d8dab7b5c7 APM_Control: Pitch Control - Reduced the speed below which the integrator is locked
6ea568d72a Plane: param description change for RC5 ~ RC11
cd30103b76 Copter: increase default CIRCLE_RATE to 20deg/sec
245bc3d3fd Copter: show pilot input in dataflash ATT message even when in AUTO
5b29c82a2b autotest: update timeout again
757adacf8a autotest: added $HOME/APM to PYTHONPATH
21436dc1a6 autotest: fixed import of mavwp
75bcd7cdab Plane: update THR_FS_VALUE parameter description
35175ae371 Rover: update FS_THR_VALUE parameter description
acb4907313 Copter: update FS_THR_VALUE parameter description
fb783f87bb autotest: fixed handling pf pymavlink paths
caad45aacb autotest: fixed pymavlink tools paths
aa2b10f044 AP_Baro: TEMP parameter comment fix
7652f403ea PX4: Remove -Os because I've changed the px4 tree to have that as the default
b1a014e12e Copter: update firmware version to 3.0.0
c42ed1e5eb Copter: add @Increment to PID parameters descriptions
069bd17928 Copter: reduce default AltHold P to 1.0 (was 2.0)
b1e089fe29 Copter: update AC3.0-rc6 version and release notes
dde19c9585 WPNav: add acceleration parameter
272f0e5032 Copter: reduce twitch when entering CIRCLE mode
6c29a3cd23 Rover: make GPS UART blocking again
4a0c90246e Plane: make GPS UART blocking again
641ad6bc63 Plane: increase time allowed for update_alt()
8db34dec64 Rover: fix VOLT_DIVIDER docs
3ec381094e Copter: fix VOLT_DIVIDER docs
b0c87b8a61 Plane: fix VOLT_DIVIDER docs
d7d87f827e HAL_PX4: support voltage monitoring on multi-connector pin 5
8703d39475 Copter: the INS object is needed for HIL_MODE_SENSORS
3ad35363be Plane : APM_Control : Removed scaler incorrectly applied to the integrator path
181beb004d Copter: update AC3.0-rc5 release notes
fcf2429e39 Copter: remove throttle controller's ability to limit lean angle
dd92a2ba07 Copter: AC3.0-rc5 version and release notes
b27ffdd087 Plane: new plane beta 2.74beta2
f44f7308e8 AP_Param: we don't need to avoid writes in AP_Param now
2316c3bd11 AP_HAL: make storage->write_block() take a const pointer
c008fa764c Plane: update_commands() can take 7ms if it needs to write a waypoint
93cd0f9a31 Plane: switch to new AP_Scheduler
07587222a3 Rover: tweaks to new scheduler code
3c9d45d7d0 HAL_AVR: avoid writing bytes to EEPROM that are already correct
1c6baba7d8 autotest: add easier HIL start scripts for rover/plane
e553d89928 autotest: test build of rover HIL
feb539bade Rover: fixed HIL operation
bfa9e04aef Rover: tweak scheduling timing
2d795ac85a Rover: convert to use AP_Scheduler
ba959fd594 Copter: remove unused define
1b08f12d53 Circle: allow counter clockwise rotation
40f5226518 Copter: reset yaw angle only when motors not spinning
537d0032a8 Rover: update servo ranges on change of RCMAP_*
340c451caf Copter: fixed off-by-one in rcmapper
6bac13f9e2 Plane: fixed RCMAP_* to fix channel ranges for no-reboot changes
5a9485a419 Rover: support RCMAP_* mapping for steering/throttle
5b3bfe3d38 Rover: auto-generate docs for more parameters
02252b5387 RC_Channel: removed reference to dip switches
be3c80127a Rover: make it possible to change board orientation at runtime
595d3c694a Copter: make it possible to change board orientation at runtime
02d72ffcba Plane: make it possible to change board orientation at runtime
aaaa5247e3 AP_AHRS: make it possible to setup board orientation at runtime
4c9bc30f58 Plane: make it possible to change control channel ordering without reboot
27bc0cdc2c Plane: rename old channel_* globals
45b385cf81 AP_RCMapper: improved docs for RCMAP_*
a1f64d606a Plane: fixed remaining places where primary channel ordering was assumed
c0058bbb03 RC_Channel: added output_trim() and read() functions
033828aeb6 AP_Mount: make the code a bit easier to read
fb9bf21522 Plane: allow channel mapping of first 4 channels
725293b9c3 Copter: removed use of rc_ch[] global array
7c0e0e6b85 Rover: use RC_Channel::rc_channel()
515d726ee0 Plane: use RC_Channel::rc_channel() instead of rc_ch[]
9076f6a1d0 AP_Mount: use RC_Channel::rc_channel() instead of rc_ch[]
0438952a8b RC_Channel: removed global rc_ch[] array
213eaa8db6 Copter: integrate draft RCMapper
e9594c8b80 RCMapper: simple mapping object for primary input channels
993bccc60e Copter: point nose at landing point if specified
9f59f2724f Copter: bug fix for take-off when throttle is zero
5c13e56c04 autotest: tweak throttle and pitch control for auto-landing
f7697574db Plane: use the new airspeed driver interface
68adeb041d AP_Airspeed: support ARSPD_PIN option for choosing source
48875a3e19 PX4: enable ets_airspeed driver if connected
13c41e74f2 Copter: reduce pre-arm board voltage check to 4.3V
d22d75d329 Rover: move to beta2
26b7de668a AP_Param: fixed parameter save bug
109c1ca792 PX4: added eagletree I2C airspeed driver to the NuttX build
036e6f4f2c Copter: updated AC3-rc4 release notes
9e91def774 Copter: update firmware version and release notes
735406fa77 Copter : POSITION_HOLD mode -> allow user position control
68470c9176 Copter : Land submode - Check for GPS 3D Fix instead of checking for available home position
18e566ccc5 failsafe gps lost bug fix
b462bfed84 Copter: remove unused print_wp function
4c6d6ea96e changed yaw reset to when armed to not use initial_simple_bearing
79bd8b4fd0 rtl resets yaw to same as when armed - unless user specifies otherwise
0460147a15 Copter: guided mode yaw fix
a0bf49ab42 Rover: updated AUTO_TRIGGER_PIN docs
57f7d5d18f AutoTest: reduce circle test time
d9bcfd913a Plane: reset attitude integrators on mode change
05889391e5 APM_Control: cope with zero integrator or tconst
bb3171ab5f Plane: zero attitude integrators on the ground
512d3d811d APM_Control: neaten up code formatting
5203ba9fe3 Copter: alt hold feed forward filter
da97c991f8 AutoTest: add circle mode test
592062870e Autotest: update randy's sim script
99f5462a03 Copter: circle mode fixes
e3cd494709 Copter: remove debug message
7a2afb7443 Copter Nav: add accessor for waypoint speed
8b87849acd Math: add wrap_PI
23ce35d292 Copter: remove unused NAV_WP_INAV #define
b91755318a HAL_PX4: play some tones on PX4IO firmware load
c82caeeba1 HAL_AVR: configure analog inputs as INPUT without pullup
89bbf5844f Copter WPNav: remove unused variable
5e2fc32410 Copter: remove unused cli wp report
1722e438d8 Copter: pass alt hold gain to WP_Nav library
8c4a7ec094 Copter WPNav: Leonard's improved speed fix
dc712aab1f build: removed plane 1280 build from autotest
14c8c1bdfc APM_Control: tweak code layout and param descriptions
d875e95da3 Copter: remove nav and wp tests from cli
ae91c4a237 Copter: alphabetise order of cli test menu
e2495b7a49 Copter: alphabetise order of cli setup menu
a0c8bf238e Copter: move motors test to test menu
76028fc9d3 Copter Motors: use _min_throttle in output_test
28f2f87b26 Copter Motors: minor formatting change
2cb28076c8 autotest: tweak plane autotest mission and parameters
f4efa92d3b APM_Control: fixed parameter names
cd55ed45e2 Plane: removed the old roll/pitch/yaw PID controllers
3e8af05d15 APM_Control: match parameter names with old PID controllers
91a04ab654 Plane: fixed headers for mode logging
1807840d4f Copter: fixed comments re mag field pre-arm check
7b50ecc73c Copter: pre-arm check for mag field length
a1821c89e7 Copter: pre-arm check for board voltage < 5.8V
c6e383be0f Copter: disable board voltage pre-arm check for PX4
cae1079747 Plane: auto-convert the old RLL2SRV* parameters to the new CTL_RLL_* parameters
53d3ce7d2c APM_Control: fixed some documentation (old parameter names)
38e414db33 AP_Progmem: fixed type of strncmp_P()
ad2f6e1217 AP_Param: add support for converting between old and new parameters
e48b8c7b4a Plane: improve RTL altitude docs
716c124f73 APM_control: Modified gain definitions for roll and pitch controllers so PID gains behave like previous servo PIDS
6e0f1f56de Plane: update docs on volt/current pin
2488c4fdc3 Copter: update docs on volt/current pin
2db8e15964 Rover: update docs on volt/current pin
f175111243 added GPS check before mode change. New mode_requires_gps() function.
a1926441da Copter: use fast tan for accel to lean angle calcs
d81b7b507d Math: add Leonard's fast tan function
9d9e97a2fe AutoTest: use default logging for Copter AVC
9d0b993ed4 Autotest: small change to Copter AVC mission
66fb1224a7 Merge branch 'master' of https://github.com/diydrones/ardupilot
d203f0295b Copter: bug fix for vertical speed during missions
ceaa0c789c autotest: improved preamble in auto param docs
96df6d6f7c scripts: allow build_parameters.sh to work from either APM directory or above
7eb40d151c autotest: added TOC link
8c78f2d5d8 git: ignore some more generated files
896dd648c9 Tools: fixed indent-tabs-mode
0e31a2f582 Copter: fixed indent-tabs-mode
2b370cdfc8 Rover: fixed indent-tabs-mode
3dcdc15201 AP_Navigation: fixed indent-tabs-mode
ac2db516b4 APM_PI: fixed indent-tabs-mode
941a2c483a AP_LeadFilter: fixed indent-tabs-mode
86db955ac9 AP_L1_Control: fixed indent-tabs-mode
9da13f3775 AP_InertialNav: fixed indent-tabs-mode
e391c34d1e AP_HAL_PX4: fixed indent-tabs-mode
e2eca3e273 AP_HAL_AVR_SITL: fixed indent-tabs-mode
82aec0ef6c AP_Declination: fixed indent-tabs-mode
8f4d4465af AP_Curve: fixed indent-tabs-mode
fb7ae8c764 AP_Camera: fixed indent-tabs-mode
e75253d019 AP_AHRS: fixed indent-tabs-mode
8c25a504c3 AC_PID: fixed indent-tabs-mode
918a3d46f5 AP_Buffer: fixed indent-tabs-mode
6c5718a63b APM_Control: fixed indent-tabs-mode
933088b95a AP_Common: fixed indent-tabs-mode
4007b7b1e9 AP_Compass: fixed indent-tabs-mode
edfebc1f29 AP_GPS: fixed indent-tabs-mode
c92069644d AP_InertialSensor: fixed indent-tabs-mode
c28ef033a2 AP_Limits: fixed indent-tabs-mode
5024da2695 AP_Math: fixed indent-tabs-mode
5fdf6ff4f7 AP_Menu: fixed indent-tabs-mode
81f7ae9108 AP_Motors: fixed indent-tabs-mode
1cc02836a0 AP_Mount: fixed indent-tabs-mode
e69e4a5695 AP_RangeFinder: fixed indent-tabs-mode
91a60be758 GCS_MAVLink: fixed indent-tabs-mode
6862791d66 PID: fixed indent-tabs-mode
c96ac5edbb RC_Channel: fixed indent-tabs-mode
fa9eb84542 Plane: added more parameter docs (flaps and GCS control)
de904468b2 Plane: added BATT_MONITOR and VOLT_DIVIDER docs
30df8796ce Copter: fixed loading of waypoints
d944da39b2 autotest: add sparkfun wicket icons on map
903d5636bb Copter: added support for partial mission load
24a84a4777 autotest: tweak AVC copter mission
a900226ff7 autotest: added CopterAVC test
6036e7f538 autotest: tweaks to rover autotest for sparkfun
1a32406f9d Rover: fixed logging of sonar distance
c8316c2627 autotest: start copter pointing south
4ce4b7aef9 OptFlow: minor commenting and format changes
c3d21a457f Copter: add pre-arm board voltage check
eba7d6da9a Plane: removed the old crash_timer code
1d9c1628fa autotest: stop updating google code parms, and add separate vehicle parms
afd2f4bc78 autotest: added advanced param warning and header to auto-docs
f9a1b4f0e3 Plane: improve ALT_MIX docs
e6891ebdab autotest: fixed escaping of html in wiki descriptions
cf10ecad2b scripts: fixed plane auth for wordpress upload
63b09c8ff9 scripts: added auto upload of parameters to new wordpress wiki
6288487814 autotest: fixed initial yaw in copter sim
6ecd2d74a3 Copter: beep twice during arming
15a84972d1 SITL: added SIM_MAG_ERROR parameter
f76fab299b Rover: fixed change of speed command
7456493b34 autotest: make rover sim closer to Toms slash
761bd75a3a autotest: update rover sim for turning circle based steering
cdcf442f55 Copter: enable GPS failsafe by default
ec7ee47099 Copter: scaling stability patch
838fb3f4e2 Copter: don't spin motors in ALTHOLD with zero throttle
dbd6524f9f Copter: WPNav consolidate acceleration #defines
d510f8f722 autotest: added generation of Parameters.html for wordpress
767d9d0eb5 Plane: fixed stick mixing in AUTO modes
c481ac8745 Plane: use a default mixing gain of 0.5
c81421e275 Plane: added MIXING_GAIN parameter
e3dffb920b Copter: initialise target vel in loiter
a474b97291 Copter: resolve compiler warning re unused vars
4fa101292a Copter: add baro health to pre-arm checks
d1791bab76 Copter: fix barometer cli test
916f241fff Copter: Leonard's improved Loiter
1aca66460e 7 yaw when armed option changed so overridable by user
a22f5e3bc4 Plane: enable wind estimation
14628990e6 AP_AHRS: make wind estimation configurable
807dbf9786 AP_InertialSensor: fixed a build warning
967aa81e9b Copter: add XL-EZ4 to SONAR_TYPE parameter description
856d654601 PX4-build: cope with relative path in PX4_ROOT
d7b1c69362 autotest: increase the timelimit for longer copter tests
dd633fcf3f Plane: make voltage and battery capacity failsafe settable at runtime
c6006972a2 autobuild: added FORCE_BUILD for forcing a rebuild
1e8357ba02 autobuild: create both old and new binary names
22e9b95c3c Copter: version update to 3.0.0-rc3
46d65150af Copter: lengthen loiter stopping point
400c1bd7b7 Copter: smooth waypoint transitions
c0089b6a32 Corrected names on firmware.diydrones.com
72f29bd0db Copter: remove debug message from compassmot
c404c46e5a Copter: add Fence to CH7/CH8 param description
ac225a1322 autotest: check te parameter doc parsing in autotest
5818dce3d2 param_metadata: fixed parameter parsing for multi-parameter objects
59b6118a1d AP_InertialSensor: fixed parameter markup
83a82ec504 scripts: don't push parameters XML on any errors
4508e645f1 Copter: fixed parameters to pass new script
f2575e790c Rover: added @User: Standard for battery capacity
bb3073fab1 Copter: minor parameter description fixes
b27ddf0f63 AP_AHRS: add parameter descriptions
5ee68db6f0 TradHeli: add parameter descriptions
4c08e32bf6 Plane: param update for AP_Baro
9139fb54ac Copter: param update for AP_Baro and AP_Scheduler
84909ee56a Plane: add parameter description for LOG_BITMASK
74bca32ab4 Rover: add parameter description for LOG_BITMASK
00bd1bf8ea Copter: RESETTOARMEDYAW order and comments
f646b79e5f indent correct again
d9fc37c01c indent correct
e9d640ced8 added ch7 option to reset yaw back to what it was when quad was armed
db552adf02 Copter: typo in LOG_BITMASK param description
669850e6d4 Copter: add parameter description for LOG_BITMASK
bd44c2f73d Copter: all pre-arm checks to be disabled
43c377ca67 Copter: add compass calibration to pre-arm check
6efdabb104 Copter: move auto disarm into a separate function
1dbe98b566 Copter: display reason for pre-arm-check failures in GCS
d10e3bc75f Copter: send_text_P bug fix for short messages
31e3f32930 Rover: send_text_P bug fix for short messages
c7961a72fc Plane: send_text_P bug fix for short messages
885ce7db03 Copter: remove DigitalReadFast
21f3534a93 Copter: remove DigitalWriteFast
55f1b3b2ae Copter: reorganise medium loop
c840e2a8c2 Copter: code clean-up move 10hz loop after 50hz loop
6a65a32de2 CopterMotors: add formatting info to top of files
f4846b417a Copter: compiler fix for disabled logs
4ad395e7be Copter: merge WPNAV into NTUN dataflash message
072f3dbe30 Copter: display interference % in compassmot
5235f4cacd Copter: allow Tri copters to init ESCs through APM/PX4
91b08cdcec AutoTest: add fence test for Copter
7bbee36e89 AutoTest: add copter stability patch test
b914f9ba06 SITL: use SIM_ENGINE_MUL to simulate motor failure
9fdab5e8fe Copter: remove unused AUTO_SLEW_RATE parameter
8c99936431 Copter: update CH7_OPT, CH8_OPT to include Multi Mode
38239c652a Copter: ch8 aux switch
566daf883a Copter: remove unused MODE bit from LOG_BITMASK
5b00ce24ed Copter: minor user hooks cleanup
6a173eb7ad Copter: remove unused dump_state function
1426f40319 Copter: remove unused JDrones motor PID overrides
19394918dd Copter: simplify APM_Config.h
28c37dd798 Copter: do pre-arm checks when arming from GCS
4c9cb461d6 autotest: setup Rover autotest for Sparkfun course
80582df4be Rover: started on 2.42beta
b5f2b4db8a Rover: don't do crosstrack in last 3m
ca8e4519cc Rover: use get_projected_position()
c08c084191 AP_AHRS: added get_projected_position()
697d17a229 Rover: add doc links for SONAR2_* parameters
9d0f40b432 Copter: add pre_arm_rc_check
2c149bac8e HAL_PX4: added new arming ioctls
0540acfec9 Copter: change to compassmot instructions
cb795ea536 WPNav: divide by zero checks
610edd8f9a ACMotors: small formatting change
cd5795a4ac ACMotors: make a few more functions non-virtual
ad00e0ee1e ACMotors: make test_order uint_8
88893f4209 ACMotors: make a few functions non-virtual
bd07b1e57b ACMotors: remove unused get_num_motors function
5bb0582854 ACMotors: ESC Calibration only for enabled motors
33d1129904 Copter: remove unused TB_RATIO parameter
7a81c41689 AP_Motors: motor_enabled array to bool
411e940342 DataFlash: prevent the dataflash erase problem
e843bf3dfd Copter: bug fix for POSITION mode throttle
a2e298bbfc Copter: change to default RTL yaw behaviour
319f3ef560 Copter: flexible CH6 declination tuning range
6ba9431be4 Copter: update firmware version and release notes ahead of -rc2
e130c8041c Copter: remove unused event definitions
bd6edecdec Copter: restore logging of arm/disarm event
94a05a9285 Merge branch 'master' of https://github.com/diydrones/ardupilot
bb7aec2600 Copter: log compass failur to dataflash
bd4b7d136f Plane: mark ArduPlane 2.74beta
119ffb0fc0 SITL: fixed simulated airspeed value
a5b20b4dfc AP_HAL: removed scaling factor on analog sources
c44fd42349 Copter: fixed RSSI reading on PX4
001d18b51d Plane: removed scaling of pitot source
97b6aaac77 Plane: use voltage_average() for RSSI
e1ac097e0e Rover: use voltage_average() for RSSI
48cfdac6f0 AP_ADC_AnalogSource: added voltage_average_ratiometric()
cec08be9cb AP_Rangefinder: use ratiometric analog input for analog sonar
dfb98490f4 AP_Airspeed: use rationmetric analog input for airspeed sensor
589b8cdb58 AP_HAL: added voltage_average_ratiometric() call to AnalogIn
dd0630dc16 PX4: fixed handling of nostart option
a17b85c661 AP_AHRS: use vectors for ground vector complimentary filter
9f309a2aa6 AP_L1_Control: Remove potential nan errors
55235630b6 Copter: bug fix for slow loiter repositioning
01da926f04 PX4: don't start px4io twice
9bdbd6bfbd MAVLink: update to latest common.xml from upstream
429f900460 Copter: bug fix for RTL bearing
61288fcb90 WPNav: make get_stopping_point method public
80bd458f29 Compass: update parameter description
ad656c7e8a Copter: allow lat/lon to be specified for land
b3bca271d4 Copter: rename verify_must to verify_nav_command
b65d714675 Copter: set yaw-mode in do_loiter mission command
98732ae4e8 Copter: remove redundant init of controllers when auto is started
870b9b0fbb Copter: only run nav controllers when auto-armed
5296e858b6 build: fixed build_all_px4.sh for new PX4 build
ad9d3360da PX4: fixed px4io build in build_binaries.sh
1248a49284 PX4: need led driver in build for latest upstream changes
3a66d304af PX4: changed EXTRAFLAGS to EXTRADEFINES for PX4
0acceb04ff build: added px4-archives target
06cf9def98 PX4: auto-build the archives if needed
2b8ea4db43 build: fixed build_binaries.sh for new PX4 build
73250efc01 build: added support for the new PX4 build system
9b752f5d2a PX4: added in remaining example mixers
947297f0cd PX4: added base ROMFS files from upstream
172faeea26 HAL_PX4: moved rc.APM to new ROMFS directory
b3e21c6add HAL_PX4: include visibility.h
1b52ee211a Copter: bug fix for RTL yaw control
220e7b019c SITL: use PACKED attribute in fdm structure
416fef73a8 AP_Param: use PACKED attribute in examples
ed918dc6bc SITL: use PACKED attribute instead of pragma pack
06b6f4b04e AP_GPS: use PACKED attribute instead of pragma pack
62b9a580e8 AP_Common: make PACKED depend on architecture
ed5ddfd9db WPNav: initialise desired roll, pitch
d0fb332e9f Copter: init_rc_out in cli's compassmot setup
6269b8029c VARTest: fixed build
b940c4b28e Plane: use library gcs_severity
95120ed43d Copter: use library gcs_severity
3438316288 Rover: use library gcs_severity
fefbeacf86 AP_InertialSensor: use SEVERITY_USER_RESPONSE for accel cal messages
11bf6f40f7 GCS_MAVLink: moved gcs_severity to library header
9a87b3f3c1 AP_Compass: use const on more functions and remove old calculate_heading()
f78de63a09 AP_Compass: more efficient calculate_heading() implementation
1b2d8636ca Copter: set wp to "fast" if they have no delay
9f735c8d03 WPNav: add fast waypoints flag
4704b729c2 WPNav: reduce max acceleration to 2.5m/s
635b3fabda Plane: fixed APM1-1280 build
9824f6c223 Copter: add flight mode strings to Parameter info
0a148cce19 Copter: log target alt in meters
095505129c DataFlash: hopefully fixed cause of frequent dataflash erase
7fdf1b6f78 DataFlash: fixed example build
8f57b72e3f AP_InserialSensor: fixed example build
c3738ed344 AP_InertialNav: fixed example build
ed93f80ba9 AP_Baro: fixed example build
55d148abdd AC_WPNav: fixed example build
56694fd9b1 AC_Fence: fixed example build
81c1fd5fc4 Plane: support 3D accel calibration over MAVLink
9feb46c834 Copter: use new accel cal interact over MAVLink
2ddeaa7f4d AP_InertialSensor: show calibration offsets for success and failure
f3f4b7205c AP_InsertialSensor: added support for MAVLink user interaction
4bc53acbda SITL: support vsnprintf with %S on SITL
9cd0af1132 HAL_PX4: make PX4 snprintf support %S format
223dfe4de5 AP_Rangefinder: added units for settle time
c5f1570f32 Plane: fixed flash logging of ATT
328d900647 WPNav: flexible loiter speed
087a428360 Rover: prepare for 2.41 release
1f8161b493 AC_WPNav: remove unnecessary speed constraint
854c50501d Plane: Added  a constraint to demanded bank angle during FBW-A mode to prevent roll limits being exceeded
aee23361dd APM_Control: Corrected typographical error in APM_Control/TuningGuide.txt
6f1cee6406 AP_AHRS: fixed position estimate with 2D fix or low satellite count
055da3c4b6 SITL: added SIM_GPS_NUMSATS parameter
324200b52c Copter: disable centrifugal correction when disarmed
ceda7d26b0 AHRS: add correct_centrifugal and flags structure
7e36935140 autotest: keep images in history
2a9298f3d5 autotest: display flight tracks on autotest web page
fdd509a7c1 Plane: move baro init earlier in startup
0cf49308af Plane: mark a 2.73beta release
0e6a64fc14 Plane: reset roll/pitch integrators for APM_Control in takeoff
46c6aa8a9a APM_Control: tweak the parameter names
9c6f80c42b Plane: moved some default values to Parameters.pde
6251d0510a Plane: obey pitch trim and throttle pitch feed forward in new controllers
e87a6d5564 Plane: added links to new APM controller docs
400777b059 APM_Control: support inverted flight in AP_PitchController
604bfd0700 APM_Control: adjust recommended ranges
11ad9d5a2d Plane: auto-invert pitch control when upside down
7af3c667a5 APM_Control: added roll controller parameter docs
52c3f8841f APM_Control: added yaw parameter docs
b618d1d81f APM_Control: added inline docs to pitch controller
6c6c0079ee APM_Control: improved formatting of tuning guide
742df0ac05 APM_Control: rename to avoid spaces in filenames
4e2b88f6e6 Plane: added ATT_CONTROLLER option to select attitude controller
55f7d18979 Plane: avoid copying the DCM matrix
703a1ba438 Copter: avoid copying the DCM matrix
23d9c31b0a APM_Control: fixed build and merge errors
10ecffce01 APM_Control: ROLL and PITCH controllers
3663426550 Plane: Fixed bug in groundspeed_undershoot that could cause a fly-away in windy conditions.
663951d9a7 Plane: rename APM_Control parameters
8c5b603848 Plane: use new APM_Control API
205397d030 APM_Control: Modified calculation of bank compensation rate offset to prevent climb if speed > max fbw speed
e7736ed4e0 APM_Control: APM tuning guide.txt - Updated tuning instructions with numerical values for alternate method
3034a9fab2 APM_Control: Added alternate tuning method for roll and pitch loops
2c29186b03 APM_Control: APM tuning guide.txt - Minor editorial corrections
d159d39037 APM_Control: APM tuning guide.txt - Added step by step tuning description.
99f0fb6bd2 APM_Control : Removed 20Hz low-pass filters on rate gyro inputs.
317b75f4cd APM_Control: Added tuning guide readme
9654546b5a AP_L1_Control: Cleaned up calculation of damping to reduce computations
372ebb602c Copter: disable centrifugal force correction when disarmed
30faf87715 InertialNav: use AP_Math's longitude_scale
7c9d9b9800 AP_Math: use DEG_TO_RAD in longitude_scale
ae2ad8e819 Copter: remove unused radius_of_earth constant
38fc0e61c6 AP_AHRS: optimise yaw drift correction
737f0305ef AP_Math: implement vector2 cross product
f4189e083b AP_Math: added mulXY() for matrix3 and vector3
ee2daf25b6 AHRS: perf improvement by caching declination vector
943a1d8c8d AP_AHRS: added AHRS_GPS_MINSATS option
6836964e3c Copter: resolve compiler warning re fence
c20eac7a70 AP_InertialNav: use standard LATLON_TO_CM, DEG_TO_RAD constants
7d8822dde1 AutoTest: remove lower loiter PID overrides
99d21854f9 SITL: fixed drift rate limit in simulator
53ebcfeba5 SITL: fixed compass vector to be based on yaw not GPS heading
2dc5078c83 Added .vagrant to .gitignore
1cfd5900a8 Copter: add support for H-quad frame
647a93e78e Copter: remove jerk when entering RTL or AUTO
bd75de6a22 AC_Fence: reduce to 150m radius and 100m high  100m high,
9e01dea95b AutoTest: reduce copters terminal vel to 15m/s
73ea5aab5c AutoTest: override default Loiter PIDs
cca05ee8ae Copter: start dataflash logging when arming
58d5fab412 autotest: copy .tlog files to history
b43712e4d2 Plane: fixed APM1-1280 build
ba472b9749 AutoTest: remove unused missions
f14284e7a0 AutoTest: reorganise copter tests
44b0c790f3 AutoTest: turn off compass learning in virtual copter
68279a138f AutoTest: reduce power of virtual copter
9f0a4dd553 Plane: log GCS text messages to flash log
6cc9939891 AP_ADC: added dummy stop_pin and settle_time calls
0e66bac70b AP_RangeFinder: removed special case for APM1
244a10aeb6 HAL_SMACCM: fixed build for new AnalogIn API
9bc48c9894 HAL_PX4: fixed build with new AnalogIn API
5ac493908c SITL: fixed build with new AnalogIn API
ef4198bcb4 Rover: don't do failsafe if throttle is below failsafe level
09ca9d4283 AP_Rangefinder_analog: implement settle time and stop_pin
5d80a5619d HAL_Empty: add new API functions
912ed2c97c HAL_AVR: initialise settle time
e7a6b12ac1 HAL_AVR: support set_stop_pin() and set_settle_time() for analogin
0b6cfc7294 AP_HAL: added set_stop_pin() and set_settle_time() interfaces to analogin
b58d753344 Rover: make AUTO_TRIGGER_PIN be a push on/push off
8361cd31f2 Rover: send all mavlink string messages to flash log
0242d50ad4 DataFlash: added Log_Write_Message()
3f9ade2b1f Rover: added INITIAL_MODE option
b890fbdba2 Use absolute path for config.vm.share_folder.  Fixes issue #216.
ccd38e58a1 HAL_PX4: fixed the scaling on the analog pins
500497f5fa AP_HAL: update AnalogIn test to show the first 16 pins
c90d44c121 AP_Compass_HIL: fixed indentation
26bf636541 AP_Baro: fixed a build warning
168f76e76c autotest: added --map option to autotest.py
65183887e5 SITL: use new baro setHIL method
90cf1b0386 AP_ADC: removed unused setHIL method
bb8f9d5443 Plane: simplify setHIL for baro
b6e3e59bc3 Copter: simplify setHIL for baro
7cec3caf19 AP_Baro: cleaned up setHIL method
c6c1fce2f1 AP_Baro: removed HIL constructor
66150a41fe VARTest: fix for AP_Baro_HIL
3cd52a9689 Plane: fixes for AP_Baro_HIL
55da049c69 Copter: fixes for AP_Baro_HIL
811c2ccc11 libraries: fixes for AP_Baro_HIL
2d089174cd AP_Baro: rename AP_Baro_BMP085_HIL to AP_Baro_HIL
a09c53a3ea SITL: use new HIL compass API
0d97f417ec Plane: enable compass on all boards by default
0aa38a5bd4 Plane: use new HIL compass API
db57c8d7c5 Copter: removed the deprecated HIL sensors interface
172d9724df Copter: use new HIL compass API
5594e4d9bc Rover: use new HIL compass API
f72dd560cb AP_Compass: fixed the HIL sensors compass
5ba171af9a Plane: fixed mavlink levelling
86027f6e0f AP_Compass: fixed PX4 build
af50b652f8 AP_Compass: removed old orientation defines
261eb6d841 AP_Declination: fixed example build
54b826a583 AP_AHRS: update for new compass API
ec9a7af49d Tools: updates for new compass API
a019e3740e Plane: updates for new compass API
0d027b7a23 Copter: updates for new compass API
44dd9ddf74 Rover: updates for new compass API
217f34e155 AP_Compass: added COMPASS_ORIENT parameter, to support external compasses
105bd32a2e Copter: fixed some uses of constrain_float() to be right type
9584aa89d9 Plane: replaced constrain() with constrain_float()
25c576cad7 Copter: replaced constrain() with constrain_float()
b13406859f Rover: replaced constrain() with constrain_float()
ba83950fc4 libraries: replace constrain() with constrain_float()
813e767efb AP_Param: use const refs in a few more places
743d7f2b74 Fix Param description
d9601916ee Copter: update firmware version and release notes for 3.0.0-rc1
4fcb189c97 GCS_MAVLink: typo in message definition
3aca35777f Copter: use mavlink fence message
2d17688363 AC_Fence: add backup fence
0fce0eb488 AP_Compass_PX4: fixed handling of a saturated compass
d7ec985029 AP_Baro_PX4: fixed baro driver to run at full rate
ad01aeee44 Copter: increase max loiter overshoot to 8.12m
8122a32114 InertialNav: reduce XY TC to 2.5 (was 3)
c139134192 Copter: increase max loiter speed to 7.5m/s
6c081c3def AC_WPNav: slow acceleration of intermediate point
bab9fa25e5 Copter: add GCS failsafe
00146ca97d AP_HAL: fix another RCInput compile error
e7122b85ed AP_HAL: example compile error fix
6857b8e4f4 Rover: use renamed RCInput valid_channels
b0f5b9a4cf Plane: use renamed RCInput valid_channels
31e430948a Copter: use renamed RCInput valid_channels
bbbd90c430 AP_HAL: rename RCInput's valid() fn to valid_channels
a28c6df611 RCInput: allow ppmsum of less than 8 channels
c067fa2660 L1_Control: make NAVL1_DAMPING docs clearer
de3fcbc413 Plane: removed the MANUAL_LEVEL option
3d7a4d0e6e Plane: added ELEVON_OUTPUT option
76d0f7f74d Copter: fix compiler warning re unused float_int
cc2232b2f3 Copter: remove outdated tests
d146d6aaa6 Copter: restore update_altitude to run at 10hz
855277fa85 Plane: get ready for 2.72 release
9904bcd9aa autotest: changed mavlink log names to *.tlog
e8c71c1449 Rover: log mode number as well as mode string
bdf0a2da69 Plane: log mode number as well as mode string
a64d067749 Rover: log GPS packets as they come in
b53e3bb1fc Plane: log GPS messages as they come in
786e4cf705 AP_GPS: added last_message_time_ms() API
f5d062d5ba AP_GPS: move byte swapping code to cpp
84ed37938d Plane : AP_L1_Control : Replaced division by constants with multiplies and adjusted default L1 period to 25 seconds
f5d6fb6216 AP_AHRS: added _kp gain reduction for catapult launch
1956d9c2dc Plane: show modes as strings in log
18444d3ac3 Rover: show modes as strings in log
90af3262c5 Copter: pre-arm check for compass
4c7ab9a0f9 AutoTest: add valgrind test script for randy
57731bb3f9 Copter: adopt compass test from arduplane
c232d7af4b Copter: correct fence parameter
58d1da2d80 Copter: integrate AC_Fence in place of limits
9910d6d1cd AC_Fence: first implemenation of library
a57965d15f AutoTest: reduce copter turn rate in fly square
95e83314ac Rover: add I2C error count to PM message
f47a2e951a Plane: add I2C error count to PM message
45aab0de92 Copter: add I2C error count to PM message
0b8c2da4df Plane: support 12 output channels on PX4
4f225eff57 Plane: if airspeed enabled, require 5m/s to unsuppress throttle
300a8d2bbc Copter: support all 12 channels on PX4
b71f36ee34 RC_Channel: support 8 auxillary RC channels
ec1678db83 HAL_PX4: setup for 12 output channels
709615159a HAL_PX4: support 12 output channels with PX4IO
3b0250b414 AP_HAL: define RC_12
cb5f8826f8 Copter: Leonard's fix for trapezoidal frame
74dca6da22 Copter: move update_commands to run_autopilot fn
6deaae3844 gitignore: add more files produced by sitl testing
81b9dad1cd Rover: mark new beta version
ac7561c5d5 Plane: mark 2.72beta version
d227d2559d autotest: added APMVERSION to firmware.diydrones.com version
67de5e5172 autotest: added unpack_mp.sh script
1a7cffefe6 TradHeli: change coll_out to int16_t
f50fe7a77a Rover: made a bit test clearer
c612b4ad73 build-PX4: changed the PX4 build to use CONFIG_C99_BOOL8
7f79398989 AP_Limits: fixed return of AP_Int8 parameters from object
fb0f5d46ba Copter: use BIT_IF_SET()
3659b532be AP_Common: added BIT_IS_SET() macro
5ad9deecfb Copter: cleanup some bit if tests to be clearer
709a277c7f DataFlash: chamged FMT message to include labels
9ef34943af DataFlash: change log extension to *.bin
cd624f68b9 build: touch directories to get dates right
dc4ed49304 docs: link to new dev website
8ec1eaa8b1 build: removed obsolete cmake rules
1c980981e4 web: added link to new dev website
215a2a1b03 web: added Tools link to firmware site
fd2cd0d1c2 DCM: fixed formatting
610069e729 DCM: fixed airspeed bug
63a48f76e2 Copter: add pre-arm check of radio and accel
42bca90676 INS: add calibrated check
07b6efafd8 Copter: use DEGX100 constant for position_vector calcs
0b29754920 Copter: simplify roll-pitch stabilize controller
82c604dd67 Copter: more constrain fixes
2c05030fb1 AP_Motors: use the right constrain() function
d5875676b1 Copter: use a reference to DCM matrix
c2c037ec0d Copter: use the right constrain() type in Attitude code
014c9376e7 AP_AHRS: use const references where possible
dcc3873056 AP_Buffer: remove bool return from add() method
26fa5c40f1 Compass: use const references for some functions
1849aca0e9 AP_InertialNav: optimise some multiplies
01a4fabf9e AP_Param: make things a bit more efficient
3d325043b0 AP_InertialNav: make some more functions const
08c57c2587 AP_InertialNav: reduce number of multiplies
bad478134d AP_Buffer: instantiate as a .cpp file, and optimise for const usage
ad40ba57be AC_WPNav: optimise to reduce memory copies
5f1bd1a452 HAL_AVR: constrain Vcc used in voltage_average()
a9da3c9d3d Copter: remove unused throttle functions
9cec664236 Copter: fixed format of PM message log
c437900a49 AP_Scheduler: added SCHED_DEBUG=2
e446f375a7 Plane: set loiter.direction for GUIDED mode
94d4ecef11 Copter: reduce throttle rate D to zero
2fc25da4c3 Copter: Leonard's fix for get_loiter_accel_to_lean_angle
c53ede506d Copter: make if statement clearer
36041bb9ff Copter: Enable CURRENT logging by default to dataflash
14eca30456 Rover: Enable CURRENT logging by default to dataflash
3ec891265f Plane: Enable CURRENT logging by default onto Dataflash
8b31f276a2 Copter: switch to block based logs for SITL
9e92a60cfa autotest: fixed dump of file based logs
02ed37e750 Plane: fixed APM1-1280 build
5fb8e47d74 .gitignore: added files commonly produced by autotest
745df9b13c Copter: add SONAR_GAIN to tune reaction to sonar
50515e28e1 Copter: replace fabs with fabsf
a53e5f747b Copter: add fourth yaw behaviour, look-at-home
fb6b736c78 Rover: print mode as string in logs
02c3083f60 Copter: print flight mode as string
2e5834cc7f Plane: print flight mode as string in logs
844e1b9ef9 DataFlash: added support for printing flight mode as a string
c3abdaf308 AP_GPS: removed duplicate print_latlon()
ce3ee97e73 Copter: removed duplicate print_latlon() declarations
b5ae588341 DataFlash_File: fixed creation of 0.log
93d075404c Copter: added board voltage to current message
735d60c493 DataFlash: convert example sketch to new API
62f190ed15 DataFlash: simplify code now that copter is converted
a0708460a4 Copter: convert to new logging system
3b90c6c386 Plane: log parameter changes
991d6598ef Plane: log board voltage
c45f90fb06 Rover: log board voltage
cf0c8331c2 DataFlash: use print_latlon()
e1f9297551 AP_Math: move print_latlon() to location.cpp
cabef0ef6c Rover: cleanup build warnings
5c553852ed Plane: when logging is disabled don't include DataFlash at all
0c5b393919 Plane: added compass logging
7717cc1450 Rover: added compass logging
c56f338fe0 Plane: convert to new logging system
8c7a7928d4 Rover: use new StartNewLog() interface
c29d870497 DataFlash: dump the format of logs at the start of the log
6d6641e1a3 VARTest: fixes for new logging system
67484a2ea1 Copter: make copter code compatible with the new logging system
c8af70a18d Plane: make the plane code compatible with the new logging system
90f70707b1 Rover: convert to new logging system
916e8d0992 DataFlash: new dataflash logging system
17d7f1fbe5 AP_InertialSensor: make some interfaces const
4fe5ce8a09 AP_Common: added a define for PACKED
8d727614b4 AP_GPS: make status() const
9171d5587d AP_Param: make it easier to show the value of a parameter
7ad293e270 AP_AHRS: made a few methods const
37abfdc65a Copter: make CIRCLE_RATE a tunable parameter
947b64dfc4 Rover: fixed turn time in flash logs
6122dd2bdd autotest: added command line extensions to sim_rover.sh
8ba982e8de autotest: fix dump_logs for other vehicle types
a329e32ccb Plane: added gps status to flashlog
a8d6fa3107 Rover: fixed dataflash logs to be useful
1c046fa49f AC_WPNav: increase max descent speed to 1.5m/s
ed298363f4 AC_WPNav: remove unnecessary limit in leash calc
f162713ca8 AutoTest: reduce throttle so it doesn't fly so far
d65d7d95e2 Copter: bug fix for take-off so it never descends
0fc9c8739e Copter: add WP_YAW_BEHAVE parameter
18c1373847 Copter: remove unused AUTO_VELZ defaults
f5955d8915 Copter: auto climb and descent params removed
764853bd56 AC_WPNav: add climb and descent params, dynamic leash length
effd5b0da7 AC_WPNav: improved comments
fa493a0fb3 AP_Param: added ops needed for ArduCopter build
fbe7daa477 AP_Param: fixed assignment handling and const
5dcb64eec9 Merge pull request #206 from Craig3DRobotics/master
b5b3b4f48b Changed instructions for loading fimrware onto PX4
9b351feade Copter: shorted INAV dataflash log message length
f7524e5741 Copter: remove unnecessary cast to float in Log
7c8527e6a6 Copter: resolve compiler warning
2b4a7d60a9 Copter: remove unused throttle modes
02bd24cf57 AP_Scheduler: fixed _last_run initialisation
0a25d6220a AP_InertialNav: initialise _gps_last_time
b3ec5187f2 AP_GPS: fixed uninitialied variable bugs found with valgrind
56809a9df2 Copter: remove unused nav_ok and alt_sensor_flag
0b808abbed Copter: remove unused waypoint_valid function
a656b619f5 AP_Motors: remove auto_armed
d2bd818b2d Copter: bug fix for auto_armed logic
68051f3ea6 AP_Menu: fixed crash bug in strtok_r() handling
b05117f5cd build: fixed heli-hil and quad-hil copter builds
07cd2567f3 autotest: added --cli option to dump_logs.py
3f8fb48479 CPUInfo: test NaN and Infinity printing
0bbddbb877 Rover: added PX4 flash logging
abe4dba871 Plane: added PX4 flash logging
501eb4f0b4 Copter: made more variables static
a12323c9fd Plane: fixed logging for new API
61c2befd4d Copter: fixed logging for new API
df27b8b35d Rover: fixed logging for new API
af7381e9e0 AP_HAL: added register_io_process()
5df4796b9a RangeFinder: fixed a warning
da5a5ea368 DataFlash: added file based 'dataflash' logging
0af84177da px4: fixed passing of EXTRAFLAGS for ArduCopter frame type
636573f0fd autotest: added some useful test missions for ArduPlane
9d3b32bd27 SITL: change default wind speed to zero
82989d85f2 Copter: remove unused #defines
0663da7c9e Copter: loiter rate IMAX to 4m/s/s and D to zero
b8974dec99 Copter: compass learn off by default
00dc9712de scripts: test apm2beta build in autotest
7a04fe9915 AP_Baro: Fixed build for APM2 Beta hardware
d3dad7afee autotest: add @User autodocs to the apm.pdef.xml as user=foo
a7b32caf72 Copter: bug fix for loiter_time check
a185fa950c Copter: Jason's fix to auto disarming
8046fe2cf3 AC_WPNav: increase max accel to 8m/s/s
8fe3e689f4 Copter: add WPNAV log message
b48864e1ad Copter: allow CH6 tuning of compass declination
42344455c9 Plane: fixed structure init for arduino compiler
9f0f482dd7 Plane: fixed LOITER_TIME to start when loiter starts
75f4a43e2d Plane: fixed LOITER_TURNS command
9ff0888a17 AP_L1_Control : Fixed potential divide by zero in Nu1 angle calculation
82cd391cf8 Plane: use RADIUS_OF_EARTH define
8f091e70c8 Plane: move elevon variables into a structure
79c6f32400 Plane: made variables static and remove initial rc overrides
e918293e86 Plane: explain verify_*() commands
19b92b5bd8 Plane: removed "circle waypoint" completion test
97bfd16bd1 L1_Control: constrain the roll to handle floating point errors
83dc7dbc92 AP_Math: handle NaN in constrain(), returning average
b69481f74d AP_InertialNav: fixed build of example
bad15438d5 scripts: added flashlog magnetic fit code
571c48b9d5 L1_Control: cleanup some unused code and variables
a423d102e0 Plane : AP_L1_Control : Fix wrong way turn behaviour on loiter entry
994d8e354a Plane: allow for negative WP_LOITER_RAD for conter-clockwise loiter
d01d754ba8 HAL_PX4: if we have lost RC input then set channel 3 to 900
181f7368a3 AP_L1_Control: change turn_distance() to be min of wp_radius and L1 distance
13e6aaf682 autotest: precreate buildlogs directory
78538d0543 Plane: removed old HDNG2RLL PID control
b2ad43f625 Plane: removed ahrs.set_barometer()
cf6ae4a746 Copter: remove ahrs.set_barometer()
a4d25f5a82 AHRS: removed AHRS_BARO_USE option
87b0fb05ce AHRS: changed default RP and YAW gain to 0.3
8c7a1597dc Copter: remove debug comment from RTL
0eab3e87b2 AC_WPNav: use prev wp as origin for next wp
629d23b7e2 Copter: remove WP_SPEED and WP_RADIUS parameters
0351c2ae33 AC_WPNav: allow setting of horizontal velocity
b58c26bcd5 Copter: remove pid_nav_lat, pid_nav_lon
bffe4fa412 Copter: remove NAV_LAT and NAV_LON
7d39b76fde autotest: add arducopter sim script for Randy
252e98ec57 AC_WPNav: use global gravity constant
700fb1b179 Copter: replace sin_yaw_y, cos_yaw_x in circle mode
366616e32c Copter: reduce default loiter PIDs
0ac3762bdd AC_WPNav: fix compiler warning
1ee825ee9a Copter: move alt and wp checking to AC_WPNAV
9d7d174995 AC_WPNAV: check distance to waypoint within library
35001619f0 AC_WPNav: stop track_desired from moving backwards
c6b68c7843 AC_WPNav: Leonard's 3d leash calculator
74e1c2e660 AC_WPNav: advance track fixes
2db8365c90 Copter: add AC_WPNav to parameters list
bc87118062 AC_WPNav: add get_target_alt method
6dbcbdcb43 AC_WPNav: limit max loiter position error
31838b2865 AC_WPNAV: change loiter controllers to use floats
7c559333f5 Copter: get_throttle_rate's target_speed a float
0ccdce1b22 AC_WPNav: Leonard's ff loiter and 3d wp nav
926c404994 AC_WPNav: Leonard's loiter target smoothing
ee7f40cfe9 Copter: Leonard's alt-hold feed forward
f82ce449d7 AC_WPNav: add angle limits and set from AC's throttle controller
afd2f82768 AC_WPNav: bug fix for track covered being 2D
553f40a99c Copter: bug fix to loiter delay
a65960a009 Copter: use velocity based set_loiter_target
8ec7fd1c9c AC_WPNav: add set_loiter_target to use velocity
fc972e2d42 InertialNav: add get_velocity method
e592baae11 Copter: remove remnants of fast_corner
4de5f67a91 Copter: replace wp_nav.get_target_alt with get_destination_alt
3bfcc3b8d0 AC_WPNav: replace get_target_alt with get_destination_alt
5b93990e41 Copter: removed next_WP
c40080e76a AC_WPNav: added set_target_alt
1516972eaa Copter: add panorama to CIRCLE mode
60060d8184 AC_WPNav: add get_target_alt
58ed8cd544 Copter: replace set_next_WP with direct call to wp_nav
0d70ba1030 AC_WPNav:  bug fix to dt calculation
49828eba7d Copter: integrate AC_WPNav
39bc3800c9 AC_WPNav: add distance and bearing to target methods
b92c4097d2 AC_WPNav: first implementation
8d2cf6f3e5 Plane: update author list
70a186464b Plane: added LEVEL_ROLL_LIMIT parameter
575f346e85 Plane: removed HIL_MODE_ATTITUDE
76e20150e9 AP_InertialSensor: ensure parent class is initialised in instance classes
a5c3051929 AP_GPS: fixed initialisation error in uBlox driver
bdb2f12c3b autotest: removed obsolete navigation parameters for ArduPlane
dca597cda1 L1_Control: added a comment on speed of the L1 control code
11eb0cfce1 Plane: update for new AP_Navigation controller class
a3c2851120 AP_L1_Control: Addition of library for geometry calculations required for L1 Control.
b63d0969b7 AP_AHRS: Addition of a first order complementary filter to AP_AHRS::groundspeed_vector
05ecb8d8fa AP_AHRS: fixed functions that need to be virtual
ee81b0f729 AP_AHRS: added wind_correct_bearing() and groundspeed_vector()
43c3c60de2 AP_Math: moved a lot of vector templates to cpp from .h
78eb12a4ac AP_Math: added RadiansToCentiDegrees and RADIUS_OF_EARTH
8b119934ea AP_Math: fixed grammar error
2d29a6a7be AP_Math: added Vector2f.angle()
f6aacdc768 AP_Navigation: added a navigation controller class
c47bc09a3c Plane: avoid doing radio trim if less than 20% of travel available
cdb532a594 Copter: bug fix for loiter target
e637a8fb29 Copter: remove old commented out code from setup.pde
86fe79a662 INS: updated MPU6K_FILTER parameter description
217b8d7a59 cleanup: use const for struct Location pointers and references
6516bffbb6 AP_Camera: enable relay off in all builds
960574cccf autotest: fixed sleep_overhead calculation in sim_multicopter.py
8d992ae615 InertialSensor: added OilPan INS example
6d0ed116de documentation: explain where the build output goes.
9190db9717 documentation: explain what a 'sketch' is.
a86ede4270 autotest: APM xml docs should be named xml.pdef.xml
a7d58affcd Updated README:
8eb097a53c Added Vagrantfile to define a standardized Ubuntu 12.04 32-bit development environment.
50ccaadbc4 autotest: bumped version number of QUpgrade
2b19249e4a autotest: fixed autotest executable path
71f6287388 Plane: fixed spelling
dcbe144c7e Plane: prepare for release of 2.71
a8e34eeeb7 autotest: fixed tmp path handling in autotest for dump_logs.py
5ba4ea88ef autotest: fixed TMPDIR for dump_logs.py
47cff69c70 git: ignore .pyc files
9882d9c639 autotest: added dump_logs.py
9036b97a16 Copter: fix build error
af13f6795c INS: switch to global definition of GRAVITY_MSS
fc0c451b69 Copter: remove #ifdef checks for Atmega1280
1dcd46bffc Copter: reduce compiler warnings
e58f49aeaf Plane: copy rudder out in TRAINING mode
993154ea59 Plane: expand the VTAIL_OUTPUT docs for APM1
bd2b9fbe9d Plane: simplify the VTail mixer to be more like a hardware mixer
95d944f610 Copter: Jason's bug fix for loiter's set_next_WP_latlon
17cbcd1bf6 Plane: fixed failsafe with VTAIL_OUTPUT
406921faf1 Plane: added VTAIL_OUTPUT option
fe6e83f7f2 autotest: added support for vtail testing in runsim
777c6a308e AP_InertialNav: use shared GRAVITY_MSS constant
0aff1136ed autotest: added link for QUpgrader to web-firmware/index.html
c07702f46d Update AP_MotorsOctaQuad.cpp
039c603a35 autotest: allow testing of elevon planes
739e3c2b9a Copter: adjust trapezoidal motor mixing
59a2a95e9a Copter: remove noise and wind from copter sim
d1afd2fb9b Copter: make guided mode start at current location
21a51c8333 Plane: update GCS_Mavlink parameter documentation
0be23c8090 Copter: fix THR_ALT_P documentation
e32cbd827b Copter: replace quad trapezoid frame with V
3bf847f675 Copter: Jason's faster cos_yaw, sin_yaw
5bf55a9523 OpticalFlow: switch order of sin_yaw, cos_yaw
7ad8670df7 SITL: show the build target
e61f3dfeca autotest: remote getppid for SITL copter on windows
5667f5d817 AP_ADC: fixed APM1 HIL_SENSORS Ch6() return
a69c9ff674 Plane: added logging of DIGICAM events
310a5a6be1 DataFlash: don't try to write if no card inserted
ddfcafe80f Plane: fixed DIGICAM camera trigger
40f6416b3d Copter: update Log_Read_Compass comment
683a2919d1 Plane: prevent stick mixing when throttle is below failsafe threshold
c5e2cfcc3e Plane: preparing for 2.71-beta
2506c216dd Plane: added a second type of stick mixing
a5fdbadcc2 Rover: use get_pid_4500() to prevent PID overflow
5d54215221 Plane: use int16_t() not int() to ensure simulator matches AVR
e390726bdd Plane: prevent overflow on large PID gains
6123ea2dac PID: added get_pid_4500()
624ebced38 Plane: document INVERTEDFLT_CH
7cf2255822 Copter LEDs: replace bitRead with bitmask
6816c45c39 InertialNav: reduce Z-axis time constant to 5
a9eb626cb8 Copter: update default Rate Yaw P to 0.20 (was 0.25)
7ccb14344c Copter: update version to 2.9.1b-dev
7d4eea271f Copter: update Release notes again for 2.9.1b release
49e3e040b6 Copter: update Release notes ahead of 2.9.1b release
24dd167607 Copter: ACRO bug fix from Jason
541fa13291 cleanup comments
e80f2c094e HIL fix location, alt, mag from hil state message
2160bf135d fix sitl segfault in hil
87292e0a4a Init hil accel with gravity
59f80410d5 Add ability to compile sensor hil with sitl
39ba406957 Copter: add trapezoid frame type
dfb14d760b Plane: added HIL_SERVOS option
645bd87b63 Rover: minor parameter documentation updates
a093926b04 Revert "RC_Channel: removed pwm_out variable from RC_Channel"
5f8c8e87a8 autotest: fixed rover mission completion
4a02af088b autotest: check for new build tags
12c35da9aa Rover: fixed SKID_STEER_IN calculations
8e4a003d8d RC_Channel: removed pwm_out variable from RC_Channel
60ae67992d autotest: fixed mavlink update path
896fd52aa1 AP_AHRS: fixed functions that need to be virtual
eb3c9ab79e build: fixed SITL build flags
6cc4aadc06 Plane: report compass health in SYS_STATUS
8459da202c AP_AHRS: prevents compass flyaways for plane and rover
b280857025 Copter: use common angle wrap code
3a1e9e43a1 Rover: use new angle wrap code
a165f0d138 Plane: removed old angle wrap code
091b474a1d AP_Math: added wrap_360_cd() and wrap_180_cd()
a8bd8950c8 Rover: enable HOLD with throttle failsafe by default
9eaa764f42 Rover: report smaller of two sonar distances
ad7e8bd9c4 Rover: added SONAR_DEBOUNCE option
caaf32211e Rover: new failsafe logic
0ed3061d32 Rover: added waypoint passed logic to RTL
d02a127b7e Rover: change version to 2.40
e4a4cb59e0 Rover: fixed timeout for obstacle detection
7c4dfa6698 Rover: fixed speed scaling for steering
caf5e5b7c5 Rover: added HOLD mode
d968a7c7ed Rover: log obstacle events
7b04747366 Rover: identify as a rover in MAVLink heartbeat message
829a000aa5 Rover: fixed sonar reset after the turn time
a25fede6bb Rover: added range of sonar distances and voltages
de02f98d28 autotest: added license and safety statement
4a56b4a145 build: fixed SITL build on windows
0ffc7dab6b SITL: added GPS speed down to SITL state
f6ddc4e4a1 autotest: added GPS vertical speed to the sitl simulator
7db7d7db77 Plane: change FBWB altitude control algorithm
fcde3ceb24 Plane: also avoid rudder on takeoff with TOFF_HEAD_HOLD==0
93f7e61b66 UBLOX GPS: fix MSG_SOL typo
a49fe272ad Plane: replace gps fix with status
6cb47cee6b Rover: add support for GPS fix type 2D
27309a553f GPS: fixes after review
c2055557f5 Plane: add support for GPS fix type 2D
f7d977fe37 Copter: add support for GPS fix type 2D
24044dc0c4 AHRS: add support for GPS fix type 2D
d7454bb09e GPS: add 2D fix type
f077f54e6a Plane: added TKOFF_HEAD_HOLD option
92ddd4b5d1 autotest: removed 2nd getppid() call
8b21cac5fd autotest: remove dependency on getppid()
57c498b570 autotest: remove dependency on pexpect for rover/copter sim
94463fd91e autotest: copy latest firmware html on each run
526418dd90 autotest: html tidy-up
3ed71eee05 autotest: initial web page for firmware builds
01b2ecbc55 autotest: copy the build_binaries.sh script before running
8ec5ba9cec build: autobuild stable and beta binaries
c76f8a5242 Rover: fixed AUTO_KICKSTART GPIO pin handling
eb6c66af7e AP_HAL: added gpio->analogPinToDigitalPin() API
a88ac50e6c Rover: log the X accel that triggers auto
1d983b3f2e Plane: fixed X accel triggering of auto
a6b21443c4 HAL_AVR: fixed null termination of vsnprintf()
4fd3adbcb9 Rover: run rover sim reniced
ed6d4a1495 Rover: fixed AUTO_KICKSTART parameter markup
e0c8a9c443 autotest: fixed build_parameters.sh script
3bed733f56 Rover: added AUTO_KICKSTART and AUTO_TRIGGER_PIN options
47890dfa72 Rover: added dual sonar support
065cac76c0 Rover: use new sonar enabled flag in object
91bbf914f7 RangeFinder: added SONAR_ENABLE boolean to analog sonar object
0e8407ccbd Rover: put obstacle detection in a structure
1c52de5f20 Rover: fixed GPS test (detection of uBlox needs 10Hz poll)
1a36c3684b Plane: fixed GPS test (detection of uBlox needs 10Hz poll)
b955aed976 Copter: fixed GPS test (detection of uBlox needs 10Hz poll)
24094252fd Rover: only enter CLI is link is idle when 3 enters are hit
6948e0c473 Plane: only enter CLI is link is idle when 3 enters are hit
d22a7c64c9 Copter: only enter CLI is link is idle when 3 enters are hit
7e58bde826 GCS_MAVLink: added comm_is_idle() function
0e37ae4400 Plane: change CLI timeout to 20s
83d5a64ca8 Rover: change CLI timeout to 20s
ce8313e8fb Copter: only allow CLI within 20s of startup and when motors not armed
6ddb99a50b HAL_PX4: create APM/boot.log on SD card
cc932973d6 HAL_PX4: remove the need for the fmu_only flag file
80bd593814 Copter: disarm motors when entering CLI
dcf21eee8f Copter: only allow entering the CLI within 30 seconds of start-up
3f6eb87f23 AP_GPS: fixed uBlox Debug() macro
8766e86091 HAL_PX4: fixed blocking bulk writes to UARTs
89c85f9c5a Rover: added shell command in CLI test menu
ae96c77add Copter: added shell command in CLI test menu
14911eff6c HAL_PX4: added a (disabled) trick for handling blocking ttyACM0
38e81adae0 InertialNav: remove unnecessary "virtual" from function definitions
a17421da27 Copter: scale HIL accels consistently with Plane code
c9576e59f9 Add set command to setup menu (and changed show command), same as for ArduCopter. Not included when building for 1280.
b4b9d80c2f Copter: bug fix to accept HIL accel values correctly
93fc9c48e5 HAL_PX4: fixed startup bug in fmu_only mode
4991ea73fe Rover: fixed CH_2 and CH_4 RC pass through
46a831fc03 Copter: add parameter "set" and "show" commands to setup menu.
54cb722f9a autotest: fixed frame sizes logging
744f610409 RangeFinder_I2C: fixed bug with interchanged min max values - add usage of mode-filter and min-max constrain, similar to MaxsonarXL
9760cdf2d7 Compass: corrected space
952c56e990 Copter: fixed barometer init in HIL sensors mode
ac06b5e62d Copter: remove unused function
36834e77b5 Copter: remove support for CLI Slider
597a4b912a Copter: fix to allow building HIL_MODE_SENSORS
ac10e7ea26 Tools: build all the PX4 copter frame types
3deaf0beee Tools: added the top level scripts for autotest
1d836db862 build: added all 7 copter frame types to binary build
ba8ba36af4 HAL_AVR: fixed build.Examples in autotest
ac69a531d3 HAL_PX4: workaround problem with APM file on SD card
d1344e8c39 Copter: remove #define for CROSSTRACK_GAIN
1b6fcad90a Copter: remove tilt compensation parameter
61e29173e3 Copter: remove unused crosstrack variables and parameters
a1295c042b Copter: fix init of wp_verify_byte so wp alt is always required
551950c573 GPS_UBLOX: fixed auto-config of baudrate
fdcb78ccf7 Copter: leonard's smoother alt-hold transition
37040adfaa Copter: bug fix for auto missions over 320m
c9571ad543 InertialNav: remove 3sec limit on position est after losing GPS
6a1aad30f1 HAL_PX4: auto-create APM directory on SD card
bb14672dab Rover: fixed PX4 MPU6000 driver for rover
150046f2b8 Copter: GPS Failsafe implemented
f9539384a1 Copter: rename failsafe to failsafe_radio
f263e81ed7 Copter: remove unused GPS and baro filters
232bdca4e2 autotest: improved skid steering test scripts
0dde0b3551 Rover: initial implementation of skid steering for APMrover2
8d8e30156f autotest: added skid steering version of rover sim start script
6ea2130342 autotest: added skid steering support to rover simulator
5ddbad6ccb Rover: remove scaling of voltage pin
7681f3b639 AP_HAL: update AnalogIn example to show voltages not raw values
af141c2487 Rover: implement RSSI_PIN
c1c967f3bf DataFlash: fixed test sketch build and run
a7541e9ad3 DataFlash: report log number when starting a new log
cf62619108 build: record git version in firmware build
d9be58fd2c autotest: add 10 mins to timeout
36ff950b12 Plane: fixed MAVLink target IDs in fence point message
8b87d3643b autotest: fixed mavlink paths
d06668f1cd build: added support for "make apm1-1280"
5762a13223 build: add 1280 build for rover and plane
5db1dbd8d1 autotest: fixed python path for mavtemplate
ba8d830754 DataFlash: start to fix example build
cb414fb652 Build: fixed location of latest/ directory
9885cc7ed1 Docs: Add XML emit to param_parse.py.  See below for more details...
fcfed2e81d autotest: build all binaries for master on each commit
9487eb6c1b Examples: Improved compatibility with Mission Planner serial terminal (CLI)
0a385cc0ff Plane: added TKOFF_THR_MINACC option
9697ff5d6d Plane: Added extra parameter to specify at what speed in auto-takeoff throttle should engage
87c6545ac6 Plane: don't trigger GCS failsafe if GCS never connected
e93888dee9 Plane: make a throttle_cruise of 0 mean always zero throttle
0bf6a52f7a Build: fix case of "com3" and add Arduino path override
66a4f6a1ec Build: MINGW can be used to build/upload apm hex
c4ea89b10a Build: Cygwin Windows build and upload fixes
26fedc543c AP_Mount: fixed scaling of the joystick speed to give better control
2294de85ac Rover: removed INPUT_VOLTS parameter
e0e22b63a7 Plane: removed INPUT_VOLTS parameter
00e905b025 AP_Airspeed: use new voltage_average() API in Airspeed driver
bf1944a36d AP_ADC_AnalogSource: fixed reference scaling for APM1 Ch6 ADC
2fc922a251 AP_Rangefinder: use voltage_average() interface for generic analog rangefinder
ce46f2f871 AP_ADC: fixed scaling factor for voltage on APM1 Ch6 ADC
5380973225 Copter: only start delay timer after reaching wp location and altitude
a73f50494c TradHeli: remove duplicate RC_FAST_SPEED definition
cb6ffc7acf Copter: minor formatting fix for report_ins
998511f506 Copter: use unsigned long for dataflash log for gps time
33bd984a91 Copter: remove unused input_voltage parameter
cb84ec9d9b Copter: add current based compass compensation
b8d492b504 Compass: current based compensation added
7f1c8fd364 build: fixed cygwin build
16270ccc47 HAL_AVR_SITL: fixed windows build
cf2d99847e Rover: use voltage_average() interface
c2fd1512ff Copter: use voltage_average() so as to avoid INPUT_VOLTS
2331c84423 Plane: use voltage_average() to not depend on INPUT_VOLTS
3e2cb92c71 AP_ADC_AnalogSource: added voltage_average() interface
b1c27407a2 AP_HAL: added voltage_average() interface to AnalogIn
0d5e731a65 Copter: add compassmot to cli
e113eb526b Compass: add get_motor_compensation
987cdaf3e1 DataFlash: make it safe to do DataFlash logging from timers
fc0b50dd82 Rover: reduce throttle more directly
476a6d0164 Copter: fix for acro throttle bug
54fffd1348 ArduPPM: version 2.3.16 for release
875103fc59 ArduPPM: Versioning cleanup, 2.3.16 should be the next official release
bcd142ec0b PPMEncoder - bug fix from previous commit
4f9b787e04 Update Tools/ArduPPM/Libraries/PPM_Encoder.h
a0b0df0252 ArduPPM: Set Ch1-4 to their fail-safe position and leave Ch5-8 at their last value
8b7c75a700 ArduPPM: Changed the behaviour of the PPM encoder: if a channel is lost retain its last value instead of a fail-safe value (except for Ch3/throttle)
bfb29ce22b Compass: remove virtual functions to save RAM
886725291c Compass: enable motor compensation for 1280
8093c98cd3 Compass: add motor compensation to HIL library
6b2b69535f Copter: Compass log stores/retrieves motor offsets
d8515ff85e Compass: basic compensation for motor interference
fc566096de AVR HAL: RCJitterTest example Used to test jitter on the PPM R/C input system.
daa603552b Rover: added new STEERING mode
e228bbfebf Rover: implement SONAR_TURN_TIME
318a831b57 INS: set default filter to 20hz for APM2.x and PX4
6dd549dea8 Rover: removed SONAR_TYPE option
d0f27f8830 Rover: comment/maintainer cleanup
0873f8d00d Rover: cleanup some old code
3aeb836bc0 Rover: allow sonar test with sonar disabled
cbdeb20dad MAVLink: rebuilt with new RANGEFINDER message
12d73a8662 Rover: use new AP_RangeFinder_analog class
44768c911f MAVLink: added RANGEFINDER message
8ed2f7d21c AnalogIn: run the example sketch a bit slower
e4fb54fcc9 RangeFinder: added new AP_RangeFinder_analog
be3b2ee9f8 Rover: cleaned up sonar_trigger_cm parameter
4de635aa48 Rover: change sonar_dist to sonar_dist_cm
44a279811d Rover: removed old LITE mode
efd2da3eb8 DataFlash: started on file interface
637ecd5279 Copter: updates for new dataflash API
de55e19eec Plane: updates for new dataflash API
c4e9d0961a Rover: updates for new dataflash API
66abee5544 Rover: added more sonar parameters
06dd6c2790 Rover: always build sonar code
7b524d15fa DataFlash: added log_num to dump interface
c52ef80f06 DataFlash: added Block layer in classes
36da75aacd Rover: fixes for new DataFlash API
9a3bd17cfb Copter: fixes for new DataFlash API
b3213b7113 Plane: fixes for new DataFlash API
0ffcffa81c DataFlash: fixed signed/unsigned errors in API
9b551f162c DataFlash: make the public interface much narrower
5a55fd9a2f AP_HAL: added HAL_BOARD_NAME define
20825cc903 DataFlash: removed the byte and word based interfaces
74439b4f17 Tools: removed unused/unmaintained ArduTracker
e0506bd622 Copter: inav circle initial implementation
c8f09ac219 Copter: fix compile error for PX4 re Compass logging
d6ff5ae261 Copter: add roll-pitch slew for auto modes
e297ba7d18 Copter: update default loiter gains for inertial nav
102b5da59d Copter: remove unnecessary #defines from APM_Config.h
cbde042ec5 Copter: remove non-inav loiter and wp controllers
609676e26c Copter: add logging of compass values
6f27bc7ae5 Copter: remove filters from inav loiter
1410063a14 Copter: new ROLL_PITCH_WP_INAV roll-pitch mode
574756908d Copter: set wpinav controller targets in nav calls
00bc28adcc Copter: take-off code cleanup
67c69a19ee Copter: remove baro-only alt hold
37d3e1d7e4 Copter: add zero slope checks to wpinav
b74da54c98 Copter: enable inav xy by default
53ab1d5d9b Copter: add advance track call to actually move towards waypoint
766ccdf6f8 Copter: add selection of inertial nav wp controller to APM_Config.h
fcf102b2cf Copter: inertial nav waypoint controller
e0457f21de AP_HAL_PX4: fix off-by-one error in RCOutput channel sending
4c3ee76900 AC: Moving flip speed back to 400/s to prevent oscillation around change in speed.
7d5b975da2 AC: Flip code fix
8e4c9518ea Copter: increase low voltage check to 10.5v
abd0fb9099 AC : global static variables should not be initialized to zero
a3ef58ac92 AP_HAL: moved AnalogIn example to generic examples
5b92c67286 HAL_AVR: fixed analog input with high channel numbers
fae396e64f HAL_AVR: expand analog input test to more channels
5f4c5f8201 Plane: update SERIAL0_BAUD parameter description
bf6198be40 Rover: tweaked parameters and added SPEED_TURN_GAIN and SPEED_TURN_DIST
52800e52b9 Rover: added 'level' CLI and reboot command
1cb9f71370 Rover: fixed comments
882f058e7d Rover: don't override declination on startup
06ccf8495b Rover: default magnetometer to enabled
b9a204419a Rover: removed obsolete files
4c7a1a1806 Copter: change PX4 main baud rate back to 115200
7e4d4b07c3 Rover: change PX4 main baud rate back to 115200
a77b5e9954 build: fixed eclipse build on Windows for PX4
ded192be3f build: split up the build system to allow for better board support
a84cc00580 Merge pull request #96 from jason4short/master
a9671c2d97 Git: Adding MacOS gitignore .DS_Store
139acc0530 Plane: ignore control mode changes when in throttle failsafe
1ebaa14a99 Plane: prepare for 2.70 release
c373429a6e HAL_PX4: fixed a buffer handling bug
160e5fa311 HAL_PX4: show a message if we fail to upgrade PX4IO firmware
0f239ae92c Rover: reset AHRS trim after levelling
0a0b51cc63 Plane: reset AHRS trim after a level operation
f67480fa50 AP_GPS: ensure constructors zero all key variables
93ef403529 AP_GPS: removed unused AP_GPS_Shim.h
02c5c3ec4a HAL_PX4: changed scheduler priorities
24826c0c74 Plane: default the stream rates to 1Hz
1007f2ef07 Plane: fixed a bug with setting stream rates
963231a19b AHRS: fix example sketch to use roll/pitch trim
3321db8dde AHRS: limit trim to 10 degrees
2ecf34e509 Copter: update version to 2.9.1 ahead of release
d48aebea8e Copter: updated release notes for 2.9.1-rc2
9904e9f4db Copter: update firmware version to 2.9.1-rc1
b7a4814e22 Rover: integrate automatic roll and pitch trims
9c984b18db Plane: integrate automatic roll and pitch trims
6601bd37cf Copter: integrate automatic roll and pitch trims
21de9f5f47 AP_InertialSensor: return roll and pitch trim angles
54e7bce75e HAL_PX4: cope with O_NONBLOCK not working in NuttX on ttyACM0
c989099665 Plane: enable PX4IO dual telemetry devices
8041768c67 HAL_PX4: perform automatic update of px4io firmware
8e2a20bea8 HAL_PX4: enable ttyACM0 as main console, ttyS1 as telemetry port
727f8ff029 AP_GPS: removed the old MTK16 driver
fb4e68f0f0 SITL: added SIM_GPS_BYTELOSS option
3a582663fb SITL: improve time field handling in simulated GPS
428966160a SITL: added support for MTK16 and MTK19 simulated GPS types
10cd466035 SITL: added simulation of the original MTK GPS
2ec2c58f67 SITL: added SIM_GPS_TYPE control
e8806b14ec Plane: enable MAV_CMD_DO_DIGICAM_CONTROL
a63275d284 AP_InertialSensor: expand register range in MPU6000 _dump_registers()
8c0f065ee4 Plane: fixed an integer multiply error that caused poor altitude on landing
891f35835e Tools: added build_all_px4.sh
2f677acf3b Plane: update firmware version to 2.69
899b91c162 build: fixed etags target
9f70c6c70d Plane: make CIRCLE mode hold altitude
693627d76a autotest: allow sim_arducopter.sh to take mavproxy parameters
9d3224ef34 Plane: fixed target speed reload on landing
3b8b04920a autotest: fixed rover parameters for new config
fe964fcda0 PID: change to float input/output
6cf4d11e33 Rover: cleanup parameter names and remove dead parameters
c2fd7617e1 Send FS state to gcs for AR
61e5b09f28 Send FS state to gcs for AC
88840eb759 Send FS state to gcs for AP
582d1c47b3 Rover: added filter to auto steering, and fixed throttle pid
5ee7abd892 Rover: rename Attitude.pde to Steering.pde
f1ff27ed08 Rover: major restructuring
19a282dad0 Copter: removed use of ins.temperature()
c41b927a15 Plane: added shell command for px4
e45b137816 HAL_PX4: added run_debug_shell() implementation for PX4
70f7cde9b8 AP_HAL: added run_debug_shell() hal.util method
4800c57fb4 Fixed cosmetic typo in user display message
1121254606 AP_InertialSensor: added filter frequency support to PX4 driver
5643c371b9 AP_InertialSensor: removed unused new_data_available() and temperature() APIs
7b1245937c AP_InertialSensor: always sample at 200Hz in MPU6000
9c65e98dc2 autotest: expand the comment a bit more
deb825b575 autotest: added some hints to sim_arduplane.sh
0fd9337067 Mission planner moved notice
3913c42183 Plane: fixed bit combination
c5f19f5df8 Plane: Implement issue 80: counterclockwise loiter
fa7839941f After Plane: cleanup driver declaration 4d9a74d, HIL_MODE_ATTITUDE with MAG_ENABLE=1 set results in continuous reboot/APM crash.  Added define for AP_COMPASS_HIL when HIL_MODE_ATTITUDE is enabled.
b9a5be6c8b Plane: added secondary elevator support
5d91b06de3 RC_Channel: added secondary elevator support
e762c43312 Plane: switch to an array for stream rates
02518ec95f import FollowMe into new repo
db8da71f65 Revert "AP_HAL_AVR: Improved AVRTimer micros() and millis()"
85d783d5a9 ArduPlane: fixed memory unsafe member access in GCS_MAVLINK
d418197898 ArduCopter: fixed memory unsafe member access in GCS_MAVLINK
527dcdf3b9 AP_HAL_AVR: Improved AVRTimer micros() and millis()
9d34ead486 Copter: fix up some casting issues for wp_distance
df1c0d92bd Copter: manual throttle scaling fix
a0b65a262b Copter: use scaled throttle for accel-throttle's I term
06a71af12f Copter: THR_MID used to scale manual throttle
4813526725 Copter: bug fix for autotrim's roll axis backwards
9c3b9907dd Copter: bug fix to set sonar_alt_health to zero when disabled
70371be4a1 Copter: use AP_Math's longitude_scale
7729ec950e AP_Math: longitude_scale function made public
4fd7630ec9 HAL_PX4: IO_SET_FEATURES is not needed any more
8375abdd99 HAL_PX4: fixed max storage write size
e4a204d2f6 HAL_PX4: reopen storage file on any IO error
6f5050a8b9 Copter: minor casting fixup for wp_distance
bad81a5113 AP_InertialSensor_MPU6k: remove unnecessary check of sign when receiving fifo packet from dmp
ebb7f27962 Plane: minor signed/type fixups
32d702e912 Rover: fixed logging build errors
3caaa27526 Plane: fixed build errors in logging
90e264d56a HAL_PX4: disable manual override in PX4 for now
02b4ecc273 HAL_PX4: get RC input from PX4IO board
72414085b2 Rover: logging changes to use new faster packet method
bb21194fd7 Rover: CUR and CURR renamed to CURRENT in dataflash
648caff1c6 Rover: make dataflash output all csv format
7bfe659626 Rover: rename RAW dataflash message to IMU
7297a1ff83 Plane: renamed RAW dataflash message to IMU
ce370bab0c Copter: rename CUR and CURR to CURRENT for logging
e674626fd6 Plane: rename CUR and CURR to CURRENT for logging
6f46f4a7d0 Plane: logging changes to use new faster packet method
fb1358a629 Copter: make all message output csv
d2767b911c AP_Math: switch get_distance_cm to return uint32_t
0056bfadd7 Copter: rename ROLL_PITCH_LOITER
d7409b6a25 HAL_PX4: startup in low priority to fix CLI
7359348e2c HAL_PX4: added support for /fs/microsd/APM/nostart
8f2f4b1bc5 HAL_PX4: use write() to /dev/pwm_output for servo output
9178022a73 Plane: don't change trims if radio_in is zero
9b4c75c66b RC_Channel: don't change trim if radio in is zero
b74fe10aa9 Copter: set each flight mode's nav_mode
aaecc25ac7 Copter: leonard's inav2
fd02cfe706 Copter: added set_nav_mode to control initialisation of nav controllers
8af605cafc Copter: set update rate to 50hz during esc calibration
f9d43f4c3e HAL_PX4: prevent loop() overruns using hrt
70227d5d93 HAL_PX4: added scheduler performance counters
0e79b93289 HAL_PX4: added storage performance counters
fc8065b50f HAL_PX4: added UART performance counters
6cf1d5e1ff HAL_PX4: handle IO errors on microsd
deafbf1f56 Copter: inav loiter comment changes
542e2e1358 AP_PerfMon: fixes to make it work under AP_HAL (almost)
966b9b9b9c HAL_PX4: format panic messages with a newline
c9799fb2b7 HAL_PX4: writing more than 512 bytes at a time can cause IO errors
68fc9ac1d8 Copter: add "f" to end of float constants
952df2fced HAL_PX4: new buffered storeage driver for microsd cards
911e090e07 Copter: typo fixed for trad heli config
9a09f086d2 Copter: Leonard Hall's inertial nav ver 2
7ab3d93ed4 Plane: fixed typo
49356b790b Plane: limit number of bytes read per GCS check
47cc247046 Copter: limit number of bytes read per GCS check
f72b532405 HAL_PX4: ensure all writes go via buffers
2a10727902 HAL_PX4: run timer thread as SCHED_FIFO
930e79a9e1 HAL_PX4: fixed rcin->valid() for RC override input
06e63d3167 HAL_PX4: use pthread_yield() in main loop
6e8501603c HAL_PX4: avoid RCOutput ioctl unless values change
89cb3fbd61 HAL_PX4: fixed blocking IO in UART driver
6ffa18fa61 HAL_PX4: rewrite UART driver to be much more efficient
37be83994f SITL: allow motor multiplier to work on quad simulation
f0469a21f2 AP_Baro: fixed timestamp on baro for PX4
80eaa52ed8 AP_Compass: use report timestamp on PX4 for accurate timing
ab1978ad50 Copter: Leonard Hall's inertial nav based loiter
6f1035debc InertialNav: added 300ms timeout after which error from gps heading will be set to zero
6565d83e73 InertialNav: Fixed signs, remove body-frame rotation, apply correction at 100hz.
546ed19ffc HAL_PX4: improved efficiency of serial writes
18cfd29f2f HAL_PX4: added a read buffer to the UART driver
f303554259 Copter: run serial0 at 57600 on PX4
0b03df4e69 Rover: run serial0 at 57600 on PX4
346f6cb903 build: fixed dependency generation for PX4 build
9efcdd7926 build: add CONFIG_APM=y to build
db0bd86317 HAL_PX4: name the eeprom file after the sketch
f60d657f72 AP_InertialSensor: added timer for accumulating samples for PX4
3d0cb755d2 AP_InertialSensor: user a timer to drive data collection on PX4
b9b3ef91a1 AP_Baro: added timer to PX4 driver
1188c9e335 HAL_PX4: added Util instance
9813468640 Plane: fixed mavlink fetch of 16 character parameter
ae5f46abc9 Copter: fixed mavlink fetch of 16 character parameter
6fa5837f71 Rover: fixed mavlink fetch of 16 character parameter
4d9a74d742 Plane: cleanup driver declaration
52f560a4c2 HAL_PX4: enabled AnalogIn driver
4deee014d6 Plane: setup PX4 airspeed analog port
ed94292c25 HAL_PX4: start adc driver in rc.APM
e42cf918fd HAL_PX4: added AnalogIn driver
39e28d48c2 HAL_PX4: switched scheduler to use a pthread
4200593206 build: added EXTERNAL_SCRIPTS to PX4 build
ffb2924dd4 HAL_PX4: added APM startup script
6a5421a361 AP_Baro: ask for maximum poll rate for PX4
dde713aaa5 Arducopter: Backing out my changes for a new Loiter Repositioning mode.  Leonard and Jonathan's work will trump this.
74f7b0f218 AP_Baro: added accumulate method to PX4 driver, and fixed scaling
96b87e3b44 Plane: fixed test baro printout
2e04d4827a Plane: run PX4 console at 57600
a341d59ed0 Copter: fixed test code warnings
33bcd50284 build: added configure_px4fmu to clean target
0655b1a925 HAL_PX4: fixed thread_running on failed startup
16d72ca160 AP_InertialSensor: update PX4 driver to use read() method
aff5b1559d Rover: added SERIAL0_BAUD parameter
74e3d64e62 AC Fix BATT_CURR_PIN number
76ebcb9980 PX4 makefile: 'make configure_px4fmu' on px4 source before build
580abf1106 Copter: fixed PX4 mag orientation
583ec2b236 Rover: fixed PX4 mag orientation
f9cb9e08ae Plane: fixed orientation of PX4 compass
6119201307 AP_AHRS: ensure compass is non-NULL for set_board_orientation()
577bf865b3 Copter: update firmware version to 2.9-dev
7294d9ef35 AP_Menu: fixed build with older compilers
843692ee5d autotest: more tweaks to Rascal parameters
76092eb590 AP_HAL: remove unused peek() interface from UART drivers
e852d6300f AP_HAL_AVR: fixed multi-channel RC output
9058949558 Plane: fixed some warnings
4fa7bb1486 Add AVR compatibility header for missing math.h definitions.
5631f865b2 Update floating point calculations to use floats instead of doubles.
d00b06d449 Filter: added a butter filter to example
befc6b7b9b Filter: fixed butter filter build on px4
2ce18f588b AP_HAL: added AP_HAL_Macros.h
53ea7c564e Butter filter: needs header guards
a11705915c autotest: tweaks to Rascal tuning
25e4dcf52b Merge pull request #17 from jschall/filter
c66571b87d Filter: added 2nd-order butterworth filters.
ccaa7a52ef Copter: RTL bug fix to initial step is always a climb and not a descent
2dab40abeb Copter: bug fix to altitude check of verify takeoff
148c227d73 Copter: update firmware version to rc5
04677bfb95 Copter: constrain auto roll and pitch to 45 degrees
82004d691f Rover: use common log reading function
fa3a4c68b6 Plane: use common log reading function
56f22f9226 Copter: use common log reading function
c6b006cf5f DataFlash: move log reading logic into common library
b3290d489d Merge pull request #16 from jschall/patch-1
d6b3d370c3 Correct spelling of run_navigation_contollers
b60d60c220 Remove README_AP_HAL, which is woefully out of date
caf4a278ad README: rewritten to be up to date
36cb7bad26 Merge pull request #14 from julianoes/ppm_encoder_small_fix
01a990a3fb ArduPPM: Sorry forgot to push version number of PPM Encoder for ATMEGA328p
5ba7084a21 autotest: useful HIL start script
56591e920d autotest: lower GPS delay for ArduCopter to 400ms
da90dfa454 autotest: cope with existing auto mode via mode change
a8b9e5cf5b autotest: disable wind drag
5418827f22 Copter: update parameter descriptions for FRAME and CH7_OPT
98f5e27dc3 Copter: small correction to RTL_ALT_FINAL param description
70736362c6 AutoTest: update parameter names that have changed in 2.9
c00453eb7b Merge pull request #12 from julianoes/ppm_encoder_small_fix
bd9c61562f HAL_PX4: added -d command line option to app
64a8a8e4c9 HAL_PX4: fixed using mavlink on the console
8bbc93bb04 Copter: added CH7 switch to enabling/disable the sonar in flight
df2137ed72 Copter: constrain loiter so that it never commands more than 45 degrees of lean in lat or lon directions
fef7569dee Copter: added experimental LOITER_REPOSITIONING #define to config.h
76f032160c Copter: relax altitude check in verify_takeoff
9d0f117c5d ArduPPM: Another small fix found by John Arne
ca5689c8b7 ArduPPM: small bugfix, small speed-up proposed by John Arne
4c4b6afaff HAL_AVR_SITL: fixed log dump
4609114a81 HAL_Empty: fixed example build
a3556c8cf8 HAL_AVR: fixed example build
7a051616ec Tools: fixed build_examples.sh to not depend on board in config.mk
d844a1ba3c AP_InertialSensor: fixed PX4 example build
98a55bf2a1 AP_Limits: removed old declaration
ca1070f10e Rover: fixed a build warning
8ac95d6034 ArduCopter: updated release notes for 2.9-rc4
c1fa850d10 ArduCopter: update firmware version to 2.9-rc4
c447b4b79b ArduCopter: move setting of land's yaw mode to the do_land function
08dc730d40 ArduCopter: bug fix to LAND flight mode not actually landing if initiated from failsafe
175f69a64f ArduCopter: smooth throttle when switching from manual throttle to alt hold
9ad6f711f8 ArduCopter: replace FS_THR_RTL_MIN_DISTANCE with wp_radius
19abdc3cd3 ArduCopter: update release notes for rc3
12f885c33c ArduCopter: disable ITERM logging by default
fbed8b8861 ArduCopter: alphabetized the contributors list
5965914039 ArduCopter: increase firmware version to 2.9-rc3
b0c710b67f Copter: move read_AHRS() before run_rate_controllers()
f25f1cb3bf ArduCopter: changed alt hold to use the sonar if enabled and healthy
109b1069d8 AP_InertialNav: added constraint to how large local accelerometer offset corrections can become
21b6c78d12 ArduCopter: added get_throttle_althold_with_slew to allow slower altitude target changes
f683cff9e2 DataFlash: speed up SPI transfers in DataFlash_APM1
164246c7d8 ArduCopter: better instructons for setup_motors cli test
4e183f4321 autotest: move hash link to new github repo
72c8a14e76 Copter: fix trad heli log build
6bd361b9cd OpticalFlow: make surface_quality uint8_t
78fd5bb23f Copter: get rid of remaining Log.pde warnings
f644a356c9 AP_AHRS: document more rotation combinations
38062bbb6d AP_Math: support some more rotation combinations
28352b3548 Plane: ensure ahrs.init() is called
36e38eeef7 Copter: ensure ahrs.init() is called
c88766850a Rover: ensure ahrs.init() is called
848fc3e32d AP_AHRS: added AHRS_ORIENTATION parameter
d7996acdf7 AP_InertialSensor: added set_board_orientation() method
60a4447a86 AP_Compass: added set_board_orientation() method
8015f0f626 DataFlash: update SITL implementaion for new API
3039c37f95 Copter: use macros from common header
92c9a4c1ce Plane: start update logging for new API
bfaf91affe Plane: use an enum for flash log message types
9ef1f8509b DataFlash: update test code for new macros
83b074dd87 DataFlash: moved macros into common header
f3005c4267 DataFlash: use bulk SPI transfer() method
a06202e750 HAL_SMACCM: added bulk SPI transfer() method
3dc0a990a1 HAL_Empty: added bulk SPI transfer() method
b5b7fd2f9a HAL_AVR: added bulk transfer() method
6415f00ce3 AP_HAL: added a bulk transfer() method
d7eeeab79e ArduCopter: fix new style Log.pde build for PX4.
86f667f6cc Plane: added new SERIAL0_BAUD parameter
af8f576c67 AP_HAL_SMACCM: add LICENSE file
3d0a4394b6 DataFlash Empty: conform to blockread/write virtual if
87627d883b ArduCopter: use new logging method for remaining packet types
177da0ca74 ArduCopter: fixed minor bug in logging of parameter changes to dataflash
b4bbae56c6 ArduCopter: reduce redundant event logging
af478d52bc Copter: use the new logging methods for 2 packet types
7274d847f8 DataFlash: update for new block API
28a0ba6c4a DataFlash: added block based dataflash writes
252d11ccfa AP_GPS: initialise _step to zero in all drivers
64734dc51c AP_Scheduler: show scheduler task slips
1cb64dacf9 AP_Scheduler: expose debug variable
0fe7901422 Copter: only print perf data when SCHED_DEBUG is non-zero
dcb181d2d8 Copter: use new AP_Scheduler library
7ddadcf34e AP_Scheduler: added new scheduler library
3e5330efc9 Merge pull request #6 from julianoes/ppm_encoder_fixes
5f84b5a5dd ArduPPM: latest changes are now disabled by default, throttle low triggering by single channel errors and also recovering from a throttle low event can be enabled with defines
ef6268f62a ArduPPM: changes for throttle low indication and also recovery after a throttle low indication are now set with defines
70ce94ee88 ArduPPM: added a define for throttle low fail-safe indication
71b2c3e13d ArduPPM: throttle failsafe is now triggered on single channel loss but recovery from the throttle low is possible
f7f408b569 Fix compile errors
2306ac6174 Tools: fixed VARTest for new API
5818dd9cd8 scripts: removed apm2beta from build tests
30b50a858d Filter: fixed a warning on PX4
6142eac4b4 AP_InertialSensor: simplify get_delta_time() API
d6ce86a746 PX4: fixed build on MacOS
7c7a215934 HAL_PX4: fixes for new Scheduler API
2fe4656a50 Merge pull request #4 from GaloisInc/master
6aecdb3d7d HAL_AVR: tweak the default serial buffer sizes
0cb8192861 HAL_AVR: ensure we can handle a 256 size buffer
585459ece9 Copter: tweak the serial buffer sizes
bea9a9d558 Plane: move memcheck_init() earlier in setup()
2e57720444 Copter: move memcheck_init() earlier in setup
cf04935438 HAL_AVR: make Console a direct wrapper of uartA
7b5153c79b AP_HAL_AVR_SITL: main calls system_initialized
4d5d08ad10 AP_HAL_Empty: main calls system_initialized
2b621dc579 AP_HAL_AVR: main calls system_initialized
25d078e2bd AP_Baro_MS5611: Don't panic if taking semaphore fails during init.
edfddbab57 AP_HAL_SMACCM: Implement new scheduler methods.
910e09fc96 AP_InertialSensor_MPU6000: fix sync/async semaphore usage with new scheduler
83adb72f16 AP_HAL_Empty: Stub out new Scheduler methods
a228519b18 AP_HAL_AVR_SITL: Implement new Scheduler methods
930a789b25 AP_HAL_AVR: Implement new scheduler methods
7a0f95c11c AP_HAL: add Scheduler methods in_timerprocess, system_initialize
6d64bf2921 AP_HAL_SMACCM: Semaphores fixup
892a322574 Arduino.mk: default config.mk port changed to ACM0 (for APM2)
9abf3d2c0f AP_HAL_SMACCM: Panic if taking a semaphore held by current thread.
ea3b405959 MAVLink: moved CRC table into program
f3783b0306 AP_GPS: put SIRF init_messages in progmem
dbad61816b AP_InertialSensor: only build Oilpan driver on APM1
2c603a0960 AP_Baro: only build BMP085 driver on APM1
63634c4e8a HAL_SMACCM: fixed build warning
130aaae168 HAL_AVR: switched to 8 bit mask
03b26c7d6d AP_Motors: fixed setup of ESC update speeds
21e979910f Copter: improved 'FRAME' docs
ea6147162a AP_HAL_SMACCM: fix to goofed PPM_MAX_CHANNELS macro
2dd757a20f cleanup: removed archive directory
8f5da03f93 AP_HAL_SMACCM: guard compilation on CONFIG_HAL_BOARD
59365f1b90 AP_HAL_AVR: UARTDriver guard needs AP_HAL_Boards.h
268dd85319 Arduino.mk: more verbose default config file, with default HAL_BOARD apm2
ec02aab5d7 Rover Makefile: don't include targets.mk directly (included by apm.mk)
0ff6ed12b1 ArduCopter Makefile: Don't include targets.mk directly (included by apm.mk)
ab5522a20a AP_HAL_SMACCM: remove meaningless example dir
7142368a97 mk: wibbles clean up output a little
7374e5d84e ArduCopter: Use 16-bit arithmetic when comparing event tick counters.
0160a10ba7 AP_HAL_SMACCM: Increase scheduler stack sizes.
46b0742710 AP_HAL_SMACCM: Fix pin conflict between uartC and I2C.
7827a4a54a ArduCopter: Add AP_HAL_SMACCM support.
ab37f833db MS5611: Fix CONFIG_MS5611_SERIAL definitions.
4e0806186f AP_HAL_SMACCM: Implement RCInput driver.
8e38ef6567 MPU6000: Flip Y and Z axes for SMACCM_HAL.
1309b7332a MPU6000: Use signed addition when accumulating readings.
e575c5eba0 Copter: read baro at 50Hz
8cb0ed364a AP_Baro: read 4 pressure values for every temperature value on BMP085
269804e866 Copter: use barometer.accumulate()
91ad870f11 Copter: check bitmask in more logging functions
1ce1fa3864 AP_Baro: update example to use accumulate()
8ceabc97f1 AP_Baro: added accumulate() function
8f424cdf21 AP_Compass: ensure we check we got the semaphore
e76c77e86a AP_HAL: mark semaphore take operations as WARN_IF_UNUSED
90523ae975 AP_HAL: added WARN_IF_UNUSED macro
8e1bee3a5e HAL_AVR: make _taken volatile
f48790a56e AP_InertialSensor: poll for new data in num_samples_available()
4ab1cddd15 AP_InertialSensor: ensure we always have the SPI semaphore for MPU6k
9b972af307 AP_Baro: skip timer if we don't get the SPI semaphore
66073ee94f autotest: ensure JSBSim is dead on restart
9d6d59b1dd autotest: fixed jsbsim on fedora
d5d2fc667f autotest: use mktemp instead of tempfile
dc66708856 MAVLink: cope with available() returning -1
a237b6cc7b Copter: update for new AP_Param API
e0f052dd9a Plane: update for new AP_Param API
1104d45a2c Rover: update for new AP_Param API
7be1335b3a AP_Param: removed copy_name() and add token to find_by_index()
914247ac13 Merge pull request #1 from wiseman/fixreadme
bc11130642 README fixes. No functional changes.
860f4b2605 Copter: merge the latest 2.9 changes into master
c9fe7fe932 MAVLink: use buffer send and fast CRC if possible
df91734883 MAVLink: import latest upstream messages and headers
feeebae03f GCS_MAVLink: added comm_send_buffer()
7f20f720e8 HAL_AVR: started I2C in high speed mode
75c1666302 CPUInfo: added note on dataflash write cost
c8ae665ac3 AP_Param: added copy_name_token()
44285cfbad DataFlash: fixed a semaphore bug in APM1 dataflash code
8cf4cbf611 Tools: use parallel builds in build_all.sh
d11dde578f Copter: a useful bit of timing debug code
647b3b09b6 Copter: ensure we process deferred mavlink messages
d952ccf968 Copter: added main_loop_ready() function
b39166b71a MPU6000: fixed minor timing bug
f93a7d50eb AP_GPS: fixed debug code
5ac23d358f HAL_PX4: update for new i2cdriver interface
319e1a4e84 HAL_PX4: support setting servo rate
0660873fa7 AP_HAL_AVR: pull-up UART RX lines to fix GPS spoofing (Tridge)
1b7b096b05 AP_Relay: fix pin used on APM2/SITL per Sando on drones-discuss
b079a96eaf Copter: removed GPS_STATUS message
c48714be16 Copter: enabled PX4 sensors
f7e5f88199 AP_GPS: make UBLOX driver a bit more robust
3b0398dc14 AP_GPS: fixed UBLOX example for PX4
dd27984eac SITL: instansiate EmptyI2CDriver with EmptySemaphore
0db60464f7 AP_HAL_Empty: add semaphore to I2CDriver
4c31cc0c2b AP_HAL_AVR: add semaphore to I2CDriver
3da864499d AP_HAL Semaphore: don't use limits, they don't work on c++
bb4474fa6d AP_HAL_SMAACM: Add timeout for SPI transfers.
eca1417858 AP_HAL: Add semaphores to I2C driver.
30447018d5 HAL_PX4: handle %S in format strings
c16db01395 HAL_SITL: add pragma pack
08d518e07f HAL_PX4: switch to libc vdprintf()
c15bf95e19 AP_Baro: fixed example build on AVR
84bd10d279 HAL_PX4: minor cleanups
aa64a41512 AP_Baro: removed debug line
5829d44a22 HAL_PX4: disable failsafe handler
0fcc6d7389 HAL_PX4: added an RC Output driver
4fe7ad6267 AP_Baro: added averaging to PX4 baro driver
38f56be2c4 Plane: enable hardware sensors on PX4
26bc278181 AP_Compass: use queue length 10 in PX4 driver
dbcaa4cf3c AP_Baro: average over multiple samples in PX4 baro driver
44837a11f2 HAL_PX4: added baudrate support to UART driver
965fc8a9d1 HAL_PX4: enable uartB as GPS port
2f111b857b AP_GPS: ported test code for PX4
f701d0cc85 AP_GPS: a couple more places where we should restart
3bfff4bd6d AP_GPS: pragma pack is needed on ARM
741174f5d5 AP_Compass: first cut at a PX4 compass driver
477ed294c6 CPUInfo: begin_atomic/end_atomic have been removed
1fb3f01f5b git: ignore some more file types
2ac6541526 AP_Baro: added PX4 barometer driver
cf5d102912 AP_Common: added board ID for PX4
fd23f6bd33 InertialSensor: added PX4 example sketch
ae09b31176 AP_InertialSensor: added PX4 gyro/accel driver
2e2f96d721 Plane: cope with a HIL_STATE packet before GPS init
9f423a24ad HAL_PX4: yield CPU in delay()
9e0096ddb5 Plane: fix handling of sensors HIL startup
bc3b6fcb9f AP_HAL_AVR_SITL: remove begin/end atomic, adjust timer procs
688ec864dc AP_HAL_AVR: deprecate begin/end atomic, timer procs run on resume
ea2a03344e AP_HAL Scheduler: remove begin_atomic and end_atomic from api
8f4a2e4c0e AP_HAL_SMACCM: Scheduler timer process implemented correctly.
d84ba8ef59 Use HAL suspend/resume timer procs rather than atomic.
578c4859e4 AP_HAL_SMACCM: Update to new semaphore interface.
155fca8a4b HAL_PX4: make APM sketches into daemons
8503f3e2ae Optflow: uses new Semaphore
d808c19c10 AP_InertialSensor_MPU6000: uses new semaphores
5d91f342bb AP_Baro_MS5611: uses new semaphore lib
a556a95565 AP_ADC: uses new semaphore interface
390e96311e DataFlash: change to new style Semaphore library
f178d1bd02 AP_HAL_Empty: implement new Semaphore interface
2d6b649aa4 AP_HAL_AVR: Semaphore unit test
0029148b3a AP_HAL_AVR: Implements new Semaphore interface
74e2ba2168 AP_HAL_AVR Scheduler: _in_timer_proc is volatile protected
81d77d4a70 AP_HAL: New semaphore interface
acf05a29ee AP_InertialSensor_MPU6000: Poll status register if there is no data ready pin.
264db3670e AP_Baro: Add CONFIG_MS5611_SERIAL option to choose between SPI and I2C.
5753ae5692 AP_Baro: Add I2C support to MS5611 driver.
a4af314b57 Add AP_HAL_SMACCM implementation.
1fc95a2d45 HAL_PX4: support PPM RC Input
e729a8b277 AP_HAL: rename Semaphores cpp file to match header
38bccee230 HAL_PX4: initial RCInput driver (overrides only)
85007cb766 HAL_Empty: fixed throttle in Empty RCInput
d492b72a2c HAL_PX4: use /dev/ttyS0 for uartA
1e69b88261 HAL_PX4: use write() in panic()
ac7117245a HAL_PX4: added a storage driver
b30fa6535b HAL_PX4: support reboot
c6c336a6e8 HAL_PX4: implement peek() and available()
1c3031f50d CPUInfo: added output for PX4FMU
868269e037 Plane: switch PX4 to attitude HIL for now
cc7f4353b4 HAL_PX4: update simple example
b0f1ceb76b HAL_PX4: removed some files not needed any more
d9d5eb52bf HAL_PX4: use fd IO instead of stdio
c6305b5876 HAL_PX4: rework Scheduler using hrt calls
e8075b1657 Plane: for HIL_SENSORS for PX4 for now
9373a4e5b3 HAL_PX4: added a uartA driver
ed79e8c954 ArduCopter: correct TRIM_THROTTLE parameter comments
861a66e26e ArduCopter: remove @brief from GCS_MAVLINK class's comments because they mess up the mission planner's parsing of parameter descriptions
ba8e9c8f9e ArduCopter: revert path for reading gcs parameter descriptions
d56e9cc701 ArduCopter: change path for GCS_Mavlink parameter descriptions
4ef7e7b1c6 ArduCopter: add parameter descriptions for GCS_Mavlink objects
ef35aa63ce Rover: port rover code to PX4
94e3322e24 Copter: fixed build on px4
2294acc652 AC_PID: fixed build on ARM
e7dea077b4 AP_Motors: fixed example sketch
5053fb8acc HAL_PX4: implement atomic operations
5a70f3becf HAL_PX4: added a scheduler implementation
e25e500516 AP_HAL: fixed SPI3 Semaphores.h
886329898c ArduCopter: minor fixup to a few parameter descriptions
45b6dbf580 AP_Limit: small fixes to make parameter descriptions appear in mission planner
ac028cca74 ArduCopter: remove spaces to allow MP to parse RC Channel parameter descriptions
42a5d183da ArduCopter: added parameter descriptions for optflow, throttle and loiter pid controllers
ffa923981c ArduCopter: added parameter description for navigation and some throttle controllers
4a975d35ce ArduCopter: add parameter descriptions for loiter's lat and lon rate controllers
c595a1e9a2 ArduCopter: updated parameters for roll, pitch and yaw rate controllers.
cf409abc63 AP_Mount: add parameter descriptions
e594f18b75 AP_InertialSensor: added parameter descriptions
a3c26d44e4 AP_HAL: rename Sempahore.h to Semaphores.h
55e6544e64 AP_InertialNav: added parameter descriptions
bf77a0f2e4 AP_Compass: added parameter descriptions
9e5861ccaf AP_AHRS: small fix to parameter comments
a56b8c7b67 Tools: port a couple of test sketches to PX4
534169d148 build: fixed up px4-clean to clean both trees
7daa697f4b build: move the main PX4 build logic to APM tree
77331f6538 AP_AHRS: another attempt at updating the TRIM parameter descriptions
e6c10f4f0b AP_ARHS: add description to AHRS_TRIM parameters
92605a63ea build: give an error if PX4_ROOT not defined for PX4 build
374af1cd14 build: change from Arduino.mk to apm.mk
07eed60ae4 Plane: use new apm.mk
af647650c5 build: added makefile wrappers for px4 or AVR build
2fe77fa6fa Plane: check for APPDIR to pull in px4 build logic
2ba2e1c279 Derivative: removed reference to DESKTOP_BUILD
3f6f0b6d79 Oilpan: removed reference to DESKTOP_BUILD
e56a7eacec Copter: don't pass board version to motors
f91ddf5df9 AP_Motors: removed board type define
394dccf9a8 Copter: make config defaults match 2.9
ba1a6eb073 AP_HAL: fixed SITL build
197583be9b build: force signed char
d0ae51e92a memcheck: fixed for PX4 build
f9ab781d57 APM_Control: include AP_Common.h
456e8bfb6e AP_Common: include stdlib.h for abs()
609ef220a6 AP_GPS: more state machine fixes for MTK19 GPS
ac8fcd5b23 AP_Common: include stdbool.h for ARM
d6b00bd848 AP_ADC: fixed bool problem on ARM
d3f154bbae AP_HAL: include stdbool.h for ARM build
4764a03aaa AP_Param: fixed ARM PX4 build
3ac3aeb1b1 AHRS: fixed build on ARM
5277dd4b0f APM_Control: fixed build on ARM
5a56b845c0 Rover: use GRAVITY_MSS
ead38f917f Copter: use GRAVITY_MSS
4cdb3cd390 Plane: use GRAVITY_MSS
eb74fddd9f AP_Math: added global GRAVITY_MSS define
6901c56a2e yaw fixup
583845cc17 ahrs fixup
5923808526 AP_Relay: allow for no relay pin
3a762f891e AP_Param: fixup for ARM compiler
1b0670e67c AHRS: fixup for ARM compiler
d55acbc00a AP_YawController: fixup for ARM compiler
1a49549e3e Plane: start port of main ArduPlane code to AP_HAL_PX4
b9594e7123 Parameters: Fixing a typo
9b434d167c build: fixed CC build warnings
f7939ad179 AP_Relay: allow relay object in SITL
8d901b3f5a HAL_AVR: fixed a warning
f3f703a6d8 VARTest: removed old APM_HARDWARE defines
c97f84864a Rover: removed old file
b6295c12e1 Plane: fixes for new AP_Relay interface
4236b10edc Copter: fixed board ID string
c980b32319 GPS: fixed state machine logic errors in MTK19 driver
17a63dc76a Copter: fixes for AP_HAL merge
51d987a890 Copter: removed unusued variable
8c0d1d7084 GPS: fixed MTK19 driver for AP_HAL merge
9b2956b377 ArduCopter: increase throttle rate P to 6.0 (was 1.0) and alt hold P to 2.0 (was 1.0)
228ad2198f ArduCopter: update firmware version to 2.9-rc2
2181ec2ab0 ArduCopter: log watchdog event to dataflash
16f99ebcab ArduCopter: fix to sub system used to record failsafe in dataflash ERR message
672fdfbf71 ArduCopter: added ERR dataflash message
677b38a48e ArduCopter: first implementation of surface tracking using sonar
92e271e517 AP_InertialNav: increase baro delay to 0.5 sec (was 0.2sec) to allow slower baro updates on APM1
d400e5040b ArduCopter: turn on INERTIAL_NAV_Z in the config.h file so that it takes effect when built for the mission planner
daac540e08 ArduCopter: get_throttle_althold - add check to avoid divide by zero
af4d998697 AP_InertialNav: correct lat/lon to cm
0decd870dc ArduCopter: inertial nav - only initialise horizontal position when home is initialised
4c14010029 ArduCopter: update release notes for 2.9-rc1
576af6d487 ArduCopter: bug fix to althold desired rate calculation.  Fix from Jonathan.
02bf3ea027 ArduCopter: Battery failsafe triggers RTL only if we are more than 15m from home, otherwise it performs a LAND
ff40fa6aab ArduCopter: alt hold bug fix - should use 2x linear distance when calculating the desired rate
68b62abd38 ArduCopter with the new Camera and Relay classes for APM1 and APM2.
6abe1fe94f AP Camera changes required to work with modified AP_Relay lib.
0b2960e504 fixup relay merge
cc7f26a99b New Relay class and the subclasses for APM1 and APM2. Updated AP_Camera class.
393c893cdb ArduCopter: bug fix (attempt #2) for accel based throttle controller
e583ade62d ArduCopter: bug fix to accel based throttle controller (was using m/s instead of cm/s)
e77b54c7dc ArduCopter: bug fix to GUIDED mode.  Now checks that desired altitude was reached before deciding the waypoint is complete.
e850ab7ccd ArduCopter: add AUTO_VELZ_MIN, AUTO_VELZ_MAX and PILOT_VELZ_MAX to allow better control of climb/descent rate in auto and manual throttle modes
2de676306e Improved parsing in auto detect
0ed25cf719 Global change all references from GPS_PROTOCOL_MTK16 to GPS_PROTOCOL_MTK19
5526ca204c ArduCopter: on throttle failsafe, only initiate RTL if we are at least 15m from home
466097b383 ArduCopter: use inertial nav for current altitude and climb rate
8cfefbc275 Updated rev number in driver
5ba363b007 ArduCopter: move gcs_check function (which sends to ground station) to run when 50hz loop is not running
b8b17a4a70 ArduCopter: added AP_PerfMon library
331a73c4ac ArduCopter: remove duplicate (?) send of MSG_EXTENDED_STATUS1
6baddf4aee ArduCopter: remove unused variable last_5hz
1f5fdcdaa8 ArduCopter: remove unnecessary "Initialising APM message..."
8b62c4630b ACM: Restore Multi-mode support
bd0e018ca0 ArduCopter: restore auto-trim method but now use AHRS.add_trim
e350bfbba8 Removed 2 more degree symbols from comments
b786cf40f7 ArduCopter: change GPS dataflash message to output unfiltered gps lat and lon
37b56662bd AP_InertialNav: Jason's bug fix to inertial nav velocity and position calculations
d3cbf733ba ArduCopter: ensure RTL performs a land if a failsafe has been triggered
6e64b1b357 ACM: Precision Loiter RePositioning code. Protected behind a #define
120b494d83 Filter: #include AP_Buffer.h no longer needed now that completementary filter has been moved to InertialNav library
0fa6fdf407 ArduCopter: remove unused wait_for_yes function
e6519330f4 ArduCopter: remove unused rc_override variables to save 21 bytes
396024e802 ArduCopter: move scaleLongUp and scaleLongDown initialisation to init_home
7a5e4b8549 ArduCopter: stop unnecessary updates of target altitude and knock-on effect of too many EV message in dataflash log
1b5ff6aac6 ArduCopter: restore initial climb to RTL
52802cb29e ArduCopter: limit output throttle to 800 only for TRI which does not have the new stability patch
3aca61cefb AP_Motors: remove unnecessary opposite_motor array (no longer needed with new stability patch)
34e18ae12a ArduCopter: increase accel based throttle PIDs and add D term to rate based throttle
41cc1c74d8 AP_InertialNav: increase time constant for Z axis to 7 seconds
ac8af9a53f ArduCopter: Leonard Hall's changes to alt hold including adding low pass filter to climb rate
a76aec675a AP_InertialSensor: resolved compile warning re uninitialised variable
90d7f00965 AP_GPS_MTK16: saved 22 bytes of ram by moving error message into program space.
811550cca6 AP_GPS_MTK19: small bug fix re "==" vs "="
f4c50353b9 ArduCopter: allow tuning of the Throttle Rate D term
f778961acf Added support for Mediatek firmware Rev 1.9
9605bd8ee1 ACM: Trying to set a default MPU6K filter rate of 10Hz for TradHeli.  Doesn't Work.
d926360e81 ArduCopter: move gcs updates to run only when there are 4ms of spare time before the next 100hz iteration starts
881dae1e27 ArduCopter: remove throttle limit of 800 for quads, hexas and octacopters
6da68c53a5 ArduCopter: bug fix so AP_Limits does not use up memory if it is disabled
d8e3d5c10c ArduCopter: allow RTL's yaw mode to be overridden with a #define in APM_Config.h
557f4e65de AP_InertialNav: small performance improvement by replacing mul_transpose with direct multiplication of Z axis accel correction to specific elements of dcm
5633164fa0 ArduCopter: bug fix for compass.accumulate check in main loop (millis vs micros issue)
50d46898fb ArduCopter: allow GUIDED mode roll-pitch, yaw and throttle control modes to be overridden
ddc578fd18 ArduCopter: restore YAW to default AUTO_YAW mode instead of YAW_LOOK_AT_NEXT_WP mode
1f7614929f AP_AHRS: save trim to eeprom when set_trim is called
0ab82f8c4e ArduCopter: clear ahrs roll and pitch trims after an accel level command
7ea34d4fb7 ArduCopter: updated accel based throttle to use ahrs's get_accel_ef method
e9fa5dec0f AP_InertialNav: make use of ahrs library's get_accel_ef method to save some cpu cycles
1c08f176ea AP_AHRS: add get_accel_ef method to return earth frame accelerometer values for use in ArduCopter's inertial nav and accel based throttle
4dfe3a2d73 ArduCopter: remove weird character from navigation.pde
ab95f04a91 ACM: TradHeli Change name of attitude rate feed-forward parameters.
8e032b89ee ArduCopter: create 2.9 branch and update firmware version
18581d0220 HAL_AVR: change order of CS pin init - fixes APM2 boot problem
57bf6531b4 Progmem: use right CONFIG_HAL_BOARD #ifdefs
da10e68e87 HAL_PX4: added basic console driver (output only)
0ef003a45f AP_HAL: added PX4 board support
24a291cf66 HAL_AVR: only build on APM boards
b41440175f HAL_PX4: started on new PX4 HAL structures
0adc4afcb5 InertialSensor: add reboot option in MPU6000 test
212728be34 InertialSensor: ensure MPU6000 is out of sleep mode before configuring
edad43611d Plane: reset last heartbeat time on startup completion
85e4f67e68 Plane: added a note about the dangers of the FS_GCS_ENABL option
cf8e648558 CLI: fixed accel setup
091c14a33e SITL: disabled buffering on stdout
0186fabb3b build: allow building with the "Empty" HAL
02fb938053 Hello: added a trivial test sketch
122b8716a7 InertialSensor: added auto reset of MPU6000 on startup failure
44ad850542 InertialSensor: latch the data ready pin high on new data
fcb09c3993 InertialSensor: fixed example app for new syntax
e2edad8a3f InertialSensor: fixed last sample time in MPU6000
3fda7bbeac autotest: fixed log dumping
feb11f0bc9 PX4: mark example as nobuild for now
f4d3cd42d7 autotest: enable throttle failsafe for ArduCopter
fc953588e1 Rover: allow rover to build on APM1-1280
0c38ba958a build: default to APM2 build
f0dfcc1126 build: default to APM2 build
7b2d65e3e7 autotest: added HAL_BOARD to build config
e7b915b0f4 AP_Math: fixed error comment
463a089e5c InertialNav: fixed example build
c3dc23d295 AP_HAL: fixed warning in progmem
1a53bc783c InertialSensor: poll data ready pin instead of an interrupt for MPU6k
563ca3f79b AP_HAL_AVR: expose gpio pin 70 for mpu6000 interrupt input
1678dcc6f0 AP_HAL: GPIO INTERRUPT defines
93040e5725 AP_HAL: removed the defer_timer_process() function
9548e7e79e InertialSensor: simplify the data_ready interrupt handling
c5ba33d39a AP_Baro: fixed MS5611 semaphore handling
47358929e2 HAL_AVR: fixed attach_interrupt race condition
d54c6989ab Plane: fixed the last build warnings
8d47a739a1 SITL: fixed a return value in snprintf functions
dc2b11704f Plane: fixed a build warning
feca411943 Plane: added new TRAINING mode
cd430cb6a8 RC_Channel: added no_deadzone version of set_pwm()
f504e2ec67 InertialSensor: removed sample rate in example
9931009db2 Math: use pythagorous2() in some more places
78d98023f4 Copter: remove use of 'byte'
1cb4724b7f Plane: fixes for 1280 build
13ea0bb5d8 AP_Camera: disable relay on APM2
4a6b46c661 AP_GPS: fixed multiple GPS detection bug
fb4540a349 DataFlash: disable some debug code
f549950a9c AP_GPS: remove some debug code
3aa39da6cd AP_Baro: removed some debug code
e282554035 AHRS: removed some debug code
9a2e77b797 Plane: fully disable relay and mount code on APM1-1280
a180437028 AP_Compass: disable auto-declination on 1280
60d3df50ae AP_HAL: changed delay() to take a uint16_t
772f93ea10 Plane: fixed config for 1280
d8bed0c2aa AP_Math: fixed get_distance() function
087bf380c0 APMrover2: fixes for AP_InertialSensor_UserInteract
5231e5a959 ArduPlane: fixes for AP_InertialSensor_UserInteract
1878290510 ArduCopter: fixes for AP_InertialSenor_UserInteract
6437bd3a08 AP_InertialSenor MPU6000 test: fixed for user interact changes
9055681b3a AP_InertialSensor: use AP_InertialSensor_UserInteract
a2cf47e769 AP_InertialSensor: start implementing UserInteract
b2d69e6a8c AP_HAL_Empty: betterstreams get vprintfs
823efc4734 AP_HAL_AVR_SITL: implement BetterStream's vprintf methods
1ed6a49a7a AP_HAL_AVR: implementation for each BetterStream vprintf
7681fef988 AP_HAL: BetterStream gets vprintf and vprintf_P methods
ec8f08d743 AP_HAL_AVR_SITL: rename vprintf utility to print_vprintf
5ab4e57673 AP_HAL_AVR: rename vprintf function to print_vprintf
1b0bde2779 AP_HAL_AVR: rename vprintf files to print_vprintf
bada70d871 InertialSensor: fixed example build on 1280
8a70e173a7 AP_HAL: restrict build to right board type
3c0440b0b4 Math: use common degrees() and radians() functions
7277d4934d AP_InertialSensor: move constructor into cpp
c63c4f22e2 Plane: fixed formatting
ceb3f577d8 libraries: use new math functions
cf18534163 Plane: use new functions
06357c40f2 Copter: use new functions
be39ccf02c Rover: use new constrain_int16 function
a072afa223 AP_Math: expand some macros into functions
2ad4fed8cd Rover/Copter/Plane: change from vsnprintf to vsnprintf_P
edb076a6c5 ArduPlane: use hal's vsnprintf
2f1846165b ArduRover: use hal's vsnprintf
54b98c0a7c ArduPlane: use hal's vsnprintf
a1187519a8 AP_HAL: use AP_HAL_BOARD_DRIVER in remaining test sketches
4c715bfd04 AP_HAL_AVR_SITL: add Util driver, fix deprecated deps on HAL_AVR.h
771f2a3acf AP_HAL_Empty: add Util driver
f9eff068f9 AP_HAL_AVR: UtilityStringTest added
defc539e57 AP_HAL_AVR: implement string Utils in terms of existing vprintf
b3abe89989 AP_HAL_AVR: add Util stubs
0d702045b8 AP_HAL: Add Util member for string utilities
372c0074b1 AP_HAL_AVR: remove old style HAL_AVR classes (deprecated)
2679eabdef Cleanup: removed unused AP_GPS_IMU
678c281f78 Cleanup: removed unused AP_Navigation
4ee969f439 Tools: fixed build_all.sh script
62d7fd1a26 Plane: fixed HIL builds
a02f723f3a Copter: fixed HIL builds
cd0258c6e8 Tools: port VARTest to AP_HAL
32afc3f9ae Filter: fixed example warnings
29f5e346c2 Menu: fixed example warnings
a76688e630 Math: fixed example warnings
b8843489be HAL_AVR: fixed example warnings
b673320f72 ADC: fixed example warnings
22ada8b9c3 RC_Channel: fixed example build
62bfded26c PID: fixed example build
393455cdbb RangeFinder: fixed example build
b06e072c87 AP_InertialSensor: fixed example build
c15eb97c8d AP_Baro: fixed example build
bd2a733a6b HAL_Empty: allow example build for other backends
8beaec61a8 AP_GPS: fixed build for new syntax
958b27f06d fixup
306dc926ff Tools: allow targets to be specified in build_examples.sh
2e8e84ba8b Copter: switch to using targets.mk
23d6c79313 Arduino.mk: fixes to obey HAL_BOARD in user's config.mk
ba733dcc3e Rover: use targets.mk
940cbc900f Plane: use targets.mk
97341cc4a5 Build: added targets.mk
509e801e21 Rover: fixed RC input
7fbbc388a7 Rover: fixed formatting
4913aff8cd Plane: remove unused send_text() function
6f757ed457 Rover: fixup parameter loading
1c2a220888 Rover: more mavlink fixes
45615e5698 Rover: merge in mavlink updates from ArduPlane
d706f11be9 Rover: added nocore.inoflag
235369cfbc Rover: cleanup board config
91b94c0f6c Arduino.mk: fixed per-target toolchains
eb530b86e8 move Arduino.mk to /mk/Arduino.mk
44f860e102 InertialSensor: fixed some compiler warnings
b284d4c21e Rover: first cut at porting rover to AP_HAL
2760c182f5 Tools: fixed CPUInfo build under SITL
fc66f5594f AHRS: allow AHRS test to build with SITL
9e986801c9 Copter: fixed SITL for ArduCopter
c20481dc94 Plane: SITL has a I2C driver now
7ecf8981b9 SITL: added dummy SPI and make RCInput 50Hz
e020694c03 SITL: fixed build of apm1/apm2 target
761ab5c3e8 Plane: use AP_HAL_BOARD_DRIVER
4cff98dcae AP_HAL: added AP_HAL_BOARD_DRIVER define
abbe37be37 SITL: added emulated airspeed sensor on a pin
46f7c9e92b SITL: added basic analogin implementation
472b45bc2a SITL: fixed use of local printf() method in UART driver
7be507948f SITL: added SITL_State::loop_hook()
69bebbcaf8 SITL: removed old SITL code
0c9d37e2ee SITL: added RCInput and RCOutput
28f0ce6185 Build: use -O0 for SITL
dcc17dad94 SITL: added panic() method in scheduler
475496cee2 Revert "Arduino.mk: use target variables rather than recursive make for apm1, apm2.."
08b1c2d590 Copter: fixed GPS init
975506c840 Build: add debugging in SITL build
448fc6719f HAL_Empty: fixed return in dataflash
6627e7ea0e HAL_Empty: fixed I2CDriver declaration
5f7f6966af SITL: fixed GPS and UART startup
334b96b375 SITL: switched to empty driver for unimplemented backends
a3e20324ac Plane: added CONFIG_INS_STUB
41272614ce Plane: simplify board config defines
73f70cc596 Plane: moved to new GPS init syntax
18db7b2efd GPS: move _port setting to init()
107ab1a694 AP_Baro: translated to SPI transactions
b502732249 AP_InertialSensor: rewrite basic code for spi device transactions
3153105682 AP_HAL_AVR: spi transaction handle null RX properly
992de8c2b9 AP_ADC_ADS7844: changed to use spidevicedriver transaction
b43b003777 AP_ADC: fix typo in test
5c1e7abf0e AP_HAL_Empty: add spi driver transaction
4fe889c9c5 AP_HAL_AVR: Implement bulk SPI transaction
d2f7402243 AP_HAL: add bulk transaction to SPIDeviceDriver
087b1fa196 AP_HAL_AVR: AnalogIn returns new ADCSource each time a channel is requested
d5a46ca1e3 AP_ADC: uses scheduler panic
d92e8045c1 AP_Baro: uses scheduler panic
2c2279722b AP_Baro_MS5611: use scheduler panic
a4f41c1d29 AP_InertialSensor: MPU6000 uses scheduler panic
90670cb499 AP_HAL_AVR: panic in spidevice0
885fc79af5 AP_HAL_Empty: add panic method to scheduler
9656b0ad0e AP_HAL_AVR: add panic method to scheduler
c86004d676 AP_HAL: Add panic method to scheduler
a70a299c49 ArduPlane: refactor Makefile targets in terms of Arduino.mk targets
9a28ed2df6 ArduCopter: refactor Makefile targets in terms of Arduino.mk targets
8fe3c5e5d6 Arduino.mk: use target variables rather than recursive make for apm1, apm2..
76dabef7d6 AP_HAL_Empty: fix public declaration for i2cdriver
eda450a166 AP_HAL: I2CDriver bug fixed for pure virtual base class
de6f9e52b2 AP_HAL_Empty: finished up scaffolding
4c930b77a4 DataFlash_Empty defined
b7cd4312f3 AP_HAL_Empty: more scaffolding complete
7d27e420ae AP_HAL: remove unnecessary Arduino.h includes
6a56f72918 Build: added empty Arduino.h
98ead51801 SITL: fill in a lot more of the AP_HAL SITL backend
4a54ffb523 Baro: use local include to reduce boilerplate
07d8690fbe Tools: convert CPUInfo to AP_HAL
d473203737 Build: added global board targets
3cc204321c AP_Motors_Class: add Progmem typedef
8d0c56a19a AP_Curve: put template in cpp file
6ea38432b9 AP_Progmem_AVR: prog_char typedef was deprecated in avr-gcc 4.7, add compat def
3e3c0f57ae AP_HAL_Empty: started building out the scaffolding
b79bd01761 SPIDriver: namespace explicit to better permit copypasta
527dfb5af4 AP_HAL: remove EmptyUARTDriver
63eb1dc85d AP_HAL_AVR_SITL: separate header for AP_HAL_MAIN and Private
07be511f5e AP_HAL_AVR: move AP_HAL_MAIN into separate header
d18b9feaa1 AP_HAL: add HAL_BOARD_EMPTY to AP_HAL_BOARDS
22ac39a4ef ArduCopter: disable and remove InertialNav defines from APM_Config
104ad8f6c8 AP_Menu: save a little ram by reducing MENU_ARGS_MAX to 3
d5d97be837 ArduCopter: add param loader properly implement parameters
af12c18dea AP_Param: setup var_info and num_vars earlier
678947c65d Plane: more fixes for SITL and new AP_Param startup
8916b280fd SITL: filled in more of the HAL SITL backend
e10e3ee3be AP_HAL: fixed argv declaration to match getopt()
964bc56aa2 DataFlash: reinstate SITL dataflash code
18824c7ef5 AP_HAL: expose argc/argv in hal.init()
ddafd4ffbb memcheck: need AP_HAL_Boards import for CONFIG_HAL_BOARD configs to make sense
5e63491994 ArduCopter: fix issues with HAL/HIL mixup and baro/compass instances
21d0da84a6 ArduCopter: temporarily disable AP_Param::setup_sketch_results
a0151aa66c ArduCopter: fix cliSerial null ptr, do AP_Param::setup_sketch_defaults
1e48d0fc69 Makefile Targets rewritten to use per-target extension style
524e52f449 ArduCopter: changed makefile to inherit environments properly
d93d932831 ArduCopter: defines fixes
2aa4657315 ArduCopter: changes to use CONFIG_HIL_BOARD
f060df9747 AP_HAL_AVR: now that we can detect the APM revision, use wdt reboot on apm2
ade7099d75 ArduCopter: add AP_HAL_MAIN
7622b725c9 AP_Limits: fixes to use hal.storage for eeprom access
b0b3fa33b4 AP_Limits: fix for AP_Param var_info registration in AP_Limit_Module
5bd7046a95 ArduCopter: sketch cpp builds!
8b49208771 ArduCopter: some fixes
13c044ab3e ArduCopter: fixes to radio.pde
7af03127f6 ArduCopter: more work
b90889dd11 ArduCopter: add ArduPlane's compat.h & compat.pde
70f4739522 ArduCopter: more fixes
4b84e99f85 remove dumb user hooks comments
901c692ee3 arducopter: type fix
f281d9265e ArduCopter: reworked sonar analog source creation
d9e0bbbbab ArduCopter: first pass at AP_HAL porting
304afd45e1 AP_Limits: export all internal headers from AP_Limits.h
b7a7eceef8 ArduCopter: add nocore.inoflag and Arduino.h
f1869d1aa6 AP_GPS: GPS_406_test ported to AP_HAL
4c5aaef245 removed AP_PID test, deprecated and forgotten
308281f252 DataFlash_test ported to AP_HAL
a28c614fbe remove RC_Channel2 test sketch: deprecated by AP_HAL
c4b8959202 DataFlash: added SITL headers
a4fdfd999c remove AP_RangeFinder_test: deprecated by AP_HAL
d6cb240468 AP_GPS: GPS_NMEA_test ported to AP_HAL
d42cbb791f HAL_SITL: start filling in more of SITL framework
1342a82ba7 HAL_AVR: catch atomic nesting errors
e57834d763 DataFlash: added SITL header
551ff0c8b8 AP_HAL_AVR: prevent build of AVR code on non-AVR platforms
9b15d0e714 Build: update makefile for SITL build
e82deca305 Plane: updates to support AP_HAL SITL
a78699113d Plane: fixed Makefile for new AP_HAL build approach
7046fc05e2 Plane: change to send_text_P() for progmem strings
7c6dd0736e Plane: use hal.storage for eeprom access
2c1682f310 InertialSensor: use AP_HAL progmem
7582c882e6 Motors: updates for new AP_Param API
9d1f43928c Mount: updates for new AP_Param API
f393389db2 Progmem: removed desktop specific progmem handling
9b3ed0b683 AP_Limits: updates for new AP_Param API
265707401f memcheck: fix for new HAL_SITL
fc8bd8cf95 SITL: updates for new AP_Param API
306d53b4ae PID: updates for new AP_Param API
cead629fc4 Filter: fixed merge error
4aa16303ed RC_Channel: updates for new AP_Param API
c064becf28 AP_InertialSensor: updates for new AP_Param API
62e396167a AP_InertialNav: updates for new AP_Param API
18fb9c67f6 AP_GPS: use AP_Progmem
69af1add15 Declination: fixes for AP_HAL progmem interface
c181498e36 Compass: updates for new AP_Param API
53470aff09 AP_Camera: updates for new AP_Param API
dbd9814327 AP_Baro: get rid of apm2_hardware parameter in init
cafeaf91d6 AP_Baro: updates for new AP_Param API
b5a23d934b Airspeed: updates for new AP_Param API
5c148153ac AP_AHRS: updates for new AP_Param API
a18298ed76 APM_PI: updates for new AP_Param API
e45f32a4b6 APM_OBC: updates for new AP_Param API
9349259487 AC_PID: updates for new AP_Param API
5a9ba4aeb4 APM_Control: updates for new AP_Param API
95d4cc2ce9 AP_Param: change method of loading defaults
562b6a20c9 AP_HAL_AVR: conditionally build AVR specific helper code
54bab59066 AP_HAL_AVR_SITL: add initial scaffolding
81d77d2bf4 Plane: fixed Makefile targets for AP_HAL
f8dec9ae4a ArduPlane: fixes to use CONFIG_HAL_BOARD instead of CONFIG_APM_HARDWARE
475da4eca4 CONFIG_HAL_BOARD - test sketches fixed up, build all passes
25e597d3b3 AP_HAL_AVR: Refactor APM1 and APM2 instances to use CONFIG_HAL_BOARD
fa02ad7d4c AP_HAL: preprocessor enum of HAL_BOARD
da99f5f283 Arduino.mk: compile with CONFIG_HAL_BOARD define from the user's config.mk
2ea243e45b AP_Baro: removed unused code
13309cceb3 AP_GPS: reverted formatting of GPS messages
cb70590227 AP_HAL_AVR: remove Dataflash driver
9cee6cc941 AP_HAL: remove Dataflash driver
c441f02426 ArduPlane: init DataFlash obj
00cd4b1857 AP_HAL_AVR: Do not init HAL's dataflash
7d70ff409d AP_OpticalFlow: use max() macro
6ee32ea872 AP_Limits: reverted parameter doc changes
b70f7f57ba AP_Compass: restore low speed change on register read failure
7b9b088261 DataFlash: AP_HAL port fixups
a14621534c ArduPlane: port from hal.dataflash to old DataFlash api
aaffd9d96e DataFlash: APM2 ported to AP_HAL SPIDeviceDriver
4f07a90b2e DataFlash: apm1 fixups
ef1db1a3fc DataFlash: don't take a delay_cb
0e5ff36c6c DataFlash: DataFlash_APM1 rewritten in terms of AP_HAL spi primitives
a81de007d8 DataFlash: headers switch to use AP_HAL SPI device driver types
cc699a2a4e DataFlash: conform to ordinary stdint types
92b0c302f2 ArduPlane: Ported to AP_HAL
fff4e87619 Arduino.mk: allow user avrdude flags
8b6ad6d559 SITL: removed SITL_debug()
38031edc9d AP_InertialSensor: removed spurious init() method
c9a81d7de6 AP_InertialSensor: fixed sign of 16 bit SPI transfer
dbcc4fc6a5 AP_InertialSensor: variable wibble
9aca19415a AP_InertialSensor: robust semaphores
1019fb45e7 AP_InertialSensor: remove sei in data interrupt handler
af852aa6a9 AP_HAL_AVR: init dataflash from HAL init
7f02993994 AP_HAL_AVR: less chatty Dataflash
09c14f3807 AP_ADC: more robust semaphores
bfd03ab40c AP_Baro: robust spi device
60f7788be4 AP_Baro: robust calibration
eaa0a990a4 AP_Baro: MS5611 robust semaphores
52925b655f AP_Baro: MS5611 uses delay in busy wait
6943d32d76 SITL: fixed to build under AP_HAL
4d0b1e6571 AP_Relay: add init method
70a3ee738a gcs console: uartb fixup
7017a35fc3 AP_Airspeed: fix for AnalogIn read_average
8f99a12374 AP_ADC_AnalogSource: fix for new AnalogIn interface
a6d80af9ed AP_ADC_AnalogSource: obey changes to AnalogSource interface
2be552ea22 AP_GPS: less chatty autodetect
d72c5cf828 AP_GPS: uartB fixup
5840ded767 AHRS: removed constrain() defines
09e7b0b592 AHRS: removed unused variable
70f34656bc AP_AHRS: uart1 -> uartB fixup
eb81a3934e HAL_AVR: removed extra min() define
f9c8f93b37 AP_HAL_AVR: Dataflash APM2 does a better job detecting no df card
aff1e56e82 AP_HAL: fixed AnalogIn example sketch
13f7bd1723 AP_HAL_AVR: AnalogIn supports read_average & read_latest
f9e9b8a7ef AP_HAL_AVR: move scheduler's timer-hw dependent methods to a separate cpp
d9f69923f2 HAL_AVR: fixed int types -> uint8_t
b1856bc17e HAL_AVR: fixed warnings on all PSTR() usage
857c0b69e5 AP_HAL_AVR: fixed interrupt attach for MPU6000
31bb300f81 AP_HAL_AVR: fixed bounds check for rc input
a79adcb7f4 AP_HAL_AVR: comment wibbles
8d97596ea0 AP_HAL_AVR: RCInput has overrides
cb38651df5 AP_HAL: RCInput has overrides
dfdc14f583 AP_HAL_AVR: Console uses only sized int types
8879cbbc69 AP_HAL: Console uses only sized int types
2ee214ee36 AP_HAL_AVR: AnalogIn uses only sized int types
de4adefe4e AP_HAL: AnalogIn uses only sized int types
9455d4c297 AP_HAL_AVR: UARTDriver impl uses only sized int types
243590bb73 AP_HAL: UARTDriver & Stream uses only sized int types
ba07ae283f AP_HAL_AVR: sized ints in GPIO
709869f8ce AP_HAL: use sized ints in GPIO
765e2da8a7 AP_HAL_AVR: analog input fixed when ANALOG_INPUT_NONE
2826a605ba AP_HAL_AVR: Dataflash debugging
ff09314ab8 AP_HAL_AVR: SPI debugging
d504db195e AP_HAL_AVR: add sei in defer timer process
0f3e30a0c3 HAL_AVR: fixed race condition in delay()
ca4bc8d760 AP_HAL: AnalogIn read changed to read_latest and read_average
6218d7779f AP_HAL: expose DF_LOGGING_FORMAT to user
3bca50f422 AP_HAL: BetterStream removes printf attribute from _printf_P
88f09d100a AP_HAL_AVR: fix implementation of delay in scheduler
0b7a55b9f6 AP_HAL_AVR: AnalogIn hack to make vcc read work
6e45ce12b2 AP_HAL_AVR: implement reboot in scheduler
592d32ba47 AP_HAL: add reboot to scheduler
04d7b5ffe4 AP_HAL_AVR: implement changes to AnalogIn
7049934a69 AP_HAL: AnalogIn channel gets scale, source gets set_pin
50b765616b AP_HAL_AVR: change uart0,1,2,3 to uartA,B,C
dbb6a2a0e5 AP_HAL: change uart0,1,2,3 to uartA,B,C
d4e350f574 remove APM_RC, deprecated by AP_HAL
3b4e2296e9 remove nobuild.txt from deprecated AP_Var directory
4370f1d4e4 remove ArduBoat sketch, deprecated since removal of APO
d53572e163 remove DigitalWriteFast library, deprecated under AP_HAL (&goodriddance)
2b904703d8 remove AP_PeriodicProcess library, deprecated under AP_HAL
5b9738bba1 remove Arduino_Mega_ISR_Registry library, deprecated under AP_HAL
1d21cea032 remove AP_AnalogSource library, deprecated under AP_HAL
3987e81e2a remove APO library, deprecated under AP_HAL
97e190a641 remove SPI3 library, deprecated under AP_HAL
bc4b196f6f remove I2C library, deprecated under AP_HAL
db31608aa2 remove AP_Semaphore library, deprecated under AP_HAL
ec8b56db7d remove FastSerial library, deprecated under AP_HAL
ada10f6eb2 ArduCopter: change comment references to AP_Var to AP_Param
39d14c8a93 PID: ported to AP_HAL
40f254af51 memcheck: ported to AP_HAL
f4f3062df1 AP_Relay: rewritten for AP_HAL
71a360b3e3 APM_PI: ported to AP_HAL
2244ac295c AP_HAL_AVR: improve RCInput documentation
b89c45735b AP_HAL_AVR: provide 'int main (void)' impl as a macro
a639f7c34f AP_HAL_AVR: rename FastSerial example to UARTDriver
52f6d67238 AP_HAL_AVR: add ArduPlaneLibs test sketch
d47f77f8dd AP_HAL_AVR Scheduler: support nested atomic sections
f543cede01 AP_HAL & AP_HAL_AVR: new SPI driver model
2a12392b9e AP_HAL: export semaphore header
03eb5a1beb AP_HAL_AVR: gpio and scheduler renamed arduino to avr
2e32ec3013 AP_HAL_AVR GPIO: rename Arduino to be AVR
17b951c45b AP_HAL_AVR Scheduler: rename Arduino to be AVR
b2c44d8a81 AP_HAL: move AP_Semaphore to be part of the HAL
5f48193ea0 AP_HAL_AVR analog in example: use new constant for board vcc, and vcc not vdd
0c3e59a307 AP_HAL_AVR: AnalogIn channels respect pins, obey NONE input, all common
f4b5ef9fad AP_HAL AnalogIn: gets constants for BOARD_VCC and NONE
b7c4cc20ac GPIO: optimized read, write, and mode for DigitalSource objects
054f35e33d AP_Camera: ported to AP_HAL
f935f1ae31 AP_InertialNav: did my best at a meaningful test sketch
af4806666f AP_InertialNav: ported to AP_HAL
c393374d4c AP_OpticalFlow: ported to AP_HAL
a38ce8962e AP_Rangefinder: ported to AP_HAL. Only officially supports MaxsonarXL.
47f555feac AP_HAL_AVR: I2CDriver increments lockup count on any error
93f6267334 AP_HAL_AVR: create ArduCopterLibs test sketch
c1114168e4 AP_Baro tests rebase fixups
e787b5ccd9 AP_Buffer: ported to AP_HAL
c9541d3b00 AP_HAL: added begin_atomic and end_atomic to scheduler
197a685923 AP_Semaphore: ported to AP_HAL
f490f2432d Arduino.mk: norelax.inoflag will disable -Wl,--relax on a per sketch basis
9bf69d4e0d AP_AHRS: port to AP_HAL
6cc231ae7d AP_Mount: ported to AP_HAL
eefb0f4515 APM_OBC: translate to AP_HAL, make trivial test sketch to test build
3b1150d857 AP_Menu: ported to AP_HAL
ec53515648 AP_Param: eeprom translated to use AP_HAL. No unit tests available!
87c55f68c2 AP_HAL_AVR Storage: conform to new API
7908e41416 AP_HAL Storage: use a int type rather than pointer type for location
c4d9b5e328 AP_HAL_PX4: added stdio.h
2669c33476 AP_HAL_PX4: added main program as include
28353cd683 AP_Progmem: check for PX4FMU_BUILD explicitly
3a2e138994 AP_Common: no c++ magic for PX4 build
be00b2f681 AP_HAL_PX4: brief disclaimer
c5221c34a5 HAL_AVR: don't auto build PX4 stuff yet
64a79f3598 AP_HAL_PX4: Stub Console implemented
166eff180d AP_Progmem Identity: switch to straight typedef of prog_char_t to char
9f69254c00 AP_Progmem: identity to use regular strings as PSTRs
e9d41312ca HAL_AVR: automatically find tests to build
2d363e0683 AP_HAL_PX4: trivial console header
a4f1f6a5db AP_Progmem: fix dependencies for all sketches touched by AP_HAL_AVR
a399851ca2 AP_HAL: Depend on AP_Progmem rather than AP_Common to provide pstr
5c738810e2 AP_Progmem created: progmem macros per specific platform
a2f97ac7c7 AP_Common.cpp: Delete empty cpp file
f58935d1e7 AP_Common c++ lib: eliminate freeMemory and displayMemory
9f9c183a4d remove AP_Vector.h as deprecated
925223341d remove AP_Var: deprecated
488fb9750b remove AP_MetaClass as deprecated
d50d0682e9 remove APO library: deprecated
68ee5fa0f4 AP HAL Readme: updated for changes to scheduler
668caa4a2e Fix calls to AP_HAL::Scheduler::register_timer_process
bae7e4b88e AP_HAL Scheduler: simplify register_timer_process, min time for delay cb
6a59ad143e AP_Curve: made into its own library
53105efbcd HAL_AVR: more uart0 -> console changes
d133f15f57 HAL_AVR: use hal.console instead of hal.uart0
ecd67ad79b HAL_AVR: added more build examples
87e300b119 AP_HAL: added double print functions
e663f5feab HAL_AVR: use ccache if available
f269172d96 HAL_AVR: fixed build of remaining HAL_AVR examples
978c7ae329 HAL_AVR: added build_all.sh script
49e1f452e1 HAL_AVR: fixed I2C example build
f8047f158d Arduino.mk: Changes to asm opts for compatibility with avr-gcc4.6
1cd09be2fd AP_HAL_AVR: proper empty uart for APM1 vs APM2
de81267bd5 AP_HAL_AVR: utility/vprintf.cpp fixed for avr-gcc 4.6
afa1143506 RC_Channel: ported to AP_HAL
c6fe5e5340 AP_Motors: ported to AP_HAL
95a13bdbd2 APM_Control: ported to AP_HAL
9f9dfc7c63 AP_Limits: fix spacing to 80 columns, use standard cpp header guard conventions
3503c7627a AP_LeadFitler: ported to AP_HAL
4acf2c8591 AP_InertialSensor: ported to AP_HAL
11bf533c57 AP_HAL_AVR: implement GPIO::attach_interrupt just for interrupt 6
7480707f9e AP_HAL: Add attach_interrupt method to GPIO
d422ab7806 AP_HAL: Extend Scheduler to support defered timer procs
53432a1101 AP_Compass: ported to AP_HAL
9aada26e34 AP_Declination: translated to AP_HAL
5d40074e4e AP_Baro: port to AP_HAL
c56c4ae240 Various example sketches: hal.uart0->begin(115200) is redundant. use console.
11cfde1e46 AP_HAL_AVR: I2CDriver initialize in HAL init
ce8dc5fd5c AP_AnalogSource: obsoleted by AP_HAL. Renamed to AP_ADC_AnalogSource.
dfc8e91fd3 AP_Airspeed: port to AP_HAL
84e0dd406e Filter: ported to AP_HAL
30deb76ea3 AP_ADC: ported to AP_HAL
050a878935 AC_PID: Ported to AP_HAL.
73ccfaf2d7 AP_HAL: implement DigitalSource abstraction
deb96143d3 AP_GPS_IMU: fix type punning warnings by using memcpy
9ed023aeb4 AP_GPS: Builds under AP_HAL. Not tested.
e83504f80d AP_HAL_AVR LCDTest: fix build
6d9ac42618 GCS Console: add lib implementing message handling from DATA16 and DATA32 msgs
40734bc2f2 AP_HAL_AVR Console: bugfix on buffer bytes free vs used
fd89bacbc8 GCS_MAVLink: wibble to mavlink_helpers.h to fix build.
2a72c7e730 GCS_MAVLink: Regenerate mavlink1.0 implementation
a86a696311 GCS_Mavlink: add the DATA16 and DATA32 messages definitions to ardupilotmega.xml
ed19ff7f2f GCS_Console example: implement a trivial mavlink gcs
6661f827fa GCS_MAVLink: port to work with AP_HAL class rather than FastSerial
f2b21ecc41 AP_Param: Port to work with AP_HAL class instead of FastSerial
7dbe198e5c AP_Math: port to work on coreless arduino (AP_HAL)
f63fb29d52 REAME_AP_HAL: minor fixes
e932abb7b5 AP_HAL: Documentation for ConsoleDriver
95bfe29298 AP_HAL Readme: documentation for Scheduler added
52adb462a9 AP_HAL_AVR: Finished implementation of AVRConsoleDriver
98f86d0288 AP_HAL_AVR: Console more complete, but still not 100%
6f4d208ffc AP_HAL_AVR: fixup in vprintf header
f889d5ac13 AP_HAL_AVR: trivial ConsoleDriver implementation
017f592eef AP_HAL: add ConsoleDriver interface
a3a6482fd3 AP_HAL_AVR: vprintf implementation exists outside of class hierchary.
36154559fc AP_HAL: change txspace from a BetterStream method to a Stream method.
9a653a1a75 Update README_AP_HAL.md
bb8526190b AP_HAL Readme added at  top level
72f8667d9c AP_HAL_AVR: AnalogIn implemented
279a755ab3 AP_HAL: AnalogIn interface fleshed out
01e34825f3 AP_HAL_AVR: Scheduler unit tests
ba7a596ec3 AP_HAL_AVR: Scheduler extensions implemented
6671310399 AP_HAL Scheduler: interface has AP_PeriodicProcess functionality
a1863ec1f5 AP_HAL_AVR ISRRegistry: use AP_HAL::Proc types instead of private typedef
af68c09591 AP_HAL Namespace: typedef Proc and TimedProc
229f58412b AP_HAL_AVR Storage: commit test
187571cca9 AP_HAL Scheduler fixes & AP_HAL_AVR Scheduler changed to match
2adfc4fbc5 AP_HAL Scheduler add method register_delay_callback (unimplemented)
1d89419059 AP_HAL: Scheduler should use stdint types, conform names
a9dff1ad25 AP_HAL_AVR: bugfix to SPIDriver.cpp
177da8ea5b AP_HAL_AVR: Bugfix to SPIDriver_MPU6000 (works now)
8ffec83b73 DataFlash: fixes to lib include and make the test smaller
06441b4117 AP_HAL_AVR Dataflash implemented, tested for APM2
9beba972c8 AP_HAL_AVR: Dataflash instances stubbed out based on /libraries/DataFlash
34ec5081e2 AP_HAL: Dataflash interface populated
3b697fe299 AP_HAL: rename Log to Dataflash
5d2327f52f AP_HAL: Don't need a separate Console class, BetterStream will do.
261ef791a7 AP_HAL Storage: trivial interface and implementation wraps avr/eeprom funcs
b0d8f43111 AP_HAL_AVR: Implemented SPIDriver based on Arduino, but it doesn't work yet
b2a34800e2 AP_HAL_AVR RCPassthroughTest: write to upper (>8) channels as well.
1f670b4ce2 AP_HAL_AVR: bugfix to RCOutput_APM1 driver CH5 and CH6
ad64fd2924 AP_HAL_AVR: RCOutput_APM2, bugfix to get_freq on CH_10 and CH_11
875e928628 AP_HAL_AVR: mostly working implementation of RCOutput_APM1.cpp
d8ceb427f4 AP_HAL_AVR wibble: s/OUT/CH_/g to be more clear
5445ad02f8 AP_HAL_AVR: RCOutput tested implementation for APM2
0f96c93362 AP_HAL_AVR: Add RCPassthroughTest test sketch
25bc452608 AP_HAL_AVR RCInput: fixes found in testing
71ea0fc755 AP_HAL_AVR example RCInputTest created
ec0fddd49a AP_HAL_AVR: HAL_AVR initializes rcin and rcout
776a1074c9 AP_HAL_AVR: check in utility/ISRRegistry
064faafdd3 AP_HAL_AVR: stub RCOutput implementations for APM1 and APM2
acfbddef0d AP_HAL: proper RCOutput interface specification
fc2e1455a9 AP_HAL_AVR: proper RCInput implementations for APM1 and APM2
fb6abbe191 AP_HAL: proper RCInput interface specification
2c14a77693 AP_HAL_AVR: add ISRRegistry class, member of HAL_AVR
db76562cd5 AP_HAL: global rename PPMInput -> RCInput, PWMOutput -> RCOutput
46f31aa69c AP_HAL_AVR: Implement I2CDriver based on libraries/I2C
e14729e7d9 AP_HAL_AVR: FastSerial port passes FastSerial example sketch tests
cae931a93a AP_HAL_AVR UARTDriver does basic hello world printing
83887cfc87 AP_HAL_APM: basic LiquidCrystal based sketch to test hal gpio & scheduler
e9c5f07db2 AP_HAL: Working GPIO interface & implementation
474f57a90a AP_HAL_AVR: Blink sketch - first working code on coreless
ea8242ace1 AP_HAL: Add scheduler interface, move Arduino init code to implementation
59a94d5aac AP_HAL_AVR: implement ::init method in derived HAL_AVR class.
18329b1a5d AP_HAL: add virtual init method to HAL class
3b2719dd8c AP_HAL_AVR: build APM1 example sketch with no Arduio core via nocore.inoflag
75279dfa43 AP_HAL_AVR: header include fixups
0d342a3293 AP_Common: use EXCLUDECORE macro to hack some debug messages away
7854c54880 Arduino.mk: when core is excluded, add -DEXCLUDECORE to flags
4493dbb4d2 Arduino.mk: support nocore.inoflag to do coreless builds of each sketch
8eb9b39a44 AP_HAL_AVR move library classes to their own AP_HAL_AVR namespace
afd1f36400 AP_HAL: add BetterStream, Stream, and Print interfaces
b34d4cdb17 Remove empty AP_Var_menufuncs.cpp
3f1d9d7f69 AP_Param: #include <AP_Param.h> fixups for libraries & sketches
c4dbe8c627 AP_Param: move from AP_Common to its own library
e82d1402ef AP_Loop: moved to APO library, which is the only code that uses it
29a425c0dd AP_HAL: import utility Print, Stream, and BetterStream headers
00920b0483 AP_HAL_AVR: Stub implementations of AP_HAL_AVR concrete classes
dc03b1190f AP_HAL: Stub implementations of pure virtual AP_HAL classes
33e47e2036 Rover: set throttle range from -100 to 100
d5364571a8 ArduPPM V2.3.13 - New interrupt system that handles certain Futaba receivers better (simultaneous changes on groups of R/C channels in fast intervals) - Improved active channel detection requering 100 valid pulses before channel is marked active
0419dc8dfd ACM: Simplified control mode code
19ae5c30eb ACM : Formatting
dda74afa21 Mission Planner 1.2.27 add extra decimal place on arducopter config screens update ch6_list fix quickview double click error fix terminal/logview comport problem add AC thr accel pids modify driver (line ending issue) and resign fix config view doubleclick popout
2586c7a32a Updated the MediaTek configuration to set the minimum speed the GPS must be moving to update the position to 0 m/s. to enable SBAS / WAAS / DGPS position fixes.
52177c63f7 ArduCopter: only attempt to change settings of optical flow sensor if it has been successfully initialised
af77425636 ArduCopter: fix Failed to Init Optflow message at startup
2f748f8382 ArduCopter: renamed BATT_FAILSAFE to FS_BATT_ENABLE
d31efebd44 ArduCopter: rename throttle failsafe parameters.
24317e721b AC_PID, AP_AHRS: added descriptions to some parameters
2f1b2b70e6 ArduCopter: added ACRO_TRAINER parameter to allow enabling/disabling the acro training function which will bring the roll back to within +- 45 degrees
dadad8677e ArduCopter: added descriptions for most parameters that did not have them
a38db6744f AP_Motors: add comments for parameters
f522ef078e ArduCopter: remove unused functions do_target_yaw, do_loiter_at_location, get_altitude_error and clear_new_altitude
047f848cc7 ArduCopter: remove ThirdOrderCompFilter from list of includes
6cf94e20e7 AP_InertialNav_test: small change to #include in example sketch
395eb25041 ThirdOrderCompFilter: delete because now combined with AP_InertialNav library
154e3c33f7 ArduCopter, AP_InertialNav: consolidated ThirdOrderComplementaryFilter into AP_InertialNav to save about 200bytes of RAM
a84d9110bd AP_Buffer: add size 5 float fifo buffer to predeclared types
cfe2507c0b ArduCopter: reduce Rate Roll/Pitch P to 0.150 (was 0.175) and increase I to 0.1 (was 0.01)
56ceb230cb ArduCopter: add YAW_OVR_BEHAVE to allow control of when autopilot takes back control of yaw after pilot overrides it during a mission
0f7bb79d89 ArduCopter: add comments to tuning parameters.
49619b15dd RC_Channel: move RC_CHANNEL_ANGLE, RANGE, ANGLE_RAW type definitions to .h file so they can be used by the main sketch
9a05d3bd36 ArduCopter: add comments at the top of many navigation functions
8c2423f618 ArduCopter: code clean-up.  Changed update_nav_wp to use a switch statement and relocated to navigation.pde
b36eb406d4 ArduCopter: allow alt hold to be engaged with alt < 1m because sometimes we get baro drift.
b4e5176e2a ArduCopter, AP_InertialSensor: restore mpu6k sample rate to 200hz but keep default filtering at 42hz.
aa4d4f8c24 ACM: Adding Pre-Compiler Define for Stabilize Throttle Mode.
0eb57bf93d ACM: TradHeli Fix to make update_throttle_cruise work with stab_throttle scaling.
1b97a92098 ACM: Code Cleanup
f98a807d36 ArduCopter: remove debug related to yaw mode used for alt hold
9dd978576b ArduCopter: auto yaw changes to allow pilot override of yaw during missions
85c8bdce15 ArduCopter: removed unused and out-of-date #defines from APM_Config.h
9c836ab037 Mission Planner 1.2.26 move mavlink structure/currentstate around for future mods update old firmware git hashs mod some error descriptions AP_mount camera trigger mod modify raw param display with units/range/desc add radio support for 868mhz update ch7 options updated dataflashlog format small df log parser mod for bad gps loc renable menu to always dock. right click for autohide
68ca123224 ArduCopter: remove some unused #defines
99b32a39c4 ArduCopter: InertialNav time constant CH6 tuning changed to only update enabled axis
cca9f9dbce ArduCopter: do_set_servo fix to resolve -1 being assigned to uint8_t
35f94a6f71 AP_InertialNav: increase Z axis default time constant to 3.0 (was 1.5)
3a90fc77f9 ArduCopter: add dataflash logging of camera events
d74cf54b5d ArduCopter: allow triggering of camera from a mission
d3de77f74c ArduCopter: fix do_set_servo so that it works again
653535b9a1 ArduCopter: added CH7 option to trigger camera
d11ee04888 AP_Camera: add three new parameters DURATION, SERVO_ON and SERVO_OFF to allow better shutter control when using servo.
eac26b2313 RC_Channel_aux: immediately send output to servos when set_radio, set_radio_to_min, set_radio_to_max, set_radio_to_trim or set_servo_out functions are called.
4ca27defb3 ArduCopter: update comments related to CH7 switch options
75401756f2 ArduCopter: maintain loiter control even below 1m while landing
2dd4694eef ArduCopter: adjusted pid_throttle_accel dt to 0.01 (100hz)
269e02ee93 ArduCopter: bug fix - initialise inertial nav
8d682b9812 ArduCopter: disable INERTIAL_NAV_XY by default
39d524212f ArduCopter: allow accel based throttle controller to be enabled/disabled with the new THR_ACC_ENABLE parameter.
a5bb54e36e ArduCopter: RTL clean-up and slightly improved landing sensor
6da07ef1d2 ArduCopter: increase CONTROL_SWITCH_COUNTER so that flight mode switch must be changed for at least 1/10th of a second
072ffec493 ArduCopter: allow INERTIAL_NAV to be enabled separately for horizontal and vertical position
aa5e7e63a0 ArduCopter: switch on INS in APM_Config.h (i.e. on by default for users uploading through Arduino IDE)
bdb47c449a ArduCopter: pass linear altitude error to throttle rate controllers.
d7f76ebd87 ArduCopter: add tuning of throttle rate controller's I term (THROTTLE_KI)
7b4ed2d227 ArduCopter: restored landing detector to landing throttle mode.
560bb1d738 ArduCopter: removed unused AUTO_THROTTLE_HOLD #define
7035529953 ArduCopter: remove unused get_desired_climb_rate function
a94826f182 ArduCopter: add set_throttle_mode to better control initialisation of variables
1036b35128 ArduCopter: added back in angle boost and recombined for heli and multicopter
3cbef57c64 ArduCopter: first merge of leonard's accel based altitude controller plus other changes from Randy
e6686dcab8 ThirdOrderCompFilter: remove last_time_constant_xy and _z static variables to save 8 bytes.
06d1c6b0c1 AP_Buffer: bug fix to allow buffer to completely fill up.
8b5f66255e AP_InertialSensor: add comments to give credit for accel calibration method to Rolfe Schmidt
a92b7f3477 AP_InertialSensor: add comments to give credit for accel calibration method to Rolfe Schmidt
a5c4e65cdf ACM: TradHeli Fix for Rotor Speed Controller to switch on/off with Ch8 as opposed to the old way (throttle).
8c18a60766 ACM: Small fix to Yaw Look Ahead
1d589c0b7d ACM: TradHeli Fixes for Attitude rate controllers.
5723021be1 ACM: TradHeli Creating Rate Feed-Forward Parameters
3e65dd3ded ACM: TradHeli APM_Config.h changes
315a7e8000 ACM: Yaw Look Ahead Changes
47529e9454 firmware build
898aa0b260 Plane: fixed spelling error
e4949291e5 Plane: preparing for 2.68 release
33e6edcab2 scripts: added apm2 hil to build_all.sh
805a340350 Plane: enable attitude and raw logging in HIL modes
3b18c57691 AP_InertialSensor: removed axis getters for accel/gyro
4484144228 Rover: removed INS print code
cbb97f7294 Plane: added apm2 hilsensors target
d2f9a705ea MAVLink: clarify frame of reference for HIL_STATE
15abc784ec MAVLink: use a smaller maximum payload to reduce memory
5e77119377 AP_InertialSensor: fixed stub driver to work correctly with sensors HIL
24e1af1c82 Plane: fixed sensors and attitude HIL
53951f995a Plane: fixed GPS course in HIL
567cb47d35 Plane: fixed SERVO_OUTPUT_RAW for HIL
9130045298 ACM: Code Cleanup
1104287aa2 Plane: use enum FlightMode in more places
1fcffc6de9 autotest: increase speed in fly square test for ArduCopter
f5abc2c25e Plane: switch to an enum for flight modes
8141f0b600 ArduCopter: bug fix - increase mpu6k sample rate to 100hz
b237c0583d AP_InertialSensor: Added INS_MPU6K_FILTER option
cd5ad49417 Rover: switch to IMU driven timing, same as ArduPlane
4f868e04cc AP_InertialSensor: return the example sample count in Oilpan
c7dd042909 InertialNav: update example for new interface
51080d3e9e AHRS: update example for new ins interface
d89c213d42 Rover: update for new ins interface
6fbf5ec8f2 Copter: update ArduCopter for new ins interface
a6d8dbeac2 Plane: update ArduPlane for new ins interface
089ae0f9f3 AP_InertialSensor: allow specification of sample rate in init() call
c1222a75f3 Mission Planner 1.2.25 fix scaling problem on arducopter config tab. when linking is enabled
f1206ed363 autotest: tweak the rover mission a bit
74f50012a5 autotest: allow for wildcard list of steps to be specified
ff9628accf Rover: removed some more plane specific variables
5768244671 Rover: more cleanups
547f154ba8 Mission Planner 1.2.24 failsafe: hide element not needed ap_limits back - beta add new accel setup - beta fix planner config screen exception fix quickview desc/units if never been configured
68aa5e4682 AC add ability to start new accel_scale via mavlink
3ea89eb987 autotest: cope with rover already being close to home in RTL
951e764442 SITL: prevent the GPS pipe filling up and delaying GPS readings
a9efe839d6 Rover: copy slew limit code from ArduPlane
0260559147 Plane: fixed throttle slew limit code
1f8a61615c Rover: added more parameter docs
92026be9d6 Rover: use slewrate code from ArduPlane
697c386075 Plane: use correct throttle range in slewrate
845dd88091 Plane: make THR_SLEWRATE docs clearer
b2c71dac1b autotest: larger distance error allowed in fly simple test
2949d58b71 Copter: re-enable sending of GLOBAL_POSITION_INT message
a7fa6e7c61 autotest: fixed failsafe test for arducopter
fdeb6d897d autotest: added Rover testing in autotest
f9c5c94cc6 Rover: removed accel cal CLI command
aac088dc5b Rover: removed closed loop nav
2bca51ed0f Rover: changed default WP radius to 2m
ff41e057d9 Rover: added partial update of waypoints
691d19dd98 Rover: more cleanup, and fixed navigation code
a16ba57467 Rover: cleaned up a bunch more plane cruft
471ed9429a SITL: cleanup RC control for rover support
919d0ac8fd Mission Planner 1.2.23 ammend serial dispose on usb devices detach add item currentstate item description and units ammend battery screen for 3dr power module add trackbar zoom to flight data add unit desccription ammend PREFLIGHT_REBOOT_SHUTDOWN timeout
a620665772 autotest: first version of a rover simulator in python
b2899dc9c4 Rover: added in sitl object, needed for throttle control
45390badb1 autotest: test rover SITL build
f3c077b76d Rover: fixed SITL build
8f845f897c autotest: test apm2 rover build
54a722158a Rover: fixed cliSerial and clean out more gunk
5e7ca5b0f8 AC_PID: suppress the derivative immediately after reset
816fe9d35a PID: use NAN to flag a D reset
eac1ad49d6 AC_PID: save 8 bytes per AC_PID object
1dad9e4e94 AHRS: improved some more doc strings
eb1d5c2c68 AHRS: improved docs for AHRS_GPS_USE
07d7d90882 ACM: TradHeli Bringing in Low Pass Filter for Rate Controllers
5b4321d367 cleanup: removed unused AP_PID library
6b8c39dd10 ACM: Creating Yaw_Look_Ahead yaw mode. This function is not fully tested yet.
f6fce1e238 PID: don't reset _last_error on reset_I()
3f0e8dd358 ACM: TradHeli Bringing in Low Pas Filter Commented out because it does not build. Needs updates to Low Pass Filter Lib
e8d619acad ACM: Begin creation of TradHeli rate control. May affect Multi-Rotors.
1d12b781a0 AC_PID: Create Leaky Integrator Function.
6b1fee767a ACM: TradHeli Creating Stab_Collective Function to allow for different collective ranges between Stabilize and other modes. This makes for a smoother collective action in Stabilize mode with manual throttle, while still allowing full collective travel in Acro and other modes.
9e45e906fb ACM: TradHeli Move some TradHeli #defines into one place in APM_Config to clean up config.h and defines.h
b32d7c8b63 ACM: TradHeli Prevent helis from arming while RSC control is switched on.
95eeda7cf7 ACM: TradHeli Removing Angle Boost function. Does not make sense for helis due to aerodynamics.  Can cause more problems than it solves.
8056b78c55 ACM: TradHeli Remove Rate I-term reset when throttle stick is on the bottom.  This could be very bad for helis since it's plausible to use full downstick while flying. There is obviously a risk here of building up a false I-term on the ground but this isn't a good solution for that anyway. Also removed what appears to be some deadwood.
637c9a1a72 ACM: TradHeli Removing this "throttle" output restriction for TradHelis.
92cd631ce5 Plane: added THR_PASS_STAB parameter
1059ef2a54 Plane: fixed secondary aileron and manual aux servos in failsafe
1a3a7d173a AP remove debug include
ed61ef61ed AP: fix ap hil.
b82c454418 Mission Planner 1.2.22 fix speed modification scale fix typo on antenna Tracker setup for ThemeManager.cs new auto hide menu
a87394fff2 Plane: don't do accel calibration in HIL mode
399e5d97a8 Mission Planner 1.2.21 Antenna Tracker mod from William Bryan Scaling mods battery screen mods failsafe screen pwm checking remove reverse radio options when we are using a quad config menu reorganise add Ateryx stuff
eaf868a0b6 autotest: run build_examples.sh in autotest
471d672e54 examples: mark some examples as unable to build
9c3865b924 RC_Channel: fixed example build
5a0632340c Filter: fixed example build
e7ad044019 DigitalWriteFast: fixed example build
2f8e467ab2 RangeFinder: fixed example build
a096a3fda1 AP_PID: fixed example build
7ea18d5a61 AP_InertialSensor: fixed example build
57d3609d00 AP_GPS: fixed examples build
3552f3f9c5 AP_Baro: fixed example build
eb5ac90e12 AC_PID: fixed example build
495dfc30e6 scripts: added build_example.sh script
5818aaad42 Copter: fixed build error
f6ec932d63 Copter: added reboot in CLI and over MAVLink
56e4cbfb1d Plane: allow reboot on APM1, and add reboot to main CLI menu
77fa51dcec ArduPPM v2.3.12 ATMega32u2 (APM 2.x) --------------------------------------------- - New improved fail-safe detection and handeling for single or multible signal loss and receiver malfuntion - Improved LED status for APM 2.x - Improved jitter performance (PPM output using nested interrupts)
dc9438e57f ArduPPM(experimental): bug fix - Removed compiled firmware files to prevent acidentally spreading of experimental firmware.
dfb123e869 Merge remote-tracking branch 'origin/master'
e077814e77 ArduPPM(experimental): Active input channel detection during init
74daf73c49 AP_InertialSensor: increase acceptable Z accel offset to be 3.0 G
12e19617f5 Merge remote-tracking branch 'origin/master'
e596978756 ArduPPM: Experimental PPM encoder to test possible fail-safe detection improvements.
cd07d965a7 Copter: ported RSSI_PIN option from ArduPlane
2e63b3ae8e AP_GPS: added in two more dynamic model enums
d5e1a75616 APM_RC: fixed APM1 example sketch
d0a2feb99c APM_RC: added a test for ISR masking in APM_RC
3372355e07 ArduCopter: remove commented out remnants of roll_scale_d and pitch_scale_d
e32e0b03b4 DigitalWriteFast: added keywords for syntax colouring in Arduino IDE
eb6d8fca57 ArduCopter: added ReleaseNotes.txt
6ffc115236 Changes to get_throttle_rate() Commented out a bit of code that is not used currently Change the output constrains to #defines so they can be easily changed, particularly for use in TradHeli.
dbdb3e1194 ACM: allow fetch of parameters by index
3e0f4345e7 firmware build
f8a95e4084 APM: preparing for 2.67 release
0dc8dd5394 SITL: run the timer_scheduler() when there are no SITL packets
a71c7b336d Revert "APM_RC: Modified get_last_update() to be more interrupt friendly"
24adc1aaa3 Rover: make it possible to run the CLI over a radio link
bcae83c4f6 ACM: make it possible to run CLI on radio port in ArduCopter
84300c85d6 APM: make it possible to run the CLI on any serial port
11141d0af0 INS: make it possible to do accel cal on a different serial port
d44ceb3fa5 FastSerial: added a vprintf_P() function
ba4b9b9961 AP_Menu: allow menus to work on ports other than UART0
e194c6c740 APM_RC: Modified get_last_update() to be more interrupt friendly
704da2a5d9 MAVLink: make it possible to enter the CLI over the radio
8f108e2eb3 APM: added AMP_OFFSET option
61f2e18e2e APM: allow ailerons to move fully during servo demo
fcbd3a823b APM: added a new type of auxilary aileron, with rc input
d2170230f4 RC_Channel: added aileron_with_input aux function
a5e3ce4655 remove cli planner mode - no longer used
0c84b8abf1 fix unit max. and unit type
07f5baea9e SITL: added in recursion check in timer_handler()
833d433caf Semaphore: switch to SREG = oldSREG pattern for interrupt mask/restore
6836a986f3 PeriodicProcess: switch to SREG = oldSREG pattern for interrupt mask/restore
f843705da3 INS: switch to SREG = oldSREG pattern for interrupt mask/restore
e331634bc5 AP_Baro: switch to SREG = oldSREG pattern for interrupt mask/restore
fc63087cb8 AnalogSource: switch to SREG = oldSREG pattern for interrupt mask/restore
c1a02e49a0 ADC: switch to SREG = oldSREG pattern for interrupt mask/restore
ccb1f1722e SITL: fixed a interrupt recursion bug
3c88b0d204 AP_Param: fixed Vector3f elements with 16 character names
800d1e8020 VARTest: remove old NAME_LENGTH limit
39836eabb2 Rover: support 16 character parameter names
bcf740a82f ACM: support 16 character parameter names
a600ccece5 APM: support 16 character parameter names
b0713ba412 AP_Param: support up to 16 character parameter names
58a0cfc0b3 params: fixed ordering of vehicle parsing
4683df4a21 params: fixed parsing of value lists with -1 elements
c008ca7560 ACM: fixed documentation of disabling voltage/current pins for ArduCopter
a7e537d6c0 INS: set the acceptable calibration error equal on all axes
40fc0feaf9 INS: show calibration values on failure
a5ed0de2cf APM: set MANUAL_LEVEL to 1 on successful accel calibration
85e050f16c INS: get check for send_msg the right way around!
fd3993287d INS: disable accel calibration on the 1280
9c811671f1 INS: make calibrate_accel() return a bool
152c12c283 INS: fixed raw accel offset for APM1
3776e6108f INS: use vector subtraction to make code clearer
2f287846b5 APM: don't use mavlink msgs for accel cal in cli
3aeaf2ece6 APM: k_param_imu is now unused
69fbcc8683 MAVLink: fixed accel and gyro sensor offsets in MAVLink
f80783665f APM: fixed throttle display to always be between 0 and 100
8ccac5da3d AP_InertialSensor: correct typo to datasheet's filename
5a214acca3 AHRS: changed the docs for AHRS_YAW_P and AHRS_RP_P
810da878e7 ArduCopter: performance monitoring - changed loop counters to uint16_t.
71f8166818 autotest: fix a race condition with baro noise on startup
dafaa2efc8 SITL: disable optical flow on the desktop build
17c115d2aa SITL: don't define __AVR_ATmega2560__ on desktop build
7181780d3a DigitalWriteFast: added README about license and author
a3c3c59b82 ACM: fixed some memory cast warnings
8311062610 AP_OpticalFlow: fixed some memory cast warnings
10b8030e62 AP_Limits: fixed some memory cast warnings
fe23d27904 SITL: added SREG declaration
9e9c08b6d7 DigitalWriteFast: fixed memory cast to work on SITL build
7b733cd12b APM: fixed altitude_filter for new LowPassFilter syntax
8d1905a40b APM: change WIND direction to match convention
283fb7e606 Rover: added support for finish line waypoints
07a7a1acd8 ArduCopter: replaced digitalRead and digitalWrite with faster calls improved performance logging to dataflash
67fadd337d DigitalWriteFast: first addition of lib to speed up read and writes of analog pins
957d366cca Filter: improved low pass filter allows setting gain using time_step and cutoff freq
16b5b00368 Rover: removed inverted flight support
ebaf1a1ae9 Rover: fixed the sonar
abc0a1cd38 Rover: major update, fixing lots of bugs
531e62d3b5 MAVLink: improve usefulness of logged GPS velocities
5f57678a9c ACM Nav_throttle- removed sign inversion
9c6e914bf8 Added Leonard to Contributor List.
be697724ac Improved watchdog timer reset, so that only valid input signals will prevent the watchdog timer from triggering
01dc9fbe3e APM_RC: allow ppm sum for as few as 5 channels
47b1bc30d3 APM_RC: fix _last_update definition to resolve build error
4258490cd8 APM_RC - Interupt safe get_last_update();
e92b560df5 ArduCopter: low baterry failsafe
73ed6c9dbf ArduCopter, APM_RC: failsafe if PPM encoder fails to update for 2 seconds
30e7b8e494 Mission Planner 1.2.20 fix airspeed error scale and min ground speed modify mount options add german lang fix terminal baud rate issue msi mod- single msi for x86 and x64 and all win os's
8561f08b2f AP_AHRS: prevent a large delta_t from affecting DCM solution
e9e01ae28a SITL: fixed build with new sonar driver
258442770d ArduCopter: flight mode changes ignored while in throttle failsafe
cdfd3f9ccc ArduCopter, ArduPlane: rename ap variable in GCS_Mavlink.pde to resolve compiler warning re shadowing of variable 'ap'
dcd98eee78 ArduCopter: remove some variables no longer required with introduction of AP_state
ac5dcc8d49 ArduCopter: remove last remanants of rate_d to resolve compiler warning of unused variables
4bfd3d5a29 AP_RangeFinder_MaxsonarI2CXL: fix compiler error re undefine I2c
ea7f639ebf ACM: Added fast descent with Bill P's equation for managed accerlation
69db678252 ACM: attitude.pde - adjusted the FF of the alt hold algorithm, the old way was pretty crap. increased the output range of rate controller.
c1b759d5d8 ACM: Added a speed filter for throttle cruise, increased alt change rate for alt hold, increased the max climb_rate reporting
f344eb875a ACM: Allow greater than 45 pitch and roll in Stab
be63481a8c ACM :  Logging.pde formatting
9e0b0b9fcd ACM : loging ApState at faster rate
9735a0eff1 ACM: Allow for user defined roll and pitch input max
f68523b39b AP_RangeFinder_MaxsonarI2CXL: resolve shadowed variable compiler warning
fddfb0b1a3 MAVLink: update compass health in SYS_STATUS
daa4712078 AP_Compass: force I2C speed low in a couple more situations
27ff999319 I2C:: catch some more types of I2C errors for error count
8c2dadc12f AP_Compass: print I2C error count in test sketch
321d40f73a AP_RangeFinder: added support for MaxBotix XL I2C sonar
71a0022f34 AP_IMU: delete now that all functionality is moved to AP_InertialSensor
bcb9519fd7 ArduCopter: renamed system bitmap to ap_system to resolve desktop compile issues
e212744f4c ArduCopter: failsafe improvements
96872493ae ArduCopter: remove unnecessary debug print mesage from save_trim function
95f6357d35 ArduCopter: fix APM2 build
883bb7cfc0 ACM formatting
fb2180ddcd ACM : climb rate option using Bill P's equation
129ec35c35 ACM crosstrack min distance
4b5e0a5046 ACM Logging Events
6dba79e3a7 ACM Log, formatting
549489ddbb ACM : Setup, format
c848fe18a5 APM1 Dataflash update
ecdc281315 ACM | removing old files
d2a5928c06 Ap state updates
4d7b9137fe ACM: Added max RTL altitude
bfca0ff9bc ACM: added ap_state.pde
5ad38a32bf ACM : Attitude : added nav param reset
3c78c4a7a3 ACM : Attitude.pde added ap bitfield for failsafe bit
a42c6bb609 ACM : Attitude.pde removed stabilize D
e4cec91e59 ACM : Arducopter Added ap state bitfield, system bitfield
cdabc3878b ACM: Arducopter - remove the stabilize D scheduling
d2a0913b2d ACM : formatting
5cb5618814 Mission Planner 1.2.19 check for serial port name hang. and disable add more failsafe screen status items fix mavlink log graph bug
a2423dbe83 Mission Planner 1.2.18 fix mono crash add rxrssi fix altitude mis label on mouse over in flight planner add trigger camera now action. new win8 msi
2b714ff7b0 ArduCopter: remove unused functions wrap_360f, wrap_180f and wrap_PI
97d85de361 Optimized APM_RC.InputCh() to prevent global interrupt disable each time a value is read.
50a4838879 AP_Motors, AP_RangeFinder, Filter: fixes to example sketches
56f88821e9 AP_AHRS: fix example sketch AP_Airspeed: fix example sketch AP_Baro: fix example sketch AP_Declination: fix example sketch AP_Math: fix example sketch
41489f34f9 AC_PID: fixed example sketch's compile errors
6bbf66697b AP_Mount: resolve compiler warning about unused mount_open variable
14cbe37d3e ArduCopter: remove unused get_stabilize_rate_yaw
849fd9a234 VARTest: fix compiler build after move from IMU to INS
b13264c884 AP_InertialNav: reanme AP_InertialNav and ThirdOrderCompFilter classes to resolve desktop build compiler errors
2df7a407da ArduPlane: fix HIL build
ad431d2f25 ArduCopter: fixed HIL build caused by optical flow semaphore changes
61dd405910 AP_InertialNav: removed IMU.h to fix compiler error from example sketch
5f34d41b59 ThirdOrderCompFilter3D: fix compiler error
cec96a76d7 ArduCopter: comment out InertialNav related Alt Hold and Loiter PID changes from APM_Config.h
1f801714e8 ArduCopter: incorporate new version of inertial navigation
1c7118a2d1 AP_Baro: added get_last_update which returns the time the barometer sensor was last read
e877a58b60 APMRover: fixes to incorporate accelerometer calibration
d9b4407e64 AP_InertialSensor: changes after review with Tridge.
a1b4ec6d0e ArduCopter: move to use new INS library instead of IMU library
ef727bbb3c ArduPlane: move to use new INS library instead of IMU library
68bdf93a4d APM_Control: move reliance from IMU to INS
7f190b8494 AP_InertialNav: first implementation of inertial nav library
dc7146c9ce ThirdOrderCompFilter3D: first implementation of complementary filter for use with inertial navigation
48f1955f8e AP_Buffer: initial implementation of FIFO buffer for use with inertial nav
83ae8e47be AP_AHRS: replace IMU with INS and add roll and pitch trim
49de46a548 AP_InertialSensor: merge in calibration features from IMU library
8652bfee8d APM: added RSSI_PIN option for receiver RSSI
403721f8ca AP_AnalogSource: allow for the 'NONE' pin in Arduino ADC
736cb4c34b AP_Var: move the MetaClass lib into AP_Var
cd0672ce94 SITL: set a reasonable number of satellites in simulated uBlox
fe47990dab AP_AHRS: removed the 6 sats min
d692b3baff - ArduPPM v2.3.0 (pre-release) - Single channel fail-safe detection
c7b47a0e47 APM: allow for arbitrary ranges and reversal on 2nd aileron
f58abb7550 RC_Channel: added pwm_to_angle_dz() function
ef919c4e36 AP_Param: fixed a bug with setting nested parameters
d57566ad0e RC_Channel: removed set_filter() and scale_output
6a24bdec05 AP_AHRS: require at least 6 satellites to use the GPS for velocity
e8ab62f6e5 ACM: switch to GPS velocity numbers in GLOBAL_POSITION_INT
9c140356f5 APM: remove unused variable
984b1086cb AP_GPS_UBLOX: ask for nav settings every 20 seconds
72e97c6dfc AP_GPS: start detection timer on first bytes
6f9fa7d3b3 AP_GPS: removed shadowed class variable _nav_setting
2793e432ff APM: use raw GPS velocity in GLOBAL_POSITION_INT
ea40432235 AP_AHRS: use GPS vertical velocity when available
e74e730992 AP_GPS: added velocity_down() call
27607eacbd Mission Planner 1.2.17 add nested config page add friendly comport names add some exception handlers add new old firmware hashs remove more crom.controls stuff enabled change speed
3fd07805a7 AP_Math: added rotation method accuracy test to example sketch
d6324b3964 AP_Math: fix compile errors example sketches
a9f08c9cb3 ArduPPM: cleaning
70c6739fbf ArduPPM: PWM to PPM mode
c5b68b17cd Revert "APM 2.5 board, bottom, L headers picture"
fd4d944385 ArduPPM: PWM to PPM encoder mode
fe2cd2685c ArduPPM: Redundancy mode
1de5b9a209 ArduPPM: Redundancy mode
9e3824a09b AP_AHRS: fix compile error in example sketch
249950287d Mission Planner 1.2.16 workaround for global_pos_int problem fix 3dr iv sensor pin selection add ability to disable dist to home on flight data screen remove traces of crom.controls (mono) fix arm/disarm button
0159d8bd35 AP_Motors: bug fix to reached_limits so by default it returns true if any limits have been breached
92caa59c0c firmware build
aa236c43f8 APM: prepare for 2.66
81d507d39e APM: fixed differential spoilers in manual mode
8c0296b27a APM: fixed additional aileron channels in manual mode
024e5c3cc7 RC_Channel: added set_radio() and set_radio_to_trim() functions
8c46fced16 APM: Added functionality to use differential spoilers in elevon mode
1ce3876d24 pysim: fixed testwind script
a141e16729 Pysim: add effects of wind by calcualting a drag vector (force).
1e51713e31 Mission Planner 1.2.15 fix hud battery text overlaying tweak hud resize tweak main switcher fix quickview text scaleing fix dist to mav. added french translation thanks oliver change tooltip time add 3dr iv add distance to home dataflashlog update
e479af67ff APM: fixed loiter radius docs to reflect new limit
787167dff5 APM 2.5 board, bottom, L headers picture
f7d5c372b9 ArduPPM : Redundancy mode
8a8ed7a711 ACM : Formatting
36040461df ACM : Formatting
e138b0a1d7 ACM: Added simple mode bearing logging for bug hunting
c750abfbf2 ArduPPM : Redundancy mode
7618c082c3 ArduPPM: Redundancy mode
1713279ace ACM: Formatting
5149a8c723 ACM: Added notes, credit to decel code. added speed_min to calc.
73bc90f9b8 ACM: config.h cleanup
cebcc226ee ArduCopter: change TOY_M throttle mode to THROTTLE_HOLD
4877348c49 ArduCopter: remove some unhelpful constraints on nav_lat and nav_lon.
5e8043fd9c ArduCopter: changed ACRO_ROLL_STABILIZE and ACRO_PITCH_STABILIZE to parameters
c339565457 firmware build
406a5dc328 ACM: save another 20 bytes
9592be5af7 ACM: saved some more memory for strings
78316adf75 ArduCopter: replace Serial.print with Serial.print_P to save memory.
09485ddc5f AP_OpticalFlow: fix example sketch to work with modified AP_Opticalflow library after memory saves
79fc5f072e AP_Curve: replace Serial.print with Serial.print_P to save 18 bytes of memory
57439b662c AP_OpticalFlow: change Serial.print to Serial.print_P to save 27 bytes
bff3417d29 AP_Limit_Geofence: reduce maximum number of fence points to 6 from 20 to save memory
e0393e541c ArduPPM: redundancy mode
6a40fcd56a ACM : fix compiler warning on non returning function
8842a7dc1b ACM : Cast to int32_T
a0752dc7dc ACM Acceleration management
72fb54e619 APMrover2: fixed build from AP_Menu changes
2030a9bf03 firmware build
a37a9b5b67 ArduCopter: updated firmware version to 2.8
4395fad6e9 ArduCopter: incremented eeprom format version to force users to accept the new defaults.
d728ccb620 AP_Menu unit test fixup
d4bb8a10d7 Update ArduCopter and ArduPlane dependencies on AP_Menu
1bf21aae20 AP_Menu: create new library with menu from AP_Common
eb0dd45a11 Desktop: fixed build with recent SPI changes
bfade7d0ed Fixed that last commit #define Stupid_Mistake
592f4040fd Changed RLT Yaw Mode for TradHeli.  Also a few comment cleanups.
1c08e48b4b ArduCopter: updated firmware version to 2.7.4-Zeta
583f2e49a3 ArduCopter: integrated Leonard Hall's improved ACRO mode
0bcf581a17 Desktop: fix build error
3f7b2dbda7 Desktop: add AP_Semaphore to list of includes for DataFlash_APM1.cpp
1958169e30 SPI3: add checks that SPI bus has been initialised to reduce possibility of interfering with UART3 on APM1
a2a3eed063 ArduCopter: bug fix for telemetry not working on APM1.
d2912e4e01 ArduCopter: added spi_semaphore to stop conflicts between dataflash and optical flow sensor on APM1
17afd075c1 DataFlash_APM1: use spi_semaphore to avoid conflicts with optical flow
a1b4531545 AP_OpticalFlow: added ability to pass in semaphores for main spi bus to stop conflicts with dataflash on APM1
785d9ca6a7 DataFlash_APM2: renamed semaphore to spi3_semaphore to make it more obvious which semaphore is required.
a53cbc08f3 GPS: avoid output delays in the GPS auto detection
0b171178b5 ArduPPM: Redundancy mode
401fb4101c ArduCopter: removed deprecated mag offset routine.
9e3c2dd105 ArduCopter: updated firmware version to 2.7.4-Epsilon
8519fe55d3 ArduCopter: more out-of-date commented out code removed
b944d9df26 ArduCopter: bug fix in earthframe->body frame translation.
7d7de976c3 ArduCopter: reduced optical flow's I and IMAX terms
956b347d68 ArduCopter: updated firmware version to 2.7.4-Delta
5fbe53a84d ArduCopter: bug fix for get_yaw_rate_stabilized_ef
07c291bb73 APM: fixed a comment typo
f828956cb8 battery: use set_pin() to allow pins to be changed at runtime
a979fb6014 AP_AnalogSource: added set_pin() interface
5642922ca7 RC_Channel: simplify the example
86b509a609 RC_Channel: ensure _reverse is not 0
f48568c9a6 MultiFastSerial example sketch: notes on fatal error in avr-gcc 4.5.x
e84a467311 FastSerial example sketch: Depend on AP_Common for PSTR definitions
76e93e9fd7 AP_Common: PSTR def has specific version for avr-gcc 4.6 compatibility
3784f326e8 ArduPPM: Redundancy mode
2936dbb9de RC_Channel unit test: fixed build, functionality still wrong
063cb41a11 Adding some comments to parameters.
4016f3ba85 ArduCopter: update version information ahead of testing
d75ca684cc MultiFastSerial test: make it easier to observe which serial port causes crash
d7b7e1cefa New Yaw controller using rate feed forward and stabilize.
930d387b8d FastSerial: add extra example sketch MultiFastSerial to test multiple ports
f84a12a5cb ArduPPM: Redundancy mode switchover algorithm
ee5dab9647 ArduCopter: enable ACRO mode's AXIS_LOCK by default
997fe85880 ArduCopter: fixed acro mode
6558731cff ArduPPM: Redundancy mode
1ce9e5107f ArduPPM: Redundancy mode
240b0b43fd ArduCopter: small comment fixes related to battery monitoring
775489d658 ArduPlane: added BATT_VOLT_PIN and BATT_CURR_PIN parameters to allow support for new 3DR IV battery monitor
4a41a3d210 ArduCopter: added BATT_VOLT_PIN and BATT_CURR_PIN parameters to allow support for new 3DR IV battery voltage and current monitor
dae81d2068 Added #define for Tilt_Compensation. Also added some detail to WP_Speed_Max parameter.
e22a01682e ArduPPM: PPM Redundancy mode
5e65e5ef8a ArduPPM : Redundancy mode
4e649a381c Added comment detail for Tilt_Comp Parameter. Reduced parameter default value for TradHeli.
db852ccca8 VARTest.pde: fix compile errors for autotest
ee3df88dc3 Rename: file rename
42e0aafcd9 Protocols : Jeti telemetry description
c6da744157 Test: test commit
1e79d265a1 ArduCopter: remove unnecessary (probably slightly harmful) extra barometer read
cf3e49eea2 ArduCopter: changed sin_pitch and sin_roll to faster equivalents
03933df5b7 ArduCopter: set default rate roll and pitch I terms to 0.010, and rate yaw to 0.015
35fa50234f ArduCopter: move I terms from stabilize to rate controllers
2848bb8ee6 ArduCopter: freeze I terms if motor limits breached
c0cf2d6f38 AP_Motors: added reached_limit method which returns bit mask indicating which control inputs could not be achieved
9c12adba4b ArduRover: fixed compile error related to AP_Semaphore and Dataflash
0bc1f89f27 APM: fixed typo
c9f10f0e00 APM: fixed auto-takeoff with zero lat/lng
601fe89baa ACM-HIL: fixed optflow declaration
00bf548f87 AHRS: limit wind speed estimate changes
0495a0debc APM: make error msg clearer
e8c4dedcd7 AP_OBC: fixed resume on GPS loss
bbc7f050e5 ArduCopter GCS_MAVLink: COMMAND_LONG for arm/disarm motors
8a6017ea48 AP_ADC_test: fix build of test regressions.
da374f9043 ArduCopter: Provide AP_Semaphore instance for SPI3 bus on APM2.
aa210d7e99 AP_DataFlash_test wibble
605f89fa69 DataFlash_APM2: private AP_Semaphore* rather than use extern AP_Semaphore_spi3
5ac21b71ce AP_OpticalFlow_test: fix build with NULL semaphore.
26ba391cd4 AP_OpticalFlow_ADNS3080: has private AP_Semaphore* _semaphore
6fc0d22671 AP_Semaphore.h: proper h macros
b2b0b70d03 AP_Semaphore_test: instantiate AP_Semaphore_spi3 locally.
c20a401c6a AP_Semaphore: do not instantiate or export a global spi3 semaphore.
dfcbb6d9e9 AP_Semaphore_test: bugfix to extern semaphore, add Makefile for builds.
5796ee91ca AP_Semaphore: make into separate library rather than part of AP_Common
c320938ff2 AP_MotorsMatrix: modified stability patch to sacrifice yaw first if necessary to ensure stability.
b876733c0d ArduCopter: added message to console when entering ESC Calibration on startup
c0ad98be31 ArduCopter: failsafe added to shutdown motors if mainloop fails
fa0963d592 ArduCopter: APM_Config.h - make it ever so slightly easier to enable INERTIAL_NAV
3c9ba94f42 ArduCopter: bug fix to ROI when no camera mount is specific
7cf60e61b4 ArduCopter: bug fix in earth-frame to body-frame conversion for roll
05fd04134a ArduCopter: fix heli build
e33d314f1d AP_AHRS_MPU6000: resolve compiler warning re shadowing
f695db61ea ArduPlane: added AP_Semaphore.h to list of includes
61d0c8e35c ArduCopter: added AP_Semaphore to list of includes
b9963f5b5c DataFlash: modified to use AP_Semaphore for SPI3 bus when required.
f9b16a9a50 AP_OpticalFlow: modified to use AP_Semaphore for SPI3 bus when required
23442f9caf AP_Semaphore: added new library to help remove conflicts over SPI bus
fb1afa022f Mission Planner 1.2.14
af1d6a9b82 ArduCopter: reduce Stabilize Yaw P term to 4.5
e375a27058 ArduCopter: prioritise rate controllers, rate controller targets converted to body frame
ea4f256f8e ArduCopter: BATT_PIN parameter added to allow you to select which pin is used for voltage and current measurements
3128e53212 Mission Planner 1.2.13 remove some mavlink 0.9 code add arm/disarm button. Not yet implemented AC and AP Side. modify heli setup screen modify failsafe screen fix old firmware under mono workaround mono crash. modify planner wp storage tweak log dl screen add change alt button modify tlog wp extractor, multiple extractions speed up srtm reading fix lang edit.
a38fef65c7 AP,AC Add ability to override an altitude in any auto mode, on the current active target
95763e610b ArduCopter: allow DMP to run in parallel with DCM
670fcbb634 AP_AHRS_MPU6000: fixed yaw correction and added _secondary_ahrs parameter
35cb7ff7e5 AP_PeriodicProcessStub: fixed build due to missing reference to _suspended
fcb2ff19bc APMrover2: fixed build
8c6fd340d7 AP_AHRS: added scheduler parameter to init
c007a19200 AP_PeriodicProcess: added running() method which tells the caller whether the timer is suspended or not
00e79e7915 AP_TimerProcess: added simple example sketch
41fbb19cf5 AP_InertialSensor_MPU6000: replaced _cs_pin parameter with #define and saved 1 byte of memory
921ab3fe12 ArduCopter: bug fix to DMP initialisation (it was freezing due to SPI bus conflicts)
a7c2ea1891 AP_OpticalFlow: save and restore SPI bus speed to remove conflict with dataflash that runs at 8Mhz
bae53807b2 ArduCopter: tiny formatting change in defines.h
280488fa5e ArduCopter: bug fix to display ITERM enabled/disabled properly from cli
ed881117e0 ArduCopter: updated version to 2.7.4-Beta
6ed59fba91 AP_Motors: enable throttle curve by default
fff5d51694 ArduCopter: reduced Loiter Rate I to 0.04 (was 0.08)
a71aa21514 ArduCopter: increase default Loiter Rate P to 5.0
bbec662483 APM: fixed build warning
e04de04cbd Rover: fixed type of payload size
9f9d570597 MAVLink: comm_get_txspace should return 0 on error
14b1674c3e PeriodProcess: fixed build warning
81fd4b3a3c OpticalFlow: fixed SITL build
608cc60689 GPS: fixed SIRF auto detect code
89fa234233 SPI3: fixed the build
1ea946b2b4 modify ardurover name to match others
b2f12c4854 ArduCopter: optical flow initialisation changes now that optical flow library automatically works on APM1, APM2 and APM2.5
a75e93da06 AP_TimerProcess: add one additional slot for optical flow
163a7841f6 AP_OpticalFlow: small fixes to test sketch to make it work with modified lib
cb584f81fb AP_OpticalFlow: remove APM2 version of library now that AP_OpticalFlow_ADNS3080 class can autodetect which SPI bus the sensor is on
4d3d13582b AP_OpticalFlow_ADNS3080: detect if optical flow sensor is on standard or secondary SPI bus
ca383b393d AP_OpticalFlow: use AP_PeriodicProcess to read at 20hz
96bb6e9c70 SPI3: add new library to make use of secondary SPI bus
fbc053e6e4 APM: change to one low priority status buffer per GCS instance
f5559a6b4a firmware build
51aeb2dd4c APM: prepare for 2.65
d5c35fcc8b APM: fixed stick mixing for STABILISE mode
ccc5f409c5 firmware build
a4c3c5973d APM: prepare for 2.64 release
56c354eb4f APM: fixed stick mixing in CIRCLE mode on throttle failsafe
bc2aa84394 AP_Motors: remove stray debug message re set-up of throttle curve
e4c8eaa181 AP_Airspeed: fixed constructor compile error in example sketch
889d1bb36c ArduCopter: alt hold bug fix - removed reset next_WP in init_home
41017442f8 APM: removed unnecessary waypoint_sending flag
f0f47f929a APM: send right parameter index when possible
764d86216e APM: fixed mission reset by setting waypoint to zero
6bae5ecd51 APM: added THR_SUPP_MAN option
5c402fa398 APM: allow RawSensors stream rate to be saved if <= 5
63940d3ab6 APM: don't send GPS_STATUS MAVLink message
472ec189a9 Housekeeping: Removed copies of Libraries from Tools/ArduPPM/Workbasket.
e5846bd965 AP_Baro: removed _sync_access check
7b4dc246f8 RC_Channel: don't force radio_out in enable_aux_servos()
ccf8ba3ce9 DCM: limit the contribution of the baro to vertical acceleration
458a42654b DCM: disable use of baro for vertical accel by default
b3ff368589 ArduCopter: position lead filters modified to use lag which varies by gps
50a97f3092 AP_GPS: added get_lag method to return expected lag from the GPS.
30aa104000 AP_LeadFilter: moved lag to be a parameter passed into the get_position function.
2110231ee3 AP_LeadFilter: bug fix so velocity * _lag is used (otherwise we are assuming a 1sec lag)
2c36693a50 AP_LeadFilter: added set_lag feature to allow us to adjust it for different GPSs
9e32d45d7b Change to the "Stability Patch" in Motors_Matrix in order to make it cover both the upper throttle range and lower, and also to cause it to raise/lower all motors when a single motor goes out of ranges.
5dfb1bd129 Mission Planner 1.2.12 add arduino chip detect fix apm2,2.5 dialog test add write timeout. this will stop planner hangs on bad serial devices. change quickview decimal places to 0.00 fix map clicking issue. fix wind direction wrapping add airspeed use modify firmware screen from Marooned major flightdata tab change. add save/load polygon from file add some error handling dialogs
cbc4a57abb APM: send airspeed sensor value, not estimate, when enabled
832c5e996e APM: make it possible to fetch parameters by index
e761645e24 AP_Param: added find_by_index()
3077de0d33 APM: much faster parameter fetching
728b3a133e GPS: disable auto detection of NMEA and SiRF on a 1280 board
68f1b6336f APM: tweak the default options for an APM1 1280 board
cebb67e1df APM: removed the unused sonar code
2324997e16 APM: added ALT_OFFSET parameter
0c864fd4dc AP_Airspeed: a bit more filtering
361ff0c08f ArduCopter: allow PID logging of throttle.  Make get_angle_boost actually use parameter passed in.
93ae29a3e9 ArduCopter: added throttle curve (although disabled by default) for all multicopters
7e544e8ead MPU6k: save 72 bytes of memory
37cb56f3e1 APM: save another few bytes
df962d25a8 APM: fixed a comment
12dc2e79cf APM: save 100 bytes of memory
498cbb063b ArduCopter: set fast gains while auto trim is being executed
1b85f71e5f firmware build
86face0a03 APM: preparing for 2.63 release
78a95290a3 SITL: prevent a fd leak in GPS code
4d4a95501f APM: updates for new GPS detection
5fd39bb928 ACM: updates for new GPS detection
4939d67a1b Rover: updates for new GPS detection
59b44816ec GPS: replaced the GPS auto-detect mechanism
7e8ef0ae95 APM: fixed handling of DO_REPEAT_SERVO and DO_REPEAT_RELAY
6f32f52377 ArduCopter: bug fix in Log_Read_Attitude.  It was printing two uninitialised variables.
c8e84d18a4 APM: tidy up a comment
c0798730a8 APM: only copy manual channels in failsafe
8620a036de RC_Channel_aux: minor cleanups
127117b640 APM: ensure DO_SET_SERVO channels are enabled
208b878988 APM: allow update of last waypoint
bd31f340a7 RC_Channel: support channel reversal on range channels
303ca11c4c HIL: changes to fix HIL for ArduCopter after recent timing changes.
94f956a0ca fix AP attitude hil - with randys help
b6d2d4723f ArduCopter: print firmware version of code instead of zero.
9e66b555cb ArduCopter: removed INSTANT_PWM from ArduCopter and AP_Motors library
1c9fe3b1b6 AP_AHRS: fix to allow example sketch to compile
8cc79d50cb APM Planner a few UI translations
072085d2d8 ACM : better debugging text
6b6075ed30 ACM l Prevent pre-mature finish of mission
5b80ffcc16 firmware build
b55e7903aa APM: prepare for 2.62 release
bad73b0686 APM: fixed elevon mixing
6e9abb616a APM: show real raw RC input, not mixed input
ba9543ee04 GPS: NMEA bug fix from Alexey Kozin
fba1692d69 AHRS: added AHRS_BARO_USE parameter
589c8fcc12 APM: report throttle and ground speed mission changes
b1408008c9 APM: allow for landing pitch control until final stage
05e72c6e68 APM: fixed roll in landing approach
5f3ffe4839 APM: switch to Randys new IMU rate control method
834f961409 ACM : Fix enduf
4c8e257ea2 ACM : forced setup_show to dump params during log dump for better analysis.
7e672628ea APM: removed the GPS_enabled flag
c9a299665c APM: added speed scaling to wheeled steering
34e07c826f ACM : Added centralized Iterm logging at a lower rate. Logs all iterms.
e8e8c27db4 ACM Mavlink - fixed comparison of unsigned to signed int by casting to uint8_t
a73bc70553 ACM : Params - formatting cleanup
b787dc8cce APM: added wdt.h for SITL build of APM
841d2700b6 ACM: use spare CPU cycles to read the magnetometer
9f1033dc42 AP_InertialSensor_Stub: added num_samples_available method to fix HIL build
130f3b0030 AP_InertialSensor_MPU6000: move _last_sample_time_micros to capture time data_interrupt was called
7a265dbf61 AP_InertialSensor: use AP_TimerProcess's queue_process to run read from MPU6000 after any currently running processes complete
55ef1e0a29 AP_PeriodicProcess: queue_process changes to suspend other processes before running queued process
fd110a2723 ArduCopter: modified mainloop timing to be in sync with the arrival of new data from the IMU.
42406c827a ArduCopter: added NUM_IMU_SAMPLES_FOR_XYZHZ definitions for MPU6000 and Oilpan to allow more syncing of the mainloop with the arrival of data from the IMU.
6ea5c21f7c AP_ADC: added num_samples_available to allow main loop to be synced with arrival of new sensor data for Oilpan.
fc4ff007e6 AP_IMU: added num_samples_available to allow main loop timing to be synced with arrival of new data from IMU.
0a6219695b AP_InertialSensor: changed read of sensor from MPU6000 to happen immediately
0812fc4890 APM: reboot only works on the APM2
cb88681914 APM: added support for MAV_CMD_PREFLIGHT_REBOOT_SHUTDOWN
e2779523ea APM: fixed fetch of relative altitude waypoints
90b74f5bab APM_RC: fixed noisy PWM output on startup for APM2
5d3ddf1fc9 ArduCopter: bug fix for ROI not working if user did not have a camera mount
a32002e14b firmware build
feb3fe77ce APM: simplify radio_trim code
5c3595e0dc APM: fixed throttle nudging
657dd5969f APM: preparing for 2.61 release
6e15aa68b8 Rover: updated for new RC_Channel_aux API
49468953a3 APM: updated for new RC_Channel_aux API
4c07add542 AP_Camera: updated for new RC_Channel_aux API
f41270a3ce AP_Mount: updated for new RC_Channel_aux API
3b97339104 RC_Channel: simplified RC_Channel_aux and fixed issue 725
a6422be8fb APM: added mtk and mtk16 build targets
f26b9ab286 APM: prevent crosstrack from takeoff point after takeoff completion
dec12c7370 APM: use ahrs.airspeed_estimate() in two more places
de28cc8b28 AHRS: added AHRS_WIND_MAX option
8458607928 APM_OBC: changed termination servo values, and added loop counter
cde7d8c5e7 APM: fixed some compiler warnings
d07d42403e APM: tidy up an if() statement
fa84ba451a APM_OBM: Failsafe board sketch
cca04d195a APM_OBC: handle separate terminate pin correctly
13145e4c01 OBC: added FS_TERM_PIN option
164c60d25f APM: added RUDDER_STEER option
130b26e1f9 APM: support DO_SET_SERVO command
96ea350143 APM: added XTRK_MIN_DIST option
a446a7a9ed APM: allow serial buffer size to be configured
3a1ff7bdd9 Mavlink: enable MAVLINK_SEPARATE_HELPERS
9b2ad55773 APM: added forwarding of unknown MAVLink types
f97104b435 ACM: use compass.accumulate() in ArduCopter
68705fe7e6 APM: accumulate mag readings during spare cycles in ArduPlane
6922dcdea2 Compass: added compass.accumulate() API
cd08420c3e AP fix takeoff alt issue issue 733
c1235c55d5 Fix Approach Altitude min
b02340fe10 APM_Config.h for ArduCopter/ArduPlane: better descr of APM2_BETA_HARDWARE
864d777856 Mission Planner 1.2.11 Fix ac crosstrack display tweak ap_mount speed up Terminal
d3e5746993 firmware build
38942a1ea6 firmware build
5073e56c06 ArduCopter: upgraded firmware version to 2.7.3
c9d34c1737 ArduCopter: fixes to allow AP_Mount to work on APM1 with original default channels and fix to reenable support for 3-axis gimbals on APM2.
9013d9be43 ArduCopter: remove unnecessary references to CH_CAM_PITCH, CH_CAM_ROLL, CH_CAM_YAW
5994117f6f RC_Channel_aux: bug fix which could cause channel to be assigned to the wrong function and miss others
6501310745 firmware build
274b2e2143 Arducopter: Release 2.7.2
f4334c9aaf Mission Planner 1.2.10 add useritems to HUD change hdop scale fix posible follow me bug (, vs .) fix posible friendly params bug (, vs .) tweak flightdata log playback timming fix gridv2 bug. if no waypoint had been done, the grid wold fail tweak some mission upload potential issues add ability to get param list from a log (from startup) add ability to get the first wp list in a log, if wps where received in that log. tweak video capture library timing
83153eebd4 APM: obey pitch limits in FBWA as well
9a987ce116 APM: fixed docs for LIM_PITCH_MIN
1e7adac365 AP fix attitude hil.
97aa98015d Rover: added TELEM_DELAY to rover code
e8d928cca4 ACM: added TELEM_DELAY to ArduCopter
f6c3197cd2 APM: added new TELEM_DELAY parameter
a9af6e95cb APM: higher throttle on takeoff in ArduPlane autotest
681e67201d APM: fixed orientation on runway in autotest
51969dca22 ACM Log.pde : whitespace clean up
082913efd4 ACM : revert back to the 2.6 climb rate calc
0443815cb3 Mission Planner: Update XML for 2.7.2
d5b218c80b SITL: use AP_Declination code to get right compass dec for autotest
4ad516c445 Arducopter: increased MAVLINK delay to 6s to reduce the chance of xBee bricking Arduplane:  increased MAVLINK delay to 6s to reduce the chance of xBee bricking Ardurover:  increased MAVLINK delay to 6s to reduce the chance of xBee bricking
2ad6dcb7c4 ArduCopter: increased Stabilize Roll and Pitch I term to 0.05 (was 0.01) based on feedback from Jason
d8a2bfb9e8 Arducopter: Preparing for 2.7.2 Release
7b3009a238 APM_RC_APM1.cpp: Bugfix on mapping of SetFastOutputChannels to ICR reg
fd4bc69d77 ACM : Logging updates
9d64bea2ef ACM: Altitude Adjust
98cc65862d ACM : Log Timing
e2b8817a89 APM: added the ability to forcibly crash the plane on OBC failsafe breach
fce01464b1 APM: added ALT_CTRL_ALG parameter
85e9fa8c3b APM: fixed another problem with DO_JUMP
ded64fd9ea APM: check for geofence fence total of 0
71500347ec APM_OBC: don't use _saved_wp when zero
d13d117e61 APM: removed reset_I() and instead auto-reset integrator in PID library
d93861f4d2 autotest: removed the --wind options
dcbd0fbd44 APM: cleanup throttle suppression code and don't use airspeed to unsupress
dd7c815c5f SITL: zero wind for first 15s
2e9e3ce5a6 ArduCopter: increase SPI bus speed to 2Mhz after IMU initialisation has completed (MPU6000 accepts maximum of 1Mhz for some registers but up to 20Mhz for main sensor and interrupt registers)
c965963d7b AP_InertialSensor_MPU6000: bug fix.  DMP was being enabled by default so although the results were not being used, this caused a delay in the main loop
2da75b3c3c Revert "APM1: Delay serial3 init to not brick Xbee radios"
51247ad6c1 autotest: loiter can be a bit slow to circle sometimes
c1405bddb3 APM-autotest: fixed inside loop test
b48a1f1fc4 ArduPlane: Fix 1280 builds
769f04b7d6 Improve comments, no functional changes
7a0c47d049 Improve comment aligment
27091b1abd Mission Planner 1.2.9
b4b394e67e ArduCopter: reduced Rate Roll and Pitch PID values
b12698ef6c Mission Planner Cleanup
747a926809 APM_OBC: ensure pins are setup as outputs
ecc6a52904 APM: report estimated airspeed if airspeed not available
3c7d7ba228 APM: use airspeed estimate for speed scaling if available
c9cf483822 APM: added XTRK_USE_WIND parameter
2be785899b AHRS: added airspeed_estimate() function
697b2074a5 SITL: added SIM_WIND_* parameters
b2c38d7dd4 APM1: Delay serial3 init to not brick Xbee radios
abe5bbfa4d APM: support forcing MANUAL of FBWA mode over MAVLink
b4134de550 APM: ensure fence_total is positive
9d3fc38580 Mission Planner 1.2.8 fix mjpeg stream from VLC. add grid mode V2 fix hdop scaling
8ec8fb9e4d firmware build
c35530c362 APM: fixed wheeled takeoff with Jons new controllers
c730d9072e APM: prepare for ArduPlane 2.60
2d8f99433c APM: removed factor of 0.5 in non-airspeed takeoff pitch
4668f8b7db APM: ensure takeoff_complete is reset
95c941664f APM: fixed bug in do_jump() navigation
6ab2a861f7 APM: added RSSI to RC_CHANNELS_RAW as well
2d5bb7c51b APM: added RSSI in raw message too
c0c0b8c976 APM: added RECEIVER_RSSI_PIN option
ed7eec91f4 build: added sitl-newcontrollers to build_all.sh
d445482ace APM: added optional use of new APM_Control library
8b53f1272a AHRS: new functions to support APM_Control library
9e926eae51 APM: optional build with new controller libs
59875f8d53 APM_Control: added new APM controllers library
08c8dffd48 uncrustify libraries/DataFlash/DataFlash.h
2e97fd3e9f uncrustify libraries/DataFlash/DataFlash.cpp
744ad19630 uncrustify libraries/AP_Motors/AP_MotorsHeli.h
b1b1975018 uncrustify libraries/AP_Motors/AP_MotorsHeli.cpp
40a4777d31 uncrustify libraries/AP_Limits/AP_Limit_Geofence.cpp
97035fbead uncrustify libraries/AP_GPS/GPS.h
20d1a94778 uncrustify libraries/AP_GPS/AP_GPS_IMU.h
4cd477d13d uncrustify libraries/AP_GPS/AP_GPS_IMU.cpp
6c885df832 uncrustify libraries/AP_GPS/AP_GPS_UBLOX.cpp
a48aa18d6f uncrustify libraries/AP_GPS/AP_GPS_MTK16.cpp
03b42037a0 uncrustify libraries/AP_GPS/AP_GPS_NMEA.h
da81115079 uncrustify libraries/AP_GPS/AP_GPS_NMEA.cpp
a8ed24da6c uncrustify libraries/AP_GPS/AP_GPS_SIRF.cpp
074f3ae872 uncrustify libraries/AP_GPS/AP_GPS_406.cpp
9ce7513096 uncrustify libraries/AP_GPS/AP_GPS_MTK.cpp
04e48ef878 uncrustify libraries/AP_Compass/Compass.h
f3945772e9 uncrustify libraries/AP_Common/AP_Vector.h
953cab5c5f uncrustify libraries/AP_Common/AP_Test.h
4cd6657f70 uncrustify libraries/AP_Baro/AP_Baro_BMP085_hil.h
e17fcbd9cb uncrustify libraries/AP_AHRS/AP_AHRS_HIL.h
af588679b9 uncrustify libraries/AP_AHRS/AP_AHRS.h
8c0e4f3987 uncrustify libraries/AP_AHRS/AP_AHRS_MPU6000.h
bc80148c75 uncrustify libraries/AP_AHRS/AP_AHRS_DCM.h
31a4442904 uncrustify libraries/AP_AHRS/AP_AHRS_DCM.cpp
70048f3d6f uncrustify ArduPlane/Parameters.h
3bee769405 uncrustify ArduPlane/config.h
d0ed723c1e uncrustify ArduPlane/planner.pde
a8e5900624 uncrustify ArduPlane/system.pde
8c2d604971 uncrustify ArduPlane/test.pde
d504ae680a uncrustify ArduPlane/setup.pde
f7b8fecad9 uncrustify ArduPlane/GCS_Mavlink.pde
0e8a76ccdd uncrustify ArduPlane/ArduPlane.pde
ff4afa767b uncrustify ArduPlane/commands.pde
43991712be uncrustify ArduPlane/radio.pde
d5767ef817 uncrustify ArduPlane/Attitude.pde
0f415bbc6a uncrustify ArduPlane/Parameters.pde
39ab309b87 uncrustify ArduPlane/Log.pde
09fbe8e29a uncrustify ArduCopter/APM_Config.h
429c41155c uncrustify ArduCopter/config.h
969166c4e3 uncrustify ArduCopter/system.pde
841b4ce9c8 uncrustify ArduCopter/test.pde
bb6e4ac969 uncrustify ArduCopter/setup.pde
7f89e6c677 uncrustify ArduCopter/motors.pde
d49df965f3 uncrustify ArduCopter/navigation.pde
6791da4ee7 uncrustify ArduCopter/commands_logic.pde
f783ace0de uncrustify ArduCopter/Attitude.pde
2438cd32fc uncrustify ArduCopter/Parameters.pde
4021a64747 uncrustify ArduCopter/ArduCopter.pde
c1ce689e38 uncrustify ArduCopter/Log.pde
b1cf3f7f91 uncrustify libraries/RC_Channel/RC_Channel_aux.h
5564e0c440 uncrustify libraries/RC_Channel/RC_Channel.h
fb2df43984 uncrustify libraries/RC_Channel/RC_Channel_aux.cpp
e9fb7cfd92 uncrustify libraries/RC_Channel/RC_Channel.cpp
02877cfe28 uncrustify libraries/RC_Channel/examples/RC_Channel2/RC_Channel2.pde
b2ade84dbb uncrustify libraries/RC_Channel/examples/RC_Channel/RC_Channel.pde
13e0dd2c70 uncrustify libraries/PID/PID.h
330c6c07e3 uncrustify libraries/PID/PID.cpp
84816966ec uncrustify libraries/PID/examples/pid/pid.pde
098bb9c2ea uncrustify libraries/memcheck/memcheck.h
2bbf7f2768 uncrustify libraries/memcheck/memcheck.cpp
7aa99f0752 uncrustify libraries/I2C/I2C.h
517530ba58 uncrustify libraries/I2C/I2C.cpp
e1a905239e uncrustify libraries/I2C/examples/HMC5883L/HMC5883L.pde
84847da218 uncrustify libraries/Filter/Filter.h
5948f825ba uncrustify libraries/Filter/ModeFilter.h
406abb3fa0 uncrustify libraries/Filter/LowPassFilter.h
c284fb144f uncrustify libraries/Filter/FilterWithBuffer.h
dbba304af8 uncrustify libraries/Filter/AverageFilter.h
10acadef62 uncrustify libraries/Filter/DerivativeFilter.h
0afc8a5958 uncrustify libraries/Filter/DerivativeFilter.cpp
44598c1be7 uncrustify libraries/Filter/examples/Derivative/Derivative.pde
19ad85b27f uncrustify libraries/Filter/examples/Filter/Filter.pde
d0a2877188 uncrustify libraries/Filter/examples/LowPassFilter/LowPassFilter.pde
9b44f5b741 uncrustify libraries/DataFlash/DataFlash_APM1.h
c68a341633 uncrustify libraries/DataFlash/DataFlash_APM2.h
21337a39d3 uncrustify libraries/DataFlash/DataFlash_APM1.cpp
eb9d6b259b uncrustify libraries/DataFlash/DataFlash_APM2.cpp
15d8ba45e3 uncrustify libraries/DataFlash/examples/DataFlash_test/DataFlash_test.pde
36a3fad796 uncrustify libraries/Arduino_Mega_ISR_Registry/Arduino_Mega_ISR_Registry.h
dd3201e050 uncrustify libraries/AP_Relay/AP_Relay.h
06021825c8 uncrustify libraries/AP_Relay/AP_Relay.cpp
c60cfb33f2 uncrustify libraries/AP_RangeFinder/AP_RangeFinder_SharpGP2Y.h
9c45c74d97 uncrustify libraries/AP_RangeFinder/AP_RangeFinder_MaxsonarXL.h
c6f99a7b6e uncrustify libraries/AP_RangeFinder/RangeFinder.h
b57832e19b uncrustify libraries/AP_RangeFinder/RangeFinder.cpp
f8a27802f1 uncrustify libraries/AP_RangeFinder/AP_RangeFinder_SharpGP2Y.cpp
605b3b6de2 uncrustify libraries/AP_RangeFinder/AP_RangeFinder_MaxsonarXL.cpp
5abb025c9e uncrustify libraries/AP_RangeFinder/examples/AP_RangeFinder_test/AP_RangeFinder_test.pde
2b32044d6f uncrustify libraries/AP_PID/AP_PID.h
25eba0c383 uncrustify libraries/AP_PID/AP_PID.cpp
9c865a0d0d uncrustify libraries/AP_PID/examples/AP_pid/AP_pid.pde
d952af79cc uncrustify libraries/AP_PeriodicProcess/PeriodicProcess.h
ded021fa11 uncrustify libraries/AP_PeriodicProcess/AP_TimerProcess.h
a24d925f52 uncrustify libraries/AP_PeriodicProcess/AP_PeriodicProcessStub.h
aa2afece16 uncrustify libraries/AP_PeriodicProcess/AP_PeriodicProcessStub.cpp
621fafe370 uncrustify libraries/AP_PeriodicProcess/AP_TimerProcess.cpp
d7d921119c uncrustify libraries/AP_OpticalFlow/AP_OpticalFlow_ADNS3080_APM2.h
0db2404709 uncrustify libraries/AP_OpticalFlow/AP_OpticalFlow_ADNS3080.h
ff94bd7696 uncrustify libraries/AP_OpticalFlow/AP_OpticalFlow.h
80f5d0bb51 uncrustify libraries/AP_OpticalFlow/AP_OpticalFlow_ADNS3080_APM2.cpp
b505b26226 uncrustify libraries/AP_OpticalFlow/AP_OpticalFlow_ADNS3080.cpp
ce14ba0868 uncrustify libraries/AP_OpticalFlow/AP_OpticalFlow.cpp
0fb7e82792 uncrustify libraries/AP_OpticalFlow/examples/AP_OpticalFlow_test/AP_OpticalFlow_test.pde
4e3199a9e9 uncrustify libraries/AP_Navigation/Navigation.h
c2ba76c2d3 uncrustify libraries/AP_Navigation/Navigation.cpp
41cefc68df uncrustify libraries/AP_Navigation/examples/Navigation_simple/Navigation_simple.pde
fd9c31e39f uncrustify libraries/AP_Navigation/examples/Navigation/Navigation.pde
763d36ecf0 uncrustify libraries/APM_RC/APM_RC_APM2.h
0234d70511 uncrustify libraries/APM_RC/APM_RC.h
5af2e87786 uncrustify libraries/APM_RC/APM_RC_APM1.h
9365bf7126 uncrustify libraries/APM_RC/APM_RC_APM2.cpp
323bc2fb1b uncrustify libraries/APM_RC/APM_RC_APM1.cpp
e0dea4c976 uncrustify libraries/APM_RC/examples/APM2_radio/APM2_radio.pde
41108c390e uncrustify libraries/APM_RC/examples/APM1_radio/APM1_radio.pde
466f76ebc1 uncrustify libraries/APM_PI/APM_PI.h
6c0c5f524b uncrustify libraries/APM_PI/APM_PI.cpp
7ffa44c324 uncrustify libraries/AP_Mount/AP_Mount.h
ff555dfb7a uncrustify libraries/AP_Mount/AP_Mount.cpp
40dcf9e7a8 uncrustify libraries/AP_Motors/AP_MotorsOctaQuad.h
3a5b8c5482 uncrustify libraries/AP_Motors/AP_MotorsOcta.h
4a44c6a1ba uncrustify libraries/AP_Motors/AP_MotorsTri.h
d773a9c43b uncrustify libraries/AP_Motors/AP_Motors.h
4fe97c1e7b uncrustify libraries/AP_Motors/AP_MotorsMatrix.h
b8cc5ac4af uncrustify libraries/AP_Motors/AP_MotorsY6.h
4cb9f57565 uncrustify libraries/AP_Motors/AP_MotorsHexa.h
d3c856e889 uncrustify libraries/AP_Motors/AP_MotorsQuad.h
5ec922104a uncrustify libraries/AP_Motors/AP_MotorsHexa.cpp
b982cca74e uncrustify libraries/AP_Motors/AP_Motors.cpp
cc0c424eed uncrustify libraries/AP_Motors/AP_MotorsY6.cpp
dc21cc1003 uncrustify libraries/AP_Motors/AP_MotorsOctaQuad.cpp
c7f8c4dfa7 uncrustify libraries/AP_Motors/AP_MotorsMatrix.cpp
6c33f81e9d uncrustify libraries/AP_Motors/AP_MotorsOcta.cpp
41c1205f26 uncrustify libraries/AP_Motors/AP_MotorsQuad.cpp
df5d1a8aef uncrustify libraries/AP_Motors/AP_MotorsTri.cpp
364b089bd3 uncrustify libraries/AP_Motors/examples/AP_Motors_test/AP_Motors_test.pde
652b490345 uncrustify libraries/AP_Math/vector2.h
97994a4e3a uncrustify libraries/AP_Math/AP_Math.h
7e19ae5868 uncrustify libraries/AP_Math/matrix3.h
9bb0b42f28 uncrustify libraries/AP_Math/rotations.h
57d4db2be4 uncrustify libraries/AP_Math/vector3.h
d50c606c97 uncrustify libraries/AP_Math/quaternion.h
9ccb38260d uncrustify libraries/AP_Math/polygon.h
533860dd73 uncrustify libraries/AP_Math/AP_Math.cpp
b5bee9deff uncrustify libraries/AP_Math/polygon.cpp
a208fbb2d9 uncrustify libraries/AP_Math/vector3.cpp
424baf3f29 uncrustify libraries/AP_Math/quaternion.cpp
d6e803fd3c uncrustify libraries/AP_Math/matrix3.cpp
64eaadb332 uncrustify libraries/AP_Math/location.cpp
d0d401581f uncrustify libraries/AP_Math/examples/location/location.pde
52dbb56bf0 uncrustify libraries/AP_Math/examples/rotations/rotations.pde
87c263fbb9 uncrustify libraries/AP_Math/examples/polygon/polygon.pde
86627c9a9d uncrustify libraries/AP_Math/examples/eulers/eulers.pde
6fc94828b8 uncrustify libraries/AP_Limits/AP_Limit_Geofence.h
4c8a9eb57d uncrustify libraries/AP_Limits/AP_Limit_Module.h
f5ae336073 uncrustify libraries/AP_Limits/AP_Limit_Altitude.h
65e518faed uncrustify libraries/AP_Limits/AP_Limit_GPSLock.h
3aad66b909 uncrustify libraries/AP_Limits/AP_Limits.h
0fc400e43e uncrustify libraries/AP_Limits/AP_Limits.cpp
900ece6ef4 uncrustify libraries/AP_Limits/AP_Limit_Altitude.cpp
406eb1430c uncrustify libraries/AP_Limits/AP_Limit_GPSLock.cpp
065cdfe7d0 uncrustify libraries/AP_Limits/AP_Limit_Module.cpp
fd41329e80 uncrustify libraries/AP_LeadFilter/AP_LeadFilter.h
cdb6c60799 uncrustify libraries/AP_LeadFilter/AP_LeadFilter.cpp
966c0a0d1c uncrustify libraries/AP_LeadFilter/examples/AP_LeadFilter/AP_LeadFilter.pde
ad51ac5e11 uncrustify libraries/AP_InertialSensor/AP_InertialSensor_MPU6000.h
323ab9acf4 uncrustify libraries/AP_InertialSensor/AP_InertialSensor_Oilpan.h
8e5a031987 uncrustify libraries/AP_InertialSensor/AP_InertialSensor_Stub.h
ac3960b3e7 uncrustify libraries/AP_InertialSensor/AP_InertialSensor.h
e6c2616769 uncrustify libraries/AP_InertialSensor/AP_InertialSensor_MPU6000.cpp
77729b847f uncrustify libraries/AP_InertialSensor/AP_InertialSensor_Oilpan.cpp
0c322fb18a uncrustify libraries/AP_InertialSensor/AP_InertialSensor_Stub.cpp
25eaeff6a8 uncrustify libraries/AP_InertialSensor/examples/MPU6000/MPU6000.pde
c8ff85a598 uncrustify libraries/AP_IMU/AP_IMU_Shim.h
7f57d462d0 uncrustify libraries/AP_IMU/AP_IMU_INS.h
5601c52c46 uncrustify libraries/AP_IMU/IMU.h
5a2ec6843e uncrustify libraries/AP_IMU/AP_IMU_INS.cpp
a5ed2f9a53 uncrustify libraries/AP_IMU/IMU.cpp
849c492a5d uncrustify libraries/AP_IMU/examples/IMU_Oilpan_test/IMU_Oilpan_test.pde
8e00b6d0a9 uncrustify libraries/AP_IMU/examples/IMU_MPU6000_test/IMU_MPU6000_test.pde
d8200a6aea uncrustify libraries/AP_GPS/AP_GPS_HIL.h
8ad83695b8 uncrustify libraries/AP_GPS/AP_GPS_MTK16.h
a91687f1cb uncrustify libraries/AP_GPS/AP_GPS_None.h
c95fc7b166 uncrustify libraries/AP_GPS/AP_GPS_406.h
65f55328e2 uncrustify libraries/AP_GPS/AP_GPS.h
4950bf3b95 uncrustify libraries/AP_GPS/AP_GPS_UBLOX.h
a8ad5f62a5 uncrustify libraries/AP_GPS/AP_GPS_MTK.h
9b3081345e uncrustify libraries/AP_GPS/AP_GPS_Auto.h
a133b098a5 uncrustify libraries/AP_GPS/AP_GPS_SIRF.h
5c24c373d0 uncrustify libraries/AP_GPS/AP_GPS_Shim.h
cdaf2f923d uncrustify libraries/AP_GPS/GPS.cpp
c5451b0e9b uncrustify libraries/AP_GPS/AP_GPS_HIL.cpp
b9d3f449b9 uncrustify libraries/AP_GPS/AP_GPS_Auto.cpp
9e43a9d090 uncrustify libraries/AP_GPS/examples/GPS_MTK_test/GPS_MTK_test.pde
0f5aff35fc uncrustify libraries/AP_GPS/examples/GPS_NMEA_test/GPS_NMEA_test.pde
1e8ea08bce uncrustify libraries/AP_GPS/examples/GPS_AUTO_test/GPS_AUTO_test.pde
9f2d71e544 uncrustify libraries/AP_GPS/examples/GPS_UBLOX_test/GPS_UBLOX_test.pde
12b5e53ce7 uncrustify libraries/AP_GPS/examples/GPS_406_test/GPS_406_test.pde
d6d51e4116 uncrustify libraries/AP_Declination/AP_Declination.h
bcfff533f0 uncrustify libraries/AP_Declination/AP_Declination.cpp
6f4533c8a8 uncrustify libraries/AP_Declination/examples/AP_Declination_test/AP_Declination_test.pde
6bc9c5707f uncrustify libraries/AP_Compass/AP_Compass_HMC5843.h
f534730fab uncrustify libraries/AP_Compass/AP_Compass_HIL.h
4f9c6bbb19 uncrustify libraries/AP_Compass/AP_Compass_HMC5843.cpp
7840eebaef uncrustify libraries/AP_Compass/Compass.cpp
d1190e1ed4 uncrustify libraries/AP_Compass/AP_Compass_HIL.cpp
53ef9e8b9e uncrustify libraries/AP_Compass/examples/AP_Compass_test/AP_Compass_test.pde
4b60e53736 uncrustify libraries/AP_Common/AP_Loop.h
7d438cd65d uncrustify libraries/AP_Common/include/menu.h
6bb8e4e8ac uncrustify libraries/AP_Common/AP_Common.h
0c99546f45 uncrustify libraries/AP_Common/AP_MetaClass.h
e79d9adea0 uncrustify libraries/AP_Common/c++.h
3a26b94af2 uncrustify libraries/AP_Common/tools/eedump.c
4a50e56a48 uncrustify libraries/AP_Common/tools/eedump_apparam.c
3e4507a4a2 uncrustify libraries/AP_Common/menu.cpp
09c4f76b57 uncrustify libraries/AP_Common/AP_Param.cpp
c18e73a54d uncrustify libraries/AP_Common/c++.cpp
ca476e5851 uncrustify libraries/AP_Common/examples/menu/menu.pde
42e24a869f uncrustify libraries/AP_Common/AP_Param.h with fixups by hand
6f09714618 uncrustify libraries/AP_Camera/AP_Camera.h
30107b9665 uncrustify libraries/AP_Camera/AP_Camera.cpp
fa90f0b80f uncrustify libraries/AP_Baro/AP_Baro.h
1196285266 uncrustify libraries/AP_Baro/AP_Baro_MS5611.h
cfcef93e16 uncrustify libraries/AP_Baro/AP_Baro_BMP085.h
5a99d6b697 uncrustify libraries/AP_Baro/AP_Baro_BMP085.cpp
b0003c020f uncrustify libraries/AP_Baro/AP_Baro_MS5611.cpp
b39411e8d4 uncrustify libraries/AP_Baro/AP_Baro_BMP085_hil.cpp
6f02a645c3 uncrustify libraries/AP_Baro/AP_Baro.cpp
12497c51b5 uncrustify libraries/AP_Baro/examples/AP_Baro_MS5611_test/AP_Baro_MS5611_test.pde
fce9044fb4 uncrustify libraries/AP_Baro/examples/AP_Baro_BMP085_test/AP_Baro_BMP085_test.pde
4a7e79b3ac uncrustify libraries/AP_AnalogSource/AnalogSource.h
46eeaffdf1 uncrustify libraries/AP_AnalogSource/AP_AnalogSource_Arduino.h
d7fe646829 uncrustify libraries/AP_AnalogSource/AP_AnalogSource_ADC.h
3c1a4b249a uncrustify libraries/AP_AnalogSource/AP_AnalogSource_Arduino.cpp
e9b5e28b40 uncrustify libraries/AP_AnalogSource/examples/AnalogSource_Arduino/AnalogSource_Arduino.pde
90419ad834 uncrustify libraries/AP_Airspeed/AP_Airspeed.h
37c79f5501 uncrustify libraries/AP_Airspeed/AP_Airspeed.cpp
3c2873b4f5 uncrustify libraries/AP_Airspeed/examples/Airspeed/Airspeed.pde
d6d7606c84 uncrustify libraries/AP_AHRS/AP_AHRS_HIL.cpp
9e4e08699d uncrustify libraries/AP_AHRS/AP_AHRS_MPU6000.cpp
6327305116 uncrustify libraries/AP_AHRS/examples/AHRS_Test/AHRS_Test.pde
fc11f7e3f0 uncrustify libraries/AP_ADC/AP_ADC_HIL.h
f302ee3d7f uncrustify libraries/AP_ADC/AP_ADC.h
44941072dc uncrustify libraries/AP_ADC/AP_ADC_ADS7844.h
149e222e6a uncrustify libraries/AP_ADC/AP_ADC_HIL.cpp
7b41104d7e uncrustify libraries/AP_ADC/AP_ADC.cpp
79b370cf1d uncrustify libraries/AP_ADC/AP_ADC_ADS7844.cpp
796d23277c uncrustify libraries/AP_ADC/examples/AP_ADC_test/AP_ADC_test.pde
6c5757e775 uncrustify libraries/AC_PID/AC_PID.h
fc9f1a8216 uncrustify libraries/AC_PID/AC_PID.cpp
7c4f980638 uncrustify libraries/AC_PID/examples/AC_PID_test/AC_PID_test.pde
c9da4a886c small changes to uncrustify_headers.cft
b960619195 uncrustify ArduPlane/defines.h
2c56e5c690 uncrustify ArduPlane/APM_Config.h
bd0146f776 uncrustify ArduPlane/GCS.h
5267ea6aad uncrustify ArduPlane/sensors.pde
e212c152f7 uncrustify ArduPlane/geofence.pde
326ca1b7cd uncrustify ArduPlane/failsafe.pde
4e795d4f1e uncrustify ArduPlane/commands_process.pde
909e39d667 uncrustify ArduPlane/navigation.pde
4793162a9d uncrustify ArduPlane/commands_logic.pde
9b133019b3 uncrustify ArduPlane/events.pde
0683be294b uncrustify ArduPlane/climb_rate.pde
c69772388b uncrustify ArduPlane/control_modes.pde
6a893c11c7 uncrustify ArduCopter/Parameters.h
b9ba41c12a uncrustify ArduCopter/defines.h
d0e48755ab uncrustify ArduCopter/config_channels.h
4311b15005 uncrustify ArduCopter/UserVariables.h
3d4ca7aa30 uncrustify ArduCopter/GCS.h
37e00fae80 uncrustify ArduCopter/APM_Config_mavlink_hil.h
42f107706e uncrustify ArduCopter/planner.pde
8dccd9d6b0 uncrustify ArduCopter/sensors.pde
df6bdfbd5a uncrustify ArduCopter/UserCode.pde
f7a748d43b uncrustify ArduCopter/GCS_Mavlink.pde
30c0328d0c uncrustify ArduCopter/flip.pde
58b5f4e271 uncrustify ArduCopter/GCS.pde
c7ff6a6335 uncrustify ArduCopter/toy.pde
1e2c01d8f6 uncrustify ArduCopter/commands_process.pde
b6dd8aa592 uncrustify ArduCopter/leds.pde
2d398aa663 uncrustify ArduCopter/commands.pde
a75d477071 uncrustify ArduCopter/radio.pde
ff0e2e537e uncrustify ArduCopter/events.pde
4303e0bcae uncrustify ArduCopter/limits.pde
a20f75e12c uncrustify ArduCopter/inertia.pde
7c8f4421a3 uncrustify ArduCopter/control_modes.pde
343f7d2de0 APM: removed DMP support from ArduPlane
6d11940ada AHRS: removed Quaternion build support from APM/ACM/rover
6d28b3519f AHRS: removed AP_AHRS_Quaternion
ddf9541c0a AP_GPS: fixed build of new MTK code
2493ffaad1 GPS: Corrections to Media Tek GPS Driver.  Change to 5Hz and SBAS
e9928e78de ACM: fixed TradHeli build
575b99b4be TradHeli: Creating Flybar Acro mode.
2985de279f AHRS: fixed duplicate gps_use variable in DCM
16e06ea1f4 ACM: build DMP version in autotest
bf2319a0fc AHRS: fixed reference to AHRS var_info for APM and ACM
134cd51d17 AHRS: moved var_info[] into top level AP_AHRS class
1b0f5ac84f ACM: use ahrs.set_fast_gains() on arm/disarm
ac72db8f00 AHRS: added set_fast_gains() method
c5b77f3909 APM: reset steering PID integrator in reset_I()
bf6c934c32 Changing TradHeli param motors.acro_mode to motors.flybar_mode to better reflect it's intent.
e6b5af7143 Adding new Trad Heli parameters.
fcdc9b28f6 Mission Planner 1.2.7 add wind from ap add wp every x m in grid mode fix hil problem fix control-s update mavlink format
93f918f3e0 AutoTest: reduced descend throttle for arducopter's change_alt test.
1d32e03f61 ArduCopter: added ACCEL_ALT_HOLD and INERTIAL_NAV to config.h and commented out of APM_Config.h.
75459b09be ArduCopter: changed reset_throttle_counter to uint8_t to get rid of overflow bug that was preventing target altitude from being locked in after pilot input down throttle.
7cc9ec4d61 autotest: ArduCopter on a 1280 is not supported any more
c81064279a ACM : removed 2-level DCM gain change - .1 will still be the default.
575a9c4fd1 ACM : Fix for reloading the user DCM gains upon arming
0a25a189eb ACM | Attitude.pde - removed next_wp.alt reset.
988d0c98fc ACM : Alt hold adjustment - made angle boost work during alt hold changes.
77f47a45d0 ACM : Nav rate limit lowered to prevent bad oscillations due to GPS latency.
522fa58ea5 ACM : temp fix for throttle output limit
bc631b656e ACM: Added a more sane limit to Angle boost
64cfaf74b7 ArduCopter: renamed "_new_alt" parameter to just "new_alt" in force_new_altitude and set_new_altitude functions
5b6f7f0012 ArduCopter: modified altitude hold so that 1 second slow down period is executed after pilot moves throttle back into deadzone
9b3ced93ee AP_Compass: fix for mismatching set_initial_location parameters (forgot to change long to int32_t in .cpp file)
11e946eb54 ArduCopter, ArduPilot: revert mavlink delay callback to be "unsigned long"
c10d01f24b AP_GPS: revert delay callback to be "unsigned long"
2b24e422de DataFlash: revert delay callbacks to use "unsigned long"
20cb2e56a0 DataFlash: change "unsigned long" to "uint32_t" in callback functions
2e4e8bbf1a ArduCopter: changed "unsigned long" to "uint32_t"
99859ae42f ArduCopter: added cast to (int) in printf statments.
360c1198a6 ArduPlane: more "int" to "int16_t" and added cast to (int) in printf statements.
94552b57a7 DataFlash: replaced "int" with "int16_t"
6d489947cf ArduPlane: replaced many "int" with "int16_t", "long" with "int32_t"
976679208c AP_Common: change a few more "int" to "int16_t"
71f12fbc9b AP_Compass: replace "long" with "int32_t"
8a29f47ce0 AP_GPS: replaced "int" with "int16_t" and "long" with "int32_t"
7a6732fb4b ArduCopter: removed unused icount variable from commands_logic.pde to reduce compiler warnings.
87d5b5944d ArduCopter: commented out get_acro_yaw2 function to reduce compiler warnings
8a6085a3ba ArduCopter: removed unused maggy variable from test.pde to reduce compiler warnings.
00f0092ae4 SITL: updated ArduPlane autotest parms
c9ba693e1f AP_Baro: the HIL baro needs to inherit calibrate() from the parent class
07c7c3945d ArduCopter: fixed small bug re arming_counter for TOY mode
9773c8ce93 ArduPlane: commented out two unused variables to remove compiler warning
14cdbd36cb AHRS: check for bad values in the error before they can affect DCM
81cd4b6c13 Filter: ensure the derivative filter never returns an invalid number
2e77691ca1 AP_Limits: change order of initialisation of class variables to remove compiler warnings.
92688a793a ArduCopter: fixed compiler warning related to shadowing of control_roll and control_pitch in get_of_roll and get_of_pitch.
8c636ca263 ArduCopter: fix compiler error related to printing boarding type in dataflash logs.
b2b73cc6cb AC fix some Parameter units
bcceedffab Fix Airspeed use use
1b7e27658b ACM : removed old note
0ac1373591 ACM Logging - added APM version #, stab_I term logging
5b03dca71a better commit message for uncrustify
ae6e6a6b51 fixes to preprocessor retab settings
5fcd35fd66 real reformat.sh
52a1739e7c add reformatting config files and shell script
d9cc967508 AHRS: force an extra read of the compass on startup
0868bb76e5 APM: fixed SITL build
e171720608 DataFlash: fixed SITL build
5e690d5680 APM: added parameter FBWB_ELEV_REV
34a1297842 SITL: added SIM_ENGINE_MUL
387a021c30 ACM : APM_Config.h : default removed for toy mixer.
3ee2fd3fb6 ACM: Config.h - added default for toy mixer
770956a3fd ACM : Made control_roll and pitch global for logging; made yaw towards waypoint use initial angle and not a recalculated angle to deal with wiggles as we approach WP
9cee1b2fa0 ACM : Upped Yaw Limit to 2200
bdc1c41e62 ACM: made target bearing the lead filtered location
bd91215770 Dataflash fix for missing card error
0f9f72e8ab ACM: added nav_yaw to att logging
9d2049bffb Mission Planner 1.2.6 add tracker location option. fix current sensor screen add more right click flight planner options. make some connecting error messages more detailed. add partial microdrones protocol output
36f947acb9 ArduCopter: changed all "int" to "int16_t" and a few "long"s to "int32_t".
a72bf6ef57 ArduCopter: replaced abs with labs as required in a few places.
82954f823b SITL: make abs() 16 bit in SITL
6300fa7399 math: more abs() fixes
a66e43aff1 Location Lib : Abs was overflowing causing bad comparison
4d5d16720b ACM Test: Added a return statement
ff38dadd00 Location Lib. Potential fix for bad angle and distance calcs.
31f31eec75 ACM : Test for bearing calc
99dcbd039d ACM Log : fixed formatting
3ca57ac105 DataFlash : Removed Chip Erase - relying on Block erase only
ce2a608706 Dataflash Logs : Fixed block erase on APM2
034fb5b194 APM: fixed hil build
d27e51f20a APM: allow telemetry send during parameter and waypoint fetch
ed064b2506 MAVLink: enable fetching of single parameters
73dcbc24c3 Quaternion: we no longer support acceleration in the GPS driver
2d47bd0386 GPS: support getting raw velocity values from a UBlox
c960db7af5 APM: allow for separate calibration of airspeed/barometer
ad73c229ab APM: added LAND_FLARE_ALT and LAND_FLARE_SEC
1252ddfe0c APM: rename RDRSTEER to WHEELSTEER
ffbd229841 APM: use AHRS position for geo-fence
a6327e254c SITL: use rudder steering in APM autotest
df3c8a5bc0 APM: when land_complete is true, use land_pitch
2d7fcbd14b APM: reload airspeed and throttle after landing
47be6d8ad1 AP_Airspeed: remove airspeed filter and run at 10Hz
a4b1b9f0a4 AP_AnalogSource: make read_average() return a float
e26e8b3b67 APM: added RDRSTEER_ PID for steering on ground
52064772ee APM: report speed changes via MAVLink
817017658d APM: implement FENCE_ACTION_REPORT
299711f4a9 MAVLink: added FENCE_ACTION_REPORT
9b4b7997b6 AHRS: added ahrs.yaw_initialised()
533aab4f66 SITL: added a test script for starting in Kingaroy
8cb55eb75a APM: keep the time of the last heartbeat message
0584017aff APM: expose change_command() and geofence_breached() to libraries
ff6301fb46 APM: show waypoint number in jump message
92bdc23ab6 APM: minor formatting fix
b6b12532da SITL: make it easier to start ArduPlane SITL at any location
2865434d02 APM: added 'OBC' failsafe module for ArduPlane
5631b90222 APM: interpret zero lat/lng as being current location
93f1d5645b APM: fixed LOITER_TIME and LOITER_TURNS
57cc89b730 Failsafe: only read RC on new data
09da478456 Failsafe: added COMPETITION_MODE
ecd3c58529 Failsafe: prototype of APM2 based failsafe system
f1af837543 ACM: Switched to filtered loc
cdd2093a4c ACM: Switched to filtered_loc for distance calcs
a4bc5950cf ACM: Added a filtered version of Location for GPS lag.
993c89c4f8 ACM: Revved the version
2a83f1eef2 ArduCopter: remove RTL_LAND parameter as it's been deprecated in favour of APPROACH_ALT.
6603e7724d AutoTest: set RTL's APPROACH_ALT to zero to force the copter to land instead of hanging out at 2m and causing the auto test to time out
c574393995 AutoTest: update failsafe timeout to 180 to give it more time to pass.
99e96031f2 APM_RC_APM2: updated comments for clarity
26d83791db ArduRover: deleting this.  Please see APMRover2 for latest Rover code.
db59065d26 ArduRover: latest rover code is in APMRover2 directory
cf943255a5 AP_RC_Channel: deleted this library as nobody seems to be using it.
35e7a6e018 GPS_IMU: deleted this empty library as nobody seems to be using it.
59cb6e5dba Waypoints: deleted this library as nobody seems to be using it.
62c3ea9ea1 Trig_LUT: deleted this library as nobody seems to be using it
004c8bd5ed AP_EEPROMB: deleted this library as nobody seems to be using it.
3482f05b48 APM_RC: rename example sketch directories for APM2 so they can be opened easily from arduino ide
48e275e22d AHRS: avoid a compiler bug in quaternion code
b01a71c4b9 ACM: Toy mode updates - added second toy mode
8160aa6103 ACM : Toy mode updates
1e0ab8768e ACM: Toy mode updates
b27c1ce396 ACM : Added check for second Toy mode
11b7475ff9 ACM : Added CH7 multimode triggers, split Toy mode into two
45574c0b1a ACM : CH_7 multimode option added
c305237e3a ACM : Added CH_7 Multimode
32832dd296 Mission Planner 1.2.5 add experimental antenna tracker find add new apparam eeprom reader add ground alt display to hud mod stats modify guided mode alt selection. test flight planner tab on flight data tab move some functions to the right click menu add xplanes data in/out setup to be automatic. add better mission upload handeling.
19a5d11669 AHRS: use airspeed for wind in forward flight
3bdc7d41be INS: disable INS AP_Param table when not on APM1 hardware
f5b7ae213c AHRS: added AHRS_GPS_USE parameter
c31eef59ae Mavlink: log wind estimation result
4951d686f6 Mavlink: re-generate with WIND message
8d914b14e4 Mavlink: added WIND message
779dacfd24 AHRS: added wind estimation code
0ba57d05eb AP_Math: added matrix column extraction functions
c7d1974741 RC_Channel_aux: cycle thru all functions except k_none and k_nr_aux_servo_functions
780b469b11 ArduCopter: Enable the aux servos later, only in the slow periodic loop
81440a1b09 AHRS: fixed build
d9b09d2c93 APM: allow for navigation by dead-reckoning
af4071894e AHRS: added long-term dead-reckoning
618f43bef6 AP_GPS: added last_ground_speed() method
8a6fcf998b AP_GPS: fixed types to be stdint types
3419d8e006 SITL: fill in SIMSTATE.lat and SIMSTATE.lng
d46b7a67b7 MAVLink: re-generate MAVLink C code
d9ad1c8616 MAVLink: added SIMSTATE.lat and SIMSTATE.lng
87fca1985f AP_Math: added location_update() and location_offset() functions
9fea3e3ac1 APM: pass airspeed sensor to AHRS
f95b06a880 AHRS: make airspeed sensor available to AHRS
c2dc920d02 ACM: allow users to set the AHRS_YAW_P and AHRS_RP_P
b01907cf23 ACM: fixed HIL build
3ad08b7ffc ACM : Added larger WP radius for fast waypoints so we don't loose speed angling in on the WP at the last second.
9a568385b0 ACM increase the minimum speed at WP
be0559864c ACM : switched to get_bearing_cd
132ac7d412 ACM : attitude.pde  - removed unused function
e12ce1d5a7 MOTORS Mixer: temp removal of Yaw Contrib code
e73c0250ad ACM: Radio.pde - toy mode updates
f641c5d077 ACM system.pde - toy mode update, cleanup of throttle cruise code
35839070ad ACM - isolated Toy code
adf5939ba4 ACM: navigation - Alt cleanup, fast corner support
6037fabb5c ACM Motors.pde
88a94c88b5 ACM : more aggressive and flexible flip code. Will flip right or left, and while pitching hard.
d674baadd2 ACM : Events - renamed target alt
07bd1940e7 ACM Defines.h  -added Toy mixer enums
26e3d6090e ACM control modes - renames CH_7 flag
3e57f8afd8 ACM: config.h = updated default gains
b5156185cc ACM Commands parser to look for future nav commands to inspect upcoming turn angle
d796814dfc ACM : Commands Logic
98b8866215 ACM: Added fast corner support
5d756decd2 ACM : Attitude.pde
02649f3f11 ACM : Arducopter.pde
4a56e8ea2c ACM : Toy Mixer options
52b2aacf28 AHRS DCM: FOrmatting
32e354be4e AP_Mount: Reduce parameter name length, to allow MNT2_* strings to be smaller than the limit of 15 characters
0ffc89d512 APM: support the MISSION_WRITE_PARTIAL_LIST command
f812fc921f build: fixed more build warnings
0763bbd1af MPU6000: fixed some build warnings
c70bae9617 AP_MetaClass: fixed a warning
7f4b7703c1 AP_Param: fixed some build warnings
6213032957 MAVLink: removed obsolete files
5d1d9e9042 MAVLink: added generator.sh script
dc47074dbd MAVLink: removed the need for Mavlink_compat.h
2a7b298bbc MAVLink: moved mavlink variables back to library
5498d347f3 APM: Added RST_MISSION_CH option
e2c8ec2c9e APM: removed THROTTLE_REVERSE option
6b12ad79ff APM: tweak Rascal autotest settings
e133900c68 APM: Added STICK_MIXING option
d34549f386 Add an optional second mount to ArduPlane and ArduCopter
0b0b9c29a2 Allow fully independent operation of two AP_Mount instances
9cc705939a Add a second mount instance
530ea0bebd AP_Mount: Enable Joystick speed code, now that the framework supports more than 16 parameters per group.
a8c99f3887 SITL: fixed deletion of eeprom.bin
03714fc695 ACM: make it possible to set AHRS_GPS_GAIN on ArduCopter
dc99586981 APM: removed pointless load() call
103b02fe94 ACM: removed pointless load() calls
dcc50b5705 AP_Airspeed: removed values passed to constructor
e6e25525bc AP_Param: avoid saving values within 0.01% of the default value
45c27317ef AP_Mount: fixed defaults for angles
2114acddf1 APM: fixed default flap speed
5bfd1200d6 APM: change variables to use _cm, _cd and _ms suffix for units
fb26160d3b ACM: change to use get_bearing_cd() instead of get_bearing()
a5b5546e2a Rover: change to use get_bearing_cd()
8ae35cae1c AP_Math: rename get_bearing() to get_bearing_cd() to make units obvious
a823c9ceae APM: removed cli slider and dipswitch options
dfac01e6f1 AP_Param: updated APMrover2 code for new AP_Param syntax
c2a4d59132 AP_Param: update ArduCopter core for new AP_Param interface
12cd6b68ff AP_Param: update ArduPlane core for new AP_Param interface
9355bd6832 AP_Param: update VARTest for new AP_Param interface
7ff7514a88 SITL: added pgm_read_dword() and pgm_read_float()
518d6365ff AP_Param: update remaining libraries for new constructor syntax
898a5af692 AP_Param: update AHRS for new constructor syntax
5e8fe8d93e AP_Param: update PID libraries for new constructor syntax
c298d5130f AP_Param: major update to use default values in var_info table
1b099344a3 Rover: fixed build with new RC_Channel code
a7b9aff79f AP_Baro: the DerivativeFilter now handles duplicate data
77f3b60b6f Filter: make the DerivativeFilter test GNUPlot friendly
899eeb608b Filter: automatically cope with duplicate timestamps
7815e3d810 APM: fixed rounding of altitude
d7d33c64b7 Filter: fixed a off-by-one DerivativeFilter bug
f79b90725e ArduCopter: Dan Gray's fix for Condition_Yaw
45d21c7b5e Merge branch 'master' of https://code.google.com/p/ardupilot-mega
f90d4b7ead Mission Planner 1.2.4 remove geofence tab add guided alt remeber change wp upload retry to 200 ms
d9f1140278 ArduCopter: Use generic channel names for AP_Mount servos.
e93daca17e Fix heli compilation
f843b42e5b Mission Planner 1.2.3 hud font move add progress bar lock add quickview mono fix fix centi-degree/degree units fix mnt config camera tab fix some meters/feet scaling issues
2c4a0636f3 AP_Mount: move mount to a "retracted position" into the fuselage with a fourth servo
f14237126a Add me :)
aa3cc63b15 ArduCopter: Make the code fit in a 1280 chip again
0106c133cf Default CLI_SLIDER_ENABLED to DISABLED
af08b630cd Spellcheck in comments
107155fa1a AP_Mount: Allow using any RC channel to control any of the mount axes.
b8c7b8a786 RC_Channel: Allow each channel to know who they are, this simplifies the enabling and output function calls.
afd96025a7 ArduCopter: Save more space in APM1280
9c1ac2d9e6 More work on ch9, 10 and 11
95f2af6d2d Implement set ROI
4ba847c449 The mount type must be updated periodically
bbc4bdb729 More flexible RC support
d29f7023cc Merge from ArduPlane
50b5d33745 Enable camera triggering by default
82b82283be ATmega1280 does not have enough memory for mount support so disable AUTO GPS support, to allow mount support to fit.
7a887bb27d Mission Planner 1.2.2 add DegreeTracker fix popout tab on config page add remember last config tab fix bytes send count fix deactivate bug fix ap_limits bug fix ap_mount bug
e0e0fe0ce5 firmware build
301ab00c5b APM: added control switch debouncer
c091c8e0e6 ArduCopter: bug fix to reset yaw target when zero and when in stabilize or acro mode.
176e6fdd68 ArduPlane: bug fix to global var_info parameter list for ahrs object.
a5b5f6a619 ArduCopter: bug fix to global var_info parameter list for ahrs object.
7262b0429a AP_Limits: experimental "bounce" mode.
4ffc5e211a Fixing Trad Heli Ext ESC Controller -Added ramp-down rate instead of instantly setting ramp to zero when throttle is dropped to bottom. This is to allow "warm-restart" if shutdown was unintentional. -Actual ESC still goes to zero while throttle is dropped to the bottom, only the ramp counter winds down slowly behind the scenes.
de85442c36 AC2.7.1: Updated version and tag
0b49ac0ed0 APM: fixed overflow in geofence code for altitudes above 327 meters
8c47b0c087 ACM: Toy mode fix - Pitch flipped the sign on roll/Yaw coupling.
77b1785bc6 ArduCopter: reduce stabilize roll, pitch and rate yaw IMAX values
8001515b7e Mission Planner 1.2.1 add enable/disable to mavlinkcheckbox modify my button to curved add delay to progress reporter dialog. to ensure correct parent Fix Mount screen for AP Fix Hardware screen Text display roi difrently modify HIL/Quad Hil update dataflashlog format (thanks randy) update mavcmd format for roi
cb61c3be96 APM: fixed case of 'LAND_PITCH_CD'
e577b51e17 AC remove attitude hil unused extra (gps jump issue.)
5cb4a88292 ArduCopter: reset target yaw when throttle is zero (except if failsafe has been triggered)
06e35820e5 ArduPlane: allow MPU6000's DMP to be used for attitude estimation.
5077674043 AP_InertialSensor_MPU6000: another attempt at fixing the SITL build
7683e9d870 AP_InertialSensor_MPU6000: changed DMP memory definition (dmpMem) to const uint8_t to remove SITL compile errors (hopefully)
3047084ed3 ArduCopter: added DMP_ENABLED to APM_Config.h to make it easier for people to enable it.
0eaf427062 AP_AHRS_MPU6000: cleaning up compiler warning due to unused yaw_deltat variable
670a66667f ArduCopter: fixed HIL build by removing ability to change _kp and _kp_yaw gains (used for accel and gyro sensor mixing)
48074f4766 AP_InertialSensor_Oilpan: changed initialisation order of parameters to remove compiler warning
ef870e3ca1 AC remove some attitude HIL limitations
842ce47219 ArduPlane: change to Parameters.pde to support moving var_info from AP_AHRS to AP_AHRS_DCM
1b521a9f73 AP_AHRS: updated test sketch to allow use of MPU6000's DMP
94cb325184 ArduCopter: added ahrs.ini() to system.pde to allow offsets to be pushed into MPU6000's DMP
014f5aae99 ArduCopter: added DMP_ENABLE #define and CH6 tuning value for AHRS_KP
f97257830b ArduCopter: changes in arducopter to support moving AHRS var_info from AP_AHRS to AP_AHRS_DCM
dbe7c8ed1a AP_AHRS_MPU6000: first draft implementation of class that uses MPU6000's DMP to calculate attitude
b844bb7919 AP_AHRS: removed var_info from AP_AHRS class (moved to AP_AHRS_DCM)
468170b589 AP_AHRS_DCM: moved var_info to belong to AP_AHRS_DCM instead of AP_AHRS
7b9782c5ac AP_IMU_INS: added gx(), gy() and gz() methods to return gyro offsets
6cd0918134 AP_InertialSensor: methods added to access DMP functionality
cb0eacca37 AP Fix Hil Airspeed calc in m/s
c87337a3a8 firmware build
9eb05a2e1a APM: update version for 2.50 release
6bcfe913f7 APM: added a SCALING_SPEED parameter
3c2fc72654 APM: fixed HIL build
07992bc943 APM: fixed build
4b4b67496b MAVLink: rename the message_definitions directory
8dd62829f9 MAVLink: removed MAVLink 0.9 message definitions
7e697e4abd APM: switch back to old nav_roll calculation
ca6419bf52 Mission Planner 1.2 Enable Mount config screen Add Quick View (double click to change) fix mono updater issue RFD900 transmit values Mod new mavlink controls (wip)
8e5312a759 ArduCopter: add support for MAVLink's MAV_CMD_NAV_ROI command
bb05dab924 AP_Mount: addition of Amilcar's mount_type
c8e0da0dd1 firmware build
f4705577c8 AC fix sitl attitude hil build
af0d2de2ed Use MAVPROXY_CMD instead of MAVPROXY
05de9e425c Added run_sim_mission.
8188058404 ACM: Failsafe Fix for Mission planner initiated AUTO mode
39ad8b5eec AP fix sitl hil attitude mode.
9cd98e79dd AHRS: normalise GA_b before computing error vector only if too large
8bebf0c394 APM Planner 1.1.99 Convert to IActivate, IDeactivate scheme, thanks andrew add support for rfcomm* interfaces on linux fix guage off screen draw mono issue. remove use of BackStageViewContentPanel andrews spacer changes - not using dues to screen space issue change configpanel constructor to load xml directly remove IMavlink Interface fix hsi off screen draw issue on mono modify hud to use sprite fonts, instead of drawing via GDI+ modify progress reporter to use a 10hz timer to update screen, using invoke/begininvoke fails on mono at 50hz (over 100ms per call). fix targetalt and target airspeed jumping issue. lots of cleanup on tab switching, ie stoping timers/other 3dr radio status led update update ardurover car icon speedup georef image screen. tested on over 1000 images.
80cf794c86 AC: ArduCopter 2.7 release candidate - updated THISFIRMWARE constant.
b17eb7f768 ACM: Fixed Baro rate patch to work with Sonar and added simple filter
96aabb7712 ACM: Lowered default Alt hold P
9e72d4c3f4 APM: fixed a problem with wayoints completing early
175b6d2606 AP_AnalogSource: fixed reporting of VCC
55c342c858 ACM: Safety patch for CH7 flip toggle. Prevents flipping while on the ground. ouch.
1d085c8cf4 Added minimum speed for RTL
fcd0e12a1e ACM: Flip code revision to fix bad orientation bug.
ca70acbf64 Arducopter: Added safety check for inadvertent triggering of flip code.
9f6e1347b6 Ardcucopter: RTL distance check update, reset I terms fixed.
5f5ab9c07c AHRS: if we don't have gps correction enabled, zero the yaw correction
613849a8df Arducopter: Force nav_yaw to match auto_yaw when starting a mission
2b20c85279 Arducopter: cleanup, skip out of throttle control when flipping.
fbe898a6db Arducopter: motors.pde formatting
3b496ff229 Arducopter: Upped D rate to .005 by default
0a12b6ad6f ACM: fixed HIL build with new accel setup code
85465c9126 MAVLink: fixed another two places where micros() was used for a millisecond time
c937738732 AHRS: allow the gps/accelerometers to control yaw when rolled
151a50b6af MAVLink: imported updated generated mavlink C code
f46e8468c4 Arducopter: Adjusted speed of climb to not stall out before hitting peak
da6d981479 Arducopter: Testing toy mode - commented out by default
ad45012739 Arducopter: Renamed Config define (RTL_HOLD_ALT)
351b503fb6 Arducopter: Flip Check
49c7579079 Arducopter: Config.h defaults adjustments
610d1d1795 Arducopter: deprecated the get_nav_yaw_offset function.
91062b56af Arducopter.pde: Increased the throttle Hold altitude control
6506ebf69f Arducopter: Fix compile issue
5a73a2b9cd Arducopters parameter: Adjusted RTL_ALTITUDE units so they reflect comments in config.h
2df487ab7b Arducopter: Slower WP deceleration for RTL and WP navigation
3401bd3583 Arducopter: Clarified units in comment
3a62608355 Arducopter: Added Slow_WP setting to regular wp navigation
1efc9eac58 Arducopter: Adjust landing speed
98237a0e00 Added Oilpan INS group object param
e574f3c8cf Arduplane: Fixed unsigned int comparison warning
c9d3ab5413 Oilpan ADC parameters added
e09d6ad7a8 Arducopter
a7b1252b51 arducopter
c995749aaa Arducopter
66ac438b9e Arducopter
dcf9f9dab1 Arducopter
71248fe114 Arducopter
c9851344e7 Arducopter
a88d69e40e Arducopter:
aa645afe2b Arducopter: Altitude change nav
cb1cdcd4a7 Arducopter: New Alt control code
3f5e787fe8 Arducopter: Flip mode
9dad38e91d Arducopter: Flip mode
5965632888 Arducopter: Flip mode
f73a2004be Arducopter: INS
98725be0ec Arducopter: INS
97845cace1 Arducopter: INS
0d8e8e0a04 Arducopter: INS
bb99bd4626 Arducopter: INS
148da2e4a0 Lead Filter: simplified calculation
819b6459b2 GPS-UBlox: removed duplicate config messages
d02655ac56 APM: Fixed bug where landing_pitch wasnt initialized properly
d6e370886f APM: rename airspeed_cruise to airspeed_cruise_cm to make the units clearer
1cf5057c61 APM: Use g.airspeed_cruise for turn rate calculation if the airspeed sensor is disabled.
c7da63509b APM: Removed unused YAW_DAMPENER code.
d9d055ef78 APM: Removed incorrect nav_gain_scaler from nav_roll calculation.
3d385c0fb4 ArduPlane parameters: re-order the files, looks like the second file gets ignored :(
3de23220ed RC_Channel parameters: Fix a typo
8a8e11fa7f ArduPlane parameters: Add base class info as well
610fdeacc1 Support up to 11 servos in APM2
22d2f9ea15 Support up to 7 aux servo outputs
33d8cbfd51 ArduCopter: small bug fix to radio.pde to allow code to compile when MOUNT == DISABLED
b691c3f658 ArduCopter.pde: added call to set_manual_rc_channel to allow pilot's channel 6 to control pitch.
e61cf0e1f9 AP_Mount: added set_manual_rc_channel and set_manual_rc_channel_function to allow input of pitch, roll and yaw controls from a regular RC_Channel (i.e. not RC_Channel_aux)
83d49dbb88 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
461098b289 Replace long with int32_t
724c5f6490 Use ascending order in the values
636fcadde4 fix rc libray param gen
1da0ce20ce Improve parameter documentation, it still does not work, but is an improvement.
c0f8f6251b param_parser: input validation bug fix
0e5345d17b AP_Limits: documentation bug (which uncovered a param_parser bug - the irony burns)
fc4f111d15 Changed mavlink GLOBAL_POSITION_INT.relative_alt message to correctly return altitude above ground.
a976a59c88 AP_Limits: Configuration defaults moved to config.h. Fixed AP_LIMITS==DISABLED handling.
9e4d118fdb Airspeed Library - fix param names. The Group definition give the start of the param name. This way we can maintain multiple instances if required of the same library as options.
822e682140 Planner missed files + cleanup old binarys
3cc2e63791 APM Planner 1.1.98 Modify BackStage View - will change again soon modify target alt calc change order on param lists remove old firmware selection dialog add hil mod flag to hil connect implement main switcher - will change again soon change some invokes to async, to prevent other threads slowing. fix mavlink log graphing error modify help text general mono for mac fixs - still combating https://bugzilla.xamarin.com/show_bug.cgi?id=3124
de3c9ce56d Airspeed: change APM to use new AP_Airspeed library
feb456de56 Airspeed: Added AP_Airspeed sensor library
acef75319c AP_MotorsMatrix: small bug fix to limit checking on remove_motor call.  Fix thanks to Michael Peschel!
e632ad6aa4 AC fix limits param gen header
36ecdff593 ArduCopter: removed unused config for CAM_ROLL_GAIN and CAM_ROLL_PITCH now in AP_Mount library)
c495a5f36e ArduCopter: added enable_out_ch and output_ch calls for rc_camera_roll, pitch and yaw servos so they actually move
761dad4e99 ArduCopter: restored set_range calls for RC_Channels 5 ~ 8.
29b6ec0b11 ArduCopter: reverted channel 5~8 to be regular RC_Channel objects, restored rc_camera_roll and rc_camera_pitch RC_Channels and created new rc_camera_yaw RC_Channel to control the camera mount servos. Defined camera_mount (MNT_) in Parameters.h and Parameters.pde so that it appears in global parameters list. Removed unused camera_*_gain and camaera_*_continuous parameters.
793fb7f059 ArduCopter: added definition for yaw channels.
669ffb5ef8 RC_Channel_aux: added enable_out method to help stop servos from moving before the mount has initialised.
5616b1769b AP_Camera: changed "int" to "int16_t" and "long" to "int32_t" here and there.
c73f7ef3ab AP_Limits library, provides modular "limits" such as altitude and geo-fencing.
584e7dcda4 Arducopter: Removed Yaw Limit for Quads
44b16b7b61 Arducopter: Temp reversion to old Yaw controller.
e3af0c7920 Arducopter: Yaw stop fix
a469682b7b fix param config names
59e133235f Implementing Yaw Fix.  Tried to blend with Jason's changes.
ed235a3924 Change to prevent Tricopter servos from going hard-over during Disarmed state. Believe this was an oversight when the change to AP_Motors went in.
8ce9aae2f7 Instituting Yaw Differential on Multirotors.  Intent is to stop "rise on yaw input". Since motors with increasing speed due to yaw input seem to generate more thrust that motors that slow lose thrust, thus net thrust goes up, causing copter to climb. Values are a guesstimate, proven out by test flying.  This could probably become a parameter.
4af392290b Circle_WP: Fix for Yaw toward center, fix for transit to Circle WP from a distance
7b746cf5e1 Arducopter: Wrong define used, caused Copter to Yaw to home when flying missions
d34ca0e6ea Arducopter - commands: Add home logging
67ecaa9252 AP fix duplicate keys in param config
d8ff5dcfab Arducopter: Fix circle_WP
a28070e0e0 Arducopter: Loiter unlimited fix
f228eac8c7 APM Planner 1.1.97 add toy Mode fix some mono issues fix opengl hud issue change config font size modify mylabel for mono modify default telem rates add extra sonar option remove 0 home alt check fix terminal hang issue remove application idle call, causes 100% cpu on mono update gimbal icons modify graph line thinkness
d4a0cb5db1 Added Michael Pursifull's Maxsonar HRLV model support
7a5544051d Arducopter
6f9e2bf3a8 Arducopter: Toy mode update
6f8d0a02a4 AP_Camera: moved seme constructor initialisers around to remove compile warnings
4dd4c95d5c AP_AnalogSource_Arduino: fix to allow analog port to be read to be specified as a "channel" (i.e. A0)
1feaaa4655 Arducopter: Toy mode refinements
293f17902b Arducopter:Arducopter.pde
c04bff67de Arducopter: Config.h, default gain tweaks from flight tests.
f35b5ba13f Arducopter:test.pde  made a note for WP radius that shows m in the printout.
782ebf5176 Arducopter:Log.pde Logging the calculated Climbrate
3048d2f9b4 Arducopter: WP_radius
0620d86bfd Arducopter:Params
1dbde3f803 Arducopter: Added note
af5423b863 Toy Mode: High Yaw default
19d8c405fd Arducopter : Force home alt to 0
89fec907e2 Arducopter: CH7 Waypoint saving
dfe0983e1e Merge the changes from APM_Camera branch into ArduCopter
cc02d85cdf AP_Mount: add support for non-spring-loaded joysticks
9a41cbffdf RC_Channel: improve parameter documentation
46d20c2d6b Remove unused function, remove unnecessary angle wrapping.
bccb07cbd0 Allow mount control when no AHRS exists Allow mount control on non stabilized axes
be763a6ead ACM: use get_distance_cm() not get_distance()
a72f6acef6 AP_Math: added get_distance_cm() to return in centimeters
165604a55c AHRS: fixed HIL build
0f9fb2c64b AHRS: added AHRS_GPS_GAIN parameter
e1725e9ea5 AP_Param: added some docs on the eeprom header format
ba205d8ff5 autotest: create kmz files on timeout
c80a88766f APM: added credit for FBW altitude limit code
6d3fdfc03a DataFlash: The current method for checking if chip erase worked is producing false positives.  We are forcing the block erase until we have a deterministic test method.
f019d41729 arducopter.pde
226bba48a6 Toy Mode Yaw Rate fix
cf6d73ec88 commands.pde RTL Alt
038116f521 Airspeed patch:
de64c05f8e param_parser: cosmetic Arduplane: doc fixes
af338939be RC_Channel: Improve documentation
46552b4222 AP_Mount: Fix radians/degrees scaling regressions
78c51b945f APM: fixed DisplayName/Description mixups in parameter docs
b1fb2eb71c Rover: changed to auto deltat in Rover code as well
d755fedc26 AnalogSource: prevent a division by zero on zero ADC data
f6d7d1bc59 APM: changed PID library to do automatic deltat calculation
58fd91165f APM: fixed some build warnings and type errors
29338fbf7b auto est: modular tests and unit testing with Junit.xml output for jenkins
f501503eb0 AP_Baro: improved barometer averaging
520d762382 Filter: split the DerivativeFilter steps into update() and slope()
3c7e521f70 AP_Baro: update MS5611 test to use baro library altitude
302696951a AHRS: make the yaw independent drift correction optional and disable
c4433b6944 APM Planner 1.1.96 Fix camera stab reverse boxs add better param data duplicate handling add rfd900a tweak terminal settings
75772b83cf autotest: don't set a negative max pitch limit!
3a792abb4d autotest: tweak the Rascal tuning
384365832a ArduCopter: Copied parameter documentation from ArduPlane, where appropriate
8c5ef3e60f AHRS: only enable barometer for AHRS if it is smooth enough
ec0995eea1 SITL: lower baro noise a bit
6534dab719 Filter: fixed DerivativeFilter example build
d29b6ce0a8 SITL: run the HIL barometer at 80Hz to match APM2
209136386b AP_Baro: added get_pressure_samples() interface
1a42b10255 Filter: fixed typo in 9 point DerivativeFilter
186a3e4f6a param_parser - better tolerance for missing parameters
5abd26a142 APM: more parameter documentation
21f06f8a39 GeoFence: fixed default return altitude units
2010d3aaa3 parameter metadata parser: better values formatting
425ef33b59 parameter metadata parser: escape wiki characters
8220ae8096 MAVLink: climb_rate is in m/s
fdbb1ebd42 parameter documentation to test auto build
185c6e5b32 AP_Baro: change to a 7 point DerivativeFilter for climb rate
75470dc912 Filter: cope with non-uniform time steps in the DerivativeFilter
0385932afb MAVLink: added climb rate reporting
f03ba86d9d SITL: add some minimal noise when motors are off
95d9569b35 Docs: fixed some units in APM parameter docs
60caaa4b04 MAVLink: remove MAVLink 0.9 protocol support
adf6030cfa CPUInfo: added acos(), asin() and atan2()
2cd6da2539 AHRS: only use GPS for yaw when compass is not being used
adfa97b6f8 AHRS: enable barometer for vertical velocity
f9fc7aafe7 AP_Baro: use DerivativeFilter in barometer climb rate
f19e5a6273 Filter: added DerivativeFilter implementation
9f8703274c AP_Baro: show climb rate in baro test sketch
857ad6c706 Camera.pde: Implemented gyro based camera stabilization to support continuous servo gimbals.
6e93ab6af6 Parameters: Added flag for camera pitch/roll servos (continuous or regular)
9f6fb89392 parameter metadata parser, display improvements
453c1677b5 parameter metadata -> wiki, bug fixes
b5f47f5e63 AP_Motors: clarified some doxygen descriptions for TradHeli
c4b59a89da parameter metadata parser and wiki generator
0febf76d9d Document++
e9c72822dc Remove unused function
c35a2e999b SITL: added SIM_GPS_DELAY parameter
faeda3713e AP_AHRS: removed DCM_test example sketch
3849ca8b5c AHRS: make DCM drift correction not rely on accurate yaw
c8f5aeb7ba autotest: change loiter heading accuracy to 10
61f325713e SITL: fixed the normalisation of the DCM matrix in the multicopter sim
1cd8c54f21 AP_Math: cope with co-located waypoints in location_passed_point()
468dfe3faa AP_Math: the windows arduino build is missing acosf()
0bdce404a5 AP_Math: add include of math.h
5ed345fe94 ACM: removed some Location functions which are now in AP_Math
be9b9f3e67 DataFlash: fixed SITL build
dd24330645 DataFlash: fallback to BlockErase if ChipErase fails
fb66899414 APM: changed test for having completed a waypoint
6ee9f1ae97 APM: use new location functions
dd200cba31 Math: added location functions to math library
1314e4f872 AHRS: make P gain on PI roll/pitch controller tunable
fd97eb5a8d commands
37685756df Config.h:
c29a0bc3f8 Navigation
3a3966736c Params
8ccda519fa Arducopter.pde:
b076b571eb commands_logic: Removed some old unused code
2d572461ec Config: increased WP distance to 2m but default, removed alt hold D: causing issues with APM1 noise.
1070eea70b Log.pde: formatting
1a6549fef7 removed GPS ground speed calc - was causing some funny business during the transition.
c62706ad06 Toy Mode: Yaw performance update.
8a08a74cc6 Config.h : shortening the landing time to 10s
16b25a26c2 Toy Mode: removed virtual WP, copter now just goes into auto_loiter when not holding the sticks.
060cbe2030 AP_Mount: removed unused enum
99b11e4f19 Mount: enable mount control via eeprom parameters
82e09ce53a SITL: don't enable wind until we are off the ground
057eb5e6f6 Baro: average over all pressure/temperature samples on MS5611
f70cd71791 Baro: fixed build of MS5611 test code
e0b3309500 Yaw mode:
9a30270879 System.pde - RTL
e35fb9ecd7 Parameters
3cf16c1424 GCS_Mavlink.pde
ab564b8a86 defines.h
3646d69faf read_control_switch
8ab1acfb92 Config.h
2ad08fdd98 RTL: Commands.pde
d58ceb2b09 RTL: Commands.pde
c5617eeeac Arducopter.pde_RTL:
2450c25544 Arducopter: enabled RTL_altitude, renamed function to be more accurate
2e8eee9306 Added code for self centering throttle - disabled by default.
b2d73d8f68 fixup sitl attribute group for planner. - causing invalid advanced/standard views
46f004bcca APM Planner 1.1.95 fix config panel value change detection add loiter_ to AC config screen Add praram name to Friendly param, and exception ignoring. fix param file note line intergrate andrews gimbal config. fix any possible log appending issues remove old cli planner on connect modify speech to not crash on windows mono
d1cb8c9a60 ArduBoat: removed use of analogRead()
769011e947 AnalogSource: added some example code
1fdcc3e8f0 SITL: added support for new analog source
82ede937e7 AnalogSource: convert analogRead() calls to the new API
c8befe4536 AnalogSource: make the Arduino AnalogSource interrupt driven
78fa903e17 ArduCopter: updated STABILIZE_ROLL_I to 0.01 (was 0.1) as instructed by Marco
4d6ccccef5 Circle_WP distance check fix
59d16f5fe0 Commands.pde: increased bad WP distance check
eea788b63f navigation.pde : Added a drag/velocity prediction filter for improved I term wind correction.
031830b5fe System.pde: Toy mode details for set_mode()
c276fe8fa0 GCS_Mavlink: added notes to #if malink10
0011190880 defines.h: Toy Mode defines for flight modes
4450d80ea3 Config.h: Optimizing Nav gains
3ce867508b Attitude.pde: Toy mode logic
668135ea8b Arducopter.pde: Added Toy mode refinements
49401bffae Params: Added toy_yate_rate
5e4d28baf0 Added Toy mode to navigation
e036bee424 Aeducopter.pde: Toy mode updates
61baa666c4 commands_process.pde: Bug fix 427. By default, the copter would land after an AUTO mission. Updated to check for valid approach altitude at end of mission.
136c03c3c0 AHRS: include the P terms in get_gyro()
acc6adf6e9 MPU6k: removed an unused variable
55092c25a6 SITL: enable the SIM_* parameters in ArduCopter and ArduPlane
ed691fc465 SITL: added SITL class for controlling simulation
16c55c64d4 AHRS: don't add the P terms in _omega
dadc7d5a7d ArduCopter: Loiter Timer should have been set when the approach altitude was set. Previously, land had to be enabled before auto approach would work.
37fc6c46b9 AHRS: disable barometer for vertical acceleration
58c4d458dc AHRS: re-instate new DCM drift correction code
d0453c5085 Autotest: use mktemp instead of tempfile
0baa3aa9e0 APM Planner 1.1.94 Fix Issue 668 - typo Fix issue 666 - now defaults to mav 1.0 planner Fix Issue 665 - mavlink 1.0 is now default Fix Issue 663 - increase timeout from 6 seconds to 12 seconds Fix Issue 662 - now reads sat count for mav 1.0 Partial Issue 654 - added current to status, hud still wip Fix Issue 648 - add validation to value Fix Issue 638 - add delay Fix Issue 636 - check for version.txt in app directory Fix config panel null bug Add more Ardurover config options Add Exceptions handling to video format selection Add FORMAT_VERSION to param file ignore list Fix NOTE param file line Add APMRover hidden firmware upload (control-R) on firmware screen. fix possible speach engine exception add dataflashlog for apmrover
85ac024ec5 firmware build
fd241692d0 AHRS: revert to the old drift correction algorithm
a6543f1e84 SITL: removed an unused variable
5bccfbd94c Barometer: fixed airstart for APM
8e044a560b AHRS: include P term in omega
37e2f2ee2c AHRS: implement spin rate limits
e4a245179c AHRS: cope with copters with no compass
09db935874 Rover: a rover moves along its X axis
f4faf941e2 GPS: test the more modern MTK16
27761737ce SITL: fixed GPS heading in simulated UBlox
b811653800 SITL: changes UBlox simulation to 5Hz
5cd5f40f09 autotest: switch to full accel modelling in multicopter simulation
d2e72171ab ArduTracker: update for new compass interface
2e951647c4 Rover: updates for new compass interface
33440567e6 ACM: ArduCopter updates for new compass interface
3a2594fa1a APM: ArduPlane updates for new compass interface
e4d28b12e5 Compass: remove the need to call calculate() on the compass object
3a41ad8e7c AHRS: normalize the ge vector in drift correction, and use barometer
dae1a57dc5 ACM: adapt the ArduCopter code for new barometer interface
6639294c72 APM: update for new barometer interface
c387edd74c Baro: added get_altitude() and get_climb_rate() interfaces
06c8763881 Filter: added 5 point average float filter
d230690b7b AHRS: brought DCM more inline with Bill's implementation
2934b4173b APM: set_centripetal() is now set_fly_forward()
b676caa626 ACM: enable GPS in AHRS for ArduCopter
d4c8041c51 AHRS: first successful version of Bills new drift correction system
4d08f75292 AHRS: update for new _fly_forward flag
0f5c22bd8e AHRS: implement Bills new drift correction algorithm
52d77407d4 AHRS: added GPS support to AHRS test
37db5247cd GPS: added velocity and acceleration components
fe865bc1dc Math: added comment
c30b0d85a3 Math: moved more template functions to the .cpp files
73dc86a47b firmware build
eeab4c5363 Attitude.pde: Turned off boost_p for nav_throttle based on Testing feedback from Marco.
c76ac4543b Added user editable define for Super simple radius
621e020dac ArduPlane HIL: fixed bug so g_gps->setHil calls send time as a uint32_t (was sending a float but was cast back to an uint32_t resulting in a meaningless time that never changed).
068fe64b9b ArduCopter HIL: changed calls to setHIL to send in time as a uint32_t (it was a float)
812bf7d874 Attitude.pde - Added small boost to alt hold for takeoff.
46fb3b783a GCS_Mavlink.pde : mav_nav only used in legacy Mavlink.
cd93c40f09 Added Toy Mode control
807c4ced34 Added Toy Mode defines
80d15368bc Arducopter.pde : Added Approach mode, added "Toy" mode fun code I'm playing with. Added landing code to make landing happen closer to home loc Added check for distance to Loiter WP before overriding a new Loiter position. Moved calc_loiter_pitch_roll() to 50 hz. removed the nav_bearing var - not used with new crosstrack.
7f92d702ab commands.pde: fixed unit error for distance check
a0dc1f7ab1 Config.h : New Gains based on testing, new Crosstrack gain. from 1.0 to .2 because of new algorithm
c71c503c84 GCS Mavlink.pde:  change reference to nav_bearing to target_bearing.
53d2a46cd6 Navigation.pde : removed old cross tracking from Arduplane. Added new 2D cross tracking. Added use of GPS velocity when above 1.5m/s
92d481c08c inertia.pde: WIP don't fly with inertia enabled until FN.
28829b0d60 Log.pde: removed nav_bearing reference and replaced with target_bearing ref
bef005b5f2 AC2.6: Fix battery calculation and scaling bug for MAV1.0, now same as ArduPlane
1064dcbd34 Open up constraint on Rate Yaw Output for all copters.
7b9583453b Added a crude Lead Filter. Needs some fine tuning, lag specification, scaling. Works great on 4hz GPS such as Mtek.
d8be428428 APMrover 2.20b: minor update for HIL mode with the new lib
78ccb9d37f Add linebreaks to increase readability.
7e0708ca36 Config.h - returned low to original 120
98fbd9d53c Merge branch 'master' of https://code.google.com/p/ardupilot-mega
b072a59843 Improve parameters descriptive text
839b8865aa Parameters.h: throttle_min and throttle_max now have defaults from Config.h
efdf0a7fc8 changed define to a param for throttle_min and throttle_max
e8510faf5d changed define to param for throttle_min
6020f6d9fa Added throttle_min as a user definable param
4f18e7f80b lowered minimum throttle
27e0aee03f Small fix to angle boost - increases by about 20% to deal with inefficiencies of non-downward thrust
39a253a273 decreased I term based on the tests last weekend in high winds
8b212d8baa Adjustments to the Inertial_nav
fb93d65457 APM Planner 1.1.93 fix armed/disarmed message
594cedd324 Documentation improvements, no functional changes (only comments)
f4e9587aca Move local temp variables to the stack it saves 1952 bytes Add function comments Only use _ on class member variables Only point to a 3D GPS point if GPS has a fix Implement MAV_MOUNT_MODE_MAVLINK_TARGETING
7efb4ecac4 firmware build
4a50686c3e APM: prepare for 2.40 release
28d62416fe autotest: show logs on timeout
b2f8fad0a3 autotest: try again to get paths right!
d09ac5899b Added support for channel curves (and expo) to AP_RC_Channel class. Also updated AP_RC_Channel example/test to demonstrate and test new functionality
b699c77323 Added support for channel curves (and expo) to AP_RC_Channel class. Also updated AP_RC_Channel example/test to demonstrate and test new functionality
04a2a0eb46 autotest: added --timeout option
58379b928f MAVLink: make usage of MAVLink defines more consistent
54d5819f4c test: it is no longer possible to build with MAVLink 0.9
a851c53de4 GPS: need pgmspace.h for _write_progstr_block()
70f18289c5 GPS: fixed auto-config of UBlox setup with no UBX messages
1fe297ab63 FastSerial: added tx_pending() method
619bcc00d9 APM: parameter enums should not be conditionally compiled
0900751bcd APM: added longer comment on k_format_version
5a4d471053 firmware build
fb4981b730 firmware build
c62cc4844e ArduCopter: updated firmware to simply 2.6 (i.e. removed Epsilon) ahead of the release
e31a1d969f Inertial Nav disabled by default
c42f9ece43 Inertial Control
92cb3cdf6f sitl: fixed fgFDM path
6d2ac62006 Let's keep the same format version until CAMERA is activated by default
07a18904fc With CLI and MOUNT active, the linker says: region `text' overflowed by 3858 bytes
1906e06b69 Added camera trigger functionality
a32b7c200b Add "3 axis camera stabilization" and "point camera to 3D point" functionality Patch by Gregory Fletcher and reviewed by me
881a66ae01 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
5ffd489d87 Spellcheck
846b128075 APMrover 2.0a - improving obstacles detection and tuning
65050775e1 ArduCopter: made Robert's new yaw method optional (off by default).
9355a159fc APMrover v2.20 - use RangeFinder optical SharpGP2Y instead of ultrasonic sonar
ff0659535e Raised the Max throttle to 1000, min to 200. Worked good in SIM with Tridge's motor safety patch.
e1acf21381 ArduCopter: updated firmware version to 2.6 Epsilon
c6f1d93849 ArduCopter: updated standard loiter pids.
1e38b0d535 AP_GPS_NMEA: fix from Roberto Navoni to improve NMEA accuracy
448e4d8728 Added CLI level command
c804860243 Cosmetic changes only.
4e50db2f6e Added missing Manual_level config
37d8f86d33 Added missing Manual Level initializer
f5a85d48a0 Added Angel's name to contrib list
d5c9d31774 Rover: added APMrover2 to build_all.sh
93de111837 Rover: fixed the build for MAVLink 1.0
940d994efb GPS: Use appropiate GPS_ENGINE settings in APM, ACM and rover
f9560ef093 GPS: use the new nav_setting in a couple of the sample sketches
33a2ad7e07 GPS: add stub settings for nav_setting in the other GPS drivers
514be604a5 GPS: added auto-configuration of UBlox GPS
9c1ce9e1c5 FastSerial: avoid buffer re-allocation on re-open if possible
aeaebb21d5 ArduCopter: updated firmware version to 2.6 Delta ahead of the next round of testing (and hopefully soon a release)
99b39aef93 APM: ready for 2.40-beta
cf4e56457b SITL: map() is a C++ function, so needs to be in C++ part of the header
cbf477addd GPS: added debug code to the main GPS class
a8bfc5d8e9 GPS: re-open the serial port with a 256 byte serial receive buffer
a684bddbda GPS: open the GPS serial port with a 256 byte buffer
296e651b30 GPS: fixed the UBLOX parser to handle unknown messages
9c2ba2e814 GPS: tidy up the auto gps test
238a1ced2c TradHeli adding ramp up time to Ch8 Throttle Pass-through.
c5916a8b4d Opening up the Yaw Rate constraint for Trad Heli.
e2496181ff Yaw Fix Modified Nav_Yaw controller to better track intended heading changes.
a9610a0761 Stabilization patches
70b04d9427 ArduCopter: updated firmware description to 2.6 Gamma
8b258e23e7 ACM: prevent link flood with "Low Battery" warnings
ff9743995d autotest: fixed lat/lon update for multicopter sim
f4a4982328 ArduPPM V2.2.68 - Fixed possible logic flaw in throttle failsafe reset if  _JITTER_FILTER_ is enabled
df17ff3bc1 AP_MotorsHeli Syntax correction.
297f391548 APM Planner 1.1.92 add dump -1 option to log dump fix terminal issue with logs fix mavlink 1.0 manual/stablaize Mode fix config screen showing incorrect tab
25c17a5425 re-enable the AP_Mount build
14be88dd55 AC: add hilstate message
47d5f31fc2 removed copy of pymavlink code
7589de689b mavlink: added auto-detection of mavlink protocol version
71f80f3a77 Bug fix: When adjusting altitude, RTL then land will fail unless this var is reset to false.
1b9f75c844 Updates to Flip: Ability to abort flip mode if things go wrong init function to re-enter flip mode if aborted
70669434a2 autotest: wait for VFR_HUD to be non-zero on startup
0f0cbce22f GPS: fixed a race condition in the ublox driver
012fc35314 mavlink: fixed build with uart resend
b6467cb1fa MAVLink: updates to mavlink headers to fix mavlink 1.0 issues
7c63d2c17b ACM: MAVLINK10 uses HIL_STATE
076d1616ba autotest: default to mavlink10
e7cf643386 added mavlink09 targets
d1fe093921 autotest: fixed build_all.sh for MAVLink 1.0
d8919731ee Mavlink: fixed library build for MAVLink 1.0
ec1abbf987 SITL: fixed SITL build with mavlink10
3f4e87cccc ACM: fixed HIL build for MAVLINK10
3af29bd84e AP_Mount: disable AP_Mount until it works with MAVLINK10
60f8d09506 mavlink10: fixed MAV_VAR -> MAVLINK_TYPE
bccfb08c55 MAVLink: updated to latest upstream mavlink
9303a89573 fix AC hil build
a71ed6c5ce enable mavlink10 by default
15aea320cb Added note to remove this unused param
12ab875d58 using current PWM rather than a re-read of the PWM.
9ab06c5542 Moved PID logging counter into define
73e23aab2a GPS time set to unsigned int32
72d76558a7 ArduCopter: Ensure update_GPS does nothing when gps is disabled.
5c9dc00ae2 AP_Baro: fixed comment to clarify that every-other call updates temperature or pressure
fd6b21d0c7 ArduCopter: updated firmware version to 2.6Beta in preparation for beginning of testing
4544b37fec ArduCopter: updated firmware version to 2.6Beta in preparation for beginning of testing
dcdeae412e ArduCopter: Another attempt at fixing the lat/lon printing bug in which small negative lattitudes or longitudes were appearing as positives.
b1e5a25ed9 Merge remote-tracking branch 'origin/master'
eb84554d26 V2.2.67 - Implemented detection and failsafe (throttle = 900us) for missing throttle signal.
e4ea66b5dc APM Planner 1.1.91 fix datasource binding exception.
173ae33627 ArduCopter Desktop Build: added definition of "map" to wiring.h and included WMath.cpp to fix SITL build failures.
b4a1b03fd3 AP: add fake satellite count for hil.
c82a403b88 AP_MotorsHeli: Added reference to "Arduino.h" to allow autotest builder to work.
4946402d50 APM Planner 1.1.90 3drradio save settings fix fix mavlink10 hil scaling fix some exceptions
c3b1a79f6a RC_Channel library: change all "int" types to "int16_t".
d9f124afbb RC_Channel.pde: fixed compile errors so that it actually works!
2a216ce900 ArduCopter: fixed print_latlon bug in which it would print negative lat/lon numbers incorrectly (i.e. -1234567890 would be printed as -124.xxx).
c2d14a5cad RC_Channel fix for throttle output.
0adb5cb396 Issue 416: RC_Channel  Fix to make dead_zones still output 0
1c690b44de removed never used filter, and fixed a constrain that could make range calcs go bad
862b374d19 Channel rage fix - low output was always 0 vs _low
5f058fb9b2 TradHeli: Incorporating Ext ESC Control
30e55533dc Change to increase Parameter space as we have run out. This will decrease the max number of waypoints from 186 to 169.
dec6f0ca62 When RTLing, force home as the final location for loiter.
bc578172a5 moved detector to run until the throttle is low, then stop running.
f0456dc947 Missed a Semicolon
302c632205 Altered the ground detector logic to no continuously run when landed
22065e3f3f Broken timer - removed
0ce883b96a Removed unused variable
9310d613e1 Lowered I term - causes oscillations in SIM
2311d52d37 Renamed some variables to clarify functionality.
7c6f766251 Speed up automatic disarming to 25 seconds for safety. renamed AUTO_ARMING_DELAY to AUTO_DISARMING_DELAY
f491f5e9ca Removed references to a takeoff timer
15774366ba Failsafe: Looking for takeoff_complete now vs unreliable GPS
08bf04dd08 pulling throttle low in flight turns out to be more common than thought. Removed clearing of takeoff_complete flag. This is still cleared during disarm which is automatic after 30 seconds of no throttle.
09f4a16bfb changed the way takeoff complete is figured. Looking for high throttle.
b8349f5486 Added note to functionality
a31543e547 APM Planner 1.1.89 add mjpeg video source add 16x9 hud conform to http/1.1 specs for mjpeg
9d92602188 changed WP radius to AP_Int16
5766afa6c8 ArduPlane: Increment format number in Parameters.h
1c00d1ffe3 ArduPlane: Fix effect of ELEVON_REVERSE
5754f97433 reversed circle_WP calculation so the next_WP refers to the destination around the circle and circle_WP refers to the center. The intent is to make it easier to see via ground station.
56335e81e4 Fix TradHeli Collective Yaw Effect bug.
9a92531e8c APM Planner 1.1.88 fix updater
7df1aa2914 Arducopter.pde : setting rtl_approach_alt above 1 would force auto landing even if auto-landing was disabled.
c307b69515 increase resolution on params 0.1 > 0.01
ddfa06e857 SITL: fixed ChipErase()
6e444f6b64 SITL: fixed build with new ChipErase() call
353186e822 CPUInfo: update with 64 bit timings
d9457ecc38 MAVLink: send time of GPS fix accurately
66544a5db2 Log: don't print '+' while erasing logs
fc73fd6531 DataFlash: use ChipErase() instead of PageErase() on all pages
4e4ff84cf1 Updates to CopterLEDS Creation of Nav Blink Function.
6945be0ca8 autotest: default to not using gdb on ArduPlane.elf
b3aa704c49 AirSpeed: added parameter ARSPD_USE
8e01bc3593 MAVlink: update ArduPlane for param fetch during DataFlash erase
422dc82f32 MAVLink: allow parameter fetch during mavlink_delay()
1b9f34e4e0 Flip.pde: renamed dcm to ahrs
5407acdb4c Some bug fixes to Auto-flip. I ran this code through the sim and found these flaws.
f6d8a18182 Added note
1a5e2f4e37 Attitude.pde - Removed rate limit based on SIM flights. These should never have been in place and seriously detriment Acro flight.
f274df454a DCM: fixed a bug when using GPS for yaw correction
84c5a392da APMrover v2.1.6a - small update for LITE version
6d24f5efb2 APM Planner 1.1.87 add popouts in config/setup add more text to hud heading nw,ne,sw,se add 5 m filter to antenna tracker add refresh param buttons remove the word old, as people still want it. modify telem playback interface with slider bars add posible fix to bad grid spacing move mavlink code.
8d075015e1 added check for duplicate time-stamped GPS messages.
251fe26875 GPS: added ublox build target
9732b7d2dc navigation.pde: removed unneeded WP_Distance check remove unneeded return for Navigate removed unneeded rate_D calcs removed unused functions
7e190c6f5c Arducopter.pde : removed unneeded d_rate_filters updated Nav routine to handle faster GPS updates moved calc_XY_velocity to GPS read added check for duplicate GPS reads
408d3dfa98 APMrover v2.1.6 - Added Speed Booster between wp and soft start
9d221b3625 AP_Common: fixed some duplicate product ID warnings
c530704973 APM Planner 1.1.86 add ArduRover simplify connect modify hardware screen fix mono terminal issue modify 3drradio screen modify updater
6a6c8eb708 change rover id to mav_ground
d1cd04486a removed retro loiter code since Angel has a branch now.
7f3e142fa8 Loiter Gains based on new SIM
c5f7b2fff2 Fixed Syntax error.
c8fb9a6635 More CopterLEDS changes. Merged CopterLEDS and Piezo functions to eliminate pin conflict on APM2.  Created new Parameter bit to turn piezo function on and off from MP. Moved GPS and Aux pin assignments to allow commonality between APM1 and 2.  Set LED_Mode parameter default to 9 in order to make CopterLEDS completely backwards compatible with old Motor LEDS and Piezo code.  Legacy users should see no difference.
a285e2779f CopterLEDS changes for APM2
d41001ec1e APM Planner - a few translate
01c4f6105b APMrover 2.1.4 - cosmetic changes
e8e2d7075b firmware build
10b5d758f8 Changed software ID from 0 to 20 for ArduRover V2 Divergence. Also changed definition of flight mode 2 from Stabilize to Learning.
5cece403a5 APMrover v2.1.4: compatibility with the latest version of mavlink library...
4a4402556b APMrover v2.1.3 : Added option (hold roll to full right + SW7 ON/OFF) to init_home during the wp_list reset Add ROV_SONAR_TRIG (default = 200 cm) - tested by Franco Restart_nav() added and heading bug correction, tested OK in the field RTL then stop update - Tested OK in the field Added SONAR detection for obstacle avoidance
f4975cb7fe firmware build
854b2a6f9b firmware build
716be4f511 firmware build
3ae1c6f9e0 APM: prepare for 2.34
a0394c8b68 APM Planner 1.1.85 work on opengltest fix last missing param fix com port selection on connecting to bad comport add convert to csv. entire log add log caching to image georef. for tlog and logs add srtm data caching
357d6c2d9b ArduCopter: bug fix for reversing tri servo
2f74004fcb ArduCopter: updated version to 2.5.5
4fc61505df APM Planner 1.1.84 3dr radio fix's + rfd900 other misc fixs
69bf5700cd IMU: expose IMU_PRODUCT_ID as EEPROM Variable
4a1d8b0875 AP_InertialSensor: Return product ID from sensor initialization
4c46955612 PRODUCT: Define product IDs for all supported products
ed99940bee MPU6000: Fixed Scaling on Accelerometers Rev C vs Rev D
899e6e66b0 APMrover v2.0c - tested with APM v2 full kit (Oilpan) - dualversion (IMUless + IMUfull)
46ee92441e HILTest is not needed any more
db2416d045 APM Planner 1.1.83 fix null exception. if connect and not view the link stats, an exception is thrown on disconnect.
c01626818b APM Planner 1.1.82 modify 3dr radio packet size 64 > 32 add andrews link status Mod - thanks add hw voltage to status add generic logbrowse pid class "pid-*" > "pid-1"
f56d3afccf APM Planner 1.1.81 mavlink 1.0 fixs simulation hil fix for lorenz modify default att rate to 10 hz
34f5923ef3 fixed typo ("minimum" should have been "maximum")
218e70cd8b AP - fix attitude level hil mavlink 1.0 issue
67221a111e APM Planner 1.1.80 hazy's lang mod more hud mods - shorten lines msi work + uploader
bbbf1c7002 APM Planner ConfigPlanner translation fix UI language changing issue
f43f5900bc Telemetry: make it possible to use UART2 on APM2
2acaac022c APM Planner 1.1.79 modify hud modify apm1 vs apm2 detector
34af851b20 autotest: forced loiter via 2nd method
8420260ecf APM Planner 1.1.78 recommit
602fe6e55a APMrover v2.0b - Special update for rover heading calculation if compass is enabled
53cbbfaaa4 APMrover V2.0b - updates about Save_WP
2dd655d87d MPU6k: added suspend/resume on init
88b2139d91 Baro: added suspend/resume on init
d692a932ca ADC: added suspend/resume on init
534aee17e9 TimerProcess: added suspend_timer()/resume_timer()
b5908eed7f fix int/float conversion issue
0f6120506b fix metaparser bug
7d9e8c8d89 git: try to reduce the number of binary files added to the tree
af86ae8cbf ArduCopter: fixed compile error by declaring extern print_latlon
435a64b97e ACM: fixed HIL build
75f091cd9c more arduplane param info
fd40d40bc2 APM Planner 1.1.77 fix param xml namespace issue prevent sending unchanged params
9223177355 APM Planner 1.1.76 Modify Hud center add 3dr snr's and snr based distance estimate display current frame type fix disapearing window add base xml level to param xml (xml standard) add georef kml refrence this includes adams new dynamic params
c1115d83c7 update some arduplane config items
a1f5661161 ArduCopter: restored gps test in CLI
6e1798b104 AP_AHRS: updated default AHRS_YAW_P to 0.2 (was 0.4)
77eea3a893 APMrover v2.0 - tested on Traxxas Monster Jam Grinder XL-5 3602
ca8bc34c98 MAVLink: re-generated with new pygen
8fab91e063 APM-nav: set NAV I value defaults to 0.1
3d2c00bb15 Test: Test commit This is a test commit
959921fba5 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
1899f36844 Planner: Added dynamic controls based on the parameter meta data that is parsed from the codebase.
950f288bab GIT Test
d7ef8ee506 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
56d3fa1601 Parameters.pde/AP_MotorsHeli: Updated comments to leverage the new value aliases
40fdba441b Parameters.pde: Added value aliases to comments
941cf6fa69 Parameters.pde: Added more parameter comments.
f4ad81b184 APM Planner a few UI translation fix UI language changing issue (it used to change to English when click Configuration tab)
4f90e6e844 build: cope with Arduino 1.0 in command line build
453cb93c6f autotest: fixed levelling for ACM with MAVLink 1.0
67afdc7485 autotest: fixes for MAVLink 1.0 in autotest
b73732c361 autotest: removed unused files
95bd51ab10 autotest: updated pymavlink to latest
239323eaa4 Parameters.pde/AP_MotorsHeli.cpp: Added comments from Roberts clone.
587375861c Merge branch 'master' of https://code.google.com/p/ardupilot-mega into param-suffix
01126ae9de APM Planner - code only add yaw to config screen. intergrate adams changes this will force an update, but not the main exe
98983e1ee4 Merge branch 'master' of https://code.google.com/p/ardupilot-mega into param-suffix
b293997e2d Planner: Implemented the ParameterMetaDataRepository.cs's GetParameterMetaData method. It will now return a meta value by the parameter name and meta key.
a91c7781a5 Planner: Added try catch around web request in the parser to prevent blowing up.
8af68b2047 Planner: Moved the call to fetch new parameter meta data to where it is determined if the planner requires an update.
498e1d01b6 ParameterMetaDataParser.cs: Updated name of method to be more accurate to its purpose.
cb6f97fc7f Changed the marker for Group parameters to @Group.
155928adef Planner: Added the ability to parse group based parameters that link to .cpp files.
3309dec205 AP_AHRS_DCM.cpp: Added comments that follow the new parse structure
51bcc73c77 Parameters.pde: Added lib comments.
d59d26b7d2 APM Planner 1.1.75 implement new arducopter pid tuning screen included old for crossover. add map rotation - follow plane modify setup screen to show diffrent things based on ap software
51c73cf057 Planner: Added meta data constant class to aid in retrieving the meta data by their key names.
49bb2d1f7b Planner: Tidied up the implementation of the parser and added a parameter meta data repository for easy access to the parsed data.
9fb9231ec4 Merge branch 'master' of https://code.google.com/p/ardupilot-mega into param-suffix
3bebbe4832 ParameterInformationParser.cs: Updated comments.
027be8c34a app.config: Added app.config key for the location of the files to be parsed for parameter meta data.
ca415f84cf MainV2.cs: Added call to parameter parser at application bootstrap.
cbea39ae3e Solution: Added ParameterInformationParser.cs.
29fec278eb Parameters.pde: Updated comment schema to include the parameter name which becomes the XML node that contains the meta data.
acab9b7c2c Parameters.pde: Added new comment structure to a few parameters for testing.
43b4359b28 planner cleanup fixup mode names in joystick and flight data add mavlink 0.9/1.0 error message
0e54613632 sitl: added sim_arducopter10.sh
89041c6996 sitl: support MAVLink 1.0 builds
9d4b37ecac sitl: we don't need mavlink in copter sim
b6a475f6a5 MAVLink: make APM build with MAVLink 1.0 possible with arduino GUI
4fee26437b MAVLink: make ACM build with MAVLink 1.0 possible in arduino GUI
d11957718f MAVLink: removed the cpp part of the library
eb5bc964d8 MAVLink: one more define for MAVLink 1.0 compat
fe970221e2 ACM: added support for MAVLink 1.0 to ArduCopter
95be2c5922 APM: updates for MAVLink 1.0
373577136e revert planner version 1.1.73
0753782c49 MAVLink: re-add the XML message definitions
615defdc37 use build_all.sh to ensure we don't break the mount code
5c067d5a03 MAVLink: imported new mavlink header updates
8e6fdb8981 APM: use OutputCh_current() in MAVLink servo logging
e8f8115a8f APM_RC: added OutputCh_current() method
24dbe7dca1 Planner: Fixed flight mode binding issues. It is now configured to use the display text attribute as the text in the DDL and the integer value of the Enum as the value in the DDL. Parsing the selected value before saving to the board is unnecessary now because the value is already an int.
d8df53c926 Planner: Fixed text selection on re-bind.
5274ec9640 Planner: Fixed another binding issue with AC2 modes.
489ae28d2e Planner: Fixed binding issues with mode DDLs
cdce69e14f APM Planner 1.1.74 tidy up adams mod. remove dup ch6_damp rename level tab's fixup long standing bug in flight planner field names revert dtr order
d3d59b222e fixup hexa and octa miss label
a2d65b28cc Planner: Fixed too long enum display text.
b2a7227ae7 ArduCopter/Navigation: Updated code to reference the new g.retro_loiter param instead of the compile define.
60c347e23b Parameters: Added g.retro_loiter which is configurable by the user via the MP.
8e580729b7 config.h: Removed comment.
97040a7b3a Merge branch 'master' of https://code.google.com/p/ardupilot-mega into auto-approach
2a3af369b6 DCM: buffer omega_I changes over 10 seconds
f27d85cb8d DCM: drop the 'drop z' method
9c19138fb8 Log.pde : Updated Flash Logging to log Floats properly vs scaled integers.
e22832a832 Added a union for casting floats to ints and back when storing Floats to the DataFlash
090f5aaa6f ArduCopter - config.h - set standard RC_SPEED to 125 for helicopter frame
c993049c48 ArduCopter - combined CH6_DAMP and CH6_STABILIZE_KD tuning parameters to avoid confusion
11a384a7ff AP_Motors - allow tail servo to be reversed.  Closes ArduCopter issue #228
fd2409a730 APM Planner 1.1.73 fix udp and tcp connections
533772339e ArduCopter - Attitude.pde - added logging of optical flow pid controller
3e95ade004 ArduCopter - changed optflow object to be APM2 version if necessary
919f004b27 ArduCopter - changed Optical Flow for APM2 to use A3 pin
c45b124cbe DataFlash_APM2 - moved CS_inactive call (which disables the dataflash) from the beginning to the end of all methods.  This means the dataflash does not monopolize the SPI bus.     Also formatting changes to use tab instead of space. Sorry, should have done this as a separate check-in to the above changes.
f18ee75b5c AP_OpticalFlow - updated test sketch to allow testing of APM2 version
3075a0c5bd AP_OpticalFlow - added support for optical flow for APM2
7bda35dc28 AP_OpticalFlow - moved most pin definitions into .cpp file
671989c14b APM Planner 1.1.72 fix turn radius length (100m) modify 3dr radio options modify heli Setup
4ff0510fce Test: Initial Test commit This is a test
7d376a6dc7 fix y6 firmware
d1a9eec74d firmware build
7d13371acf Merge branch 'master' of https://code.google.com/p/ardupilot-mega into auto-approach
20cdc3a0ac MAVLink update to 1.0.7
f0a9209935 ArduCopter - regressed version back to 2.5.4
7f8fe97889 GPS: u-center config file for 3DR Ublox
f170790fd8 GPS: fixed auto GPS test
711814085b GPS: detect new style 3DR UBlox
08bc7f1a41 GPS: fixed the UBlox test code
8d797fec3c fix potential null pointer
1478191ecf sitl: make it easy to run sitl for MAVLink 1.0
1cc7adbac0 sitl: allow sitl build with MAVLink 1.0
71206ea778 APM Planner 1.1.71 add arduplane level more image georef options - now does gpx for dronemapper.
5390467f3d Worked on ArduCopter cmake options.
ba89f39781 Updated MAVLink to 1.0.6 release.
c233defbe6 Merge branch 'retro-loiter' of https://code.google.com/r/a432511-wip into auto-approach
1676e09f12 navigation.pde: Put the new calc_GPS_velocity method in a compiler if that checks the new RETRO_LOITER_MODE config value (saves space and ensures its not being used unless retro loiter mode is enabled)
24363ccb83 Merge branch 'master' of https://code.google.com/p/ardupilot-mega into retro-loiter
d29f1ef331 Loiter: Made the "retro loiter" routines configurable. Add RETRO_LOITER_MODE ENABLED to APM_Config.h to enable the older loiter shtuff.
c5a77f2666 APM Planner 1.1.70 language by hazy move turning circle to be based on cog add APPROACH add autodec on/off mod 3dr radio uploader to read in 64 byte packets add more georef caching. much faster now on more than 1 run.
6fae800dc2 Working on ArduPlane options.
a7bc3d2cc6 Arducopter.pde: Moved gps to 10hz. Changed calc_XY_velocity to calc_GPS_velocity.
d4a4641ae6 navigation.pde: Added calc_GPS_velocity. Added constraint to x/y error and x/y rate error.
53c143a575 Improved cmake options.
0f90164f03 Changed default cmake port for ArduPlane.
0e7e77760a Updated ArduPlane/ArduCopter cmake options.
a3842734a9 Planner/defines.h: Updated the enumeration value for APPROACH so as not to disturb the order of the universe.
909c85cff2 APM Planner add some Chinese translation
54d7f1ca21 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
a9f0bd24d7 Switched to project specific cmake lists.
fb07cddd6f Making cmake local to projects.
d577fb7338 APM Planner 1.1.69 add ability to geotag images from log file. - will release guide soon
bce4410419 Working on cmake options.
af5747c088 ArdupilotMegaPlanner: Added new APPROACH flight mode and added infrastructure necessary to make it private (ie. not a user selectable mode).
7a81bf2bd5 GIT_Success.txt: test edit
ab3ebe68e7 Modified default cmake port.
c6f099c888 Updated cmake. Now works with ArduPlane/ ArduCopter.
4c31dcdaeb APM Planner 1.1.68 add turn radius - status add new pink line to Arduplane - turn radius
f6d81a16c2 ArduCopter: Added code to prevent mode from switching to APPROACH on every loiter.
56a00fa1f7 ArduCopter: Changed millis compare to use new config value for approach delay.
07e53fad18 commands_logic.pde: Added write to constrained value to EEPROM.
7b277d7044 config.h: Added RTL_APPROACH_DELAY config value.
b500d9430f AP_AHRS_HIL.h: Fixed HIL build by adding missing public property.
f9affb3295 Merge branch 'master' of https://code.google.com/p/ardupilot-mega into auto-approach
0c3d6614cd system.pde: Updated param name to loiter_timer.
3d024ba2dd commands_logic: Allowed for an approach alt as low as 1m. Added a check to make sure we are currently above our target approach alt.
41702aca94 ArduCopter: Updated param name from auto_land_timer to loiter_timer, because it could really be used for more routines like auto-approach. Added timer before approach (20s).
a366bb2f81 Parameters: Changed rtl_approach_alt to float to support more granular altitudes
870b5e5f75 ArduCopter - CH6 Tuning - added AHRS_YAW_KP parameter as 30.  Now you can easily set the amount that the mag is used to correct the gyro based yaw estimate in the DCM
95cb35c7bb AHRS: enable AHRS_ group in ArduCopter
d07b77237e AHRS: enable AHRS_ group in ArduPlane
8e90aeea4e AHRS: added AHRS_YAW_P parameter
9e36b9b672 Git tool test
5160e2ea34 test file commit
07d80ce8f9 Test commit
77d6f22864 ArduCopter, commands_logic: Updated logic to allow as low as 5m.
2954bf6f76 ArduCopter: Added check to make sure user defined approach alt is at least 5.
cddcdb8be3 commands_logic: Added check to make sure the do_approach method is not being used to land.
a2b338c052 System: Added handler for the new APPROACH flight mode which will initiate an approach to a target alt as defined by the user.
a24b7bcf14 ArduCopter: Added check to g.rtl_approach_alt, which if greater than zero will initiate an approach to the target alt rather than land.
cfe3b58248 commands_logic: Added do_approach() to set the new target alt based on the user defined value.
83fe6733d4 Defines: Added new control mode (APPROACH).
7ba8c291bd Parameters: Added new APPROACH_ALT params (g.rtl_approach_alt) which stored the users desired target altitude after RTL is complete.
888668aeb4 APM Planner 1.1.67 add connect warning to setup screen add networkkml to georef image, and cacheing
4cec74683e testing ...
b8693c122a added GIT_Success.txt
776ae2780a APM Planner 1.1.66 fix aerosim-rc 3.91 (packet format change) mono setup form fix (re validating disabled fields) seperate log/live mag calibation.
a71ed6abec ArduCopter - updated firmware version to "2.6 Beta"
24b81db20e ArduCopter - LEDS - main code to support COPTER_LEDS. Code by Robert Lefebvre
c337df11c8 ArduCopter - LEDS - set new output pins to OUTPUT to support COPTER_LEDS. Code by Robert Lefebvre
d70f5da5e0 ArduCopter - LEDS - define pins to be used for COPTER_LEDS. Code by Robert Lefebvre
84b07b5e6a ArduCopter - LEDS - added new COPTER_LEDS definition Code by Robert Lefebvre
0a3bc9a66a ArduCopter - LEDS - two new parameters to support COPTER_LEDS. Code by Robert Lefebvre.
c4f81cba33 APM Planner 1.1.65 dataqflashlog Update add new test config panel
b267fc7913 APM Planner 1.1.64 work on CodeGen fix messagebox wrap modify arducopter loiter options fix setmode function update dataflash log format- thanks randy remove config.xml - this causes overwriting user settings
fad162989f ArduCopter - navigation.pde - added logging of Loiter PID controllers
5f8e724294 elaborate on Make instructions
e68f347225 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
28833ed1d6 added missing #include
c96dfb2108 AP_AHRS - changed parameter order to remove compiler warning
f8210b164c ArduCopter - Parameters.h - changed initialisation order to remove compiler warning (have not changed enum values so shouldn't require eeprom format id update)
ef43da9b92 AP_Compass - changed parameter initialisation order to remove compiler warning
871563b499 firmware build
85ba978a65 ready for 2.33 release
4f2703e459 APM Planner 1.1.63 update radio packet fix rlogs add left/right mavlink log graphing (left/right mouse) modify update detector.
985c967bb9 MAVLink: imported new mavlink headers
df85051574 ArduCopter - added dataflash logging of roll and pitch rate controllers
53827f2e92 AP_MotorsMatrix - fixed stability patch issue in which it would not limit a motor's output unless an opposite motor had been defined.  This would only have affected Y6 frames.
762b1ea0df APM Planner 1.1.62 3dr Radio support update mavlink library
127a990509 AP_MotorsOcta - V Frame - test order fix spotted by David Wiens
647654ac8e APM Planner - WIP - no exe 3DR R setup layout - thanks andrew.
62f30aae07 APM Planner 1.1.61 update message definitions fix radio screen
f6e1509d05 AP_Motors - fixed last "shadowing" compiler warning caused by badly named parameter in auto_armed method.
1e20d7de88 AP_MotorsMatrix - fixed another compiler error regarding shadowing a variable.  Fixed by removing those  the angle and direction arrays which weren't even used
7a8973eaf0 AP_MotorsHeli - fixed compiler warning re move_swash function declared with int parameters in .h file but actually using int16_t in .cpp file.  They're the same in arduino but perhaps the build checker is a little more strict that Arduino.
926211f0f0 AP_Motors - fix compiler warning re shadowing a variable caused by badly named parameter in armed function. Another compiler warning fixed in AP_MotorsMatrix.cpp caused by declaring "i" twice.
998058ec07 ArduCopter - removed unused motor pde files including heli.pde, motors_hexa.pde, motors_octa.pde, motors_octa_quad.pde, motors_tri.pde and motors_y6.pde
ad9a8acbab ArduCopter - test.pde - changed references "motor_armed" to "motors.armed()" as part of move to AP_Motors library. Change to ESC initialisation calls to use motors.throttle_pass_through method of AP_Motors class.
1d086c83f0 ArduCopter - system.pde - changed references to "motor_armed" to "motors.armed()" as part of the move to use AP_Motors library.
4aa40bdf10 ArduCopter - setup.pde - changed cli for helicopter to call the new AP_Motors class's parameters instead of the global parameters. changed init_esc to call the AP_Motor's class's "throttle_pass_through" function.
473126581d ArduCopter - radio.pde - changed motor initialisation to set update rate, frame orientation, min and max throttle to AP_Motors class. Note: perhaps the motors speed at least should be moved to a parameter within the motors class. output_min function greatly simplified as this is handled by the AP_Motors class.
905a445391 ArduCopter - motors.pde - changed references to "motor_armed" to "motors.armed()" because we've moved to using the AP_Motors class. Simplified set_servos_4 function which was responsible for calling "output_motors_armed" or "output_motors_disarmed" as this determination as to whether the motors are armed or not is handled within the AP_Motors class.
aa54458dcf ArduCopter - leds.pde - changed refrences to "motor_armed" to "motors.armed()"
7df17e9b3b ArduCopter - removed references to MOT_1 etc as these are now within the AP_Motors class (i.e. MOT_1 has become AP_MOTORS_MOT_1)
ee308ea06c ArduCopter - increased firmware version to 118.  Removed nearly all heli parameters as these are all created by the AP_MotorHeli class now. Note: we cannot move the heli_servos to the AP_MotorHeli class yet because of a small issue in the parameters class.
8402a3d837 ArduCopter - Log.pde - changed MOT output to dataflash to take values from AP_Motors class's motor_out array instead of the global motor_out array.
e5710958bc ArduCopter - GCS_Mavlink.pde - changed output to ground station to use new AP_Motor's class motors array inplace of the global "motor_out" array.
aa4085183c ArduCopter - Attitude.pde - moved heli_get_angle_boost from heli.pde (which will be removed) to Attitude.pde.  In fact we should combine heli_get_angle_boost and the regular get_angle_boost.
54a0709759 ArduCopter - add includes for new AP_Motors classes. Remove global motor_filtered and motor_out arrays. Removed all global heli variables. replace "motor_armed" with "motors.armed()" removed output to rc_4 for tri because this is now handled by AP_MotorsTri class
bb50bc3fc5 APM Planner 1.1.60 add stab kd ch6 fix mono/linux serial port list
d60126fc1f autotest: fixed overshoot due to low resolution log timing
abd33dd914 autotest: fixed order of startup messages
96fcaa5040 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
b71877366e ArduCopter - AP_Motors library - added new library which has few advantages over current code:      1. it's step towards rearchitecting the current code base ahead of a move to RTOS.      2. internally it uses a MatrixTable for the Quad, Octa, OctaQuad, Y6 frames.      3. it implements the missing stability patch for Octa and OctaQuads (still missing for Y6)
c0a54762c6 MAVLink: port the new adaptive flow control to ArduCopter
e1270401bf MAVLink: make parameter send use adaptive stream rate
1fd1a55fa6 MAVLink: import change to txbuf as a percentage
7b50724f60 MAVLink: allow for find grained stream rate control
0a9fd22243 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
4ddeb82b26 MAVLink: imported new headers, with RADIO packet
75d7308fb4 ArduCopter - CH6 tuning - changed Roll/Pitch Rate D tuning to use the user supplied tuning range instead of the range / 100.              also changed heli_ext_gyro_gain to make it use the tuning range directly.
e0bb7e2777 MAVLink: don't waste 100 bytes of bandwidth sending 1 byte of information
87ed39ea46 APM: use set_blocking_writes(false) when we have done ground start
7634f541b9 ACM: use set_blocking_writes(false) when we arm motors
0c445101ff FastSerial: added set_blocking_writes() interface
b4107d35e8 MAVLink: raise the serial transmit buffer size to 256 bytes
3b3f9d8b17 autotest: use the automatic declination code in autotest
22ff8cb197 examples: fixed build of some examples with new AP_Declination code
86cc7a5e1d APM: enable AP_Declination by default
0bc604f030 ACM: removed FORCE_AUTOMATIC_DECLINATION_UPDATE
504c53f746 Compass: added COMPASS_AUTODEC option
168c45ab12 AP_Declination: enabled auto declination by default in APM
927834106d AP_Declination: save some more memory by putting the declination keys in progmem
70d4280935 AP_Declination: added timing information to declination test
175352845c AP_Declination: fixed build under SITL
ca82350f17 AP_Declination_test: Updated test with better print messages.
01b1e58f7d AP_Declination: Update LUT based on the changes that I made in the LUT generation code. This LUT is the final version that has no truncation.
51b70e4d36 ArduCopter: Changed implementation of configuration value for automatic declination. There is now a FORCE_AUTOMATIC_DECLINATION_UPDATE that when enabled will update the declination on every GPS 3D fix regardless of whether or not the user saved a value to the EEPROM. By default the declination will only be set by the automatic declination routine if the user has not saved a declination to the EEPROM.
23f6093f05 AP_Declination: Updated comments to reflect new LUT size.
50791a8b0f AP_Declination: Removed trailing zero deltas as they have no impact on the final value and only take up extra bytes.
f35e447927 AP_Declination: Updated compressed lookup value table. Located 9 more failure points due to truncation on the packed LUT.
72b70c394c AP_Declination: Found 7 of the 22 failure points and fixed them. The issue with those 7 was the way I originally packed the value array. The last delta values on some rows were getting truncated. The new number of failures is down to 15 - WIP.
076192db51 AP_Declination: Updated test to run in 5 degree increments. Changed to only print failures and also print total pass vs total fail.
230ca1ddca AP_Declination: Moved check for y index of zero to after the y index is properly transformed.
e0fa053c79 AP_Declination: The exception signs unpacking logic was incorrect. I was shifting a 1 value left y%8 which would have needed a the signs to be packed right to left. My packed signs byte was packed left to right (left most being the 0 position) so I needed to reverse the shifting.
f66c6e16e4 AP_Declination: In order for the bitwise & operation to work, negative signs need to be represented by 1s instead of 0s. Changed so that negative signs are represented by a 1 in the packed signs array. Updated lookup logic to reflect this change.
d88b9e8ffc AP_Declination: Updated packed exception signs array. I had the signs packed incorrectly.
036da88174 AP_Declination: Changed test to run in increments of 10 degrees. 1 was too granular.
580b274bde AP_Declination: Added original array to test sketch. Added loop to validate new compressed array against original in 1 degree steps.
efefc3e4f4 AP_Declination: Moved rows with large spikes in delta to their own unsigned exception rows. The signs are in a separate packed array.
0dcc4e8307 AP_Declination: Implemented Delta Encoding and Run-Length Encoding. Added method to traverse the compressed array and return the lookup value based on the same lat_index/lon_index that was used before.
3a849771bc AP_Declination: Changed PROGMEM read function to pgm_read_word_far to support the int16_t datatype.
370e56c00a AP_Declination: Changed datatype to int16_t to support the -90 <-> 90 latitude range.
ae257ad42b AP_Declination: Reduced the size of the lookup table to support -75 <-> 70 latitude range. This allows the datatype to remain int8_t.
cc047f2944 APM Planner 1.1.59 fix possible issue loading stream rates fix tracker ranges add more ch6 options modify mag calib with throttle
0efb0e5b4d ArduCopter - added CH6_STABILIZE_KD tuning value
c1eede5ef3 firmware build
9d193f06c9 APM: Change version to 2.32
4c4c38f69a APM: Added MANUAL_LEVEL option
b549b88e5e AHRS: fixed error_yaw reporting with 2 MAVLink connections
16deefce31 Compass: fixed a comment
17290836ef Compass: added some more comments
c084a72723 pysim: ensure Vector3() uses floats
599cea21bb Added multiple new tuning parameters to the inflight channel 6 tuning feature:         #define CH6_YAW_KI 24         #define CH6_ACRO_KP 25         #define CH6_YAW_RATE_KD 26         #define CH6_LOITER_KI 27         #define CH6_LOITER_RATE_KI 28
2ce597642e Filter - added FilterWithBuffer typedefs for int32t and uint32 for ease of use
90fcdeadfd AP_OpticalFlow - small bug fix to ensure init attempts to read the product id 3 times before giving up
40fcfa294f APM Planner 1.1.58 add read delay on write for serial add tlog to gpx creation fix issue 583 - georef image with a tlog
10c35e3769 SITL: add magnetic field noise to the simulated compass
f4c1b6a3c6 SITL: ensure we don't run the sitl timer twice
b2d6db9479 Compass: implement noise resistant varient of offset learning
8a645ffb56 firmware build
1c934dc7ef APM: increase ArduPlane version to 2.31
34506b170f Mavlink: fixed warnings about limits on int32 values
e0c9ab5a29 ACM: fixed heli build
47f9dfd125 ACM: fixed the build on the 1280
9b95d2060a ADC: minor fix to the ADC Ch6() code
989304fb47 APM: enable the new offset nulling in APM
e956e21e7d ACM: enable the new compass offset nulling in ACM
a72d4b46b3 Compass: implement Bills new offset nulling algorithm
12e9d1d6fc APM Planner 1.1.57 fix antenna tracker issue with saved settings add pretyping to config list add rawlogs modify mavlink log graph interface. 2 x yaxis & roll,pitch,yaw now in degs update dataflash log format - thanks randy update google earth interface refresh to 0.3 sec
b5dbdab81e APM_RC - moved Force_Out0_Out1, Force_Out2_Out3 and Force_Out6_Out6 to APM_RC parent class because it's already implemented in the APM1 and APM2 child classes anyway
2b2dbf2a7f Filter - added simple LowPassFilter (simple but it's possible to make errors with simple stuff too so might as well have one)
39fd24ed14 Filter - remove obsolete warning from comments re alloc/malloc dangers
1f4cfb9333 ArduCopter - added PID log type.  Implemented for Yaw stabilize and rate controllers.
7cb2c1de65 firmware build
7c2f3a0c21 firmware build
67cf7b9eed ArduCopter - updated firmware version to 2.5.3
2d65ec2874 AP_Baro - change data type size of temperature's average filter to int32_t (was int16_t)
d371862fd2 AP_OpticalFlow - resolved compile error in example sketch (it could not find DCM.h but it's not required anyway)
63b96c0153 ArduCopter - altitude hold - ensure throttle_avg is initialised from g.throttle_cruise parameter
89576a281a ArduCopter - updated to firmware version to 2.5.2 to avoid confusion with post 2.5.1 versions posted to downloads area
84d8414a2e Fix Auto_Trim to allow it to actually be called when setup on Ch7 pulldown menu in MP.
ee4803c12d APM Planner 1.1.56 add ardutracker support add load/save setting in Tracker move getserialports to serial class hopefully fix dtr issue for good.
0f6e7a1449 pysim: implement partial 3D acceleration support
a6d66dc45b Math: added mul_transpose() operation
f1acdb13c2 pysim: added experimental acceleration support
e2560c5865 Throttle_hold was in APM_Config - which is ignored by the Mission planner Hex generator
5c8630efec Merge branch 'master' of https://code.google.com/p/ardupilot-mega
5f3e2cf98a pysim: update the multicopter simulator with correct acceleration
4407f6b8ca pysim: added rotmat.py
f4d1295a4b AHRS: fixed build of AHRS example
ad4a2aa9f3 ArduCopter - motors_quad.pde - corrected test sequence for + configuration
739294ca70 APM Planner 1.1.55 fix issue 573 fix issue 572 fix issue 571 fix issue 570 fix issue 564 fix issue 560 fix issue 555 fix issue 536 add CH6_LOITER_RATE_D fix joystick axis 5-8 - can use joystick for camera pan/tilt
fe55a76335 Math: moved matrix multiple operations to .cpp file
17fbb8ea26 Math: fixed the build of the eulers test in SITL
9cba330eed autotest: fixed the declination to match new compass
90c3d230d9 SITL: improve the simulated compass
8e5c321623 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
66c4f752e3 ArduCopter - navigation - corrected comment in check_missed_wp function to clarify that you've passed the waypoint when the direction to the way point is more than 100 degrees off (not 10 degrees off) from your original bearing towards the waypoint
1dd554c333 ArduCopter - updated version to 2.5.1
0773a25b5d ArduCopter - increased default THROTTLE_CRUISE to 450
22315cd41a ArduCopter - Navigation.pde - corrected comment re wp_distance and get_distance to clarify that they are in cm (not meters!)
24a471ff8f AC_PID - added more paranoid checking that imax is positive in constructor, operator() and load_gains methods
356c248ad7 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
9f4becbacf AHRS: added AHRS specific MAVLink headers
9e6c18cca4 AHRS: added missing AP_AHRS.h
4f82134a5e DCM: use the new rotate() method from AP_Math
17f7292fe9 Math: added a test for the rotate() method
c16b353ea7 Math: added rotate() method to Matrix3f
31e566475b Math: added zero() and identity() methods to Matrix3f
458d55e5bc MAVLink: constrain variable changes to the datatype range
c53b320e00 Quaternion: change signs in AP_AHRS_Quaternion
d948a28e7c Math: change signs in quaternion library
af9ce0cfc9 Math: allow eulers test to build with AP_Declination library
72a761170b Math: fixed build of eulers test on SITL
58a68c89d9 Math: added a function to combine standard rotations
a42b45b58c AHRS: fixed VARTest for new AHRS framework
547b4ed55b AHRS: adapt ArduCopter for new AHRS framework
8afd196907 APM: adapt ArduPlane for AHRS framework
8ae0ea7e37 AP_Mount: adapt library for AHRS framework
79b9be8b1a AHRS: fixup the AHRS test suite for the new framework
f8087d3c67 AHRS: adapt the quaternion library to AHRS
8dcf82b433 AHRS: adapt the DCM_HIL library to AHRS
d4bb068d5b AHRS: adapt the DCM library to the AHRS framework
9d75ffeba1 AHRS: rename DCM and Quaternion implementions ready for AHRS class
55ed84526a MAVLink: rename DCM message to AHRS
c5344a2a85 ACM: Arducopter.pde - Added a constraint to the NO_NAV mode to be similar to the Loiter and rate nav modes.
a0717f082e ACM: Attitude.pde - consolidated wind I term resets
fe7ca98701 ACM: system.pde - removed reset_nav_I() to consolidate the wind control reset.
794ae44edf Merge branch 'master' of https://code.google.com/p/ardupilot-mega
ca1e78b779 APM Planner 1.1.54 change default rates to 3 hz fix log play issue without a log loaded fix heli setup screen
01cc5fe938 AP_Baro - removed unnecessary 2 element average filtering of pressure (there is a 4 or 5 element average filter in arducopter code itself, two places is messy)         - also removed unused _offset_press variable
9841cb0335 ArduCopter - small change to ensure both roll and pitch commands are zero before switching out of loiter_override (loiter override becomes true when roll+pitch command is greater than 5 degrees and switches back to false when both become zero)            - remove incorrect comments about when loiter target position is reset.
dc92da818c ArduCopter - remove reference to AUTO_RESET_LOITER that is not used anymore
91b2b48fd8 ArduCopter - bug fix to calc_XY_velocity (was using uninitialised last_longitutde and last_latitude for speed calculations)
6305312be7 fixed VARTest build
e81060a1a6 APM: removed some config file cruft
e92763f7f3 firmware build
9ea7be9c9c APM Planner 1.1.53 add sensor rate telem save autopan between sessions modify connect hb requirement and param timeout
3944c1e665 update AP version to 2.30
91054916c3 firmware build
3f62427619 firmware build
491af02d8a ACM: Lowered gains from flight tests today with 3DR Quad
7560242721 AP_Baro - added average filter for temperature to replace broken filter         - added average filter (for last two values) for raw pressure         - changed some "long" to int32_t and "unsigned long" to uint32_t
427dacba70 ACM: Smoother Speed calcs
3038da1dc3 ACM: Softer Loiter Gains
48a0c9a818 ACM: Small fix to nav_throttle to prevent too fast of a landing.
6201bdb8a7 ACM: Fixed comment
1c0b28c956 Fixed Scaling bug in Sonar mixing
844e1c9695 ArduPPM V2.2.66 - Added APM2 (ATmega32U2) support for using TX and RX status leds to indicate PWM and PPM traffic
7153b94ade ACM: Disabled D term experiment for Loiter until more testing
a52a14bf12 Tune down Loiter_P a hair
be3fe36c52 Small fix on the Traditional Helicopter Collective-Yaw compensation calculation.
68e37774a6 ArduCopter - removed #define AUTOMATIC_DECLINATION ENABLED line to ensure users don't try and enable it because it needs a bit more work before it's ready for general use
86eff20d5d Rev'ed version number to 2.5. Added more credits
bae5f98666 sitl cygwin mods
bd294b3371 APM Planner 1.1.52 add mag field strength - status tab "magfield" modify param getting. mag calibrate error checking hazys - capm mod
6f8b97bf6a ACM: Added constraints for invalid climb rates. Robert Lefebvre had a bad sonar and very invalid rates crept into the system.
4315c06f34 Lowering the D filter for less latency and less oscillation.
48ba24a810 ACM: Loiter tuning updates, turned up I a bit, a higher I will work better if the system is well tuned.
468d9c4b4f ACM: Loiter D performance updates
7953808d14 ACM: Larger filter for Loiter D
39e825bb04 APM Planner fix detection of CAPM board
59957e0c84 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
00c1c6f108 Quaternion: credit Justin with the initial idea of using Madgwick
10da3db15c APM Planner 1.1.51 revert posible camera issue fix apc220 units rts issue fix bluetooth comport issue - re andrew cleanup startup test
7034b709d1 ACM: removing old define
73e2bd6cd8 ACM: Got the sign wrong. I'm using the derivative of the error now and not the sensor, so the sign was reversed.
0b51d9b8b0 ACM: Made Loiter_D 0 by default. Accidentally left it on by default.
13dac4a93a DCM: adjust yaw kp constant down to 0.4
7daaadf776 Compass: fixed the order of rotations in the compass driver
c08fd50542 AP_Declination: fixed build of test sketch
deed802d1a ACM: Broke out the D term for the PID loop to add custom filtering. The current AC_PID filtering wasn't working for this application and we needed more smoothing. Bad pitch oscillations were being transmitted to the copter.
b3795f1c00 ACM: removed Filtering code for motors in Quad for testing
a989b88680 ACM: made same as Loiter I
0d434ca92c ACM: Tuning based on flights today
0ab6b6e592 ACM: Rate_d filter for PID loop of Loiter.
77fe7de55d ACM: The I term in update_nav_wp with the no_nav condition was pulling from the wrong PID loop and was essentially 0 all the time.
a869a01294 ArduCopter - Log.pde - added wrap_360 to compass heading field of ATT message to resolve overflow problem that caused heading to appear as being off by 70 degrees
6e9ffb4249 correct small typos in comments
2a03a0584f AP_Declination: disable library when AUTOMATIC_DECLINATION is not ENABLED
b337441ec5 SITL: added pgm_read_byte_far()
c1b945018b AP_Declination: fixed usage of headers
b9be6ed290 AP_Declination: Updated comment.
d3667faef4 AP_Declination: Added call to compass.set_initial_location if the compass is enabled when the 3D fix is obtained.
2524f9c8df AP_Declination: Added new config value to allow the user to have the declination overwritten on every 3D fix.
fe8c896d69 AP_Declination: Added method set_initial_location
e08b50ee91 AP_Declination: Increased range of supported latitude coordinates.
e22da153ec Added AP_Declination test sketch. I will be improving the test sketch soon.
d2a07b1603 Added AP_Declination library. It contains the lookup table (lat/lng -> declination) as well as a method that performs the lookup.
d10c4b76ad Compass: removed an incorrect comment
0da64e98f8 Compass: don't save the orientation to EEPROM
0ec9857689 Math: any euler angle with pitch > 90 is invalid
4bf28d499a Quaternion: update for new Quaternion interface
e8f1c5742b DCM: update for new Matrix3f interface
4d3789d11c AP_Math: update the test suite
4422486d44 AP_Math: made rotation matrices more C++
5c6368bad3 AP_Math: allow null pointers in Quaternion::to_euler()
16c95236c0 Quaternion: use the new quaternion API
9f0cb78f08 AP_Math: re-work quaternion functions to be more C++ like
9e30b5e4a5 I2C: fixed cr/lf mess
6021daf423 OpticalFlow: adapt optical flow library to new rotation system
2ab3d2c080 OpticalFlow: fixed line endings
cb96dd975f Compass: update the compass driver to use the new vector.rotate() method
55aa43a70d Math: added a test suite for the new rotation methods
289c64c0b9 Math: added vector3.rotate() and matrix3.rotation() methods
62c2aa4924 ACM: Added Loiter D tuning
cb8729109c ACM: Added Loiter_D for tuning as #23
0671bb9168 ACM: Firmware rev
f9d0dc9daa ACM: disabled auto_calibration until more testing can be done
5ad7320505 ACM: changed alt hold initialization of altitude to be immediate
450f89ec5d ACM: Added note about scaling rates
eb53200179 ACM: Altered the scaling speed for altitude changes for faster rises.
204f9957b0 ACM: Added force_new_altitude call to do immediate changes in altitude and no gradual changes.
83729d0f75 ACM: decreased rate P for alt hold to remove bumpy repsonse
220d5a1c6e ACM: Increased the altitude error P for smoother alt hold response
4b703e8842 decreased the loiter rate P for overshoot
fc32da0d2e ACM: increased the available rate error constrain, it was too low
bd4835a1b2 ACM: removed the experiment for rate error.
29d6085bab added Force_new_altitude call for alt hold
4ba600c0c5 upped throttle manual boost to 225
afc4aceb32 ArduCopter - fixed small compile warning about unused x_iterm and y_iterm in navigation.pde
c7480f2281 ArduCopter - fix to dataflash logging of Mag heading
ba8e764349 SITL: lower the noise and drift levels for general autotest usage
b02ca58901 InertialSensor: fixed HIL build
44ebb20329 MAVLink: bring the v1.0 MAVLink in sync with 0.9
87c463bcc7 DCM: after some experimentation, raise the ki values a bit
eff6778515 Quaternion: use gyro drift value from sensor driver
3989fe2c2c Quaternion: go back to the full update_MARG()
c8189c80d4 SITL: cleanup the gyro drift calculations
b833190abb Quaternion: make the quaternion test more generic
2f9af05cfa Quaternion: update to get_gyro_drift() interface
bf16b2926c Quaternion: removed some unused variables
d75e883fe8 GCS: get_integrator() is now get_gyro_drift() in DCM
3b2609c441 DCM: separate out the omega_yaw_P from omega_P
bcb7196680 IMU: added get_gyro_drift_rate() interface
9296ac494d AP_InertialSensor: added a get_gyro_drift_rate() interface
882fa1818b DCM: removed the limit on linear acceleration
9a06d35772 make 'ENABLE' and 'ENABLED' mean the same things
801a442ffb Quaternion: minor tuning
3344869285 DCM: minor tuning based on testing my quad
dffb435aac SITL: make the yaw match the APM conventions
2673614f6d SITL: fixed the pwm output on startup
982712d58f Quaternion: code cleanups and added comments
f405477875 DCM: code cleanup and added more comments
9dc08b30cd Quaternion: bumb up gyro drift limit to match DCM
828ad7625b ACM: removed the ADC filtering code
f9394f8068 ADC: removed the ADC level accel smoothing
8b40c44522 Quaternion: separate out drift correction from main updates
3e960f8ef9 InertionSensor: update for new Ch6() interface
919874f2a0 IMU: fixed a warning
4dff78b9c0 GPS: expose last_fix_time
6eff9107ea Compass: change last_update to be in microseconds
a0a360f955 ADC: use floats for ADC averaging
13d5839778 APM: removed quaternion special cases
371677610d APM: avoid fetching the DCM matrix twice
1016d3c95d ACM: removed quaternion special cases in CLI code
8393c0299b ACM: removed the DCM tuning overrides
7291dfc25a ACM: removed the special case for quaternions in GCS code
d6cfc51ae4 ACM: no need to fetch offsets at startup
ef771fecdc ACM: removed a lot of the special case code for quaternions
69c29d35ce ACM: change DCM loop to 100Hz
045b49c4c4 DCM: removed update_DCM_fast
321200ebbc AP_IMU: fixed led flashing in gyro cal
a92fb67b70 AP_Math: expanded the math test suite
4d65cda0ea AP_Math: added quaternion->matrix and earth frame routines
8abbbe5713 AP_Math: better way of handling safe_sqrt()
ccada2e9c2 SITL: avoid parent pid code on cygwin
3666476bcb SITL: prevent nested timer interrupts
3b7d78cf02 Quat: test patch for michael
f363f81869 Quaternion: added NaN paranoid checking
2596acc8eb ACM: removed incorrect mode definition
1ec4c0777c Math: added comment on quaternion constructor
f5e6dc0757 Math: added is_inf() on vector3f
066a513758 Quaternion: added more numerical safety in the quaternion code
c7d5f06b21 AP_Math: added quaternion helper functions and a test suite
f70dfe440d Quaternion: fix the gyro bias in centripetal and remove smoothing
47ddd4dfdd SITL: disable interrupts during register updates
7256652de5 Quaternion: use GPS to correct for linear acceleration
c7ef72cf28 Quaternion: don't update if we have a very long deltat
6d356b6c6e Compass: fixed last_update time for HIL compass
ebc55bb494 RC: disable interrupts when reading the RC registers
57f67ca6e3 GPS: added an acceleration estimate to the GPS driver
7fbfcc2721 GPS: fixed some stdint types
e699e9ace0 Quaternion: added in reporting of gyro drift and rp/yaw errors
7a9b3d3388 Quaternion: show "Quaternion test" on startup if enabled
2a8b167d95 fixed comment
c73c55aa90 DCM: fixed an uninitialised variable warning
d8234882d4 Quaternion: tweak the quaternion gains a bit
cc887949c9 AP_IMU: improved the gyro calibration code
ffa6786697 Quaternion: drop the gyro drift rates down
bee4bd9474 DCM: fixed bug in accel averaging
25e5ddeaa4 AP_Quaternion: fixed build on Arduino 1.0
7e4c8592ff ACM: make it possible to build ArduCopter with quaternions
9bff4e2c4c ACM: only call the fast loop if the imu has new data
e39c3cb9d2 APM: make it possible to build ArduPlane with quaternion support
c369d9f60a AP_Quaternion: added DCM compatibility interfaces
6138f31cec AP_IMU: added new_data_available() interface
a9dea35310 AP_InertialSensor: added new_data_available() interface
c80ec9a55c AP_ADC: added new_data_available() interface
c8a459ab0d fixed deltat in quaternion
a791224d07 SITL: make SITL not depend on DCM
74eef7018a Quaternion: added an AP_Quaternion library
fd2a24f8ed SITL: reduce the simulated compass offsets
367947fd33 HWSTATUS: if we don't know the voltage, report it as zero
64cc04ae09 ACM: adjust yaw drift correction constants
511f65e2ef APM: fixed reset of control switch when short_fs_action is disabled
bddc6ba241 SITL: separate out drift speed and drift level
25cad09746 SITL: added a drift_level multiplier
b11b571778 DCM: fixed the averaging of accel values for update_DCM_fast()
145fc91701 AP_Math: added a .zero() method to Vector3f
ae51173656 SITL: fixed delay() to account for signal interrupions
fe173227de DCM_Test: fixed example code to work with SITL
8424609924 SITL: push noise level to 2.0 for DCM testing
accc5dc02f autotest: run fg viewers with less CPU priority
5e66d3cecb autotest: added CMAC test circuit
6ba6e11e7b DCM: added a small amount of accel smoothing to update_DCM_fast()
a0ce202d87 ACM: added SIMSTATE, DCM and HWSTATUS messages to ACM
3b1782f369 DCM: don't use the z accel sensor for drift correction
4031320f7c DCM: added a small amount of gyro and accel smoothing
b455443e2c APM: added logging of DCM, HWSTATUS and SIMSTATE
94d0236b97 DCM: added reporting interfaces for DCM state
772c30ba86 SITL: added sitl_simstate_send()
9df332f0ae MAVLink: import new message types DCM, HWSTATUS and SIMSTATE
cc8278c1ac DCM: got rid of _error_roll_pitch from object state
986f1675ad APM Planner 1.1.50 rename messagebox to custommessagebox mag calibration now working. > hardware setup tab
486c56ce41 Consolidated Barometer pressure sensing to a single filter based on Randy's new filter class.
c8e9d57567 temp remove filter for quad motors during testing. It's unlikely this filter did anything at all to be honest.
730476fdfd ACM -
c26eb6afcc ACM: Updated config values
e57b91c2e2 Updated on Barometer - increased the Temp filtering and decreased the pressure filtering to and get less temp noise, faster response from pressure.  I'm filtering the Climb rate differently now, so this higher pressure noise should not hurt the derivative calcs at all now.
f1d67c5638 APM Planner Fix Updater
8b256cf924 ArduCopter - fix for stability patch and motor filter meant to deal with engines tendency to speed up faster than they slow down
72a775cc2a ArduCopter - fixed typo in motor filtering for octa, octa_quad and y6 that is suppose to correct for props speeding up faster than they slow down.
706bea5992 ArduCopter - added OCTA_QUAD_FRAME to comments in APM_Configh.h to help user select frame when compiling with arduino
7f47640b92 APM Planner 1.1.49 mode TUNE_ param scale add mavlink tlog graphing mod tracker options
46d7da4d14 Added define for throttle range for altitude changes, updated it to 250
6c3cf9ad5b AP_RC - removed unused library
444f29410b planner cleanup
ba3ffb3b8b APM Planner 1.1.48 Add ThemeManager - re andrew Add CustomMessageBox - re andrew and me few mono fixs mono tts working (speech)
a480b32400 Added support for TradHeli H1 swashplate type.  Added new param heli_h1_swash_enabled.
0087d0533a APM Planner 1.1.47 fix Updater
2b48a557ec Merge branch 'master' of https://code.google.com/p/ardupilot-mega
c2fa44d24e APM Planner 1.1.46 update to request extra3 stream.
73dafe537e SITL: use the new noise model
0ff44563ec ACM: use g.rc_speed for all APM_RC.SetFastOutputChannels calls
0fc646d666 ACM: set default RC fast speed to 400Hz
e213f6780e ACM: added RC_SPEED MAVLink parameter
5f749325f0 APM_RC: allow the fast RC speed to be passed as a parameter
f781bd735b ACM: fixed Parameters.h to avoid duplicate keys
f4329d2680 AP_Param: ensure we can't have duplicate keys in Parameters.h
cb874d6097 ACM: added board_voltage()
b20084af7d APM: added board_voltage() function
1e8d98cdda I2C: added lockup_count() interface
37275d229d SITL: implement cli()/sei() properly for desktop build
e49c2d2871 Rescale TradHeli roll_out and pitch_out into the min and max ranges to provide linear motion across the input range instead of stopping when the input hits the constrain value. These calculations are based on an assumption of the user specified roll_max and pitch_max coming into this equation at 4500 or less, and based on the original assumption of the total g.heli_servo_x.servo_out range being -4500 to 4500.
ee5e331f3c APM Planner 1.1.45 add tcp and udp port remeber issue 533 add udp listern wait issue 534 fix wp receive on mono part issue 530 allow logging of unknown packets mav 0.9 do_speed_change fix issue 531 remember last video res issue 521 fix issue 528 - ch 6 and ch 7 options
41b435a487 Updated fastPWM to 490Hz
337af0c7a2 AP_Param: nested group recursion into next_group disableable by macro
2648694489 AP_Param: One more nexted group recursion disableable by macro
fa34ac076e AP_Compass - fixed compile warning
19f5719e59 Merge remote-tracking branch 'origin/master'
d81c951849 AP_Baro - fixed small compiler warning to do with order of parameters in constructor
c819a0f68a AP_Compass - fixed small compiler warning to do with order of parameters in constructor
5026b5c192 AP_DCM - fixed small compiler warning to do with order of parameters in constructor
82f81295a7 RC_Channel - fixed small compiler warning
c444cdb3f4 AP_ADC - removed small compiler warning
a5e3f8d324 APM Planner 1.1.44 mod antenna tracker code add extra ch 6 options cleanup message dialogs better fix auto fill ch6 and ch7 mode options add progress to upload and dl wp's fix disconnect bug on mono
7c09e4a5e6 added stab_d gain scheduling - off by default
a387956814 added stab_d gain scheduling
ceef8070ac added stab_d gain scheduling
b76c4ecb22 added stab_d gain scheduling
efdf6ee79f added option for stab_d gain scheduling
ca34d7b7c2 Added test for stab_d gain scheduling.
16ed16f403 Cleanup: rm ArduCopter/GCS_Mavlink\ copy.txt
eac8b66385 AP_Param: Make nested group recursion disableable by macro
ff0fc26484 Cleanup: rename files with spaces in their names, replace with underscores
76c3cd88f0 Added heli_collectiveFactor array
744e5b8c60 ArduCopter - made rate controller filters globals to fix compiler error on Arduino 022 (Arduino 1.0 was fine)
4a0989f95d ArduCopter - Attitude.pde - updated get_rate_roll and get_rate_pitch to use new average filter.              modified all int to int16_t in Attitude.pde
02cf07bb6b ArduPlane - updated to use new filter library
17d94b61ed ArduCopter - modified to work with new Filter library
2b6a10d18b AP_RangeFinder - changed example sketch to work with new Filter library
033347f8ee Filter - updated example sketch to use modified library
645fda2fb2 Filter - added AverageFilter, removed SumFilter          added FilterWithBuffer to allow removal of malloc/free without losing ability to pass around filter objects
cb52b6c6d9 AP_Param: show numerical value in eeprom dump utility
a432232db9 AP_Param: fixed v.load() on a sub-element of a AP_Vector3f
39797c6f33 SITL: simulate noise on each ADC channel separately
efe5c0142c SITL: raise the ADC noise level to 8 bits when flying
cd4fcb694e IMU: removed unused accel_filtered code
87a6d97f7b AP_Param: fixed setting of CAM_P_G in ArduCopter
fa443bd928 AP_Param: make the templating code a bit clearer
57ed9fc62b APM Planner 1.1.43 Add logging system - re andrew radford move libs add tlog support to georef images. experimental antenna tracking - pololu maestro tweak "follow me" mode, better error checking update dataflashlog format for ac2 lang change mod - re hazy remove arduinocpp project
ba68d6d8a1 Set loiter rate enabled by default
e06d8142c1 Added OPtion for non-rate based loiter
6e53949c2a removed Constraint that caused JLN's horizontal drift.
517172ba20 Added Loiter Rate Tuning
0ce0c7c262 Added Loiter_rate_tuning
eac77504a3 Added more Logging for PIDs.
eb35e0e8ac DCM: fixed the sense of the compass GPS test in initial yaw
a9eb37d9f3 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
71b73a669c APM Planner fix CAPM update firmware error
297d2ae457 ModeFilter - corrected shadowed variable compiler warning for drop_high_sample
b9b88ba237 Filter - added AverageFilter - this will be used in place of SumFilter because it removes the possibility of overflows
f53ff8de97 Filter - removed shadowing of variables in constructors for Filter, ModeFilter and SumFilter (sorry tridge!)          increased maximum sample buffer size from 6 to 10
e1114bf7f7 ArduPlane - added Filter.h to unbreak the build!
8193c786ef ArduCopter - added #include <Filter.h> to unbreak the build!
74f7d7a1c0 ModeFilter - remove older ModeFilter library (new library is now in Filter directory)
21d7a77009 ArduPlane - switch sonar to use new mode filter from filter library
69132e0fe7 ArduCopter - change sonar to use new mode filter from Filter library
f264e29814 AP_RangeFinder - cut over to use new ModeFilter from Filter library
c14d7768f7 Filter - first version of filter library include ModeFilter
952e5d7bbc AP_Mount - #include FastSerial first to allow it to compile under Arduino 1.0
f27e9f9ca1 added a simple rest of nav_throttle just in case
cc5ab4aebf increased speed of alt hold I term based on Jani's Logs
1ce267f904 increased the rate error for more responsive alt hold
a924c3685e Based on Jani's latest logs I've made two tweaks to alt hold. The first is to remove the filter on the throttle output for alt_hold.
d0a6359b37 Compass: use constructor to set initial values for _learn and _use_for_yaw
900388a85a DCM: disable compass null offsets when setting initial yaw
e2bbc795ad ACM: use a NULL gps pointer in DCM init
f59297d7a7 Compass: catch the case of a user enabling a compass mid-flight
0248b48d30 allow MAG_ENABLE to be changed in flight
eb71b26d3f DCM: use the new use_for_yaw() compass method
664622523d Compass: added COMPASS_LEARN and COMPASS_USE parameters
864ed1a87f ACM: check the return of compass.init()
698749dd92 ACM: don't pass a gps pointer to DCM
f10097a6d5 AP_Param: added some comments on AP_Vector3f handling
5e2fbdb6cf DCM: don't reset _have_initial_yaw for GPS heading unless very slow
9d6ac9032e test: updated VARTest for new AP_Param vector3f handling
690dc9052a GCS: force scalar type in copy_name()
2e9105c68a AP_Param: added special handling for Vector3f
d6bfceef7c SITL: added -C option to desktop mode
54aa8297af libs: removed unused library GPS_IMU
185ab5aea9 libs: removed unusued library GCS_SIMPLE
57971e0ddf autotest: fixed xAccel calculation in fakepos.py
55e33c3359 DCM: tidy up use of error_course and in_motion
ab8cc3d478 DCM: use rotation_matrix_from_euler() to calculate initial yaw
1e254cbca0 Compass heading added to ATT log
23cc9c6132 APM Planner 1.1.41 fix mono ssl issue modify log download fix param dl on arduplane 2.28 (2x nulls in param list) fix connect cancel mono - add more comports more error checking on radio
57e5eee8c8 TradHeli - increase max yaw input to 45 degrees
385828824d updated Gains for Marco's loiter test
24345d4f43 Loiter updates
d85596841f APM Planner 1.1.41 add NaN checking/error message add config page shortcuts - F5, ctl-s and ctl-o add +++ passthrough on terminal add longer delay to log download modify param receive process. modify connecting and param receive process - re Andrew
ddeda1c367 DCM: use rotation_matrix_from_euler() in matrix reset
06f37aad75 DCM: use calculate_euler_angles() to get eulers from DCM
16ed8bc8f6 AP_Math: added rotmat <-> euler functions
1cd3172954 ACM: ensure update_trig() doesn't cause NAN values for cos_roll/cos_pitch
c354879f1f Compass: ensure we don't produce NAN values for compass heading
17d16bc8c6 AP_Math: added safe_sqrt() function
bad653f230 DCM: tidy up the nan checking in DCM
c8e6d03c67 DCM: added matrix recovery on reset
502fbf6e17 AP_Math: added a safe_asin() function
17170da96e AP_Math: added is_nan() methods to vector3f and matrix3f
b094f6ce52 added set integrator
364afe8da0 added a constraint to D term
e3c3307c09 APM Planner a little bit translate
ef90f336d3 DCM: changed the sense of floating point range comparison
57ffd00b69 DCM: range check the matrix before calculating pitch
2bb58db3f7 DCM: reset more values on renorm blowup
95ef9206dc DCM: renorm_sqrt_count is now called renorm_range_count
156d98cb9f DCM: remove the taylor expansion optimisation for renormalisation
c7c16a5b0f Emile's Fixes
4483f19f85 Marco's Hexa Motors
eaa29d5e3b firmware build
242f54793c revved a version
729c824809 made timer unsigned
42b5d47f7b commented out control mode debug print
4134a86008 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
ececcc6a69 ensure autoupdate works
56cf4f328b APM Planner 1.1.40
06a1035953 APM Planner - gps lat long bug fix.
3bb3cbe5b6 APM Planner 1.1.39
58d9acb92e APM Planner - fix timeout bug
17c2eeb306 APM Planner 1.1.38 add ap param support fix dtr fix firmware screen on mono misc mono fix's mods from mandrolic - partial. Add spanish - issue 515 new sitl images for attitude hil - issue 513
a3cb208468 firmware build
b78bca49b8 firmware build
1bac0ccd19 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
c10778d685 Better throttle for tests
30efbae0e9 removed old comments
11dd9564d9 SIMPLE mode throttle fix
e5ec810c92 autotest: fixed check of return code for build_all.sh
c3d6e64efb autotest: fixed directory for build_all.sh
265c5255a3 Added slow_wp default in AP mode
336441b109 reset slow_WP option at mode switch
81a861c8ac Added slow wp option in calc_desired_speed
33d4d52a6b set Slow WP option for RTL in Auto mode
cae49b3543 Added "slow WP" option for RTL.
b54d08f410 Updated manual throttle control during throttle hold
bcd5129f9b added workaround for resetting alt.
fa32b084bd Added SW test for Manual Boost
1c9bb25f09 AP TEST fixes for new throttle control
9fabdb5797 TradHeli - change throttle range back to 0~1000 (was temporarily changed to be 1250~850 which limited the range of the swash plate's vertical movements)
6cf7f45f2e Edit and Add some Traditional Chinese translation
4a766e1abd autotest: lower throttle level for lowering altitude in loiter
9700afaf10 autotest: fixed failsafe test
e146f225b1 ArduCopter - remove unnecessary block for next GPS value before saving home location
66b95c14c5 autotest: added build_all.sh to autotest
08d730c266 scripts: added some more builds to build_all.sh
df8a557630 AP_Param: update users of AP_Param for ParamToken
53b87229ff AP_Param: added ParamToken type for variable list traversal
a0d4e940ef Heli: added heli build to build_all.sh script
12327eb2a9 Heli: fixed some 'used before initialised' warnings
028de5d2c5 Axis lock beta (off by default)
885710fce6 updated max throttle define
05024cc06c Change 800 to a define
04b70ffdc2 added Axis_Lock params
ff2b4ecb7a updated throttle range
1e37a0ec17 added a limit to range output
1b46daa12e some better defaults for JDrones
76baea13d5 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
b92d7aaad5 ArduCopter - fix for yaw control on Octa Quad Plus frame.
232359186e TradHeli - fixed small parameter bug affecting helis.  The servo parameters were declared as GSCALAR instead of GGROUP in Parameters.pde. also renamed heli parameters from _coll_ to the more descriptive _collective_
b64c0da003 ArduCopter - updated version to 2.4
33aa6fe13b Optflow - added reference to FastSerial to resolve compile error on Arduino 1.0.           also removed reference to DCM (no longer required) and removed some old code.
92b3f86996 autotest: removed the pitch trim from the Rascal
9793d04ed1 SITL: increase the amount of noise in the simulated ADC
d52cb7e574 DCM: only add in centripetal accel if we have GPS lock
ffa3330f93 autotest: fixed the calculation of the acceleration due to gravity
16009777d9 APM: expanded parameter area to match ACM
6929226b96 ACM: expanded EEPROM parameter area by 256 bytes
bb352c6bcf don't need AP_Math.h here any more
718a5b70e3 AP_Param: fixed saving of sensor calibration
baac883eb1 IMU: move _sensor_cal to general IMU class
882cd4ea83 AP_Param: moved AP_Vector3f and AP_Matrix3f declarations to AP_Math.h
85ecb05261 CPUInfo: added timing of sqrt()
78babd37fa APM: use set_and_save_ifchanged() for GCS stream rates
4b15b63d21 AP_Param: fixed copy-assignment operators for AP_Param vectors
7f3858cb7f AP_Param: added a set_and_save_ifchanged() method
80a6773b8b AP_Param: added an initialised() method
b532cb91b1 added Rate_D tuning value
0075901f77 upped rate loop to 250hz
62b104cbfa Found free extra 256 bytes of RAM eliminate _clz use from libgcc
e2c15008c2 APM Planner 1.1.37 fix misc errors update polish fix linux/mac bug. - seems alot more stable
5218220f0f re-implemented WII Dampening filter for Marco.
b052dab80d Adjusted gains to move closer to Marco's tests
24ce02c6a4 made I term return in same pattern as D term
17c6c7b294 added extra gain logging
908ca4e915 scaled X velocity
bc1593e89c cast to float
632cc783a1 cast D term to float just in case
36a120d8df removed some unused vars, formatting, made loop speed same as PIDT1 to eliminate variable.
79d622939a ADC: on channel overflow we should not zero last_ch6_micros
9242c157ee APM: Fix rudder in elevon mode.
3cc986c472 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
a43ee36bee CH 6 Range setup
3d63bb6cd4 Added acro_p to the params
e8b6f5ecee allow auto-land if failsafe is triggered
fabeccad4a Marco's updated Motor testing code
73591a0ca5 Added lengthy note about motor testing
9a3e862b55 added option in code for Loiter specific gains
e249c8466d AP slew rate
21856e7696 new defaults for params
fcb24ee17d Added Acro_P
574b86b02e synced params
91edeeeef2 added RTL_land_enabled added auto_pilot slew rate
aa0662008b Added new params for CH6 Tuning moved enums to give more room for additional PIDs for Loiter added new Acro_P gain added auto_land_enabled option added pi_loiter_lon and pi_loiter_lat for separate tuning of loiter
05abe44f32 Added range setting via a parameter for CH6 tuning
026e4a6567 change constant to float 44330.0
2f81776b0d eedump ap param in perl
a48a118128 SITL: adjust the SITL compass code to have saner z values
62326c0f72 Compass: enable compass offsets for HIL compass
048aed5427 fixed dump size
089db43183 show group_element too
ea6a46fc9b AP_Param: added eeprom_aaparam.c dump utility
c14097ffa1 APM: changed hold_course for landing to be based on yaw_sensor
c662140a2b APM: report the nav_bearing as hold_course when enabled
330ff5dc8b APM: added some comments related to hold_course
3e7cc2499b autotest: increase the rudder gain
4398171374 SITL: catch floating point errors
245d265c6a DCM: added a SITL_debug() for DCM normalisation errors
601a991a46 added SITL_debug() macro
085cc00c33 RC_Channel_aux: fixed a uninitialied variable error, and save a bit of stack space
4b9c08d075 APM Planner 1.1.36 add guided mode wp fix setup setting save (if closed without switching tabs)
11835508a7 when setting airspeed and groundspeed in a mission, don't save to EEPROM
090068bee4 autotest: use more rudder for steering
1e7d3f5d48 autotest: raise the target airspeed on landing
d62cc01b65 autotest: adjusted APM parameters
8f18d08eb5 autotest: added a lot more interal checking
43c56be70c SITL: add some magnetometer offsets
f95d7cadc5 fixed SITL GPS heading to be 0..360
c9b432955d removed unused Vars
4faba2048c Lowered for Jani
27cd2893af autotest: fixed the directory that the git hash is fetched in
c042ef1298 APM: fixed some build warnings
8d1729b3ba Mavlink: report the corrected pitch via MAVLink
6a42598ade use stdint types in the compass code
be5ffdedbb AP_Param: allow dumping of AP_Vector3f
957df64b86 added some AP_Param testing of the compass
cdf296d8f6 fixed some printf casts
35badbb97d APM: the CLI fits nicely on the 1280 again now
d90dc4d893 GPS: change back to 4Hz for MTK GPS
804332c340 AP_Baro: fixed some signed/unsigned warnings
d574c78c2c autotest: fixed displayed git hash in autotest
669516cb15 autotest: fixed git hash parsing
74bbc72b11 move AP_Var code and example into libraries/AP_Var
23ed5c2cee fixed imax load/save in PID
37cabb4cfa fixed dead zone load/save
150a67c262 fixed PID initialisation
4c5c9b5d3a make the sw version different for VARTest
47807ec68d RC_Channel_aux: catch invalid function settings
d5b96fe9bd make it easy to run simulator under valgrind
1f05e7dafb fixed types in GPS detect code
ecdbfd257a token is 16 bits now
ed2271ceea check sizes in VARTest
d55a0c3a71 added AP_Param::show_all()
0f9adbdae0 token size for first()/next() is now 16 bits
9175ebe33a change back to 256 max variables in _var_info[]
617082769a go back to 1024 bytes for variables in EEPROM
0b3e3ec5c8 added group indexes to GCS_MAVLINK class
31d28e2181 update VARTest to use exact variables from ArduPlane
9c5a5473ab added indexes to group info structures
f2a6a31645 AP_Param: added group idx, and change packing of header elements
678a1df3be fixed support for AP_PARAM_SPARE
accaf9bb30 fixed build on arduino 1.0
e85da68fe6 expand parameter area for ArduPlane
d4305e0ae2 fixed apm2beta build with AP_Param
16417b651e the ACM parameters have a max size of 1114 bytes
3b4cae3cc3 adapted main ACM code for AP_Param
983192c5d5 tidy up a comment
c9c422539e update ACM MAVLink code for AP_Param
a2d0900460 fixed warning in Log build
bf1eb670e3 update main parameter code for AP_Param in ACM
db96303fa0 convert APM_PI library to AP_Param
452749149f convert AC_PID library to AP_Param
f9eed9bd9e fixed missing return in D value
2c3ec5de99 fixed two parameter names
676ca03977 expose mavlink stream rates as parameters
f760b3c717 restore _fCut that was lost in AP_Param development
84aef17bb0 fixed initialisation of RC_Channel class
5418302b38 AP_Param: fixed desktop build
d658bc6f9d desktop: more progmem string functions
f22988163e imported new Parameters code to APM
81e52e43c1 added some notes on EEPROM speed
e7174bc649 import new Parameters.h for AP_Param to APM
3d598c8caa implement dump of all vars in CLI using AP_Param
bc0ed62aa9 adapt mainline APM code to AP_Param
95e107ab75 AP_Param: added generic cast_to_float
9509c69f42 AP_Param: disable debug ready for production
5d03f13aa5 AP_Param: make ptype in first() and next() optional
e01af5885f adapt Mavlink_compat.h to AP_Param
570399ff98 expanded the VARTest testing to all variables
bf4a77da81 convert libraries to new typesafe macros
e8c4ecf9fa added nested group support and validation
94a86204ee added size of Vector6f
2792abfce2 demo of AP_Param with ArduPlane parameters
12dac42174 modify RC_Channel for AP_Param
e5a0074312 modify the PID library for AP_Param
e5f3864f81 modify the IMU code for AP_Param
8c58d95187 modify the compass code for AP_Param
497a400841 hacks to get AP_Param to compile
5b842a447f new AP_Param subsystem
69f1613f2c Uncommented cold temp compensation after testing. Fixed read throttle so read rate ends up nailing 100hz, not 90hz. minor commenting improvements.
f1a41b041f log: fixed some integer size errors
306a3bb4f9 Makefile: extra convenience target for apm2hexa
84dd0d2fda ArduCopter Hexa output_motor_test: individually select all 6 motors
739317276d ArduCopter setup motors: print basic instructions.
6573cec611 ArduCopter APM_Config.h: add sample custom channel config
470fd8788e ArduCopter Channel Config: config vars for user override of MOT_n mapping
2c65fc9ddf Cosmetic tweaks for tuning
0a63f104ab Gain adjustments for 3d frame.
3200781f56 Battery monitor type 3 cannot calculate battery remaining properly, due it uses only voltage reading. This path set battery_remaining to a value out-of-band for that type of monitoring. It informs to external devices to not show that info.
91aab0f074 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
0ea6ecf8d1 Removed outdated comment:
969ac70000 reset All for Auto takeoff
b1d52da431 reset Rate_I for takeoff
efce991bfb upped max target speed to center of loiter
8ae53bffd2 Made Yaw Hold universal for Acro
dc15fe4c5d Moved to Rate_I by default for Jani to test
c64d781dce get_acro_yaw added
19ab0f481e made Yaw work like Roll and Pitch
9f8d7d5076 Minimize the Yaw Deadzone
8ec192cf45 fix uint > int issue - for hil
be079c4fe8 update dataflash log template
b3430563a9 APM Planner 1.1.35 STK cleanups battery % fix rc reverse fix Polish update thanks GrzegorzSz fix gpx's (commas)
50aaa09348 Up Nav_Rate_P
62627e9b57 reverted to Save_WP now that CH7 triggering is fixed
3afaf2689c Fix for disabled CH7 value triggering WP saving
4313d19bc5 2.3.1v
71d57a5371 Enabled PWM test
b315e23bbd Found missing Break in Switch statement.
2335b74bc3 faster FS timer
c35ad2d493 Loiter update - removed compensation curve. Did some more math and its's not worth the effort, harder to tune.
6848dc17e5 Added safety to prevent shutdown of motors during Auto-land
f40d40b0f9 Acro fix - we had lost the scaling of Acro mode in 2.1. This restores that.
3859ff02d4 Logging update
fe7a0a97ab ArduCopter - CH7 - changed default to CH7_DO_NOTHING
cc958320f2 format fix to readme
345a23273e Motor mix update for X8 (octo quad), diagrams: http://wiki.ardupilot-mega.googlecode.com/git/images/APM1/ACM-X8_APM14.jpg http://wiki.ardupilot-mega.googlecode.com/git/images/APM2/FRAMES_X8.jpg
287f32392e initial upload
1a2d5505b2 Wrote a README.txt file
1205e86528 initial upload
c8e183ab60 initial upload
282f9f78fe initial upload
a12be05679 initial upload
ec46eced18 initial upload
b2a27708e2 Adding bootloader subdirectory for APM2 hardware
3517964e14 ArduCopter - Camera.pde - turn off camera pitch control (which uses channel 6) when channel 6 is being used for tuning.
70f91e3cc3 Arducopter - reduced rate of decent when landing using sonar
b5cc7f9ca7 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
a89a1803a8 APM Planner update Simplified Chinese UI
54dbb4ace9 APM Planner - 1.1.34 fixs based on error emails - minor
83326a9d62 APM_RC_APM2: Add support for CH_10 and CH_11
601b602198 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
80ccbabe63 APM Planner 1.1.33 fix up small bugs - mainly error checking update dataflash log xml - thanks randy
6877b8b3d6 AC_PID Library - added example sketch
f1a129c8ea ArduCopter - Log.pde - fixed Log_Read_Control_Tuning so that it doesn't read too many bytes.  Also fixed up some comments
90b39609c6 APM_PerfMon - removed because it's too big to use with our limited memory now anyway!  I have a backup in case we need to resurrect it in the future.
498970a948 TradHeli - tiny fix for yaw_offset.  Yaw_offset is used to proactively counteract rotational force caused by changing the collective pitch (i.e. rapidly climbing or decending).  There was a small bug for when the collective pitch is negative (i.e. powered decent) in which case the offset was in the incorrect direction.
f90694c671 APM Planner 1.1.32 fix gauge updating add more checks on add wp - default alt and home alt fix xplane 10 gps heading - should be 100% working now. fix xplane throttle issue - from rc library change - rc3_trim should be same as rc3_min
1a861b3de5 allow for lower serial baud rates
ef9418c2de fix issue with low throttle in air
151479f769 fix issue 502 to identify quad over mavlink
a2c671dc77 Planner add debug file
36eaf24988 APM Planner 1.1.31 add D terms for AC fix potenial crash when unpluging usb without disconnecting fix arduinocpp local includes
be7f016f61 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
dad4ee92e5 Revert all changes to ArduCopter Motors MOT mappings.
5919279685 firmware build
3288b518c0 credits
6dbcac855a Incremented version number to 2.3
36389cdbd8 ArduCopter Octa: fix yaw motors for Octa V.
6a333b743a Arducopter Motors Octa: Change V frame MOT_ output ordering.
7ca81bd2c9 hexa frame FRAME_CONFIG fixup
a24f89fb6d Arducopter Motors Octa: revert OCTA_V_FRAME back to part of OCTA_FRAME
0735c2b62f Arducopter Motors Hexa: Change ordering of MOT designations in Plus frame
dbd1cc6a9f Arducopter Motors Hexa: Revert HEXA_PLUS_ and HEXA_X_ to single HEXA_FRAME
b245265669 Arducopter Frames: revert to old HEXA_FRAME and OCTA_FRAME defines.
0e9294538b Add Max's changes for new MOT mappings. Defines new FRAME_CONFIG types.
b851d39eaa OptFlow - reenable OF_LOITER pid controller and reduce I term
8e8710c0d7 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
21bd48b6c3 Loiter PIDs
8aaf88e13b tweaks to Loiter
90099d4a42 ATT tuning update
f225efef9f tuning
08a9249e2b cosmetic
5934b503b8 tuning fixes
31614c39dd Cosmetic
009e87105f Minor changes for PID for jDrones motors due latest changes on control laws.
23709bafef pid_nav_lat incorrectly labeled
a3862ced62 cosmetic
46e08fb46a Added more attributions
144a499e18 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
ae65a0f03f removed filter. Don't need it.
bf2cc6072d limiting alt hold rate error to 1m/s
02aacc454b Lowering the throttle_P values by default
650c0ed3f1 made Loiter over ride exit dependent not on speed, but centered sticks.
693a2cfdcd TradHeli - fix to servo limits.  They had been unnecessarily limited to the collective pitch's min and max but actually there are cases (for example when the swash is leaning over 45degrees) where one servo goes well beyond the collective pitch's min or max.
974c825f4a Optflow - minor fix to D term defaulting
4d6850fd34 APM Planner 1.1.30 add OF_LOITER add AC TUNE options fix default alt issues. make Scripts, 1 at a time. update aerosim-rc plugin. add new "follow me" mode- need a nmea gps and xbee on pc. control-F > follow me
9c5f77926f to speed up testing suite
973b0b72c5 Landing now disarms automatically.
67cd412105 Landing update for better baro landing
5ab37a346c reduce test.pde size for 1280 users
7833cea9d4 2.2B6 - Please verify Heli still functions properly. Added AC_PID lib Updated landing code bug fixes
af79eb273f Added D term to APM_PI - need to refactor this as a parent class and two child classes to save code space, remove dupes
295631139a formatting
d1fcebb5ca Cosmetic changes GPS LED lock waits for home_is_set to be true
326a663c6b changed tuning range
9c26e2369e Arduino 1.0 - GPS_IMU - small fix to make it compile.  Does anyone use this lib?!
8533aaf5d9 AP_PID, AP_RC_Channel, FastSerial - small changes to make example sketches compile again
b7ce7bfe18 Arduino 1.0 - small fix to make AP_Baro_MS5611_test.pde compile under Arduino 1.0
cf25bbfa74 AP_ADC library - tiny fix to make example sketch work after some changes to AP_PeriodicProcess library
b37ca7cccd Merge branch 'master' of https://code.google.com/p/ardupilot-mega
ed19c25a97 Arduino 1.0 - changed all #includes of "WProgram.h", "wiring.h" and "WConstants.h to "Arduino.h". Modified FastSerial's write function to return size_t (number of bytes written).
f3a95ff3cb Arducopter - Tri - move yaw servo (channel7/motor7/CH_TRI_YAW) to mid point on startup
122623f64b OpticalFlow - added OF_LOITER flightmode
1dcd50e3be ArduCopter Tri: fix for enable_out of yaw servo, defined yaw servo for APM2
64f59e4dd5 APM Planner 1.1.29 add sensor offsets add script note remove some old unused define code new setup for Aerosim-rc 3.83 - not released yet. fix some opengl linux exceptions fix italian
a8b3d2f063 OpticalFlow - fixed minor compiler warnings and moved chip select to A3 for APM2
8dee001657 Sonar - changed default pin to A0
6c03307217 ArduCopter Heli: add motors_output_enable function
2c906b7b27 OpticalFlow - replaced PI controller with PID controller. Modified optical flow hold to use aggregated position instead of speed.
4434ddf389 Optical flow - updated standard frame rate to 2000hz and increased resolution to 1600cpi
99506accf4 Optical Flow - added overflow check
9195006541 APM_RC examples: add calls to enable_out after init
101dcfebe8 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
95773eb9aa APM Planner 1.1.28 fix updatechecker fix battery config screen
4904b4dd12 firmware build
1f6503bb7a firmware build
7d0545781e firmware build
884b08f47f APM Planner 1.1.27 fix heli setup screen force update check on start fix battery capacity
25529dec69 added loiter_d to allow users to configure alternate Loiter alg
74daadb252 Revert "test to switch loiter controls"
09c16508b3 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
9c1e257826 fixed example in PID library
6476ba22f2 test to switch loiter controls
dfece8e3ff ArduPlane: Call APM_RC.enable_out for all channels in init_rc_out.
89e11afc09 ArduCopter: Call APM_RC.enable_out for camera channels in init_camera()
98a90d0352 ArduCopter: Call motors_output_enable at correct spot during init
04a3112f33 ArduCopter: Add implementation of motors_output_enable to each motors_ frame type
602d56304a APM_RC: PWM outputs are disabled by default on init
276913a950 APM_RC enable_out and disable_out added to APM1 and APM2
dd1e08a7e0 Causes Aero_SIM to fail
1d9783652a added Beta 4 tag
60e3508f7c converted to cm
aace39e65c Converted distance gains to CM added loiter_d for rate control, equal to old Nav_P gain
fffa1af3b3 Fixed speed governor which was letting speed get to 0. added Loiter_d to replace Nav_P for rate control wp_distance calc now returns CM
f638a4b81d recording nav_bearing rather than target bearing recording x and y speed rather than Iterms for nav since they are always 0 now
2fa24e0557 added conversions of CM to M
7edd16e5fe Added Loiter_D to replace Nav_P for better separation of loiter and navigation tuning. Upped Nav_P defaults to 3 based on windy flight testing Added minimum WP speed define of 1m/s Upped loiter_I for better wind performance - was not seeing any overshoot in logs Made Nav_I default of 0, since we are not using it in the code.
59d1f225d5 convert command into CM from M Making Landing boost be one at minimum to trigger better navthrottle output
f3cc1121aa better default for speed governer
5cc19bbe7c slightly less filtering for less latency
9003b95499 Converted to cm for distance
ad990c7e35 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
8cb645f3c2 increasing the velocity near WP
1aa6d0ea08 limiting the pitch throttle compensation
ab5716c42d Calc error for logs
e3aa67d264 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
d2db7cc7b2 APM Planner - aerosomrc quad hil mod
4d022f95d3 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
7c25253422 Enabled auto throttle hold
7fb641ab77 added note
fb72ecd4e4 formatting
127544b833 Added cast for comparison
42b1362bba cleanup
5ac26a5500 error on comparison operator
5180592913 Added Auto_land_timeout to params
c190f83bb0 AutoLanding timeout for Mission Planner
a22596fb33 Max throttle output was to high
19053bb725 Updated Firmware version
f5fd3a0597 reset all I terms at Arming
287ffb5fb4 enabled Mavlink Land command
6784989e83 relocated reset_I term functions to central location
d2c78d2b75 Stab_D changes units with the new dampening controller updates Stabilize roll is raised to .1 - Flies great, and avoids a slow oscillation that could be affecting loiter. Loiter P lowered to 1.5 based on feedback
932869b686 renamed function
43365fe802 Verify land updates from JLN Effectively a throttle control for landing that mimics a person lowering the throttle.
ed32ad30fd Refined the D term for stabilize moved all the rest_I terms from code into 1 central place
5141534ea9 B3
db6db1ab91 set dampening range from 0 - .08 from 0 to .6. The new dampening code has changed units. added the ability to force nav_throttle so we  don't get ground effects screwing up baro sensor. Added more descriptive Rest_I functions
6e94b21d67 Altitude no longer resets when moving loiter WP
85f10589b2 slowed down slightly
017364fc5b Lowered range to more sensible values
2831ff9148 Off by default
94e7ba8df2 Removed Gyro filter,  In the end it doesn't help and I think it could actually hurt gyro integration.
712c675807 APM Planner 1.1.26 add italian - thanks emiliano fix potential joystick throttle issue
3142a75913 AC fix attitude level hil
95f58b0432 fix scale error
1bebb9452b AC sync battery code with arduplane
cfe33d8b46 APM Planner 1.1.25 modify aerosim rc quad hil. tick quad, gains 3000,3000,4000,900 add armed status to HUD
93d5754e1d Merge branch 'master' of https://code.google.com/p/ardupilot-mega
52a9bb3cd1 fix SITL attitude hil AC
6b949511ca change rc norm_output to scale evenly across the entire range
9ca6668c1b fix SITL attitude hil
b72719cc77 APM Planner 1.1.24 change verify alt action fix hil throttle scaling Thanks Justin
b3158cae38 APM Planner 1.1.23 firmware setup mod + extra cygwin dll zipped
9f3966b81b firmware file mod
e4b8a10d4a Merge branch 'master' of https://code.google.com/p/ardupilot-mega
a2523dc6a5 APM Planner 1.1.23 partial setup of AC FW FlightData map rotate Modify battery monitor screen
eb0b1b91d8 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
0dc0d9ddf0 added a simple DCM library example
1f43cf6579 fixed Oilpan test for new library structure
e785361547 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
79ba9443e9 APM Planner 1.1.22 fix joystick mode function - thanks doug fix rc trim issue - thanks doug arduinoccp seem to be working nicerly now.
25be642bf8 firmware build
418f5ea31e Increment version number in anticipation of a firmware hex push.
797e0e27a9 Additional commenting on global variables
b4e58b50ee Additional commenting on global variables
ed9f7cb1b6 Update battery monitoring code for ArduCopter
762a5550de Remove a debugging print
4b24d865bf Stashing some battery monitoring ratio values in the comments for future use.
e22a83eec0 Add a CLI setup action to reset the magnetometer offsets
6e8ac99ed6 Fix airspeed sensor support for APM2.
0306bf97a0 Just a little more commenting work on global variables
69c7598db2 Update battery monitoring code for ArduPlane
9c5a776456 Teach the Makefile about the new Arduino sourcefile suffix
cc36964a44 Rename Jeti\ Duplex directory Jeti_Duplex.
fbf8e0b24e firmware build
e2c2a453a8 APM2 Channel assignments
69ffc7e115 updated channel notes
52f567a319 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
2a0312e9d1 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
9dcd005cd1 APM Planner 1.1.21 fixup config highlighting mod log scanning increase calibation timeout add tcp console port 2300 add arduinoCPP - test
dfd817a6c0 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
3ebed0b278 This allows users to test the Auto_throttle hold or cruise value
46ef246e67 b2
0ae82da0fd Fix for SIMPLE mode
72faa6525e Tweak to make circle mode scripting more accurate
89343ae306 adjusted GPS watch dog not to be so aggressive, removed unneeded flag clearing
95ac9d163e lowered Loiter I, commented out unused var
c02b403a06 temp removed alt D term until more testing
1843798697 Clarified the Increment for WP total
f97d58c753 added notes, removed redundant save wp_total
897d9a1c0b baro: fixed an integer overflow issue at high altitudes
bcd63a9807 OpticalFlow - bug fix - highest resolution was incorrectly set as 1200 instead of 1600
7877a872d3 added update throttle cruise function
1269b07d9a Made RTL always the current Altitude
ec9880f725 made resetting throttle cruise a function
6591089110 Disabled Ryans filter until we get real-world testing in.
8d909f6eed fixed GPS bug - moved to fast loop location
c327a9f000 made landing shoot for below home by 2 meters to avoid bounce up.
340c7daa2e Merge branch 'master' of https://code.google.com/p/ardupilot-mega
7c475f178c tuned down Alt hold D gain
77e2d4a076 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
b52ad60864 firmware build
4eacc6f3eb re-enabled relay test
ee7c948781 Added simple constrain for Alt d term
b0810e054e moved GPS routines to 50hz loop to avoid delay.
648a404ee1 Version 2.2
91e05834c8 removed wind comp code, Added Landing boost code
4459fc4e34 Added a small D term on alt hold
6b85adb460 Added Landing throttle control to force down the copter
154411c96c removed unused defines lowered default Loiter gain
569ff5046f Added Ryan's GPS lag filter Removed unused code refined alt change
a59c9ae22c added notes
15d446bde2 DCM: prevent a segmentation fault when compass is not enabled
9846822748 Bug fix for compass.
70b7951366 Eliminated second instance of APM2 #defines
a70df9cc9d Merge branch 'master' of https://code.google.com/p/ardupilot-mega
a7bce15365 R10
99ea69ef7b New Loiter control
257890d5be New Loiter Gains for new Loiter methods
98f637282b moved to verify_land
5e9db462f5 attempting to force down without using Manual boost.
ad6d2bc398 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
892f24ac5c Adding comments for global variables
88e7a3ea89 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
28d0377a00 APM Planner 1.1.20 add ac2 land Mode add xplane 10 support add disconnect verify
49cf409c23 desktop: floating point precision changes from Justin Beech
73d6421373 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
f35411ac45 R9
84e001594d comma
d11eaa9265 Tweaks
e2830ca147 fixed type error
354d9588bf sensorSign swicth
4b54887c6c Switched to set_next_WP for mode switches
6b836d1a09 Fixed Type Error
c4476bdd80 Fixed type error
3e8ff39d4b Climb rate control
a79d302b98 added set_new_altitude call()
e102cb9e6a Added ending for auto landing
3a5ffc252d updated climb rate control Land detector
acd877abda added set_new_altitude call
f36aba8af2 climb rate control
5a91396f63 Added climb rate control removed unused vars
7890b784b2 Added altitude
dab4fb43d4 Added altitude change flags
b6fc8e519c AP Rangefinder had some bad characters in it. Converted and cleaned the text files.
351be7c305 Made timer unsigned
7b8767d846 Added comments
b1e971ea18 added location error calc to get better data. Otherwise we'll be 1 GPS read off.
5f55780b5e Added comments moved out failsafe check. otherwise the reporting was erroneous.
92f7b22722 Moved failsafe check to more logical place
cf92631d33 added #if to wind compensation code
fc6321b7ca ArduCopter motors_y6: rewrite CH_ macros with MOT_ macros
927e60d85b ArduCopter motors_y6: rewrite loop in terms of motors
ac7f6a5602 ArduCopter motors_tri: rewrite CH_ macros with MOT_ macros
73610ddb6c ArduCopter motors_octa_quad: rewrite remainder from CH_ macros to MOT_ macros
7f4c994346 ArduCopter motors_octa_quad: rewrite loop in terms of motors
e2be119433 ArduCopter motors_octa: rewrite remainder from CH_ macros to MOT_ macros
46b8037a73 ArduCopter motors_octa: rewrite janky loops to use ch_of_mot
79030a84b8 ArduCopter motors_hexa: rewrite remainder from CH_ macros to MOT_ macros.
f7e14fff37 ArduCopter motors_hexa: rewrite janky loops to use ch_of_mot
b907c1fd5c ArduCopter: add ch_of_mot lookup to motors.pde
7535c1c3fe ArduCopter test.pde: translate from CH_ to MOT_ notation
6a4442557c ArduCopter setup.pde: translate from CH_ to MOT_ notation
91bc2698a8 ArduCopter radio.pde: translate CH_ to MOT_ outputs
2f63c636ad Rename ArduCopter/config_motors.h to config_channels.h
f5b6746ad7 ArduCopter: Change TRI_FRAME yaw servo output to CH_TRI_YAW define
c105f64dca ArduCopter Camera.pde: changed from CH_n to CH_CAM_ notation.
e0e430895e motors_quad: translate from CH_ to MOT_ notation.
0b40f55334 ArduCopter: include config_motors.h in sketch
e5e8ed8a54 ArduCopter config_motors.h: stubs in for CH_CAM_PITCH and CH_CAM_ROLL
9eae2ec7fe ArduCopter config_motors.h: proper defs for APM1 MOT_[5..8]
a30558e9b2 ArduCopter config.h: add standard ifndef/define header macro wrappers
a7628b7f78 ArduCopter: add config_motors.h with MOT_n to CH_m mapping
a19afd926a APM_RC & ArduCopter: Change interface to SetFastOutputChannels to use _BV
87683aae93 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
eb236b313b APM Planner 1.1.19 fix log download misc
1832fc3d94 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
861222f81d autotest: cope with startup messages in a different order
06b16a156e autotest: make history pages use the css style
78255b722e Slowed Auto Descent Don't return true in Landing code to prevent flyways in Stabilize
658760889f Merge remote-tracking branch 'origin/master'
f68d23d91e ArduCopter - added ROLL_PITCH_STABLE_OF (i.e. Stabilised Roll/Pitch + adjustments based on optical flow) Removed optical flow from regular loiter for now until it's tested.
756793611f Repair dataflash test
ee18748565 Put in commented-out APM2 # defines, to save people the trouble of having to type them in themselves.
d46f36e624 Put in commented-out APM2 #defines, to save people the trouble of having to type them in themselves
44c66c2e8e Bug fix for issue 438.
d45c0ce9f2 Added Acro to Rate_P
3dfa26920f ArduCopter - changed Sonar to use A1 (was AN4)
f4b530ebb1 R8
48c211e055 Added finish to missions - auto-land or stabilize
9c8122e061 converted auto land to use the mission planner version Removed gate that looked for already set control_mode. Wasn't compatible with failsafe
63be9c5f7b Moved wind comp into a define
06e032db68 Quad frame - X is default added wind comp stability option to config - off by default
6678edf243 Auto-land updates -  removed sonar option - not needed updates from JLN
76dd79e7b5 Made RTL hold position until it reaches altitude
dd42f06275 Cleanup
0be68e679b updated throttle to keep altitude
faa9dd43cf scaled to 0-1023
458b88c834 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
ee0551037e Revved to R7
431d472695 enabled failsafe on SIM parameters
c1314bc814 Added failsafe test
98f9a5f237 Forced Faildafe throttle mode to throttle Auto
5b66a09688 Added check for armed motors in failsafe
c9f60f239d Added Note
8f3c577e47 Made RTL go up 10m for failsafe
17873eb09c Changed default throttle type for failsafe to avoid checking changed timer to 20 seconds.
6d827d0087 Added RTL with Auto_land test Fixed Simple Mode test
e116636fe9 Auto_land update
e3c16fc1b1 Added auto_land to RTL
40ad164c8d Clears Auto_land timer
ddf35c42e3 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
1135fea61b APM Planner 1.1.18 - missed stuff
1f7b81dcf8 APM Planner 1.1.18 fix heli setup screen
9520472cd5 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
20661e5020 timer set to unsigned
1b8c6990d1 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
e1a544cc78 fix relay on apm 1 AP
df81a9459a ACM: reset all I terms on gyro calibration
2913948520 ACM: fixed a warning
c1c3115b42 ACM: fixed a alt hold bug
92f9c0b648 ACM: fixed a signed/unsigned warning
596a1f43f4 ACM-simple: don't use uninitialised simple trig values
193848cea6 thought the commented out function was too cool to loose, but not using it now changed the WP index number
fa2d84e557 Looking for larger than 255 numbers
3cf77729ef Disabled stable mode wind comp by default for release
28262dd825 Added Xplane output option
467ef66a77 Added home offset for altitude
40c649a27b Made landing disarm the motors
ed1ff0b171 Upped Revision
76cfdca6cc Cleaned up and documented each global vavriable Added Wind compensation for Stability Acro mode fixes
2e83e42764 Added precalc for wind compensation when entering Stabilze mode
e36d2f6e96 Added Wind compensation for Stabilize moved speed calc to it's own function decreased acceleration from WPs
fe8c99c49b removed PM test field 1 - not needed
a2c8f5af15 removed unused vars
de6325fb8a removed unused vars
cf9e744ed2 removed unused vars
8ed2d96396 removed unused var
59f22f0ca0 removed airspeed
ecb3241489 calc_wind_compensation called when exiting AP modes Rate I terms reset in Acro Mode switch Limit of 1 m set to alt hold Reset circle angle to 0 by default Land got land_complete var set to false by default
4e0e783e7c added Reset_Rate_I function Removed I term from Throttle rate calc Added some basic constrains to Acro
b8c0bdb66f removed airspeed
d0af95f0e3 allows main code to manually set the integrator value
92eece79a4 cleanup - removed unused functions, made pressure reading Float to avoid extra cast
e1232e7b80 cosmetic
e7b750074b Added takeoff state and ground state variable
37cda3c364 Cosmetic
2fc6a645b4 removed unused Airspeed config
b28ae04e0d Removed unused options
6513b12eb2 Cosmetic
67bf991598 removed unused Airspeed config
c7b5b747e8 change how Reset Nav params work - no longer clear I terms
580ad2c5ce Added JLN's landing patch, moved some variables local such as Jump counter
c0c2ea4ebb removed unused functions
2a3d4efb38 pysim: support octax
64b541037e autotest: change to an octa frame for autotest
efa649e51a autotest: fix for new sim_multicopter.py command
9df96d0e07 pysim: added more frame types
ca39fc8b47 sitl: added build targets for different ACM frames
9d1c4ecfcd ACM: don't set defaults in APM_Config.h
eab1ae59d0 pysim: accept frame type in sim_arducopter.sh
45b4e07776 pysim: show frame type at startup
ed5c9d4c47 rename sim_quad.py to sim_multicopter.py
ba9423f7de pysim: added --frame option
1670f1f65b pysim: generalise the quadcopter code for multicopters
7d1c7d706e Merge branch 'master' of https://code.google.com/p/ardupilot-mega
cdd5589498 I2c: default to 5ms timeout, and faster bus speed
60185509f4 AP_Compass: when I2c fails, don't retry for 1s
9fb3b13af3 AP_Baro: when I2c fails, don't retry for 1s
880c7e6411 DataFlash: cope with older dataflash chips
9fc432b6a1 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
28467708f9 APM Planner add Traditional Chinese thanks EllisSu (Su Chuan Zhi)
dda9256a6a Merge branch 'master' of https://code.google.com/p/ardupilot-mega
a7acefaf17 APM Planner 1.1.17 add polish thanks GrzegorzSz added french thanks Don Brooks fix posible rc setup lag
52358bbcdd Merge branch 'master' of https://code.google.com/p/ardupilot-mega
4de2155845 Tweak to FBW min altitude
26d0bf93ff Added more constraints around velocity
b3cea96970 Cosmetic
74b203c7f2 Lowered Yaw to prevent overshoot based on feedback
ea832c0818 upped to r5
c1171bcc1d Merge branch 'master' of https://code.google.com/p/ardupilot-mega
1ef7f9fe62 Loiter I reset
0ace8474d7 R4
c6586810cf New Style WP navigation for high wind
2cb09f46e9 no longer calling reset_nav
6a8391f0a7 removing I term clearance
28984a72e4 no longer calling reset_nav
26267f75b2 Reverted to Crosstrack like in Arduplane, requires Degrees * 100
dac29af7ab Sync with Arduplane
c7f93f8718 Updated Configs based on field testing.
15a377d759 Added a default Yaw tracking setting Added Nav_Bearing
84d3e3135f Added Nav_bearing, just like APlane added fix for LOITER in missions so we don't Yaw in circles
cf48091d00 removed old loiter method option
13ca48f744 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
924e4ee783 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
306e2e3f7d add gps character count.
3cb74cb459 ArduCopter - init_compass - fixed HIL build issue
3d85f99546 remove gps callback in wait loop
e6ddd47df9 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
a2edba69b1 GPS - removed GPS_MTK, GPT_NMEA and GPS_UBLOX.  All functionality moved to AP_GPS many months ago.
3ea49e1415 updated rev
21460a57ae Yaw Performance tweaks
95a70cf32e lowered to nav_lat and nav_lon  int16 added a version that didn't have I term added to get a better indication of velocity estimation
10abb7871e removed loiter I from Reset Nav
17acbc4572 updated Loiter gains
53c09774e5 removed Rate_I from Loiter, lowing Rate_P from Loiter too. Too aggressive leads to rapid oscillations in air, and not around loiter position.
2c1fe93856 cosmetic
6f42442e57 Added 5 sec Takeoff Timer to clear i terms when lifting Moved loiter relocation function to update_nav moved User hooks to correct place Added tuning for D term
f41835d546 Added Stabilize_D parameter
bb954bc479 Upped Yaw speed to deal with performance complaints Added new Stabilize D term default of .25
d055763947 Added second order, filtered derivative in stabilize. Works much better than the non-filtered one I used to have.
fa49aa5eec Fixes for Smooth Loiter
4f60fa412c Set Define for Max throttle
8a921e869c Fixed a 1280 only test
986b42a45b Fixed Loiter Timeout bug, added more wind by default.
a9e1e9a8db Turn off Super Simple by default
db96b9ec7a added define for Max throttle
244ca98264 Added Dampening term for tuning
7e1e1f84b3 updated Loiter PIDs
a29aa020ff Made wind not reverse itself to be more natural
4b5437afe8 Enable Magnetometer by default
a6c09b3ea5 Small issue with newline formatting
51e6170ecb Missing ;
4353f60f60 removed takeoff complete flag from missions, not used and would be useful elsewhere.
7adc80c513 removed newlines to clean up code
fbb35928fe removed unused function Simplified the baro init filter
bbe6dea980 OptFlow - initial support for APM2 (there are still problems) including adding ability to set Chip Select pin.
4d78095070 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
f36a980b98 APM Planner 1.1.16 change reset order add french lang
2f4edacf05 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
8b2f14c40a APM Planner 1.1.15 fix reset issue add Circle AP Mode change time to wait to 17 secs
cd145fd7a9 add circle to output modes
ddab189e42 autotest: update copies of pymavlink in autotest
219ca06e00 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
074fd31506 Baro: fixed MS5611 example sketch
820153d7ae compass: show timing in compass test
f871235480 Baro: show timing in baro test
8f74631882 DCM: don't use compass unless its healthy
7c098491b9 I2C: fixed some warnings
5f38663d44 desktop: exclude I2C library
e1c9c063a5 MPU6k: don't init the Wire library
955dfe0226 ACM: check compass health before using it
03a16c6e45 ACM: use new I2C library
cd3729d993 APM: added error checking on barometer read
98353b7ba8 APM: added error checking on compass read
3cb96fb8af APM: convert to new I2C library
7ba744a11a I2C: convert barometer library to new I2C library
acf4e9b61d I2C: convert compass code to new I2C library
433df08cb3 ACM: enable compass by default on APM2
8ee336e715 I2C: imported the I2C library from Wayne Truchsess
a6920d603d geofence: re-breach if user changes mode outside the fence
2560a97407 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
e7dab19260 TimerProcess: prevent a race in setting up the timer callbacks
8d87aa41b9 APM: Update for DataFlash changes
73e6d5ee11 ACM: update for DataFlash changes
5e4f66e525 DataFlash: moved high level logging logic to library
bd9488f1e4 DataFlash: fixed sense of card detect
6ca613337b MPU6000: protect the driver from double initialisation
18d26dc74e MPU6000: minor fixes
4d71482d1c TimerProcess: check for duplicate registrations
dbaa6fb6d2 TimerProcess: make some variables uint8_t
d3679e5f92 firmware build
6c4184a7cb Merge branch 'master' of https://code.google.com/p/ardupilot-mega
6e6d9ef4e9 APM Planner 1.1.14 remove bad params from loading from file add message on firmware screen. fix moving geofence fix terminal crash bug modify udp param list
20025343b6 temp
3582ad4e20 Fix issue #423 - FastSerial flush bug.
234121f3c3 Fix for 11 channels of motors.
b8917b58bd Added contributor names, removed "alpha" from firmware name
71099006a6 Mission planner: Cleaned up parameter fetching code. Dropped requirement to receive parameters in numbered order, since with UDP communications parameter packages may arrive in random order.
8b9eb0dad1 autotest: fixed arducopter autotest
637d4675e1 added in DataFlash.cpp
4fe527aefa ACM: use LED_OFF/LED_ON instead of LOW/HIGH
f5a3eed1a7 APM: fixed some unsigned/signed warnings
111d156a99 ACM: fixed HIL build again
9bb0bd0341 desktop: added attachInterrupt() support
a39a470d75 desktop: fixed for new DataFlash inheritance
977326e991 dataflash: reworked classes to move most code to parent class
d81dc21dfe APM-log: fixed reading of GPS logs
ab64a689c8 ACM-log: use DataFlash.df_NumLogs
3f9f3f3416 APM-log: changed to use df_NumPages
13b2ddcbe1 dataflash: fixed APM2 flash logging
04daeab7c0 MPU6000: change to 98Hz low pass filter
10ca54ef8f MPU6000: use data ready interrupt to prevent stale data
760aa62c75 fixed the MPU6000 test sketch
07041c2149 TradHeli - modified the default collective min/max values to restrict movement to about half the full range.
1afa25d9ef Tweaks to fix Loiter Changed save location to int32 added some filtering and smoothing
4620186328 Merge remote-tracking branch 'origin/master'
c24b5229e1 AP_GPS - updated MTK rate to 10Hz and fixed lat/lon printing inaccuracy in Arducopter logs and AP_TEST example sketch
b72f9c2e9f added MPU6000 test sketch
8e17b8d6d4 Correct a bug in throttle failsafe feature
a5df59eba3 Remove old debug print
7879efb8ae Fix scaling on "turn coordination" yaw PID so that P gain values fall in "usual" range 0.1 to 10.
3ac67284f7 firmware build
0dadbf932a removed "Please run setup" loop from ArduCopter
f11a5edbc7 removed dead test program
cc4f5e7c74 disabled some tests with warnings
0491d4feca added define for optflow
d7af42c925 Getting rid of Simple Logging
0f91fbcee5 Made WP radius 1 by default
d9590a44d6 Fixed merge issues
e5a3899b7f added ability to enter Loiter with only optflow available
73a73fbf35 moved some defines around
5518882c69 Fixed resolution issue with Xtrack Added stub for loiter based on estimation integrated fix for tracking GPS at slow speeds for loiter
2d46022a2b This is the test to deal with big props with lots of inertia. We use a low pass filter on positive acceleration.
58ad9faf6d initing z dampener at arming
5f03c62bd9 Too complicated
be4b031c7d added back in the Disabled log - gave up on Log Simple idea
ca8f71a705 used for testing
a966a178f8 increased crosstrack thanks to float math fix decreased loiter iterm, decreased throttle iterm based on simulator runs
a284fc222c No longer blocking before initing home
79fff0f096 the second accel test is just for fun. Filtered output for Nav_throttle
62cb407558 Begin to better integrate OptFlow, added necessary globals for Loiter estimation
85b564c5eb removed some unneeded HIL #defines
5038fcecd8 Added more detail
c9b2d1c3c2 Added fix for Takeoff Test
d626fcb52f added a copy of fdpexpect
30425063d8 more errno fixes for MacOS
d007ee996d fixed errno handling for MacOS
5e347854c3 setup the main loop failsafe after RC library is setup
5bda871d60 added comment on using GPS ground course
c40fccbc26 Log_simple uses identical implementation of do_erase_logs.
89e484ef9d APM_radio_test: build fixes
629643f31b APM Planner 1.1.13 hazy's capm change - modded fix wp radius at odd rotations small geofence map update changes fix terminal focus
d0245b206a APM2: default magnetometer to enabled
c805f2a0c3 failsafe: make sure we clear any RC override in manual failsafe
e4ed3cb583 fixed typo in fly_simple()
e070e080d0 APM Planner a little bit Chinese translation temporarily fix CAPM board detection based on locale
88770f6d75 Mission planner: Fixed UDP receive
26d5d3c385 fixed HIL build
29fa78214b APM: added failsafe support
e687ce9b3d mainloop_count should be uint16_t
89561d49d0 always declare a timer_scheduler
8780a60234 ADC: update for new ap_proceduce prototype
e7720254dd AP_Baro: update MS5611 driver for new ap_proceduce prototype
f97b405b56 MPU6k: update driver for new ap_proceduce prototype
79d6c21dde PeriodicProcess: added set_failsafe() call
11b8d56434 added comment in polygon code
bc9e943969 rollover is not a bug
97f8d21c1b added code format markers to AP_InertialSensor library
59d2d2d783 fixed build of IMU_MPU6000_test
2176736e8b APM Planner 1.1.12 touch up geofence. remove reset tab
b4ab14d9dc fw fix
cb61e8ebb4 firmware build
927a801ed8 APM Planner 1.1.11 change wait to 75 seconds fixup geo-fence add kml to geo ref image
f1624621b3 ArduCopter Logging: DISABLED means DISABLED again; CONFIG_LOGGING added
40eb749a3e Merge branch 'master' of https://code.google.com/p/ardupilot-mega
1ed7c48de4 APM Planner 1.1.10 fix log crash
310f072d50 Arducopter - added "//#define APM2_BETA_HARDWARE" to AP_Config.h for developer's who received early version of the board with the old barometer
e7568db237 fixed comment
11ff665ca0 CPUInfo: show the speed of 64 bit maths
4bdc872595 APM: show temperature in airpressure test
6efa2e53cb AP_Math: re-work polygon algorithm for perfect precision
106801a59c config settings for jD motors
b53a6bd4b4 Hexa stability patch bug fix by borna.segulin
239eb53983 change Alpha name
ab40539a76 autotest: increare tail wheel friction
c14d702912 geofence: send fence status messages on fence events
86b86c1bdf autotest: bit more throttle on takeoff
991ce9077c autotest: add a DO_CHANGE_SPEED to arduplane test
5dd453e535 autotest: improved the Rascal ground reactions
e99db6526f APM: added RST_SWITCH_CH parameter
d832d49f27 fw
345093e982 autotest: make the Rascal a tail dragger again
42d7bf7fce autotest: added automated landing test for ArduPlane
ac5a76715b autotest: updates ArduPlane parameters
71c911f65d Log: fixed logging dependence on compiler arg eval order
e070109e21 AP_RangeFinder - change sonar example sketch to use default Sonar PIN for APM2 (A1)
a3a0e5646f polygon: improve the speed and precision of the polygon algorithm
f25ee899f3 APM: run mavlink loop while erasing logs
ad9c0533d8 ACM: run mavlink loop while erasing logs
fc20aa9602 geofence: enable return to old control mode via FENCE_CHANNEL
a48b7a26aa APM Planner 1.1.9 mavlink update firmware wait increased. for dataflash clearing geofence now working
077bfd4f0a Merge branch 'master' of https://code.google.com/p/ardupilot-mega
92886cfa10 make file relax
0104d30f53 firmware build
c91cc66af5 apm planner 1.1.8 fix large firmware issue change apm2 detect add tot = time over target modify firmware screen override jsbsim ports. remove crossthread calls
89e0d494d0 fw file again
06532b0638 firmware build
f4b7aea1ee add relax
566778dde6 fix firmware typo
589e28de8a fix firmware no
611700711b firmware build
8970948804 Sync logging
47e4c875e1 Cleanup removed Iterm experiment - no noticeable effect in actual flight
bb0f179495 AP_Baro: fixed temperature on MS5611
bf38ae5960 cleanup firmware dir
6341db7031 Revert "ADC: only read channels that are actually being used"
d442bad413 Revert "ADC: added an enable_channel() API"
99eafbbe38 Revert "ADC: fixed HIL build"
df094ce463 fixed airspeed sensor for ArduPlane on APM2
10e546eebd AnalogSource: return a float from read() method
f6f808357c removed AperiodicProcess code
b9a88aac32 geofence: added FENCE_TRIGGERED_PIN
28d280562a apm 1280 disables
bfc08d5d1a APM Planner 1.1.7 modify apvar dump detection remove reference to CLI and LOG/Setup mode add line feeds for logs/terminal fix flow_enabled check on form load
d4b66139dc ADC: fixed HIL build
dc01d55740 added missing mavlink headers
42522baf9f geofence: store fence points as int32_t
fc495ce6a7 geofence: added fence status reporting and faster altitude check
a4c03cceff mavlink: include latest geofence message changes
64ae2ebec5 geofence: don't trim control surfaces on geo-fence breach
3b148c87d5 geofence: main geo-fence code
82b615df50 geofence: added geo-fencing control parameters
9b6bab8904 AP_Math: better polygon algorithm
dc20d89375 MAVLink: update to latest mavlink XML
882b4cd739 autotest: fixed prog name
b1f912a355 autotest: fixed working directory in sample scripts
960d6ee38a removed an unused variable
9591317dbc ADC: added an enable_channel() API
c41e7c505b timer: enable interrupts during timer processing
09947dace1 ADC: only read channels that are actually being used
84a694efb9 only check for "enter 3 times" in first 20s after boot
f125f6619a fixed formatting of ADC driver
b484411c41 timers: change to 1kHz timer by default
e187ff149f desktop: fixed type of dword eeprom read
62e92f406e AP_Math: make out vector and matrix elements used types with fixed sizes
2fc25d963d renamed super simple, added framework for auto calc of throttle cruise
3019c35364 turned off iterm for traverse
f11f2c6d97 added some more throttle imax range renamed Super Simple
72605f846c renamed super simple
e6fd8a689e added SuperSimple and notes
ced4cf1538 testing updates
6e81b1a6f8 Added new tests
da8d342a08 Added Land control_mode
88b3708dcf added altitude to circle mission
0ba8a9f30b Allows user to specify just an altitude for Circle Mode
4e280bb0dc More power to descend
bfab9f52e9 APM Planner 1.1.6 fix updater for recursive dirs add network kml = google earth 3d display remove ]]> from kml swap geo ref from ms image parse to custom
d6a8440ef2 APM_RC_APM2: Remove OutputCh from ::Init()
33e62e1fd0 APM Planner 1.1.5 fix bat % overflow fix tlog > kml for ac modify georef image
3446744ae9 Addition of nav mode that tries to maintain level
4d90058c90 dupe of landing logic for scripting
f48e394511 made the last step of landing stop navigating so we can drop straight down.
1251e8105d Added failsafe check
c6657f4a93 updated Loiter control to provide an alternative to GPS rate control for users with circling issues. Works in SIM, needs flight testing
d2fd6c5ee5 added loiter control to reset nav
8691b10ee9 added failsafe check, enable loiter repositioning
85e295332f AP_Math: added Polygon_complete() function
117a98f9a2 AP_Math: added a Polygon_outside() function
5d197ae337 Change logging to default on for 2560
ca89857854 Changes to logging file system to avoid problems with 0 and 1 page logs
8b78c4a4c5 Changes to logging file system to avoid problems with 0 and 1 page logs
e20d3a3676 add method of detecting if motors are armed
2c73d89400 gitignore: ignore mavproxy log files
e8cc5219ed Merge remote-tracking branch 'origin/master'
7f64080877 Arducopter - Attitude.pde - fixed small bug in pitch stabilise
6cbe133e52 Planner remove some unused files
cdcec84194 APM Planner 1.1.4 add plane location to planner add more serial port detection for linux modify tlog>kml to include times, + markers add elevon setup to radio input
eac97725f5 autotest: fgrate option has been removed from mavproxy
1998908a05 DCM: reset the DCM matrix after a ground start
0147c7b6c6 DCM: added matrix_reset() method
8cd13749bd MAVLink: fixed link flood on waypoint upload
d68abb99a8 loosen RTL criterion (wind affected)
8847ee518d autotest: fixed loiter hold time
bb50154f1c autotest: fixed wind specification for arduplane test
dd9f3a3fa6 fixed a hang on 2nd run of IMU test
483bef35e5 IMU: update ACM and APM for flash_leds change in IMU init
a819c1a3dc IMU: abstract the setting of the LEDs in IMU initialisation
888d6226b2 fixed two more CONFIG_HARDWARE #ifdef bugs
2cc67d0a61 autotest: added a 5m/s wind blowing south in plane test
ad6c90c3b9 autotest: added wind support to ArduPlane simulation
35e45fefc9 autotest: show groundspeed in flightgear display
2c7e74b7a1 autotest: example startup scripts for simulators
77c791fb79 autotest: improved runsim defaults
6520c7be1b autotest: changed default sim_quad rate to 400Hz (matches autotest script)
c58e9e9135 more control over loiter time and alt change
edc3a731d4 Adjustments for High Wind enviroments
ba8fc57bd8 Stability patch2  - Jose style.
c9b317fc27 Gain updates
f3e408e7e0 Added a simplified Log that is just GPS for my 1280 board
e4559bbf5c Added param option for Simple mode reset
2c0e4c1c02 autotest: use 'enter 3 times' method to get into CLI
da43b85422 autotest: added a test script for wind generation
37641d2576 autotest: added a 2m/s wind from east to quadcopter test
228d1620d2 autotest: added --wind option to sim_quad
a58e81469f autotest: added a wind generation class
d83ad1acd4 Upped the max pitch to deal with wind - based on T3 testing
6bc90d6289 Just upped the nav_imax value
a22893124d fixed LOGGING_ENABLED default on ArduCopter
8afe383737 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
e8782f72c0 APM Planner 1.1.3 add kml overlay to flight data screen remember last window location websockets functioning. add sonar types/optical flow hardware options
bb6e582ce7 autotest: fixed motor order display
a3403aeb6c autotest: added logging of what failed
de1a5ab9ce autotest: increase stream rate to 5 for ArduCopter test
90c6bad814 autotest: make magnetic field point down
7301a8bddd pysim: added rotational resistance
ef8ed6aab2 autotest: calibrate accelerometers at startup
420bb9cc75 pysim: fixed the accelerometer calculation in the quad simulator
5760239670 quad: fixed the comments on the + motors
12a271d4b2 autotest: nicer display in FG quadcopter view
d076fb54b5 fixed barometer detection on APM2
f5e439554d fixed == that should be =
176c12657d added more build types to build_all.sh
358dc91d41 fixed hil ArduCopter build
07dba4eff7 desktop: fixed Wire.begin() build problem
081f35f51c desktop: fixed build with new AP_Baro code
78e8fbff9c fixed hardware config check for barometer
8d882c3640 desktop: fixed desktop barometer code
3648c81dd9 barometer: fixed HIL barometer build
1b1c629167 added sitl build target
2bd18e937c throttle: only use throttle slew in auto throttle modes
0a7332b6e3 airspeed: smooth the airspeed value a bit more
011110e1dd airspeed: use floating point values and better averaging in zero_airspeed()
5d503fd65e ADC: change adc.Ch() to return a float
14866927e1 dcm: fixed an uninitialised variable
d5c23c83cf apm2: fixed for new barometer code
a99a1dbc9a ArduPlane: update AP_Baro construtors and initializers
a48c65b5b5 ArduCopter: update AP_Baro constructors & initializers
f4aaa56b16 AP_Baro_MS5611: Asynchronous operation, plus c++ style changes.
d026e48032 AP_Baro : Add init( AP_PeriodicProcess * ) method to interface & implementations
a626e21e98 AP_Baro_BMP085: move apm2_hardware flag from init to constructor.
f3ad7f3af8 Wire and SPI Init: move to sketch system.pde from libraries
49ca774734 AP_PeriodicProcess: AP_TimerProcess can register multiple callbacks.
6dbd6b4181 ArduCopter: Get barometer data in terms of AP_Baro interface
39fe9075d9 ArduCopter Init: different call to barometer.init based on CONFIG_BARO
b055aa6f81 ArduCopter: instantiate correct AP_Baro object based on CONFIG_BARO
1bfab64543 AP_Baro_BMP085: Delete commented out code
f3270b7f13 AP_Baro_BMP085: implement AP_Baro interface
f52453beed AP_Baro_MS5611: init must also perform SPI.begin
64eb1889ab AP_Baro_MS5611: CS pin is arduino pin 40
1832ed0355 AP_Baro_MS5611: Implement AP_Baro interface
f0ab0318b3 AP_Baro_BMP085: Conform to AP_Baro interface. Make the rest private.
a41b6da263 AP_Baro_MS5611: conform to AP_Baro interface
d113992c10 AP_Baro: Create virtual interface
d7f77aec93 ArduCopter & ArduPlane: Added support for apm2beta build via APM2_BETA_HARDWARE define
1b2ebdff44 ArduPlane: added config.h and defines.h to support CONFIG_BARO
62844d8ddc ArduCopter: added config.h and defines.h to support CONFIG_BARO
04ea979331 ArduPlane: Rename APM_BMP085 classes to AP_Baro_BMP085 classes
fdffd69257 AP_Baro_MS5611: renamed class implementation from APM_MS5611
c407b0d85e AP_Baro_MS5611.h: reorganized
34cebd8a3e AP_Baro_MS5611: Overwrote with Jose Julio's latest files.
de6507a47d ArduCopter: Rename APM_BMP085 classes to AP_Baro_BMP085 classes.
cc6837cbab AP_Baro: Export AP_Baro_BMP085 and AP_Baro_BMP085_HIL headers.
f445ec1242 AP_Baro_BMP085(+_HIL): Rename classes from APM_BMP085 to AP_Baro_BMP085.
7032c32b42 BMP085 fix line endings
7ef146044e AP_Baro: move all APM_BMP085 files inside AP_Baro
9250053bfe Added AP_Baro and AP_Baro_MS5611 classes.
8d878a2cae ArduCopter CLI: Add imu.init before imu.init_accel for "level"
2e200834e1 ArduCopter: Revert "Switched to Gyro only startup"
5d0e3664ad Hack to prevent fly aways Cleanup to remove SIMPLE mode switch note
e8e126a636 removed CLI switch by default, decreased Nav I
c1aa015ef1 added debug prints, broke out Angle val to debug
a685e5b575 fix for navigation scaleLongUp
fe336fb749 ArduCopter - small fixes to fix HIL compile errors
67855b207d Arducopter, RangeFinder - added SONAR_TYPE parameter and properly support the XL (default), LV and long distance XL (aka XLL) sonar types
f89fed02c3 made it so nav is called in Simple mode
4659a9ffce Adjust Simple mode on the fly.
af0ae6a10f Set Nav_WP as home
1f3abcf048 eased up on the i term blocker
9e6cf529b9 Cleaned up mission 3
069bcbf5e6 Made landing slower
873daae095 Allows you to clear the stored mission when in Auto
29554b7d73 Will add a landing command to last WP if we are on the ground.
648ab5f4ae Switched to Gyro only startup
f3ff7aa0a8 rework of inflight trim.
f2652d23bf ArduPlane: calibrate accel with imu.init_accel after imu.init
56b0be3124 APM_RC: APM1 fast output speed increased to 400hz.
7afb091f26 APM_RC: APM2 fast output speed increased to 400hz.
f3a4fbc7af AP_IMU_INS: Eliminate init_accel from cold start.
5e12924907 Removed Instant PWM from disarmed output
f4a57557a8 Simple square test
0289e35347 Ground course saved as long for SIM compat
84b72b627b Added SIMPLE mode reset outside of bounding box of 10M, will do more testing before enabling.
7cecca74bc Made Baro_alt int32_t Added home to copter bearing, home to copter distance Added Land mode
69f1841d8e Debugging some motor issues
76d60a2111 Added Home Bearing
d9347290a4 Added notes to Imu.ax, ay, az
2b8280e533 Added enumeration for Land
307723960d Increased slightly the Auto_trim time
3ff7b047d5 Added Bearing to home, distance to home calcs
49806d93d9 Added Land FLight mode definition
0b24914066 OptFlow - turning on optical by default
fa0723f115 ArduCopter - removed limitation on Maxbotix sonar type requiring ADC so it can work with APM2. modified default analog pin in test sketch to be AN4 which is consistent with APM2 default
df1e54ec79 RangeFinder - fixed example sketch so it works again
1f53c25577 RangeFinder - small bug fix to initialise prescale variable. Fixed up example sketch so it compiles and works again!
55af9dbe61 firmware build
2ef4c79a7c Minimum ground speed patch from Claudio Natoli.  Thanks Claudio!
cc38189f71 ArduCopter config: Correct LOGGING_ENABLED defaults to force disable for 1280
005a8afa07 add missing file for jsbsim
2f962fe6da Augment failsafe gcs_send_text message
4dc2956ca9 Navigatino - small bug fix in loiter controller in which the y_iterm was coming from the Lon controller instead of the lat controller.  Found by Sylvain.  http://www.diydrones.com/forum/topic/listForContributor?user=18fsncw0k1x6i
5130a37a9e autotest: automatically pause when SITL sim stops
582154afb3 autotest: fixed rudder reversal for Rascal, and RC3 trim
e0d7e7cf0b autotest: nicer display of key data in Rascal
b51782d42c APM Planner 1.1.2 fix kml overlay add jsbsim as simulator generate gpx on log kml create make georefrenceimage accessable (control-f)
42421a09e2 TradHeli - Attitude.pde - made yaw contol use jason's stability patch Quad - fixed small bug in pitch control (was using roll's stabilise controller)
68e6be5eeb TradHeli - fixed roll/pitch so it's not scaled when throttle is scaled
6dc236b8f2 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
21c3282c9c Fixed along track bug.
603f274ea3 Merge branch 'master' of github.com:arktools/ardupilotone
2feacea1f1 Added APM2 support.
917095b79c Merge branch 'master' of github.com:arktools/ardupilotone
e7882b6d1b Working on sailboat controller.
a25353da79 Added AP_Board to APO
502a98dda1 Add hook to dump log filesystem index for debugging
9d1f56c6da Split P and I term
9ed6463b39 Split the P and I terms in PI
6dfdd754ea Stability patch updates, Cleanup
05409b8c1c made RateP range a little more sensible removed unused var
c4203631dc APO velocity/ altitude working.
2432ae130d Fixed baro.
635047eece ArduPPM : Added "Binaries" folder with latest compiled versions. Include 400 mA USB power request modification.
7593aae452 Fixed Barometer Altitude
410c18ac05 Fixed Barometer Reading
ac02ce545c APM Planner 1.1.1 fix apm 1.4 vs apm 2 Firmware screen control-C = custom hex upload
50032ef703 Working on baromemter altitude
65b26d1453 ArduPPM for Mega 32U2 : upped requested USB power to 400 mA inside Arduino USB code.
1d9efea9af Sailboat wind measurement working.
9da193f66c Fixed sailboat setup.
0696efe0dc Corrected boat file switch.
cea4759630 Adding sailboat controller.
5c99035823 fixed the desktop build
39d0d7ed49 autotest: fixed body/earth frames in sim_quad physics model
a632c49b44 Alt_hold_patch, removed Z dampening from Manual override. Fixed integrator conversion to throttle_cruise
e8a14c8d93 simple patch to improve alt hold based on stability patch
2268646815 APM Planner 1.1.0 firmware setup for apm 2.0 add kml overlay in planner fix reset to defaults timeout/ firmware upload
56316e7733 firmware build
91d7f6c5d6 quick srtm planner fix
7fae764c55 Along track fix for negative.
98a21a70c0 Improved along track calculation for APO.
f8fab5f7d6 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
fd77fe5a9d Rover live test WORKS! "Murphy's Law is a turtle"
fa7f39ba20 Access to _clamp val. May want to make a private member and write accessor.
e37dffadf3 Added faster conversion from and to degrees*100 / rads
9bc6fce3b8 Function call defs commented with // so the preprocessor doesn't get confused
0d8071a401 Added new gain and clamp value for DCM
54c8e1033c Fixing reversed Simple mode switch
aad45c692f Stability patch from 55
778393c4a7 Enabled the compass test
5ed300db7e disabled Flash logs in 1280 by default Added stability patch I values and limits
c99da66506 Formatting, swicth Omega to raw IMU rates
401c985572 Added Deg to rad, rad to deg * 100 to save a float calc
d7cc241f85 formatting
4c61462dfd Merge branch 'master' of https://code.google.com/p/ardupilot-mega
edf3195384 add 1hz mavlink loop.
39a36fe946 fixed the "reboot on GPS lock" bug
b4965d34a9 GPS: added FAKE_GPS_LOCK_TIME
dac3ba48e0 Fixed apo live mode bugs for 2.0 update.
a802796c67 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
8300c5e738 Changed BlockPIDDfb behaviour.
346a572440 APM Planner - update dataflash ac2 log format
dfc7ae59ee firmware build
4a057aefa0 test: removed the broken gyro test and merge it into the imu test
1ab20928e7 firmware build
0a7f2bcc44 autotest: use random MAVLink system IDs
aaac6212ab MAVLink: use the configured system ID for ArduCopter
dedbfc8cca autotest: estimate the cost of sleeping for more accurate frame rate
5be56a824d autotest: run the quad simulation at a much higher rate
e12fabebe9 autotest: updated fakepos.py for new packet format
f96a48e42b autotest: support all 11 PWM output channels
66d65121cc autotest: switch to big-endian metric packets internally
43e3948816 desktop: show the full path to the desktop executable
fb3d4eab90 autotest: fixed sim_quad viewerip handling
1878db2013 autotest: don't die if FG isn't running
7167fec784 desktop: added SO_REUSEADDR after accept()
cf7073128d autotest: adapt test suite to new simulation framework
e6608b604b autotest: added a copy of pymavlink
05c6734ca2 autotest: added runsim.py
abbf02b674 autotest: useful script for testing gyro and accel calculations
76bb6b9aa8 autotest: added scripts to start flightgear as a viewer
706c6c38fa desktop: fixed calculation of angular velocities
65699a2f2f autotest: combined python utility code
0887804096 autotest: imported python quadcopter model as sim_quad.py
544d2e6793 autotest: added Rascal and arducopter models
b9f370e33d Commented out debugging in guide.
38c19c50be Merge branch 'master' of github.com:arktools/ardupilotone
b6dcd70cf9 Working on yaw command.
a0824b4cbe Fixed guidance bugs in APO.
6948c50617 Fixed typo in readme.
a9c6c69ba1 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
92efa90d0f APO fixes.
2ee493551d APM Planner 1.0.99 trial Scripting - rc based fix zoom to cancel add srtm alt and auto download
9931cacec7 Enabled Ch7 simple mode switching
69dd8264e6 adding flag for finished mission
b92b4e9092 cleanup
eb6d34e1fc Fix error with calc_nav_pitch_roll
88ab4f7d70 Fix for intermittent bug of log #1 starting on page 2 and confusing file system
b03de3095e Add DataFlash.Init before doing a forced log erase on eeprom reset.
b4a0d8a275 Fixed navigation bug
ce5ad442fc Git Test
62ed256fca made the crosstrack use the previous WP instead of the current loc to get a better line in AP.
82adf1df6b removed need to send increment flag to update commands constrained climb_rate value
504b4b52d6 slight refactoring to avoid the increment issue when changing commands
4a6feb3acb better comments out of some old unused functions to avoid compiler errors
909e5796eb Logging input to find this freeze bug
df57380adc Erasing Logs causing major havoc. Users getting infinite loop.
79945d02b7 made missions work with index of 1
e8d74ae3fe Fixed apo radio error.
cc1593d16d made Logs dump with dump 0 or -1
b3bd4bd3c9 Cosmetic cleanup, commented functions for compiler warnings
fb5302c50b No longer resetting ch7 wp index with mode change, requires reboot
8cbeafa6ba Updated plane controller for apo.
83aceb5e8f Merge branch 'master' of https://code.google.com/p/ardupilot-mega
715e7c84a4 Updated apo for merge with apm 2.0 changes.
f59f9668e9 autotest: use kmz file not kml
bdb1599e96 desktop: improved the accuracy of the sensor emulation
e491168273 ADC: remove a very small (0.2 degrees/s) bias in the ADC code
2cabb11307 mavlink: don't force CLI and HIL with mavlink10 build
838c57cd1a mavlink: paranoia setting of failsafe when forcing AUTO mode
12025c8b54 autotest: added idle hooks for ArduPlane testing too
2e7a48ad9c autotest: show log numbers while dumping
fcb4d9cb15 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
999a5892f0 Fixed mode switching.
f30bca01c9 autotest: use idle_hooks to prevent lockup
df957db8d9 desktop: setup TCP sockets as non-blocking
4036604fb7 mavlink: move Mavlink_compat.h to common code
5ae929ace9 build: CLI_SLIDER_ENABLED doesn't need to be forced off in apm2 build
7960e7963c Add Guided mode to failsafe handling
997ddde7f5 Added back the feature to prompt users when an invalid CLI command is entered.
940fa9621c Added minimum Altitude for RTL failsafe
44cb73c9fa added safety checks for RTL
d0af4e7200 CH7 with params
ec5b080167 Enable RTL
ca5e4bb802 Allow output of system type
1621f3a638 allow CH7 to be set via params
ea911e0bcb updated failsafe code
19c3c27ed0 Erasing Logs at new FW version detection
52297679c4 sending Mavlink system type
0da5125b7f upload: force hex file format for upload
44f62c7776 APM Planner 1.0.98 fix wp rearange fix right click jump/loiter option fix problem when speech enabled on connect
639746649a firmware build
5784acd55f autotest: fixed log dump
8ab0dbdba7 autotest: fixed remote viewing of ArduCopter autotest
0720bf7bf1 desktop: build fix for fjall
ee04c0ef50 autotest: cope with exceptions in tests leaving child processes
f2a0a49d55 desktop: fixed desktop build for strlcat_P() changes
7fa59a6849 AP_Common: added typesafe wrapper for memcpy_P()
92e0e929a4 AP_Common: replace strlcat_P() with a C implementation
a048709828 Logs: don't print hundreds of bogus log boundaries
c9b0b384f7 desktop: added framerate and initial height code
24a7a18481 desktop: fixed swap_float()
62f98b091f desktop: import updated DataFlash code
c64a5f354e autotest: enable new SITL emulation code
5fd04e0c23 autotest: mark stdout unbuffered
4877892d6e autotest: enable the compass for ArduCopter
a99bcec762 desktop: report motors armed in desktop build too
de0c38339d desktop: fixed ADC value for airspeed
6ee477bd8d ArduCopter: rev version number from 2.0.51 to 2.1.0 Alpha
ab56a764d3 ArduPlane: rev version number from 2.26 to 2.27 Alpha
f7a9b8a563 ArduPlane: LED digital writes use LED_OFF and LED_ON
f66a98b969 scripts: added build_all.sh
86927ac0a5 ArduPlane: rename purple to APM2
38c85c44ae ArduCopter: rename purple to APM2
02f25ac36d libraries: rename purple to APM2
3a542b3ef3 USB-MUX: enable USB MUX switching for ArduCopter
7def0e98e8 USB-MUX: auto-switch telemetry port based on UXB mux for ArduPlane
2b7e0c8494 DataFlash_Purple: added new logging methods needed for ArduPlane
cba93dbd43 DataFlash_APM1: re-add defines lost from merge
0ee654d6bf desktop: fixed desktop build
338445e60c ArduCopter-HIL: fixed HIL build
de2898e5db desktop: normalise roll and pitch rates
91b03a48c1 desktop: added SKETCH as a define
ffba37d599 desktop: first version of register level SITL support
aa558eb033 fixed a valgrind error
3a0b1d1903 purple: there are no dipswitches on the purple board
eee2da01ac Arducopter: each motors_ pde uses APM_RC.SetFastOutputChannels
b8c44d2fc0 APM_RC: _set_speed functions implemented for APM_RC_APM1 and _Purple
ea4c220ee9 APM_RC: OCR register init moved from ArduCopter/radio.pde to lib inits.
6093db948b compass: added AP_COMPASS_APM2_SHIELD
649da8e05d purple: adc test not useful if no ADC
40459653b5 purple: fixed LED and IO pin defintitions
18986d1d9f barometer: fixed for purple build
0601f7e8ce barometer: support 'make purple' for barometer example code
ca76f6d0ec purple: add the remaining hw defines for purple hardware
41caa949ca fixed InertialSensor stub build
1d50bb80fd hil-sensors ArduCopter: fixes to make hil-sensors build work properly
d2a0bd35f4 hil-sensors: added stub libraries for InertialSensor and PeriodicProcess
94423bc335 AP_IMU: fixed shim driver prototype
1e41b4b2b0 timer_scheduler doesn't exist in HIL_MODE_ATTITUDE
a3701e521a build: added hlsensors target
1c20efe4b8 re-organiser sensor declarations
e0488e134f desktop: fixed build with updated dataflash interface
8245835ea3 desktop: make AP_InertialSensor pure virtual
bb7af8c15a dataflash: fixed datatypes to be compatible with desktop build
a9c0cbac77 desktop: make DataFlash for Desktop build replace APM1 build
3d175c449e adc.Init() takes timer_scheduler
03c7d7bfb6 purple: always declare timer_scheduler
2a5a15abce test: fixed test code for HIL build
3072fdda85 adc.Init() needs timer_scheduler
c0898ab3b9 purple: timer_scheduler should be in all builds
6e9e857157 make configure default to 2560
2d8cfc0c3f test: neaten up the output of the dcm test
1895458dbf purple: added new parameters to Init() functions
f9d6facdda test: added new passthru test
bad177bfdc removed old commented out code
ad0cac670c purple: added new parameters needed for new library APIs
4015cb0a40 purple: fixed APM_RC.Init() to add isr_registry parameter
9e47536924 purple: declare sensors for purple library rework
08675a91d8 purple: added config options for purple/APM1 hardware
3300032a89 purple: added hardware defines for ArduPlane
3131ab16ef remove BROKEN_SLIDER code
475afd6ac2 purple: enable dcm test, and fixed imu test to test the IMU API
c2972ff1f9 purple: fixed CLI code for non-ADC hardware and no sonar
63393b206a purple: added ins test
f1bad83d21 purple: fixed system init for purple sensor objects
e3027fe54e purple: pass isr_registry to APM_RC.Init()
660174e610 purple: switch ArduCopter to new sensor objects
4869ac3385 purple: use the new LED_ON/LED_OFF macros for LED level
3f2692d1da purple: added configuration logic for APM1 versus purple hardware
90c5eb8487 purple: added defines for APM hardware selection
cc67062442 build: added new command line build targets
5ee5036fa1 purple: added comment for enabling purple hardware
f129909b74 git: added a couple more ignore lines
82e7551c90 purple: rework DataFlash to separate purple and APM1 hardware support
a159669cee build: added jtag-program make target
e53bcba4d9 purple: rework AP_IMU library to use AP_IntertialSensor library
82b48784ef purple: added AP_InertialSensor library
c9f7618ccc purple: rework the RC_Channel library for the APM_RC changes
f36ded2854 RangeFinder: rework to use AnalogSource library
0c0a1b1dcc purple: Added AnalogSource library
017f121566 AP_ADC: rework ADC library to use PeriodicProcess and ISR_Register
d288b8870d purple: added PeriodicProcess library
1daadb5068 purple: added ISR_Registry() library
36346fd86b purple: rework APM_RC library for purple hardware
89d2f0f849 mod barometer.Init() based on hardware
2d8ce38aeb barometer: add purple_hardware option to Init()
0a0b2d32f4 Add rc input to cli planner mode
64de8371a2 Working on doxygen support.
abe4758c3b no longer using the raw pressure
6f3b56b38f increased filter
9ecfac1156 Change ArduCopter DataFlash log file system to new file system which allows overwriting logs.
83657698d7 /Tools : Deleted PPMEncoder folder inside /Tools folder to avoid confusion with official ArduPPM firmware. Old PPM code is in the Archive folder.
1fb723090f Merge branch 'master' of https://code.google.com/p/ardupilot-mega
b05e1d90f5 Change type to support "dump all with -1"
0f428bd43a Logging cleanup.  Fixed missing cast, removed erase warning, added -1 to dump all option, and fix intermittent bug for log number 1.
27e68234b7 Simplified logging logic for finding start/end of log files
32e67d5a74 ArduPPM 0.9.87 minor manual correction
7adee96dbb Merge branch 'master' of https://code.google.com/p/ardupilot-mega
cabd960bad APM Planner 1.0.97 add custom WMS map source fix alt save issue for feet update SIL images
4fa9b7ef85 Working on comments.
fcdd12e5a3 ArduPPM 0.9.87 manual update Corrected failsafe values Minor modifications
29b7eb12a7 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
7ef8578029 Separated controller block class.
bfda005b5a Removed old variable from hal.
091f031d58 * ArduPPM 0.9.87 update : #define to allow Radio Passthrough mode was not working. Corrected. Removed older hex file
244eeea34a Rework logging file system to be more robust
40b3c303f7 Worked on autopilot state/ mode mapping. Corrected PIDBlock sign error.
c5c5884006 v number
89e014c06a Added alternate alt hold, New ESC Calibration Routine
85a5647f5d cleanup
96bd7ba480 APM Planner 1.0.96 small tweaks Move to .net 4.0 (make sure you have .net 4 installed) - for ironpython
a5f2cb5ec0 APMPlanner a few Chinese translations
8ef364657b MAVLink: fixed throttle display in VFR_HUD
4933c5bcdd zero airspeed on ground start when initiated by MAVLink
faaaf11822 fixed disabling of GPS in ArduPlane
6d99e78887 removed unused function
95b797d359 removed the init_esc - reworking the method to avoid the use of the CLI.
5c797e91b5 Better function definition
beeba99b92 Missed a function definition for no_logs option
db8efd3287 ArduPPM 0.9.86 update : #define to allow Radio Passthrough mode disabling on APM v1.4 (hardware failsafe for Arduplane) This is to allow for safe use of CH8 with Arducopter.
eb2f8180ab firmware build
076b93967d firmware build
2600f19172 RTL Yaw hold as default
fbf09dbf2d Made save WP the default Cosmetic updates
307971f82b firmware build
f397bae793 ArduCopter Alt Hold - Change to not run get_nav_throttle if manually adjusting altitude with manual_boost - removes possibility of I term running up Tuning - added ability to modify altitude (position, not rate) controller TradHeli - Fairly large change to how throttle is scaled and collective moves.
bf6a675a82 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
02591d8d38 APM Planner - fix "Invalid Board Type" bug for board using mega32u2
17041e5346 my take at a merge to give tridge a head start at Mav1.0
a47f28cfdb tweak to loiter turns command
556db68d2d Made loiter rad smaller in storage
7feecf3220 renamed WP mask
185c2a50ce added some params from Arduplane to make Mavlink upgrade easier made loiter radius smaller in storage
94ef8a91ff removed typo
1e855503da renamed MASK_OPTIONS_RELATIVE_ALT
c6f9c532af renamed set_command_with_index
b883ff937c renamed the options_mask
77da1227bb renamed set_cmd function
10a24f22fa renamed set_cmd function
aab512636e ArduPPM: let the 2560 know when the USB is connected
5aa962c880 ArduPPM: fixed paths for includes
9ea0fc9539 Log: prevent looping forever
73e0ab0c63 desktop: more fixes for DataFlash filesystem changes
d61e59d779 Fixed most of quad guidance issues.
60b41311f0 Working on memory problem.
937a268513 Bug located in quad position loop, improved hil.
14f0f7b6f3 lengthened log timeout
269c6d26c9 Added KML link
aef4db8263 Logging stabilization KP to hunt bug
194778a6f9 Logging APVar saves
90bc03ef99 new DataLog message
56179a24e1 Added Arbitrary data logging
56df75fbb1 APM Planner 1.0.95 fix ac2 heli error fix guide mode wp fix tuning graph on mono fix autozoom on planner map modify prefetch - current screen fix zoom bar for mono fix base class for special functions
202c0663cd firmware build
b3716d988f Rev version number
9e04d4c45b longer timeout
b6adfdb62f missed ==
2d5ee0f7e2 Switched to Mission 2
f345c4c987 Checking for climb rate
7ffa2c4347 shortened strings
eef04a5a54 removed some tests
8e1f311c36 s
8e509b63a7 shortened strings for mem
d02b4342ae removed some unused code, made output min by default
d1c161ecd0 Upped version added new logging params added crosstrack gain re-ordered param inits
39d0df4cef added param for crosstrack gain defaulted to 4
9bc4328724 Added crosstrack gain and lowered alt hold rate gain
e4f2ad1809 remove PI_crosstrack
579096cd2e return to prev climb rate calc
35524f6da7 Added optimizations for radian calls to remove a division. added a protection for entering AP modes without Home being set by GPS lock.
791fd194a4 added logging of raw baro
237ca6a4e5 Fixed some arduino cmake upload issues.
178b8c0d19 fix ap hil
2337153966 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
1394a93ef3 APM Planner 1.0.94 scripting/command restructure - testing heli interface update firmware size checker Non meter wp file fix
6d048646c3 desktop: added support for new DataFlash functions
f737d22026 autotest: added a loop to ArduPlane test
fdaa760aec autotest: use FG_SCENERY for fgear scenery path
dd8593273f autotest: make log messages on failure clearer
00374bea0a autotest: fixed killing of Xvfb
88f5669104 Remaining changes to the logging file system.
f752c4b799 Change to logging file system.
afef359aec Upped pressure filter a bit
802dd6994a PM restored to normal output
7ebab2a9fe Log type error fix
c8d2341156 TradHeli - automatically reinitialise swash plate if HSV_MAN is switched from 1 to 0.            Turn-off feed forward correction to yaw based on collect when in HIL mode.
4cf718854e Complex mission script
a168691eba Working implementation of Jump Command
ddd89e1849 Mission Scripting updates
833fe17c6a disabled raw GPS temp
fed5c0b204 Mission Scripting updates
8392e375e1 Do not write home from GS, MAV_Action_Continue disabled until I find out what it does and how to do it.
937a364dce Made RTL Altitude hold current by default
0245e73a8b Mission Scripting re-write
163345dadd Mission Scripting re-write
65fe467a57 Mission Scripting re-write
5ed931c582 Mission Scripting re-write
839774fbf3 Added more time for timeouts
3eaef4081c Added better navigation flag for more accurate dtnav timing Added better support for climb rate in SIM
ecf601229f firmware build
7535b8a3d5 Rev version number
e6542ec1a2 Fix Do_Jump bug.  Also fix cross track bearing bug after Jump
0433cd6d69 Missed hunk for last commit
9fe554236b Add logging of DCM drift correction integrator in PM
2d3f97667f APM Planner 1.0.93 fix new wp format for . vs ,
8017b0415e Working on new hil message for mavlink.
c235cbfc27 APM Planner 1.0.92 update wp file format - QGC 110 fix old wp file format abs/rel issue
c343cee727 Fixed typo in notes about timer speed
2ad1294514 scaling width of circle mode to make it more round.
687d0eda98 fixed bad indexing for setting current mission index
0f33ad74dc Had to disable check of current WP. Going into auto mode executes commands right away and the reported index will differ per mission. Multiple commands may be executed.
31cb62620f Mission test update
be1007d032 Moved updated alt to GPS so the climb rate is sane
288db5c7c5 Better error and defaults checking
2672cac850 firmware build
bdadc72736 firmware build
9cedc34991 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
803f4206ae firmware build
e3ef9a2a36 Rev version number to 2.25
d226b875c8 set first WP in wait_waypoint to 0
a1da5fb9e5 set proper code for Home WP
349ab7e0c6 slowed Circle flight
daaf681417 error checking command saving
d4aa61e97e autotest: re-adding KMZ track
2112f74324 TradHeli - reversed the direction of "phase angle" to make it more intuitive.  This parameter is used to correct for a heli's tendency to lean left or right when the pilot gives it a pitch forward command.
b229976de5 Merge remote-tracking branch 'origin/master'
70aadd4afc TradHeli - added two parameters to improve heli control. heli_phase_angle allows pilot roll/pitch command to be translated into mixed roll and pitch. heli_coll_yaw_effect mixes some collective into the yaw so tail can counter act collective movements more easily.
3057ef9fb7 autotest: fixed incorrect altitude wait
be886ef9bc autotest: fixed waypoint wait code
e6860ca90c autotest: fixed flight modes to match test code
5ce99fd9cc autotest: added --experimental option
395ad44dd9 fixed wait_mode()
91f0722e22 fixed motor arming
47fe0f9c75 autotest: re-add --viewerip option
147dc2529f autotest: added initial implementation of flying of ArduPlane
0f00b4c722 autotest: added wait_mode() helper
1e22945981 autotest: split out some common functions ready for ArduPlane support
930ee51bbe added scale note
04491d66db Fixed scaling issue with Circle mode
7dd737ad90 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
bee53453d6 nav updates
ea57fad80c WP counting update
901e46334d updates to Mavlink for zero based WP counting
e1315b1ab8 Update and fix for Circle mode HIL updates for altitude
bcfb3a0ee3 Fix for WP saving with CH7
d6bfae598f WIP: adding 255 to represent a completed mission
fd02ebca74 Work in progress for using 0 based counting
9e67c7efca Added additional nav params to reset
31159a7e1b modify crosstrack calc
b3747ab10f fix loiter radius
be3edc19f8 Fixed type error in params
bb4e612241 Shortened test name
77336a2be4 Added notes
75e1582db4 Added output to localhost for QGC
5090f2710b Added extrude to KML out
be9dcda065 Merge remote-tracking branch 'origin/master'
a7038cbaf9 TradHeli - new parameter HSV_MAN to allow better set-up from APMissionPlanner.  Also changed swash movement to use radio_out which fixes some setup bugs
c82d45c205 APM Planner 1.0.91 Heli swash override fix HIL
a87a3af1ec create a kmz file
355519ad1e desktop: when in the CLI, use blocking writes
dafbdd1f2b autotest: added --viewerip option
dd96b146b5 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
3450e91039 Trying to break Nav to test a feature
5e115277d6 autotest: longer timeout writing logs
2436bff853 autotest: ensure we have a VFR_HUD msgs before getting location
2d204b727b fixed build error
9677600433 desktop: don't start alarm till setup() has finished
3f0b42f64f made crosstrack functions static
2c9ebf11b8 removed unused functions, log fix
d8361dfe67 renamed original_target_bearing
8ad94b9993 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
ae1684a37c crosstrack angle variable
7259cf2180 Added in crosstrack correction - test for SIM
7229b77fcf autotest: link to defaults for both builds
7299935104 autotest: added some colour to passed/failed msgs
c056c4f0cb HIL: allow for fast HIL attitude update in HIL_MODE_ATTITUDE
e7294ee493 autotest: improve error checking
6263bb8936 autotest: fixed target altitude for RTL mission
6211cc4e50 back to original config for testing
6b26c32e9d Lowered Nav_P based on SIM data
d2a8107b47 autotest: run the sim at 200Hz
b25ad4e61f new Test mission
fafa6e52e9 back to original config for testing
e9907fbd67 Updated Mission TTT
f994d16a48 Lowered Nav_P based on SIM data
96bd539eb9 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
6e3b3fd974 CTUN log update
48e411a5d5 autotest: improved web page layout
0e1727e492 MAV_CMD_DO_SET_ROI
3732b7db71 Added code notes
630f2dbf05 Code formatting
d6c0e34516 Tuning nav_WP Added more notes
a8d622d8e6 Lowered Nav_P I term to ramp slower base on SIM
27d9bc92f3 Added more output to Mavlink for debugging
17ad58fe32 autotest: copy png files over
bef89a8ab5 autotest: allow for multiple html files
97e3f113b7 autotest: show history link
223232ac50 autotest: show frame and code sizes
e3fa7fd93d autotest: fixed html path
9af935f2f2 desktop: don't alarm in CLI
4ed5eb477a autotest: use a lock file
bc08189613 autotest: fixed module name
13d74472c5 autotest: show git hash in html
7bbbe7f7fc make the web site a bit prettier
5ed2c02bbd autotest: fixed mission end handling
87eefc0b34 autotest: fixed pexpect timeout
f4da7e96d2 always convert GPX
0820ff52a8 desktop: exit if loop() doesn't run for 5 seconds
47ef43ad08 Mission update
e5b37d9d89 Added MAV_CMD YAW parsing
7714f203f9 Added Mav_CMD_Yaw parsing
bbc00a95c8 autotest: fixed typos in mission file
e0cb4507ec autotest: try harder to kill child processes
c158cb8e63 call gcs_update() while waiting for GPS lock
a0fd4f710f desktop: force awk on macos
9b3e35fb62 autotest: list failed tests
21e7c627af autotest: improved error checking and child termination
53f62b7484 desktop: exit on EOF from stdin
b792c130ae Merge branch 'master' of https://code.google.com/p/ardupilot-mega
4fbd363a8f New mission test
6e32905f81 autotest: avoid the need for killall
79e30b5f21 removed debugging code
0ca427bdd9 Removed debugging code from APM_PI
d375de8424 SIM test
b29f4456c4 fix for SIM GPS
db99b664df desktop: fixed malloc cast
3b67321945 Log: try to fix -ve lat in logging
997091e0d6 desktop: be more careful with signed/unsigned in DataFlash
c2082fdd7b desktop: use less stack
2dc2a2114a restoring throttle i term for SIM
90ee0f7e09 bad hijacking of GPS_Status
1ab1d8bab4 Fixes for Sim - Missing climb rate calculation
10bbfdbe11 PID test for alt hold to narrow down on a bug
8360a4cdbc APM Planner 1.0.90 Camera screen error fix mavlink 1.0 now compile time option Configuration screen modify dataflashlog update
481e06638a autotest: check for valgrind on the host
c4bba9c4d8 desktop: another MacOS fix
407d66b41e fixed a valgrind warning
5194fe489d desktop: make desktop build more portable
0e447b12a2 dataflash: type fixup for ReadInt()
c3d5d92a71 Updated Logs to be C++ compliant
69fec433e6 Update to RTL logic.
4afc3e9f17 Fix for bad RTL tracking in Autopilot
dc6fb484cd Log: fixed a few more casts
294c812b9b desktop: use the libc printf engine
39ddc42cc7 desktop: fixed ultoa_invert()
d33b69492b desktop: improved ftoa_engine.c
28634f51b7 ArduCopter: use specific sized data types in a lot of places
0f3c21821a barometer: fixed a build warning
6bf0c32173 Removed some old debug prints from motors.pde added ability to not increment I term for traversals.
122e09323c autotest: fixed home altitude for CMAC
3176d4ffc5 HIL: enable CTUN log message in ATTITUDE HIL
92471aead2 Log: better way to check for -1 long portably
0446cae242 Alt hold fix
c7ac328613 autotest: dump all logs
2bd451b445 Log: make find_last_log_page() portable
c1dad23679 autotest: fill flash with 0xff on erase
8c5873564b autotest: dump all GPS points, even if fix==0
c750f85280 autotest: enable dumping of DataFlash logs at end of test
3b48389efe Desktop: added -w option to wipe eeprom and dataflash
ae1e1c940f Log: fixed a bug where we could index outside an array
da800a295f Desktop: added support for DataFlash in Desktop build
580139c6e4 digital.c for CLI
cfe058c5d5 DataFlash: use CPU independent data types
94f0e8a4a3 Desktop: enable the CLI in desktop build
b927e64440 desktop: fixed 2 crashes in the menu code
d78bbb1a40 added pgm_read_pointer()
469b8586ca autotest: started adding tests for required tools
3a37e7fe60 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
a37fadbedb moved to 200hz update Zccel Z updates from Aurelio in attitude.pde lowered baro_alt sanity check moved user hooks to the medium 10hz loop.
d1431f1070 default top_bottom ratio 1.0
3153257d37 default top_bottom ratio 1.0
4bb0bf96ae Y6 Motors now have top bottom ratio
251cf7d87c force LANG=C for MacOS awk
9c59fdfdd6 AltHold - another correction to the manual boost.  Hopefully properly transferring building up I terms to g.throttle_cruise
32057fb3c9 AltHold - made TradHeli code also use manual_boost
755cb4b201 Altitude hold bug fix - changed g.throttle_cruise to be updated to steal I term from correct controller
156b496bab TradHeli - small change to make throttle_cruise in terms of radio input instead of servo output
f1e626e3c1 TradHeli - changed deadzones for throttle to zero (and also reduced for yaw)
e3ab1b0353 Add an accessor for the DCM drift correction integrator to monitor performance
947950398c Changed the DCM drift correction integrator limit to a vector magnitude of 30 degrees/second.
c7077fa9e8 In case of DCM renorm "blow-up" reset the drift correction integrators
c265555b69 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
c8304114a3 renamed some command variables to align with Arduplane reworked the arming code and moved the DCM gains out. updated climb_rate to include sonar data.
12f5f3f96e TradHeli - fix to allow tail servo to be reversed.  Also increase max movement of tail servo to 45 degrees.
3aee902be1 fixed permissions of valgrind log file
6e72c88a83 autotest: run SIL binary under valgrind
5bda22b805 APM Planner 1.0.89 new camera button in flight planner misc other
3f211121fe Merge branch 'master' of https://code.google.com/p/ardupilot-mega
27fc6eea10 Z dampener
8058154f61 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
40c87dd295 fixed home location
b6dcfa416b autotest: a complete mission now flies
e7671178b3 desktop: fixed TCP buffering issue with HIL
19d5e983ba autotest: fixed path to SIL binary
acc03753ab fixed HIL build
04d4aa4310 Obstacle avoidance moved from AP_Guide to ControllerCar (works only for cars for now), algorithm changed New feature Forward/Reverse in Controller Car Misc bug fixes in ControllerCar
1b0328e889 Updated date on file.
4f8ef25643 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
1df9f8488d updated Alt hold PIDs
0a538baeb2 updated baro test
c32a707632 cleanup
c402311077 removed accel.z references
c6ed8ed0ea alt hold logging
fd9b16e787 resetting alt hold I
48db60a4eb Tweaks to alt hold
ab1de277dc altered the interactive throttle to be more aggressive and proportional. reworked baro reading strategy.
9c4ad5f7ff Baro
7a0d39c197 autotest: added a mission to ArduCopter testing
a041182021 APM Planner - 1.0.88 fix param loading comma vs period issue update ac dataflash log format
ab730ff919 Added camera and/or antenna mount support. It is fully configurable with the mission planner, there is no need to change the source code to adapt to your setup. It needs more testing, but the SIL is not working for me.
75751900d6 Update the SIL README file
025fa7fb5d ArduPlane cmake build working.
785aaf0b35 Added source project reference.
45a684c19d Merge branch 'master' of https://code.google.com/p/ardupilot-mega
3130881b47 Updated required cmake version for string(FIND
56390c4696 GCS: fixed timeout loading waypoints (ArduCopter)
9eb27c2573 GCS: fixed timeout loading waypoints
beab1500c1 autotest: ArduCopter test can now fly a square
e85c29d2ec Fixed autocompletion for eclipse project.
bcf0811dd4 Added pde detection for eclipse to readme.
ffc45cc070 Improved eclipse readme.
c4409c6adc Added more info to README.
9d278ab355 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
33e04f1d81 Modified the README to explain eclipse cdt usage with cmake.
3f8603331d Switching to new eclipse project style.
0b484afbbe First version of APM autotest
44183eebc5 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
c07d56ccbf Revert Changes switch back to old nav_rol lcalc switch back to old planner - non mavlink 1.0
4d7016aadc Working on prototypes regex for cmake.
e6f02d07f8 CMake sketch processing almost complete
d18bb1cc7e prevent div by 0
3f3c04f95b Add MAVLINK_MSG_ID_HIL_STATE message
5c7ef63475 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
f8f2f9139d added desktop header
ccd51fea2c Merge branch 'master' of https://code.google.com/p/ardupilot-mega
3f56964632 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
4e49d13aa4 Working on auto generating cpp files for sketch.
8e806eaeb5 Added cmake uploading.
828e8598ef Cmake working for ArduCoptre/ ArduPlane
d9ae4e4e6e MAVLink: use new MAV_MODE_FLAG_CUSTOM_MODE_ENABLED flag
de0a7117a8 make desktop serial more responsive
4e09ea5fa2 firmware build
e722126843 fixed uninitialised variable warning
580647b1de use C++ tricks to minimise differences for MAVLink 1.0
bd55536fa4 APM Planner - Mavlink 1.0 - AP working
9465617b02 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
8102b31d8d Merge branch 'master' of https://code.google.com/p/ardupilot-mega
1a8c4a2597 Working on cmake support.
67e98ae867 Added additional NTUN logging entries.
c253996ea9 TradHeli - added TUNE value 13 to allow adjusting of external gyro gain using channel 6
ea66c74ff0 TradHeli - added throttle scaling and heli specific angle_boost function that takes into account that heli's main blades can have -ve pitch.
0211fc2f09 move g_rc_function[] to RC_Channel library
77b82335ff Merge branch 'master' of https://code.google.com/p/ardupilot-mega
cf4c2cc1cf merge NULL ptr mavlink array fix
1ea04e1fdd Merge branch 'master' of https://code.google.com/p/ardupilot-mega
699f3388fc updated to latest upstream mavlink headers
1238944573 logging type change in CTUN
374f8cbcd0 better crosstrack
842311dfcd Added save WP note to APM_Config.h
7266c5372a Merge branch 'master' of https://code.google.com/p/ardupilot-mega
07daf34ccc Added a slew rate to the alt change rate. Added better reporting of throttle control upped constraints for alt hold Additional logging for CTUN lay hold
f70868348c Merge branch 'master' of https://code.google.com/r/meee146-hil
80b2265116 APM Planner 1.0.87 tlog kml fix misc fixs
14d27b1e4c Cleaned up AP_GPS formatting.
d97692de9d Merge branch 'master' of https://code.google.com/p/ardupilot-mega
77da85648d Clean up formatting for AP_Common
1118d26f03 fixed "Free RAM" display on bootup
6818794bb4 Fix HIL DCM to match actual
818c41f743 Fix HIL DCM to match actual
fb0e0f02e7 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
46590e5f28 Log updates
c0a43a1837 minor mavlink 1.0 updates
835b585e03 APM track following change
82b23f8eb5 APO multiple mode handling added.
eeb8f57384 Ignored swap files.
9192143c44 Fixed APO bug in current waypoint update.
fc12113167 Adding bash formatting script using astyle.
63efe302f2 Merge https://code.google.com/p/ardupilot-mega
d1d82077c7 Fixed APO controller bug preventing motor arming.
cbf59e96bd Bug fixes for command logic re-write
645b9c1d48 Initial rewrite of command logic.
04b5776601 50 rev
27d9712e80 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
2458fe078f Loiter updates
d089059f58 Set default gain to 20
c8c26d8193 added boost scalar arguments removed accel math from Trig function into Attitude.pde
c6c7966205 Attitude
0b4a3ccadb Acro PI defaults
dd23883097 Motor arming delays
a076b45506 Added Acro Params
d4e5281a4c Deafaut dead_zone call
76bf784f8c RC_Channel Dead zone
5a44298d57 CLI: enable "hit enter 3 times" support for CLI
5770be6dc6 Fixed APO examples.
905200c7e4 Added missing const to apo settings files.
57e4a80fe1 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
41463ade10 Further APO controller cleanup.
8ec0eec5a2 Just in case the Min and Max functions are not playing nice with AP_Var
6fd7c1dcda AP_PI AP_Var change
3ea6a4d287 APO formatting.
2b9daf65ff mavlink: fixed WP upload
92bd8b5d8b Updated APO Controllers.
037e121cdd Further abstracted APO Controllers
a18e0b2c22 APM Planner 1.0.86 fix tooltips add more tuning options - 10 add tuning state saving between sessions fix move wp alt change fix memory leak
f7780a81c8 imported custom_mode size fix
14cb884938 fixed mavlink10 desktop build
5a089f98d2 MAVLink: MAVLink 1.0 support now builds
690684d28b import latest MAVLink 1.0 headers and XML
e62bc659b6 updated to latest mavlink 1.0 messages
f815a1b27b mavlink: started adding support for MAVLink 1.0
02725a1160 mavlink: added mavlink10 target for desktop build
de7cf3d1db mavlink: make it possible to build with mavlink 1.0 headers
7cc396bd83 mavlink: import latest mavlink 0.9 headers
08ae7de678 mavlink: import mavlink 1.0 message definitions
cbf9ce8d14 mavlink: import mavlink 1.0 includes
bdfcad234e RC_Channel_aux is needed for ArduPlane build
cc88eb2b9d Merge branch 'master' of https://code.google.com/p/ardupilot-mega
b5e6445b15 APM Planner 1.0.85 add more joystick channels - and a trim passthrough
a503d9a7a7 adding missing config parameters
f5f3fa8fb9 Adding second default PID sets for bigger motors
b409173aae Corrected battery monitoring in apo.
4e89f61e27 Arming fixes.
b16666bf2f Added loop priority, fixed arming bug for apo.
41c75f5806 firmware build
7dd8875f43 More cleanup.
d20d53ee81 Some cleanup.
1aa8586558 Added arming mechanism.
c98c287901 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
4653ea7629 Incorporated dcm changes from arducopter into apo.
d551494b94 Added ability to dynamically set wp with toggle switch
4b7d52b233 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
4cc0aec5f1 Updated apo rates.
770f34aa8f Merge branch 'master' of https://code.google.com/p/ardupilot-mega
a693bea7d9 added extra user hook
ed65129b1e APM Planner - 1.0.84 fix ac log download
a01c89933f removed generated file
c8847e0d55 desktop: refactor the TCP code
9cbc38b516 Add a feature for a minimum altitude parameter while flying in FBW-B This patch written by YureZzZ - Thank you!
dba90b77ce firmware build
0fd5ac2aab firmware build
731e6dd09f Merge branch 'master' of https://code.google.com/p/ardupilot-mega
42d0b5cdb3 tweaked Alt hold PIDs, loiter PIDs based on SIM testing and feedback. Increased distance error for loiter for faster return to center.
afa0560e68 APM Planner - 1.0.83 ap mount prep sensor level hil tweaks misc fixs
3cab0fb814 Updated ArduRover/ ArduBoat for new apo changes.
185a24a3ae Merge branch 'master' of https://code.google.com/p/ardupilot-mega
32af63f734 Added battery monitoring, arming to apo.
3bf36b5427 fix for Camera Roll
66474c3b43 firmware build
2f751793bc typoo in params for camera roll gain. fixed.
4c1d10a75e Merge branch 'master' of https://code.google.com/p/ardupilot-mega
6a5aefd0ec Added gains to adjust travel of camera.
5c10b2af6c ac quick redo fix
4052fd4f73 Made wpspeed governor run per second so 1hz gps doesn't fail. Gave a 1m/s minimum. Increased WPspeed max to 4.0m/s
4be2776b17 Added Andrew's user hooks.
b8e7eac346 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
142707711e Updates to guided mode from Michael O. removed or commented unused static vars
35268cf6b9 firmware build
aacc8a6179 APO quad stabilized flight working well.
85fb55b6b7 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
d38b289766 hil sensor cleanup
932b7d00e4 firmware build
4de9f840b9 firmware build
65f26f7138 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
338396b76a slowed acceleration from WP
8abd4bbd69 fix delta time in imu shim
7ef51f723d Sensor hil fix's
e85e3b87a8 AC2 fix guide mode fly off
29380b3995 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
71bc197567 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
2330006fbe logging for gyro and accell testing
f8f29ebac8 firmware build
9500171a46 tweak to the Loiter N turns
7285cf28e2 Got APO quad stabilized flight to hover.
20ed86da28 fastserial tcp
dfb8723333 APM Planner 1.0.82 TCP connection joystick tweaks SIL Prep
43b3015963 lowered DCM RP gains made Instant_PWM optional upped PWM output to 400hz
04299122d8 Spell
12131911b2 Desktop: cygwin fixs for AP and AC SIL
25d07075b7 desktop: more cygwin fixes
75d31dcc4c desktop: removed the need for libbsd
b415542690 desktop: added Makefile.desktop
8290b61951 desktop: fixed a warning
bcb8fb1c7f desktop: silence an implicit cast warning
d11303ef78 removed an unused variable
97b3ced7aa fixed a signed/unsigned warning
eed26ae91a fixed a '=' vs '==' bug in do_loiter_turns()
d89ae696ef merged the GCS updates from ArduPlane to ArduCopter
c85ebedc6e Added windows USB drivers for the ATMega32U2 in the /Drivers/ folder
4016482573 desktop: make the main loop a bit more responsive
3c3db649d5 desktop: make ISRs normal C++ functions
bd42484ab8 update README with build and usage information
ea82b27fe5 support building with common Makefile.desktop
dc42103fa1 APM Planner 1.0.81 add elevons to joystick control. fixup possible autodetect problem. (was occuring when an axis was not centered on detect start) add save mode confirmation
14dbc9523c Merge branch 'master' of https://code.google.com/p/ardupilot-mega
3bc793bb9b Merge branch 'desktop-wip' of https://code.google.com/r/tridge60-apm-wip
0939b51a4c added build makefiles
3e1ae9b215 APO GPS bug fix.
a747a88762 Fixed APO bug.
3bd25f080f Merge branch 'desktop-wip' of https://code.google.com/r/tridge60-apm-wip
6484b83291 More optimizations
c1854eeb32 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
6797510236 planner quick hil fix gains 4500 4500 4500 500 and reverse rudder
865bb34657 Optimize the code a bit more, only perform calculations if they are necessary
c624582c91 Use a single if instead of four
e232a0936f Use the shorter macro call instead
632e0312de opticalflow: use the right path for SPI.h
5a71030d76 don't check the slider switch if CLI is disabled
c61fe55d76 don't initialise DataFlash if logging is disabled
01e5ae2ab9 use memcheck_available_memory() instead of freeRAM()
17aec03a2f added a README
41dd8d60ba use ifdef for DESKTOP_BUILD
034755e432 use nanosleep() instead of usleep()
eebd632967 fixed millis() and micros()
8c8ad0cd55 desktop: use a bit less CPU
5cf3e92a22 desktop: use non-blocking IO
65900dd1e0 desktop: expand eeprom to 4k initial size
b8dfdc293b desktop: flush all serial writes
7098e8cfa1 first rough build for desktop CPUs
28ebca1bf6 fixed PROGMEM declaration for desktop build
38c033e8dd memcheck: allow memcheck to build on desktop systems
5d0d1b6a6d fixed a crash in HIL
6656847faa fixed some ambiguous if/else combinations
bcc2aed8fb initialise spare bits in AP_Var headers
288aba074f fastserial: allow vprintf() to build without assembler
00d52a8bd7 ap_common: use intptr_t for pointer casts
fc53d5c477 modefilter: fixed type to be consistent with declaration
6048f3870f GPS: fixed type to be consistent with declaration
7a5fa24ba5 eeprom: fixed types to be consistent with declarations
e7e8165bc7 don't initialise DataFlash if logging is disabled
63ac6bcd94 use memcheck_available_memory() instead of freeRAM()
546b4df76d avoid the need for compiler optimisation for HIL build
26c8f734bf APM Planner 1.0.80 add AeroSimRC for HIL - plane/heli/quad
f2fa24375e usbtiny dfu programing on windows
e19dd2753d Merge branch 'master' of https://code.google.com/p/ardupilot-mega
f1d47982e2 Only use radio_in values if the channel is not used as flight_mode_channel
d42f2e230e undo config change
a052c25899 Merge commit 'e7f5e4a623b79872a015dff5ca959e60f6f7fd64'
44ed0a585a firmware build
c25478448b Quick RTL Fix, logic was backward
05ee33d9ad Mission planner: Added feature to select video capture resolution (Allows to capture PAL-format video)
9e5f175e95 firmware build
167df79b49 Better Loiter PIDs Fixed RTL overshoot bug
f6fe6fde33 Updated APO, HIL working well, live mode ready to test
f77345de8f add missing file
5ac433932c APM Planner 1.0.79 - add Russian (thanks YureZzZ) cleanup add new ac2 pids
3e988cc5e1 Reducing copy ctor calls in apo.
caa261db14 APM Planner fix resedit for other languages
445bd17d8a APM Planner 1.0.77 misc fix's
2b1fdb0074 firmware build
fab2121c6d fix ac2 hil build
15d0a4af2f firmware build
f9883bf382 fix make issue
d809034a8e firmware build
1ff372a41d Implementing a limiter for the ramp up of speed to WPs.
8409c864a6 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
cd451b749e Cleanup of AP_RcChannel, removed scaled class.
45950489d1 More improvements to MS Windows Now the avr-gdb, avrdude and avarice tools do not need to be in the path.
0fc595d528 Added AP_RcChannel_Scaled to APO
69de071281 Spellcheck apo library
7a510084b1 Fix serial port on windows
550deffbe8 Make it work on windows "out-of-the-box"
a59dc96e31 Fixed apo makefile.
4f43bd0259 Removed install file since readme replaces it.
f83fb23d7a Removed extra waypoint loading.
105df731af firmware build
eb1117b136 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
b0bd9d1c44 Added second PI loop for alt hold. Upped gains for default JDrones Frame added gains for second PI loop for alt removed some tests for 1280 space constraints
a621f5821f APM_RC: Cosmetic changes to increase readability and some minor optimizations
eb83070275 Added APO eclipse project file
ee4251baef Fix compilation
d814f11a05 Added eclipse project files for ArduBoat and ArduRover
3d1902abac Use the new AP_Relay library
9dca9816f8 Implement relay get()
7b4ccffa53 Moved relay control functions to it's own library
1c284cacb3 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
0bfa67f413 Heavy Accel Filter + mild Gyro Filter. To use, filter_result must be set to true on ADC.  Off by default.
dcef0f34e9 Correct/update channel assigment comment
c37fabea66 Added a comment to the BOARD type of teh make configure output file
eaaf44e2c8 Fix Arduino version detection on some systems
1ca4936fc7 Added Jeti and Spektrum base code to ArduPPM/WorkBasket folder
6cd90471d1 ArduPPM : modified library path
12e8e27af1 Merge remote-tracking branch 'origin/master'
c80143b96e AP_Optflow - small fix to lat/lon calculation and made example sketch work again
189fc194b6 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
f89da12387 Minimized the accel_filtered vector to be faster and more accurate. Made the Filter include the Accels and moved from 8 to 4 terms in the filter
3f1a6d2f97 Working on ArduPlane/ArduCopter cmake support.
69bc498772 Added cpack packaging, ArduRover/ArduBoat/apo, building with cmake
31d5a9eec0 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
67b19303bf Cmake working for apo.
893a0cca5a ArduPPM: New and improved PPM encoder firmware for APM 1.x boards with ATmega328p and new ones using ATMega32U2.
ae6732f20d Makefile fix.
03e59b4078 Typo fix.
c85d6b056e cmake overhaul, cleaned up readme, added license
7f5f9252c0 Added cmake update script.
0c7c508541 Optional recursion added.
48b811f6fa Updated cmake.
5073acce3e Add auto flap functionality to FBW-B
9396e3ab58 Fix missing capitalization
adbe965f35 Rework prev commit a bit cleaner as suggested by Janne Mntyharju
3fff788f95 Add code to disable throttle if we are on the ground and in FBW_B or higher
31bfeb5781 Fixed a cmake issue.
e20c279ca5 Added makefiles for ArduCopter/ArduPlane.
b4e56e889f ArduCopter: Fixed board setting in cmake-file. Removed now autogenerated Makefile
8aac89e549 Fixed board setting in cmake-file. Removed now autogenerated Makefile
12cd4539a3 2.0.46 preliminary release
a7ea200407 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
de61e87128 Added ADC gyro Filtering for quads - this fixes a noise issue introduced into the controller added Position mode removed Added back in the accelerometer experiment Added filter_result boolean to enable filter on the fly
1f8576559a Optimized PI loop
9e6b47184a Arduino version directory updated to lib/version.txt
5489b84f8e Improvements to cmake.
5e92e1f982 Corrected makefile.
dafaa1fa0b Merge branch 'apo'
ed850d4e0c Added missing files.
b0a1721199 Added cmake files.
d887a28b91 Added ArduBoat/ ArduRover/ and APO library.
dae3d09ee7 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
758d0e1aec Attempting to mimic loiter values for 4.0.42 lowered Rate Error max in loiter
71fbdf721a Added APO branch.
c881600385 lowered the deadzone a tad
888e1119e8 Added Loiter P tuning as #12
c209d6e6dd 2.0.46 -Not flight tested! restored 42 alt hold code removed throttle timer, replaced with safer constant increased alt control range reformatted nav_rate calls removed unused simple mode defines set alt hold home to 10m tuned down rateP to .13 from .14 for broader application.
911d840ddd Git test
0c847a43f3 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
326cfef808 Dead Zone fix - Now the range is full instead of clipped. Should make the Yaw much more smooth.
03740469fd fix quotes and indentation
9c766d6373 Added override for mega upload protocol.
d8fd3eadfd heli config
b33eaa8c9c heli hil config
108a89f617 heli hil
bd09dd392d Merge branch 'master' of https://code.google.com/p/ardupilot-mega
0ed9af1bf5 Turned off Rate_I for Arduino users.
0804281487 firmware build
8988c7d9e4 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
b2a2221474 Fixed issue with Simple mode changes. Reverted to simpler, safer timer code for throttle hold
2910da165c firmware build
e0b87ca238 firmware build
f437e4b2d1 Revved the firmware to force resetting the EERPOM
706211b757 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
239164fa19 Fixed Flip code to compile. Flip still not flight tested!
dca013965a Fix issue #285
2023d0b6f9 APM Planner 1.0.76 update ac2 dataflsh log format fix ac2 log to KML fix AP flight mode 6 > always Manual
bd79e1f73c Merge remote-tracking branch 'origin/master'
b5ea05698e TradHeli - added servo averaging to allow support of analog servos          - moved heli parameters to 80 because they were causing flight modes to overlap with waypoints
1c9b071d26 firmware build
bb8f97ec0b Better throttle boost value
d262fdb264 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
d495e6a9c4 turned off Stabilize_I by default because it was hurting loiter tweaked speed control of rate_nav
ddb4de1949 TradHeli - fix to set motor_auto_armed = true if throttle > 0.  Required to let ALT_HOLD work!
7f1f6e519b Merge branch 'master' of https://code.google.com/p/ardupilot-mega
236f665378 Added Loiter Turns - It orbits the Current location Added WP to Loiter_time so you can spec a specific location in the planner added new Navigation alg. Should perform better (doesn't rely on 45 flow fields like last one) Added "Jump" counter so missions don't get overwritten in flight. removed I term by default for Rate pitch and roll
35c30e91bf Test for new nav function
a4286a0e66 firmware build
e961d3f3d4 Removed default Rate_I for pitch and roll added change speed control for missions
e5c248e2bf Moved mavlink_check_target() to the libraries/. This allows it to be reused by the other libraries and by other projects ArduPlane, ArduCopter, ArduRover ... etc. It also reduces code duplication
e3cf206222 firmware build
8fab543257 firmware build
82e0ff3ea2 firmware build
b269f13ec8 firmware build
a8befb189c Fixed throttle_boost
c5a9f439d4 firmware build
2ae163ef75 Trying to make Alt hold more aggressively change altitudes.
ba7abd62d8 Adjusted DCM Gains to normal levels. Added a check to stop navigating when landing and to land faster.
25b0a3c43b Added a default, but low throttle cruise value Added a clear integrator for Rate I to prevent tip ups at launch.
593fd1dbf4 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
f5f99910bd APM Planner - translate
932e0fe45c Correct bug in auto flap handling
7177bcec77 removed old CH6 tuning defines
cfd2c31fb2 Better Tuning for default Quad
669daa9321 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
991279851a Refined Throttle Timer reset Reduced Loiter I gain to decrease overshoot.
62a8cd11a0 APM Planner 1.0.75 add heli hil (beta) suggested sim gains 5000,5000,500,1000 fix simple mode error add AZ to measure distance
f49621bde1 Fixed for sticky RTL CH7 option
078f64e276 Fixed Throttle integrator bug. Time was not being reset causing a big drop in throttle control.
6abb8a0796 Modified Arduino.mk to use correct upload protocol if not overrided.
b115a96daa Mission planner:     * Added timeout to udp port open     * Disabled baud selector for udp     * Fixed problem where selected port might disappear when clicking near       the port selector
a012e7981a removed debug statements
c91ad14e18 Fixed Timer overflow for throttle PI loop. Moved look at home to update_nav where it belongs
0fba3e6742 Added Auto_trim to CH7 option
ce338071eb RC_Channel tweaks. using Radio_trim rather than 1500 in Raw output. Cleaned up line in calc PWM to be easier to read.
5ca50f1f01 Altered CIRCLE mode to allow Loiter_N_Turns to work in AP mode.
2a6d2dea5c upped to 2.0.44 - not flight tested
00fe8e0450 Fixed do_flip,
94313ea88f Fixed Yaw for Auto mode.
142e5e92cc Planner quick edit for doug
670710d4bf APM Planner 1.0.74 fix scaling on loaded param set add check/uncheckall to param comapre add firmware versions on firmeware tab
c143e08d2e Logic fix for RTL option
020062498b Edited CH7 options to include Do Nothing and RTL.
b2b28cc90c Converted Millis to Micros added navigation check to return a failed navigation
0b39920871 APM Planner 1.0.73 add opengl and gdi+ option to hud. fix simple mode display fix throttle hold imax scaling. fix drawing of bad wps in log playback
231e7e961c changed PI to float
bf94ba551e changed PI Library to take Float for DeltaTime Changed timing to be more accurate in main loop. Still need to switch to micros(). Left that for Tridge. This gets rid of six floating point calcs *250. Nice!
0807346384 Mission planner: Fixed battery capacity validation
d6a502c959 small .net 4 fix
2b87f83b16 fix firmware names - heli update 2.0.42
4c6e626de2 firmware build
e2ed1f1c56 removed some more unused defines
4437ff1046 get rid of the last active uses of the SendDebug macros
6a9a85f184 remove unused climb_rate code
20bfe6b01d use gcs_send_text_fmt() and cleanup a few old debug lines
0f09bf6654 GCS: added new gcs_send_text_fmt() method
9351ef17a9 GCS: don't send low priority messages unless they fit
55cd7bcf1d added gcs_severity enum
66e4ae50bb remove some more old cruft
73223ee458 remove Mavlink_Common.h and used deferred logic for params/waypoints
de12ea429e remove some more unused code in the GCS interface
e61d742345 GCS: make the two GCS links gcs0 and gcs3
f375258699 fixed inconsistent linefeeds in ADC code
2ca8e58bc2 GCS: simplify the API for sending messages
17ebb311a7 MAVLink: use enum ap_message and remove unused param argument
220b941e31 removed some more dead messages, and convert MSG_* to an enum
3f37cce6c7 remove unused MESSAGE_COMMAND_LIST
9baab490f1 HIL: first step in simplifying the HIL/GCS code
6dd2cc058a removed outdated reference file.
1ee1b47ec4 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
b9b5c57662 added contributor
73fd0084be Added Piezo Support, code from Oliver.
28f86f8987 APM Planner - 1.0.72 fix hud issues
ddc5ced162 removed saving - not needed for copters
151cae6074 Jump command was reported to have issues, updated to match APM branch.
2755748d44 Added comment, spellcheck This reduces the diff to the APM_Camera branch
38cdf8b3cf Ignore generated file
b7c936d819 APM Planner 1.0.71 fix silly updater issue. for those with problems download OpenTK.GLControl.dll and replace it.
8a5108ab96 APM Planner 1.0.71 hud now does opengl and gdi+ add note about modes and ac 2.0.43
19667310b6 fix firmware names - heli update 2.0.42
f7bff57a33 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
aa61a88c23 firmware build
dc23ad4275 MAVLink: merged in the stack saving changes from ArduPlane
87ddd50c2a remove unsued MSG_LOCAL_LOCATION
5042ca8e9e rework the MAVLink send code to avoid excessive stack usage
edd7e509d9 MAVLink: enable separate MAVLink helpers
3fc0b4c673 script to generate frame sizes from .lst files
eb7bd2586c Merge branch 'divider'
b5cfbd10ae Added voltage divider, input voltage and amps per volt to parameters.
2f961ad315 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
99065d5035 Added a GPS watchdog to stop navigating if we loose signal.
1dca64f190 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
227ce0a92d Merge some small misc improvements from APM_Camera branch
0b701f7351 Reverted to current_loc.alt in MSG_VFR_HUD and MSG_Location
0f7b317a8d APM Planner 1.0.70 fix's
cae10dc8f6 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
39640e8d94 APM Planner 1.0.69 prep for ac2 2.0.43 - simple mode modify some scaling in Config add hud speed warning. add link quality and time to HUD fix ac2 logs, relative alt. prep for mavlink 1.0 add time to tlog > plain text conversion
c825e76a88 ArduCopter - small changes to fix compile errors when optical flow enabled
19781d5e4a put output of CPUInfo test in git
d4a068416f fixed bit-logic for simple modes
8b90ad84f6 fixed ArduCopter HIL build
3c69404d5b fixed build of OpticalFlow code
a835912d93 ADC: randomise the sampling rate
ba6c58a33c build: cope with more depths for libraries
d5b19840f0 Tools: added CPUInfo sketch
840c256fe3 ADC: show timing information in ADC test
197b1d140a show noise levels in ADC test
1d68953416 ADC: the bottom 3 bits of ADC output are always zero
bd30840518 updated ADC test for new API
9af7021a98 change ADC sample rate to 1kHz
acb4538073 RangeFinder: use new ADC interface
58fa51b680 ArduPilot updates for new DCM code
0425f4be54 updates for new DCM code
9314dcaa89 DCM: re-work the DCM to use the new IMU/ADC features
8b3d9400e5 IMU: re-work the IMU library to take advantage of the ADC Ch6() call
70bf945d40 ADC: re-work for ADC code for full resolution and accurate timing
49d96726d5 MAVLink: only send HEARTBEAT and SYS_STATUS during initialisation
3a9b7d6458 GPS: change example serial rate to 115200
a5d2e96dc6 barometer: print a message on barometer init in example code
4607bdb4b5 fixed naming for opt flow
45778a4e81 added sin and cos yaw from DCM, renamed "get" function because it doesn't return a value.
f79b8de5e8 removed DCM reference from OPT FLOW
cd72e6bea9 roughed in an expo option idea made min and max values 1100, 1900 removed hard coded init for camera values
1689a9857c removed unused pde file
9c5cba56eb Added low voltage code flashing code.
9bcbe70e59 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
b948e0f02b Lowered Loiter_I - higher value didn't test well.
129c13e065 Fixed CIRCLE mode trig error made loiter_radius * 100 in Params updated gains
80d5c6ac15 comment change to test Git pull
8d0a2fae9b cleanup added more ifdef for optflow
d29cfbcee3 Integration of optical flow bug fixes for new Simple mode increased Baro filter by 2 fields
d5e5240e19 Issue #415: Modified spotlight search string. Added UPLOAD_PROTOCOL parameter to makefile to use different programmer.
e43b711e96 fix remote error value
42abbb41fd Add options to generate assembly listings for all of the compiled files.  This is a possible starting point for a tool to analyse the call graph and stack usage of APM.
1025fc3abf Merge branch 'master' of https://code.google.com/p/ardupilot-mega
1ce2308d11 Removed Simple Mode Added Simple option to mode switch positions removed unused OptFlow code added reset lat and lon error removed unused init_auto Fixed log formatting Added simple mode bitmask removed pitchmax added CLI setup for enabling Simple mode to any switch position
7a70cb6169 Merge branch 'master' of https://code.google.com/p/ardupilot-mega/
a4e001bbcf Adding CMake support
d3a30f8d70 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
b965da89d1 APM Planner 1.0.68 bug fix test srtm
1f29197771 Revert more of 6dcbc7f44bc0.
f08cea8044 These changes were meant to be inside commit a14c06adc06b. I'm sorry but reverting stuff is not that easy
2357d3d41e Ignore some files that should never be commited
5406991831 Added support for routing any function to any of the aux. servos. This is a manual merge from the APM_Camera branch. It reverts the stuff that Oliver did not menat to do with his commit 6dcbc7f44bc0
fdc56c9ad5 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
ecd14f4425 Cleaned up guided mode Reduced ADC filter to 3 from 6 to increase speed of filter.
d1a63db767 These defines got moved to the library
f40051a0ce Remove file added by accident
8129c8e5c5 firmware build
c0b4cb661f GNU sed wants -r, Darwin/BSD sed wants -E.
c7b3bfd295 Use the G_RC_AUX macro when possible. Added more comments. Remove unused code
f05f56f83f Correct bug in initialization of auxiliary channels
8e85c56246 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
119d006e03 Change default setting for auto_trim to disabled per user (JB) request.
c1460add3b Reinstate a Cygwin workround that was backed out by the previous changes.
a6182965c1 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
8c9757a8d1 Correct state machine processing for long failsafe event following short failsafe from lower modes
251c5875fb Disable stick mixing if in failsafe
885ec18182 Removed last of Xtrack
bae05178f0 removed Xtrack and increased rate error limit
285029856b removed nav_bearing
5f94aa1d40 removed Nav_bearing
c15b6be83f increased imax
466488e78d removed nav_bearing - not used
b9383537e2 Added missing motor tests for octa quad and octa V
1ee65e3ef2 Merge branch 'APM_Camera' of https://code.google.com/p/ardupilot-mega/
77c798abd5 Use G_RC_AUX macro to simplify accessing the auxiliary servos
8b3e9d2df6 Signed-off-by: Olivier ADLER <contact2@nerim.net>
46f9d4cec8 This is ugly, but it fixes compilation on arduino
ce010b4e38 Moved update_aux_servo_function() to the RC_Channel_aux.* files. This simplifies code sharing between ArduCopter and Arduplane at the expense of 48bytes. Moved CH_x defines out of the defines.h file and into the library where they belong
01559f4c22 firmware build
a822b3bf4b Merge branch 'master' of https://code.google.com/p/ardupilot-mega
d733868fea Fixed Yaw mode for CIRCLE
ad4fc23eea firmware build
e6b7c57d26 Circle Mode now working 250Hz loop implemented
5a3a123b11 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
d50ed35077 Added a state machine intended to run at 250hz to the DCM. Spread load of DCM out to lower CPU.
213969202a Moved the RC_Channel_aux class to its own file. The includes could be improved, has anyone got any ideas how ?
d88b3644de Signed-off-by: Olivier ADLER <contact2@nerim.net>
226adc7cf1 Merge branch 'master' of https://code.google.com/p/ardupilot-mega/
53b8cfcf47 Signed-off-by: Olivier ADLER <contact2@nerim.net>
c5fd792024 Make the switch case complete
cfb575b557 Signed-off-by: Olivier ADLER <contact2@nerim.net>
93cbe664d6 Only run camera code if camera support is enabled
9f14c5f578 Fix RC range reversal
2fa92aea4c Fix RC range reversal
46185ee5d8 Revert "Fix RC range reversal"
51a8ec0ba8 Fix RC range reversal
8259672161 firmware build
482844b87a Added Input Voltage value to params
6df9302a2d Merge branch 'master' of https://code.google.com/p/ardupilot-mega
b4a51806bc Added Nav Rate tuning
dd19a7302d I do not understand this, but it looks like it needs int8 here
8aeee578b4 For now point the camera manually via the RC inputs
84f108d598 Fix manual values mapping
d84f80cb0d Moved enum values around to make code simpler to read and use
d06329d4b9 Signed-off-by: Olivier ADLER <contact2@nerim.net>
73b5d1fbbf firmware build
8f399625f3 Merge branch 'master' of https://code.google.com/p/ardupilot-mega
bb1b7b47a7 Fixed numbering issue with defines
f7b7a361a6 firmware build
8bf4791aba firmware build
97d69906dd Incremented to 2.0.41
597510012d Merge branch 'master' of https://code.google.com/p/ardupilot-mega
02bfd43390 Fixes Alt hold mistake Moves tuning into runtime definable param Added more IMax to throttle
b36d0352f3 Added a comment about lower half of the array
386e80eaf6 Added comments and TODO
d3280bdd16 Added comments explaining when should the function be used
7e0bff9cbe Egg_drop has a 0..100 range
0a793a1327 Revert "added support for AP_ADC MAVLink packet"
f3385d9a9a Remove prev change
3c3764479f Test commit
a2c1caacf5 Revert "added support for AP_ADC MAVLink packet"
c65d038ccf added support for AP_ADC MAVLink packet
95af8dc172 mavlink: import new version with AP_ADC packet
59cbb8ec6f Moved a camera mount function call, out of the servos update function
f4998c3673 Moved a function from radio.pde to the RC_Channel_aux library. Now its more readable and reusable
b3d4bb1478 Again remove some more files from the APM_Camera branch
52dc0a915a added support for AP_ADC MAVLink packet
0b9dbf4645 mavlink: import new version with AP_ADC packet
c2d20808ec APM Planner 1.0.67 - git build
a8e68040f5 These files are not meant to be in master, they should only be in the APM_Camera branch for now
b7a0d8836a This is the real HEAD of the APM_Camera branch. Seams that lots of changes got lost in the SVN to GIT port
f40c85a601 This is the real HEAD of the APM_Camera branch. Seams that lots of changes got lost in the SVN to GIT port
13681612c2 imported PPMEncoder
d24674dc5d firmware build
7424bc2717 firmware build
a421336ef5 firmware build
6e5a9c49b2 more directories for the archive
59b5bafdd1 Renamed code to ArduCopter
0194c248d0 Incremented version number to 2.24
8870e2f309 circle mode patch
ec398505a6 rename main pde file for arduino requirements
b9fad1262a move Frame into ArduCopter
d95e454609 rename main pde file for arduino requirements
afe0fa18ea move Frame into ArduCopter
609ae8359d import APM_Camera branch from SVN
0d5ea17f63 import Tools directory
e0dc1271d6 imported ArduPlane from ArduPilotMega svn
1456a2a912 renamed top level directories
bcfc74ea16 Fixed camera reversing issue. moved camera back to 50hz refresh to smoothness.
2bf35fea3f Fixed camera reversing issue. moved camera back to 50hz refresh to smoothness.
e05de48e2d Adding reverse to Channel Raw output (unscaled output) to fix camera reversing.
3b622dc43c Reset_hold_I no longer clears throttle_I value for return to alt hold Removed Baro Init in Auto Mode. increased Rate Error limit on Alt Hold Slightly decreased alt P to reduce pulsing motors Added rate limit for nav so we can reduce initial pitch to target. Using MINIMUM_THROTTLE value to test for Reseting Alt Hold now. Fixed extra Log formatting statement in CTUN.
1853c8ae0a Cleanup
c152e364a8 trying to avoid I term build up on an unarmed copter prepping to take off in Auto mode.
ff7821c87a simplified and cleaned up logs.
5ba7fce665 made CTUN require armed motors to lessen the size of the logs.
dd392f8c0a Upped some gains on alt hold based on testing.
90187e2859 Upped some gains on Nav based on testing.
f905309999 Enabling Crosstrack correction.
6dbfd78197 updated make file for cygwin compatibility
402f0c69fa Fixed Log formatting Fixed Alt Hold setting error.
e4bf6e2d33 Shortened loiter PI name to "HLD_LON_" and "HLD_LAT_"
3072b61aeb updated XML MAVLink definitions
0a72520a93 make the Xbee anti-brick delay configurabe
cb64198759 removed unused variables, functions, moved camera to 10hz loop
363abab14e Changed bit shifts to division, relying on the compiler.
3cb1b8f9f4 2.0.40 - added separate reset for rate based nav. This allows Wind and throttle Iterms to avoid being cleared when moving between nav modes.
3284b0733e fixed crosstrack return value when disabled
7b67e3e5a4 fixed uninitialised variables
641099d2ed renamed ACM_PI to APM_PI to fix build
ab876ebe13 Adding ACM_PI
3ad21cc236 2.0.40
3ecf7b503c added MAVLink message queueing
1b9756b218 let the user know that EEPROM is being erased
fe05603582 fixed some compiler warnings
89f9fafb90 BetterSerial has txspace() now
2e989fd101 replace space() with txspace()
7774ac534e added comm_get_txspace() to GCS_MAVLink
c822bad359 added txspace() method to FastSerial
5980e80333 fixed spelling
694bfc5b87 Added two filters to the RawTemp and RawPress values to increase accuracy from noisy temp sensor.
4ec8805216 Reverted to older PID. Restored the older filter, and removed PI command. I am no longer using PID for the quad and have switched to PIPI loops which perform much better. The D term in this class is not that great.
fa1a6d3beb shrink the size of mavlink_message_t using max dialect message size
754ab0290b import new mavlink version
0e15cecfb4 AP_RangeFinder - removed LV version because we use XL which covers both types of sonars
28908ee933 ACM - removed references to MaxSonar LV sonar
96c02ba974 increase firmware version
dab8c0cca8 AP_Var: added EEPROM wear levelling
06c4f60490 AP_Var: avoid wearing out EEPROM by re-writing the same value
e099079cc0 AP_Var: fixed a logic bug in APVar::key()
b8b8b7e8ca AP_Var: fill all of EEPROM with 0xFF on erase_all()
6075b7ce73 dataflash: fixed some compiler warnings
b110803dcb Fix NMEA GPS error
5e3e96b236 update "NO_GPS" issue as per Justin Beech
4e71884298 added memory reporting over MAVLink
b6e2970f6f added memcheck library
f7c58a5dd5 mavlink: imported new version with MEMINFO message
aebed8d283 remove MAVLINK_COMM_NUM_BUFFERS
3ae2186021 imported new MAVLink implementation
6c79b1c681 Correct the spelling of Michael O's name ;-)
5b3079bcd6 Fixed debug command.
f44364fb7b TradHeli - updated mounting plate files and added sonar mount
f868cd90e4 we should not be calling mavlink_delay() in the CLI
1e08040002 update to arduino.mk file to allow easier use with cygwin.
85bcbef695 nightly check in, version not stable.
1a2f26a285 version increment
d4a1e86854 mavlink: don't execute action commands in mavlink_delay()
4a974180b8 Level fix.
085ca253be Checkin before beddy byes
659753d7a6 Amilcar Lucas & Ritchie Wilson's camera code mixed in with ap_mount code, this needs to be separated.
bf4058c6e1 change of mind payloads should be split into their separate folders.
10d312ff25 git-svn-id: https://arducopter.googlecode.com/svn/trunk@3143 f9c3cf11-9bcb-44bc-f272-b75c42450872
0daa9f9952 git-svn-id: https://arducopter.googlecode.com/svn/trunk@3142 f9c3cf11-9bcb-44bc-f272-b75c42450872
037de1d6b7 git-svn-id: https://arducopter.googlecode.com/svn/trunk@3141 f9c3cf11-9bcb-44bc-f272-b75c42450872
f563930275 git-svn-id: https://arducopter.googlecode.com/svn/trunk@3140 f9c3cf11-9bcb-44bc-f272-b75c42450872
8f72948121 Payload libraries, code for things like camera control, mount control antenna control should go here.
69b2d5f411 removed AP_Common ref
e0425af1f4 hack to fix Motor lights when arming after init.
75114aa93f hack to fix Motor lights when arming after init.
6b2139221d Added experimental rate based Loiter and revised RTL. You need to compile with the loiter option  set to 1 in APM_Config to try.
c95bb66441 cleared out APM_Config
d192ceb8f8 upped D filter to 6
312c0e6b3b removed throttle_slew - Just wasn't working well enough and added too much complexity moved reading sonar to the 50hz loop so the Mode filter could do it's thing without causing so much latency
bfa7cc2cb5 lowered error limit to try and reduce RTL dropping from sky. removed minimum for RTL nav speed to see it's Loiter potential (rate based Loiter)
56d8da0381 commented out home.alt since it's always 0
900d0c1819 fixed missing %d in CTUN
0bf026e6ad Compass: added a gain multiplier
37dd9ac144 TradHeli - fixes to use single PI controller for roll, pitch and yaw (when using an external tail gyro)
e95d0eb686 added SET_MAG_OFFSETS magnetometer message
ab04055c35 Compass: several fixes to compass calibration code
eefb840a85 MAVLink: added missing files from recent update
5836e27813 we don't have a separate 5883L driver any more
88cd556c8d Compass: we don't need MAG_PROTOCOL any more
c860fd736a Compass: removed the old 5883L driver
5c68a04c5d PID: fixed an uninitialised variable
b1df1d1843 ModeFilter: fixed a shadowed variable
6cf66ee773 MAVLink: pull in latest changes from upstream MAVLink
74dfb3ff2a Added a generic Sin and Cos look table. Not sure if it works yet as a library.
a604e30c7c cope with double initialisation of the compass
6ca3a2b359 compass: set the orientation of compass before compass.init()
7d58916a9d compass: add a small delay in compass init
8715ed3bd7 2.0.39 added callback to the test functions not sure if this is the correct thing to do.
b7ce6e036e 2.0.39 Change the way Rate nav works. we now take into account both forward *and lateral* rates. The signs may be backward so be careful! Let me know if the quad shoots off to one side and I'll flip the signs.
d02d4b895c AP_OpticalFlow - small but important fixes for position calcs
51a9c52d58 ACM - changed default lens for optical flow
88d59ccc2d perl version of eedump
1ac8e0a75f 2.0.39 added a define to make compilation optional
de191b7bee 2.0.39 Cleanup and removed some old tests to save data flash.
99a327ccbf 2.0.39 Moved the motors based on feedback from Max Levine. See Wiki for details. Simplified the CUT_MOTORS section of the code.
4752468730 2.0.39 Simplified the CUT_MOTORS section of the code. Added Stability patch
3e8ca40d7d 2.0.39 Simplified the CUT_MOTORS section of the code.
64932a4e75 2.0.39 New order for motors!! Based on Hein's testing. See Wiki for updated layouts Simplified the CUT_MOTORS section of the code.
87a015b205 2.0.39 Simplified the CUT_MOTORS section of the code.
e7a87006b0 2.0.39 New hex a motors_out with Tridge's stability patch. Simplified the CUT_MOTORS section of the code.
04e05604a5 2.0.39 added defines for CH7 behavior - DO_FLIP 1,  DO_SET_HOVER 0 (Default)
b931bfaf50 2.0.39 added defines for CH7 behavior
a8445483f3 2.0.39 added defines for CH7 behavior, Tweaked Loiter config based on testing by Jack.
0bea96c3d0 Added Jose Julio's Flip code, edited to work with AC2. Never flown or tested!
9e1bea4797 Added Jose Julio's Flip code, edited to work with AC2. Never flown or tested!
c7d2a71fea Updated GCS_MAVLink to match mavlink master.
c49bb03ba3 TradHeli - mounting plate correction to remove duplicate line in design file
2da62b8a3e fixed PSTR() on motor arm messages
11cee834b2 re-added ARMING messages in HIL mode
76972a265a 2.0.39 Returned to previous log version for sonar messages to fix the cosmetic bug in the planner
e60b2ac07e 2.0.39 Made the Yaw on RTL always on for Helis
07e2ad1c50 2.0.39 Defaulted all values
9fa60889dd added SERIAL3_BAUD parameter
366b20bb9f MAVLink: send streams on both mavlink interfaces
dd3dfd9f2a re-apply DEFAULT_LOG_BITMASK patch
9371ee545e process MAVLInk packets during gps detection and IMU calibration
fe3293f411 2.0.39 Added reset for all nav I when entering manual modes.
1f974ef6d3 2.0.39 Added extra groundstart init for the Ground Station
61f0cb9226 2.0.39 Changed how the throttle_slew was added to the output.
0cb38abd07 2.0.39 Added a limiter to Throttle_slew to not make the throttle go past 800.
9ead82f137 IMU: fixed HIL init with callback
91e101f47e GPS: added delay hook for GPS detection
b6397c089d IMU: added delay callback hooks to IMU initialisation
5152d23650 2.0.39 mistake on the defaults for kP - not symmetrical.
8e02e89534 2.0.39 mistake on the defaults for kP - not symmetrical.
4223dff94e 2.0.39 limit RTL to 35
a6bad6b73e 2.0.39 small change to RTL to prevent negative effects from flying backwards.
c637bf0947 small change to RTL to prevent negative effects from flying backwards.
e81aa43f1c OpticalFlow - add check to see if sensor has initialised correctly.
69bd507d5a fix hil build
150f58a4bd removed scaling on control in because it might cause rounding issues.
4339ebb310 Reworked the filtering algorithm based on Maxbotics recommendations to use a Mode filter
73be185414 Big update 2.0.38
e1b677a25d Reworked the filtering algorithm based on Maxbotics recommendations to use a Mode filter
61dc79f65b Added some missing functions needed to get HIL to compile
eb39d2d53a Added ability to grab an unfiltered value from the ADC
da2a1d72e2 GPS: fixed the GPS specific test programs
358fd56d57 Fix Hil build on 2560
915a564b8f Changed the PID derivative filter to a moving average with 4 samples. Having great luck with it and High kD when using noisy sensors.
6061ee4b81 HIL: fixed radio_status in setHIL() for APM_RC
48b2f0bd9e TradHeli - updated gps mount design files
84a6fc4834 TradHeli - mounting plate and gps mount design files
8907ee5b0a fixed defaults
2d094da38e added relay control to CH6
586acf4342 fixed quad PWM clipping
7210d6decb fix float issues - crosstrack & target alt
f5d17f756a ACM - partial integration of optical flow sensor
e80ed6d687 quad: fixed the clipping of PWM outputs
09256e12da DataFlash library - changed to use standard arduino SPI library
6e179db689 HIL: fixed build with HIL and logging
efae9dddd5 HIL: we only need 50Hz attitude for HIL
3d641a3b45 AP_OpticalFlow - fixes to position calculations (lat was reversed and would calculate position even with surface quality was very low)
c79ff4f583 doubled Slew rate limiter to 2 m/s max @ 10 hz.
98980d6f61 HIL: fixed altitude calculation
60bf2182e4 GPS-HIL: set new_data on setHIL()
b3e629cfbf 2.0.37 Added rate of change limit for noisy Sonars. converted to static functions - Tridge New Throttle PIDs from Jack
e07c0aab7a 2.0.37 Added rate of change limit for noisy Sonars. converted to static functions - Tridge
d04d32c40c 2.0.37 Added rate of change limit for noisy Sonars. converted to static functions - Tridge
a1733ee901 Added a slew rate limit reworked filter, same results, just wanted to get rid of modulus.
6b0c938176 CLI: make it possible to completely disable the CLI
e6d9a6921a HIL: don't access dcm functions in HIL mode
863e77677e HIL: enable reception of GPS and ATTITUDE via MAVLink
93a8deac7d HIL: send location information
aff9e9a831 HIL: when in HIL_MODE_ATTITUDE, we get altitude from gps setHIL
eb2a6403e0 don't force config in default APM_Config.h
df6a1b51f3 make a lot more functions and variables static
0b1262a685 make main variables and functions static
f9105a056e logging: moved the default log_bitmask calculation to compile time
8a7466d1a2 make it possible to completely disable logging
fdf090b471 allow flight modes to be setup over MAVLink
855b88852e fixed a bunch of compiler warnings
8aad21fcc8 add level command via mavlink, and fix fall through
b6db64f9be 2.0.36 Added Yaw control when descending in Alt hold lowered kP & kD for Alt hold a tad Adjusted RTL behavior to do speed control up to 4m to home, then go into Loiter Fixed issue with AUTO not getting proper input. Added Limit to high side of motors
df26281296 2.0.36 Added Yaw control when descending in Alt hold lowered kP & kD for Alt hold a tad Adjusted RTL behavior to do speed control up to 4m to home, then go into Loiter Fixed issue with AUTO not getting proper input.
af8afecbb8 2.0.36 Added Yaw control when descending in Alt hold lowered kP & kD for Alt hold a tad Adjusted RTL behavior to do speed control up to 4m to home, then go into Loiter
05c058148b tweaked WP speed so long distances wont blow up equation.
59023505f9 Added in limit for alt hold to prevent I term run up.
24abae3c6d ESC setup notes
f46647d8b8 minor cosmetics
48f010f80c compass: fixed a compiler warning
a9278b6fcd build: added EXTRAFLAGS to make rules
b7b0212506 Cleaned up or reverse code.
100e3bac60 2.0.35 Added camera reversing parameters in AP_Var Added RTL Throttle Hold set/check Added dynamic speed control to slow down as you reach waypoints and RTL Home upped Yaw Dead zone slightly.
bdcd0e2e37 Added Scaling to yaw response on Auto, RTL, and Guided modes
35bf288abd New PIDs - I rewrote the control laws from scratch to add a PI Rate function. The end result should fly nearly identically to the current version. The nice detail is that we can use NG PID values for easy transition! Before: ->  After Stabilize P > Stabilize P (Use NG values, or 8.3 x the older AC2 value) Stabilize I > Stabilize I (Stays same value) Stabilize D > Rate P (Stays same value) > Rate I (new)
165643c307 fixed 5843 detection code
7b803a9e1a compass: added error checking on I2C transactions
488a2805f7 mavlink: fixed a signed/unsigned warning
a16b00b5bf Added heavily filtered Accelerometer values for experimentation.
5e163c6052 added ki_Yaw private variable and accessors.
0d31d9be10 Added a limit to the atan function to calc the heading. Just trying to avoid, bad values screwing up the DCM. - Jason
38cf90ae58 AC 2.0.33 Beta Slighted tuned down D term in Loiter PIDs after testing, tuned up P slightly fixed alt hold bug cause when gaining 3D lock in alt hold. Mavlink now reports correct throttle scaling value in mavlink
659b520912 AC 2.0.33 Beta Slighted tuned down D term in Loiter PIDs after testing, tuned up P slightly fixed alt hold bug cause when gaining 3D lock in alt hold. Mavlink now reports correct throttle scaling value in mavlink
4015e7f91a Commit test - just adding an unneeded comment
90b0d769f8 compass: fixed normal operation mode change for 5883L
d46536e142 compass: fixed output rate and averaging for 5883L
0df8daeaed Correct bug in CLI log "enable all" command.
a7a4f999e3 AC 2.0.32 Beta new Loiter PIDs tuned down control on standard frame shunk the mixing range for sonar from 3 meters to 2 meters added framework for Guided mode - not tested! removed pitch and roll deadzone decoupled SIMPLE mode from LOITER PIDs Synced Mavlink with APM Logs report correct WP number now. disabled Sonar spike filter.
2605c4b4b2 AP_Compass: fixed calibration of 5883L compass
c78da666ec AP_Compass: report compass initialisation failure
d310744bfc AP_Compass_test - added display to auto detected compass
cf0a068f7c Fixed bug in alt hold caused by false Sonar readings. Reverted to prior Rangefinderlib in case that was causing bad sonar readings. reduced crosstrack gains and max angle to avoid overshoots and oscillations. added additional D gain to Loiter hold to prevent overshoots added D gain to WP_nav to avoid speed oscillations upped navigation speed to 6m/s from 4.5m/s
00222a2e20 temporally revert to prior version of Sonar class to narrow in on a bug.
8ce403cbe4 AP_Compass - added auto detect of 5843 vs 5883L to AP_Compass_HMC5843 class
da7a13128a AP_Compass - added auto detect of 5843 vs 5883L to AP_Compass_HMC5843 class
203bc4643d clean up to work better with the Mission planner and enable Camera control.
09c02ed44f changed camera stabilization to 1 instead of ENABLED
f9c402f0f3 2.0.29 Fixed Mavlink issue Added look at home option for SIMPLE mode. Off be default. Untested. Upped performance of Yaw.
418a4b3903 removed redundant FP calcs for speed up. added ability to alternate normalization and drift correction. Not fully implemented, needs further testing.
4247586584 2.0.28 Fixed a mode switch issue.
276b2c0966 commented out line 833 in main pde that was causing compile error, as per this report: http://diydrones.com/forum/topics/2027-prolems-compiling-solved?xg_source=activity
bcea99f64c 2.0.27 Fixed GCS updates, Clear GCS Streamrates by default. moved fast PWM functions to run all the time (for quads, experiment) cleaned up Mavlink a bit.
fe16f5d7a4 IMU speedup by shorting the temp calculation. If someone bothers to temp calibrate their sensors, they'll need to edit this shortcut.
cd864714ea Add a simple tool for dumping AP_Var data from an EEPROM dump.
8f036514f4 minor formatting, enabled sonar spike filter.
254a93343d extra \ removed
9d6d0de021 Forgot to add setup for V Octo support from Dani Saez Added start of contributors list into code comments.
bc13dac119 formatting
d2ce6ebf8d 2.0.26 minor updates, Arming motors now for only Stabilize, Simple, and Acro Modes. V Octo Support
56483bc322 Added debug/ upload targets to Arduino.mk
a3950ca63e Added config.mk file inclusion for global configurations settings on make based builds. See ArduPilotOne for scripts/configure to see an example. config.mk should be located in the temporary directory where the rest of the build results are placed.
582cc1e229 Enable map file generation.
8d7e7ff58e revert gps lib to 2602
26d1ec1f56 remove static declaration from idleTimeout
5b9e7eff9d clean up idleTimeout
b53b749fc7 Fix initialization of idleTimeout
6be97515ac re-sync rawgps cli test with APM2 (r2501)
7521ceed61 	Vector3<T>() { x = y = x = 0; } changed to : 	Vector3<T>() { x = y = z = 0; }
098ac1599b Add planner menu item on main menu . (issue tracker 194)
4d67241537 syncing planner.pde with APM2. For planner menu item on main menu . (issue tracker 194)
1345a2ac6d 2.0.25 changed Yaw to be offset from current angle to avoid the kick back. Made minimum motor speed user settable, upped to 13% (130) tweaked alt hold D to be higher and P to be slightly lower.
9c4517cfd2 update to Baro lib to remove temp filtering.
b69012803d log merge with APM
cb168c399d AC2.0.24b
c5f06b99fe silly formatting
47bc8a7500 removed some initial settings
ec5035d1ec added optimization note
76d072591b made timeout public, settable
e2d5f7bf82 removed duplicate filter from ADC based input
ea728060f3 disable the re-ordered initialisation warnings
cf68e31729 fixed warnings in PID.h
cb492ac00e fixed warnings in AP_DCM
9cb9a54d64 fixed a warning in AP_Var.h
edaf2b9641 Based on Doug's recommendation - increased Accel weighting to .66  1.33 Gs
b35d0677d0 the temp change in the state machine didn't really help the altitude issue after all. Need more testing as the temp sway is the major factor in the lack of air pressure accuracy.
40c6b592df git-svn-id: https://arducopter.googlecode.com/svn/trunk@2555 f9c3cf11-9bcb-44bc-f272-b75c42450872
7ad6bff177 reworked filter on temperature.
8fb19f4092 removed filter on temp, was causing init problems.
2651cadb84 Adjusted the state machine to read the temperature less often (from twice a second to every 4 seconds). Added a small smoothing filter.
c1ddd58d4c Implemented moving average filter to deal with noise issues on quads, default is a 6 member filter.
595266152b Added dynamic setting of kp_rollpitch, ki_rollpitch, kp_yaw. Added three constants for kp_rollpitch, (high, med -default, low) Functionally equivalent to prior version.
73004e45dc Add a method to BetterStream and FastSerial that can be used to report the amount of data that can be written without blocking.
7845bba097 Traditional Heli - merged heli code into ACM trunk code!
96cb7d2fc0 Add clearOverride message to allow failsafe recovery from joystick control
505cee674a ArduCopterMega - Parameters.h - updated eeprom format_version to 9 to force refresh of eeprom because of RC_Channel change to store reverse setting.
499cbec9e5 RC_Channel.h - small change to store _reverse setting to eeprom
732a36960e sync rawgps test with APM 2x rawgps test
7925c97354 add mag 5883L part3
119ac75511 add mag 5883 support part 2
19c6f87821 adding 5883 mag support part 1
8a19c0a392 2.0.23, Hexa Fix, Baro and Sonar tests now separated.
0cf30d93d0 2.0.12,  minor fixes.
18a9ff6f80 AP_Compass - added support for HMC5883L
ed7e0d1660 AP_Compass - added support for HMC5883L
142f5a5f49 Updates for 2.0.21
e4cd549599 AP_OpticalFlow - moved chip select pin so it doesn't interfere with AP_ADC
0fcb129485 ACM - small bug fix to remove extra bracket
f4dd8a4f99 2.0.20
9abd8c6336 Big update from Field testing. Includes updated motor tests. These need to be verified. Nav loiter D was added (.03) - verify this helps. Nav_lat is now filtered for Rate control. This is to keep jerky pitching to a minimum.
c66611cceb minor formatting
f5700c75c8 Fix bug for GCS joystick control
dcbf161c41 moved mode logging to end of function for better throttlehold recording
f747e39062 Better sonar hold ++ added mag calibration - still not sure if needed. better sonar spike filter 2.0.19
1d21056f21 2.0.18
85fde4a6cf Better Yaw P values, better Sonar hold values.
7b185ca23d missed saving a file.
4bce9465a6 Change setHIL to return a bool based on if GCS joystick control is active
a42a939cc9 2.0.16, Now that Yaw PID vs PI issue is sorted, this is reverting back to Rate based Yaw. Made minor change in Loiter to check something. Motor LEDs enabled. Let me know if they work OK. Armed Motors is now Solid to match GPS behavior.
0d1f184076 minor changes
ee67f964a1 Added back in Mag offsets in CLI. Don' t know if it works yet! removed CH_3 refs in Tri, fixed Yaw repoting bug for unsigned int
eda421e8ea Alt Hold updates
8088f24427 Yaw updates. 2.0.13
1ff40b053a Log FIx
2a53e35ac7 2.0.12 Very small Yaw Iterm added. reverted to earlier Loiter limit. Slight tweak to Alt hold.
4a1772b5ff http://code.google.com/p/arducopter/issues/detail?id=161
6d3039793d Yaw Alternate enabled by default. Yaw dead_zone minimized revved to 2.0.11
bd69d3f014 Adjusted gains for alt hold.
bd64dd9770 Added resetting of Loiter location based on stick input. Fly it to a location and let it stick. Added Octo Support Fixed Loiter issue regarding Yaw towards loiter location Added Yaw control alternative for testing decreased Yaw deadband to +-5 revved to 2.0.10
1f222a4a5c Added resetting of Loiter location based on stick input. Fly it to a location and let it stick. Added Octo Support Fixed Loiter issue regarding Yaw towards loiter location Added Yaw control alternative for testing decreased Yaw deadband to +-5 revved to 2.0.10
2a3b994d51 Added resetting of Loiter location based on stick input. Fly it to a location and let it stick. Added Octo Support Fixed Loiter issue regarding Yaw towards loiter location Added Yaw control alternative for testing decreased Yaw deadband to +-5 revved to 2.0.10
2118931cdc Added resetting of Loiter location based on stick input. Fly it to a location and let it stick. Added Octo Support Fixed Loiter issue regarding Yaw towards loiter location Added Yaw control alternative for testing decreased Yaw deadband to +-5 revved to 2.0.10
c0ae14cc5c Minor Gain fix. Roll and Pitch were sligtly different. Not enough to merit any point revision.
78f02b51a0 updates to get alt hold from 2.0.7. Cleanups, better logs for Alt hold, yaw debugging I tuned up Hein's Hexa Yaw. I think we may need to adjust Yaw gains based on Frame type. Crossing fingers, the next rev is the final.
c2ff95371c AP_OpticalFlow - fixed some bugs in get_position
855761a4ef Minor log formatting
b76745470d 2.0.8 - Mavlink fixes. Works much better now with M.Oborne's planner
16df94168f refinement of alt hold and Hein's Yaw hold fix
b8d3b12b35 added in RTL failsafe option for AUTO mode.
26655d47ad removed unneeded RTL modes
0ecab03e16 removed unused descriptions
ba724655b2 Missing , in test
bc5b3caa58 lowered Yaw D value
f7f101d2b4 added NG analog pin definitions
005947ea61 Fixed motors test for quads.
707210a514 Disabled I term for yaw. not working right. Changes log step default to zero by recommendation from John C. Not sure why it works, Compiler should init to 0 by default.
9241691b44 trying to improve Yaw issues. Enabled I term for yaw. This was mistakenly Imaxed to 0
e334332682 v2.0.7 Minor adjustments to Loiter behavior.
89714078dc Minor adjustments to Loiter behavior.
ed790dad71 make sure things are saved from cli
9b05369f1e Missed saving frame orientation.
acdba5bfd7 2.0.6 Beta updates. Frame options + X moved to AP_Var. Updated nav code.
938ab0ac56 Synced with mavlink dev branch, RC_CHANNELS_OVERRIDE packet added.
5a22080484 I am Adding A "PI" loop to the mix. This is a need for AC2. We can optimize the internals later, but I basically duped the get_PID and removed the D term internals.
5489585ae3 separated the PID values based on chosen Nav PID, Temporary until we get rate control tested.
02fe0ff13f added nav_WP I term reset at WP. Would like to consider scaling it with a trig function to keep continuity during nav.
66b8cebb14 added comments for frame types
9153e448db kD for WP nav does not seem to be doing anything but causing trouble.
0617d58d4f Fixed bad output of GPS ground course.
73129c52b9 Some nice updates to Rate based nav according to the simulation.
41fc9d60ca Log_Read_Startup removed
164b93479c Moved PitchMax back to 18 raised the Yaw deadband.
93b187333c Alignment with APM
c95419fbf5 GCS Alt fix.
873d7bb5d5 updated relative altitude in nav_wp
0554c42c08 updated to new orientation from Jani
93b5e984b1 updated alternative rate nav function.
8840dd3dc2 moved back navigation into original loop - was for debugging
e5a93a81cf added reference to FRAME_TYPE
9a0cabb71d added reference to FRAME_TYPE
8f17f95cbc Moved motors to individual files. updated motor setup test to be sequencial pulses of the motors in CW order. Fixed Mission scripting logic fixed Free yaw error in neutral throttle fixed D term issue with Baro hold - was too high incremented firmware revision, removed frame var removed setup show from startup removed unused EEPROM functions fixed broken demo mission fixed non working loiter with delay
fda05ca4d0 moved rudder servo control out of 200hz loop to test if it will reduce servo noise.
5ca72eb8b2 better Baro hold - Baro_KD was way too high. Clean up with WP processing moved crosstrack call to more logical location
40e22316ce log NTUN missing \newline
957133e940 incremented 2.0.3
fe9243285b Slight increase to loop speed - for Max removed throttle integrator until I have more time to deal with the data tweaked control loops to be more like RC1 for Max to try. They fly great BTW tweaked config to be more better. Mavlink - only cosmetic tweaks
0629bb01b8 Logging updates
07bd6d151f HEXAP_FRAME output
411ba90742 Added missing comma
34c7555fd1 AP_OpticalFlow - added set_orientation
d2d166d419 Fix wp altitude issues
80993acc47 HEXA_P frame support
0830070b3b issue 130, other minor mavlink updates.
20cdf7c698 Add hDOP for ublox gps driver
8e50fbcb42 remove hil message in non hil mode
d843f32a21 Camera stabilization updates
a7b597bd0a Camera stabilization, Mavlink updates
104f89e654 git-svn-id: https://arducopter.googlecode.com/svn/trunk@2237 f9c3cf11-9bcb-44bc-f272-b75c42450872
b31a037539 revved version
a0d9c52d87 Mavlink Sync with APM
0979876ccc Added APM's current sensing.
6edb299243 AC2 - Mavlink on 2 ports
e7606a3a82 Fix compile error
7d38020d5f re-org'ed the logs
be3647a234 removed auto_trim feature
f85edbee36 typo fix
d488c1bf58 Reverting assignment of MAVlink to Port 3 because it kills MAVLink on Port 0
985db37162 Added compass fix from APM
b5f0635455 Add an alternate compass.calculate() function substituting 1 sqrt func for 4 trig funcs.
3cfd3bc527 Added port 3 for Mavlink.
065ff44dab git-svn-id: https://arducopter.googlecode.com/svn/trunk@2190 f9c3cf11-9bcb-44bc-f272-b75c42450872
04934b3df3 removed unused Stabilize test
33a7104f6b Fixed script typo.
3020a471da Updated mavlink to latest roi branch.
13993f1600 git-svn-id: https://arducopter.googlecode.com/svn/trunk@2186 f9c3cf11-9bcb-44bc-f272-b75c42450872
6ede77a478 git-svn-id: https://arducopter.googlecode.com/svn/trunk@2185 f9c3cf11-9bcb-44bc-f272-b75c42450872
cc494b22fa changes for Max and tri-copters
08a7e02864 Final changes for Beta release
6510b8df5a minor cleanup based on compiler warnings.
c577bce85d new ESC calibration routine
8f82de3e11 changed a bool to uint8_t
5242396e06 temp removed altitude requirement change PWM scaling technique for Ch1, Ch2, Ch4
a67b1d6896 Added new output type AMGLE_RAW - this will ouput non-scaled PWM, better for copters than fixed wings.
80cf04511e git-svn-id: https://arducopter.googlecode.com/svn/trunk@2092 f9c3cf11-9bcb-44bc-f272-b75c42450872
2578ab3d9f Defaulted APM_Config.h
d858b17ebd Fixed Rate navigation
7809b0ca2a Massive warning fixes.
7892b50597 Added tri test
39f9d8fa35 Added tri test
e40c966752 removed D term for rate control for now. It may have been messing things up.
4f7402eee9 Suppress warnings from the Arduino core, since we can't do anything about them.
fc4759dfbb Libraries to support non AP_VAR usage. This is for Ardupilot legacy hardware.
5a6b9adcca fixed an overflow issue in AP_RC
701157c350 Re-order class members to avoid initializer-order warnings.
71604405f4 Re-order initialisers to suppress warnings
f5ba77f23b Rename some ctor arguments to suppress shadow-related warnings.
fe648644ce added a few more warning flags for when building with the Makefile
33c9f047eb increased to 160hz
ceff21a0ec removed the !!! from ACM to keep the 2650 happy.
5a273e52d2 Added const AP_Var access.
01dea496c8 Removed APO lib.
55c46fc367 Moved APO quad/ rover projects.
0a703cef47 typo
e6d86e7efa removed yaw towards WP option. Should now be handled with a mission script.
0e8d3781d3 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1953 f9c3cf11-9bcb-44bc-f272-b75c42450872
9b25875baf Heartbeat failsafe added for APO.
7b7ba0df1f APO comment fixes.
9a47d7b8e1 Example cleanup for APO.
42c6847054 Added Car/Quad APO examples.
0f920d12ce DataFlash - backed out recent changes to make it use SPI while I figure out the cause of some people's compile errors
aa598b575a APO merge.
dc45d3e8c4 Added throttle_integrator Removed cos for nav_rate testing.
56fd1acc4a AP_OpticalFlow - first draft of optical flow library for use with experimental ADNS3080 sensor
0462774345 DataFlash - modified to use Arduino SPI interface instead of directly using registers.  Also moved "dataflash_CS_inactive" calls to end of functions instead of beginning so that it doesn't monopolize the SPI bus.
bc7c797fd6 added baro_alt_offset back in. Filtering out the effect over time.
78510636db This is how I right waypoints to EEPROM for now.
2ba41bb374 refinements to nav
6e6db9864e Loiter should work now.
121cf0f658 Warning!!! The recent build 1919 was tagged as sparkfun. The trunk is unstable, so please be careful. I've made a lot of changes based on the Sparkfun challange. Most include how we handle things like altitude, but the mission scripting has also been updated as well.
16412abbde added a bit of kI term for Yaw hold.
69b0ae329e Navigation bug fixes, tuning. better handling of sonar at angles and baro mixing. - optimized for flats. Crosstrack test bug found and fixed.
a8b7505268 Lots of little things. Yaw control is updated based on Jani's logs. Thanks! Takeoff now works well. better logging. tuned down kD for Yaw - was causing some bad behavior. Auto mission now resets when entering mode.
62c123f6df Minor Yaw update, Log adjustment, Main loop slightly faster at 125 hz
fe6e0d2f44 Yaw fix, Logs updated to do better Yaw Debugging Landing is now rate limited updated command desctiption.
757a25553d updated Logs to give me better Yaw information
38e57bccb0 Added delay option for WP_NAV. The copter will LOITER in seconds based on p1 value. This turned out to be functionally identical to LOITER_TIME so I combined them.
a107587af6 update dataflash for 528 and 512 byte pages
e579f4a6aa Removing BinComm because we're using MavLink now
60a8f1dab7 removed legacy_do_not_use directory and contents as it's just messy to have it hanging around.  older versions can be retrieved from SVN if need be.
588599d841 Added float for CH6_Y6_SCALING value.
f6f5a0c8dd Added rudimentary tuning with CH6. Assign this to your Flaps knob on your radio. in APM_config.h set your desired option, then upload. The knob will adjust the value in real time. Enter the CLI and run test, tune to see the output value.
fa7168c892 init dataflash before entering menu
0db3f100cc Reworking Yaw some more. Yaw is testing really well with this version. I have moved Pitch_Max to a different part of the code. It was limiting SIMPLE mode which was bad. Now it only limits in Auto modes, RTL, LOITER, etc.
30e304cf18 shortened Menu by a few bytes
b861895b7f moved some math around for Loiter code. Added more notes
4ae6c5c0ac added false start fix for takeoff
b1d76e40c7 removed Sonar, now test Altitude
e9702efada lowered Pitch max for nav
7aa34211b6 Better CTUN Logging
f54f75140e Better CTUN Logging
e5723a20b6 Better CTUN Logging
7ed78fd40b Better CTUN Logging
a693a33164 Log fix
d3b12b99de Logging fix's
12a78ecbdb just formatting
e0834ed0f2 my quicky GCS debug library
c07f6fb25f defaulted to 38400 baud
e74dabca33 Added more wp options
43d61db2ed Fix ACM Logging was logging PM out of control.
c5959f0e46 Yaw offset for simple mode now recorded when Arming motors each time. Yaw behavior has been re-worked and seems to be fixed now. Works fine in my shop.
27e69d73d5 ACM mavlink update/log fix
66d3587b62 disabled dampening on yaw for now. will fix tomorrow.
9b96a18ad4 Removed all calls to legacy trim_radio(). Handled by radio setup. Added AP_Var Fingerprint checker. Will not let users fly with OOD firmware. Tweaked Yaw to give better response. Let me know how it goes. It looks fine, but I've not flown it.
2c3f6052db Altitude control fix - trying to go higher would make alt hold reset to 0 Yaw fix, improved PID defaults potential logging fix
0b6e664eac temporary - forcing WP yaw tracking in Auto.
dd16a000cb preparing for hexa-x and hexa-+ frames, code updates
478af67099 preparing for hexa-x and hexa-+ frames
c8c8d2cde2 fixes a yaw Rate issue.
06d0b9859c commented out debugger code
608a089d68 added a limit to throttle_input = 800 for stability insurance found an odd bug in SIMPLE mode that broke LOITER mode. Fixed
828f0b0443 removed the throttle min max settings for user config. turned off altitude interpolation for now. removed the "Dampener" setting in config. Using less confusing kD instead. removed throttle_cruise reset in events.pde for RTL - would cause a crash. added I term for pitch/roll for when flying greater than 20
18c4b79a1e Fixed bug in compass tests, had it initialize fastserial.
2d1b59e9a6 Eclipse makefile support for examples.
c1b6032e7f Eclipse makefile support for examples.
b1fcea4308 added minimum of 1 meter to alt hold
50bd55107d revved Params firmware version
395e642f3b fixed typo
5d63a05de7 added better value for Sonar minimal value for landing removed FBW mode - no longer needed added set_throttle_cruise_flag to auto set the throttle value for alt hold added altitude minimum option for waypoints added support for relative WPs added support for Yaw tracking per WP in options bitmask
0f253bd5b8 Fixed rc channel.
d36869494f GPS: fixed the idle timer
6b349d0aff Removed AP_Controller.
947ce48e81 Fixed controller prototype for update.
3746ddf970 Updated Car controller demo.
ea63560e00 AP_Controller update.
8c44ee2ac6 missing }
4660bb87e2 updated test mission. It now passes the tests. Be sure to verify things are working well before flying.
e8c40234a6 removed the on-the-ground limitation for setting simple mode bearing.
5d4b8d9913 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1840 f9c3cf11-9bcb-44bc-f272-b75c42450872
5ef54d2de4 found the issue with stability - something to do with APVar. commenting out 	setup_show(NULL,NULL); in startup_ground() causes some values to misload??? Or maybe it's a delay thing.
6b405c5831 minor change to GPS
f2a9d38393 Y6 frame, motors changed to All TOP CCW / BOTTOM CW
bae1c531d0 ADC Library - reimplement overflow
72fc8a1f51 Added interactive control for altitude in Loiter (position hold) and Altitude hold (mostly just used for testing).
294d6752fe Hopefully this fixes the GPS init bug.
cdcee09e0d Fix adc issue causing serial problems/other issues. (DOUG please check)
c8281da5ec FastSerial Fix
63f8491ad3 RC_3 - the throttle channel dead zone upped to 60 to avoid noise issues
f8a718e645 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1824 f9c3cf11-9bcb-44bc-f272-b75c42450872
2a4cb2095f GPS is disabled in this version to debug some bad behavior. If it doesn't stabilize well. Let me know.
6ee6000302 Temp revert to previous version, while I hunt down a bug.
eee391e6d9 implementing yaw tracking.
2c17164de4 Configurator.Net: Fixed Occlusion of Mag Enable check box
eead295208 Better implementation of the GPS sensing. You must now be on the ground and before you cant set the initial angle for Simple mode.
8daed835c8 Configurator.Net: Label changes only
17c6acd310 reformatted
8ca3ab6f62 Revved the firmware version. Updated the motor spin up issue - this is the I've not set my radio up properly issue. updated 200ms motor spin up issue with the Libraries - for those who have ESC's that don't do sanity checks.
46e8c2e67a GPS Light fix
f8b0c61e63 updates - support new test mission  - Liftoff, spin, land updated scripted Yaw control
43cd36e5b6 Added back some APO libraries.
0a00e4ff21 Print the key associated with a variable when the variable is printed using AP_Var_menu_show.
76a5a48206 Add an interface for locating a variable by key.
250c800187 Yaw fix for Max Y6
596b33a08b Change waypoint/command storage to include options byte.
bf507ffe6d cleaning my branches for updates
28e363b634 undid accidentical commit of local changes
2754a32000 fixed printf() format error
857ca3f5be separate out automatic reset of modes and radio
2937acc2a2 added ALWAYS_RESET_SETTINGS
c8fd23ac45 allow configuration of motor arming condition
828f97f474 tridge: report mode switch changes
216379e286 tridge: my config
ae9ae7f946 adapt send_text() for typesafe PSTR()
a633617eef added -Wformat in Arduino.mk
860998d337 implemented typesafe PSTR()
66c86e9a87 a basic mission uploader
5008c1656b MavLink Update
ed202447e6 a basic mission uploader
bb285a248b implement mavlink messages
783656b574 Added Y6 support
2850ac6c74 mavlink: support MAV_FRAME_GLOBAL_RELATIVE_ALT
d70703aa62 disabled tabs in emacs formatting markers
f9469507c0 make it possible to enable RC override on non-HIL setups
f0458631a3 added send_text_P()
8ca4986375 mavlink: merged in changes from APM
2427931550 added update_events() prototype
51df8d1d9d HIL: fixed a build error with HIL
613d414908 mavlink: reduce the number of message buffers to 2
c931bde863 added sonar test
31e93f8198 mavlink: sync with upstream
6268eae835 added dummy save() method to AP_IMU_Shim
acb0525bf6 removed startup_IMU_ground
94d34ad117 Fix for reversed pitch in SIMPLE mode.
42caba7d8e Mavlink update
b66db9f839 fix for Loop timing issue.
c1f785df66 removed debug code
41c9b1edd7 Update to get SIMPLE mode running. Seems to work!
bd8c72958d Added new Simple mode - Better version of FBW that is offset by initial yaw angle and not north. Added new navigation control based on bearing_error so we can leverage Crosstrack correction. I've done limited testing on this.
e5fe9231f3 alignment with APM 2.0
1c9635b058 cleaned up unneeded integer in xbee test
b652f2d571 Update rawgps cli test with indicator LED.
90aa2d6d83 fix for Logging, motors_out buffer overrun, formatting.
f52f27ef67 enable logs default
844cc5da44 Fixed new Xbee Test bug
65037481a2 New Xbee Test Implemented
d279cc49d2 Remove a stale reference to APM_BinComm.
f255e4ed1e ACM fix old mavlink reference. (use new GCS_mavlink library)
ecca178dfe Applied changes for rawgps cli test mode.
8435b3bd25 lots of minor changes, Logs should be working better now. Pos hold is now called "Loiter" - I don't want to have a flight mode called HOLD POS...
bb715378a1 removed options - not going to go that route without proper GCS support.
49b3f8bbb2 lots of minor changes, Logs should be working better now. Pos hold is now called "Loiter" - I don't want to have a flight mode called HOLD POS...
ded4f8d83f added C coding style headers to a few more files
975f8ff006 Mavlink update
92bf4c4e0a Add method definition for set_centripetal()
9e26bc814a fixed PID setting bug.
dd51d0730a moved Mag offsets to "test","stabilize"
1cc6ba3da9 Added break feature on yaw control. Please verify it works properly before flying.
9b79904a5e Added break feature on yaw control. Please verify it works properly before flying.
6b99e76fcb bug fixes and updates
b0e6f40562 bug fixes and updates
2958ac7787 HIL: we need very fast update of motor controls for HIL
c07dccd77c mavlink: fixed store of parameter values to eeprom
a82434b00a HIL: fill motor_out[] when disarmed, so HIL sees zero values
7daf00a618 upped WP to 15 bytes
ec5029e4fc Configurator.Net: Fix Magnetometer enable
ed46609c9a Just aligning  tabs
0b2d94950f Added support for WP options
afa8be2008 Added support for WP options
852b3874d5 Added Options Bitmask to Location Struct
3b19ab773d mavlink: fixed parameter string handling
26066291cb fixed the flight mode channel parameter to match current APM trunk
b7e70bb1e6 added radio override via MAVLink
7691133230 mavlink: fixed build with MAVLink and HIL
988149a1c9 Big changes in the way commands are parsed and mission tasks are done. Not tested at all.
44ae403508 Configurator.Net: Added heading visualisation
bf37f35567 Configurator.Net: Added BaudRate option
8dbb0ed47b Add member/method to allow HIL to override radio values
13159421df Configurator.Net: Added GPS status view
342c60e748 Configurator.Net: Added heading field
e20b350a89 Configurator.Net: Added motor armed indicator, auto refresh of com port list
195b695011 Fix imu_health metric
ec7c508207 Change gyro/accel calibration to guard against improper orientations or motion during cal
957e1a747b Should be flyable now. Please Use Reset in setup before flying.
5d81f37b37 removing unused file
7e8dc1a69e removing old EEPROM.pde file
925215d70b removing old EEPROM.pde file
95dcf341e2 removing old EEPROM.pde file
de79a3b86d Configurator.Net: Complete change to crud VM updating
a44e90369b Configurator.Net: Added App icon, more spin buttons, change to update logic to CRUD vms (untested - do not use just yet)
2b69769843 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1719 f9c3cf11-9bcb-44bc-f272-b75c42450872
361ed51533 Configurator.Net: Added Publishing info, Changes to sensor display
d27aee15b1 Configurator.Net: Creating new circular indicator for the motor power display
29a486c519 removed unused save_trim() function
b5aa056cc4 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1715 f9c3cf11-9bcb-44bc-f272-b75c42450872
88092463ad Configurator.Net: Designer changes
f3d7c02b45 Configurator.Net: Appearance of sensor view
a850e315c9 Fix hil issue
50e427fa95 Configurator.Net: Tx calibration changes
3121f943c0 in progress updates, don't fly
5f36f7fbdd Configurator.Net: More work on TX calibration
fd771175b4 added mavlink
86ca9562b5 Fix ::set_and_save to return the result of the ::save call.
5fe288dd43 Fix the return value from ::save() on AP_Var_groups so that the caller can verify that a save was successful.
6fa1a9576e fixed printf_P bug
e85b2d3c17 Increase the maximum save size to 64B, so that a Vector3f can be saved.
9c446dbd35 continued APvar int
887a034fe9 added more time to IMU startup. added more accessors and removed private flag.
b28fb0a63a continued APvar int
84e6d600f4 Configurator.Net: Transmitter calibration (In Progress)
5085656e0d AP_Var integration continued....
b81d2ef753 added names to output in show
e8a458f6d1 AP_Var integration continued
72e112e8c0 Fix AP_Var::load - it has to ask the serialiser, not the unserialiser, for the variable's size.
f16a7a6ab3 AP_Var integration continued
934df2e9f3 cleanup
a329aa18fe Consolidating APO.
33a720bbaa Cast AP_Var types for safe printf calls.
97e38b44a8 added fake_mav command
240a3a2f2a quick.fix
1da51e72ec quick.fix
00209c82a9 Added setHIL to GPS.cpp
6b4f84e267 Mavlink update.
295b4277f0 fix compass shim
ee0c1176d5 fix imu shim
2196d47d08 updated to AP_Var
3b1903e6c8 updated to AP_Var
6f32b9e408 updated to AP_Var
02b0e92d5b Added MAV_CMD_NAV_R_WAYPOINT, MAV_CONDITION_ANGLE
59aa6be2e5 Added MAV_CMD_NAV_R_WAYPOINT, MAV_CONDITION_ANGLE
b6245b471a Added accessors declination.
bda94006a1 Added accessors back for Accels. I need them there until we need to find another solution.
6f817ba8ae git-svn-id: https://arducopter.googlecode.com/svn/trunk@1675 f9c3cf11-9bcb-44bc-f272-b75c42450872
869e0d795f Configurator.Net: Fix for extra sensor readings for RC2
bd9c7de109 Correct factoring issue for AP_GPS_IMU XPlane HIL interface.
48d6a3690c Fix type of g.throttle_min/g.throttle_max
12cfc19f0b Compilation fixes per request
12240d5ad8 updated Param gen - won't compile yet.
a0e2094ab1 updated Param gen - won't compile yet.
a243039dc1 updated Param gen - won't compile yet.
e14e77c151 updated Param gen - won't compile yet.
1716a41a97 updated Param gen - won't compile yet.
637ca47b4a Configurator.Net: Added Sensor Calibration to main sensor view; killed old calibration tab
1fb955bdcc Configurator.Net: Kill old VmBase class, update sensor and Tx views
4f514faf97 Small bug fix for HIL gps when using auto-detect
7ca9081238 DCM needs a reference to a pointer so that we can change the GPS under it during init.
bffe20ed5e Add a little code to track the amount of memory used by AP_Var subclasses.
a5ada4aec7 Add saturation and sink blocks.
0cfa2dbea1 AP_Controller working.
6788def679 Debugging controller.
e2d4c9e901 Use a more explicit loop termination condition.
fabcfd942b Don't return a name for a variable if it has no name, even if it's in a group that does have a name.
c52b459a53 Variable names must be PROGMEM strings.
b37c09d56e Configurator.Net: Refactor of simple Update/Refresh Vms
991acad1f0 Add a constant that can be used to identify groups.
944825772d Use AP_Var to store PID scaling values.
1dd50ec263 Use AP_Var to store channel calibration.
86fda84749 Use AP_Var to store accel/gyro calibration.
a4e791dc92 Line ending property changes.
f10cbb011f ::transposed does not change the matrix; make it const.
cc06f07067 Major update including AP_Var support.
0ea1845f38 Eclipse project config changes.
0b60757b43 Add a template AP_VarS that handles arbitrary structure/class types.
0436916609 updated formatting, baud
b6c552212e updated formatting, baud
0b6454aa0b Speed IMU initialization
8e542512da Change ADC overflow correction
f6cd2a6093 version number for tag
bb9e92c83b alt hold updates
7c1126b8b4 Configurator.Net: Spinner buttons for P terms
a2d00fefb3 Configurator.Net: Adding Eeprom Save/Reset to default commands
ede88898e7 Configurator.Net: Combined some tabs, refactored Vms (disabling tests for now)
a445baaad4 alt hold updates
253307e2f0 AP_RcChannel demos updated for AP_Var.
6728355889 Fixed alt hold
4ea9192ab8 Mavlink update
07c1ec3623 Fixed AP_GPS_None bug
152f0a12df Fix Mavlink include
fdf277428e updated dual kp alt hold
c22d86f6ea float update
fe2b4eb7da debug code updated
6e396284a5 debug code updated
a3d88b25a6 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1623 f9c3cf11-9bcb-44bc-f272-b75c42450872
473cc263bf updated angle boost.
0371847faf gyro test now includes sin cos out
b8bb12a6d7 simplified protocol
365980ebf9 improved FBW control
f03df257f3 improved rotation vectors
61d65f652c Fix for log() being a bad idea.
dbdabd8707 MavLink Update
8c76c8c936 Add code for auto magnetometer offset nulling.
4632dd2f29 Implement a cast_to_float method for convenience; at a cost of a couple of bytes in the vtable this will save many callers having to play type introspection games.
3108d661d2 Correct knots -> m/sec conversion.  Thanks to Paul M. for spotting this.
2584f9a1f1 APO Compiling with new AP_Var!
af1ee477b9 Working on updating AP_Controller/RC_Channel for new AP_Var
f291e862d4 switch compass orientation back to default
db478f6536 beefing up nav
d373278068 trying to improve alt hold.
dcccaf4ca7 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1607 f9c3cf11-9bcb-44bc-f272-b75c42450872
7c15a4dc04 setup 0 default for d term where there was a conflict with external dampeners
c3c4fd5439 adjusted filter for faster response
b56bcc25ba upped buffer
fa63a199b8 updated gains
6fec86ec54 removed debugging code
9f50924980 updated airpressure test
c512a0ab64 removed D for nav, added extra timer for FBW and Nav.
20a57b8932 added error limit to alt hold
d1e9d62072 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1598 f9c3cf11-9bcb-44bc-f272-b75c42450872
ea8acd664f fixed inverted cos error
76f0d1739b git-svn-id: https://arducopter.googlecode.com/svn/trunk@1596 f9c3cf11-9bcb-44bc-f272-b75c42450872
9ec8e29b7b git-svn-id: https://arducopter.googlecode.com/svn/trunk@1595 f9c3cf11-9bcb-44bc-f272-b75c42450872
dee6c8e557 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1594 f9c3cf11-9bcb-44bc-f272-b75c42450872
6fadbb83a7 radio flaps set to 1000
641aeefbf5 clean-up only
7b9ede0b29 new Hexa code
4079127e5d Configurator.Net: Added High/Low watermarks to transmitter controls for calibration
e620eb1326 Change MediaTek timestamps to millisecond Time of Day Add epoch method to return timestamp epoch.
586ed36f41 incremented version
8fadc32000 added ch7,8 to init for hexa quads
a99ec67d5c updates for CGS
8e32e2f4c2 Changes from flight testing
a20390ebb3 Configurator.Net: Transmitter Calibration - Max/Min watermarks for indicator controls
b614aca274 Add a template AP_VarA that defines a variable that is an array of some basic type.  This is like AP_VarT for arrays, with minor changes in behaviour consistent with the difference between regular variables and arrays.
ca0005db2a Comments, minor consting, use a better target for sizeof in AP_VarT
b60480fac0 Minor whitespace fixes.
4dcc1a905d FBW bug fixes
b3c9bf270f Add FinishWrite method to the DataFlash class to support using an index system.
c7f162ed51 New feature prevents startup of motors.
bb32628194 Configurator.Net: Added visual indication of origin for gyro/accel indicators
4cf16f67c4 fixed Current logging output.
70f11ef88d fixed PM logging rate.
b3334b71bd small fix
1c9a53ec81 upped the camera behavior for Max
42c7423802 upped the threshold PWM for Max
f57887ee4a adjust tri frame output to not output 4th motor
3443a7817d Add reversing for PWM outputs in angle_to_pwm case.
bf3b5c2f7c Configurator.Net: Mono tweaks, Port list is populated on startup
cedcd47073 Configurator.Net: More tweaks for Mono
0b2008f581 removed debugging
e6fe75c9aa fixed FBW bugs
82a257982a Started updating AP_Controller and AP_RcChannel for AP_Var
557b5c7615 Configurator.Net: Added new indicator control that is purely drawn, rather than using a progress bar (Mono issues) Removed old controls based on the winforms progress bar Started adding some hacks to work around Mono binding bugs
4c8c09edac added instructions for Acro setting
e977116f9b new rate control, FBW fixes, new safety.
000eaf6a68 Mavlink update
c18fd76449 Try to pre-empt subsequent inclusions of wiring.h by grabbing it here and giving ourselves a chance to undo some of the less well-advised macros it defines.
c9227dbcaf fixed a scaling bug in imax
d905bbc551 removed counteri - is moved to a static var in motors.pde
3a385e3170 Moved output to motors.pde
cc540ae730 fixed imax scaling bug
a32c082777 better default config
9d5937db52 improved throttle PIDs
34f43934da Move the unit test framework out of the unit tests.  Add unit tests for the k_typeid_* constants.
b58693f203 Add a function to AP_Var for finding a variable by name.  It is not efficient, but convenient for e.g. interactive use.
2caea855cd Don't include AP_Vector (in preparation for retirement) and AP_Loop (because it's not being used by APM*).  Interested clients can still include AP_Loop if they need it.
2f263229f9 Rename AP_Meta_class::AP_Type_id to AP_Meta_class::Type_id in keeping with the coding standard.
8c9ece1f37 Fix a serious typo, add more documentation.
7a3d33844a Move the Test unit test framework out into its own header, so that it can be used by other libraries.
e449757510 hexa frame setp
8cc7e658b0 Simplify AP_Var_group::_serialize_unserialize slightly by removing some variables.
4b21f3485a Improve performance when saving a number of variables that don't have space allocated in the EEPROM.  This avoids scanning the entire EEPROM every time a variable that has not yet had space allocated is written.
655f7a21ff Fix ::save_all/::load_all so that they check the correct criteria for opt-out.  Now load/save_all work.
e7da843d90 Fixes for EEPROM space allocation and mapping.
39fea200ca I never liked the plan that variable groups could only be statically scoped; it was much too fragile.  These changes address that issue by splitting the global variable list into two lists, one for standalone variables (including groups), and one for variables that are members of a group.
de71731994 Add a templated version of AP_Meta_class::meta_type_id so that you can get a type ID for any named type without having to have an instance of the type lying around.  Update the comments about caching type IDs to reflect its availability.
8901d8a238 Added Arming light. LED A solid = safe, blinking = armed.
b912b7e0eb altitude was set to sonar pid rather than baro pid
b830afd678 was adding throttle cruise twice.
aaa19ebbfc Added ability to exit the GPS test loop.
09df4b35ea updated and tested the auto-trim mode of the accell offsets. Works great, although it's slow, only .6 a second.
7205208801 Added failsafe radio test!
39b718fce0 Implement the missing AP_Var_group::*serialize functions.
30d9a92c4e Implement a pure data serialisation load/save model for AP_Var.
60f766f9e2 cleaning up the instructions for use
a6a4fffe46 minor navigation updates, added new copter friendly altitude control for navigating waypoints.
49b387e874 made I term 0 by default
baea026e59 New updated CLI for setup. Cleaner and better defaults and reporting of values.
05f8162d81 changed casting
f5fef60e03 removed access to kD = use the dampener instead
1606e1a8e9 updated the stabilize_dampener variable
1fca47fc9b Added current total to the log. Logging at a lower rate. decreased size to ints.
08a2fbfdd0 Added current total to the log. Logging at a lower rate. decreased size to ints.
05622fe225 Updated AP_RcChannel for AP_Var.
3ad113b4b9 Renamed the loop timers to gain a new medium loop delta. Fixed an issue with the navigation timer. Updated the current sensing. Need to add a low voltage or current trigger.
0328f926b5 Reinstate Float loading and saving
50c3b2e4fd Add initial values for scaling and dead zone to RC_Channel constructor
548fc9debf Added support for the AttoPilot Current sensor, Logging current is enabled at 10hz, Trim is now called again on pitch and roll, now that trimming can be done with adc_offsets. Fixed setup::motors for x frame.
5e0fff1618 Add back AP_GPS_IMU to provide Xplane functionality
80689920af Added getter functions to accels
96d2dc33fe Formatting and naming changes for conformance with the ArduPilot Coding Conventions.
610e26db36 removed unused EEPROMB include
c960235f7e Flipped the signs. Should be right.
2b35c91775 Added new leveling command. Hold the trainer swicth - ch7- in and the copter will adjust the ADC_OFFSET based on the roll and pitch command needed to straighten the copter. no roll and pitch input means no change. Flicking will still update the throttle cruise value. Please check I have the signs correct!!!
5113a12144 Deal more gracefully with the case where the incoming PPM stream has more than 8 channels encoded.
dc9c29e8f3 TradHeli - updated Heli.h to use AP_Compass instead of the outdated APM_Compass.  Also changed autopilot on/off switch to be consistent with Quad.
cf7488317d Implemented new DCM based yaw independent heading controller.
cbdf462acc Update to current MAVLink dev branch protocol version.  This has NOT been tested yet.
aaf125e441 Based on explaining AP_VarNoAddress to Doug, improve the description of the value.
8423ab6364 added better default value for longitude scaling
521d7ab424 added new FBW test to develop new nav functions
a80b4fbb69 added new PID nav functions to split lat and long based on Randy's work.
3ed6e0fc87 added new PID nav functions to split lat and long based on Randy's work.
53ec770da4 added new PID nav functions to split lat and long based on Randy's work.
83687a43ed added new PID nav functions to split lat and long based on Randy's work.
1ae7f54aef added reset I functions for new pids
e8734783bb deprecated older method of finding pitch and roll
b346d003e3 increased PitchMax to 22 to match NG
40b7bc2e3c This is just a test for SVN
52a0a03d56 Bring AP_GPS_Auto closer to ready for prime-time:
fdde092213 Extend the logic that preserves buffer sizing on re-begin by also avoiding freeing and re-allocating buffers when they don't change in size.
bcd3e7db56 renamed err to altitude_error
cfea6b014a not used
a6d8242263 Changed "rate" var to float from long.
bb7e3af943 Moved implementation of alt hold from NG to ACM. Tweaked the nav pitch and roll commands to no longer use bearing error. Angle boost is now a lot less thrust. I was getting too much added thrust when pitched at 45
1a9a76c2ab Added Sonar to setup, removed Level, compass is now done with text based on and off, compass renamed to mag_offset
b6f8c1b6cb Added Sonar throttle gains, new default dampening gain - STABILIZE_DAMPENER - which should be equivalent to NG.
6c9a59541e Added Sonar throttle PID, renamed old throttle PID
f7cd2301d2 Added Sonar throttle PID
842f3c569c Added Sonar and Baro enumerations
eb39264834 Update the NMEA example code in conjunction with the new parser.
cad260a481 Implement a completely new NMEA parser based on the TinyGPS parser by Mikal Hart.
1bfcdaa2cb Add a delay after sending the GPS mode switch strings in an attempt to give any NMEA data time to drain before we attempt to sniff again.
dd6ede36ee Add more unit tests for AP_Var.
6366cdc094 Add more documentation for AP_MetaClass.
44cac7a853 Add a new macro PROGMEM_STRING that can be used to define a constant string in program memory.
07dec5e1b7 Use operator new from AP_Common rather than our own.  This also makes AP_Common available to the GPS drivers that work with AP_GPS_Auto.
8c9a5d36d8 Add documentation and reformat closer to our current code standard.
2c0e8515d5 Add a date field to the standard GPS data.  This may be zero, and its format is TBD (may be GPS-dependent).
1448b6991e AP_RangeFinder_test.pde - corrected some inaccurate comments in the code
e299d5f58a Add a flags byte to variables, and implement a "no auto load" bit that opts variables out of load_all / save_all.
c0de571afd Save AP_Var's initial value as a default value, and add a function for restoring the default value.
0e868ca343 More unit tests.
765cef724d Fix the assignment operator overload for AP_VarT so that direct assignments to the type work correctly.
814a16000a Simplify FastSerial::begin baudrate calculations in line with the changes made in Arduino-0022
538e0ec2bb Added Tri-copter support for Max
f28b5f1c04 ArduCopterNG - fixes to sonar/barometer altitude hold.  Fixes bugs including:      1. bad values from sonar were allowed to feed into altitude PID control leading to little hops      2. barometer altitude hold was disabled if sonar wasn't present
e0607712a3 AP_RangeFinder - tiny bit of extra initialisation on table holding averages
d8046957c6 Unit tests for scope-based address offsetting.
63643f73fc Move the AP_Var ctor out of the class definition; it's big enough that we don't want to inline it.
d2bd744244 Metaclass improvements:
87a1043f25 Added Tri-copter support for Max
d7fccd1aa9 Checking these in makes the libraries too bulky.  We need to host them somewhere.
ff256d95e2 Added Tri-copter support for Max
9c9c541a51 ArduCopterNG - #1 - changed GPS hold to ver2 which builds up PID's I term on the long + lat instead of roll+pitch. #2 - added ability to use Sonar and Barometer at the same time for altitude control (it uses Sonar if available, but if not uses Barometer).
ef673e5162 AP_RangeFinder - changes to allow sonar to work using pitot tube.  Also moved most functionality into RangeFinder class instead of child classes.
57f3f4e65b Beef up the unit tests for AP_Var.  Most of the basic functionality is now covered.
277105c437 Rename the base class for variables AP_Var; less confusing, less to type.  Rename the template type instead.
ea9c7859f8 Don't allow the default serialize/unserialize to be inlined.
a02136236f Add the ability to find the sketchbook when called from a Makefile in a library example.
a3a9fe59e3 Following discussions with James, a complete rewrite of AP_Var.
8ce92b6711 Big update - motors re-assigned to new positions. New, fabulous Yaw control.
cc86861b26 ArduCopter - moved to "legacy_do_not_use" directory
851101218d APM_Compass - moving to "legacy_do_not_use" directory
68be029a17 Don't define constant AP_Var's extern
a8349f3b74 ArduCopterNG - Sonar - modified code to use AN5 to match the wiki
634f2734b5 Added AP_Controller library.
4e421a319a Updated docs.
cd341cef90 We should call imu.update() before asking for accel/gyro values so that we get timely, fresh numbers.
3f30b897fa Fixed non-standard value in RcChannel examples.
95e66d9f06 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1374 f9c3cf11-9bcb-44bc-f272-b75c42450872
852c9e3cc8 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1373 f9c3cf11-9bcb-44bc-f272-b75c42450872
5b79ed9f53 Updated RcChannel examples.
8bc3fc599d Fixed casting issues with EEPROM Registry
5f15380877 cosmetic
86feb8bf7b Fixed issues with RcChannel EEPROM var ownership.
23e78d0f4b Fix/improve depdendency handling.  Deps are autogenerated on the first compile pass and consumed on subsequent builds.  This helps work around the difficulty of building the 'clean' target with Eclipse.
7bc153f038 More awk-related changes.  mawk hangs on the parser scripts, so try gawk; it's what we'll need for cygwin anyway.
f0f13752d0 We need TOOLPATH even when ARDUINO is defined.  Refactor.
f65076dccc Adjust the awk scanners to deal with the somewhat less featureful awk found on many Linux systems.
0dac8fca62 Better TOOLPATH handling for Linux
4d490359e7 Try to find the AVR tools on Linux
c1e9a04ce6 Add Eclipse project metadata.
2ec1d69a0f Move Arduino.mk here.  This library should always be present in a constant location for our projects.
e3041f08fe RcChannel now owns channel config params.
f2f38f2e71 Make the GPS ctor protected so that it can't be accidentally constructed or copied.
75e78dabae Back out the memset optimisation.  It helps with code size but causes inexplicable link-time failures (undefined references to __cxa_pure_virtual).
a446389c8e git-svn-id: https://arducopter.googlecode.com/svn/trunk@1351 f9c3cf11-9bcb-44bc-f272-b75c42450872
669e276da6 Curse you, CodeLite.
ba6ba990f0 Undo the ^M nonsense that CodeLite pulled.
67aa0cd92d This shouldn't be here.
7ca8aa323f Moved examples.
c6eb6c574b Updated RcChannel examples.
faa2b9909e Break AP_Var and friends out into their own header.
f8ed279b14 Fix over-clever macro.
bf59d7abc7 Update for changes to AP_IMU
94fd2431e4 Implement an abstract IMU class.
632d0f574a Don't actually implement __cxa_pure_virtual, we'd prefer to have link-time errors rather than classes with pure virtual functions.
5faadf4cd1 use memset rather than explicit assignments to zero to zero an array, this saves code space.
eb81becdb6 Pure virtual classes should declare pure virtual member functions as 0, rather than having the linker go looking for implementations elesewhere.  This lets the compiler generate better error messages when a subclass fails to implement one or more required functions.
6f4e63e8b3 Move ToRad here to match ToDeg
9b1863f4b2 operator new[] should return a zeroed class object just like operator new does.
c1f19797d9 Add a GPS shim class that lets an external agent update the pseudo-GPS properties. This should obsolete AP_GPS_HIL as it's a little more versatile (and it will generate cheaper code).
44b95ac5b3 Improve documentation re: macros used to define serial ports.
482f124212 Added macros to AP_Common.h
498894317a Improved AP_RcChannel examples.
3d529b3a51 added channel examples
0738870e64 included setup process
f683d9bb77 Added changing values to RcChannel test.
3f61f5aa49 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1320 f9c3cf11-9bcb-44bc-f272-b75c42450872
54fa069f10 Fixed include problem in AP_RcChannel.
55667fd905 removed EEPROMB references
7dd1b3cbe7 removed EEPROMB references
ef160226cc cosmetic
10036c7277 fixed a bug on Yaw.
94ebc7860c fixed a bug on Yaw.
cdb6ad86d3 some bug fixes, added basic camera leveling example for pitch only. Added DCM test. Added better Yaw gain defaults. Split radio and RC inits into two calls. Removed inappropriate auto_trim function.
2bc568e3b6 some bug fixes, added basic camera leveling example for pitch only. Added DCM test. Added better Yaw gain defaults. Split radio and RC inits into two calls. Removed inappropriate auto_trim function.
c2458845ee added basic camera output example
bf3ee6f843 fixed bug
6c10842562 Fixed PID error for low pass filter.
b90508e777 Retire the old FastSerial code.
65b7c00689 Fixed comment style for doxygen.
47d8320e54 Removed version/ timestamps to avoid html mods
615bd78fef Modified doc script.
23bddca1af Updated doc script.
3f0db9c0f0 Updated documentation.
9ee30a4eee Modified doc script.
80a22834af Removed junk files from doc.
9770a743d2 Added doxygen doc for library.
bce0c6723b fun stuff
7e1a4d4a38 bad throttle boost code fixed.
94f2d4e66e throttle Cruise error fixed
d4c3574a88 Added FlyByWire mode.  Simulates Position hold using the control sticks. Untested. Reset your "modes" in setup CLI before flying this code.
e259a22f2f Internalized APM_RC in AP_RcChannel
f10107517a git-svn-id: https://arducopter.googlecode.com/svn/trunk@1268 f9c3cf11-9bcb-44bc-f272-b75c42450872
7329cf6100 latest updates
03ccf8aef8 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1266 f9c3cf11-9bcb-44bc-f272-b75c42450872
5d7d0aea80 ArduCopterNG - added altitude hold using Sonar/Rangefinder
68eec6805a update use EEPROM class, new scaled input for RC_Channel
31f33ccfd8 RC_ChannelB rename.
fb6d537156 Fixed comments.
76b4dd5f73 Fixed RC_ChannelB errors.
28a29923e8 Working on RC_ChannelB example.
60f9a6d216 Added AP_Variable.
3ce38444b5 Added alternate RC_Channel class.
8bd5cd041e Fixed EEProm for new vector style.
0a4bc9b172 Added Loop class.
7e76b64515 Give AP_GPS_None a ctor so that it fits in.
8da4a29d58 Add support for the DIYD MTK v1.6 firmware Nuke AP_GPS_IMU, as nothing is using it anymore. Simplify the handling of no GPS/no fix detection. Fix prototypes for ::init and ::read. Update AP_GPS_Auto and corresponding example, nearly ready for primetime. Use uint8_t rather than byte. Strip some _error() calls to save space.  More could still go.
f682c4bf32 Added EEProm file.
9e983c452e Some EEProm cleanup.
0344d54d3d Fixed EEProm set bug.
8e34d41cce Improved test program for EEProm, and added sync option, still some issues to work out.
93047fc9dd Added basic EEPROM library back.
7be8e77711 Removed conflicting AP_EEPROM library.
125b971173 Updated mavlink added eeprom class.
b8ffddb061 EEPROM base class
36ade2aaf6 Configurator.Net: Added Fake Arducopter comms, Wrapped progress bar into custom control, improved Mono compatibility
81ba0d36c2 extras file (work on progress)
77822acbbf preparing for addon features
9eb889d30d AP_RangeFinder - added support for MaxsonarLV and corrected some descriptions and links for the other rangefinders
dccfe83567 Configurator.Net: Fix boolean values, stable mode vm tests
b5a835b6ac ArducopterNG - turn off rangeFinders by default
ab0e8262ce TradHeli - allow user to enter GPS hold mode (and added safety so if user puts roll or pitch too far from center it comes out of GPS hold mode.
0b7fd432b5 Addition of position hold version 2 (builds up I term on log + lat instead of roll + pitch) Addition of obstacle avoidance including new option in CLI menu to set PID values
b9e2dcd124 Configurator.Net: Added more Vm tests
3911f4e6cd Configurator.Net: Added further NUnit tests
f75c7b47ff minor changes, fixed IMU class
c2db64116a AP_RangeFinder - bug fix for cases when analog value is zero.                - addition of filter call which averages the past 4 values
24bb547eae Added some functionality to RC_Channel to meet APM needs.
eb89c04333 fixed missing ; from Arducopter.pde
6fd20d880b min throttle fix
930b09b286 Configurator.Net: Adding Test project
075fb61a92 Added lasttime to GPS HIL.
f544b20747 Mega328 version of APM_RC
80a5016658 Wasn't compiling.
290635b354 Minor code size optimisation; use memset to zero *this rather than explicitly assigning zero to the vector elements.  Still not quite optimal for matrix3 as it gets three memsets, but still cheaper in terms of code size.
47bb4d22c6 Use the presence of UDRx as an indication that the serial port x might need to be supported.
95d683d043 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1191 f9c3cf11-9bcb-44bc-f272-b75c42450872
dfe94bc77e Removed delay from MTK library.
aa115aea68 AP_GPS libs now recover from disconnect or failed initialization.
a257c51a09 Some changes to fix compile errors when using ATmega2560.
c78e001087 Configurator.Net: Added icons for connect/disconnect buttons, tooltips, improved connection logic
82c4815e2c added direct setting of accel offsets
3f9a077dbd Configurator.Net: Initial import
d5cc9946c5 AP_Compass - small change to include file used in example.
fe2d46f70e EEPROM address bugfix
173afc91d1 AP_RangeFinder library.  Simple library to support the Sharpe IR range finder and the Maxsonic XL sonar
363d9156d1 Change the way that we do board-to-board portability to avoid knowing about specific AVR devices; use the availability of registers/vectors instead.  This lets us reduce the overall macro evil as well.
48d1c18dc5 CLI updates
1da23bc3c0 Fix bug in transposed DCM matrix accessor
e194e2fa75 git-svn-id: https://arducopter.googlecode.com/svn/trunk@1118 f9c3cf11-9bcb-44bc-f272-b75c42450872
f64fab442d added ability to get the integrator for debugging
7945937874 added ability to get the transpose of the DCM
e3e8dbb0b3 added ability to zero out the accels
ddd2b585f8 ArduCopterNG - changed to use AP_Compass (instead of APM_Compass)
abacc627d8 AP_Compass - changed include for AP_Math to use relative path (it was erroring for me at least when compiling ArduCopterNG with AP_Compass)
af741882c6 AP_Compass - moved example sketch from APM_Compass to AP_Compass
f94a126061 CLI - small formatting difference when printing SENSOR values from Log to serial port
121f3ee37f CLI - Added ability to dump logs to serial port and erase logs
9ddeb716c3 Corrected adc conversion.
ab8f0d22a4 Updated Altitude control default PID gains. Old ones were bad.
b51613c3a1 Corrected bug in GCS.pde related to Altitude hold parameters
339845770c Corrected default Magnetometer orientation
21634dad19 Added AP_DCM_HIL class.
415786a480 Added airspeed message to mavlink.
b82ba72ab2 ESC/Motor tester on CLI
d8642aeaab new baro/throttle algorithms
c7a8291725 Added --force to svn add on sync script to find new unversioned files.
e2e3b9eee9 Added svn add to sync script to prevent further problems.
37e137a82c Synced mavlink.
1436b034b5 Addresses APM issue 250 Location of mavlink_msg_debug_vect.h corrected Stub for previously non-existent mavlink_msg_gps_local_origin_set.h added
bb5ab746ef SW2 reversed, code cleaning
8764e1bb1d CLI work, flightorientation
0a91b02a93 CLI work, magneto offsets
5778dcebdc CLI work, Reversing DIP1 +/x flightOrientation to match APM setups
887c0b8d4a Updated mavlink.
efa785394a Removed old file.
718bf566c8 rc range bug fixed
9b3b5320fc removing DONT_USE flags and minor changes
d13850c941 Added load_gains to PID constructor.
9c9fd95408 Fixed inclusion guard for mavlink.
1ab6e3158f TradHeli - fixed small bug in yaw control code
c747c43c0b TradHeli - DIP switches now allow you to turn on/off control of roll, pitch, yaw axis.   Added capturing yaw trim on start up to allow I term of Yaw PID controller to be lower   Added D term to Yaw's PID controller   Modified default PID settings for all axis.  Now includes some D term.
a37d1ddb91 Updated mavlink to latest dev branch version.
665dbefbd4 Added storage options to PID.
2f2aaa88fd Added dynamic setting of compass
126383fe43 Bug fix for IMU / DCM
a142d8ee7d imu enhancements
963ee5843e git-svn-id: https://arducopter.googlecode.com/svn/trunk@1004 f9c3cf11-9bcb-44bc-f272-b75c42450872
b66b0f6cce Fixed issues with AP_Compass
b62c287f5e git-svn-id: https://arducopter.googlecode.com/svn/trunk@1002 f9c3cf11-9bcb-44bc-f272-b75c42450872
729cf47b3c needs some help
559229a667 Added HIL and HMC5843 compass libs.
110685f880 Updated DCM library.
45ddbbf982 Updated compass library.
93206020cb Moved Health to DCM, Centripetal correct
275624358d boolean to disable centrifugal correction.
d209f3d59e update - See ArducopterMega in Branch for implementation details
efa2c199f9 update - See Arducopter for implementation details
4ef6bd673f added trim save
2ac2faf7a7 git-svn-id: https://arducopter.googlecode.com/svn/trunk@979 f9c3cf11-9bcb-44bc-f272-b75c42450872
a64c5ef782 Correct misunderstanding about the intent of the external gain array.
14f500a688 introducing flight frames and mixer tables, work
4ddf743cae Deleted APM_RC_QUAD library which is no longer used - we should all be relying on APM_RC now
590a1cd942 CLI stepping leds
29be59b76d Changed magnetometer to it's defaults
4a4fc212cf CLI info leds, mode fixes
85dc8a2cc4 ArduCopterNG - fixed small bug in the throttle safety check.  It was turning on the safety mechanism after the user had held down the throttle for a *cumulative* 1 second when it should turn on only when the user has held down the throttle for a complete second (i.e. all at once)
3a13180e97 ArduCopterNG - implemented safety check for throttle.  It automatically engages if the throttle is held low for 1 second.  It automatically releases if you somewhat slowly increase throttle.  If you very quickly move it up (i.e. increase by 100 points in 5ms) the engines will be disarmed.
44f2139951 added filter option
7a0fcd6f59 Full HIL working!
4e4a1bc375 Added inclusion guard to menu.h
40f1d184a1 Cleaned up AP_ADC_HIL
458dfde81d Move the warning controls for APM out to AP_Common. This makes it easier to grab these for libraries uniformly.
72cf1b4e57 Add a default ctor; due to 0 being magic, PID pid(0) is ambiguous.
da65814ece Use fabs() rather than abs() for floating-point values.
2bf62274ab Use fabs(), not abs() for floating point values.
d159986be4 Use fabs() for floating point values, not abs().  The latter causes truncation (cast to int) and generates a lot more code.
cb4e8144f4 Eliminate GPS::_error, as it's responsible for pulling in the old printf, which doesn't work anymore.  Fixing it's not worth the effort.
cce122d387 Moved APM_ADC to AP_ADC
386dab70f9 re-uploaded
66c553fc96 re-uploaded
8df8401b76 outdated - replaced with better RC_Channel class
cfae8490d5 Switch ArducopterNG to use AP_ADC library.
a6c315b6f1 AP_IMU modified to use AP_ADC, fixes HIL bugs.
da9ecf342c Updated AP_DCM to use AP_ADC, fixes HIL bugs.
7a3683e104 outdated - replaced with better RC_Channel class
e865622f66 Added generic ADC library.
607b86c9a2 Change roll, pitch, yaw to be public verus private/accessors per Jason's request.
59a3087cb6 added control / nav mixing
0fd1228e27 Add ::peek for compatibility with trunk Arduino.
73eab31d0c Shrink the ctor slightly more
e699812af4 Don't zero fields in the ctor that can be zeroed by reset_I; the code gets replicated for every static instance of the class, which is obscene.
0f9ac71e6a HIL debugging AP_DCM
51696e63af HIL debugging APM_ADC
929be190fd Changed from float to int16_t for HIL.
001d831359 Synced with mavlink master.
9a45c2babc Re-type delta t, explicitly size error args to get_pid.
f04e58c6b3 Added default scalar of 1 to PID.
b0fbe39459 Remove spurious scaling
342b759fea Move the eeprom.h include out of the header, it's not needed there.
52abef58d5 More syntax, etc. fixes.  Compiles OK now.
dc40ee00ae Fix accessors, _RC
264cca6d24 With apologies to Jason for breaking his branch, clean this up and document it.
3ca85f94d4 Checked for dt>0 in PID and modified ctor
7598c02f51 Added load/save gain overloads for float arrays to PID, supports mavlink style gain get/set now
00e7f9b6d0 Added lowpass filter on PID lib derivative calc
dc16a2961d git-svn-id: https://arducopter.googlecode.com/svn/trunk@926 f9c3cf11-9bcb-44bc-f272-b75c42450872
7582353b08 Library wrapper for MAVLink protocol bits.
0037b40329 Rename to make it a little more clear that this is a GCS-related library for the MAVLink protocol.
cdd9a22322 Adding mavlink library (master  5e560f7d76e4a4f431b9b296e7b199899b899145)
70baf31139 Resurrect lf -> crlf translation that was lost when I dropped the stdio support.
a468abcdbf Add a better workaround for a GCC bug that generates spurious warnings for PSTR()
aa2bbe9131 A better workaround for the PSTR warning bug.  This seems to work correctly.
2dfb44907f Add a test case for printf_P
13d586dd01 Debugging HIL classes.
9331f8616c Fixed several HIL class bugs.
c473af0082 Back out the "workaround" for PSTR() warnings; it doesn't.
f345d5392f Back out the workaround for PSTR() warnings; it doesn't.
165711f028 ArduCopterNG - Added warning message to tell people not to switch AIRFRAME to HELI and then load to a QUAD because if they do, the engines will fire up to 50% during the initialisation sequence.
715cd4d3b0 ArduCopterNG: added TraditionalHeli support, changed G_dt to work in microseconds (Issue #37),
2eb714aa51 almost ready for use, still testing
2dd479ea62 almost ready for use, still testing
4fa2491adf This is a new Library for managing RC input channels which will replace the current way of storing RC input in Arrays and most of the Radio.pde tab
f30bf9cab7 Add format attributes to printf and printf_P.  The latter is a bit wishful as gcc isn't smart enough to deal with what PSTR does, but with some other hackery this can be used to generate useful warnings.
906239160d Add a workaround for a GCC bug that generates spurious warnings for PSTR()
5560f4fcf9 Attribute fix.
d759ee97c5 Fix this so that it compiles again.
43262a573f Bring in floating point support for BetterStream::printf, courtesy of the avr-libc implementation.
04364e90c0 Arducopter.h - fixed incorrect EEPROM address for cam_mode_ADR (and a few other variables after that)
ef6519e406 ArduCopterNG - small cosmetic change & small change to how Wire.begin is called (now only called once).  http://www.arduino.cc/en/Reference/WireBegin
3d80d7e580 APM_BMP085 - added InitialiseWireLib parameter to Init function.  This allows us to skip the Wire.begin which should only be called once.
39b86313a2 APM_Compass - added InitialiseWireLib parameter to Init function.  This allows us to skip the Wire.begin which should only be called once.
e930dacb4d AP_Math - initialise vector2 and vector3 x,y,z values to zero.  Doug found (and I confirmed) that if vectors or matrices were declared in a function (i.e. a local variable), they would often have non-zero values.  Global declarations don't have this problem - it's a C++ performance thing it seems.
e7eda28984 gps hold and baro updates
0eef05b734 Working on HIL for sensors.
391e4268c4 git-svn-id: https://arducopter.googlecode.com/svn/trunk@859 f9c3cf11-9bcb-44bc-f272-b75c42450872
f622222f4a Updated arducopter to instantiate sensor classes to accomodate new HIL classes.
e245b7c7b3 Added sensor level HIL support.
d2a2ee0fd8 More runtime magic; this time support required for static class objects at function scope.
71076dad27 Switched APM_RC to uint16_t from int16_t for radio channels to fix servo bug in APM trunk.
0e32cb34c5 bug fix, enhancements Now in a flyable state.
52ed7fac8c corrections to imu and dcm libs, addition of vector member to compass class for magnetic vector
04b893ea43 Added altitude control function based on sonar (not activated yet)
069422c086 Added altitude control function based on baro (not activated yet)
c0c28f8eae Recover 256 bytes of RAM by making the packet transmission code smarter.  Now we emit the packet directly from the procedure parameters, rather than wasting time and space packing it into a temporary buffer.
2e048125ef Fixed some bincomm errors.
ab1df51b5f Added navigation augmentation messages.
afb134b915 Added buffersize member to BinComm.
d8b3dd9aa1 Added some useful error messages.
9e6fcded41 Geographic_correction_factor is now internally calculated (no need for external parameter)
b839951ce5 Switched to generic servo output.
05ea4dce7d Yellow LED on when GPS position hold mode
0ce4e75c79 Some corrections on attitude file. Magnetometer tests
a771cbacc0 Added buffer overflow warning.
33a7d26846 Adding missing loop counter for menu.
687f5ebc00 Removed strlcpy.
bd205a48e8 GPS units that don't have 2 digits after decimal on heading and alt would cause serious math problem.
7dd853642c Fixed ack error.
3ec939888e Removed Serial references.
744d72ea2b Command upload functional.
d72c61b80a Setup bincomm auto acknowledge.
f28c752bbb Updated command parameters.
91caffaf95 Changed to 32bit alt.
e308f2410e Fixed yaw.
5207844480 Added 0x70, other minor changes.
bfaf2f2f9b Fix pack pragma usage
aec22fc639 Fix the idle timer.
9e7876fee7 Dangling comma
1049bf2153 Add init method so that the comms stream can be set after construction.
eb5f4d7d32 prepared support for Mode 1 & Mode 2 radios
6f70fddea4 work on progress, updated camera functions, rearranging module configs
a5cb22207a modified APM_PerfMon to display results sorted by %cpu
c9e7d227fe added APM_PerfMon library which can be used to track down performance bottlenecks
7b752babf0 checking in working copy to work on bad bug DO NOT ATTEMPT TO FLY
c833182dbe Duplicate include protection for BetterStream.h
c39639045c Default un-supplied command arguments to the empty string and zero rather than leaving them potentially un-initialised.  This makes it safe for commands to compare argument strings without adding the expense of checking argc first.
1adfde9ff6 fixed small typo that was stopping magnetometer initialisation code from being run.
8b2245acda More documentation.
b49032d9ea Changes to DCM and IMU libraries to put accel into m/s^2 units
288c61fcce preparing for camera stabilization features
1ece81342b PowerDistro -PCB layer files
4a07a3c09d preparing for automatic calibration via CLI
7f4137569b Added orientations for Sparkfun magnetometer. Also corrected some typos in the orientations for the DIYDrones mag.
b853247c08 preparing for camera mounts
e7b26da27d A simple OO PID library
610609f98d Delete obsolete / incomplete DCM library.
a80eb66e77 fix bugs from factoring imu object. Tested & working - integration and roll/pitch drift correction Untested - yaw drift correction and centrepetal comp
6272955567 small correction to imu lib
de51162e81 Correct file references for repository
489365e7fc Add IMU library
3e30d2566d Add DCM library
271d4736a8 Factor the Stream-related enhancements out from FastSerial proper, so that we could use them on other Stream subclasses if that seemed worthwhile.
8eeb81f792 reduced APM_Compass library RAM and code footprint
74674b638b flight orientation selection by DIP1 switch
f5cd4e45f9 CLI and magneto initializations
ede3a46cf1 cleaning up and preparing for CLI
669bde1e45 preparing for DIP switch functions
84697f4111 Fix ::printf_P to transmit to the correct interface.  Fixes the XBee test.
502b6ee0f7 Teach the compass init code how to detect whether there is a compass present at all.  This lets systems where it's optional decide whether to try to use it or not...
2e5be5d86b Revert the MTK GPS driver to only claiming a fix when the GPS has a 3D solution, per discussion with Paul.
35b754bbae Xbee/Ser0 telemetry ports are working again
455e315a1a updated serial port defs
ee105a0ebf The previous initialisation strategy for auto-detection doesn't play well with the way APM uses the GPS.
ca6d51cddb If ::begin() is called on a port that is already open, preserve the previous buffer settings.  This makes it easy to change serial speeds without having to know how the port buffers were set up originally.
0a94520682 Add support for automatically detecting the connected GPS and configuring accordingly.
079dd3c617 Changes to accommodate blinking lights and loss of GPS commands. Tested with NMEA, uBlox, Sirf and MTK. Does not function correctly with rmack's changes to APM_Compass posted 10/17/2010 (I don't know why).
23ccff2ccd Add support for 'new' and 'delete', so we can cons things on the fly.
24202b7c46 added call to APM_Compass.SetOffsets.  This is just to make it easier for people to figure out how to set the values.
e29ea04fb1 fixed bug in APM_compass Init method (MagGain should be sent to ConfigRegB).  Also repeats calibration if invalid values received from compass.
614d43c905 git-svn-id: https://arducopter.googlecode.com/svn/trunk@665 f9c3cf11-9bcb-44bc-f272-b75c42450872
0bbc8651e4 Added #defines for PMTK commands
d7e71b602c Fixed issue with comma parsing (space after comma was causing routine to misread data) Added init functions (PMTK)
778c68d5ef Some bug corrections on startup
b7ecadf982 Added limit to errorYaw in DCM to prevent I term to grow too much
6baf85d880 CalibrateSensors update. Some cleanups...
7667214987 Corrected bug on yaw sensor sign
af74cb32c5 Main loop organization. NOT WORKING YET
cca79ba0db Radio functions in Radio.pde
c32ebdd2f5 Update ArduUser.h, EEPROM.pde and GCS.pde
dc13c7320a Added LOG_PID_MSG to log.pde
018e8efc00 System.pde update
0540bbbe28 Start ArducopterNG update
5c18e5a185 incorporated Jose's magnetometer offset code into APM_Compass library so added a call to set the mag's declination (just to make it easier for people to add).
3c00a92d14 incorporated Jose's offset code into main compass library.
c5155aa623 Add servo output message, fixes issue #163
c03d4e34c5 updated yaw sensor indicator, created installer
fbd117326b removed visual references to AeroQuad, inverted yaw transmitter indicator
58c1714bd3 Add more documentation to the Menu class.
e7d4273d52 ported John's compass calibration code to trunk. also added 45 deg angles to orientation matrices to allow more flexibility in mounting the compass to the APM frame.
4e91c0c7d6 Fix AP_Math include.
0f5d01b563 added magnetometer orientation functionality to APM_Compass which requires small change to ArduCopter.pde to include AP_Math.
16df19a26d added magnetometer orientation functionality to APM_Compass
5ba0c7328f Hook up stdio input, for the heck of it.  We seem to be moving away from it, but there are things it can do that are hard to do with the Stream interfaces.
6838829428 Use strtok_r rather than strtok.  Saves a stack frame, two bytes of global, and fixes backwards compatibility with older avr-libc versions.
4b09c9fade Fell asleep before committing these, oops.
8708675b1f added constructor with 9 elements to matrix3.h corrected matrix * vector function.
d45f67b3ef Add a carriage return before printing a newline when we are called as stdout/stderr.
e2184615d9 Change the way pre-prompt printing works to avoid having to deal with "magic" menu entries.
064dda10bf Provide an easy way to print stuff before displaying the prompt.
eb6113e685 Add a simple commandline menu library.
7721e622aa Rather than subclassing from the templated classes, just typedef directly to them.
f72129bdb3 Clean up the bitrate calculations per the Atmel datasheet.
15e6469ca9 added downcasting to MATRIX3_CTORS.  this fixes some problems with setting the results from a formula to a variable (i..e m1 = m2*2).
b3e1b6c57d minor corrections to the operator *= and constructor so that matrix can be more easily created from vector objects
34aa823003 Bug fixes for EM-406
ac2e14c4ec Remove a bunch of probably wrong const cruft.  Ditch the dubious array index operators from vector2.
815e5f871a Remove the trivial operator= implementations, the default shallow copy is fine.
646045ef44 Some minor fixes prompted while looking at the code for other reasons.
9db013e648 Stop trying to be so clever in the tx interrupt handler.  We may race with the code stuffing bytes into the ring such that we consume the last byte and empty the ring before they set the UDRE interrupt.
6d31545b8d Per Jose, fix the interrupt vectors to work for non-1280-based Arduino.
9d8ea2563f refactoring of code beginning
241fd41289 fixed issue #34 from issues list regarding incredibly minor issue in keywords.txt.  Also fixed a spelling mistake and removed the "n" from Jordi's name that causes Arduino IDE to complain about non-standard characters.
6fa92cc299 still unstable
d342f7582d Update to Stable mode function to limit the maximun output value. This prevents to enter in unstable state if there are a big external perturbation.
6cf2d1e86e better error wrapping
b9f8b6727d Made ground course from Xplane an unsigned int.
0f53cc4c8e Add a guard ifdef to catch folks trying to build APM with the wrong board selected.
b0d81d3b68 git-svn-id: https://arducopter.googlecode.com/svn/trunk@514 f9c3cf11-9bcb-44bc-f272-b75c42450872
11865c1718 Remove the method call from the interrupt handlers.  This brings the rx and tx interrupt paths down to < 60 instructions worst case, or ~4us.
813b67cb5e starting migration of functions
1f7f814183 Spell 'latitude'.
2f39f95556 Fix class def to match implementation.
3ea33576f6 Add twitch_servos required by ArduPilot.
29ba4b8be1 Forgot to include the IMU GPS emulator, breaking X-Plane
f4b024f194 changed read_pwm to read
b7778b2ad9 Returned channel read order to the original order
dc85377587 Don't count on things including <stdint.h> before AP_Common.h.
10f3a6f9cb Drop a couple things in here in support of code moving to libraries.
8a4b060873 correct typo
72d031b4b5 Reorder the channels Fix overflow issue
80bc831363 Reinstate the ground course filter for the not-really-suppored SiRF GPS.
a610577701 updated software version number
837c183922 Fixed GPS activation issue, Serial/Serial3 selection and new automatic mode switch feature
dff31e7dde git-svn-id: https://arducopter.googlecode.com/svn/trunk@444 f9c3cf11-9bcb-44bc-f272-b75c42450872
63ae72648e Commented out AP_Common, which is not implemented yet.
b918f21567 Replace the questionable rotation operation with a conventional transposition.
097161cd8d Beginnings of a math library for ArduPilot(Mega) systems.
ffa25b0846 Fix the MTK test to use the same baud rate that APM does.
f665e944f0 Add a single header for the library that brings in declarations for all of the GPS types supported by the library.
31ab494aaa Jason's GPS_None pointed out a few changes that in turn drastically simplify it.
dd8c883995 git-svn-id: https://arducopter.googlecode.com/svn/trunk@430 f9c3cf11-9bcb-44bc-f272-b75c42450872
fd42ef7225 git-svn-id: https://arducopter.googlecode.com/svn/trunk@429 f9c3cf11-9bcb-44bc-f272-b75c42450872
66a45523d6 don't fly
a496ef2b17 don't fly
5dc67ce6c6 don't fly
6268189d31 Dynamically allocate serial buffers at ::begin time.  Allow buffer sizes to be dynamically set.
ba021b5fe8 Remove a diagnostic I missed.
c6ceb85c21 Refactor the EM-406 support into a 406-specific init routine and a generic SiRF parser.
c981b7d0b0 Rework the u-blox driver.
a83f663942 Private member naming
3e1cd1ea2e Set native line endings on checkout to help avoid confusion.
7e345e027c Push server-native line endings.
add89239f3 Rework the MTK protocol decoder for robustness and code size.
1dd4bc9080 Fix MTK lat/lon scaling.
63d1cf06c1 Fix the GPS port for MediaTek tests.
ed24b47fb3 Decouple BinComm from FastSerial, now that we can use Stream instead.
96a80f1c66 Cleanup.
6b6637bd06 Omit the ::write method, as Print already implements it.
46c203e36c added servo_in
20987c1b89 added servo_in
4b762bf933 New MTK codes
d68cde2571 New MTK codes
11e896b64c DCM Lib - unstable
3d508f1a74 blah
daca3c3de0 git-svn-id: https://arducopter.googlecode.com/svn/trunk@396 f9c3cf11-9bcb-44bc-f272-b75c42450872
009ef940c6 Update to take advantage of the new Stream class in Arduino 0019.
2913b74b3a Repaired EM-406 library corrected units on MTK test program
eb7b9f6d6e corrected units on MTK test program
82052f95af git-svn-id: https://arducopter.googlecode.com/svn/trunk@380 f9c3cf11-9bcb-44bc-f272-b75c42450872
a18d0af3d1 git-svn-id: https://arducopter.googlecode.com/svn/trunk@379 f9c3cf11-9bcb-44bc-f272-b75c42450872
fe0ba2bb29 correct configuration bug and change values of Fix to be consistent with ublox and APM
40a9335e1a correct configuration bug and change values of Fix to be consistent with ublox and APM
d6fc9650a4 New Stable mode implementation. Fixed yaw issue. GPS position hold update. Acrobatic mode update to use bias corrected gyro rates.
e0be94a03f Change the way the port declaration macros work.  This saves ~300 bytes by shrinking the constructor.
116bd22aa7 406 lib - needs help
a0e38161df added dont_use empty file
8987b4d12e git-svn-id: https://arducopter.googlecode.com/svn/trunk@356 f9c3cf11-9bcb-44bc-f272-b75c42450872
22c9ed317e Change the way that FastSerial ports are created, so that we can avoid creating port drivers for ports that aren't used.
3db966f378 Added missing #endif at end of GPS_IMU.h
11ccbb9ed7 added ground_course 0-36000 for Ardupilot
a8b995ae1a fixed text encoding
a81fad58b8 git-svn-id: https://arducopter.googlecode.com/svn/trunk@351 f9c3cf11-9bcb-44bc-f272-b75c42450872
82bf0446ce git-svn-id: https://arducopter.googlecode.com/svn/trunk@350 f9c3cf11-9bcb-44bc-f272-b75c42450872
5f459b1220 git-svn-id: https://arducopter.googlecode.com/svn/trunk@349 f9c3cf11-9bcb-44bc-f272-b75c42450872
2ca8ac7259 added ground_course in proper 0-360 degrees * 100 for Ardupilot
cf7eefd94b new Compass Lib
e27e8a0e94 New Navigation Lib
785162ee8d New GPS Lib
557b4bcded New Compass Lib
4f02edac51 New GPS Lib
4625fb64b6 Added the Binary command
7d5fbed772 Added GPS_IMY
68ba755660 added README to ArducopterNG folder
eaf6488fb3 renamed Arducopter.pde to ArducoptreNG.pde
93bcda0518 New ArducopterNG architecture
bd2ba2fcc9 Fix this so that it compiles.
b4a840a336 Add 'extern' definitions to legitimise clients that want to assume that Serial* always exists.
71efe28851 Library implementing the lower layers of the APM binary communications protocol.
884098b74d cleanup
673c547d91 Seems to be an error in the MTK scaling of Lat and Long!!
241b710001 updates - Ublox now working
d681c067a1 Throttle check for initial motor startup
aef969bbb6 added changes to fix yaw orientation for sensor output and transmitter config
26f8fb800f changed SENSOR_SIGN to match Jani's setup, updated limits to arm/disarm motors from transmitter, removed #define for Jani's frame (will just use his setup), updated X mode motor control to match new gyro setup
bb2f1dfcc1 New Libraries
2c6e096a3b New Libraries
55621d583d made trims part of init.
267ac3cc6a New RC lib for 328
69833ebcd5 accidentally deleted
3565a54bf2 git-svn-id: https://arducopter.googlecode.com/svn/trunk@282 f9c3cf11-9bcb-44bc-f272-b75c42450872
a65098f055 git-svn-id: https://arducopter.googlecode.com/svn/trunk@281 f9c3cf11-9bcb-44bc-f272-b75c42450872
61179ba90f Ardupilot Hardware RC Library for the 328
6215ad2471 Ardupilot Hardware RC Library for the 328
6eb2dc1301 Ardupilot Hardware RC Library for the 328
742d0ceef2 Ardupilot Hardware RC Library for the 328
6074c410d9 "Fast" serial driver that fully overrides the Arduino-provided HardwareSerial/Serial* driver.
f711db0e0a Flight tested versions.  Closed out Issues #8, #9, #21.  Ready for 3rd party verification.
c99be7e0ca Flight tested transmitter cal.  Yaw is OK. Acro Mode OK.  Flew Stable Mode OK.
92fd459504 adding missing sensors.pde file
36628eeb06 cleaning up code and adding functions from APM main code
12d54e7e72 moved default value config to UserConfig.h, added transmitter cal code, critical part currently commented out until testing completed.
085f0741a8 adding info text to frame folder
13f8f8ef11 Corrected bug on GPS position hold (added GPS_Dt for D and I terms of the control). Separated navigation.pde file.
c0e5fa9908 Added GetWritePage()
c58d9577ae corrected altitude scaling
f0776a962d sercom based channel mid calibrations
5e976861e8 fixed incorrect ini filename
fb720995cd Added transmitter cal back in, changed Transmitter Factor label to Kp Rate
a5b5692596 Rearranging variables and new header files
4d1cbc1cca New version of APM_FastSerial library
67a19893e7 Fixed typos:
2fdceb1b78 AM Mode, Green LED optimization
84fb1f015d Added APM_FastSerial library for fast serial output
83c5e06025 Now for Arming/Disarming motors you should wait 2 seconds (security feature to prevent disarming during flight)
4af9be6e85 New stable mode parameter compatible with configurator
dfa605b00b IMU performance enhancements and stable mode update
53a575c69c git-svn-id: https://arducopter.googlecode.com/svn/trunk@58 f9c3cf11-9bcb-44bc-f272-b75c42450872
dcc9c20f15 correct ground_course scaling error
2648385eb9 Move to proper folder
935d990488 Fixed inverted ELEVATOR on Acro mode
67d31dc9c8 adding Configurator to trunk
2db587909d made default flight mode + config
ca21fc01ee changed transmitter pitch direction back to how Jose had it
00dde93d5a git-svn-id: https://arducopter.googlecode.com/svn/trunk@48 f9c3cf11-9bcb-44bc-f272-b75c42450872
8896b7e15e git-svn-id: https://arducopter.googlecode.com/svn/trunk@47 f9c3cf11-9bcb-44bc-f272-b75c42450872
b61acbfbab fixed motor arming, fixed sign for pitch control from transmitter
c0edb56fef fixed throttle range for motor arming, removed negative sign for roll in acro mode now that APM orientation is decided
8a82413080 Correct FOR loop that didn't get to channel 8
1a8856d0d5 New version from Teds Mikro branch. Added InstantPWM.
830fa2b104 Adjusted IMU gains and Accelerometers dynamic weighting
015b2599c6 Corrected bug on AccelVector and magnetometer support
3976200f50 First version. This is the "core" of the project and libraries.
8af9e5e867 Initial directory structure.
